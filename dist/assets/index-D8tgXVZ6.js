var l2=Object.defineProperty;var u2=(t,e,n)=>e in t?l2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var De=(t,e,n)=>u2(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function km(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const St={},Ws=[],Ar=()=>{},c2=()=>!1,Ed=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xm=t=>t.startsWith("onUpdate:"),tn=Object.assign,Im=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},d2=Object.prototype.hasOwnProperty,ut=(t,e)=>d2.call(t,e),Be=Array.isArray,Ys=t=>su(t)==="[object Map]",Aa=t=>su(t)==="[object Set]",Bv=t=>su(t)==="[object Date]",Je=t=>typeof t=="function",Nt=t=>typeof t=="string",Li=t=>typeof t=="symbol",Tt=t=>t!==null&&typeof t=="object",h1=t=>(Tt(t)||Je(t))&&Je(t.then)&&Je(t.catch),p1=Object.prototype.toString,su=t=>p1.call(t),f2=t=>su(t).slice(8,-1),m1=t=>su(t)==="[object Object]",Sm=t=>Nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ul=km(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Td=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},h2=/-(\w)/g,vi=Td(t=>t.replace(h2,(e,n)=>n?n.toUpperCase():"")),p2=/\B([A-Z])/g,vs=Td(t=>t.replace(p2,"-$1").toLowerCase()),Ad=Td(t=>t.charAt(0).toUpperCase()+t.slice(1)),bh=Td(t=>t?`on${Ad(t)}`:""),wo=(t,e)=>!Object.is(t,e),mc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},g1=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Mc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},m2=t=>{const e=Nt(t)?Number(t):NaN;return isNaN(e)?t:e};let jv;const v1=()=>jv||(jv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pn(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Nt(r)?_2(r):pn(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Nt(t)||Tt(t))return t}const g2=/;(?![^(]*\))/g,v2=/:([^]+)/,y2=/\/\*[^]*?\*\//g;function _2(t){const e={};return t.replace(y2,"").split(g2).forEach(n=>{if(n){const r=n.split(v2);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ke(t){let e="";if(Nt(t))e=t;else if(Be(t))for(let n=0;n<t.length;n++){const r=Ke(t[n]);r&&(e+=r+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function mn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Nt(e)&&(t.class=Ke(e)),n&&(t.style=pn(n)),t}const b2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",w2=km(b2);function y1(t){return!!t||t===""}function E2(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=au(t[r],e[r]);return n}function au(t,e){if(t===e)return!0;let n=Bv(t),r=Bv(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Li(t),r=Li(e),n||r)return t===e;if(n=Be(t),r=Be(e),n||r)return n&&r?E2(t,e):!1;if(n=Tt(t),r=Tt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!au(t[s],e[s]))return!1}}return String(t)===String(e)}function Rm(t,e){return t.findIndex(n=>au(n,e))}const xe=t=>Nt(t)?t:t==null?"":Be(t)||Tt(t)&&(t.toString===p1||!Je(t.toString))?JSON.stringify(t,_1,2):String(t),_1=(t,e)=>e&&e.__v_isRef?_1(t,e.value):Ys(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[wh(r,o)+" =>"]=i,n),{})}:Aa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>wh(n))}:Li(e)?wh(e):Tt(e)&&!Be(e)&&!m1(e)?String(e):e,wh=(t,e="")=>{var n;return Li(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pr;class b1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pr,!e&&pr&&(this.index=(pr.scopes||(pr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=pr;try{return pr=this,e()}finally{pr=n}}}on(){pr=this}off(){pr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function T2(t){return new b1(t)}function A2(t,e=pr){e&&e.active&&e.effects.push(t)}function w1(){return pr}function k2(t){pr&&pr.cleanups.push(t)}let rs;class Om{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,A2(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,So();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(x2(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ro()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ho,n=rs;try{return ho=!0,rs=this,this._runnings++,qv(this),this.fn()}finally{Hv(this),this._runnings--,rs=n,ho=e}}stop(){this.active&&(qv(this),Hv(this),this.onStop&&this.onStop(),this.active=!1)}}function x2(t){return t.value}function qv(t){t._trackId++,t._depsLength=0}function Hv(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)E1(t.deps[e],t);t.deps.length=t._depsLength}}function E1(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ho=!0,_p=0;const T1=[];function So(){T1.push(ho),ho=!1}function Ro(){const t=T1.pop();ho=t===void 0?!0:t}function Pm(){_p++}function Cm(){for(_p--;!_p&&bp.length;)bp.shift()()}function A1(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&E1(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const bp=[];function k1(t,e,n){Pm();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&bp.push(r.scheduler)))}Cm()}const x1=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Nc=new WeakMap,is=Symbol(""),wp=Symbol("");function fr(t,e,n){if(ho&&rs){let r=Nc.get(t);r||Nc.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=x1(()=>r.delete(n))),A1(rs,i)}}function Di(t,e,n,r,i,o){const s=Nc.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&Be(t)){const l=Number(r);s.forEach((f,u)=>{(u==="length"||!Li(u)&&u>=l)&&a.push(f)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":Be(t)?Sm(n)&&a.push(s.get("length")):(a.push(s.get(is)),Ys(t)&&a.push(s.get(wp)));break;case"delete":Be(t)||(a.push(s.get(is)),Ys(t)&&a.push(s.get(wp)));break;case"set":Ys(t)&&a.push(s.get(is));break}Pm();for(const l of a)l&&k1(l,4);Cm()}function I2(t,e){const n=Nc.get(t);return n&&n.get(e)}const S2=km("__proto__,__v_isRef,__isVue"),I1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Li)),zv=R2();function R2(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=dt(this);for(let o=0,s=this.length;o<s;o++)fr(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(dt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){So(),Pm();const r=dt(this)[e].apply(this,n);return Cm(),Ro(),r}}),t}function O2(t){Li(t)||(t=String(t));const e=dt(this);return fr(e,"has",t),e.hasOwnProperty(t)}class S1{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?q2:C1:o?P1:O1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=Be(e);if(!i){if(s&&ut(zv,n))return Reflect.get(zv,n,r);if(n==="hasOwnProperty")return O2}const a=Reflect.get(e,n,r);return(Li(n)?I1.has(n):S2(n))||(i||fr(e,"get",n),o)?a:gn(a)?s&&Sm(n)?a:a.value:Tt(a)?i?M1(a):Kr(a):a}}class R1 extends S1{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=Rl(o);if(!Lc(r)&&!Rl(r)&&(o=dt(o),r=dt(r)),!Be(e)&&gn(o)&&!gn(r))return l?!1:(o.value=r,!0)}const s=Be(e)&&Sm(n)?Number(n)<e.length:ut(e,n),a=Reflect.set(e,n,r,i);return e===dt(i)&&(s?wo(r,o)&&Di(e,"set",n,r):Di(e,"add",n,r)),a}deleteProperty(e,n){const r=ut(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Di(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Li(n)||!I1.has(n))&&fr(e,"has",n),r}ownKeys(e){return fr(e,"iterate",Be(e)?"length":is),Reflect.ownKeys(e)}}class P2 extends S1{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const C2=new R1,D2=new P2,M2=new R1(!0);const Dm=t=>t,kd=t=>Reflect.getPrototypeOf(t);function zu(t,e,n=!1,r=!1){t=t.__v_raw;const i=dt(t),o=dt(e);n||(wo(e,o)&&fr(i,"get",e),fr(i,"get",o));const{has:s}=kd(i),a=r?Dm:n?Lm:Ol;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Ku(t,e=!1){const n=this.__v_raw,r=dt(n),i=dt(t);return e||(wo(t,i)&&fr(r,"has",t),fr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Wu(t,e=!1){return t=t.__v_raw,!e&&fr(dt(t),"iterate",is),Reflect.get(t,"size",t)}function Kv(t){t=dt(t);const e=dt(this);return kd(e).has.call(e,t)||(e.add(t),Di(e,"add",t,t)),this}function Wv(t,e){e=dt(e);const n=dt(this),{has:r,get:i}=kd(n);let o=r.call(n,t);o||(t=dt(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?wo(e,s)&&Di(n,"set",t,e):Di(n,"add",t,e),this}function Yv(t){const e=dt(this),{has:n,get:r}=kd(e);let i=n.call(e,t);i||(t=dt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Di(e,"delete",t,void 0),o}function Gv(){const t=dt(this),e=t.size!==0,n=t.clear();return e&&Di(t,"clear",void 0,void 0),n}function Yu(t,e){return function(r,i){const o=this,s=o.__v_raw,a=dt(s),l=e?Dm:t?Lm:Ol;return!t&&fr(a,"iterate",is),s.forEach((f,u)=>r.call(i,l(f),l(u),o))}}function Gu(t,e,n){return function(...r){const i=this.__v_raw,o=dt(i),s=Ys(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,f=i[t](...r),u=n?Dm:e?Lm:Ol;return!e&&fr(o,"iterate",l?wp:is),{next(){const{value:d,done:c}=f.next();return c?{value:d,done:c}:{value:a?[u(d[0]),u(d[1])]:u(d),done:c}},[Symbol.iterator](){return this}}}}function Ki(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function N2(){const t={get(o){return zu(this,o)},get size(){return Wu(this)},has:Ku,add:Kv,set:Wv,delete:Yv,clear:Gv,forEach:Yu(!1,!1)},e={get(o){return zu(this,o,!1,!0)},get size(){return Wu(this)},has:Ku,add:Kv,set:Wv,delete:Yv,clear:Gv,forEach:Yu(!1,!0)},n={get(o){return zu(this,o,!0)},get size(){return Wu(this,!0)},has(o){return Ku.call(this,o,!0)},add:Ki("add"),set:Ki("set"),delete:Ki("delete"),clear:Ki("clear"),forEach:Yu(!0,!1)},r={get(o){return zu(this,o,!0,!0)},get size(){return Wu(this,!0)},has(o){return Ku.call(this,o,!0)},add:Ki("add"),set:Ki("set"),delete:Ki("delete"),clear:Ki("clear"),forEach:Yu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Gu(o,!1,!1),n[o]=Gu(o,!0,!1),e[o]=Gu(o,!1,!0),r[o]=Gu(o,!0,!0)}),[t,n,e,r]}const[L2,$2,V2,F2]=N2();function Mm(t,e){const n=e?t?F2:V2:t?$2:L2;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ut(n,i)&&i in r?n:r,i,o)}const U2={get:Mm(!1,!1)},B2={get:Mm(!1,!0)},j2={get:Mm(!0,!1)};const O1=new WeakMap,P1=new WeakMap,C1=new WeakMap,q2=new WeakMap;function H2(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function z2(t){return t.__v_skip||!Object.isExtensible(t)?0:H2(f2(t))}function Kr(t){return Rl(t)?t:Nm(t,!1,C2,U2,O1)}function D1(t){return Nm(t,!1,M2,B2,P1)}function M1(t){return Nm(t,!0,D2,j2,C1)}function Nm(t,e,n,r,i){if(!Tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=z2(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function cl(t){return Rl(t)?cl(t.__v_raw):!!(t&&t.__v_isReactive)}function Rl(t){return!!(t&&t.__v_isReadonly)}function Lc(t){return!!(t&&t.__v_isShallow)}function N1(t){return t?!!t.__v_raw:!1}function dt(t){const e=t&&t.__v_raw;return e?dt(e):t}function K2(t){return Object.isExtensible(t)&&g1(t,"__v_skip",!0),t}const Ol=t=>Tt(t)?Kr(t):t,Lm=t=>Tt(t)?M1(t):t;class L1{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Om(()=>e(this._value),()=>gc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=dt(this);return(!e._cacheable||e.effect.dirty)&&wo(e._value,e._value=e.effect.run())&&gc(e,4),$1(e),e.effect._dirtyLevel>=2&&gc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function W2(t,e,n=!1){let r,i;const o=Je(t);return o?(r=t,i=Ar):(r=t.get,i=t.set),new L1(r,i,o||!i,n)}function $1(t){var e;ho&&rs&&(t=dt(t),A1(rs,(e=t.dep)!=null?e:t.dep=x1(()=>t.dep=void 0,t instanceof L1?t:void 0)))}function gc(t,e=4,n){t=dt(t);const r=t.dep;r&&k1(r,e)}function gn(t){return!!(t&&t.__v_isRef===!0)}function he(t){return V1(t,!1)}function Y2(t){return V1(t,!0)}function V1(t,e){return gn(t)?t:new G2(t,e)}class G2{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:dt(e),this._value=n?e:Ol(e)}get value(){return $1(this),this._value}set value(e){const n=this.__v_isShallow||Lc(e)||Rl(e);e=n?e:dt(e),wo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ol(e),gc(this,4))}}function ae(t){return gn(t)?t.value:t}const Q2={get:(t,e,n)=>ae(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return gn(i)&&!gn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function F1(t){return cl(t)?t:new Proxy(t,Q2)}class X2{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return I2(dt(this._object),this._key)}}class J2{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Pl(t,e,n){return gn(t)?t:Je(t)?new J2(t):Tt(t)&&arguments.length>1?Z2(t,e,n):he(t)}function Z2(t,e,n){const r=t[e];return gn(r)?r:new X2(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function po(t,e,n,r){try{return r?t(...r):t()}catch(i){xd(i,e,n)}}function kr(t,e,n,r){if(Je(t)){const i=po(t,e,n,r);return i&&h1(i)&&i.catch(o=>{xd(o,e,n)}),i}if(Be(t)){const i=[];for(let o=0;o<t.length;o++)i.push(kr(t[o],e,n,r));return i}}function xd(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){So(),po(l,null,10,[t,s,a]),Ro();return}}ex(t,n,i,r)}function ex(t,e,n,r=!0){console.error(t)}let Cl=!1,Ep=!1;const qn=[];let ni=0;const Gs=[];let Zi=null,Yo=0;const U1=Promise.resolve();let $m=null;function Cn(t){const e=$m||U1;return t?e.then(this?t.bind(this):t):e}function tx(t){let e=ni+1,n=qn.length;for(;e<n;){const r=e+n>>>1,i=qn[r],o=Dl(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function Vm(t){(!qn.length||!qn.includes(t,Cl&&t.allowRecurse?ni+1:ni))&&(t.id==null?qn.push(t):qn.splice(tx(t.id),0,t),B1())}function B1(){!Cl&&!Ep&&(Ep=!0,$m=U1.then(q1))}function nx(t){const e=qn.indexOf(t);e>ni&&qn.splice(e,1)}function rx(t){Be(t)?Gs.push(...t):(!Zi||!Zi.includes(t,t.allowRecurse?Yo+1:Yo))&&Gs.push(t),B1()}function Qv(t,e,n=Cl?ni+1:0){for(;n<qn.length;n++){const r=qn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;qn.splice(n,1),n--,r()}}}function j1(t){if(Gs.length){const e=[...new Set(Gs)].sort((n,r)=>Dl(n)-Dl(r));if(Gs.length=0,Zi){Zi.push(...e);return}for(Zi=e,Yo=0;Yo<Zi.length;Yo++)Zi[Yo]();Zi=null,Yo=0}}const Dl=t=>t.id==null?1/0:t.id,ix=(t,e)=>{const n=Dl(t)-Dl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function q1(t){Ep=!1,Cl=!0,qn.sort(ix);try{for(ni=0;ni<qn.length;ni++){const e=qn[ni];e&&e.active!==!1&&po(e,null,14)}}finally{ni=0,qn.length=0,j1(),Cl=!1,$m=null,(qn.length||Gs.length)&&q1()}}function ox(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||St;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:c}=r[u]||St;c&&(i=n.map(h=>Nt(h)?h.trim():h)),d&&(i=n.map(Mc))}let a,l=r[a=bh(e)]||r[a=bh(vi(e))];!l&&o&&(l=r[a=bh(vs(e))]),l&&kr(l,t,6,i);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,kr(f,t,6,i)}}function H1(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Je(t)){const l=f=>{const u=H1(f,e,!0);u&&(a=!0,tn(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Tt(t)&&r.set(t,null),null):(Be(o)?o.forEach(l=>s[l]=null):tn(s,o),Tt(t)&&r.set(t,s),s)}function Id(t,e){return!t||!Ed(e)?!1:(e=e.slice(2).replace(/Once$/,""),ut(t,e[0].toLowerCase()+e.slice(1))||ut(t,vs(e))||ut(t,e))}let an=null,Sd=null;function $c(t){const e=an;return an=t,Sd=t&&t.type.__scopeId||null,e}function Rd(t){Sd=t}function Od(){Sd=null}function He(t,e=an,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&cy(-1);const o=$c(e);let s;try{s=t(...i)}finally{$c(o),r._d&&cy(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Eh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:f,renderCache:u,props:d,data:c,setupState:h,ctx:p,inheritAttrs:g}=t,y=$c(t);let v,_;try{if(n.shapeFlag&4){const m=i||r,w=m;v=ei(f.call(w,m,u,d,h,c,p)),_=a}else{const m=e;v=ei(m.length>1?m(d,{attrs:a,slots:s,emit:l}):m(d,null)),_=e.props?a:sx(a)}}catch(m){ml.length=0,xd(m,t,1),v=je(mr)}let b=v;if(_&&g!==!1){const m=Object.keys(_),{shapeFlag:w}=b;m.length&&w&7&&(o&&m.some(xm)&&(_=ax(_,o)),b=Eo(b,_,!1,!0))}return n.dirs&&(b=Eo(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,$c(y),v}const sx=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ed(n))&&((e||(e={}))[n]=t[n]);return e},ax=(t,e)=>{const n={};for(const r in t)(!xm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function lx(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Xv(r,s,f):!!s;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const c=u[d];if(s[c]!==r[c]&&!Id(f,c))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Xv(r,s,f):!0:!!s;return!1}function Xv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Id(n,o))return!0}return!1}function ux({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const z1="components";function Fm(t,e){return W1(z1,t,!0,e)||t}const K1=Symbol.for("v-ndc");function Pd(t){return Nt(t)?W1(z1,t,!1)||t:t||K1}function W1(t,e,n=!0,r=!1){const i=an||In;if(i){const o=i.type;{const a=rI(o,!1);if(a&&(a===e||a===vi(e)||a===Ad(vi(e))))return o}const s=Jv(i[t]||o[t],e)||Jv(i.appContext[t],e);return!s&&r?o:s}}function Jv(t,e){return t&&(t[e]||t[vi(e)]||t[Ad(vi(e))])}const cx=t=>t.__isSuspense;function dx(t,e){e&&e.pendingBranch?Be(t)?e.effects.push(...t):e.effects.push(t):rx(t)}const fx=Symbol.for("v-scx"),hx=()=>Lr(fx),Qu={};function en(t,e,n){return Y1(t,e,n)}function Y1(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:a}=St){if(e&&o){const k=e;e=(...S)=>{k(...S),w()}}const l=In,f=k=>r===!0?k:Qo(k,r===!1?1:void 0);let u,d=!1,c=!1;if(gn(t)?(u=()=>t.value,d=Lc(t)):cl(t)?(u=()=>f(t),d=!0):Be(t)?(c=!0,d=t.some(k=>cl(k)||Lc(k)),u=()=>t.map(k=>{if(gn(k))return k.value;if(cl(k))return f(k);if(Je(k))return po(k,l,2)})):Je(t)?e?u=()=>po(t,l,2):u=()=>(h&&h(),kr(t,l,3,[p])):u=Ar,e&&r){const k=u;u=()=>Qo(k())}let h,p=k=>{h=b.onStop=()=>{po(k,l,4),h=b.onStop=void 0}},g;if(Nd)if(p=Ar,e?n&&kr(e,l,3,[u(),c?[]:void 0,p]):u(),i==="sync"){const k=hx();g=k.__watcherHandles||(k.__watcherHandles=[])}else return Ar;let y=c?new Array(t.length).fill(Qu):Qu;const v=()=>{if(!(!b.active||!b.dirty))if(e){const k=b.run();(r||d||(c?k.some((S,E)=>wo(S,y[E])):wo(k,y)))&&(h&&h(),kr(e,l,3,[k,y===Qu?void 0:c&&y[0]===Qu?[]:y,p]),y=k)}else b.run()};v.allowRecurse=!!e;let _;i==="sync"?_=v:i==="post"?_=()=>ir(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),_=()=>Vm(v));const b=new Om(u,Ar,_),m=w1(),w=()=>{b.stop(),m&&Im(m.effects,b)};return e?n?v():y=b.run():i==="post"?ir(b.run.bind(b),l&&l.suspense):b.run(),g&&g.push(w),w}function px(t,e,n){const r=this.proxy,i=Nt(t)?t.includes(".")?G1(r,t):()=>r[t]:t.bind(r,r);let o;Je(e)?o=e:(o=e.handler,n=e);const s=lu(this),a=Y1(i,o.bind(r),n);return s(),a}function G1(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Qo(t,e=1/0,n){if(e<=0||!Tt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,gn(t))Qo(t.value,e,n);else if(Be(t))for(let r=0;r<t.length;r++)Qo(t[r],e,n);else if(Aa(t)||Ys(t))t.forEach(r=>{Qo(r,e,n)});else if(m1(t))for(const r in t)Qo(t[r],e,n);return t}function bt(t,e){if(an===null)return t;const n=Ld(an)||an.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=St]=e[i];o&&(Je(o)&&(o={mounted:o,updated:o}),o.deep&&Qo(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Bo(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(So(),kr(l,n,8,[t.el,a,t,e]),Ro())}}const eo=Symbol("_leaveCb"),Xu=Symbol("_enterCb");function mx(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gt(()=>{t.isMounted=!0}),Um(()=>{t.isUnmounting=!0}),t}const Er=[Function,Array],Q1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Er,onEnter:Er,onAfterEnter:Er,onEnterCancelled:Er,onBeforeLeave:Er,onLeave:Er,onAfterLeave:Er,onLeaveCancelled:Er,onBeforeAppear:Er,onAppear:Er,onAfterAppear:Er,onAppearCancelled:Er},gx={name:"BaseTransition",props:Q1,setup(t,{slots:e}){const n=gb(),r=mx();return()=>{const i=e.default&&J1(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const c of i)if(c.type!==mr){o=c;break}}const s=dt(t),{mode:a}=s;if(r.isLeaving)return Th(o);const l=Zv(o);if(!l)return Th(o);const f=Tp(l,s,r,n);Ap(l,f);const u=n.subTree,d=u&&Zv(u);if(d&&d.type!==mr&&!Go(l,d)){const c=Tp(d,s,r,n);if(Ap(d,c),a==="out-in"&&l.type!==mr)return r.isLeaving=!0,c.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Th(o);a==="in-out"&&l.type!==mr&&(c.delayLeave=(h,p,g)=>{const y=X1(r,d);y[String(d.key)]=d,h[eo]=()=>{p(),h[eo]=void 0,delete f.delayedLeave},f.delayedLeave=g})}return o}}},vx=gx;function X1(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Tp(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:u,onBeforeLeave:d,onLeave:c,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:v,onAppearCancelled:_}=e,b=String(t.key),m=X1(n,t),w=(E,I)=>{E&&kr(E,r,9,I)},k=(E,I)=>{const x=I[1];w(E,I),Be(E)?E.every(A=>A.length<=1)&&x():E.length<=1&&x()},S={mode:o,persisted:s,beforeEnter(E){let I=a;if(!n.isMounted)if(i)I=g||a;else return;E[eo]&&E[eo](!0);const x=m[b];x&&Go(t,x)&&x.el[eo]&&x.el[eo](),w(I,[E])},enter(E){let I=l,x=f,A=u;if(!n.isMounted)if(i)I=y||l,x=v||f,A=_||u;else return;let T=!1;const R=E[Xu]=N=>{T||(T=!0,N?w(A,[E]):w(x,[E]),S.delayedLeave&&S.delayedLeave(),E[Xu]=void 0)};I?k(I,[E,R]):R()},leave(E,I){const x=String(t.key);if(E[Xu]&&E[Xu](!0),n.isUnmounting)return I();w(d,[E]);let A=!1;const T=E[eo]=R=>{A||(A=!0,I(),R?w(p,[E]):w(h,[E]),E[eo]=void 0,m[x]===t&&delete m[x])};m[x]=t,c?k(c,[E,T]):T()},clone(E){return Tp(E,e,n,r)}};return S}function Th(t){if(Cd(t))return t=Eo(t),t.children=null,t}function Zv(t){if(!Cd(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Je(n.default))return n.default()}}function Ap(t,e){t.shapeFlag&6&&t.component?Ap(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function J1(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Oe?(s.patchFlag&128&&i++,r=r.concat(J1(s.children,e,a))):(e||s.type!==mr)&&r.push(a!=null?Eo(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Gt(t,e){return Je(t)?tn({name:t.name},e,{setup:t}):t}const dl=t=>!!t.type.__asyncLoader,Cd=t=>t.type.__isKeepAlive;function yx(t,e){Z1(t,"a",e)}function _x(t,e){Z1(t,"da",e)}function Z1(t,e,n=In){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Dd(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Cd(i.parent.vnode)&&bx(r,e,n,i),i=i.parent}}function bx(t,e,n,r){const i=Dd(e,t,r,!0);ka(()=>{Im(r[e],i)},n)}function Dd(t,e,n=In,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;So();const a=lu(n),l=kr(e,n,t,s);return a(),Ro(),l});return r?i.unshift(o):i.push(o),o}}const qi=t=>(e,n=In)=>(!Nd||t==="sp")&&Dd(t,(...r)=>e(...r),n),wx=qi("bm"),gt=qi("m"),eb=qi("bu"),Ex=qi("u"),Um=qi("bum"),ka=qi("um"),Tx=qi("sp"),Ax=qi("rtg"),kx=qi("rtc");function xx(t,e=In){Dd("ec",t,e)}function Qe(t,e,n,r){let i;const o=n;if(Be(t)||Nt(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o)}else if(Tt(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const f=s[a];i[a]=e(t[f],f,a,o)}}else i=[];return i}function Hn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Be(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Me(t,e,n={},r,i){if(an.isCE||an.parent&&dl(an.parent)&&an.parent.isCE)return e!=="default"&&(n.name=e),je("slot",n,r);let o=t[e];o&&o._c&&(o._d=!1),ie();const s=o&&tb(o(n)),a=Ue(Oe,{key:n.key||s&&s.key||`_${e}`},s||[],s&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function tb(t){return t.some(e=>Fc(e)?!(e.type===mr||e.type===Oe&&!tb(e.children)):!0)?t:null}const kp=t=>t?vb(t)?Ld(t)||t.proxy:kp(t.parent):null,fl=tn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kp(t.parent),$root:t=>kp(t.root),$emit:t=>t.emit,$options:t=>Bm(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Vm(t.update)}),$nextTick:t=>t.n||(t.n=Cn.bind(t.proxy)),$watch:t=>px.bind(t)}),Ah=(t,e)=>t!==St&&!t.__isScriptSetup&&ut(t,e),Ix={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Ah(r,e))return s[e]=1,r[e];if(i!==St&&ut(i,e))return s[e]=2,i[e];if((f=t.propsOptions[0])&&ut(f,e))return s[e]=3,o[e];if(n!==St&&ut(n,e))return s[e]=4,n[e];xp&&(s[e]=0)}}const u=fl[e];let d,c;if(u)return e==="$attrs"&&fr(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==St&&ut(n,e))return s[e]=4,n[e];if(c=l.config.globalProperties,ut(c,e))return c[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Ah(i,e)?(i[e]=n,!0):r!==St&&ut(r,e)?(r[e]=n,!0):ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==St&&ut(t,s)||Ah(e,s)||(a=o[0])&&ut(a,s)||ut(r,s)||ut(fl,s)||ut(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ys(){return Sx().slots}function Sx(){const t=gb();return t.setupContext||(t.setupContext=_b(t))}function ey(t){return Be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let xp=!0;function Rx(t){const e=Bm(t),n=t.proxy,r=t.ctx;xp=!1,e.beforeCreate&&ty(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:f,created:u,beforeMount:d,mounted:c,beforeUpdate:h,updated:p,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:_,destroyed:b,unmounted:m,render:w,renderTracked:k,renderTriggered:S,errorCaptured:E,serverPrefetch:I,expose:x,inheritAttrs:A,components:T,directives:R,filters:N}=e;if(f&&Ox(f,r,null),s)for(const P in s){const X=s[P];Je(X)&&(r[P]=X.bind(n))}if(i){const P=i.call(n,n);Tt(P)&&(t.data=Kr(P))}if(xp=!0,o)for(const P in o){const X=o[P],H=Je(X)?X.bind(n,n):Je(X.get)?X.get.bind(n,n):Ar,U=!Je(X)&&Je(X.set)?X.set.bind(n):Ar,$=ge({get:H,set:U});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>$.value,set:F=>$.value=F})}if(a)for(const P in a)nb(a[P],r,n,P);if(l){const P=Je(l)?l.call(n):l;Reflect.ownKeys(P).forEach(X=>{vc(X,P[X])})}u&&ty(u,t,"c");function O(P,X){Be(X)?X.forEach(H=>P(H.bind(n))):X&&P(X.bind(n))}if(O(wx,d),O(gt,c),O(eb,h),O(Ex,p),O(yx,g),O(_x,y),O(xx,E),O(kx,k),O(Ax,S),O(Um,_),O(ka,m),O(Tx,I),Be(x))if(x.length){const P=t.exposed||(t.exposed={});x.forEach(X=>{Object.defineProperty(P,X,{get:()=>n[X],set:H=>n[X]=H})})}else t.exposed||(t.exposed={});w&&t.render===Ar&&(t.render=w),A!=null&&(t.inheritAttrs=A),T&&(t.components=T),R&&(t.directives=R)}function Ox(t,e,n=Ar){Be(t)&&(t=Ip(t));for(const r in t){const i=t[r];let o;Tt(i)?"default"in i?o=Lr(i.from||r,i.default,!0):o=Lr(i.from||r):o=Lr(i),gn(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function ty(t,e,n){kr(Be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function nb(t,e,n,r){const i=r.includes(".")?G1(n,r):()=>n[r];if(Nt(t)){const o=e[t];Je(o)&&en(i,o)}else if(Je(t))en(i,t.bind(n));else if(Tt(t))if(Be(t))t.forEach(o=>nb(o,e,n,r));else{const o=Je(t.handler)?t.handler.bind(n):e[t.handler];Je(o)&&en(i,o,t)}}function Bm(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(f=>Vc(l,f,s,!0)),Vc(l,e,s)),Tt(e)&&o.set(e,l),l}function Vc(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Vc(t,o,n,!0),i&&i.forEach(s=>Vc(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=Px[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const Px={data:ny,props:ry,emits:ry,methods:tl,computed:tl,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:tl,directives:tl,watch:Dx,provide:ny,inject:Cx};function ny(t,e){return e?t?function(){return tn(Je(t)?t.call(this,this):t,Je(e)?e.call(this,this):e)}:e:t}function Cx(t,e){return tl(Ip(t),Ip(e))}function Ip(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Qn(t,e){return t?[...new Set([].concat(t,e))]:e}function tl(t,e){return t?tn(Object.create(null),t,e):e}function ry(t,e){return t?Be(t)&&Be(e)?[...new Set([...t,...e])]:tn(Object.create(null),ey(t),ey(e??{})):e}function Dx(t,e){if(!t)return e;if(!e)return t;const n=tn(Object.create(null),t);for(const r in e)n[r]=Qn(t[r],e[r]);return n}function rb(){return{app:null,config:{isNativeTag:c2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mx=0;function Nx(t,e){return function(r,i=null){Je(r)||(r=tn({},r)),i!=null&&!Tt(i)&&(i=null);const o=rb(),s=new WeakSet;let a=!1;const l=o.app={_uid:Mx++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:oI,get config(){return o.config},set config(f){},use(f,...u){return s.has(f)||(f&&Je(f.install)?(s.add(f),f.install(l,...u)):Je(f)&&(s.add(f),f(l,...u))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,u){return u?(o.components[f]=u,l):o.components[f]},directive(f,u){return u?(o.directives[f]=u,l):o.directives[f]},mount(f,u,d){if(!a){const c=je(r,i);return c.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(c,f):t(c,f,d),a=!0,l._container=f,f.__vue_app__=l,Ld(c.component)||c.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(f,u){return o.provides[f]=u,l},runWithContext(f){const u=hl;hl=l;try{return f()}finally{hl=u}}};return l}}let hl=null;function vc(t,e){if(In){let n=In.provides;const r=In.parent&&In.parent.provides;r===n&&(n=In.provides=Object.create(r)),n[t]=e}}function Lr(t,e,n=!1){const r=In||an;if(r||hl){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:hl._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Je(e)?e.call(r&&r.proxy):e}}const ib={},ob=()=>Object.create(ib),sb=t=>Object.getPrototypeOf(t)===ib;function Lx(t,e,n,r=!1){const i={},o=ob();t.propsDefaults=Object.create(null),ab(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:D1(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function $x(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=dt(i),[l]=t.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let c=u[d];if(Id(t.emitsOptions,c))continue;const h=e[c];if(l)if(ut(o,c))h!==o[c]&&(o[c]=h,f=!0);else{const p=vi(c);i[p]=Sp(l,a,p,h,t,!1)}else h!==o[c]&&(o[c]=h,f=!0)}}}else{ab(t,e,i,o)&&(f=!0);let u;for(const d in a)(!e||!ut(e,d)&&((u=vs(d))===d||!ut(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Sp(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!ut(e,d))&&(delete o[d],f=!0)}f&&Di(t.attrs,"set","")}function ab(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(ul(l))continue;const f=e[l];let u;i&&ut(i,u=vi(l))?!o||!o.includes(u)?n[u]=f:(a||(a={}))[u]=f:Id(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,s=!0)}if(o){const l=dt(n),f=a||St;for(let u=0;u<o.length;u++){const d=o[u];n[d]=Sp(i,l,d,f[d],t,!ut(f,d))}}return s}function Sp(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=ut(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Je(l)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const u=lu(i);r=f[n]=l.call(null,e),u()}}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===vs(n))&&(r=!0))}return r}function lb(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Je(t)){const u=d=>{l=!0;const[c,h]=lb(d,e,!0);tn(s,c),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Tt(t)&&r.set(t,Ws),Ws;if(Be(o))for(let u=0;u<o.length;u++){const d=vi(o[u]);iy(d)&&(s[d]=St)}else if(o)for(const u in o){const d=vi(u);if(iy(d)){const c=o[u],h=s[d]=Be(c)||Je(c)?{type:c}:tn({},c);if(h){const p=ay(Boolean,h.type),g=ay(String,h.type);h[0]=p>-1,h[1]=g<0||p<g,(p>-1||ut(h,"default"))&&a.push(d)}}}const f=[s,a];return Tt(t)&&r.set(t,f),f}function iy(t){return t[0]!=="$"&&!ul(t)}function oy(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function sy(t,e){return oy(t)===oy(e)}function ay(t,e){return Be(e)?e.findIndex(n=>sy(n,t)):Je(e)&&sy(e,t)?0:-1}const ub=t=>t[0]==="_"||t==="$stable",jm=t=>Be(t)?t.map(ei):[ei(t)],Vx=(t,e,n)=>{if(e._n)return e;const r=He((...i)=>jm(e(...i)),n);return r._c=!1,r},cb=(t,e,n)=>{const r=t._ctx;for(const i in t){if(ub(i))continue;const o=t[i];if(Je(o))e[i]=Vx(i,o,r);else if(o!=null){const s=jm(o);e[i]=()=>s}}},db=(t,e)=>{const n=jm(e);t.slots.default=()=>n},Fx=(t,e)=>{const n=t.slots=ob();if(t.vnode.shapeFlag&32){const r=e._;r?(tn(n,e),g1(n,"_",r,!0)):cb(e,n)}else e&&db(t,e)},Ux=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=St;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(tn(i,e),!n&&a===1&&delete i._):(o=!e.$stable,cb(e,i)),s=e}else e&&(db(t,e),s={default:1});if(o)for(const a in i)!ub(a)&&s[a]==null&&delete i[a]};function Rp(t,e,n,r,i=!1){if(Be(t)){t.forEach((c,h)=>Rp(c,e&&(Be(e)?e[h]:e),n,r,i));return}if(dl(r)&&!i)return;const o=r.shapeFlag&4?Ld(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t,f=e&&e.r,u=a.refs===St?a.refs={}:a.refs,d=a.setupState;if(f!=null&&f!==l&&(Nt(f)?(u[f]=null,ut(d,f)&&(d[f]=null)):gn(f)&&(f.value=null)),Je(l))po(l,a,12,[s,u]);else{const c=Nt(l),h=gn(l);if(c||h){const p=()=>{if(t.f){const g=c?ut(d,l)?d[l]:u[l]:l.value;i?Be(g)&&Im(g,o):Be(g)?g.includes(o)||g.push(o):c?(u[l]=[o],ut(d,l)&&(d[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else c?(u[l]=s,ut(d,l)&&(d[l]=s)):h&&(l.value=s,t.k&&(u[t.k]=s))};s?(p.id=-1,ir(p,n)):p()}}}const ir=dx;function Bx(t){return jx(t)}function jx(t,e){const n=v1();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:f,setElementText:u,parentNode:d,nextSibling:c,setScopeId:h=Ar,insertStaticContent:p}=t,g=(j,Q,G,de=null,q=null,W=null,te=void 0,ne=null,ce=!!Q.dynamicChildren)=>{if(j===Q)return;j&&!Go(j,Q)&&(de=V(j),F(j,q,W,!0),j=null),Q.patchFlag===-2&&(ce=!1,Q.dynamicChildren=null);const{type:re,ref:pe,shapeFlag:ve}=Q;switch(re){case Md:y(j,Q,G,de);break;case mr:v(j,Q,G,de);break;case yc:j==null&&_(Q,G,de,te);break;case Oe:T(j,Q,G,de,q,W,te,ne,ce);break;default:ve&1?w(j,Q,G,de,q,W,te,ne,ce):ve&6?R(j,Q,G,de,q,W,te,ne,ce):(ve&64||ve&128)&&re.process(j,Q,G,de,q,W,te,ne,ce,oe)}pe!=null&&q&&Rp(pe,j&&j.ref,W,Q||j,!Q)},y=(j,Q,G,de)=>{if(j==null)r(Q.el=a(Q.children),G,de);else{const q=Q.el=j.el;Q.children!==j.children&&f(q,Q.children)}},v=(j,Q,G,de)=>{j==null?r(Q.el=l(Q.children||""),G,de):Q.el=j.el},_=(j,Q,G,de)=>{[j.el,j.anchor]=p(j.children,Q,G,de,j.el,j.anchor)},b=({el:j,anchor:Q},G,de)=>{let q;for(;j&&j!==Q;)q=c(j),r(j,G,de),j=q;r(Q,G,de)},m=({el:j,anchor:Q})=>{let G;for(;j&&j!==Q;)G=c(j),i(j),j=G;i(Q)},w=(j,Q,G,de,q,W,te,ne,ce)=>{Q.type==="svg"?te="svg":Q.type==="math"&&(te="mathml"),j==null?k(Q,G,de,q,W,te,ne,ce):I(j,Q,q,W,te,ne,ce)},k=(j,Q,G,de,q,W,te,ne)=>{let ce,re;const{props:pe,shapeFlag:ve,transition:be,dirs:Ie}=j;if(ce=j.el=s(j.type,W,pe&&pe.is,pe),ve&8?u(ce,j.children):ve&16&&E(j.children,ce,null,de,q,kh(j,W),te,ne),Ie&&Bo(j,null,de,"created"),S(ce,j,j.scopeId,te,de),pe){for(const Re in pe)Re!=="value"&&!ul(Re)&&o(ce,Re,null,pe[Re],W,j.children,de,q,B);"value"in pe&&o(ce,"value",null,pe.value,W),(re=pe.onVnodeBeforeMount)&&Zr(re,de,j)}Ie&&Bo(j,null,de,"beforeMount");const Ne=qx(q,be);Ne&&be.beforeEnter(ce),r(ce,Q,G),((re=pe&&pe.onVnodeMounted)||Ne||Ie)&&ir(()=>{re&&Zr(re,de,j),Ne&&be.enter(ce),Ie&&Bo(j,null,de,"mounted")},q)},S=(j,Q,G,de,q)=>{if(G&&h(j,G),de)for(let W=0;W<de.length;W++)h(j,de[W]);if(q){let W=q.subTree;if(Q===W){const te=q.vnode;S(j,te,te.scopeId,te.slotScopeIds,q.parent)}}},E=(j,Q,G,de,q,W,te,ne,ce=0)=>{for(let re=ce;re<j.length;re++){const pe=j[re]=ne?to(j[re]):ei(j[re]);g(null,pe,Q,G,de,q,W,te,ne)}},I=(j,Q,G,de,q,W,te)=>{const ne=Q.el=j.el;let{patchFlag:ce,dynamicChildren:re,dirs:pe}=Q;ce|=j.patchFlag&16;const ve=j.props||St,be=Q.props||St;let Ie;if(G&&jo(G,!1),(Ie=be.onVnodeBeforeUpdate)&&Zr(Ie,G,Q,j),pe&&Bo(Q,j,G,"beforeUpdate"),G&&jo(G,!0),re?x(j.dynamicChildren,re,ne,G,de,kh(Q,q),W):te||X(j,Q,ne,null,G,de,kh(Q,q),W,!1),ce>0){if(ce&16)A(ne,Q,ve,be,G,de,q);else if(ce&2&&ve.class!==be.class&&o(ne,"class",null,be.class,q),ce&4&&o(ne,"style",ve.style,be.style,q),ce&8){const Ne=Q.dynamicProps;for(let Re=0;Re<Ne.length;Re++){const Ye=Ne[Re],Ce=ve[Ye],tt=be[Ye];(tt!==Ce||Ye==="value")&&o(ne,Ye,Ce,tt,q,j.children,G,de,B)}}ce&1&&j.children!==Q.children&&u(ne,Q.children)}else!te&&re==null&&A(ne,Q,ve,be,G,de,q);((Ie=be.onVnodeUpdated)||pe)&&ir(()=>{Ie&&Zr(Ie,G,Q,j),pe&&Bo(Q,j,G,"updated")},de)},x=(j,Q,G,de,q,W,te)=>{for(let ne=0;ne<Q.length;ne++){const ce=j[ne],re=Q[ne],pe=ce.el&&(ce.type===Oe||!Go(ce,re)||ce.shapeFlag&70)?d(ce.el):G;g(ce,re,pe,null,de,q,W,te,!0)}},A=(j,Q,G,de,q,W,te)=>{if(G!==de){if(G!==St)for(const ne in G)!ul(ne)&&!(ne in de)&&o(j,ne,G[ne],null,te,Q.children,q,W,B);for(const ne in de){if(ul(ne))continue;const ce=de[ne],re=G[ne];ce!==re&&ne!=="value"&&o(j,ne,re,ce,te,Q.children,q,W,B)}"value"in de&&o(j,"value",G.value,de.value,te)}},T=(j,Q,G,de,q,W,te,ne,ce)=>{const re=Q.el=j?j.el:a(""),pe=Q.anchor=j?j.anchor:a("");let{patchFlag:ve,dynamicChildren:be,slotScopeIds:Ie}=Q;Ie&&(ne=ne?ne.concat(Ie):Ie),j==null?(r(re,G,de),r(pe,G,de),E(Q.children||[],G,pe,q,W,te,ne,ce)):ve>0&&ve&64&&be&&j.dynamicChildren?(x(j.dynamicChildren,be,G,q,W,te,ne),(Q.key!=null||q&&Q===q.subTree)&&qm(j,Q,!0)):X(j,Q,G,pe,q,W,te,ne,ce)},R=(j,Q,G,de,q,W,te,ne,ce)=>{Q.slotScopeIds=ne,j==null?Q.shapeFlag&512?q.ctx.activate(Q,G,de,te,ce):N(Q,G,de,q,W,te,ce):C(j,Q,ce)},N=(j,Q,G,de,q,W,te)=>{const ne=j.component=Zx(j,de,q);if(Cd(j)&&(ne.ctx.renderer=oe),eI(ne),ne.asyncDep){if(q&&q.registerDep(ne,O),!j.el){const ce=ne.subTree=je(mr);v(null,ce,Q,G)}}else O(ne,j,Q,G,q,W,te)},C=(j,Q,G)=>{const de=Q.component=j.component;if(lx(j,Q,G))if(de.asyncDep&&!de.asyncResolved){P(de,Q,G);return}else de.next=Q,nx(de.update),de.effect.dirty=!0,de.update();else Q.el=j.el,de.vnode=Q},O=(j,Q,G,de,q,W,te)=>{const ne=()=>{if(j.isMounted){let{next:pe,bu:ve,u:be,parent:Ie,vnode:Ne}=j;{const Et=fb(j);if(Et){pe&&(pe.el=Ne.el,P(j,pe,te)),Et.asyncDep.then(()=>{j.isUnmounted||ne()});return}}let Re=pe,Ye;jo(j,!1),pe?(pe.el=Ne.el,P(j,pe,te)):pe=Ne,ve&&mc(ve),(Ye=pe.props&&pe.props.onVnodeBeforeUpdate)&&Zr(Ye,Ie,pe,Ne),jo(j,!0);const Ce=Eh(j),tt=j.subTree;j.subTree=Ce,g(tt,Ce,d(tt.el),V(tt),j,q,W),pe.el=Ce.el,Re===null&&ux(j,Ce.el),be&&ir(be,q),(Ye=pe.props&&pe.props.onVnodeUpdated)&&ir(()=>Zr(Ye,Ie,pe,Ne),q)}else{let pe;const{el:ve,props:be}=Q,{bm:Ie,m:Ne,parent:Re}=j,Ye=dl(Q);if(jo(j,!1),Ie&&mc(Ie),!Ye&&(pe=be&&be.onVnodeBeforeMount)&&Zr(pe,Re,Q),jo(j,!0),ve&&ee){const Ce=()=>{j.subTree=Eh(j),ee(ve,j.subTree,j,q,null)};Ye?Q.type.__asyncLoader().then(()=>!j.isUnmounted&&Ce()):Ce()}else{const Ce=j.subTree=Eh(j);g(null,Ce,G,de,j,q,W),Q.el=Ce.el}if(Ne&&ir(Ne,q),!Ye&&(pe=be&&be.onVnodeMounted)){const Ce=Q;ir(()=>Zr(pe,Re,Ce),q)}(Q.shapeFlag&256||Re&&dl(Re.vnode)&&Re.vnode.shapeFlag&256)&&j.a&&ir(j.a,q),j.isMounted=!0,Q=G=de=null}},ce=j.effect=new Om(ne,Ar,()=>Vm(re),j.scope),re=j.update=()=>{ce.dirty&&ce.run()};re.id=j.uid,jo(j,!0),re()},P=(j,Q,G)=>{Q.component=j;const de=j.vnode.props;j.vnode=Q,j.next=null,$x(j,Q.props,de,G),Ux(j,Q.children,G),So(),Qv(j),Ro()},X=(j,Q,G,de,q,W,te,ne,ce=!1)=>{const re=j&&j.children,pe=j?j.shapeFlag:0,ve=Q.children,{patchFlag:be,shapeFlag:Ie}=Q;if(be>0){if(be&128){U(re,ve,G,de,q,W,te,ne,ce);return}else if(be&256){H(re,ve,G,de,q,W,te,ne,ce);return}}Ie&8?(pe&16&&B(re,q,W),ve!==re&&u(G,ve)):pe&16?Ie&16?U(re,ve,G,de,q,W,te,ne,ce):B(re,q,W,!0):(pe&8&&u(G,""),Ie&16&&E(ve,G,de,q,W,te,ne,ce))},H=(j,Q,G,de,q,W,te,ne,ce)=>{j=j||Ws,Q=Q||Ws;const re=j.length,pe=Q.length,ve=Math.min(re,pe);let be;for(be=0;be<ve;be++){const Ie=Q[be]=ce?to(Q[be]):ei(Q[be]);g(j[be],Ie,G,null,q,W,te,ne,ce)}re>pe?B(j,q,W,!0,!1,ve):E(Q,G,de,q,W,te,ne,ce,ve)},U=(j,Q,G,de,q,W,te,ne,ce)=>{let re=0;const pe=Q.length;let ve=j.length-1,be=pe-1;for(;re<=ve&&re<=be;){const Ie=j[re],Ne=Q[re]=ce?to(Q[re]):ei(Q[re]);if(Go(Ie,Ne))g(Ie,Ne,G,null,q,W,te,ne,ce);else break;re++}for(;re<=ve&&re<=be;){const Ie=j[ve],Ne=Q[be]=ce?to(Q[be]):ei(Q[be]);if(Go(Ie,Ne))g(Ie,Ne,G,null,q,W,te,ne,ce);else break;ve--,be--}if(re>ve){if(re<=be){const Ie=be+1,Ne=Ie<pe?Q[Ie].el:de;for(;re<=be;)g(null,Q[re]=ce?to(Q[re]):ei(Q[re]),G,Ne,q,W,te,ne,ce),re++}}else if(re>be)for(;re<=ve;)F(j[re],q,W,!0),re++;else{const Ie=re,Ne=re,Re=new Map;for(re=Ne;re<=be;re++){const fe=Q[re]=ce?to(Q[re]):ei(Q[re]);fe.key!=null&&Re.set(fe.key,re)}let Ye,Ce=0;const tt=be-Ne+1;let Et=!1,Qt=0;const kt=new Array(tt);for(re=0;re<tt;re++)kt[re]=0;for(re=Ie;re<=ve;re++){const fe=j[re];if(Ce>=tt){F(fe,q,W,!0);continue}let we;if(fe.key!=null)we=Re.get(fe.key);else for(Ye=Ne;Ye<=be;Ye++)if(kt[Ye-Ne]===0&&Go(fe,Q[Ye])){we=Ye;break}we===void 0?F(fe,q,W,!0):(kt[we-Ne]=re+1,we>=Qt?Qt=we:Et=!0,g(fe,Q[we],G,null,q,W,te,ne,ce),Ce++)}const Ht=Et?Hx(kt):Ws;for(Ye=Ht.length-1,re=tt-1;re>=0;re--){const fe=Ne+re,we=Q[fe],me=fe+1<pe?Q[fe+1].el:de;kt[re]===0?g(null,we,G,me,q,W,te,ne,ce):Et&&(Ye<0||re!==Ht[Ye]?$(we,G,me,2):Ye--)}}},$=(j,Q,G,de,q=null)=>{const{el:W,type:te,transition:ne,children:ce,shapeFlag:re}=j;if(re&6){$(j.component.subTree,Q,G,de);return}if(re&128){j.suspense.move(Q,G,de);return}if(re&64){te.move(j,Q,G,oe);return}if(te===Oe){r(W,Q,G);for(let ve=0;ve<ce.length;ve++)$(ce[ve],Q,G,de);r(j.anchor,Q,G);return}if(te===yc){b(j,Q,G);return}if(de!==2&&re&1&&ne)if(de===0)ne.beforeEnter(W),r(W,Q,G),ir(()=>ne.enter(W),q);else{const{leave:ve,delayLeave:be,afterLeave:Ie}=ne,Ne=()=>r(W,Q,G),Re=()=>{ve(W,()=>{Ne(),Ie&&Ie()})};be?be(W,Ne,Re):Re()}else r(W,Q,G)},F=(j,Q,G,de=!1,q=!1)=>{const{type:W,props:te,ref:ne,children:ce,dynamicChildren:re,shapeFlag:pe,patchFlag:ve,dirs:be}=j;if(ne!=null&&Rp(ne,null,G,j,!0),pe&256){Q.ctx.deactivate(j);return}const Ie=pe&1&&be,Ne=!dl(j);let Re;if(Ne&&(Re=te&&te.onVnodeBeforeUnmount)&&Zr(Re,Q,j),pe&6)z(j.component,G,de);else{if(pe&128){j.suspense.unmount(G,de);return}Ie&&Bo(j,null,Q,"beforeUnmount"),pe&64?j.type.remove(j,Q,G,q,oe,de):re&&(W!==Oe||ve>0&&ve&64)?B(re,Q,G,!1,!0):(W===Oe&&ve&384||!q&&pe&16)&&B(ce,Q,G),de&&D(j)}(Ne&&(Re=te&&te.onVnodeUnmounted)||Ie)&&ir(()=>{Re&&Zr(Re,Q,j),Ie&&Bo(j,null,Q,"unmounted")},G)},D=j=>{const{type:Q,el:G,anchor:de,transition:q}=j;if(Q===Oe){K(G,de);return}if(Q===yc){m(j);return}const W=()=>{i(G),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(j.shapeFlag&1&&q&&!q.persisted){const{leave:te,delayLeave:ne}=q,ce=()=>te(G,W);ne?ne(j.el,W,ce):ce()}else W()},K=(j,Q)=>{let G;for(;j!==Q;)G=c(j),i(j),j=G;i(Q)},z=(j,Q,G)=>{const{bum:de,scope:q,update:W,subTree:te,um:ne}=j;de&&mc(de),q.stop(),W&&(W.active=!1,F(te,j,Q,G)),ne&&ir(ne,Q),ir(()=>{j.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},B=(j,Q,G,de=!1,q=!1,W=0)=>{for(let te=W;te<j.length;te++)F(j[te],Q,G,de,q)},V=j=>j.shapeFlag&6?V(j.component.subTree):j.shapeFlag&128?j.suspense.next():c(j.anchor||j.el);let Z=!1;const Y=(j,Q,G)=>{j==null?Q._vnode&&F(Q._vnode,null,null,!0):g(Q._vnode||null,j,Q,null,null,null,G),Z||(Z=!0,Qv(),j1(),Z=!1),Q._vnode=j},oe={p:g,um:F,m:$,r:D,mt:N,mc:E,pc:X,pbc:x,n:V,o:t};let ue,ee;return{render:Y,hydrate:ue,createApp:Nx(Y,ue)}}function kh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function jo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function qx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function qm(t,e,n=!1){const r=t.children,i=e.children;if(Be(r)&&Be(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=to(i[o]),a.el=s.el),n||qm(s,a)),a.type===Md&&(a.el=s.el)}}function Hx(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<f?o=a+1:s=a;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function fb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fb(e)}const zx=t=>t.__isTeleport,pl=t=>t&&(t.disabled||t.disabled===""),ly=t=>typeof SVGElement<"u"&&t instanceof SVGElement,uy=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Op=(t,e)=>{const n=t&&t.to;return Nt(n)?e?e(n):null:n},Kx={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,f){const{mc:u,pc:d,pbc:c,o:{insert:h,querySelector:p,createText:g,createComment:y}}=f,v=pl(e.props);let{shapeFlag:_,children:b,dynamicChildren:m}=e;if(t==null){const w=e.el=g(""),k=e.anchor=g("");h(w,n,r),h(k,n,r);const S=e.target=Op(e.props,p),E=e.targetAnchor=g("");S&&(h(E,S),s==="svg"||ly(S)?s="svg":(s==="mathml"||uy(S))&&(s="mathml"));const I=(x,A)=>{_&16&&u(b,x,A,i,o,s,a,l)};v?I(n,k):S&&I(S,E)}else{e.el=t.el;const w=e.anchor=t.anchor,k=e.target=t.target,S=e.targetAnchor=t.targetAnchor,E=pl(t.props),I=E?n:k,x=E?w:S;if(s==="svg"||ly(k)?s="svg":(s==="mathml"||uy(k))&&(s="mathml"),m?(c(t.dynamicChildren,m,I,i,o,s,a),qm(t,e,!0)):l||d(t,e,I,x,i,o,s,a,!1),v)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ju(e,n,w,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=Op(e.props,p);A&&Ju(e,A,null,f,0)}else E&&Ju(e,k,S,f,1)}hb(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:f,targetAnchor:u,target:d,props:c}=t;if(d&&o(u),s&&o(f),a&16){const h=s||!pl(c);for(let p=0;p<l.length;p++){const g=l[p];i(g,e,n,h,!!g.dynamicChildren)}}},move:Ju,hydrate:Wx};function Ju(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:f,props:u}=t,d=o===2;if(d&&r(s,e,n),(!d||pl(u))&&l&16)for(let c=0;c<f.length;c++)i(f[c],e,n,2);d&&r(a,e,n)}function Wx(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},f){const u=e.target=Op(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(pl(e.props))e.anchor=f(s(t),e,a(t),n,r,i,o),e.targetAnchor=d;else{e.anchor=s(t);let c=d;for(;c;)if(c=s(c),c&&c.nodeType===8&&c.data==="teleport anchor"){e.targetAnchor=c,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(d,e,u,n,r,i,o)}hb(e)}return e.anchor&&s(e.anchor)}const Yx=Kx;function hb(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Oe=Symbol.for("v-fgt"),Md=Symbol.for("v-txt"),mr=Symbol.for("v-cmt"),yc=Symbol.for("v-stc"),ml=[];let Mr=null;function ie(t=!1){ml.push(Mr=t?null:[])}function Gx(){ml.pop(),Mr=ml[ml.length-1]||null}let Ml=1;function cy(t){Ml+=t}function pb(t){return t.dynamicChildren=Ml>0?Mr||Ws:null,Gx(),Ml>0&&Mr&&Mr.push(t),t}function le(t,e,n,r,i,o){return pb(M(t,e,n,r,i,o,!0))}function Ue(t,e,n,r,i){return pb(je(t,e,n,r,i,!0))}function Fc(t){return t?t.__v_isVNode===!0:!1}function Go(t,e){return t.type===e.type&&t.key===e.key}const mb=({key:t})=>t??null,_c=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Nt(t)||gn(t)||Je(t)?{i:an,r:t,k:e,f:!!n}:t:null);function M(t,e=null,n=null,r=0,i=null,o=t===Oe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mb(e),ref:e&&_c(e),scopeId:Sd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:an};return a?(zm(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Nt(n)?8:16),Ml>0&&!s&&Mr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Mr.push(l),l}const je=Qx;function Qx(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===K1)&&(t=mr),Fc(t)){const a=Eo(t,e,!0);return n&&zm(a,n),Ml>0&&!o&&Mr&&(a.shapeFlag&6?Mr[Mr.indexOf(t)]=a:Mr.push(a)),a.patchFlag|=-2,a}if(iI(t)&&(t=t.__vccOpts),e){e=Zn(e);let{class:a,style:l}=e;a&&!Nt(a)&&(e.class=Ke(a)),Tt(l)&&(N1(l)&&!Be(l)&&(l=tn({},l)),e.style=pn(l))}const s=Nt(t)?1:cx(t)?128:zx(t)?64:Tt(t)?4:Je(t)?2:0;return M(t,e,n,r,i,s,o,!0)}function Zn(t){return t?N1(t)||sb(t)?tn({},t):t:null}function Eo(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=t,f=e?ln(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&mb(f),ref:e&&e.ref?n&&o?Be(o)?o.concat(_c(e)):[o,_c(e)]:_c(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Eo(t.ssContent),ssFallback:t.ssFallback&&Eo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(u.transition=l.clone(u)),u}function cn(t=" ",e=0){return je(Md,null,t,e)}function Hm(t,e){const n=je(yc,null,t);return n.staticCount=e,n}function ye(t="",e=!1){return e?(ie(),Ue(mr,null,t)):je(mr,null,t)}function ei(t){return t==null||typeof t=="boolean"?je(mr):Be(t)?je(Oe,null,t.slice()):typeof t=="object"?to(t):je(Md,null,String(t))}function to(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Eo(t)}function zm(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Be(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),zm(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!sb(e)?e._ctx=an:i===3&&an&&(an.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Je(e)?(e={default:e,_ctx:an},n=32):(e=String(e),r&64?(n=16,e=[cn(e)]):n=8);t.children=e,t.shapeFlag|=n}function ln(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ke([e.class,r.class]));else if(i==="style")e.style=pn([e.style,r.style]);else if(Ed(i)){const o=e[i],s=r[i];s&&o!==s&&!(Be(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Zr(t,e,n,r=null){kr(t,e,7,[n,r])}const Xx=rb();let Jx=0;function Zx(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Xx,o={uid:Jx++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new b1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lb(r,i),emitsOptions:H1(r,i),emit:null,emitted:null,propsDefaults:St,inheritAttrs:r.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=ox.bind(null,o),t.ce&&t.ce(o),o}let In=null;const gb=()=>In||an;let Uc,Pp;{const t=v1(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Uc=e("__VUE_INSTANCE_SETTERS__",n=>In=n),Pp=e("__VUE_SSR_SETTERS__",n=>Nd=n)}const lu=t=>{const e=In;return Uc(t),t.scope.on(),()=>{t.scope.off(),Uc(e)}},dy=()=>{In&&In.scope.off(),Uc(null)};function vb(t){return t.vnode.shapeFlag&4}let Nd=!1;function eI(t,e=!1){e&&Pp(e);const{props:n,children:r}=t.vnode,i=vb(t);Lx(t,n,i,e),Fx(t,r);const o=i?tI(t,e):void 0;return e&&Pp(!1),o}function tI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ix);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?_b(t):null,o=lu(t);So();const s=po(r,t,0,[t.props,i]);if(Ro(),o(),h1(s)){if(s.then(dy,dy),e)return s.then(a=>{fy(t,a,e)}).catch(a=>{xd(a,t,0)});t.asyncDep=s}else fy(t,s,e)}else yb(t,e)}function fy(t,e,n){Je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)&&(t.setupState=F1(e)),yb(t,n)}let hy;function yb(t,e,n){const r=t.type;if(!t.render){if(!e&&hy&&!r.render){const i=r.template||Bm(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,f=tn(tn({isCustomElement:o,delimiters:a},s),l);r.render=hy(i,f)}}t.render=r.render||Ar}{const i=lu(t);So();try{Rx(t)}finally{Ro(),i()}}}const nI={get(t,e){return fr(t,"get",""),t[e]}};function _b(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,nI),slots:t.slots,emit:t.emit,expose:e}}function Ld(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(F1(K2(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in fl)return fl[n](t)},has(e,n){return n in e||n in fl}}))}function rI(t,e=!0){return Je(t)?t.displayName||t.name:t.name||e&&t.__name}function iI(t){return Je(t)&&"__vccOpts"in t}const ge=(t,e)=>W2(t,e,Nd);function xa(t,e,n){const r=arguments.length;return r===2?Tt(e)&&!Be(e)?Fc(e)?je(t,null,[e]):je(t,e):je(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Fc(n)&&(n=[n]),je(t,e,n))}const oI="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const sI="http://www.w3.org/2000/svg",aI="http://www.w3.org/1998/Math/MathML",no=typeof document<"u"?document:null,py=no&&no.createElement("template"),lI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?no.createElementNS(sI,t):e==="mathml"?no.createElementNS(aI,t):no.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>no.createTextNode(t),createComment:t=>no.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>no.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{py.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=py.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Wi="transition",Ha="animation",Nl=Symbol("_vtc"),Ur=(t,{slots:e})=>xa(vx,uI(t),e);Ur.displayName="Transition";const bb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ur.props=tn({},Q1,bb);const qo=(t,e=[])=>{Be(t)?t.forEach(n=>n(...e)):t&&t(...e)},my=t=>t?Be(t)?t.some(e=>e.length>1):t.length>1:!1;function uI(t){const e={};for(const T in t)T in bb||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:f=s,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:c=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=cI(i),g=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:b,onLeave:m,onLeaveCancelled:w,onBeforeAppear:k=v,onAppear:S=_,onAppearCancelled:E=b}=e,I=(T,R,N)=>{Ho(T,R?u:a),Ho(T,R?f:s),N&&N()},x=(T,R)=>{T._isLeaving=!1,Ho(T,d),Ho(T,h),Ho(T,c),R&&R()},A=T=>(R,N)=>{const C=T?S:_,O=()=>I(R,T,N);qo(C,[R,O]),gy(()=>{Ho(R,T?l:o),Yi(R,T?u:a),my(C)||vy(R,r,g,O)})};return tn(e,{onBeforeEnter(T){qo(v,[T]),Yi(T,o),Yi(T,s)},onBeforeAppear(T){qo(k,[T]),Yi(T,l),Yi(T,f)},onEnter:A(!1),onAppear:A(!0),onLeave(T,R){T._isLeaving=!0;const N=()=>x(T,R);Yi(T,d),Yi(T,c),hI(),gy(()=>{T._isLeaving&&(Ho(T,d),Yi(T,h),my(m)||vy(T,r,y,N))}),qo(m,[T,N])},onEnterCancelled(T){I(T,!1),qo(b,[T])},onAppearCancelled(T){I(T,!0),qo(E,[T])},onLeaveCancelled(T){x(T),qo(w,[T])}})}function cI(t){if(t==null)return null;if(Tt(t))return[xh(t.enter),xh(t.leave)];{const e=xh(t);return[e,e]}}function xh(t){return m2(t)}function Yi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Nl]||(t[Nl]=new Set)).add(e)}function Ho(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Nl];n&&(n.delete(e),n.size||(t[Nl]=void 0))}function gy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let dI=0;function vy(t,e,n,r){const i=t._endId=++dI,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=fI(t,e);if(!s)return r();const f=s+"end";let u=0;const d=()=>{t.removeEventListener(f,c),o()},c=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(f,c)}function fI(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Wi}Delay`),o=r(`${Wi}Duration`),s=yy(i,o),a=r(`${Ha}Delay`),l=r(`${Ha}Duration`),f=yy(a,l);let u=null,d=0,c=0;e===Wi?s>0&&(u=Wi,d=s,c=o.length):e===Ha?f>0&&(u=Ha,d=f,c=l.length):(d=Math.max(s,f),u=d>0?s>f?Wi:Ha:null,c=u?u===Wi?o.length:l.length:0);const h=u===Wi&&/\b(transform|all)(,|$)/.test(r(`${Wi}Property`).toString());return{type:u,timeout:d,propCount:c,hasTransform:h}}function yy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>_y(n)+_y(t[r])))}function _y(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function hI(){return document.body.offsetHeight}function pI(t,e,n){const r=t[Nl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Bc=Symbol("_vod"),wb=Symbol("_vsh"),gl={beforeMount(t,{value:e},{transition:n}){t[Bc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):za(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),za(t,!0),r.enter(t)):r.leave(t,()=>{za(t,!1)}):za(t,e))},beforeUnmount(t,{value:e}){za(t,e)}};function za(t,e){t.style.display=e?t[Bc]:"none",t[wb]=!e}const mI=Symbol(""),gI=/(^|;)\s*display\s*:/;function vI(t,e,n){const r=t.style,i=Nt(n);let o=!1;if(n&&!i){if(e)if(Nt(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&bc(r,a,"")}else for(const s in e)n[s]==null&&bc(r,s,"");for(const s in n)s==="display"&&(o=!0),bc(r,s,n[s])}else if(i){if(e!==n){const s=r[mI];s&&(n+=";"+s),r.cssText=n,o=gI.test(n)}}else e&&t.removeAttribute("style");Bc in t&&(t[Bc]=o?r.display:"",t[wb]&&(r.display="none"))}const by=/\s*!important$/;function bc(t,e,n){if(Be(n))n.forEach(r=>bc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=yI(t,e);by.test(n)?t.setProperty(vs(r),n.replace(by,""),"important"):t[r]=n}}const wy=["Webkit","Moz","ms"],Ih={};function yI(t,e){const n=Ih[e];if(n)return n;let r=vi(e);if(r!=="filter"&&r in t)return Ih[e]=r;r=Ad(r);for(let i=0;i<wy.length;i++){const o=wy[i]+r;if(o in t)return Ih[e]=o}return e}const Ey="http://www.w3.org/1999/xlink";function _I(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Ey,e.slice(6,e.length)):t.setAttributeNS(Ey,e,n);else{const o=w2(e);n==null||o&&!y1(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function bI(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(f!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=y1(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function io(t,e,n,r){t.addEventListener(e,n,r)}function wI(t,e,n,r){t.removeEventListener(e,n,r)}const Ty=Symbol("_vei");function EI(t,e,n,r,i=null){const o=t[Ty]||(t[Ty]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=TI(e);if(r){const f=o[e]=xI(r,i);io(t,a,f,l)}else s&&(wI(t,a,s,l),o[e]=void 0)}}const Ay=/(?:Once|Passive|Capture)$/;function TI(t){let e;if(Ay.test(t)){e={};let r;for(;r=t.match(Ay);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vs(t.slice(2)),e]}let Sh=0;const AI=Promise.resolve(),kI=()=>Sh||(AI.then(()=>Sh=0),Sh=Date.now());function xI(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;kr(II(r,n.value),e,5,[r])};return n.value=t,n.attached=kI(),n}function II(t,e){if(Be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const ky=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,SI=(t,e,n,r,i,o,s,a,l)=>{const f=i==="svg";e==="class"?pI(t,r,f):e==="style"?vI(t,n,r):Ed(e)?xm(e)||EI(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):RI(t,e,r,f))?bI(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),_I(t,e,r,f))};function RI(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ky(e)&&Je(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ky(e)&&Nt(n)?!1:e in t}const ra=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Be(e)?n=>mc(e,n):e};function OI(t){t.target.composing=!0}function xy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Mi=Symbol("_assign"),di={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Mi]=ra(i);const o=r||i.props&&i.props.type==="number";io(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Mc(a)),t[Mi](a)}),n&&io(t,"change",()=>{t.value=t.value.trim()}),e||(io(t,"compositionstart",OI),io(t,"compositionend",xy),io(t,"change",xy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Mi]=ra(o),t.composing)return;const s=(i||t.type==="number")&&!/^0\d/.test(t.value)?Mc(t.value):t.value,a=e??"";s!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},Qs={deep:!0,created(t,e,n){t[Mi]=ra(n),io(t,"change",()=>{const r=t._modelValue,i=Ll(t),o=t.checked,s=t[Mi];if(Be(r)){const a=Rm(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const f=[...r];f.splice(a,1),s(f)}}else if(Aa(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Eb(t,o))})},mounted:Iy,beforeUpdate(t,e,n){t[Mi]=ra(n),Iy(t,e,n)}};function Iy(t,{value:e,oldValue:n},r){t._modelValue=e,Be(e)?t.checked=Rm(e,r.props.value)>-1:Aa(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=au(e,Eb(t,!0)))}const To={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Aa(e);io(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?Mc(Ll(s)):Ll(s));t[Mi](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Cn(()=>{t._assigning=!1})}),t[Mi]=ra(r)},mounted(t,{value:e,modifiers:{number:n}}){Sy(t,e)},beforeUpdate(t,e,n){t[Mi]=ra(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Sy(t,e)}};function Sy(t,e,n){const r=t.multiple,i=Be(e);if(!(r&&!i&&!Aa(e))){for(let o=0,s=t.options.length;o<s;o++){const a=t.options[o],l=Ll(a);if(r)if(i){const f=typeof l;f==="string"||f==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=Rm(e,l)>-1}else a.selected=e.has(l);else if(au(Ll(a),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ll(t){return"_value"in t?t._value:t.value}function Eb(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const PI=["ctrl","shift","alt","meta"],CI={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>PI.some(n=>t[`${n}Key`]&&!e.includes(n))},xr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const a=CI[e[s]];if(a&&a(i,e))return}return t(i,...o)})},DI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tb=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=vs(i.key);if(e.some(s=>s===o||DI[s]===o))return t(i)})},MI=tn({patchProp:SI},lI);let Ry;function Ab(){return Ry||(Ry=Bx(MI))}const Oy=(...t)=>{Ab().render(...t)},NI=(...t)=>{const e=Ab().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=$I(r);if(!i)return;const o=e._component;!Je(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,LI(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function LI(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $I(t){return Nt(t)?document.querySelector(t):t}function VI(){return kb().__VUE_DEVTOOLS_GLOBAL_HOOK__}function kb(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const FI=typeof Proxy=="function",UI="devtools-plugin:setup",BI="plugin:settings:set";let Cs,Cp;function jI(){var t;return Cs!==void 0||(typeof window<"u"&&window.performance?(Cs=!0,Cp=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Cs=!0,Cp=globalThis.perf_hooks.performance):Cs=!1),Cs}function qI(){return jI()?Cp.now():Date.now()}class HI{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return qI()}},n&&n.on(BI,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(f=>{this.targetQueue.push({method:a,args:l,resolve:f})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function zI(t,e){const n=t,r=kb(),i=VI(),o=FI&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(UI,t,e);else{const s=o?new HI(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $s=typeof document<"u";function KI(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const _t=Object.assign;function Rh(t,e){const n={};for(const r in e){const i=e[r];n[r]=Br(i)?i.map(t):t(i)}return n}const vl=()=>{},Br=Array.isArray,xb=/#/g,WI=/&/g,YI=/\//g,GI=/=/g,QI=/\?/g,Ib=/\+/g,XI=/%5B/g,JI=/%5D/g,Sb=/%5E/g,ZI=/%60/g,Rb=/%7B/g,eS=/%7C/g,Ob=/%7D/g,tS=/%20/g;function Km(t){return encodeURI(""+t).replace(eS,"|").replace(XI,"[").replace(JI,"]")}function nS(t){return Km(t).replace(Rb,"{").replace(Ob,"}").replace(Sb,"^")}function Dp(t){return Km(t).replace(Ib,"%2B").replace(tS,"+").replace(xb,"%23").replace(WI,"%26").replace(ZI,"`").replace(Rb,"{").replace(Ob,"}").replace(Sb,"^")}function rS(t){return Dp(t).replace(GI,"%3D")}function iS(t){return Km(t).replace(xb,"%23").replace(QI,"%3F")}function oS(t){return t==null?"":iS(t).replace(YI,"%2F")}function $l(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const sS=/\/$/,aS=t=>t.replace(sS,"");function Oh(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=dS(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:$l(s)}}function lS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Py(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function uS(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ia(e.matched[r],n.matched[i])&&Pb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ia(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Pb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!cS(t[n],e[n]))return!1;return!0}function cS(t,e){return Br(t)?Cy(t,e):Br(e)?Cy(e,t):t===e}function Cy(t,e){return Br(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function dS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}var Vl;(function(t){t.pop="pop",t.push="push"})(Vl||(Vl={}));var yl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(yl||(yl={}));function fS(t){if(!t)if($s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),aS(t)}const hS=/^[^#]+#/;function pS(t,e){return t.replace(hS,"#")+e}function mS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const $d=()=>({left:window.scrollX,top:window.scrollY});function gS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=mS(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Dy(t,e){return(history.state?history.state.position-e:-1)+t}const Mp=new Map;function vS(t,e){Mp.set(t,e)}function yS(t){const e=Mp.get(t);return Mp.delete(t),e}let _S=()=>location.protocol+"//"+location.host;function Cb(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Py(l,"")}return Py(n,t)+r+i}function bS(t,e,n,r){let i=[],o=[],s=null;const a=({state:c})=>{const h=Cb(t,location),p=n.value,g=e.value;let y=0;if(c){if(n.value=h,e.value=c,s&&s===p){s=null;return}y=g?c.position-g.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:y,type:Vl.pop,direction:y?y>0?yl.forward:yl.back:yl.unknown})})};function l(){s=n.value}function f(c){i.push(c);const h=()=>{const p=i.indexOf(c);p>-1&&i.splice(p,1)};return o.push(h),h}function u(){const{history:c}=window;c.state&&c.replaceState(_t({},c.state,{scroll:$d()}),"")}function d(){for(const c of o)c();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:f,destroy:d}}function My(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?$d():null}}function wS(t){const{history:e,location:n}=window,r={value:Cb(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,f,u){const d=t.indexOf("#"),c=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:_S()+t+l;try{e[u?"replaceState":"pushState"](f,"",c),i.value=f}catch(h){console.error(h),n[u?"replace":"assign"](c)}}function s(l,f){const u=_t({},e.state,My(i.value.back,l,i.value.forward,!0),f,{position:i.value.position});o(l,u,!0),r.value=l}function a(l,f){const u=_t({},i.value,e.state,{forward:l,scroll:$d()});o(u.current,u,!0);const d=_t({},My(r.value,l,null),{position:u.position+1},f);o(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function ES(t){t=fS(t);const e=wS(t),n=bS(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=_t({location:"",base:t,go:r,createHref:pS.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function TS(t){return typeof t=="string"||t&&typeof t=="object"}function Db(t){return typeof t=="string"||typeof t=="symbol"}const Gi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Mb=Symbol("");var Ny;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ny||(Ny={}));function oa(t,e){return _t(new Error,{type:t,[Mb]:!0},e)}function Ai(t,e){return t instanceof Error&&Mb in t&&(e==null||!!(t.type&e))}const Ly="[^/]+?",AS={sensitive:!1,strict:!1,start:!0,end:!0},kS=/[.+*?^${}()[\]/\\]/g;function xS(t,e){const n=_t({},AS,e),r=[];let i=n.start?"^":"";const o=[];for(const f of t){const u=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let d=0;d<f.length;d++){const c=f[d];let h=40+(n.sensitive?.25:0);if(c.type===0)d||(i+="/"),i+=c.value.replace(kS,"\\$&"),h+=40;else if(c.type===1){const{value:p,repeatable:g,optional:y,regexp:v}=c;o.push({name:p,repeatable:g,optional:y});const _=v||Ly;if(_!==Ly){h+=10;try{new RegExp(`(${_})`)}catch(m){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+m.message)}}let b=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(b=y&&f.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),i+=b,h+=20,y&&(h+=-8),g&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(f){const u=f.match(s),d={};if(!u)return null;for(let c=1;c<u.length;c++){const h=u[c]||"",p=o[c-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(f){let u="",d=!1;for(const c of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of c)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:y}=h,v=p in f?f[p]:"";if(Br(v)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Br(v)?v.join("/"):v;if(!_)if(y)c.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=_}}return u||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function IS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function SS(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=IS(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if($y(r))return 1;if($y(i))return-1}return i.length-r.length}function $y(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RS={type:0,value:""},OS=/[a-zA-Z0-9_]/;function PS(t){if(!t)return[[]];if(t==="/")return[[RS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${f}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,f="",u="";function d(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function c(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&d(),s()):l===":"?(d(),n=1):c();break;case 4:c(),n=r;break;case 1:l==="("?n=2:OS.test(l)?c():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),d(),s(),i}function CS(t,e,n){const r=xS(PS(t.path),n),i=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function DS(t,e){const n=[],r=new Map;e=Uy({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function o(u,d,c){const h=!c,p=MS(u);p.aliasOf=c&&c.record;const g=Uy(e,u),y=[p];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const m of b)y.push(_t({},p,{components:c?c.record.components:p.components,path:m,aliasOf:c?c.record:p}))}let v,_;for(const b of y){const{path:m}=b;if(d&&m[0]!=="/"){const w=d.record.path,k=w[w.length-1]==="/"?"":"/";b.path=d.record.path+(m&&k+m)}if(v=CS(b,d,g),c?c.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),h&&u.name&&!Fy(v)&&s(u.name)),p.children){const w=p.children;for(let k=0;k<w.length;k++)o(w[k],v,c&&c.children[k])}c=c||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return _?()=>{s(_)}:vl}function s(u){if(Db(u)){const d=r.get(u);d&&(r.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&SS(u,n[d])>=0&&(u.record.path!==n[d].record.path||!Nb(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Fy(u)&&r.set(u.record.name,u)}function f(u,d){let c,h={},p,g;if("name"in u&&u.name){if(c=r.get(u.name),!c)throw oa(1,{location:u});g=c.record.name,h=_t(Vy(d.params,c.keys.filter(_=>!_.optional).concat(c.parent?c.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),u.params&&Vy(u.params,c.keys.map(_=>_.name))),p=c.stringify(h)}else if(u.path!=null)p=u.path,c=n.find(_=>_.re.test(p)),c&&(h=c.parse(p),g=c.record.name);else{if(c=d.name?r.get(d.name):n.find(_=>_.re.test(d.path)),!c)throw oa(1,{location:u,currentLocation:d});g=c.record.name,h=_t({},d.params,u.params),p=c.stringify(h)}const y=[];let v=c;for(;v;)y.unshift(v.record),v=v.parent;return{name:g,path:p,params:h,matched:y,meta:LS(y)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:f,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function Vy(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function MS(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:NS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function NS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Fy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function LS(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function Uy(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Nb(t,e){return e.children.some(n=>n===t||Nb(t,n))}function $S(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Ib," "),s=o.indexOf("="),a=$l(s<0?o:o.slice(0,s)),l=s<0?null:$l(o.slice(s+1));if(a in e){let f=e[a];Br(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function By(t){let e="";for(let n in t){const r=t[n];if(n=rS(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Br(r)?r.map(o=>o&&Dp(o)):[r&&Dp(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function VS(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Br(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const FS=Symbol(""),jy=Symbol(""),Vd=Symbol(""),Lb=Symbol(""),Np=Symbol("");function Ka(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ro(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const f=c=>{c===!1?l(oa(4,{from:n,to:e})):c instanceof Error?l(c):TS(c)?l(oa(2,{from:e,to:c})):(s&&r.enterCallbacks[i]===s&&typeof c=="function"&&s.push(c),a())},u=o(()=>t.call(r&&r.instances[i],e,n,f));let d=Promise.resolve(u);t.length<3&&(d=d.then(f)),d.catch(c=>l(c))})}function Ph(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(US(l)){const u=(l.__vccOpts||l)[e];u&&o.push(ro(u,n,r,s,a,i))}else{let f=l();o.push(()=>f.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=KI(u)?u.default:u;s.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ro(h,n,r,s,a,i)()}))}}return o}function US(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qy(t){const e=Lr(Vd),n=Lr(Lb),r=ge(()=>{const l=ae(t.to);return e.resolve(l)}),i=ge(()=>{const{matched:l}=r.value,{length:f}=l,u=l[f-1],d=n.matched;if(!u||!d.length)return-1;const c=d.findIndex(ia.bind(null,u));if(c>-1)return c;const h=Hy(l[f-2]);return f>1&&Hy(u)===h&&d[d.length-1].path!==h?d.findIndex(ia.bind(null,l[f-2])):c}),o=ge(()=>i.value>-1&&HS(n.params,r.value.params)),s=ge(()=>i.value>-1&&i.value===n.matched.length-1&&Pb(n.params,r.value.params));function a(l={}){return qS(l)?e[ae(t.replace)?"replace":"push"](ae(t.to)).catch(vl):Promise.resolve()}return{route:r,href:ge(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const BS=Gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qy,setup(t,{slots:e}){const n=Kr(qy(t)),{options:r}=Lr(Vd),i=ge(()=>({[zy(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[zy(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:xa("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),jS=BS;function qS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function HS(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Br(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function Hy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zy=(t,e,n)=>t??e??n,zS=Gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Lr(Np),i=ge(()=>t.route||r.value),o=Lr(jy,0),s=ge(()=>{let f=ae(o);const{matched:u}=i.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),a=ge(()=>i.value.matched[s.value]);vc(jy,ge(()=>s.value+1)),vc(FS,a),vc(Np,i);const l=he();return en(()=>[l.value,a.value,t.name],([f,u,d],[c,h,p])=>{u&&(u.instances[d]=f,h&&h!==u&&f&&f===c&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),f&&u&&(!h||!ia(u,h)||!c)&&(u.enterCallbacks[d]||[]).forEach(g=>g(f))},{flush:"post"}),()=>{const f=i.value,u=t.name,d=a.value,c=d&&d.components[u];if(!c)return Ky(n.default,{Component:c,route:f});const h=d.props[u],p=h?h===!0?f.params:typeof h=="function"?h(f):h:null,y=xa(c,_t({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Ky(n.default,{Component:y,route:f})||y}}});function Ky(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const KS=zS;function WS(t){const e=DS(t.routes,t),n=t.parseQuery||$S,r=t.stringifyQuery||By,i=t.history,o=Ka(),s=Ka(),a=Ka(),l=Y2(Gi);let f=Gi;$s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Rh.bind(null,V=>""+V),d=Rh.bind(null,oS),c=Rh.bind(null,$l);function h(V,Z){let Y,oe;return Db(V)?(Y=e.getRecordMatcher(V),oe=Z):oe=V,e.addRoute(oe,Y)}function p(V){const Z=e.getRecordMatcher(V);Z&&e.removeRoute(Z)}function g(){return e.getRoutes().map(V=>V.record)}function y(V){return!!e.getRecordMatcher(V)}function v(V,Z){if(Z=_t({},Z||l.value),typeof V=="string"){const Q=Oh(n,V,Z.path),G=e.resolve({path:Q.path},Z),de=i.createHref(Q.fullPath);return _t(Q,G,{params:c(G.params),hash:$l(Q.hash),redirectedFrom:void 0,href:de})}let Y;if(V.path!=null)Y=_t({},V,{path:Oh(n,V.path,Z.path).path});else{const Q=_t({},V.params);for(const G in Q)Q[G]==null&&delete Q[G];Y=_t({},V,{params:d(Q)}),Z.params=d(Z.params)}const oe=e.resolve(Y,Z),ue=V.hash||"";oe.params=u(c(oe.params));const ee=lS(r,_t({},V,{hash:nS(ue),path:oe.path})),j=i.createHref(ee);return _t({fullPath:ee,hash:ue,query:r===By?VS(V.query):V.query||{}},oe,{redirectedFrom:void 0,href:j})}function _(V){return typeof V=="string"?Oh(n,V,l.value.path):_t({},V)}function b(V,Z){if(f!==V)return oa(8,{from:Z,to:V})}function m(V){return S(V)}function w(V){return m(_t(_(V),{replace:!0}))}function k(V){const Z=V.matched[V.matched.length-1];if(Z&&Z.redirect){const{redirect:Y}=Z;let oe=typeof Y=="function"?Y(V):Y;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=_(oe):{path:oe},oe.params={}),_t({query:V.query,hash:V.hash,params:oe.path!=null?{}:V.params},oe)}}function S(V,Z){const Y=f=v(V),oe=l.value,ue=V.state,ee=V.force,j=V.replace===!0,Q=k(Y);if(Q)return S(_t(_(Q),{state:typeof Q=="object"?_t({},ue,Q.state):ue,force:ee,replace:j}),Z||Y);const G=Y;G.redirectedFrom=Z;let de;return!ee&&uS(r,oe,Y)&&(de=oa(16,{to:G,from:oe}),$(oe,oe,!0,!1)),(de?Promise.resolve(de):x(G,oe)).catch(q=>Ai(q)?Ai(q,2)?q:U(q):X(q,G,oe)).then(q=>{if(q){if(Ai(q,2))return S(_t({replace:j},_(q.to),{state:typeof q.to=="object"?_t({},ue,q.to.state):ue,force:ee}),Z||G)}else q=T(G,oe,!0,j,ue);return A(G,oe,q),q})}function E(V,Z){const Y=b(V,Z);return Y?Promise.reject(Y):Promise.resolve()}function I(V){const Z=K.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(V):V()}function x(V,Z){let Y;const[oe,ue,ee]=YS(V,Z);Y=Ph(oe.reverse(),"beforeRouteLeave",V,Z);for(const Q of oe)Q.leaveGuards.forEach(G=>{Y.push(ro(G,V,Z))});const j=E.bind(null,V,Z);return Y.push(j),B(Y).then(()=>{Y=[];for(const Q of o.list())Y.push(ro(Q,V,Z));return Y.push(j),B(Y)}).then(()=>{Y=Ph(ue,"beforeRouteUpdate",V,Z);for(const Q of ue)Q.updateGuards.forEach(G=>{Y.push(ro(G,V,Z))});return Y.push(j),B(Y)}).then(()=>{Y=[];for(const Q of ee)if(Q.beforeEnter)if(Br(Q.beforeEnter))for(const G of Q.beforeEnter)Y.push(ro(G,V,Z));else Y.push(ro(Q.beforeEnter,V,Z));return Y.push(j),B(Y)}).then(()=>(V.matched.forEach(Q=>Q.enterCallbacks={}),Y=Ph(ee,"beforeRouteEnter",V,Z,I),Y.push(j),B(Y))).then(()=>{Y=[];for(const Q of s.list())Y.push(ro(Q,V,Z));return Y.push(j),B(Y)}).catch(Q=>Ai(Q,8)?Q:Promise.reject(Q))}function A(V,Z,Y){a.list().forEach(oe=>I(()=>oe(V,Z,Y)))}function T(V,Z,Y,oe,ue){const ee=b(V,Z);if(ee)return ee;const j=Z===Gi,Q=$s?history.state:{};Y&&(oe||j?i.replace(V.fullPath,_t({scroll:j&&Q&&Q.scroll},ue)):i.push(V.fullPath,ue)),l.value=V,$(V,Z,Y,j),U()}let R;function N(){R||(R=i.listen((V,Z,Y)=>{if(!z.listening)return;const oe=v(V),ue=k(oe);if(ue){S(_t(ue,{replace:!0}),oe).catch(vl);return}f=oe;const ee=l.value;$s&&vS(Dy(ee.fullPath,Y.delta),$d()),x(oe,ee).catch(j=>Ai(j,12)?j:Ai(j,2)?(S(j.to,oe).then(Q=>{Ai(Q,20)&&!Y.delta&&Y.type===Vl.pop&&i.go(-1,!1)}).catch(vl),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),X(j,oe,ee))).then(j=>{j=j||T(oe,ee,!1),j&&(Y.delta&&!Ai(j,8)?i.go(-Y.delta,!1):Y.type===Vl.pop&&Ai(j,20)&&i.go(-1,!1)),A(oe,ee,j)}).catch(vl)}))}let C=Ka(),O=Ka(),P;function X(V,Z,Y){U(V);const oe=O.list();return oe.length?oe.forEach(ue=>ue(V,Z,Y)):console.error(V),Promise.reject(V)}function H(){return P&&l.value!==Gi?Promise.resolve():new Promise((V,Z)=>{C.add([V,Z])})}function U(V){return P||(P=!V,N(),C.list().forEach(([Z,Y])=>V?Y(V):Z()),C.reset()),V}function $(V,Z,Y,oe){const{scrollBehavior:ue}=t;if(!$s||!ue)return Promise.resolve();const ee=!Y&&yS(Dy(V.fullPath,0))||(oe||!Y)&&history.state&&history.state.scroll||null;return Cn().then(()=>ue(V,Z,ee)).then(j=>j&&gS(j)).catch(j=>X(j,V,Z))}const F=V=>i.go(V);let D;const K=new Set,z={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:y,getRoutes:g,resolve:v,options:t,push:m,replace:w,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:O.add,isReady:H,install(V){const Z=this;V.component("RouterLink",jS),V.component("RouterView",KS),V.config.globalProperties.$router=Z,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),$s&&!D&&l.value===Gi&&(D=!0,m(i.location).catch(ue=>{}));const Y={};for(const ue in Gi)Object.defineProperty(Y,ue,{get:()=>l.value[ue],enumerable:!0});V.provide(Vd,Z),V.provide(Lb,D1(Y)),V.provide(Np,l);const oe=V.unmount;K.add(V),V.unmount=function(){K.delete(V),K.size<1&&(f=Gi,R&&R(),R=null,l.value=Gi,D=!1,P=!1),oe()}}};function B(V){return V.reduce((Z,Y)=>Z.then(()=>I(Y)),Promise.resolve())}return z}function YS(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(f=>ia(f,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(f=>ia(f,l))||i.push(l))}return[n,r,i]}function $b(){return Lr(Vd)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Vb="store";function Oo(t){return t===void 0&&(t=null),Lr(t!==null?t:Vb)}function Ia(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function GS(t){return t!==null&&typeof t=="object"}function QS(t){return t&&typeof t.then=="function"}function XS(t,e){return function(){return t(e)}}function Fb(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Ub(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Fd(t,n,[],t._modules.root,!0),Wm(t,n,e)}function Wm(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=T2(!0);l.run(function(){Ia(o,function(f,u){s[u]=XS(f,t),a[u]=ge(function(){return s[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=Kr({data:e}),t._scope=l,t.strict&&nR(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function Fd(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=Ym(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var f=r.context=JS(t,s,n);r.forEachMutation(function(u,d){var c=s+d;ZS(t,c,u,f)}),r.forEachAction(function(u,d){var c=u.root?d:s+d,h=u.handler||u;eR(t,c,h,f)}),r.forEachGetter(function(u,d){var c=s+d;tR(t,c,u,f)}),r.forEachChild(function(u,d){Fd(t,e,n.concat(d),u,i)})}function JS(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(o,s,a){var l=jc(o,s,a),f=l.payload,u=l.options,d=l.type;return(!u||!u.root)&&(d=e+d),t.dispatch(d,f)},commit:r?t.commit:function(o,s,a){var l=jc(o,s,a),f=l.payload,u=l.options,d=l.type;(!u||!u.root)&&(d=e+d),t.commit(d,f,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return Bb(t,e)}},state:{get:function(){return Ym(t.state,n)}}}),i}function Bb(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function ZS(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){n.call(t,r.state,s)})}function eR(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},s);return QS(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function tR(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function nR(t){en(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Ym(t,e){return e.reduce(function(n,r){return n[r]},t)}function jc(t,e,n){return GS(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var rR="vuex bindings",Wy="vuex:mutations",Ch="vuex:actions",Ds="vuex",iR=0;function oR(t,e){zI({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[rR]},function(n){n.addTimelineLayer({id:Wy,label:"Vuex Mutations",color:Yy}),n.addTimelineLayer({id:Ch,label:"Vuex Actions",color:Yy}),n.addInspector({id:Ds,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Ds)if(r.filter){var i=[];zb(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Hb(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Ds){var i=r.nodeId;Bb(e,i),r.state=lR(cR(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Ds){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Ds),n.sendInspectorState(Ds),n.addTimelineEvent({layerId:Wy,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=iR++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:Ch,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:Ch,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var Yy=8702998,sR=6710886,aR=16777215,jb={label:"namespaced",textColor:aR,backgroundColor:sR};function qb(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Hb(t,e){return{id:e||"root",label:qb(e),tags:t.namespaced?[jb]:[],children:Object.keys(t._children).map(function(n){return Hb(t._children[n],e+n+"/")})}}function zb(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[jb]:[]}),Object.keys(e._children).forEach(function(i){zb(t,e._children[i],n,r+i+"/")})}function lR(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(r.length){var o=uR(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?qb(s):s,editable:!1,value:Lp(function(){return o[s]})}})}return i}function uR(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=Lp(function(){return t[n]})}else e[n]=Lp(function(){return t[n]})}),e}function cR(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===n.length-1?s:s._children},e==="root"?t:t.root._children)}function Lp(t){try{return t()}catch(e){return e}}var Wr=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Kb={namespaced:{configurable:!0}};Kb.namespaced.get=function(){return!!this._rawModule.namespaced};Wr.prototype.addChild=function(e,n){this._children[e]=n};Wr.prototype.removeChild=function(e){delete this._children[e]};Wr.prototype.getChild=function(e){return this._children[e]};Wr.prototype.hasChild=function(e){return e in this._children};Wr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Wr.prototype.forEachChild=function(e){Ia(this._children,e)};Wr.prototype.forEachGetter=function(e){this._rawModule.getters&&Ia(this._rawModule.getters,e)};Wr.prototype.forEachAction=function(e){this._rawModule.actions&&Ia(this._rawModule.actions,e)};Wr.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ia(this._rawModule.mutations,e)};Object.defineProperties(Wr.prototype,Kb);var _s=function(e){this.register([],e,!1)};_s.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};_s.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};_s.prototype.update=function(e){Wb([],this.root,e)};_s.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var o=new Wr(n,r);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}n.modules&&Ia(n.modules,function(a,l){i.register(e.concat(l),a,r)})};_s.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};_s.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Wb(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Wb(t.concat(r),e.getChild(r),n.modules[r])}}function dR(t){return new hr(t)}var hr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new _s(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,f=a.commit;this.dispatch=function(c,h){return l.call(s,c,h)},this.commit=function(c,h,p){return f.call(s,c,h,p)},this.strict=i;var u=this._modules.root.state;Fd(this,u,[],this._modules.root),Wm(this,u),r.forEach(function(d){return d(n)})},Gm={state:{configurable:!0}};hr.prototype.install=function(e,n){e.provide(n||Vb,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&oR(e,this)};Gm.state.get=function(){return this._state.data};Gm.state.set=function(t){};hr.prototype.commit=function(e,n,r){var i=this,o=jc(e,n,r),s=o.type,a=o.payload,l={type:s,payload:a},f=this._mutations[s];f&&(this._withCommit(function(){f.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};hr.prototype.dispatch=function(e,n){var r=this,i=jc(e,n),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var f=l.length>1?Promise.all(l.map(function(u){return u(s)})):l[0](s);return new Promise(function(u,d){f.then(function(c){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,r.state)})}catch{}u(c)},function(c){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,r.state,c)})}catch{}d(c)})})}};hr.prototype.subscribe=function(e,n){return Fb(e,this._subscribers,n)};hr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Fb(r,this._actionSubscribers,n)};hr.prototype.watch=function(e,n,r){var i=this;return en(function(){return e(i.state,i.getters)},n,Object.assign({},r))};hr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};hr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Fd(this,this.state,e,this._modules.get(e),r.preserveState),Wm(this,this.state)};hr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Ym(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Ub(this)};hr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};hr.prototype.hotUpdate=function(e){this._modules.update(e),Ub(this,!0)};hr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(hr.prototype,Gm);var Gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let c=(a&15)<<2|f>>6,h=f&63;l||(h=64,s||(c=64)),r.push(n[u],n[d],n[c],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||f==null||d==null)throw new hR;const c=o<<2|a>>4;if(r.push(c),f!==64){const h=a<<4&240|f>>2;if(r.push(h),d!==64){const p=f<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pR=function(t){const e=Yb(t);return Gb.encodeByteArray(e,!0)},qc=function(t){return pR(t).replace(/\./g,"")},Qb=function(t){try{return Gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=()=>mR().__FIREBASE_DEFAULTS__,vR=()=>{if(typeof process>"u"||typeof Gy>"u")return;const t=Gy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qb(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return gR()||vR()||yR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xb=t=>{var e,n;return(n=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jb=t=>{const e=Xb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zb=()=>{var t;return(t=Ud())===null||t===void 0?void 0:t.config},ew=t=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qc(JSON.stringify(n)),qc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function wR(){var t;const e=(t=Ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TR(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AR(){return!wR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function iw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function kR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";class Sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xR,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bs.prototype.create)}}class bs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?IR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Sr(i,a,r)}}function IR(t,e){return t.replace(SR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SR=/\{\$([^}]+)}/g;function RR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Qy(o)&&Qy(s)){if(!sa(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function rl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OR(t,e){const n=new PR(t,e);return n.subscribe.bind(n)}class PR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dh),i.error===void 0&&(i.error=Dh),i.complete===void 0&&(i.complete=Dh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=1e3,MR=2,NR=4*60*60*1e3,LR=.5;function Xy(t,e=DR,n=MR){const r=e*Math.pow(n,t),i=Math.round(LR*r*(Math.random()-.5)*2);return Math.min(NR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Ir{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _R;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(t){return t===zo?void 0:t}function FR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const BR={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},jR=st.INFO,qR={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},HR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bd{constructor(e){this.name=e,this._logLevel=jR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const zR=(t,e)=>e.some(n=>t instanceof n);let Jy,Zy;function KR(){return Jy||(Jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WR(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ow=new WeakMap,$p=new WeakMap,sw=new WeakMap,Mh=new WeakMap,Qm=new WeakMap;function YR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(mo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ow.set(n,t)}).catch(()=>{}),Qm.set(e,t),e}function GR(t){if($p.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$p.set(t,e)}let Vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QR(t){Vp=t(Vp)}function XR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nh(this),e,...n);return sw.set(r,e.sort?e.sort():[e]),mo(r)}:WR().includes(t)?function(...e){return t.apply(Nh(this),e),mo(ow.get(this))}:function(...e){return mo(t.apply(Nh(this),e))}}function JR(t){return typeof t=="function"?XR(t):(t instanceof IDBTransaction&&GR(t),zR(t,KR())?new Proxy(t,Vp):t)}function mo(t){if(t instanceof IDBRequest)return YR(t);if(Mh.has(t))return Mh.get(t);const e=JR(t);return e!==t&&(Mh.set(t,e),Qm.set(e,t)),e}const Nh=t=>Qm.get(t);function aw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=mo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(mo(s.result),l.oldVersion,l.newVersion,mo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const ZR=["get","getKey","getAll","getAllKeys","count"],eO=["put","add","delete","clear"],Lh=new Map;function e0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lh.get(e))return Lh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZR.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),i&&l.done]))[0]};return Lh.set(e,o),o}QR(t=>({...t,get:(e,n,r)=>e0(e,n)||t.get(e,n,r),has:(e,n)=>!!e0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fp="@firebase/app",t0="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Bd("@firebase/app"),rO="@firebase/app-compat",iO="@firebase/analytics-compat",oO="@firebase/analytics",sO="@firebase/app-check-compat",aO="@firebase/app-check",lO="@firebase/auth",uO="@firebase/auth-compat",cO="@firebase/database",dO="@firebase/database-compat",fO="@firebase/functions",hO="@firebase/functions-compat",pO="@firebase/installations",mO="@firebase/installations-compat",gO="@firebase/messaging",vO="@firebase/messaging-compat",yO="@firebase/performance",_O="@firebase/performance-compat",bO="@firebase/remote-config",wO="@firebase/remote-config-compat",EO="@firebase/storage",TO="@firebase/storage-compat",AO="@firebase/firestore",kO="@firebase/firestore-compat",xO="firebase",IO="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="[DEFAULT]",SO={[Fp]:"fire-core",[rO]:"fire-core-compat",[oO]:"fire-analytics",[iO]:"fire-analytics-compat",[aO]:"fire-app-check",[sO]:"fire-app-check-compat",[lO]:"fire-auth",[uO]:"fire-auth-compat",[cO]:"fire-rtdb",[dO]:"fire-rtdb-compat",[fO]:"fire-fn",[hO]:"fire-fn-compat",[pO]:"fire-iid",[mO]:"fire-iid-compat",[gO]:"fire-fcm",[vO]:"fire-fcm-compat",[yO]:"fire-perf",[_O]:"fire-perf-compat",[bO]:"fire-rc",[wO]:"fire-rc-compat",[EO]:"fire-gcs",[TO]:"fire-gcs-compat",[AO]:"fire-fst",[kO]:"fire-fst-compat","fire-js":"fire-js",[xO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,RO=new Map,Bp=new Map;function n0(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jr(t){const e=t.name;if(Bp.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of Hc.values())n0(n,t);for(const n of RO.values())n0(n,t);return!0}function Po(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new bs("app","Firebase",OO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=IO;function lw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Up,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw go.create("bad-app-name",{appName:String(i)});if(n||(n=Zb()),!n)throw go.create("no-options");const o=Hc.get(i);if(o){if(sa(n,o.options)&&sa(r,o.config))return o;throw go.create("duplicate-app",{appName:i})}const s=new UR(i);for(const l of Bp.values())s.addComponent(l);const a=new PO(n,r,s);return Hc.set(i,a),a}function jd(t=Up){const e=Hc.get(t);if(!e&&t===Up&&Zb())return lw();if(!e)throw go.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let i=(r=SO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(a.join(" "));return}jr(new Ir(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="firebase-heartbeat-database",DO=1,Fl="firebase-heartbeat-store";let $h=null;function uw(){return $h||($h=aw(CO,DO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw go.create("idb-open",{originalErrorMessage:t.message})})),$h}async function MO(t){try{const n=(await uw()).transaction(Fl),r=await n.objectStore(Fl).get(cw(t));return await n.done,r}catch(e){if(e instanceof Sr)us.warn(e.message);else{const n=go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function r0(t,e){try{const r=(await uw()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,cw(t)),await r.done}catch(n){if(n instanceof Sr)us.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function cw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1024,LO=30*24*60*60*1e3;class $O{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=i0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=LO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i0(),{heartbeatsToSend:r,unsentEntries:i}=VO(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function i0(){return new Date().toISOString().substring(0,10)}function VO(t,e=NO){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),o0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o0(t){return qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){jr(new Ir("platform-logger",e=>new tO(e),"PRIVATE")),jr(new Ir("heartbeat",e=>new $O(e),"PRIVATE")),cr(Fp,t0,t),cr(Fp,t0,"esm2017"),cr("fire-js","")}UO("");var BO="firebase",jO="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(BO,jO,"app");const dw="@firebase/installations",Xm="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=1e4,hw=`w:${Xm}`,pw="FIS_v2",qO="https://firebaseinstallations.googleapis.com/v1",HO=60*60*1e3,zO="installations",KO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},cs=new bs(zO,KO,WO);function mw(t){return t instanceof Sr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw({projectId:t}){return`${qO}/projects/${t}/installations`}function vw(t){return{token:t.token,requestStatus:2,expiresIn:GO(t.expiresIn),creationTime:Date.now()}}async function yw(t,e){const r=(await e.json()).error;return cs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _w({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YO(t,{refreshToken:e}){const n=_w(t);return n.append("Authorization",QO(e)),n}async function bw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GO(t){return Number(t.replace("s","000"))}function QO(t){return`${pw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gw(t),i=_w(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:pw,appId:t.appId,sdkVersion:hw},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await bw(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:vw(f.authToken)}}else throw await yw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^[cdef][\w-]{21}$/,jp="";function eP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tP(t);return ZO.test(n)?n:jp}catch{return jp}}function tP(t){return JO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;function Tw(t,e){const n=qd(t);Aw(n,e),nP(n,e)}function Aw(t,e){const n=Ew.get(t);if(n)for(const r of n)r(e)}function nP(t,e){const n=rP();n&&n.postMessage({key:t,fid:e}),iP()}let Xo=null;function rP(){return!Xo&&"BroadcastChannel"in self&&(Xo=new BroadcastChannel("[Firebase] FID Change"),Xo.onmessage=t=>{Aw(t.data.key,t.data.fid)}),Xo}function iP(){Ew.size===0&&Xo&&(Xo.close(),Xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="firebase-installations-database",sP=1,ds="firebase-installations-store";let Vh=null;function Jm(){return Vh||(Vh=aw(oP,sP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ds)}}})),Vh}async function zc(t,e){const n=qd(t),i=(await Jm()).transaction(ds,"readwrite"),o=i.objectStore(ds),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&Tw(t,e.fid),e}async function kw(t){const e=qd(t),r=(await Jm()).transaction(ds,"readwrite");await r.objectStore(ds).delete(e),await r.done}async function Hd(t,e){const n=qd(t),i=(await Jm()).transaction(ds,"readwrite"),o=i.objectStore(ds),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&Tw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t){let e;const n=await Hd(t.appConfig,r=>{const i=aP(r),o=lP(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===jp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aP(t){const e=t||{fid:eP(),registrationStatus:0};return xw(e)}function lP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(cs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cP(t)}:{installationEntry:e}}async function uP(t,e){try{const n=await XO(t,e);return zc(t.appConfig,n)}catch(n){throw mw(n)&&n.customData.serverCode===409?await kw(t.appConfig):await zc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function cP(t){let e=await s0(t.appConfig);for(;e.registrationStatus===1;)await ww(100),e=await s0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Zm(t);return r||n}return e}function s0(t){return Hd(t,e=>{if(!e)throw cs.create("installation-not-found");return xw(e)})}function xw(t){return dP(t)?{fid:t.fid,registrationStatus:0}:t}function dP(t){return t.registrationStatus===1&&t.registrationTime+fw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP({appConfig:t,heartbeatServiceProvider:e},n){const r=hP(t,n),i=YO(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:hw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await bw(()=>fetch(r,a));if(l.ok){const f=await l.json();return vw(f)}else throw await yw("Generate Auth Token",l)}function hP(t,{fid:e}){return`${gw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(t,e=!1){let n;const r=await Hd(t.appConfig,o=>{if(!Iw(o))throw cs.create("not-registered");const s=o.authToken;if(!e&&gP(s))return o;if(s.requestStatus===1)return n=pP(t,e),o;{if(!navigator.onLine)throw cs.create("app-offline");const a=yP(o);return n=mP(t,a),a}});return n?await n:r.authToken}async function pP(t,e){let n=await a0(t.appConfig);for(;n.authToken.requestStatus===1;)await ww(100),n=await a0(t.appConfig);const r=n.authToken;return r.requestStatus===0?eg(t,e):r}function a0(t){return Hd(t,e=>{if(!Iw(e))throw cs.create("not-registered");const n=e.authToken;return _P(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mP(t,e){try{const n=await fP(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await zc(t.appConfig,r),n}catch(n){if(mw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kw(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await zc(t.appConfig,r)}throw n}}function Iw(t){return t!==void 0&&t.registrationStatus===2}function gP(t){return t.requestStatus===2&&!vP(t)}function vP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+HO}function yP(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _P(t){return t.requestStatus===1&&t.requestTime+fw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(t){const e=t,{installationEntry:n,registrationPromise:r}=await Zm(e);return r?r.catch(console.error):eg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(t,e=!1){const n=t;return await EP(n),(await eg(n,e)).token}async function EP(t){const{registrationPromise:e}=await Zm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){if(!t||!t.options)throw Fh("App Configuration");if(!t.name)throw Fh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fh(t){return cs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="installations",AP="installations-internal",kP=t=>{const e=t.getProvider("app").getImmediate(),n=TP(e),r=Po(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xP=t=>{const e=t.getProvider("app").getImmediate(),n=Po(e,Sw).getImmediate();return{getId:()=>bP(n),getToken:i=>wP(n,i)}};function IP(){jr(new Ir(Sw,kP,"PUBLIC")),jr(new Ir(AP,xP,"PRIVATE"))}IP();cr(dw,Xm);cr(dw,Xm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="analytics",SP="firebase_id",RP="origin",OP=60*1e3,PP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Bd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_r=new bs("analytics","Analytics",CP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){if(!t.startsWith(tg)){const e=_r.create("invalid-gtag-resource",{gtagURL:t});return dr.warn(e.message),""}return t}function Rw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function MP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NP(t,e){const n=MP("firebase-js-sdk-policy",{createScriptURL:DP}),r=document.createElement("script"),i=`${tg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function LP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function $P(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await Rw(n)).find(f=>f.measurementId===i);l&&await e[l.appId]}}catch(a){dr.error(a)}t("config",i,o)}async function VP(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await Rw(n);for(const l of s){const f=a.find(d=>d.measurementId===l),u=f&&e[f.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){dr.error(o)}}function FP(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await VP(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await $P(t,e,n,r,a,l)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,l,f]=s;t("get",a,l,f)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){dr.error(a)}}return i}function UP(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=FP(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function BP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(tg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=30,qP=1e3;class HP{constructor(e={},n=qP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ow=new HP;function zP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function KP(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:zP(r)},o=PP.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function WP(t,e=Ow,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw _r.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw _r.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new QP;return setTimeout(async()=>{a.abort()},OP),Pw({appId:r,apiKey:i,measurementId:o},s,a,e)}async function Pw(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Ow){var o;const{appId:s,measurementId:a}=t;try{await YP(r,e)}catch(l){if(a)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await KP(t);return i.deleteThrottleMetadata(s),l}catch(l){const f=l;if(!GP(f)){if(i.deleteThrottleMetadata(s),a)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:a};throw l}const u=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?Xy(n,i.intervalMillis,jP):Xy(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),dr.debug(`Calling attemptFetch again in ${u} millis`),Pw(t,d,r,i)}}function YP(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GP(t){if(!(t instanceof Sr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class QP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XP(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(){if(rw())try{await iw()}catch(t){return dr.warn(_r.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return dr.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZP(t,e,n,r,i,o,s){var a;const l=WP(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>dr.error(h)),e.push(l);const f=JP().then(h=>{if(h)return r.getId()}),[u,d]=await Promise.all([l,f]);BP(o)||NP(o,u.measurementId),i("js",new Date);const c=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return c[RP]="firebase",c.update=!0,d!=null&&(c[SP]=d),i("config",u.measurementId,c),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.app=e}_delete(){return delete _l[this.app.options.appId],Promise.resolve()}}let _l={},l0=[];const u0={};let Uh="dataLayer",tC="gtag",c0,Cw,d0=!1;function nC(){const t=[];if(nw()&&t.push("This is a browser extension environment."),kR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:e});dr.warn(n.message)}}function rC(t,e,n){nC();const r=t.options.appId;if(!r)throw _r.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _r.create("no-api-key");if(_l[r]!=null)throw _r.create("already-exists",{id:r});if(!d0){LP(Uh);const{wrappedGtag:o,gtagCore:s}=UP(_l,l0,u0,Uh,tC);Cw=o,c0=s,d0=!0}return _l[r]=ZP(t,l0,u0,e,c0,Uh,n),new eC(t)}function iC(t=jd()){t=Pt(t);const e=Po(t,Kc);return e.isInitialized()?e.getImmediate():oC(t)}function oC(t,e={}){const n=Po(t,Kc);if(n.isInitialized()){const i=n.getImmediate();if(sa(e,n.getOptions()))return i;throw _r.create("already-initialized")}return n.initialize({options:e})}function sC(t,e,n,r){t=Pt(t),XP(Cw,_l[t.app.options.appId],e,n,r).catch(i=>dr.error(i))}const f0="@firebase/analytics",h0="0.10.2";function aC(){jr(new Ir(Kc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return rC(r,i,n)},"PUBLIC")),jr(new Ir("analytics-internal",t,"PRIVATE")),cr(f0,h0),cr(f0,h0,"esm2017");function t(e){try{const n=e.getProvider(Kc).getImmediate();return{logEvent:(r,i,o)=>sC(n,r,i,o)}}catch(n){throw _r.create("interop-component-reg-failed",{reason:n})}}}aC();function ng(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=Dw,Mw=new bs("auth","Firebase",Dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Bd("@firebase/auth");function uC(t,...e){Wc.logLevel<=st.WARN&&Wc.warn(`Auth (${ws}): ${t}`,...e)}function wc(t,...e){Wc.logLevel<=st.ERROR&&Wc.error(`Auth (${ws}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw rg(t,...e)}function fi(t,...e){return rg(t,...e)}function Nw(t,e,n){const r=Object.assign(Object.assign({},lC()),{[e]:n});return new bs("auth","Firebase",r).create(e,{appName:t.name})}function vo(t){return Nw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mw.create(t,...e)}function ze(t,e,...n){if(!t)throw rg(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wc(e),new Error(e)}function $i(t,e){t||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cC(){return p0()==="http:"||p0()==="https:"}function p0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||nw()||"connection"in navigator)?navigator.onLine:!0}function fC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=bR()||ER()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new cu(3e4,6e4);function Es(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Co(t,e,n,r,i={}){return $w(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=uu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Lw.fetch()(Vw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function $w(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hC),e);try{const i=new gC(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Zu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Zu(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Nw(t,u,f);qr(t,u)}}catch(i){if(i instanceof Sr)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function zd(t,e,n,r,i={}){const o=await Co(t,e,n,r,i);return"mfaPendingCredential"in o&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Vw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ig(t.config,i):`${t.config.apiScheme}://${i}`}function mC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fi(this.auth,"network-request-failed")),pC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fi(t,e,r);return i.customData._tokenResponse=n,i}function m0(t){return t!==void 0&&t.enterprise!==void 0}class vC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function yC(t,e){return Co(t,"GET","/v2/recaptchaConfig",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e){return Co(t,"POST","/v1/accounts:delete",e)}async function Fw(t,e){return Co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bC(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=og(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:bl(Bh(i.auth_time)),issuedAtTime:bl(Bh(i.iat)),expirationTime:bl(Bh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Bh(t){return Number(t)*1e3}function og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qb(n);return i?JSON.parse(i):(wc("Failed to decode base64 JWT payload"),null)}catch(i){return wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g0(t){const e=og(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sr&&wC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ul(t,Fw(n,{idToken:r}));ze(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Uw(o.providerUserInfo):[],a=AC(t.providerData,s),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?f:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function TC(t){const e=Pt(t);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Uw(t){return t.map(e=>{var{providerId:n}=e,r=ng(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t,e){const n=await $w(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Vw(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lw.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xC(t,e){return Co(t,"POST","/v2/accounts:revokeToken",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await kC(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xs;return r&&(ze(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ze(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bC(this,e)}reload(){return TC(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Ul(this,_C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,f,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,c=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(f=n.createdAt)!==null&&f!==void 0?f:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:m,isAnonymous:w,providerData:k,stsTokenManager:S}=n;ze(b&&S,e,"internal-error");const E=Xs.fromJSON(this.name,S);ze(typeof b=="string",e,"internal-error"),Qi(d,e.name),Qi(c,e.name),ze(typeof m=="boolean",e,"internal-error"),ze(typeof w=="boolean",e,"internal-error"),Qi(h,e.name),Qi(p,e.name),Qi(g,e.name),Qi(y,e.name),Qi(v,e.name),Qi(_,e.name);const I=new Si({uid:b,auth:e,email:c,emailVerified:m,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:E,createdAt:v,lastLoginAt:_});return k&&Array.isArray(k)&&(I.providerData=k.map(x=>Object.assign({},x))),y&&(I._redirectEventId=y),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xs;i.updateFromServerResponse(n);const o=new Si({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Uw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Xs;a.updateFromIdToken(r);const l=new Si({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Hp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;function Ri(t){$i(t instanceof Function,"Expected a class definition");let e=v0.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bw.type="NONE";const y0=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ec(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ec("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(Ri(y0),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ri(y0);const s=Ec(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const u=await f._get(s);if(u){const d=Si._fromJSON(e,u);f!==o&&(a=d),o=f;break}}catch{}const l=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Js(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Js(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kw(e))return"Blackberry";if(Ww(e))return"Webos";if(sg(e))return"Safari";if((e.includes("chrome/")||qw(e))&&!e.includes("edge/"))return"Chrome";if(zw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jw(t=Dn()){return/firefox\//i.test(t)}function sg(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qw(t=Dn()){return/crios\//i.test(t)}function Hw(t=Dn()){return/iemobile/i.test(t)}function zw(t=Dn()){return/android/i.test(t)}function Kw(t=Dn()){return/blackberry/i.test(t)}function Ww(t=Dn()){return/webos/i.test(t)}function Kd(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IC(t=Dn()){var e;return Kd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SC(){return TR()&&document.documentMode===10}function Yw(t=Dn()){return Kd(t)||zw(t)||Ww(t)||Kw(t)||/windows phone/i.test(t)||Hw(t)}function RC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e=[]){let n;switch(t){case"Browser":n=_0(Dn());break;case"Worker":n=`${_0(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ws}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(t,e={}){return Co(t,"GET","/v2/passwordPolicy",Es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=6;class DC{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:CC,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new OC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fw(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(vo(this));const n=e?Pt(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PC(this),n=new DC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sa(t){return Pt(t)}class b0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OR(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NC(t){Wd=t}function Qw(t){return Wd.loadJS(t)}function LC(){return Wd.recaptchaEnterpriseScript}function $C(){return Wd.gapiScript}function VC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FC="recaptcha-enterprise",UC="NO_RECAPTCHA";class BC{constructor(e){this.type=FC,this.auth=Sa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{yC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const f=new vC(l);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;m0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(UC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&m0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=LC();l.length!==0&&(l+=a),Qw(l).then(()=>{i(a,o,s)}).catch(f=>{s(f)})}}).catch(a=>{s(a)})})}}async function w0(t,e,n,r=!1){const i=new BC(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function E0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await w0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await w0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t,e){const n=Po(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(sa(o,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function qC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HC(t,e,n){const r=Sa(t);ze(r._canInitEmulator,r,"emulator-config-failed"),ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Xw(e),{host:s,port:a}=zC(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),KC()}function Xw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zC(t){const e=Xw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:T0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:T0(s)}}}function T0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function WC(t,e){return Co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e){return zd(t,"POST","/v1/accounts:signInWithPassword",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}async function QC(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends ag{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E0(e,n,"signInWithPassword",YC);case"emailLink":return GC(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E0(e,r,"signUpPassword",WC);case"emailLink":return QC(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e){return zd(t,"POST","/v1/accounts:signInWithIdp",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="http://localhost";class fs extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ng(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new fs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:XC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZC(t){const e=nl(rl(t)).link,n=e?nl(rl(e)).deep_link_id:null,r=nl(rl(t)).deep_link_id;return(r?nl(rl(r)).link:null)||r||n||e||t}class lg{constructor(e){var n,r,i,o,s,a;const l=nl(rl(e)),f=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=JC((i=l.mode)!==null&&i!==void 0?i:null);ze(f&&u&&d,"argument-error"),this.apiKey=f,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ZC(e);try{return new lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.providerId=Ra.PROVIDER_ID}static credential(e,n){return Bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lg.parseLink(n);return ze(r,"argument-error"),Bl._fromEmailAndCode(e,r.code,r.tenantId)}}Ra.PROVIDER_ID="password";Ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Jw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends du{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return so.credential(n,r)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends du{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends du{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Si._fromIdTokenResponse(e,r,i),s=A0(r);return new aa({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A0(r);return new aa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Sr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gc(e,n,r,i)}}function Zw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(t,o,e,r):o})}async function eD(t,e,n=!1){const r=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return aa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e,n=!1){const{auth:r}=t;if(xi(r.app))return Promise.reject(vo(r));const i="reauthenticate";try{const o=await Ul(t,Zw(r,i,e,t),n);ze(o.idToken,r,"internal-error");const s=og(o.idToken);ze(s,r,"internal-error");const{sub:a}=s;return ze(t.uid===a,r,"user-mismatch"),aa._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(t,e,n=!1){if(xi(t.app))return Promise.reject(vo(t));const r="signIn",i=await Zw(t,r,e),o=await aa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function nD(t,e){return eE(Sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t){const e=Sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function iD(t,e,n){return xi(t.app)?Promise.reject(vo(t)):nD(Pt(t),Ra.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e){return Pt(t).setPersistence(e)}function oD(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function sD(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function aD(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function k0(t){return Pt(t).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){const t=Dn();return sg(t)||Kd(t)}const uD=1e3,cD=10;class rE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=lD()&&RC(),this.fallbackToPolling=Yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);SC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rE.type="LOCAL";const ug=rE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iE.type="SESSION";const oE=iE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async f=>f(n.origin,o)),l=await dD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const f=cg("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const c=d;if(c.data.eventId===f)switch(c.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(c.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function hD(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function pD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gD(){return sE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="firebaseLocalStorageDb",vD=1,Xc="firebaseLocalStorage",lE="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gd(t,e){return t.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function yD(){const t=indexedDB.deleteDatabase(aE);return new fu(t).toPromise()}function zp(){const t=indexedDB.open(aE,vD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xc,{keyPath:lE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xc)?e(r):(r.close(),await yD(),e(await zp()))})})}async function x0(t,e,n){const r=Gd(t,!0).put({[lE]:e,value:n});return new fu(r).toPromise()}async function _D(t,e){const n=Gd(t,!1).get(e),r=await new fu(n).toPromise();return r===void 0?null:r.value}function I0(t,e){const n=Gd(t,!0).delete(e);return new fu(n).toPromise()}const bD=800,wD=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(gD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new fD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await x0(e,Qc,"1"),await I0(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_D(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Gd(i,!1).getAll();return new fu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const ED=uE;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){return e?Ri(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AD(t){return eE(t.auth,new dg(t),t.bypassAuthState)}function kD(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),tD(n,new dg(t),t.bypassAuthState)}async function xD(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),eD(n,new dg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AD;case"linkViaPopup":case"linkViaRedirect":return xD;case"reauthViaPopup":case"reauthViaRedirect":return kD;default:qr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new cu(2e3,1e4);class qs extends cE{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ID.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",Tc=new Map;class RD extends cE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const r=await OD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OD(t,e){const n=DD(e),r=CD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PD(t,e){Tc.set(t._key(),e)}function CD(t){return Ri(t._redirectPersistence)}function DD(t){return Ec(SD,t.config.apiKey,t.name)}async function MD(t,e,n=!1){if(xi(t.app))return Promise.reject(vo(t));const r=Sa(t),i=TD(r,e),s=await new RD(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=10*60*1e3;class LD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$D(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ND&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(e))}saveEventToCache(e){this.cachedEventUids.add(S0(e)),this.lastProcessedEventTime=Date.now()}}function S0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $D(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e={}){return Co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UD=/^https?/;async function BD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VD(t);for(const n of e)try{if(jD(n))return}catch{}qr(t,"unauthorized-domain")}function jD(t){const e=qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!UD.test(n))return!1;if(FD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new cu(3e4,6e4);function R0(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HD(t){return new Promise((e,n)=>{var r,i,o;function s(){R0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R0(),n(fi(t,"network-request-failed"))},timeout:qD.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hi().gapi)===null||o===void 0)&&o.load)s();else{const a=VC("iframefcb");return hi()[a]=()=>{gapi.load?s():n(fi(t,"network-request-failed"))},Qw(`${$C()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function zD(t){return Ac=Ac||HD(t),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new cu(5e3,15e3),WD="__/auth/iframe",YD="emulator/auth/iframe",GD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XD(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ig(e,YD):`https://${t.config.authDomain}/${WD}`,r={apiKey:e.apiKey,appName:t.name,v:ws},i=QD.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${uu(r).slice(1)}`}async function JD(t){const e=await zD(t),n=hi().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:XD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=fi(t,"network-request-failed"),a=hi().setTimeout(()=>{o(s)},KD.get());function l(){hi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eM=500,tM=600,nM="_blank",rM="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iM(t,e,n,r=eM,i=tM){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ZD),{width:r.toString(),height:i.toString(),top:o,left:s}),f=Dn().toLowerCase();n&&(a=qw(f)?nM:n),jw(f)&&(e=e||rM,l.scrollbars="yes");const u=Object.entries(l).reduce((c,[h,p])=>`${c}${h}=${p},`,"");if(IC(f)&&a!=="_self")return oM(e||"",a),new O0(null);const d=window.open(e||"",a,u);ze(d,t,"popup-blocked");try{d.focus()}catch{}return new O0(d)}function oM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="__/auth/handler",aM="emulator/auth/handler",lM=encodeURIComponent("fac");async function P0(t,e,n,r,i,o){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ws,eventId:i};if(e instanceof Jw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",RR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof du){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),f=l?`#${lM}=${encodeURIComponent(l)}`:"";return`${uM(t)}?${uu(a).slice(1)}${f}`}function uM({config:t}){return t.emulator?ig(t,aM):`https://${t.authDomain}/${sM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="webStorageSupport";class cM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=MD,this._overrideRedirectResult=PD}async _openPopup(e,n,r,i){var o;$i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await P0(e,n,r,qp(),i);return iM(e,s,cg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await P0(e,n,r,qp(),i);return hD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JD(e),r=new LD(e);return n.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jh,{type:jh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[jh];s!==void 0&&n(!!s),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yw()||sg()||Kd()}}const dM=cM;var C0="@firebase/auth",D0="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(t){jr(new Ir("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ze(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gw(t)},f=new MC(r,i,o,l);return qC(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jr(new Ir("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(r=>new fM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(C0,D0,hM(t)),cr(C0,D0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=5*60,gM=ew("authIdTokenMaxAge")||mM;let M0=null;const vM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gM)return;const i=n==null?void 0:n.token;M0!==i&&(M0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yM(t=jd()){const e=Po(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jC(t,{popupRedirectResolver:dM,persistence:[ED,ug,oE]}),r=ew("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=vM(o.toString());sD(n,s,()=>s(n.currentUser)),oD(n,a=>s(a))}}const i=Xb("auth");return i&&HC(n,`http://${i}`),n}function _M(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=fi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_M().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");var bM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe,fg=fg||{},Ge=bM||self;function Qd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function wM(t){return Object.prototype.hasOwnProperty.call(t,qh)&&t[qh]||(t[qh]=++EM)}var qh="closure_uid_"+(1e9*Math.random()>>>0),EM=0;function TM(t,e,n){return t.call.apply(t.bind,arguments)}function AM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?zn=TM:zn=AM,zn.apply(null,arguments)}function ec(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function yn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Do(){this.s=this.s,this.o=this.o}var kM=0;Do.prototype.s=!1;Do.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kM!=0)&&wM(this)};Do.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function N0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Kn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kn.prototype.h=function(){this.defaultPrevented=!0};var xM=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ge.addEventListener("test",n,e),Ge.removeEventListener("test",n,e)}catch{}return t}();function jl(t){return/^[\s\xa0]*$/.test(t)}function Jd(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function ri(t){return Jd().indexOf(t)!=-1}function pg(t){return pg[" "](t),t}pg[" "]=function(){};function IM(t,e){var n=bN;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var SM=ri("Opera"),la=ri("Trident")||ri("MSIE"),hE=ri("Edge"),Kp=hE||la,pE=ri("Gecko")&&!(Jd().toLowerCase().indexOf("webkit")!=-1&&!ri("Edge"))&&!(ri("Trident")||ri("MSIE"))&&!ri("Edge"),RM=Jd().toLowerCase().indexOf("webkit")!=-1&&!ri("Edge");function mE(){var t=Ge.document;return t?t.documentMode:void 0}var Wp;e:{var Hh="",zh=function(){var t=Jd();if(pE)return/rv:([^\);]+)(\)|;)/.exec(t);if(hE)return/Edge\/([\d\.]+)/.exec(t);if(la)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(RM)return/WebKit\/(\S+)/.exec(t);if(SM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(zh&&(Hh=zh?zh[1]:""),la){var Kh=mE();if(Kh!=null&&Kh>parseFloat(Hh)){Wp=String(Kh);break e}}Wp=Hh}var Yp;if(Ge.document&&la){var L0=mE();Yp=L0||parseInt(Wp,10)||void 0}else Yp=void 0;var OM=Yp;function ql(t,e){if(Kn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pE){e:{try{pg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ql.$.h.call(this)}}yn(ql,Kn);var PM={2:"touch",3:"pen",4:"mouse"};ql.prototype.h=function(){ql.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zd="closure_listenable_"+(1e6*Math.random()|0),CM=0;function DM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++CM,this.fa=this.ia=!1}function ef(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function mg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function MM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function gE(t){const e={};for(const n in t)e[n]=t[n];return e}const $0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<$0.length;o++)n=$0[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tf(t){this.src=t,this.g={},this.h=0}tf.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Qp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new DM(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Gp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=fE(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ef(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var gg="closure_lm_"+(1e6*Math.random()|0),Wh={};function yE(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yE(t,e[o],n,r,i);return null}return n=wE(n),t&&t[Zd]?t.O(e,n,Xd(r)?!!r.capture:!!r,i):NM(t,e,n,!1,r,i)}function NM(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xd(i)?!!i.capture:!!i,a=yg(t);if(a||(t[gg]=a=new tf(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=LM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xM||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LM(){function t(n){return e.call(t.src,t.listener,n)}const e=$M;return t}function _E(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_E(t,e[o],n,r,i);else r=Xd(r)?!!r.capture:!!r,n=wE(n),t&&t[Zd]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Qp(o,n,r,i),-1<n&&(ef(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=yg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qp(e,n,r,i)),(n=-1<t?e[t]:null)&&vg(n))}function vg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zd])Gp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yg(e))?(Gp(n,t),n.h==0&&(n.src=null,e[gg]=null)):ef(t)}}}function bE(t){return t in Wh?Wh[t]:Wh[t]="on"+t}function $M(t,e){if(t.fa)t=!0;else{e=new ql(e,this);var n=t.listener,r=t.la||t.src;t.ia&&vg(t),t=n.call(r,e)}return t}function yg(t){return t=t[gg],t instanceof tf?t:null}var Yh="__closure_events_fn_"+(1e9*Math.random()>>>0);function wE(t){return typeof t=="function"?t:(t[Yh]||(t[Yh]=function(e){return t.handleEvent(e)}),t[Yh])}function vn(){Do.call(this),this.i=new tf(this),this.S=this,this.J=null}yn(vn,Do);vn.prototype[Zd]=!0;vn.prototype.removeEventListener=function(t,e,n,r){_E(this,t,e,n,r)};function On(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Kn(e,t);else if(e instanceof Kn)e.target=e.target||t;else{var i=e;e=new Kn(r,t),vE(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=tc(s,r,!0,e)&&i}if(s=e.g=t,i=tc(s,r,!0,e)&&i,i=tc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=tc(s,r,!1,e)&&i}vn.prototype.N=function(){if(vn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ef(n[r]);delete t.g[e],t.h--}}this.J=null};vn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};vn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function tc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Gp(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var _g=Ge.JSON.stringify;class VM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function FM(){var t=bg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UM{constructor(){this.h=this.g=null}add(e,n){const r=EE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var EE=new VM(()=>new BM,t=>t.reset());class BM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function qM(t){Ge.setTimeout(()=>{throw t},0)}let Hl,zl=!1,bg=new UM,TE=()=>{const t=Ge.Promise.resolve(void 0);Hl=()=>{t.then(HM)}};var HM=()=>{for(var t;t=FM();){try{t.h.call(t.g)}catch(n){qM(n)}var e=EE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zl=!1};function nf(t,e){vn.call(this),this.h=t||1,this.g=e||Ge,this.j=zn(this.qb,this),this.l=Date.now()}yn(nf,vn);Pe=nf.prototype;Pe.ga=!1;Pe.T=null;Pe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&(wg(this),this.start()))}};Pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Pe.N=function(){nf.$.N.call(this),wg(this),delete this.g};function Eg(t,e,n){if(typeof t=="function")n&&(t=zn(t,n));else if(t&&typeof t.handleEvent=="function")t=zn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function AE(t){t.g=Eg(()=>{t.g=null,t.i&&(t.i=!1,AE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class zM extends Do{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AE(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kl(t){Do.call(this),this.h=t,this.g={}}yn(Kl,Do);var V0=[];function kE(t,e,n,r){Array.isArray(n)||(n&&(V0[0]=n.toString()),n=V0);for(var i=0;i<n.length;i++){var o=yE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function xE(t){mg(t.g,function(e,n){this.g.hasOwnProperty(n)&&vg(e)},t),t.g={}}Kl.prototype.N=function(){Kl.$.N.call(this),xE(this)};Kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rf(){this.g=!0}rf.prototype.Ea=function(){this.g=!1};function KM(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var f=a[l].split("=");if(1<f.length){var u=f[0];f=f[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+f+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function WM(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Hs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GM(t,n)+(r?" "+r:"")})}function YM(t,e){t.info(function(){return"TIMEOUT: "+e})}rf.prototype.info=function(){};function GM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return _g(n)}catch{return e}}var Ts={},F0=null;function of(){return F0=F0||new vn}Ts.Ta="serverreachability";function IE(t){Kn.call(this,Ts.Ta,t)}yn(IE,Kn);function Wl(t){const e=of();On(e,new IE(e))}Ts.STAT_EVENT="statevent";function SE(t,e){Kn.call(this,Ts.STAT_EVENT,t),this.stat=e}yn(SE,Kn);function er(t){const e=of();On(e,new SE(e,t))}Ts.Ua="timingevent";function RE(t,e){Kn.call(this,Ts.Ua,t),this.size=e}yn(RE,Kn);function hu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}var sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Tg(){}Tg.prototype.h=null;function U0(t){return t.h||(t.h=t.i())}function PE(){}var pu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ag(){Kn.call(this,"d")}yn(Ag,Kn);function kg(){Kn.call(this,"c")}yn(kg,Kn);var Xp;function af(){}yn(af,Tg);af.prototype.g=function(){return new XMLHttpRequest};af.prototype.i=function(){return{}};Xp=new af;function mu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kl(this),this.P=QM,t=Kp?125:void 0,this.V=new nf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CE}function CE(){this.i=null,this.g="",this.h=!1}var QM=45e3,DE={},Jp={};Pe=mu.prototype;Pe.setTimeout=function(t){this.P=t};function Zp(t,e,n){t.L=1,t.A=uf(Vi(e)),t.u=n,t.S=!0,ME(t,null)}function ME(t,e){t.G=Date.now(),gu(t),t.B=Vi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),jE(n.i,"t",r),t.o=0,n=t.l.J,t.h=new CE,t.g=uT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new zM(zn(t.Pa,t,t.g),t.O)),kE(t.U,t.g,"readystatechange",t.nb),e=t.I?gE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Wl(),KM(t.j,t.v,t.B,t.m,t.W,t.u)}Pe.nb=function(t){t=t.target;const e=this.M;e&&si(t)==3?e.l():this.Pa(t)};Pe.Pa=function(t){try{if(t==this.g)e:{const u=si(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Kp||this.g&&(this.h.h||this.g.ja()||H0(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Wl(3):Wl(2)),lf(this);var n=this.g.da();this.ca=n;t:if(NE(this)){var r=H0(this.g);t="";var i=r.length,o=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),wl(this);var s="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,WM(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jl(a)){var f=a;break t}}f=null}if(n=f)Hs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,em(this,n);else{this.i=!1,this.s=3,er(12),Jo(this),wl(this);break e}}this.S?(LE(this,u,s),Kp&&this.i&&u==3&&(kE(this.U,this.V,"tick",this.mb),this.V.start())):(Hs(this.j,this.m,s,null),em(this,s)),u==4&&Jo(this),this.i&&!this.J&&(u==4?oT(this.l,this):(this.i=!1,gu(this)))}else vN(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,er(12)):(this.s=0,er(13)),Jo(this),wl(this)}}}catch{}finally{}};function NE(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function LE(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=XM(t,n),i==Jp){e==4&&(t.s=4,er(14),r=!1),Hs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==DE){t.s=4,er(15),Hs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Hs(t.j,t.m,i,null),em(t,i);NE(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,er(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pg(e),e.M=!0,er(11))):(Hs(t.j,t.m,n,"[Invalid Chunked Response]"),Jo(t),wl(t))}Pe.mb=function(){if(this.g){var t=si(this.g),e=this.g.ja();this.o<e.length&&(lf(this),LE(this,t,e),this.i&&t!=4&&gu(this))}};function XM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Jp:(n=Number(e.substring(n,r)),isNaN(n)?DE:(r+=1,r+n>e.length?Jp:(e=e.slice(r,r+n),t.o=r+n,e)))}Pe.cancel=function(){this.J=!0,Jo(this)};function gu(t){t.Y=Date.now()+t.P,$E(t,t.P)}function $E(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=hu(zn(t.lb,t),e)}function lf(t){t.C&&(Ge.clearTimeout(t.C),t.C=null)}Pe.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(YM(this.j,this.B),this.L!=2&&(Wl(),er(17)),Jo(this),this.s=2,wl(this)):$E(this,this.Y-t)};function wl(t){t.l.H==0||t.J||oT(t.l,t)}function Jo(t){lf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,wg(t.V),xE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function em(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||tm(n.i,t))){if(!t.K&&tm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ed(n),ff(n);else break e;Og(n),er(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=hu(zn(n.ib,n),6e3));if(1>=zE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zo(n,11)}else if((t.K||n.g==t)&&ed(n),!jl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const u=f[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=f[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const c=f[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(xg(o,o.h),o.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Rt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=lT(r,r.J?r.pa:null,r.Y),s.K){KE(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(lf(a),gu(a)),r.g=s}else rT(r);0<n.j.length&&hf(n)}else f[0]!="stop"&&f[0]!="close"||Zo(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Zo(n,7):Rg(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Wl(4)}catch{}}function JM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ZM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function VE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZM(t),r=JM(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var FE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function os(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof os){this.h=t.h,Jc(this,t.j),this.s=t.s,this.g=t.g,Zc(this,t.m),this.l=t.l;var e=t.i,n=new Yl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),B0(this,n),this.o=t.o}else t&&(e=String(t).match(FE))?(this.h=!1,Jc(this,e[1]||"",!0),this.s=il(e[2]||""),this.g=il(e[3]||"",!0),Zc(this,e[4]),this.l=il(e[5]||"",!0),B0(this,e[6]||"",!0),this.o=il(e[7]||"")):(this.h=!1,this.i=new Yl(null,this.h))}os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ol(e,j0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ol(e,j0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ol(n,n.charAt(0)=="/"?rN:nN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ol(n,oN)),t.join("")};function Vi(t){return new os(t)}function Jc(t,e,n){t.j=n?il(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function B0(t,e,n){e instanceof Yl?(t.i=e,sN(t.i,t.h)):(n||(e=ol(e,iN)),t.i=new Yl(e,t.h))}function Rt(t,e,n){t.i.set(e,n)}function uf(t){return Rt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function il(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ol(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var j0=/[#\/\?@]/g,nN=/[#\?:]/g,rN=/[#\?]/g,iN=/[#\?@]/g,oN=/#/g;function Yl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mo(t){t.g||(t.g=new Map,t.h=0,t.i&&eN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Pe=Yl.prototype;Pe.add=function(t,e){Mo(this),this.i=null,t=Oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function UE(t,e){Mo(t),e=Oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BE(t,e){return Mo(t),e=Oa(t,e),t.g.has(e)}Pe.forEach=function(t,e){Mo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Pe.ta=function(){Mo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Pe.Z=function(t){Mo(this);let e=[];if(typeof t=="string")BE(this,t)&&(e=e.concat(this.g.get(Oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Pe.set=function(t,e){return Mo(this),this.i=null,t=Oa(this,t),BE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Pe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jE(t,e,n){UE(t,e),0<n.length&&(t.i=null,t.g.set(Oa(t,e),hg(n)),t.h+=n.length)}Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sN(t,e){e&&!t.j&&(Mo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(UE(this,r),jE(this,i,n))},t)),t.j=e}var aN=class{constructor(t,e){this.g=t,this.map=e}};function qE(t){this.l=t||lN,Ge.PerformanceNavigationTiming?(t=Ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lN=10;function HE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zE(t){return t.h?1:t.g?t.g.size:0}function tm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function xg(t,e){t.g?t.g.add(e):t.h=e}function KE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qE.prototype.cancel=function(){if(this.i=WE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return hg(t.i)}var uN=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function cN(){this.g=new uN}function dN(t,e,n){const r=n||"";try{VE(t,function(i,o){let s=i;Xd(i)&&(s=_g(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fN(t,e){const n=new rf;if(Ge.Image){const r=new Image;r.onload=ec(nc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ec(nc,n,r,"TestLoadImage: error",!1,e),r.onabort=ec(nc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ec(nc,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function nc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vu(t){this.l=t.ec||null,this.j=t.ob||!1}yn(vu,Tg);vu.prototype.g=function(){return new cf(this.l,this.j)};vu.prototype.i=function(t){return function(){return t}}({});function cf(t,e){vn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ig,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn(cf,vn);var Ig=0;Pe=cf.prototype;Pe.open=function(t,e){if(this.readyState!=Ig)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gl(this)};Pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yu(this)),this.readyState=Ig};Pe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function YE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Pe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yu(this):Gl(this),this.readyState==3&&YE(this)}};Pe.Za=function(t){this.g&&(this.response=this.responseText=t,yu(this))};Pe.Ya=function(t){this.g&&(this.response=t,yu(this))};Pe.ka=function(){this.g&&yu(this)};function yu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gl(t)}Pe.setRequestHeader=function(t,e){this.v.append(t,e)};Pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hN=Ge.JSON.parse;function Ut(t){vn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GE,this.L=this.M=!1}yn(Ut,vn);var GE="",pN=/^https?$/i,mN=["POST","PUT"];Pe=Ut.prototype;Pe.Oa=function(t){this.M=t};Pe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xp.g(),this.C=this.u?U0(this.u):U0(Xp),this.g.onreadystatechange=zn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){q0(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=fE(mN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JE(this),0<this.B&&((this.L=gN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zn(this.ua,this)):this.A=Eg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){q0(this,o)}};function gN(t){return la&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Pe.ua=function(){typeof fg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))};function q0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QE(t),df(t)}function QE(t){t.F||(t.F=!0,On(t,"complete"),On(t,"error"))}Pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,On(this,"complete"),On(this,"abort"),df(this))};Pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),df(this,!0)),Ut.$.N.call(this)};Pe.La=function(){this.s||(this.G||this.v||this.l?XE(this):this.kb())};Pe.kb=function(){XE(this)};function XE(t){if(t.h&&typeof fg<"u"&&(!t.C[1]||si(t)!=4||t.da()!=2)){if(t.v&&si(t)==4)Eg(t.La,0,t);else if(On(t,"readystatechange"),si(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(FE)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!pN.test(i?i.toLowerCase():"")}n=r}if(n)On(t,"complete"),On(t,"success");else{t.m=6;try{var o=2<si(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",QE(t)}}finally{df(t)}}}}function df(t,e){if(t.g){JE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||On(t,"ready");try{n.onreadystatechange=r}catch{}}}function JE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}Pe.isActive=function(){return!!this.g};function si(t){return t.g?t.g.readyState:0}Pe.da=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}};Pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Pe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hN(e)}};function H0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vN(t){const e={};t=(t.g&&2<=si(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(jl(t[r]))continue;var n=jM(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}MM(e,function(r){return r.join(", ")})}Pe.Ia=function(){return this.m};Pe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ZE(t){let e="";return mg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Sg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Rt(t,e,n))}function Wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eT(t){this.Ga=0,this.j=[],this.l=new rf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wa("baseRetryDelayMs",5e3,t),this.hb=Wa("retryDelaySeedMs",1e4,t),this.eb=Wa("forwardChannelMaxRetries",2,t),this.xa=Wa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qE(t&&t.concurrentRequestLimit),this.Ja=new cN,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Pe=eT.prototype;Pe.ra=8;Pe.H=1;function Rg(t){if(tT(t),t.H==3){var e=t.W++,n=Vi(t.I);if(Rt(n,"SID",t.K),Rt(n,"RID",e),Rt(n,"TYPE","terminate"),_u(t,n),e=new mu(t,t.l,e),e.L=2,e.A=uf(Vi(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ge.Image&&(new Image().src=e.A,n=!0),n||(e.g=uT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),gu(e)}aT(t)}function ff(t){t.g&&(Pg(t),t.g.cancel(),t.g=null)}function tT(t){ff(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),ed(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ge.clearTimeout(t.m),t.m=null)}function hf(t){if(!HE(t.i)&&!t.m){t.m=!0;var e=t.Na;Hl||TE(),zl||(Hl(),zl=!0),bg.add(e,t),t.C=0}}function yN(t,e){return zE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=hu(zn(t.Na,t,e),sT(t,t.C)),t.C++,!0)}Pe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new mu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=gE(o),vE(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nT(this,i,e),n=Vi(this.I),Rt(n,"RID",t),Rt(n,"CVER",22),this.F&&Rt(n,"X-HTTP-Session-Id",this.F),_u(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(ZE(o)))+"&"+e:this.o&&Sg(n,this.o,o)),xg(this.i,i),this.bb&&Rt(n,"TYPE","init"),this.P?(Rt(n,"$req",e),Rt(n,"SID","null"),i.aa=!0,Zp(i,n,null)):Zp(i,n,e),this.H=2}}else this.H==3&&(t?z0(this,t):this.j.length==0||HE(this.i)||z0(this))};function z0(t,e){var n;e?n=e.m:n=t.W++;const r=Vi(t.I);Rt(r,"SID",t.K),Rt(r,"RID",n),Rt(r,"AID",t.V),_u(t,r),t.o&&t.s&&Sg(r,t.o,t.s),n=new mu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),xg(t.i,n),Zp(n,r,e)}function _u(t,e){t.na&&mg(t.na,function(n,r){Rt(e,r,n)}),t.h&&VE({},function(n,r){Rt(e,r,n)})}function nT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?zn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let f=i[l].g;const u=i[l].map;if(f-=o,0>f)o=Math.max(0,i[l].g-100),a=!1;else try{dN(u,s,"req"+f+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hl||TE(),zl||(Hl(),zl=!0),bg.add(e,t),t.A=0}}function Og(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=hu(zn(t.Ma,t),sT(t,t.A)),t.A++,!0)}Pe.Ma=function(){if(this.u=null,iT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hu(zn(this.jb,this),t)}};Pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,er(10),ff(this),iT(this))};function Pg(t){t.B!=null&&(Ge.clearTimeout(t.B),t.B=null)}function iT(t){t.g=new mu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Vi(t.wa);Rt(e,"RID","rpc"),Rt(e,"SID",t.K),Rt(e,"AID",t.V),Rt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Rt(e,"TO",t.qa),Rt(e,"TYPE","xmlhttp"),_u(t,e),t.o&&t.s&&Sg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=uf(Vi(e)),n.u=null,n.S=!0,ME(n,t)}Pe.ib=function(){this.v!=null&&(this.v=null,ff(this),Og(this),er(19))};function ed(t){t.v!=null&&(Ge.clearTimeout(t.v),t.v=null)}function oT(t,e){var n=null;if(t.g==e){ed(t),Pg(t),t.g=null;var r=2}else if(tm(t.i,e))n=e.F,KE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=of(),On(r,new RE(r,n)),hf(t)}else rT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&yN(t,e)||r==2&&Og(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zo(t,5);break;case 4:Zo(t,10);break;case 3:Zo(t,6);break;default:Zo(t,2)}}}function sT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=zn(t.pb,t);n||(n=new os("//www.google.com/images/cleardot.gif"),Ge.location&&Ge.location.protocol=="http"||Jc(n,"https"),uf(n)),fN(n.toString(),r)}else er(2);t.H=0,t.h&&t.h.za(e),aT(t),tT(t)}Pe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),er(2)):(this.l.info("Failed to ping google.com"),er(1))};function aT(t){if(t.H=0,t.ma=[],t.h){const e=WE(t.i);(e.length!=0||t.j.length!=0)&&(N0(t.ma,e),N0(t.ma,t.j),t.i.i.length=0,hg(t.j),t.j.length=0),t.h.ya()}}function lT(t,e,n){var r=n instanceof os?Vi(n):new os(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zc(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new os(null);r&&Jc(o,r),e&&(o.g=e),i&&Zc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Rt(r,n,e),Rt(r,"VER",t.ra),_u(t,r),r}function uT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ut(new vu({ob:n})):new Ut(t.va),e.Oa(t.J),e}Pe.isActive=function(){return!!this.h&&this.h.isActive(this)};function cT(){}Pe=cT.prototype;Pe.Ba=function(){};Pe.Aa=function(){};Pe.za=function(){};Pe.ya=function(){};Pe.isActive=function(){return!0};Pe.Va=function(){};function td(){if(la&&!(10<=Number(OM)))throw Error("Environmental error: no available transport.")}td.prototype.g=function(t,e){return new wr(t,e)};function wr(t,e){vn.call(this),this.g=new eT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pa(this)}yn(wr,vn);wr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;er(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lT(t,null,t.Y),hf(t)};wr.prototype.close=function(){Rg(this.g)};wr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_g(t),t=n);e.j.push(new aN(e.fb++,t)),e.H==3&&hf(e)};wr.prototype.N=function(){this.g.h=null,delete this.j,Rg(this.g),delete this.g,wr.$.N.call(this)};function dT(t){Ag.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}yn(dT,Ag);function fT(){kg.call(this),this.status=1}yn(fT,kg);function Pa(t){this.g=t}yn(Pa,cT);Pa.prototype.Ba=function(){On(this.g,"a")};Pa.prototype.Aa=function(t){On(this.g,new dT(t))};Pa.prototype.za=function(t){On(this.g,new fT)};Pa.prototype.ya=function(){On(this.g,"b")};function _N(){this.blockSize=-1}function Hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}yn(Hr,_N);Hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Hr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Gh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Gh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Gh(this,r),i=0;break}}this.h=i,this.i+=e};Hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function wt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var bN={};function Cg(t){return-128<=t&&128>t?IM(t,function(e){return new wt([e|0],0>e?-1:0)}):new wt([t|0],0>t?-1:0)}function ai(t){if(isNaN(t)||!isFinite(t))return ea;if(0>t)return xn(ai(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=nm;return new wt(e,0)}function hT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return xn(hT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ai(Math.pow(e,8)),r=ea,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ai(Math.pow(e,o)),r=r.R(o).add(ai(s))):(r=r.R(n),r=r.add(ai(s)))}return r}var nm=4294967296,ea=Cg(0),rm=Cg(1),K0=Cg(16777216);Pe=wt.prototype;Pe.ea=function(){if(Tr(this))return-xn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:nm+r)*e,e*=nm}return t};Pe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Oi(this))return"0";if(Tr(this))return"-"+xn(this).toString(t);for(var e=ai(Math.pow(t,6)),n=this,r="";;){var i=rd(n,e).g;n=nd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Oi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Pe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Oi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tr(t){return t.h==-1}Pe.X=function(t){return t=nd(this,t),Tr(t)?-1:Oi(t)?0:1};function xn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new wt(n,~t.h).add(rm)}Pe.abs=function(){return Tr(this)?xn(this):this};Pe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new wt(n,n[n.length-1]&-2147483648?-1:0)};function nd(t,e){return t.add(xn(e))}Pe.R=function(t){if(Oi(this)||Oi(t))return ea;if(Tr(this))return Tr(t)?xn(this).R(xn(t)):xn(xn(this).R(t));if(Tr(t))return xn(this.R(xn(t)));if(0>this.X(K0)&&0>t.X(K0))return ai(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,rc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,rc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,rc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,rc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new wt(n,0)};function rc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ya(t,e){this.g=t,this.h=e}function rd(t,e){if(Oi(e))throw Error("division by zero");if(Oi(t))return new Ya(ea,ea);if(Tr(t))return e=rd(xn(t),e),new Ya(xn(e.g),xn(e.h));if(Tr(e))return e=rd(t,xn(e)),new Ya(xn(e.g),e.h);if(30<t.g.length){if(Tr(t)||Tr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rm,r=e;0>=r.X(t);)n=W0(n),r=W0(r);var i=Ms(n,1),o=Ms(r,1);for(r=Ms(r,2),n=Ms(n,2);!Oi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ms(r,1),n=Ms(n,1)}return e=nd(t,i.R(e)),new Ya(i,e)}for(i=ea;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=ai(n),s=o.R(e);Tr(s)||0<s.X(t);)n-=r,o=ai(n),s=o.R(e);Oi(o)&&(o=rm),i=i.add(o),t=nd(t,s)}return new Ya(i,t)}Pe.gb=function(t){return rd(this,t).h};Pe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new wt(n,this.h&t.h)};Pe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new wt(n,this.h|t.h)};Pe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new wt(n,this.h^t.h)};function W0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new wt(n,t.h)}function Ms(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new wt(i,t.h)}td.prototype.createWebChannel=td.prototype.g;wr.prototype.send=wr.prototype.u;wr.prototype.open=wr.prototype.m;wr.prototype.close=wr.prototype.close;sf.NO_ERROR=0;sf.TIMEOUT=8;sf.HTTP_ERROR=6;OE.COMPLETE="complete";PE.EventType=pu;pu.OPEN="a";pu.CLOSE="b";pu.ERROR="c";pu.MESSAGE="d";vn.prototype.listen=vn.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;Hr.prototype.digest=Hr.prototype.l;Hr.prototype.reset=Hr.prototype.reset;Hr.prototype.update=Hr.prototype.j;wt.prototype.add=wt.prototype.add;wt.prototype.multiply=wt.prototype.R;wt.prototype.modulo=wt.prototype.gb;wt.prototype.compare=wt.prototype.X;wt.prototype.toNumber=wt.prototype.ea;wt.prototype.toString=wt.prototype.toString;wt.prototype.getBits=wt.prototype.D;wt.fromNumber=ai;wt.fromString=hT;var wN=function(){return new td},EN=function(){return of()},Qh=sf,TN=OE,AN=Ts,Y0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kN=vu,ic=PE,xN=Ut,IN=Hr,ta=wt;const G0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Bd("@firebase/firestore");function Ga(){return hs.logLevel}function Le(t,...e){if(hs.logLevel<=st.DEBUG){const n=e.map(Dg);hs.debug(`Firestore (${Ca}): ${t}`,...n)}}function Fi(t,...e){if(hs.logLevel<=st.ERROR){const n=e.map(Dg);hs.error(`Firestore (${Ca}): ${t}`,...n)}}function ua(t,...e){if(hs.logLevel<=st.WARN){const n=e.map(Dg);hs.warn(`Firestore (${Ca}): ${t}`,...n)}}function Dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: `+t;throw Fi(e),new Error(e)}function xt(t,e){t||We()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class RN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ON{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ni)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string"),new pT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Un(e)}}class PN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class CN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string"),this.R=n.token,new DN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=NN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new un(0,0))}static max(){return new Xe(new un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(),r===void 0?r=e.length-n:r>e.length-n&&We(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends Ql{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const LN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Ql{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return LN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Fe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Fe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Ot.fromString(e))}static fromName(e){return new qe(Ot.fromString(e).popFirst(5))}static empty(){return new qe(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Ot(e.slice()))}}function $N(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new Ao(i,qe.empty(),e)}function VN(t){return new Ao(t.readTime,t.key,-1)}class Ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ao(Xe.min(),qe.empty(),-1)}static max(){return new Ao(Xe.max(),qe.empty(),-1)}}function FN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t){if(t.code!==Ae.FAILED_PRECONDITION||t.message!==UN)throw t;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const f=l;n(e[f]).next(u=>{s[f]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new ke((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function jN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mg.oe=-1;function pf(t){return t==null}function id(t){return t===0&&1/t==-1/0}function qN(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Pn(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vT("Invalid base64 string: "+o):o}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const HN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(xt(!!t),typeof t=="string"){let e=0;const n=HN.exec(t);if(xt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lg(t){const e=t.mapValue.fields.__previous_value__;return Ng(e)?Lg(e):e}function Xl(t){const e=ko(t.mapValue.fields.__local_write_time__.timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r,i,o,s,a,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f}}class Jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ng(t)?4:KN(t)?9007199254740991:10:We()}function yi(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xl(t).isEqual(Xl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ko(i.timestampValue),a=ko(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ps(i.bytesValue).isEqual(ps(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Zt(i.geoPointValue.latitude)===Zt(o.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Zt(i.integerValue)===Zt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Zt(i.doubleValue),a=Zt(o.doubleValue);return s===a?id(s)===id(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ca(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Q0(s)!==Q0(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!yi(s[l],a[l])))return!1;return!0}(t,e);default:return We()}}function Zl(t,e){return(t.values||[]).find(n=>yi(n,e))!==void 0}function da(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Zt(o.integerValue||o.doubleValue),l=Zt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return J0(t.timestampValue,e.timestampValue);case 4:return J0(Xl(t),Xl(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ps(o),l=ps(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let f=0;f<a.length&&f<l.length;f++){const u=ft(a[f],l[f]);if(u!==0)return u}return ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ft(Zt(o.latitude),Zt(s.latitude));return a!==0?a:ft(Zt(o.longitude),Zt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let f=0;f<a.length&&f<l.length;++f){const u=da(a[f],l[f]);if(u)return u}return ft(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===sc.mapValue&&s===sc.mapValue)return 0;if(o===sc.mapValue)return 1;if(s===sc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),f=s.fields||{},u=Object.keys(f);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const c=ft(l[d],u[d]);if(c!==0)return c;const h=da(a[l[d]],f[u[d]]);if(h!==0)return h}return ft(l.length,u.length)}(t.mapValue,e.mapValue);default:throw We()}}function J0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=ko(t),r=ko(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function fa(t){return im(t)}function im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=im(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${im(n.fields[s])}`;return i+"}"}(t.mapValue):We()}function om(t){return!!t&&"integerValue"in t}function $g(t){return!!t&&"arrayValue"in t}function Z0(t){return!!t&&"nullValue"in t}function e_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kc(t){return!!t&&"mapValue"in t}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=El(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=Sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=El(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){As(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ar(El(this.value))}}function yT(t){const e=[];return As(t.fields,(n,r)=>{const i=new Sn([n]);if(kc(r)){const o=yT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new jn(e,0,Xe.min(),Xe.min(),Xe.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new jn(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new jn(e,2,n,Xe.min(),Xe.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Xe.min(),Xe.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.position=e,this.inclusive=n}}function t_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(s.referenceValue),n.key):r=da(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function WN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{}class on extends _T{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GN(e,n,r):n==="array-contains"?new JN(e,r):n==="in"?new ZN(e,r):n==="not-in"?new e4(e,r):n==="array-contains-any"?new t4(e,r):new on(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QN(e,r):new XN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(da(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends _T{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _i(e,n)}matches(e){return bT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bT(t){return t.op==="and"}function wT(t){return YN(t)&&bT(t)}function YN(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function sm(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(wT(t))return t.filters.map(e=>sm(e)).join(",");{const e=t.filters.map(n=>sm(n)).join(",");return`${t.op}(${e})`}}function ET(t,e){return t instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.field.isEqual(i.field)&&yi(r.value,i.value)}(t,e):t instanceof _i?function(r,i){return i instanceof _i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ET(s,i.filters[a]),!0):!1}(t,e):void We()}function TT(t){return t instanceof on?function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`}(t):t instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"}(t):"Filter"}class GN extends on{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class QN extends on{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XN extends on{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class JN extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $g(n)&&Zl(n.arrayValue,this.value)}}class ZN extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class e4 extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zl(this.value.arrayValue,n)}}class t4 extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function r_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new n4(t,e,n,r,i,o,s)}function Vg(t){const e=et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.ue=n}return e.ue}function Fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ET(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n_(t.startAt,e.startAt)&&n_(t.endAt,e.endAt)}function am(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function r4(t,e,n,r,i,o,s,a){return new mf(t,e,n,r,i,o,s,a)}function Ug(t){return new mf(t)}function i_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i4(t){return t.collectionGroup!==null}function Tl(t){const e=et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pn(Sn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new sd(o,r))}),n.has(Sn.keyField().canonicalString())||e.ce.push(new sd(Sn.keyField(),r))}return e.ce}function pi(t){const e=et(t);return e.le||(e.le=o4(e,Tl(t))),e.le}function o4(t,e){if(t.limitType==="F")return r_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new sd(i.field,o)});const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return r_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lm(t,e,n){return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Fg(pi(t),pi(e))&&t.limitType===e.limitType}function kT(t){return`${Vg(pi(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TT(i)).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(pi(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Tl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const f=t_(s,a,l);return s.inclusive?f<=0:f<0}(r.startAt,Tl(r),i)||r.endAt&&!function(s,a,l){const f=t_(s,a,l);return s.inclusive?f>=0:f>0}(r.endAt,Tl(r),i))}(t,e)}function s4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xT(t){return(e,n)=>{let r=!1;for(const i of Tl(t)){const o=a4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function a4(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?da(l,f):We()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Lt(qe.comparator);function Ui(){return l4}const IT=new Lt(qe.comparator);function sl(...t){let e=IT;for(const n of t)e=e.insert(n.key,n);return e}function ST(t){let e=IT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return Al()}function RT(){return Al()}function Al(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const u4=new Lt(qe.comparator),c4=new Pn(qe.comparator);function ot(...t){let e=c4;for(const n of t)e=e.add(n);return e}const d4=new Pn(ft);function f4(){return d4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function PT(t){return{integerValue:""+t}}function h4(t,e){return qN(e)?PT(e):OT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function p4(t,e,n){return t instanceof ad?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ng(o)&&(o=Lg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ha?DT(t,e):t instanceof eu?MT(t,e):function(i,o){const s=CT(i,o),a=o_(s)+o_(i.Pe);return om(s)&&om(i.Pe)?PT(a):OT(i.serializer,a)}(t,e)}function m4(t,e,n){return t instanceof ha?DT(t,e):t instanceof eu?MT(t,e):n}function CT(t,e){return t instanceof ld?function(r){return om(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ad extends yf{}class ha extends yf{constructor(e){super(),this.elements=e}}function DT(t,e){const n=NT(e);for(const r of t.elements)n.some(i=>yi(i,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends yf{constructor(e){super(),this.elements=e}}function MT(t,e){let n=NT(e);for(const r of t.elements)n=n.filter(i=>!yi(i,r));return{arrayValue:{values:n}}}class ld extends yf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function o_(t){return Zt(t.integerValue||t.doubleValue)}function NT(t){return $g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.field=e,this.transform=n}}function v4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof eu&&i instanceof eu?ca(r.elements,i.elements,yi):r instanceof ld&&i instanceof ld?yi(r.Pe,i.Pe):r instanceof ad&&i instanceof ad}(t.transform,e.transform)}class y4{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function LT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bg(t.key,$r.none()):new Eu(t.key,t.data,$r.none());{const n=t.data,r=ar.empty();let i=new Pn(Sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new No(t.key,r,new gr(i.toArray()),$r.none())}}function _4(t,e,n){t instanceof Eu?function(i,o,s){const a=i.value.clone(),l=a_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof No?function(i,o,s){if(!xc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=a_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll($T(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function kl(t,e,n,r){return t instanceof Eu?function(o,s,a,l){if(!xc(o.precondition,s))return a;const f=o.value.clone(),u=l_(o.fieldTransforms,l,s);return f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(o,s,a,l){if(!xc(o.precondition,s))return a;const f=l_(o.fieldTransforms,l,s),u=s.data;return u.setAll($T(o)),u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return xc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function b4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=CT(r.transform,i||null);o!=null&&(n===null&&(n=ar.empty()),n.set(r.field,o))}return n||null}function s_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ca(r,i,(o,s)=>v4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends _f{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class No extends _f{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $T(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a_(t,e,n){const r=new Map;xt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,m4(s,a,n[i]))}return r}function l_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,p4(o,s,e))}return r}class Bg extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w4 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&_4(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=LT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(n,r)=>s_(n,r))&&ca(this.baseMutations,e.baseMutations,(n,r)=>s_(n,r))}}class jg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xt(e.mutations.length===r.length);let i=function(){return u4}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new jg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,at;function k4(t){switch(t){default:return We();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function VT(t){if(t===void 0)return Fi("GRPC error has no .code"),Ae.UNKNOWN;switch(t){case Jt.OK:return Ae.OK;case Jt.CANCELLED:return Ae.CANCELLED;case Jt.UNKNOWN:return Ae.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return Ae.INTERNAL;case Jt.UNAVAILABLE:return Ae.UNAVAILABLE;case Jt.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Jt.NOT_FOUND:return Ae.NOT_FOUND;case Jt.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Jt.ABORTED:return Ae.ABORTED;case Jt.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Jt.DATA_LOSS:return Ae.DATA_LOSS;default:return We()}}(at=Jt||(Jt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new ta([4294967295,4294967295],0);function u_(t){const e=x4().encode(t),n=new IN;return n.update(e),new Uint8Array(n.digest())}function c_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ta([n,r],0),new ta([i,o],0)]}class qg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ta.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ta.fromNumber(r)));return i.compare(I4)===1&&(i=new ta([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=u_(e),[r,i]=c_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new qg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=u_(e),[r,i]=c_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bf(Xe.min(),i,new Lt(ft),Ui(),ot())}}class Tu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FT{constructor(e,n){this.targetId=e,this.me=n}}class UT{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d_{constructor(){this.fe=0,this.ge=h_(),this.pe=Wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ot(),n=ot(),r=ot();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We()}}),new Tu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=h_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class S4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ui(),this.qe=f_(),this.Qe=new Lt(ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:We()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(am(o))if(r===0){const s=new qe(o.path);this.Ue(n,s,jn.newNoDocument(s,Xe.min()))}else xt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ps(r).toUint8Array()}catch(l){if(l instanceof vT)return ua("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qg(s,i,o)}catch(l){return ua(l instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&am(a.target)){const l=new qe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,jn.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=ot();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const f=this.Je(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new bf(e,n,this.Qe,this.ke,r);return this.ke=Ui(),this.qe=f_(),this.Qe=new Lt(ft),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new d_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pn(ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new d_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function f_(){return new Lt(qe.comparator)}function h_(){return new Lt(qe.comparator)}const R4={asc:"ASCENDING",desc:"DESCENDING"},O4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P4={and:"AND",or:"OR"};class C4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function um(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D4(t,e){return ud(t,e.toTimestamp())}function mi(t){return xt(!!t),Xe.fromTimestamp(function(n){const r=ko(n);return new un(r.seconds,r.nanos)}(t))}function Hg(t,e){return cm(t,e).canonicalString()}function cm(t,e){const n=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jT(t){const e=Ot.fromString(t);return xt(WT(e)),e}function dm(t,e){return Hg(t.databaseId,e.path)}function Xh(t,e){const n=jT(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(HT(n))}function qT(t,e){return Hg(t.databaseId,e)}function M4(t){const e=jT(t);return e.length===4?Ot.emptyPath():HT(e)}function fm(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HT(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function p_(t,e,n){return{name:dm(t,e),fields:n.value.mapValue.fields}}function N4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,u){return f.useProto3Json?(xt(u===void 0||typeof u=="string"),Wn.fromBase64String(u||"")):(xt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Wn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(f){const u=f.code===void 0?Ae.UNKNOWN:VT(f.code);return new Fe(u,f.message||"")}(s);n=new UT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xh(t,r.document.name),o=mi(r.document.updateTime),s=r.document.createTime?mi(r.document.createTime):Xe.min(),a=new ar({mapValue:{fields:r.document.fields}}),l=jn.newFoundDocument(i,o,s,a),f=r.targetIds||[],u=r.removedTargetIds||[];n=new Ic(f,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xh(t,r.document),o=r.readTime?mi(r.readTime):Xe.min(),s=jn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ic([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xh(t,r.document),o=r.removedTargetIds||[];n=new Ic([],o,i,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new A4(i,o),a=r.targetId;n=new FT(a,s)}}return n}function L4(t,e){let n;if(e instanceof Eu)n={update:p_(t,e.key,e.value)};else if(e instanceof Bg)n={delete:dm(t,e.key)};else if(e instanceof No)n={update:p_(t,e.key,e.data),updateMask:z4(e.fieldMask)};else{if(!(e instanceof w4))return We();n={verify:dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ad)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ld)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw We()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:D4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:We()}(t,e.precondition)),n}function $4(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?mi(i.updateTime):mi(o);return s.isEqual(Xe.min())&&(s=mi(o)),new y4(s,i.transformResults||[])}(n,e))):[]}function V4(t,e){return{documents:[qT(t,e.path)]}}function F4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qT(t,i);const o=function(f){if(f.length!==0)return KT(_i.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(u=>function(c){return{field:Fs(c.field),direction:j4(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=um(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function U4(t){let e=M4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const c=zT(d);return c instanceof _i&&wT(c)?c.getFilters():[c]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(c=>function(p){return new sd(Us(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(c))}(n.orderBy));let a=null;n.limit&&(a=function(d){let c;return c=typeof d=="object"?d.value:d,pf(c)?null:c}(n.limit));let l=null;n.startAt&&(l=function(d){const c=!!d.before,h=d.values||[];return new od(h,c)}(n.startAt));let f=null;return n.endAt&&(f=function(d){const c=!d.before,h=d.values||[];return new od(h,c)}(n.endAt)),r4(e,i,s,o,a,"F",l,f)}function B4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Us(n.unaryFilter.field);return on.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Us(n.unaryFilter.field);return on.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(n){return on.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(r=>zT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We()}}(n.compositeFilter.op))}(t):We()}function j4(t){return R4[t]}function q4(t){return O4[t]}function H4(t){return P4[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return Sn.fromServerFormat(t.fieldPath)}function KT(t){return t instanceof on?function(n){if(n.op==="=="){if(e_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e_(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:q4(n.op),value:n.value}}}(t):t instanceof _i?function(n){const r=n.getFilters().map(i=>KT(i));return r.length===1?r[0]:{compositeFilter:{op:H4(n.op),filters:r}}}(t):We()}function z4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,o=Xe.min(),s=Xe.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.ut=e}}function W4(t){const e=U4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.on=new G4}addToCollectionParentIndex(e,n){return this.on.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(Ao.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class G4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(Ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new pa(0)}static Nn(){return new pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&kl(r.mutation,i,gr.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ui();const s=Al(),a=function(){return Al()}();return n.forEach((l,f)=>{const u=r.get(f.key);i.has(f.key)&&(u===void 0||u.mutation instanceof No)?o=o.insert(f.key,f):u!==void 0?(s.set(f.key,u.mutation.getFieldMask()),kl(u.mutation,f,u.mutation.getFieldMask(),un.now())):s.set(f.key,gr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((f,u)=>s.set(f,u)),n.forEach((f,u)=>{var d;return a.set(f,new X4(u,(d=s.get(f))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Al();let i=new Lt((s,a)=>s-a),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const f=n.get(l);if(f===null)return;let u=r.get(l)||gr.empty();u=a.applyToLocalView(f,u),r.set(l,u);const d=(i.get(a.batchId)||ot()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,u=l.value,d=RT();u.forEach(c=>{if(!o.has(c)){const h=LT(n.get(c),r.get(c));h!==null&&d.set(c,h),o=o.add(c)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,d))}return ke.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return qe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ke.resolve(es());let a=-1,l=o;return s.next(f=>ke.forEach(f,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?ke.resolve():this.remoteDocumentCache.getEntry(e,u).next(c=>{l=l.insert(u,c)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,l,f,ot())).next(u=>({batchId:a,changes:ST(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=sl();return this.indexManager.getCollectionParents(e,o).next(a=>ke.forEach(a,l=>{const f=function(d,c){return new mf(c,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(u=>{u.forEach((d,c)=>{s=s.insert(d,c)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,f)=>{const u=f.getKey();s.get(u)===null&&(s=s.insert(u,jn.newInvalidDocument(u)))});let a=sl();return s.forEach((l,f)=>{const u=o.get(l);u!==void 0&&kl(u.mutation,f,gr.empty(),un.now()),vf(n,f)&&(a=a.insert(l,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return ke.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mi(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:W4(i.bundledQuery),readTime:mi(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.overlays=new Lt(qe.comparator),this.lr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return ke.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=es(),o=n.length+1,s=new qe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Lt((f,u)=>f-u);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let u=o.get(f.largestBatchId);u===null&&(u=es(),o=o.insert(f.largestBatchId,u)),u.set(f.getKey(),f)}}const a=es(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,u)=>a.set(f,u)),!(a.size()>=i)););return ke.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new T4(n,r));let o=this.lr.get(n);o===void 0&&(o=ot(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.hr=new Pn(hn.Pr),this.Ir=new Pn(hn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new hn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new qe(new Ot([])),r=new hn(n,e),i=new hn(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new qe(new Ot([])),r=new hn(n,e),i=new hn(n,e+1);let o=ot();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new hn(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return qe.comparator(e.key,n.key)||ft(e.gr,n.gr)}static Tr(e,n){return ft(e.gr,n.gr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Pn(hn.Pr)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new E4(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new hn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(s)}lookupMutationBatch(e,n){return ke.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),i=new hn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(ft);return n.forEach(i=>{const o=new hn(i,0),s=new hn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),ke.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const s=new hn(new qe(o),0);let a=new Pn(ft);return this.yr.forEachWhile(l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(l.gr)),!0)},s),ke.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return ke.forEach(n.mutations,i=>{const o=new hn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new hn(n,0),i=this.yr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.Cr=e,this.docs=function(){return new Lt(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let r=Ui();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jn.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ui();const s=n.path,a=new qe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:u}}=l.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||FN(VN(u),r)<=0||(i.has(u.key)||vf(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ke.resolve(o)}getAllFromCollectionGroup(e,n,r,i){We()}vr(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r3(this)}getSize(e){return ke.resolve(this.size)}}class r3 extends Q4{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.persistence=e,this.Fr=new Da(n=>Vg(n),Fg),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new zg,this.targetCount=0,this.Nr=pa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),ke.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.kn(n),ke.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(o).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ke.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Mg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new i3(this),this.indexManager=new Y4,this.remoteDocumentCache=function(i){return new n3(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new K4(n),this.Kr=new Z4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new t3(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Le("MemoryPersistence","Starting transaction:",e);const i=new s3(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return ke.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class s3 extends BN{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Gr=new zg,this.zr=null}static jr(e){return new Kg(e)}get Hr(){if(this.zr)return this.zr;throw We()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Hr,r=>{const i=qe.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Xe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return ke.or([()=>ke.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ot(),i=ot();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Wg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return AR()?8:jN(Dn())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new a3;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ga()<=st.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ke.resolve()):(Ga()<=st.DEBUG&&Le("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ga()<=st.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):ke.resolve())}zi(e,n){if(i_(n))return ke.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lm(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ot(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const f=this.Yi(n,a);return this.Zi(n,f,s,l.readTime)?this.zi(e,lm(n,null,"F")):this.Xi(e,f,n,l)}))})))}ji(e,n,r,i){return i_(n)||i.isEqual(Xe.min())?ke.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?ke.resolve(null):(Ga()<=st.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.Xi(e,s,n,$N(i,-1)).next(a=>a))})}Yi(e,n){let r=new Pn(xT(e));return n.forEach((i,o)=>{vf(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ga()<=st.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ao.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Lt(ft),this.ns=new Da(o=>Vg(o),Fg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function c3(t,e,n,r){return new u3(t,e,n,r)}async function YT(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ot();for(const f of i){s.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}for(const f of o){a.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(f=>({_s:f,removedBatchIds:s,addedBatchIds:a}))})})}function d3(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,f,u){const d=f.batch,c=d.keys();let h=ke.resolve();return c.forEach(p=>{h=h.next(()=>u.getEntry(l,p)).next(g=>{const y=f.docVersions.get(p);xt(y!==null),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,f),g.isValidDocument()&&(g.setReadTime(f.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ot();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GT(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function f3(t,e){const n=et(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const c=i.get(d);if(!c)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let h=c.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Wn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),function(g,y,v){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(c,h,u)&&a.push(n.qr.updateTargetData(o,h))});let l=Ui(),f=ot();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(h3(o,s,e.documentUpdates).next(u=>{l=u.us,f=u.cs})),!r.isEqual(Xe.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return ke.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,f)).next(()=>l)}).then(o=>(n.ts=i,o))}function h3(t,e,n){let r=ot(),i=ot();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ui();return n.forEach((a,l)=>{const f=o.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Xe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)}),{us:s,cs:i}})}function p3(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m3(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,ke.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new co(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function hm(t,e,n){const r=et(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!wu(s))throw s;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function m_(t,e,n){const r=et(t);let i=Xe.min(),o=ot();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,f,u){const d=et(l),c=d.ns.get(u);return c!==void 0?ke.resolve(d.ts.get(c)):d.qr.getTargetData(f,u)}(r,s,pi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Xe.min(),n?o:ot())).next(a=>(g3(r,s4(e),a),{documents:a,ls:o})))}function g3(t,e,n){let r=t.rs.get(e)||Xe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class g_{constructor(){this.activeTargetIds=f4()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v3{constructor(){this.eo=new g_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new g_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Jh(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class w3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=Jh(),l=this.Co(n,r.toUriEncodedString());Le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const f={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(f,o,s),this.Fo(n,l,f,i).then(u=>(Le("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ua("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=_3[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const o=Jh();return new Promise((s,a)=>{const l=new xN;l.setWithCredentials(!0),l.listenOnce(TN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qh.NO_ERROR:const u=l.getResponseJson();Le($n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Qh.TIMEOUT:Le($n,`RPC '${e}' ${o} timed out`),a(new Fe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const d=l.getStatus();if(Le($n,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let c=l.getResponseJson();Array.isArray(c)&&(c=c[0]);const h=c==null?void 0:c.error;if(h&&h.status&&h.message){const p=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(v)>=0?v:Ae.UNKNOWN}(h.status);a(new Fe(p,h.message))}else a(new Fe(Ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(Ae.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Le($n,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);Le($n,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",f,r,15)})}xo(e,n,r){const i=Jh(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wN(),a=EN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.xmlHttpFactory=new kN({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Le($n,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let c=!1,h=!1;const p=new b3({co:y=>{h?Le($n,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(c||(Le($n,`Opening RPC '${e}' stream ${i} transport.`),d.open(),c=!0),Le($n,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,v,_)=>{y.listen(v,b=>{try{_(b)}catch(m){setTimeout(()=>{throw m},0)}})};return g(d,ic.EventType.OPEN,()=>{h||(Le($n,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),g(d,ic.EventType.CLOSE,()=>{h||(h=!0,Le($n,`RPC '${e}' stream ${i} transport closed`),p.fo())}),g(d,ic.EventType.ERROR,y=>{h||(h=!0,ua($n,`RPC '${e}' stream ${i} transport errored:`,y),p.fo(new Fe(Ae.UNAVAILABLE,"The operation could not be completed")))}),g(d,ic.EventType.MESSAGE,y=>{var v;if(!h){const _=y.data[0];xt(!!_);const b=_,m=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(m){Le($n,`RPC '${e}' stream ${i} received error:`,m);const w=m.status;let k=function(I){const x=Jt[I];if(x!==void 0)return VT(x)}(w),S=m.message;k===void 0&&(k=Ae.INTERNAL,S="Unknown error status: "+w+" with message "+m.message),h=!0,p.fo(new Fe(k,S)),d.close()}else Le($n,`RPC '${e}' stream ${i} received:`,_),p.po(_)}}),g(a,AN.STAT_EVENT,y=>{y.stat===Y0.PROXY?Le($n,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Y0.NOPROXY&&Le($n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function Zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return new C4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new QT(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new Fe(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E3 extends XT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=N4(this.serializer,e),r=function(o){if(!("targetChange"in o))return Xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Xe.min():s.readTime?mi(s.readTime):Xe.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=fm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=am(l)?{documents:V4(o,l)}:{query:F4(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BT(o,s.resumeToken);const f=um(o,s.expectedCount);f!==null&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(Xe.min())>0){a.readTime=ud(o,s.snapshotVersion.toTimestamp());const f=um(o,s.expectedCount);f!==null&&(a.expectedCount=f)}return a}(this.serializer,e);const r=B4(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=fm(this.serializer),n.removeTarget=e,this.r_(n)}}class T3 extends XT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=$4(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.d_(r,n)}return xt(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=fm(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>L4(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new Fe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,cm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(Ae.UNKNOWN,o.toString())})}Mo(e,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,cm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(Ae.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class k3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Fi(n),this.y_=!1):Le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{ks(this)&&(Le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const f=et(l);f.M_.add(4),await Au(f),f.N_.set("Unknown"),f.M_.delete(4),await Ef(f)}(this))})}),this.N_=new k3(r,i)}}async function Ef(t){if(ks(t))for(const e of t.x_)await e(!0)}async function Au(t){for(const e of t.x_)await e(!1)}function JT(t,e){const n=et(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Xg(n)?Qg(n):Ma(n).Zo()&&Gg(n,e))}function Yg(t,e){const n=et(t),r=Ma(n);n.F_.delete(e),r.Zo()&&ZT(n,e),n.F_.size===0&&(r.Zo()?r.t_():ks(n)&&n.N_.set("Unknown"))}function Gg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).h_(e)}function ZT(t,e){t.L_.xe(e),Ma(t).P_(e)}function Qg(t){t.L_=new S4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.N_.w_()}function Xg(t){return ks(t)&&!Ma(t).Yo()&&t.F_.size>0}function ks(t){return et(t).M_.size===0}function eA(t){t.L_=void 0}async function I3(t){t.N_.set("Online")}async function S3(t){t.F_.forEach((e,n)=>{Gg(t,e)})}async function R3(t,e){eA(t),Xg(t)?(t.N_.D_(e),Qg(t)):t.N_.set("Unknown")}async function O3(t,e,n){if(t.N_.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof Ic?t.L_.Ke(e):e instanceof FT?t.L_.He(e):t.L_.We(e),!n.isEqual(Xe.min()))try{const r=await GT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.F_.get(f);u&&o.F_.set(f,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,f)=>{const u=o.F_.get(l);if(!u)return;o.F_.set(l,u.withResumeToken(Wn.EMPTY_BYTE_STRING,u.snapshotVersion)),ZT(o,l);const d=new co(u.target,l,f,u.sequenceNumber);Gg(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!wu(e))throw e;t.M_.add(1),await Au(t),t.N_.set("Offline"),n||(n=()=>GT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Ef(t)})}function tA(t,e){return e().catch(n=>cd(t,n,e))}async function Tf(t){const e=et(t),n=xo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;P3(e);)try{const i=await p3(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,C3(e,i)}catch(i){await cd(e,i)}nA(e)&&rA(e)}function P3(t){return ks(t)&&t.v_.length<10}function C3(t,e){t.v_.push(e);const n=xo(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function nA(t){return ks(t)&&!xo(t).Yo()&&t.v_.length>0}function rA(t){xo(t).start()}async function D3(t){xo(t).R_()}async function M3(t){const e=xo(t);for(const n of t.v_)e.E_(n.mutations)}async function N3(t,e,n){const r=t.v_.shift(),i=jg.from(r,e,n);await tA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tf(t)}async function L3(t,e){e&&xo(t).T_&&await async function(r,i){if(function(s){return k4(s)&&s!==Ae.ABORTED}(i.code)){const o=r.v_.shift();xo(r).e_(),await tA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Tf(r)}}(t,e),nA(t)&&rA(t)}async function y_(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.M_.add(3),await Au(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Ef(n)}async function $3(t,e){const n=et(t);e?(n.M_.delete(2),await Ef(n)):e||(n.M_.add(2),await Au(n),n.N_.set("Unknown"))}function Ma(t){return t.B_||(t.B_=function(n,r,i){const o=et(n);return o.m_(),new E3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:I3.bind(null,t),Io:S3.bind(null,t),Eo:R3.bind(null,t),l_:O3.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),Xg(t)?Qg(t):t.N_.set("Unknown")):(await t.B_.stop(),eA(t))})),t.B_}function xo(t){return t.k_||(t.k_=function(n,r,i){const o=et(n);return o.m_(),new T3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:D3.bind(null,t),Eo:L3.bind(null,t),A_:M3.bind(null,t),d_:N3.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await Tf(t)):(await t.k_.stop(),t.v_.length>0&&(Le("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Jg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),wu(t))return new Fe(Ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new na(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.q_=new Lt(qe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):We():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ma{constructor(e,n,r,i,o,s,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ma(e,n,na.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class F3{constructor(){this.queries=new Da(e=>kT(e),gf),this.onlineState="Unknown",this.z_=new Set}}async function iA(t,e){const n=et(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new V3,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Zg(s,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&ev(n)}async function oA(t,e){const n=et(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function U3(t,e){const n=et(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&ev(n)}function B3(t,e,n){const r=et(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function ev(t){t.z_.forEach(e=>{e.next()})}var pm,b_;(b_=pm||(pm={})).J_="default",b_.Cache="cache";class sA{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class j3{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ot(),this.mutatedKeys=ot(),this.Ia=xT(e),this.Ta=new na(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new __,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const c=i.get(u),h=vf(this.query,d)?d:null,p=!!c&&this.mutatedKeys.has(c.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;c&&h?c.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.Ra(c,h)||(r.track({type:2,doc:h}),y=!0,(l&&this.Ia(h,l)>0||f&&this.Ia(h,f)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),y=!0):c&&!h&&(r.track({type:1,doc:c}),y=!0,(l||f)&&(a=!0)),y&&(h?(s=s.add(h),o=g?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((u,d)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return g(h)-g(p)}(u.type,d.type)||this.Ia(u.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,f=l!==this.ha;return this.ha=l,s.length!==0||f?{snapshot:new ma(this.query,e.Ta,o,s,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new __,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ot(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new lA(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new aA(r))}),n}pa(e){this.la=e.ls,this.Pa=ot();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ma.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class q3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class H3{constructor(e){this.key=e,this.wa=!1}}class z3{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Da(a=>kT(a),gf),this.Da=new Map,this.Ca=new Set,this.va=new Lt(qe.comparator),this.Fa=new Map,this.Ma=new zg,this.xa={},this.Oa=new Map,this.Na=pa.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function K3(t,e,n=!0){const r=pA(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await uA(r,e,n,!0),i}async function W3(t,e){const n=pA(t);await uA(n,e,!0,!1)}async function uA(t,e,n,r){const i=await m3(t.localStore,pi(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Y3(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JT(t.remoteStore,i),a}async function Y3(t,e,n,r,i){t.Ba=(d,c,h)=>async function(g,y,v,_){let b=y.view.da(v);b.Zi&&(b=await m_(g.localStore,y.query,!1).then(({documents:S})=>y.view.da(S,b)));const m=_&&_.targetChanges.get(y.targetId),w=_&&_.targetMismatches.get(y.targetId)!=null,k=y.view.applyChanges(b,g.isPrimaryClient,m,w);return E_(g,y.targetId,k.fa),k.snapshot}(t,d,c,h);const o=await m_(t.localStore,e,!0),s=new j3(e,o.ls),a=s.da(o.documents),l=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(a,t.isPrimaryClient,l);E_(t,n,f.fa);const u=new q3(e,n,s);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function G3(t,e,n){const r=et(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!gf(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yg(r.remoteStore,i.targetId),mm(r,i.targetId)}).catch(bu)):(mm(r,i.targetId),await hm(r.localStore,i.targetId,!0))}async function Q3(t,e){const n=et(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(n.remoteStore,r.targetId))}async function X3(t,e,n){const r=i5(t);try{const i=await function(s,a){const l=et(s),f=un.now(),u=a.reduce((h,p)=>h.add(p.key),ot());let d,c;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ui(),g=ot();return l.ss.getEntries(h,u).next(y=>{p=y,p.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(y=>{d=y;const v=[];for(const _ of a){const b=b4(_,d.get(_.key).overlayedDocument);b!=null&&v.push(new No(_.key,b,yT(b.value.mapValue),$r.exists(!0)))}return l.mutationQueue.addMutationBatch(h,f,v,a)}).next(y=>{c=y;const v=y.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:c.batchId,changes:ST(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let f=s.xa[s.currentUser.toKey()];f||(f=new Lt(ft)),f=f.insert(a,l),s.xa[s.currentUser.toKey()]=f}(r,i.batchId,n),await ku(r,i.changes),await Tf(r.remoteStore)}catch(i){const o=Zg(i,"Failed to persist write");n.reject(o)}}async function cA(t,e){const n=et(t);try{const r=await f3(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?xt(s.wa):i.removedDocuments.size>0&&(xt(s.wa),s.wa=!1))}),await ku(n,r,e)}catch(r){await bu(r)}}function w_(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=et(s);l.onlineState=a;let f=!1;l.queries.forEach((u,d)=>{for(const c of d.U_)c.j_(a)&&(f=!0)}),f&&ev(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J3(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Lt(qe.comparator);s=s.insert(o,jn.newNoDocument(o,Xe.min()));const a=ot().add(o),l=new bf(Xe.min(),new Map,new Lt(ft),s,a);await cA(r,l),r.va=r.va.remove(o),r.Fa.delete(e),tv(r)}else await hm(r.localStore,e,!1).then(()=>mm(r,e,n)).catch(bu)}async function Z3(t,e){const n=et(t),r=e.batch.batchId;try{const i=await d3(n.localStore,e);fA(n,r,null),dA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,i)}catch(i){await bu(i)}}async function e5(t,e,n){const r=et(t);try{const i=await function(s,a){const l=et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let u;return l.mutationQueue.lookupMutationBatch(f,a).next(d=>(xt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(f,d))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,u)).next(()=>l.localDocuments.getDocuments(f,u))})}(r.localStore,e);fA(r,e,n),dA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,i)}catch(i){await bu(i)}}function dA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function fA(t,e,n){const r=et(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function mm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||hA(t,r)})}function hA(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Yg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),tv(t))}function E_(t,e,n){for(const r of n)r instanceof aA?(t.Ma.addReference(r.key,e),t5(t,r)):r instanceof lA?(Le("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||hA(t,r.key)):We()}function t5(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Le("SyncEngine","New document in limbo: "+n),t.Ca.add(r),tv(t))}function tv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new qe(Ot.fromString(e)),r=t.Na.next();t.Fa.set(r,new H3(n)),t.va=t.va.insert(n,r),JT(t.remoteStore,new co(pi(Ug(n.path)),r,"TargetPurposeLimboResolution",Mg.oe))}}async function ku(t,e,n){const r=et(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const u=Wg.Qi(l.targetId,f);o.push(u)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,f){const u=et(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ke.forEach(f,c=>ke.forEach(c.ki,h=>u.persistence.referenceDelegate.addReference(d,c.targetId,h)).next(()=>ke.forEach(c.qi,h=>u.persistence.referenceDelegate.removeReference(d,c.targetId,h)))))}catch(d){if(!wu(d))throw d;Le("LocalStore","Failed to update sequence numbers: "+d)}for(const d of f){const c=d.targetId;if(!d.fromCache){const h=u.ts.get(c),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(c,g)}}}(r.localStore,o))}async function n5(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=await YT(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Fe(Ae.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r._s)}}function r5(t,e){const n=et(t),r=n.Fa.get(e);if(r&&r.wa)return ot().add(r.key);{let i=ot();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function pA(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J3.bind(null,e),e.Sa.l_=U3.bind(null,e.eventManager),e.Sa.ka=B3.bind(null,e.eventManager),e}function i5(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e5.bind(null,e),e}class T_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return c3(this.persistence,new l3,e.initialUser,this.serializer)}createPersistence(e){return new o3(Kg.jr,this.serializer)}createSharedClientState(e){return new v3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class o5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n5.bind(null,this.syncEngine),await $3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F3}()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),r=function(o){return new w3(o)}(e.databaseInfo);return function(o,s,a,l){return new A3(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new x3(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>w_(this.syncEngine,n,0),function(){return v_.D()?new v_:new y3}())}createSyncEngine(e,n){return function(i,o,s,a,l,f,u){const d=new z3(i,o,s,a,l,f);return u&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=et(r);Le("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Au(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=mT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Le("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ep(t,e){t.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l5(t);Le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>y_(e.remoteStore,i)),t._onlineComponents=e}function a5(t){return t.name==="FirebaseError"?t.code===Ae.FAILED_PRECONDITION||t.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function l5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{await ep(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!a5(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await ep(t,new T_)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),await ep(t,new T_);return t._offlineComponents}async function gA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),await A_(t,t._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),await A_(t,new o5))),t._onlineComponents}function u5(t){return gA(t).then(e=>e.syncEngine)}async function vA(t){const e=await gA(t),n=e.eventManager;return n.onListen=K3.bind(null,e.syncEngine),n.onUnlisten=G3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q3.bind(null,e.syncEngine),n}function c5(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,f){const u=new mA({next:c=>{s.enqueueAndForget(()=>oA(o,d));const h=c.docs.has(a);!h&&c.fromCache?f.reject(new Fe(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&c.fromCache&&l&&l.source==="server"?f.reject(new Fe(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(c)},error:c=>f.reject(c)}),d=new sA(Ug(a.path),u,{includeMetadataChanges:!0,ra:!0});return iA(o,d)}(await vA(t),t.asyncQueue,e,n,r)),r.promise}function d5(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,f){const u=new mA({next:c=>{s.enqueueAndForget(()=>oA(o,d)),c.fromCache&&l.source==="server"?f.reject(new Fe(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(c)},error:c=>f.reject(c)}),d=new sA(a,u,{includeMetadataChanges:!0,ra:!0});return iA(o,d)}(await vA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){if(!n)throw new Fe(Ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f5(t,e,n,r){if(e===!0&&r===!0)throw new Fe(Ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x_(t){if(!qe.isDocumentKey(t))throw new Fe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I_(t){if(qe.isDocumentKey(t))throw new Fe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function Bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nv(t);throw new Fe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SN;switch(r.type){case"firstParty":return new CN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k_.get(n);r&&(Le("ComponentProvider","Removing Datastore"),k_.delete(n),r.terminate())}(this),Promise.resolve()}}function h5(t,e,n,r={}){var i;const o=(t=Bi(t,Af))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Un.MOCK_USER;else{a=tw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Fe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Un(f)}t._authCredentials=new RN(new pT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}}class yo extends kf{constructor(e,n,r){super(e,n,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new qe(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function tu(t,e,...n){if(t=Pt(t),_A("collection","path",e),t instanceof Af){const r=Ot.fromString(e,...n);return I_(r),new yo(t,null,r)}{if(!(t instanceof br||t instanceof yo))throw new Fe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return I_(r),new yo(t.firestore,null,r)}}function Jn(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=mT.newId()),_A("doc","path",e),t instanceof Af){const r=Ot.fromString(e,...n);return x_(r),new br(t,null,new qe(r))}{if(!(t instanceof br||t instanceof yo))throw new Fe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return x_(r),new br(t.firestore,t instanceof yo?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new QT(this,"async_queue_retry"),this.hu=()=>{const n=Zh();n&&Le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=Zh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ni;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!wu(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Fi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Jg.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&We()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Na extends Af{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new p5}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bA(this),this._firestoreClient.terminate()}}function m5(t,e){const n=typeof t=="object"?t:jd(),r=typeof t=="string"?t:"(default)",i=Po(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Jb("firestore");o&&h5(i,...o)}return i}function rv(t){return t._firestoreClient||bA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bA(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,f,u){return new zN(a,l,f,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new s5(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(Wn.fromBase64String(e))}catch(n){throw new Fe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ga(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=/^__.*__$/;class v5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class wA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new No(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Sf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return dd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(EA(this.fu)&&g5.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class y5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wf(e)}Fu(e,n,r,i=!1){return new Sf({fu:e,methodName:n,vu:r,path:Sn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TA(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new y5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _5(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);sv("Data must be an object, but it was:",s,r);const a=AA(r,s);let l,f;if(o.merge)l=new gr(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const c=gm(e,d,n);if(!s.contains(c))throw new Fe(Ae.INVALID_ARGUMENT,`Field '${c}' is specified in your field mask but missing from your input data.`);xA(u,c)||u.push(c)}l=new gr(u),f=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,f=s.fieldTransforms;return new v5(new ar(a),l,f)}class Rf extends If{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}function b5(t,e,n){return new Sf({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ov extends If{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=b5(this,e,!0),r=this.Mu.map(o=>xu(o,n)),i=new ha(r);return new g4(e.path,i)}isEqual(e){return e instanceof ov&&sa(this.Mu,e.Mu)}}function w5(t,e,n,r){const i=t.Fu(1,e,n);sv("Data must be an object, but it was:",i,r);const o=[],s=ar.empty();As(r,(l,f)=>{const u=av(e,l,n);f=Pt(f);const d=i.Su(u);if(f instanceof Rf)o.push(u);else{const c=xu(f,d);c!=null&&(o.push(u),s.set(u,c))}});const a=new gr(o);return new wA(s,a,i.fieldTransforms)}function E5(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[gm(e,r,n)],l=[i];if(o.length%2!=0)throw new Fe(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<o.length;c+=2)a.push(gm(e,o[c])),l.push(o[c+1]);const f=[],u=ar.empty();for(let c=a.length-1;c>=0;--c)if(!xA(f,a[c])){const h=a[c];let p=l[c];p=Pt(p);const g=s.Su(h);if(p instanceof Rf)f.push(h);else{const y=xu(p,g);y!=null&&(f.push(h),u.set(h,y))}}const d=new gr(f);return new wA(u,d,s.fieldTransforms)}function xu(t,e){if(kA(t=Pt(t)))return sv("Unsupported field value:",e,t),AA(t,e);if(t instanceof If)return function(r,i){if(!EA(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=xu(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=un.fromDate(r);return{timestampValue:ud(i.serializer,o)}}if(r instanceof un){const o=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,o)}}if(r instanceof iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:BT(i.serializer,r._byteString)};if(r instanceof br){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Hg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${nv(r)}`)}(t,e)}function AA(t,e){const n={};return gT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,(r,i)=>{const o=xu(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof iv||t instanceof ga||t instanceof br||t instanceof If)}function sv(t,e,n){if(!kA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function gm(t,e,n){if((e=Pt(e))instanceof xf)return e._internalPath;if(typeof e=="string")return av(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const T5=new RegExp("[~\\*/\\[\\]]");function av(t,e,n){if(e.search(T5)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xf(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Fe(Ae.INVALID_ARGUMENT,a+t+l)}function xA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(SA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A5 extends IA{data(){return super.data()}}function SA(t,e){return typeof e=="string"?av(t,e):e instanceof xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x5{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw We()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return As(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new iv(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=ko(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);xt(WT(r));const i=new Jl(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return i.isEqual(n)||Fi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RA extends IA{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(SA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sc extends RA{data(e={}){return super.data(e)}}class S5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,u=-1;return a.type!==0&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:R5(a.type),doc:l,oldIndex:f,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function R5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){t=Bi(t,br);const e=Bi(t.firestore,Na);return c5(rv(e),t._key).then(n=>C5(e,t,n))}class OA extends x5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,n)}}function fd(t){t=Bi(t,kf);const e=Bi(t.firestore,Na),n=rv(e),r=new OA(e);return k5(t._query),d5(n,t._query).then(i=>new S5(e,r,t,i))}function Pi(t,e,n,...r){t=Bi(t,br);const i=Bi(t.firestore,Na),o=TA(i);let s;return s=typeof(e=Pt(e))=="string"||e instanceof xf?E5(o,"updateDoc",t._key,e,n,r):w5(o,"updateDoc",t._key,e),lv(i,[s.toMutation(t._key,$r.exists(!0))])}function O5(t){return lv(Bi(t.firestore,Na),[new Bg(t._key,$r.none())])}function P5(t,e){const n=Bi(t.firestore,Na),r=Jn(t),i=I5(t.converter,e);return lv(n,[_5(TA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function lv(t,e){return function(r,i){const o=new Ni;return r.asyncQueue.enqueueAndForget(async()=>X3(await u5(r),i,o)),o.promise}(rv(t),e)}function C5(t,e,n){const r=n.docs.get(e._key),i=new OA(t);return new RA(t,i,e._key,r,new ll(n.hasPendingWrites,n.fromCache),e.converter)}function D5(...t){return new ov("arrayUnion",t)}(function(e,n=!0){(function(i){Ca=i})(ws),jr(new Ir("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Na(new ON(r.getProvider("auth-internal")),new MN(r.getProvider("app-check-internal")),function(f,u){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Fe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(f.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),cr(G0,"4.6.1",e),cr(G0,"4.6.1","esm2017")})();const M5={apiKey:"AIzaSyDvdTUs36DFXUIZ3S7EGZJlSeeDxXg1mGY",authDomain:"tiryaki-hukuk-admin-pane-9a3f2.firebaseapp.com",projectId:"tiryaki-hukuk-admin-pane-9a3f2",storageBucket:"tiryaki-hukuk-admin-pane-9a3f2.appspot.com",messagingSenderId:"432646173233",appId:"1:432646173233:web:1c8a7ad94bacb703781b10",measurementId:"G-0LMBJQ2524"},uv=lw(M5);iC(uv);const Bs=yM(uv),lr=m5(uv);tE(Bs,ug).then(()=>{console.log("Firebase Auth persistence set to local.")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const Rc=dR({state:{isAuthenticated:!1,user:null,role:null,errorMessage:null},mutations:{login(t,{user:e,role:n}){t.isAuthenticated=!0,t.user=e,t.role=n},logout(t){t.isAuthenticated=!1,t.user=null,t.role=null,t.errorMessage=null},setError(t,e){t.errorMessage=e},setUser(t,e){t.user=e,t.isAuthenticated=!!e},setRole(t,e){t.role=e}},actions:{async login({commit:t},{username:e,password:n}){try{await tE(Bs,ug);const i=(await iD(Bs,e,n)).user,o=await va(Jn(lr,"attorneys",i.uid));let s=null;if(o.exists()?s=o.data().role:s="admin",s)t("login",{user:{email:i.email,uid:i.uid},role:s}),console.log("Login successful"),console.log("User role:",s);else throw await k0(Bs),console.error("User not authorized"),new Error("User not authorized")}catch(r){throw console.error("Login failed",r),t("setError",r.message),new Error("Invalid credentials or unauthorized access")}},async logout({commit:t}){try{await k0(Bs),t("logout"),console.log("Logout successful")}catch(e){throw console.error("Logout failed",e),new Error("Logout failed")}},async initializeAuth({commit:t}){return new Promise(e=>{aD(Bs,async n=>{if(n){t("setUser",{email:n.email,uid:n.uid});const r=await va(Jn(lr,"attorneys",n.uid));let i=null;r.exists()?i=r.data().role:i="admin",t("setRole",i)}else t("setUser",null),t("setRole",null);e(n)})})}},getters:{isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,userRole:t=>t.role,errorMessage:t=>t.errorMessage}}),N5={class:"flex items-center justify-center"},L5=M("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[M("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),M("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),nu={__name:"Loading",props:{text:String},setup(t){const e=t;return(n,r)=>(ie(),le("div",N5,[L5,cn(" "+xe(e.text),1)]))}},$5={class:"bg-gray-800"},V5={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},F5=M("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[M("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),cn(" Tiryaki Hukuk Admin Panel ")],-1),U5={class:"w-full bg-gray-700 rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},B5={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},j5=M("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Email",-1),q5=M("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Şifre",-1),H5=Hm('<div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" aria-describedby="remember" type="checkbox" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for="remember" class="text-white dark:text-gray-300">Beni hatırla</label></div></div></div>',1),z5=["disabled"],K5={key:1},W5={key:0,class:"text-red-500 text-sm mt-2"},Y5={__name:"LoginPage",setup(t){const e=Oo(),n=$b(),r=he(""),i=he(""),o=he(!1),s=he(""),a=async()=>{o.value=!0,s.value="";try{const l={username:r.value,password:i.value};await e.dispatch("login",l);const f=e.getters.userRole,u=e.getters.user?e.getters.user.uid:null;f==="attorney"&&u?n.push(`/online-meetings/${u}`):n.push("/online-meetings")}catch{s.value="Hesap isim veya şifre yanlış. Lütfen tekrar deneyin."}finally{o.value=!1}};return(l,f)=>(ie(),le("section",$5,[M("div",V5,[F5,M("div",U5,[M("div",B5,[M("form",{onSubmit:xr(a,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[M("div",null,[j5,bt(M("input",{"onUpdate:modelValue":f[0]||(f[0]=u=>r.value=u),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[di,r.value]])]),M("div",null,[q5,bt(M("input",{"onUpdate:modelValue":f[1]||(f[1]=u=>i.value=u),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[di,i.value]])]),H5,M("button",{id:"signin",disabled:o.value,class:"w-full inline-block text-white bg-gray-600 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},[o.value?(ie(),Ue(nu,{key:0,text:"Giriş Yapılıyor..."})):(ie(),le("span",K5,"Giriş Yap"))],8,z5),s.value?(ie(),le("div",W5,xe(s.value),1)):ye("",!0)],32)])])])]))}},G5={class:"h-screen min-w-[16rem] bg-gray-800 p-4 z-50 sidebar-menu ease-in-out delay-150 duration-300 transition-transform"},Q5=M("a",{href:"#",class:"flex items-center pb-4 border-b border-b-gray-800"},[M("img",{src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"",class:"w-8 h-8 rounded object-cover"}),M("span",{class:"text-lg font-bold text-white ml-3"},"Admin Panel")],-1),X5={class:"mt-4"},J5={class:"text-lg"},Z5=M("i",{class:"mr-3 text-lg ri-logout-box-line"},null,-1),eL=M("span",{class:"text-lg"},"Çıkış",-1),tL=[Z5,eL],nL={__name:"Sidebar",emits:["titleChange"],setup(t,{emit:e}){const n=Oo(),r=$b(),i=ge(()=>n.getters.userRole),o=ge(()=>n.getters.user?n.getters.user.uid:null),s=()=>{n.dispatch("logout"),r.push("/")},a=e;function l(c){a("titleChange",c)}const f=[{title:"Online Görüşmeler",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Blog Yönetimi",icon:"ri-article-line",link:"/blogs"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],u=[{title:"Online Görüşmelerim",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Randevu Saatlerim",icon:"ri-settings-2-line",link:"/appointment-settings"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],d=ge(()=>i.value==="admin"?f:i.value==="attorney"?u.map(c=>({...c,link:`${c.link}/${o.value}`})):[]);return(c,h)=>{const p=Fm("router-link");return ie(),le("div",G5,[Q5,M("ul",X5,[(ie(!0),le(Oe,null,Qe(d.value,g=>(ie(),le("li",{key:g.title,class:"mb-1 group"},[je(p,{to:g.link,onClick:y=>l(g.title),class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},{default:He(()=>[M("i",{class:Ke([g.icon,"mr-3 text-lg"])},null,2),M("span",J5,xe(g.title),1)]),_:2},1032,["to","onClick"])]))),128)),M("li",null,[M("div",{onClick:s,class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},tL)])])])}}},Yr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},rL=t=>(Rd("data-v-325971ad"),t=t(),Od(),t),iL={class:"relative"},oL=rL(()=>M("i",{class:"ri-notification-4-fill ri-2x"},null,-1)),sL=[oL],aL={class:"absolute right-0 mt-2 w-64 border border-gray-300 shadow-xl bg-white rounded-md z-50"},lL={class:"max-h-64 overflow-auto"},uL=["href"],cL={class:"text-sm font-medium text-gray-800"},dL={class:"text-xs text-gray-600"},fL={__name:"NotificationDropdown",setup(t){const e=he(!1),n=he([{id:1,title:"New order test",message:"You have received a new order.",url:"#"},{id:2,title:"Payment received",message:"Your latest billing statement is ready.",url:"#"},{id:3,title:"System Update",message:"System updates will be performed tonight.",url:"#"},{id:4,title:"New Feature",message:"A new feature has been added to your dashboard.",url:"#"},{id:5,title:"Maintenance Scheduled",message:"Scheduled maintenance will occur this weekend.",url:"#"}]);function r(){e.value=!e.value}return(i,o)=>(ie(),le("div",iL,[M("button",{onClick:r,class:"flex items-center justify-center w-8 h-8 rounded hover:bg-gray-50"},sL),bt(M("div",aL,[M("ul",lL,[(ie(!0),le(Oe,null,Qe(n.value,s=>(ie(),le("li",{key:s.id,class:"border-b last:border-b-0"},[M("a",{href:s.url,class:"block hover:bg-gray-300 p-4"},[M("p",cL,xe(s.title),1),M("p",dL,xe(s.message),1)],8,uL)]))),128))])],512),[[gl,e.value]])]))}},hL=Yr(fL,[["__scopeId","data-v-325971ad"]]),pL=t=>(Rd("data-v-4aaf64ee"),t=t(),Od(),t),mL={class:"py-2 px-6 bg-white flex items-center shadow-md sticky top-0 left-0 z-30 justify-between"},gL={class:"flex items-center"},vL=pL(()=>M("i",{class:"ri-menu-line"},null,-1)),yL=[vL],_L={class:"flex items-center text-sm ml-4"},bL={class:"mr-2"},wL={href:"#",class:"text-gray-500 hover:text-gray-800 font-medium"},EL={class:"flex items-center"},TL={__name:"Navbar",props:{currentTab:String},setup(t){return(e,n)=>(ie(),le("div",mL,[M("div",gL,[M("button",{onClick:n[0]||(n[0]=r=>e.$emit("toggleSidebar")),class:"text-lg text-gray-600 sidebar-toggle"},yL),M("ul",_L,[M("li",bL,[M("a",wL,xe(t.currentTab),1)])])]),M("div",EL,[je(hL)])]))}},AL=Yr(TL,[["__scopeId","data-v-4aaf64ee"]]),kL={},xL={class:"p-6"};function IL(t,e){return ie(),le("section",xL,[Me(t.$slots,"default")])}const SL=Yr(kL,[["render",IL]]),RL={class:"flex flex-grow"},OL={class:"w-full h-screen overflow-y-scroll"},PL={__name:"MainPage",setup(t){const e=he(!0);he(!1);const n=he(localStorage.getItem("currentTab")||"");function r(o){n.value=o,localStorage.setItem("currentTab",o)}function i(){e.value=!e.value}return gt(()=>{n.value=localStorage.getItem("currentTab")||""}),(o,s)=>{const a=Fm("RouterView");return ie(),le("div",RL,[e.value?(ie(),Ue(nL,{key:0,onToggleSidebar:i,onTitleChange:r,class:"hidden lg:block"})):ye("",!0),M("main",OL,[je(AL,{onToggleSidebar:i,"current-tab":n.value},null,8,["current-tab"]),je(SL,null,{default:He(()=>[je(Ur,{name:"fade"},{default:He(()=>[je(a)]),_:1})]),_:1})])])}}},CL=Yr(PL,[["__scopeId","data-v-6c5a0da2"]]),DL={class:"bg-white rounded-lg border border-gray-200 p-6 mb-4 shadow-lg"},ML=M("div",{class:"pb-4 border-b mb-4 border-gray-300 rounded-t flex justify-between"},[M("h3",{class:"text-lg font-semibold text-gray-900"},[M("span",{class:"mb-2"},"Randevu Ayarlarını Yap")]),M("button",{type:"submit",class:"text-white w-40 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),NL=["for"],LL=M("p",{class:"pl-2 text-gray-500"},"(dk)",-1),$L=["onUpdate:modelValue","id"],VL=["value"],FL=["for"],UL=["onUpdate:modelValue","id"],BL=["value"],jL=["for"],qL=M("p",{class:"pl-2 text-gray-500"},"(TL)",-1),HL=["onUpdate:modelValue","id"],zL={key:0,class:"flex items-center justify-center md:justify-start"},KL=M("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),WL=[KL],YL=["disabled","onClick"],GL=M("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[M("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),QL=[GL],XL=["onClick"],JL=M("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[M("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),ZL=[JL],PA={__name:"WorkingHoursMeetingSetup",props:{appointmentSettings:Array},emits:["save-appointment-settings"],setup(t,{emit:e}){const n=t,r=e,i=[30,45,60],o=["Online Video Görüşme","Telefonla Görüşme","Yüz Yüze Görüşme"],s=()=>{n.appointmentSettings.push({duration:"",price:"",type:""})},a=f=>{n.appointmentSettings.length>1&&n.appointmentSettings.splice(f,1)},l=()=>{r("save-appointment-settings",n.appointmentSettings)};return(f,u)=>(ie(),le("div",DL,[M("form",{onSubmit:xr(l,["prevent"])},[ML,M("div",null,[(ie(!0),le(Oe,null,Qe(t.appointmentSettings,(d,c)=>(ie(),le("div",{key:c,class:"flex flex-col space-y-2 md:space-y-0 mx-auto md:flex-row mb-4 w-full md:w-full items-center md:space-x-3"},[M("div",null,[M("label",{for:"meeting-duration-"+c,class:"flex text-sm text-nowrap font-medium text-gray-900"},[cn("Randevu Süresi "),LL],8,NL),bt(M("select",{"onUpdate:modelValue":h=>d.duration=h,id:"meeting-duration-"+c,name:"meeting-duration",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ie(),le(Oe,null,Qe(i,h=>M("option",{key:h,value:h},xe(h),9,VL)),64))],8,$L),[[To,d.duration]])]),M("div",null,[M("label",{for:"meeting-type-"+c,class:"flex text-sm text-nowrap font-medium text-gray-900"},"Randevu Tipi",8,FL),bt(M("select",{"onUpdate:modelValue":h=>d.type=h,id:"meeting-type-"+c,name:"meeting-type",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ie(),le(Oe,null,Qe(o,h=>M("option",{key:h,value:h},xe(h),9,BL)),64))],8,UL),[[To,d.type]])]),M("div",null,[M("label",{for:"meeting-price-"+c,class:"flex text-sm text-nowrap font-medium text-gray-900"},[cn("Randevu Ücreti "),qL],8,jL),bt(M("input",{type:"number","onUpdate:modelValue":h=>d.price=h,id:"meeting-price-"+c,name:"meeting-price",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,HL),[[di,d.price]])]),c===t.appointmentSettings.length-1?(ie(),le("div",zL,[M("button",{onClick:s,type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},WL),M("button",{disabled:t.appointmentSettings.length===1,onClick:h=>a(c),type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},QL,8,YL)])):(ie(),le("button",{key:1,onClick:h=>a(c),type:"button",class:"inline-flex items-center p-1.5 mt-4 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},ZL,8,XL))]))),128))])],32)]))}},e6=M("h1",{class:"font-bold text-4xl"},"Home",-1),t6={key:0},n6=M("p",null,"Welcome, Admin!",-1),r6={key:1},i6=M("p",null,null,-1),R_={__name:"Home",setup(t){const e=he([{duration:"",price:"",type:"",enabled:!0}]),n=Oo(),r=ge(()=>n.getters.userRole),i=ge(()=>n.getters.user?n.getters.user.uid:null),o=he(null),s=async a=>{const l=await va(Jn(lr,"attorneys",a));o.value=l.data()};return gt(()=>{s(i.value)}),(a,l)=>(ie(),le("div",null,[e6,r.value==="admin"?(ie(),le("div",t6,[n6,M("p",null,"Your data "+xe(o.value),1)])):r.value==="attorney"?(ie(),le("div",r6,[M("p",null,[cn("Welcome, "),M("span",null,xe(r.value),1),cn("!")]),i6])):ye("",!0),je(PA,{appointmentSettings:e.value},null,8,["appointmentSettings"])]))}},o6={class:"min-h-[88vh] flex items-center justify-center"},s6={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},a6=M("div",{class:"flex flex-col items-center"},[M("div",{class:"text-[1.6rem] font-medium p-2 text-gray-500"}," Tüm Görüşmeleri "),M("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Gör")],-1),l6=[a6],u6=["onClick"],c6=["src"],d6={__name:"OnlineMeetingsMenu",emits:["optionSelected"],setup(t,{emit:e}){const n=e,r=he([]),i=tu(lr,"attorneys"),o=()=>n("optionSelected","showAll"),s=f=>n("optionSelected",f);async function a(){let f=[];return(await fd(i)).forEach(d=>{f.push({id:d.id,...d.data()})}),f}async function l(){try{const f=localStorage.getItem("cachedAttorneys"),u=localStorage.getItem("cachedTimeAttorneys"),d=30*60*1e3;if(f&&u&&new Date-new Date(parseInt(u))<d)return JSON.parse(f);{const c=await a();return localStorage.setItem("cachedAttorneys",JSON.stringify(c)),localStorage.setItem("cachedTimeAttorneys",new Date().getTime().toString()),c}}catch(f){return console.error("Error getting meetings:",f),[]}}return gt(async()=>{let f=await l();f=f.filter(u=>u.email!=="admin@gmail.com"),r.value=f}),(f,u)=>(ie(),le("section",o6,[M("div",s6,[M("button",{onClick:o,class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center"},l6),(ie(!0),le(Oe,null,Qe(r.value,d=>(ie(),le("button",{key:d.id,onClick:c=>s(d.id),class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center p-2"},[M("div",null,[M("img",{src:`assets/images/${d.id}.jpg`,alt:"Attorney Photo",class:"w-40 h-60 object-cover rounded-md"},null,8,c6)])],8,u6))),128))])]))}};function $e(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ht(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Cr(t,e){const n=$e(t);return isNaN(e)?ht(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Vr(t,e){const n=$e(t);if(isNaN(e))return ht(t,NaN);if(!e)return n;const r=n.getDate(),i=ht(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function CA(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,f=$e(t),u=r||n?Vr(f,r+n*12):f,d=o||i?Cr(u,o+i*7):u,c=a+s*60,p=(l+c*60)*1e3;return ht(t,d.getTime()+p)}function f6(t,e){const n=+$e(t);return ht(t,n+e)}const DA=6048e5,h6=864e5,p6=6e4,MA=36e5,m6=1e3;function g6(t,e){return f6(t,e*MA)}let v6={};function xs(){return v6}function zr(t,e){var a,l,f,u;const n=xs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=$e(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function ya(t){return zr(t,{weekStartsOn:1})}function NA(t){const e=$e(t),n=e.getFullYear(),r=ht(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ya(r),o=ht(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=ya(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function O_(t){const e=$e(t);return e.setHours(0,0,0,0),e}function hd(t){const e=$e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function LA(t,e){const n=O_(t),r=O_(e),i=+n-hd(n),o=+r-hd(r);return Math.round((i-o)/h6)}function y6(t){const e=NA(t),n=ht(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ya(n)}function _6(t,e){const n=e*3;return Vr(t,n)}function cv(t,e){return Vr(t,e*12)}function P_(t,e){const n=$e(t),r=$e(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function $A(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xl(t){if(!$A(t)&&typeof t!="number")return!1;const e=$e(t);return!isNaN(Number(e))}function C_(t){const e=$e(t);return Math.trunc(e.getMonth()/3)+1}function b6(t,e){const n=$e(t),r=$e(e);return n.getFullYear()-r.getFullYear()}function w6(t,e){const n=$e(t),r=$e(e),i=P_(n,r),o=Math.abs(b6(n,r));n.setFullYear(1584),r.setFullYear(1584);const s=P_(n,r)===-i,a=i*(o-+s);return a===0?0:a}function VA(t,e){const n=$e(t.start),r=$e(t.end);let i=+n>+r;const o=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let a=1;const l=[];for(;+s<=o;)l.push($e(s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return i?l.reverse():l}function ts(t){const e=$e(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function E6(t,e){const n=$e(t.start),r=$e(t.end);let i=+n>+r;const o=i?+ts(n):+ts(r);let s=ts(i?r:n),a=1;const l=[];for(;+s<=o;)l.push($e(s)),s=_6(s,a);return i?l.reverse():l}function T6(t){const e=$e(t);return e.setDate(1),e.setHours(0,0,0,0),e}function FA(t){const e=$e(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function dv(t){const e=$e(t),n=ht(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function UA(t,e){var a,l,f,u;const n=xs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=$e(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function D_(t){const e=$e(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const A6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k6=(t,e,n)=>{let r;const i=A6[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const x6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R6={date:tp({formats:x6,defaultWidth:"full"}),time:tp({formats:I6,defaultWidth:"full"}),dateTime:tp({formats:S6,defaultWidth:"full"})},O6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P6=(t,e,n,r)=>O6[t];function Qa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const C6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},D6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},M6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},N6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},L6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},F6={ordinalNumber:V6,era:Qa({values:C6,defaultWidth:"wide"}),quarter:Qa({values:D6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qa({values:M6,defaultWidth:"wide"}),day:Qa({values:N6,defaultWidth:"wide"}),dayPeriod:Qa({values:L6,defaultWidth:"wide",formattingValues:$6,defaultFormattingWidth:"wide"})};function Xa(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?B6(a,d=>d.test(s)):U6(a,d=>d.test(s));let f;f=t.valueCallback?t.valueCallback(l):l,f=n.valueCallback?n.valueCallback(f):f;const u=e.slice(s.length);return{value:f,rest:u}}}function U6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function B6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function j6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const q6=/^(\d+)(th|st|nd|rd)?/i,H6=/\d+/i,z6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K6={any:[/^b/i,/^(a|c)/i]},W6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Y6={any:[/1/i,/2/i,/3/i,/4/i]},G6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},X6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Z6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t$={ordinalNumber:j6({matchPattern:q6,parsePattern:H6,valueCallback:t=>parseInt(t,10)}),era:Xa({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:K6,defaultParseWidth:"any"}),quarter:Xa({matchPatterns:W6,defaultMatchWidth:"wide",parsePatterns:Y6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xa({matchPatterns:G6,defaultMatchWidth:"wide",parsePatterns:Q6,defaultParseWidth:"any"}),day:Xa({matchPatterns:X6,defaultMatchWidth:"wide",parsePatterns:J6,defaultParseWidth:"any"}),dayPeriod:Xa({matchPatterns:Z6,defaultMatchWidth:"any",parsePatterns:e$,defaultParseWidth:"any"})},BA={code:"en-US",formatDistance:k6,formatLong:R6,formatRelative:P6,localize:F6,match:t$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n$(t){const e=$e(t);return LA(e,dv(e))+1}function fv(t){const e=$e(t),n=+ya(e)-+y6(e);return Math.round(n/DA)+1}function hv(t,e){var u,d,c,h;const n=$e(t),r=n.getFullYear(),i=xs(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(c=i.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,s=ht(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=zr(s,e),l=ht(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const f=zr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function r$(t,e){var a,l,f,u;const n=xs(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,i=hv(t,e),o=ht(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),zr(o,e)}function pv(t,e){const n=$e(t),r=+zr(n,e)-+r$(n,e);return Math.round(r/DA)+1}function yt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Xi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return yt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return yt(i,e.length)}},Ns={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},M_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Xi.y(t,e)},Y:function(t,e,n,r){const i=hv(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return yt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):yt(o,e.length)},R:function(t,e){const n=NA(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Xi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=pv(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):yt(i,e.length)},I:function(t,e,n){const r=fv(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Xi.d(t,e)},D:function(t,e,n){const r=n$(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return yt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return yt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return yt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ns.noon:r===0?i=Ns.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ns.evening:r>=12?i=Ns.afternoon:r>=4?i=Ns.morning:i=Ns.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Xi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Xi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Xi.s(t,e)},S:function(t,e){return Xi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return L_(r);case"XXXX":case"XX":return Ko(r);case"XXXXX":case"XXX":default:return Ko(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return L_(r);case"xxxx":case"xx":return Ko(r);case"xxxxx":case"xxx":default:return Ko(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N_(r,":");case"OOOO":default:return"GMT"+Ko(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N_(r,":");case"zzzz":default:return"GMT"+Ko(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return yt(r,e.length)},T:function(t,e,n){const r=t.getTime();return yt(r,e.length)}};function N_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+yt(o,2)}function L_(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):Ko(t,e)}function Ko(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=yt(Math.trunc(r/60),2),o=yt(r%60,2);return n+i+e+o}const $_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},i$=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return $_(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",$_(r,e)).replace("{{time}}",jA(i,e))},vm={p:jA,P:i$},o$=/^D+$/,s$=/^Y+$/,a$=["D","DD","YY","YYYY"];function qA(t){return o$.test(t)}function HA(t){return s$.test(t)}function ym(t,e,n){const r=l$(t,e,n);if(console.warn(r),a$.includes(t))throw new RangeError(r)}function l$(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d$=/^'([^]*?)'?$/,f$=/''/g,h$=/[a-zA-Z]/;function Fr(t,e,n){var u,d,c,h,p,g,y,v;const r=xs(),i=(n==null?void 0:n.locale)??r.locale??BA,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(c=r.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,a=$e(t);if(!xl(a))throw new RangeError("Invalid time value");let l=e.match(c$).map(_=>{const b=_[0];if(b==="p"||b==="P"){const m=vm[b];return m(_,i.formatLong)}return _}).join("").match(u$).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:p$(_)};if(M_[b])return{isToken:!0,value:_};if(b.match(h$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const f={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const b=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&HA(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&qA(b))&&ym(b,e,String(t));const m=M_[b[0]];return m(a,b,i.localize,f)}).join("")}function p$(t){const e=t.match(d$);return e?e[1].replace(f$,"'"):t}function m$(t){return $e(t).getDay()}function g$(t){const e=$e(t),n=e.getFullYear(),r=e.getMonth(),i=ht(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function v$(){return Object.assign({},xs())}function ji(t){return $e(t).getHours()}function y$(t){let n=$e(t).getDay();return n===0&&(n=7),n}function Io(t){return $e(t).getMinutes()}function rt(t){return $e(t).getMonth()}function _a(t){return $e(t).getSeconds()}function nt(t){return $e(t).getFullYear()}function ba(t,e){const n=$e(t),r=$e(e);return n.getTime()>r.getTime()}function ru(t,e){const n=$e(t),r=$e(e);return+n<+r}function zs(t,e){const n=$e(t),r=$e(e);return+n==+r}function _$(t,e){const n=e instanceof Date?ht(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const b$=10;class zA{constructor(){De(this,"subPriority",0)}validate(e,n){return!0}}class w$ extends zA{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class E$ extends zA{constructor(){super(...arguments);De(this,"priority",b$);De(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ht(n,_$(n,Date))}}class pt{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new w$(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class T$ extends pt{constructor(){super(...arguments);De(this,"priority",140);De(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Wt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ii={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Yt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Mt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function oi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*MA+o*p6+s*m6),rest:e.slice(n[0].length)}}function KA(t){return Mt(Wt.anyDigitsSigned,t)}function Bt(t,e){switch(t){case 1:return Mt(Wt.singleDigit,e);case 2:return Mt(Wt.twoDigits,e);case 3:return Mt(Wt.threeDigits,e);case 4:return Mt(Wt.fourDigits,e);default:return Mt(new RegExp("^\\d{1,"+t+"}"),e)}}function pd(t,e){switch(t){case 1:return Mt(Wt.singleDigitSigned,e);case 2:return Mt(Wt.twoDigitsSigned,e);case 3:return Mt(Wt.threeDigitsSigned,e);case 4:return Mt(Wt.fourDigitsSigned,e);default:return Mt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function mv(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function WA(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function YA(t){return t%400===0||t%4===0&&t%100!==0}class A$ extends pt{constructor(){super(...arguments);De(this,"priority",130);De(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return Yt(Bt(4,n),o);case"yo":return Yt(i.ordinalNumber(n,{unit:"year"}),o);default:return Yt(Bt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=WA(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class k$ extends pt{constructor(){super(...arguments);De(this,"priority",130);De(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Yt(Bt(4,n),o);case"Yo":return Yt(i.ordinalNumber(n,{unit:"year"}),o);default:return Yt(Bt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=hv(n,o);if(i.isTwoDigitYear){const l=WA(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),zr(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),zr(n,o)}}class x$ extends pt{constructor(){super(...arguments);De(this,"priority",130);De(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return pd(r==="R"?4:r.length,n)}set(n,r,i){const o=ht(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),ya(o)}}class I$ extends pt{constructor(){super(...arguments);De(this,"priority",130);De(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return pd(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class S$ extends pt{constructor(){super(...arguments);De(this,"priority",120);De(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Bt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class R$ extends pt{constructor(){super(...arguments);De(this,"priority",120);De(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Bt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class O$ extends pt{constructor(){super(...arguments);De(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);De(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return Yt(Mt(Wt.month,n),o);case"MM":return Yt(Bt(2,n),o);case"Mo":return Yt(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class P$ extends pt{constructor(){super(...arguments);De(this,"priority",110);De(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return Yt(Mt(Wt.month,n),o);case"LL":return Yt(Bt(2,n),o);case"Lo":return Yt(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function C$(t,e,n){const r=$e(t),i=pv(r,n)-e;return r.setDate(r.getDate()-i*7),r}class D$ extends pt{constructor(){super(...arguments);De(this,"priority",100);De(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Mt(Wt.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return zr(C$(n,i,o),o)}}function M$(t,e){const n=$e(t),r=fv(n)-e;return n.setDate(n.getDate()-r*7),n}class N$ extends pt{constructor(){super(...arguments);De(this,"priority",100);De(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Mt(Wt.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return ya(M$(n,i))}}const L$=[31,28,31,30,31,30,31,31,30,31,30,31],$$=[31,29,31,30,31,30,31,31,30,31,30,31];class V$ extends pt{constructor(){super(...arguments);De(this,"priority",90);De(this,"subPriority",1);De(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Mt(Wt.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Bt(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=YA(i),s=n.getMonth();return o?r>=1&&r<=$$[s]:r>=1&&r<=L$[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class F$ extends pt{constructor(){super(...arguments);De(this,"priority",90);De(this,"subpriority",1);De(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Mt(Wt.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Bt(r.length,n)}}validate(n,r){const i=n.getFullYear();return YA(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function gv(t,e,n){var d,c,h,p;const r=xs(),i=(n==null?void 0:n.weekStartsOn)??((c=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=$e(t),s=o.getDay(),l=(e%7+7)%7,f=7-i,u=e<0||e>6?e-(s+f)%7:(l+f)%7-(s+f)%7;return Cr(o,u)}class U$ extends pt{constructor(){super(...arguments);De(this,"priority",90);De(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=gv(n,i,o),n.setHours(0,0,0,0),n}}class B$ extends pt{constructor(){super(...arguments);De(this,"priority",90);De(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Yt(Bt(r.length,n),s);case"eo":return Yt(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=gv(n,i,o),n.setHours(0,0,0,0),n}}class j$ extends pt{constructor(){super(...arguments);De(this,"priority",90);De(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Yt(Bt(r.length,n),s);case"co":return Yt(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=gv(n,i,o),n.setHours(0,0,0,0),n}}function q$(t,e){const n=$e(t),r=y$(n),i=e-r;return Cr(n,i)}class H$ extends pt{constructor(){super(...arguments);De(this,"priority",90);De(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return Bt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Yt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Yt(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Yt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Yt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=q$(n,i),n.setHours(0,0,0,0),n}}class z$ extends pt{constructor(){super(...arguments);De(this,"priority",80);De(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(mv(i),0,0,0),n}}class K$ extends pt{constructor(){super(...arguments);De(this,"priority",80);De(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(mv(i),0,0,0),n}}class W$ extends pt{constructor(){super(...arguments);De(this,"priority",80);De(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(mv(i),0,0,0),n}}class Y$ extends pt{constructor(){super(...arguments);De(this,"priority",70);De(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Mt(Wt.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class G$ extends pt{constructor(){super(...arguments);De(this,"priority",70);De(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Mt(Wt.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Q$ extends pt{constructor(){super(...arguments);De(this,"priority",70);De(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Mt(Wt.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class X$ extends pt{constructor(){super(...arguments);De(this,"priority",70);De(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Mt(Wt.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Bt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class J$ extends pt{constructor(){super(...arguments);De(this,"priority",60);De(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Mt(Wt.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Z$ extends pt{constructor(){super(...arguments);De(this,"priority",50);De(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Mt(Wt.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class eV extends pt{constructor(){super(...arguments);De(this,"priority",30);De(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Yt(Bt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class tV extends pt{constructor(){super(...arguments);De(this,"priority",10);De(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return oi(ii.basicOptionalMinutes,n);case"XX":return oi(ii.basic,n);case"XXXX":return oi(ii.basicOptionalSeconds,n);case"XXXXX":return oi(ii.extendedOptionalSeconds,n);case"XXX":default:return oi(ii.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ht(n,n.getTime()-hd(n)-i)}}class nV extends pt{constructor(){super(...arguments);De(this,"priority",10);De(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return oi(ii.basicOptionalMinutes,n);case"xx":return oi(ii.basic,n);case"xxxx":return oi(ii.basicOptionalSeconds,n);case"xxxxx":return oi(ii.extendedOptionalSeconds,n);case"xxx":default:return oi(ii.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ht(n,n.getTime()-hd(n)-i)}}class rV extends pt{constructor(){super(...arguments);De(this,"priority",40);De(this,"incompatibleTokens","*")}parse(n){return KA(n)}set(n,r,i){return[ht(n,i*1e3),{timestampIsSet:!0}]}}class iV extends pt{constructor(){super(...arguments);De(this,"priority",20);De(this,"incompatibleTokens","*")}parse(n){return KA(n)}set(n,r,i){return[ht(n,i),{timestampIsSet:!0}]}}const oV={G:new T$,y:new A$,Y:new k$,R:new x$,u:new I$,Q:new S$,q:new R$,M:new O$,L:new P$,w:new D$,I:new N$,d:new V$,D:new F$,E:new U$,e:new B$,c:new j$,i:new H$,a:new z$,b:new K$,B:new W$,h:new Y$,H:new G$,K:new Q$,k:new X$,m:new J$,s:new Z$,S:new eV,X:new tV,x:new nV,t:new rV,T:new iV},sV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lV=/^'([^]*?)'?$/,uV=/''/g,cV=/\S/,dV=/[a-zA-Z]/;function _m(t,e,n,r){var g,y,v,_,b,m,w,k;const i=v$(),o=(r==null?void 0:r.locale)??i.locale??BA,s=(r==null?void 0:r.firstWeekContainsDate)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:m.weekStartsOn)??i.weekStartsOn??((k=(w=i.locale)==null?void 0:w.options)==null?void 0:k.weekStartsOn)??0;if(e==="")return t===""?$e(n):ht(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},f=[new E$],u=e.match(aV).map(S=>{const E=S[0];if(E in vm){const I=vm[E];return I(S,o.formatLong)}return S}).join("").match(sV),d=[];for(let S of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&HA(S)&&ym(S,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&qA(S)&&ym(S,e,t);const E=S[0],I=oV[E];if(I){const{incompatibleTokens:x}=I;if(Array.isArray(x)){const T=d.find(R=>x.includes(R.token)||R.token===E);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${S}\` at the same time`)}else if(I.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);d.push({token:E,fullToken:S});const A=I.run(t,S,o.match,l);if(!A)return ht(n,NaN);f.push(A.setter),t=A.rest}else{if(E.match(dV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(S==="''"?S="'":E==="'"&&(S=fV(S)),t.indexOf(S)===0)t=t.slice(S.length);else return ht(n,NaN)}}if(t.length>0&&cV.test(t))return ht(n,NaN);const c=f.map(S=>S.priority).sort((S,E)=>E-S).filter((S,E,I)=>I.indexOf(S)===E).map(S=>f.filter(E=>E.priority===S).sort((E,I)=>I.subPriority-E.subPriority)).map(S=>S[0]);let h=$e(n);if(isNaN(h.getTime()))return ht(n,NaN);const p={};for(const S of c){if(!S.validate(h,l))return ht(n,NaN);const E=S.set(h,p,l);Array.isArray(E)?(h=E[0],Object.assign(p,E[1])):h=E}return ht(n,h)}function fV(t){return t.match(lV)[1].replace(uV,"'")}function V_(t,e){const n=ts(t),r=ts(e);return+n==+r}function hV(t,e){return Cr(t,-e)}function GA(t,e){const n=$e(t),r=n.getFullYear(),i=n.getDate(),o=ht(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=g$(o);return n.setMonth(e,Math.min(i,s)),n}function At(t,e){let n=$e(t);return isNaN(+n)?ht(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=GA(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function pV(t,e){const n=$e(t);return n.setHours(e),n}function QA(t,e){const n=$e(t);return n.setMilliseconds(e),n}function mV(t,e){const n=$e(t);return n.setMinutes(e),n}function XA(t,e){const n=$e(t);return n.setSeconds(e),n}function li(t,e){const n=$e(t);return isNaN(+n)?ht(t,NaN):(n.setFullYear(e),n)}function wa(t,e){return Vr(t,-e)}function gV(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,f=wa(t,r+n*12),u=hV(f,o+i*7),d=a+s*60,h=(l+d*60)*1e3;return ht(t,u.getTime()-h)}function JA(t,e){return cv(t,-e)}function La(){return ie(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[M("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),M("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),M("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),M("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}La.compatConfig={MODE:3};function ZA(){return ie(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[M("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),M("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ZA.compatConfig={MODE:3};function vv(){return ie(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[M("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}vv.compatConfig={MODE:3};function yv(){return ie(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[M("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}yv.compatConfig={MODE:3};function _v(){return ie(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[M("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),M("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}_v.compatConfig={MODE:3};function bv(){return ie(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[M("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}bv.compatConfig={MODE:3};function wv(){return ie(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[M("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}wv.compatConfig={MODE:3};const gi=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),Ev=(t,e,n)=>bm(t,e,n)||Te(),vV=(t,e,n)=>{const r=e.dateInTz?gi(new Date(t),e.dateInTz):Te(t);return n?tr(r,!0):r},bm=(t,e,n)=>{if(!t)return null;const r=n?tr(Te(t),!0):Te(t);return e?e.exactMatch?vV(t,e,n):gi(r,e.timezone):r},yV=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Or=(t=>(t.month="month",t.year="year",t))(Or||{}),Wo=(t=>(t.top="top",t.bottom="bottom",t))(Wo||{}),ss=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ss||{}),Bn=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bn||{});const _V=["timestamp","date","iso"];var Xn=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Xn||{}),Dt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Dt||{});function F_(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function bV(t){return e=>Fr(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const wV=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(bV(t))}catch{i=r.map(F_(e))}else i=r.map(F_(e));const o=i.slice(0,n),s=i.slice(n+1,i.length);return[i[n]].concat(...s).concat(...o)},Tv=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:rk(i,e)});return n?r.reverse():r},ek=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const s=o<10?`0${o}`:o;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const o=n==="long"?"MMMM":"MMM";return r.map((s,a)=>{const l=Fr(gi(s,"UTC"),o,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((o,s)=>{const a=i.format(o);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:s}})},EV=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],sn=t=>{const e=ae(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},TV=t=>({type:"dot",...t??{}}),tk=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Av={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},fn=t=>t,U_=t=>t===0?t:!t||isNaN(+t)?null:+t,B_=t=>t===null,nk=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},AV=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},iu=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const o=+n,s=+e;return r&&i?+t>o||+t<s:r?+t>o:i?+t<s:!1},Ea=(t,e)=>AV(t).map(n=>n.map(r=>{const{active:i,disabled:o,isBetween:s,highlighted:a}=e(r);return{...r,active:i,disabled:o,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:o,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:o&&i,dp__cell_in_between:s,"dp--highlighted":a}}})),_o=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},kV=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function xV(t,e){let n=[...document.querySelectorAll(kV())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const IV=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),rk=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),kv=t=>Fr(t,"dd-MM-yyyy"),np=t=>Array.isArray(t),md=(t,e)=>e.get(kv(t)),SV=(t,e)=>t?e?e instanceof Map?!!md(t,e):e(Te(t)):!1:!0,ur=(t,e,n=!1)=>{if(t.key===Dt.enter||t.key===Dt.space)return n&&t.preventDefault(),e()},j_=(t,e,n,r,i,o)=>{const s=_m(t,e.slice(0,t.length),new Date,{locale:o});return xl(s)&&$A(s)?r||i?s:At(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},RV=(t,e,n,r,i,o)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return j_(t,e,s,r,i,o);if(Array.isArray(e)){let a=null;for(const l of e)if(a=j_(t,l,s,r,i,o),a)break;return a}return typeof e=="function"?e(t):null},Te=t=>t?new Date(t):new Date,OV=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${o}T${s}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},tr=(t,e)=>{const n=Te(JSON.parse(JSON.stringify(t))),r=At(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?T6(r):r},bo=(t,e,n,r)=>{let i=t?Te(t):Te();return(e||e===0)&&(i=pV(i,+e)),(n||n===0)&&(i=mV(i,+n)),(r||r===0)&&(i=XA(i,+r)),QA(i,0)},Ft=(t,e)=>!t||!e?!1:ru(tr(t),tr(e)),it=(t,e)=>!t||!e?!1:zs(tr(t),tr(e)),Kt=(t,e)=>!t||!e?!1:ba(tr(t),tr(e)),Of=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Kt(n,t[0])&&Ft(n,t[1]):t!=null&&t[0]&&e?Kt(n,t[0])&&Ft(n,e)||Ft(n,t[0])&&Kt(n,e):!1,Dr=t=>{const e=At(new Date(t),{date:1});return tr(e)},rp=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},as=t=>({hours:ji(t),minutes:Io(t),seconds:_a(t)}),ik=(t,e)=>{if(e){const n=nt(Te(e));if(n>t)return 12;if(n===t)return rt(Te(e))}},ok=(t,e)=>{if(e){const n=nt(Te(e));return n<t?-1:n===t?rt(Te(e)):void 0}},Ta=t=>{if(t)return nt(Te(t))},sk=(t,e)=>{const n=Kt(t,e)?e:t,r=Kt(e,t)?e:t;return VA({start:n,end:r})},PV=t=>{const e=Vr(t,1);return{month:rt(e),year:nt(e)}},ki=(t,e)=>{const n=zr(t,{weekStartsOn:+e}),r=UA(t,{weekStartsOn:+e});return[n,r]},ak=(t,e)=>{const n={hours:ji(Te()),minutes:Io(Te()),seconds:e?_a(Te()):0};return Object.assign(n,t)},fo=(t,e,n)=>[At(Te(t),{date:1}),At(Te(),{month:e,year:n,date:1})],Ci=(t,e,n)=>{let r=t?Te(t):Te();return(e||e===0)&&(r=GA(r,e)),n&&(r=li(r,n)),r},lk=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const o=i?Vr(t,1):wa(t,1),s=[rt(o),nt(o)];return i?!DV(...s,e):!CV(...s,n)},CV=(t,e,n)=>Ft(...fo(n,t,e))||it(...fo(n,t,e)),DV=(t,e,n)=>Kt(...fo(n,t,e))||it(...fo(n,t,e)),uk=(t,e,n,r,i,o,s)=>{if(typeof e=="function"&&!s)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Fr(t[0],o,a)}${i&&!t[1]?"":r}${t[1]?Fr(t[1],o,a):""}`:Fr(t,o,a)},Ls=t=>{if(t)return null;throw new Error(Av.prop("partial-range"))},lc=(t,e)=>{if(e)return t();throw new Error(Av.prop("range"))},wm=t=>Array.isArray(t)?xl(t[0])&&(t[1]?xl(t[1]):!0):t?xl(t):!1,MV=(t,e)=>At(e??Te(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),ip=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?ru(t,e):ba(t,e),o={seconds:0,milliseconds:0};return i||zs(At(t,o),At(e,o))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},op=(t,e,n)=>t?MV(t,e):Te(n??e),q_=(t,e,n,r,i)=>{if(Array.isArray(r)){const s=op(t,r[0],e),a=op(t,r[1],e);return ip(r[0],s,n,!!e)&&ip(r[1],a,n,!!e)&&i}const o=op(t,r,e);return ip(r,o,n,!!e)&&i},sp=t=>At(Te(),as(t)),NV=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>nt(Te(n))===e).map(n=>rt(n)):[],ck=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),xv=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),dk=t=>Fr(t,"yyyy-MM-dd"),Ja=Kr({menuFocused:!1,shiftKeyInMenu:!1}),fk=()=>{const t=n=>{Ja.menuFocused=n},e=n=>{Ja.shiftKeyInMenu!==n&&(Ja.shiftKeyInMenu=n)};return{control:ge(()=>({shiftKeyInMenu:Ja.shiftKeyInMenu,menuFocused:Ja.menuFocused})),setMenuFocused:t,setShiftKey:e}},It=Kr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ap=he(null),uc=he(!1),lp=he(!1),up=he(!1),cp=he(!1),Vn=he(0),zt=he(0),Lo=()=>{const t=ge(()=>uc.value?[...It.selectionGrid,It.actionRow].filter(d=>d.length):lp.value?[...It.timePicker[0],...It.timePicker[1],cp.value?[]:[ap.value],It.actionRow].filter(d=>d.length):up.value?[...It.monthPicker,It.actionRow]:[It.monthYear,...It.calendar,It.time,It.actionRow].filter(d=>d.length)),e=d=>{Vn.value=d?Vn.value+1:Vn.value-1;let c=null;t.value[zt.value]&&(c=t.value[zt.value][Vn.value]),!c&&t.value[zt.value+(d?1:-1)]?(zt.value=zt.value+(d?1:-1),Vn.value=d?0:t.value[zt.value].length-1):c||(Vn.value=d?Vn.value-1:Vn.value+1)},n=d=>{zt.value===0&&!d||zt.value===t.value.length&&d||(zt.value=d?zt.value+1:zt.value-1,t.value[zt.value]?t.value[zt.value]&&!t.value[zt.value][Vn.value]&&Vn.value!==0&&(Vn.value=t.value[zt.value].length-1):zt.value=d?zt.value-1:zt.value+1)},r=d=>{let c=null;t.value[zt.value]&&(c=t.value[zt.value][Vn.value]),c?c.focus({preventScroll:!uc.value}):Vn.value=d?Vn.value-1:Vn.value+1},i=()=>{e(!0),r(!0)},o=()=>{e(!1),r(!1)},s=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,c)=>{It[c]=d},f=(d,c)=>{It[c]=d},u=()=>{Vn.value=0,zt.value=0};return{buildMatrix:l,buildMultiLevelMatrix:f,setTimePickerBackRef:d=>{ap.value=d},setSelectionGrid:d=>{uc.value=d,u(),d||(It.selectionGrid=[])},setTimePicker:(d,c=!1)=>{lp.value=d,cp.value=c,u(),d||(It.timePicker[0]=[],It.timePicker[1]=[])},setTimePickerElements:(d,c=0)=>{It.timePicker[c]=d},arrowRight:i,arrowLeft:o,arrowUp:s,arrowDown:a,clearArrowNav:()=>{It.monthYear=[],It.calendar=[],It.time=[],It.actionRow=[],It.selectionGrid=[],It.timePicker[0]=[],It.timePicker[1]=[],uc.value=!1,lp.value=!1,cp.value=!1,up.value=!1,u(),ap.value=null},setMonthPicker:d=>{up.value=d,u()},refSets:It}},H_=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),LV=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),z_=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,$V=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:z_(!1)};const r=e?t:{},i=e?r.count??!0:t,o=z_(i);return Object.assign(n,r,{count:o})},VV=(t,e,n)=>t||(typeof n=="string"?n:e),FV=t=>typeof t=="boolean"?t?H_({}):!1:H_(t),UV=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},BV=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),jV=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),qV=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},HV=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),zV=t=>{const e={dates:Array.isArray(t)?t.map(n=>Te(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},KV=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},WV=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},YV=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},dp=(t,e,n)=>new Map(t.map(r=>{const i=Ev(r,e,n);return[kv(i),i]})),GV=(t,e)=>t.length?new Map(t.map(n=>{const r=Ev(n.date,e);return[kv(r),n]})):null,QV=t=>{var e;return{minDate:bm(t.minDate,t.timezone,t.isSpecific),maxDate:bm(t.maxDate,t.timezone,t.isSpecific),disabledDates:np(t.disabledDates)?dp(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:np(t.allowedDates)?dp(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&np((e=t.highlight)==null?void 0:e.dates)?dp(t.highlight.dates,t.timezone):t.highlight,markers:GV(t.markers,t.timezone)}},XV=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},$t=t=>{const e=()=>{const w=t.enableSeconds?":ss":"",k=t.enableMinutes?":mm":"";return t.is24?`HH${k}${w}`:`hh${k}${w} aa`},n=()=>{var w;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((w=y.value)==null?void 0:w.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=w=>ak(w,t.enableSeconds),i=()=>m.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,o=ge(()=>$V(t.multiCalendars)),s=ge(()=>i()),a=ge(()=>LV(t.ariaLabels)),l=ge(()=>BV(t.filters)),f=ge(()=>FV(t.transitions)),u=ge(()=>jV(t.actionRow)),d=ge(()=>VV(t.previewFormat,t.format,n())),c=ge(()=>UV(t.textInput)),h=ge(()=>qV(t.inline)),p=ge(()=>HV(t.config)),g=ge(()=>zV(t.highlight)),y=ge(()=>KV(t.weekNumbers)),v=ge(()=>YV(t.timezone,t.emitTimezone)),_=ge(()=>XV(t.multiDates,t.multiDatesLimit)),b=ge(()=>QV({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:g.value,markers:t.markers,timezone:v.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),m=ge(()=>WV(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:f,defaultedMultiCalendars:o,defaultedStartTime:s,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:d,defaultedTextInput:c,defaultedInline:h,defaultedConfig:p,defaultedHighlight:g,defaultedWeekNumbers:y,defaultedRange:m,propDates:b,defaultedTz:v,defaultedMultiDates:_,getDefaultPattern:n,getDefaultStartTime:i}},JV=(t,e,n)=>{const r=he(),{defaultedTextInput:i,defaultedRange:o,defaultedTz:s,defaultedMultiDates:a,getDefaultPattern:l}=$t(e),f=he(""),u=Pl(e,"format"),d=Pl(e,"formatLocale");en(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,B(!0))},{deep:!0}),en(o,(V,Z)=>{V.enabled!==Z.enabled&&(r.value=null)}),en(u,()=>{X()});const c=V=>s.value.timezone&&s.value.convertModel?gi(V,s.value.timezone):V,h=V=>{if(s.value.timezone&&s.value.convertModel){const Z=yV(s.value.timezone);return g6(V,Z)}return V},p=(V,Z,Y=!1)=>uk(V,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Z??l(),Y),g=V=>V?e.modelType?U(V):{hours:ji(V),minutes:Io(V),seconds:e.enableSeconds?_a(V):0}:null,y=V=>e.modelType?U(V):{month:rt(V),year:nt(V)},v=V=>Array.isArray(V)?a.value.enabled?V.map(Z=>_(Z,li(Te(),Z))):lc(()=>[li(Te(),V[0]),V[1]?li(Te(),V[1]):Ls(o.value.partialRange)],o.value.enabled):li(Te(),+V),_=(V,Z)=>(typeof V=="string"||typeof V=="number")&&e.modelType?H(V):Z,b=V=>Array.isArray(V)?[_(V[0],bo(null,+V[0].hours,+V[0].minutes,V[0].seconds)),_(V[1],bo(null,+V[1].hours,+V[1].minutes,V[1].seconds))]:_(V,bo(null,V.hours,V.minutes,V.seconds)),m=V=>{const Z=At(Te(),{date:1});return Array.isArray(V)?a.value.enabled?V.map(Y=>_(Y,Ci(Z,+Y.month,+Y.year))):lc(()=>[_(V[0],Ci(Z,+V[0].month,+V[0].year)),_(V[1],V[1]?Ci(Z,+V[1].month,+V[1].year):Ls(o.value.partialRange))],o.value.enabled):_(V,Ci(Z,+V.month,+V.year))},w=V=>{if(Array.isArray(V))return V.map(Z=>H(Z));throw new Error(Av.dateArr("multi-dates"))},k=V=>{if(Array.isArray(V)&&o.value.enabled){const Z=V[0],Y=V[1];return[Te(Array.isArray(Z)?Z[0]:null),Te(Array.isArray(Y)?Y[0]:null)]}return Te(V[0])},S=V=>e.modelAuto?Array.isArray(V)?[H(V[0]),H(V[1])]:e.autoApply?[H(V)]:[H(V),null]:Array.isArray(V)?lc(()=>V[1]?[H(V[0]),V[1]?H(V[1]):Ls(o.value.partialRange)]:[H(V[0])],o.value.enabled):H(V),E=()=>{Array.isArray(r.value)&&o.value.enabled&&r.value.length===1&&r.value.push(Ls(o.value.partialRange))},I=()=>{const V=r.value;return[U(V[0]),V[1]?U(V[1]):Ls(o.value.partialRange)]},x=()=>r.value[1]?I():U(fn(r.value[0])),A=()=>(r.value||[]).map(V=>U(V)),T=(V=!1)=>(V||E(),e.modelAuto?x():a.value.enabled?A():Array.isArray(r.value)?lc(()=>I(),o.value.enabled):U(fn(r.value))),R=V=>!V||Array.isArray(V)&&!V.length?null:e.timePicker?b(fn(V)):e.monthPicker?m(fn(V)):e.yearPicker?v(fn(V)):a.value.enabled?w(fn(V)):e.weekPicker?k(fn(V)):S(fn(V)),N=V=>{const Z=R(V);wm(fn(Z))?(r.value=fn(Z),X()):(r.value=null,f.value="")},C=()=>{const V=Z=>Fr(Z,i.value.format);return`${V(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?V(r.value[1]):""}`},O=()=>n.value&&r.value?Array.isArray(r.value)?C():Fr(r.value,i.value.format):p(r.value),P=()=>r.value?a.value.enabled?r.value.map(V=>p(V)).join("; "):i.value.enabled&&typeof i.value.format=="string"?O():p(r.value):"",X=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?f.value=P():f.value=e.format(r.value)},H=V=>{if(e.utc){const Z=new Date(V);return e.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return e.modelType?_V.includes(e.modelType)?c(new Date(V)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(_m(V,l(),new Date,{locale:d.value})):c(_m(V,e.modelType,new Date,{locale:d.value})):c(new Date(V))},U=V=>V?e.utc?OV(V,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(V):e.modelType==="iso"?h(V).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(V)):p(h(V),e.modelType,!0):h(V):"",$=(V,Z=!1,Y=!1)=>{if(Y)return V;if(t("update:model-value",V),s.value.emitTimezone&&Z){const oe=Array.isArray(V)?V.map(ue=>gi(fn(ue),s.value.emitTimezone)):gi(fn(V),s.value.emitTimezone);t("update:model-timezone-value",oe)}},F=V=>Array.isArray(r.value)?a.value.enabled?r.value.map(Z=>V(Z)):[V(r.value[0]),r.value[1]?V(r.value[1]):Ls(o.value.partialRange)]:V(fn(r.value)),D=()=>{if(Array.isArray(r.value)){const V=ki(r.value[0],e.weekStart),Z=r.value[1]?ki(r.value[1],e.weekStart):[];return[V.map(Y=>Te(Y)),Z.map(Y=>Te(Y))]}return ki(r.value,e.weekStart).map(V=>Te(V))},K=(V,Z)=>$(fn(F(V)),!1,Z),z=V=>{const Z=D();return V?Z:t("update:model-value",D())},B=(V=!1)=>(V||X(),e.monthPicker?K(y,V):e.timePicker?K(g,V):e.yearPicker?K(nt,V):e.weekPicker?z(V):$(T(V),!0,V));return{inputValue:f,internalModelValue:r,checkBeforeEmit:()=>r.value?o.value.enabled?o.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:N,formatInputValue:X,emitModelValue:B}},ZV=(t,e)=>{const{defaultedFilters:n,propDates:r}=$t(t),{validateMonthYearInRange:i}=$o(t),o=(u,d)=>{let c=u;return n.value.months.includes(rt(c))?(c=d?Vr(u,1):wa(u,1),o(c,d)):c},s=(u,d)=>{let c=u;return n.value.years.includes(nt(c))?(c=d?cv(u,1):JA(u,1),s(c,d)):c},a=(u,d=!1)=>{const c=At(Te(),{month:t.month,year:t.year});let h=u?Vr(c,1):wa(c,1);t.disableYearSelect&&(h=li(h,t.year));let p=rt(h),g=nt(h);n.value.months.includes(p)&&(h=o(h,u),p=rt(h),g=nt(h)),n.value.years.includes(g)&&(h=s(h,u),g=nt(h)),i(p,g,u,t.preventMinMaxNavigation)&&l(p,g,d)},l=(u,d,c)=>{e("update-month-year",{month:u,year:d,fromNav:c})},f=ge(()=>u=>lk(At(Te(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:a,isDisabled:f,updateMonthYear:l}},Pf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Gr={...Pf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},eF=["title"],tF=["disabled"],nF=Gt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Gr},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:o,defaultedMultiCalendars:s,defaultedTextInput:a,defaultedInline:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:d}=$t(r),{isTimeValid:c,isMonthValid:h}=$o(r),{buildMatrix:p}=Lo(),g=he(null),y=he(null),v=he(!1),_=he({}),b=he(null),m=he(null);gt(()=>{r.arrowNavigation&&p([sn(g),sn(y)],"actionRow"),w(),window.addEventListener("resize",w)}),ka(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var C,O;const P=(C=b.value)==null?void 0:C.getBoundingClientRect(),X=(O=m.value)==null?void 0:O.getBoundingClientRect();P&&X&&(_.value.maxWidth=`${X.width-P.width-20}px`),v.value=!0},0)},k=ge(()=>f.value.enabled&&!f.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),S=ge(()=>!c.value(r.internalModelValue)||!h.value(r.internalModelValue)||!k.value),E=()=>{const C=o.value;return r.timePicker||r.monthPicker,C(fn(r.internalModelValue))},I=()=>{const C=r.internalModelValue;return s.value.count>0?`${x(C[0])} - ${x(C[1])}`:[x(C[0]),x(C[1])]},x=C=>uk(C,o.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,d()),A=ge(()=>!r.internalModelValue||!r.menuMount?"":typeof o.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?I():u.value.enabled?r.internalModelValue.map(C=>`${x(C)}`):r.modelAuto?`${x(r.internalModelValue[0])}`:`${x(r.internalModelValue[0])} -`:x(r.internalModelValue):E()),T=()=>u.value.enabled?"; ":" - ",R=ge(()=>Array.isArray(A.value)?A.value.join(T()):A.value),N=()=>{c.value(r.internalModelValue)&&h.value(r.internalModelValue)&&k.value?n("select-date"):n("invalid-select")};return(C,O)=>(ie(),le("div",{ref_key:"actionRowRef",ref:m,class:"dp__action_row"},[C.$slots["action-row"]?Me(C.$slots,"action-row",mn(ln({key:0},{internalModelValue:C.internalModelValue,disabled:S.value,selectDate:()=>C.$emit("select-date"),closePicker:()=>C.$emit("close-picker")}))):(ie(),le(Oe,{key:1},[ae(i).showPreview?(ie(),le("div",{key:0,class:"dp__selection_preview",title:R.value,style:pn(_.value)},[C.$slots["action-preview"]&&v.value?Me(C.$slots,"action-preview",{key:0,value:C.internalModelValue}):ye("",!0),!C.$slots["action-preview"]&&v.value?(ie(),le(Oe,{key:1},[cn(xe(R.value),1)],64)):ye("",!0)],12,eF)):ye("",!0),M("div",{ref_key:"actionBtnContainer",ref:b,class:"dp__action_buttons","data-dp-element":"action-row"},[C.$slots["action-buttons"]?Me(C.$slots,"action-buttons",{key:0,value:C.internalModelValue}):ye("",!0),C.$slots["action-buttons"]?ye("",!0):(ie(),le(Oe,{key:1},[!ae(l).enabled&&ae(i).showCancel?(ie(),le("button",{key:0,ref_key:"cancelButtonRef",ref:g,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[0]||(O[0]=P=>C.$emit("close-picker")),onKeydown:O[1]||(O[1]=P=>ae(ur)(P,()=>C.$emit("close-picker")))},xe(C.cancelText),545)):ye("",!0),ae(i).showNow?(ie(),le("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[2]||(O[2]=P=>C.$emit("select-now")),onKeydown:O[3]||(O[3]=P=>ae(ur)(P,()=>C.$emit("select-now")))},xe(C.nowButtonLabel),33)):ye("",!0),ae(i).showSelect?(ie(),le("button",{key:2,ref_key:"selectButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_select",disabled:S.value,"data-test":"select-button",onKeydown:O[4]||(O[4]=P=>ae(ur)(P,()=>N())),onClick:N},xe(C.selectText),41,tF)):ye("",!0)],64))],512)],64))],512))}}),rF={class:"dp__selection_grid_header"},iF=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],oF=["aria-label"],Iu=Gt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:o}=Lo(),s=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:f,defaultedConfig:u}=$t(a),{hideNavigationButtons:d}=Mf(),c=he(!1),h=he(null),p=he(null),g=he([]),y=he(),v=he(null),_=he(0),b=he(null);eb(()=>{h.value=null}),gt(()=>{Cn().then(()=>A()),a.noOverlayFocus||w(),m(!0)}),ka(()=>m(!1));const m=F=>{var D;a.arrowNavigation&&((D=a.headerRefs)!=null&&D.length?o(F):r(F))},w=()=>{var F;const D=sn(p);D&&(f.value.enabled||(h.value?(F=h.value)==null||F.focus({preventScroll:!0}):D.focus({preventScroll:!0})),c.value=D.clientHeight<D.scrollHeight)},k=ge(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),S=ge(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=ge(()=>({dp__overlay_col:!0})),I=ge(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:c.value,dp__button_bottom:a.isLast})),x=ge(()=>{var F,D;return{dp__overlay_container:!0,dp__container_flex:((F=a.items)==null?void 0:F.length)<=6,dp__container_block:((D=a.items)==null?void 0:D.length)>6}});en(()=>a.items,()=>A(!1),{deep:!0});const A=(F=!0)=>{Cn().then(()=>{const D=sn(h),K=sn(p),z=sn(v),B=sn(b),V=z?z.getBoundingClientRect().height:0;K&&(K.getBoundingClientRect().height?_.value=K.getBoundingClientRect().height-V:_.value=u.value.modeHeight-V),D&&B&&F&&(B.scrollTop=D.offsetTop-B.offsetTop-(_.value/2-D.getBoundingClientRect().height)-V)})},T=F=>{F.disabled||s("selected",F.value)},R=()=>{s("toggle"),s("reset-flow")},N=()=>{a.escClose&&R()},C=(F,D,K,z)=>{F&&((D.active||D.value===a.focusValue)&&(h.value=F),a.arrowNavigation&&(Array.isArray(g.value[K])?g.value[K][z]=F:g.value[K]=[F],O()))},O=()=>{var F,D;const K=(F=a.headerRefs)!=null&&F.length?[a.headerRefs].concat(g.value):g.value.concat([a.skipButtonRef?[]:[v.value]]);i(fn(K),(D=a.headerRefs)!=null&&D.length?"monthPicker":"selectionGrid")},P=F=>{a.arrowNavigation||_o(F,u.value,!0)},X=F=>{y.value=F,s("hover-value",F)},H=()=>{if(R(),!a.isLast){const F=IV(a.menuWrapRef??null,"action-row");if(F){const D=nk(F);D==null||D.focus()}}},U=F=>{switch(F.key){case Dt.esc:return N();case Dt.arrowLeft:return P(F);case Dt.arrowRight:return P(F);case Dt.arrowUp:return P(F);case Dt.arrowDown:return P(F);default:return}},$=F=>{if(F.key===Dt.enter)return R();if(F.key===Dt.tab)return H()};return e({focusGrid:w}),(F,D)=>{var K;return ie(),le("div",{ref_key:"gridWrapRef",ref:p,class:Ke(k.value),style:pn(S.value),role:"dialog",tabindex:"0",onKeydown:U,onClick:D[0]||(D[0]=xr(()=>{},["prevent"]))},[M("div",{ref_key:"containerRef",ref:b,class:Ke(x.value),role:"grid",style:pn({"--dp-overlay-height":`${_.value}px`})},[M("div",rF,[Me(F.$slots,"header")]),F.$slots.overlay?Me(F.$slots,"overlay",{key:0}):(ie(!0),le(Oe,{key:1},Qe(F.items,(z,B)=>(ie(),le("div",{key:B,class:Ke(["dp__overlay_row",{dp__flex_row:F.items.length>=3}]),role:"row"},[(ie(!0),le(Oe,null,Qe(z,(V,Z)=>(ie(),le("div",{key:V.value,ref_for:!0,ref:Y=>C(Y,V,B,Z),role:"gridcell",class:Ke(E.value),"aria-selected":V.active||void 0,"aria-disabled":V.disabled||void 0,tabindex:"0","data-test":V.text,onClick:xr(Y=>T(V),["prevent"]),onKeydown:Y=>ae(ur)(Y,()=>T(V),!0),onMouseover:Y=>X(V.value)},[M("div",{class:Ke(V.className)},[F.$slots.item?Me(F.$slots,"item",{key:0,item:V}):ye("",!0),F.$slots.item?ye("",!0):(ie(),le(Oe,{key:1},[cn(xe(V.text),1)],64))],2)],42,iF))),128))],2))),128))],6),F.$slots["button-icon"]?bt((ie(),le("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(K=ae(l))==null?void 0:K.toggleOverlay,class:Ke(I.value),tabindex:"0",onClick:R,onKeydown:$},[Me(F.$slots,"button-icon")],42,oF)),[[gl,!ae(d)(F.hideNavigation,F.type)]]):ye("",!0)],38)}}}),Cf=Gt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=ge(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ge(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,o)=>(ie(),le("div",{class:Ke({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(ie(!0),le(Oe,null,Qe(n.value,(s,a)=>(ie(),le("div",{key:s,class:Ke(r.value)},[Me(i.$slots,"default",{instance:s,index:a})],2))),128))],2))}}),sF=["aria-label","aria-disabled"],Il=Gt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=he(null);return gt(()=>n("set-ref",r)),(i,o)=>(ie(),le("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:o[0]||(o[0]=s=>i.$emit("activate")),onKeydown:o[1]||(o[1]=s=>ae(ur)(s,()=>i.$emit("activate"),!0))},[M("span",{class:Ke(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Me(i.$slots,"default")],2)],40,sF))}}),aF={class:"dp--year-mode-picker"},lF=["aria-label","data-test"],hk=Gt({__name:"YearModePicker",props:{...Gr,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:o}=Mf(),{defaultedConfig:s,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:f}=$t(r),{showTransition:u,transitionName:d}=Su(f),c=(g=!1,y)=>{n("toggle-year-picker",{flow:g,show:y})},h=g=>{n("year-select",g)},p=(g=!1)=>{n("handle-year",g)};return(g,y)=>{var v,_,b;return ie(),le("div",aF,[ae(o)(ae(a),t.instance)?(ie(),Ue(Il,{key:0,ref:"mpPrevIconRef","aria-label":(v=ae(l))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=m=>p(!1))},{default:He(()=>[g.$slots["arrow-left"]?Me(g.$slots,"arrow-left",{key:0}):ye("",!0),g.$slots["arrow-left"]?ye("",!0):(ie(),Ue(ae(vv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),M("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(_=ae(l))==null?void 0:_.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:y[1]||(y[1]=()=>c(!1)),onKeydown:y[2]||(y[2]=Tb(()=>c(!1),["enter"]))},[g.$slots.year?Me(g.$slots,"year",{key:0,year:t.year}):ye("",!0),g.$slots.year?ye("",!0):(ie(),le(Oe,{key:1},[cn(xe(t.year),1)],64))],40,lF),ae(i)(ae(a),t.instance)?(ie(),Ue(Il,{key:1,ref:"mpNextIconRef","aria-label":(b=ae(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=m=>p(!0))},{default:He(()=>[g.$slots["arrow-right"]?Me(g.$slots,"arrow-right",{key:0}):ye("",!0),g.$slots["arrow-right"]?ye("",!0):(ie(),Ue(ae(yv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),je(Ur,{name:ae(d)(t.showYearPicker),css:ae(u)},{default:He(()=>[t.showYearPicker?(ie(),Ue(Iu,{key:0,items:t.items,"text-input":g.textInput,"esc-close":g.escClose,config:g.config,"is-last":g.autoApply&&!ae(s).keepActionRow,"hide-navigation":g.hideNavigation,"aria-labels":g.ariaLabels,type:"year",onToggle:c,onSelected:y[4]||(y[4]=m=>h(m))},Hn({"button-icon":He(()=>[g.$slots["calendar-icon"]?Me(g.$slots,"calendar-icon",{key:0}):ye("",!0),g.$slots["calendar-icon"]?ye("",!0):(ie(),Ue(ae(La),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:He(({item:m})=>[Me(g.$slots,"year-overlay-value",{text:m.text,value:m.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ye("",!0)]),_:3},8,["name","css"])])}}}),Iv=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>it(t,r))){const r=e.value.filter(i=>!it(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Sv=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Ft(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},Df=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},pk=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>gi(Te(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=gi(Te(t.value),t.timezone))},mk=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Kt(t,e.value[0])||it(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Ft(t,e.value[1])||it(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],gk=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:o,props:s,filters:a,year:l,month:f,emit:u})=>{const d=ge(()=>Tv(s.yearRange,s.locale,s.reverseYears)),c=he([!1]),h=ge(()=>(I,x)=>{const A=At(Dr(new Date),{month:f.value(I),year:l.value(I)}),T=x?FA(A):dv(A);return lk(T,r.value.maxDate,r.value.minDate,s.preventMinMaxNavigation,x)}),p=()=>Array.isArray(o.value)&&t.value.solo&&o.value[1],g=()=>{for(let I=0;I<t.value.count;I++)if(I===0)i.value[I]=i.value[0];else if(I===t.value.count-1&&p())i.value[I]={month:rt(o.value[1]),year:nt(o.value[1])};else{const x=At(Te(),i.value[I-1]);i.value[I]={month:rt(x),year:nt(cv(x,1))}}},y=I=>{if(!I)return g();const x=At(Te(),i.value[I]);return i.value[0].year=nt(JA(x,t.value.count-1)),g()},v=(I,x)=>{const A=w6(x,I);return e.value.showLastInRange&&A>1?x:I},_=I=>s.focusStartDate||t.value.solo?I[0]:I[1]?v(I[0],I[1]):I[0],b=()=>{if(o.value){const I=Array.isArray(o.value)?_(o.value):o.value;i.value[0]={month:rt(I),year:nt(I)}}};gt(()=>{b(),t.value.count&&g()});const m=(I,x)=>{i.value[x].year=I,u("update-month-year",{instance:x,year:I,month:i.value[x].month}),t.value.count&&!t.value.solo&&y(x)},w=ge(()=>I=>Ea(d.value,x=>{var A;const T=l.value(I)===x.value,R=iu(x.value,Ta(r.value.minDate),Ta(r.value.maxDate))||((A=a.value.years)==null?void 0:A.includes(l.value(I))),N=xv(n.value,x.value);return{active:T,disabled:R,highlighted:N}})),k=(I,x)=>{m(I,x),E(x)},S=(I,x=!1)=>{if(!h.value(I,x)){const A=x?l.value(I)+1:l.value(I)-1;m(A,I)}},E=(I,x=!1,A)=>{x||u("reset-flow"),A!==void 0?c.value[I]=A:c.value[I]=!c.value[I],c.value[I]?u("overlay-toggle",{open:!0,overlay:Bn.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:Bn.year}))};return{isDisabled:h,groupedYears:w,showYearPicker:c,selectYear:m,toggleYearPicker:E,handleYearSelect:k,handleYear:S}},uF=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,defaultedRange:s,defaultedHighlight:a,propDates:l,defaultedTz:f,defaultedFilters:u,defaultedMultiDates:d}=$t(t),{modelValue:c,year:h,month:p,calendars:g}=Ru(t,e),y=ge(()=>ek(t.formatLocale,t.locale,t.monthNameFormat)),v=he(null),{checkMinMaxRange:_}=$o(t),{selectYear:b,groupedYears:m,showYearPicker:w,toggleYearPicker:k,handleYearSelect:S,handleYear:E,isDisabled:I}=gk({modelValue:c,multiCalendars:n,range:s,highlight:a,calendars:g,year:h,propDates:l,month:p,filters:u,props:t,emit:e});gt(()=>{t.startDate&&(c.value&&t.focusStartDate||!c.value)&&b(nt(Te(t.startDate)),0)});const x=D=>D?{month:rt(D),year:nt(D)}:{month:null,year:null},A=()=>c.value?Array.isArray(c.value)?c.value.map(D=>x(D)):x(c.value):x(),T=(D,K)=>{const z=g.value[D],B=A();return Array.isArray(B)?B.some(V=>V.year===(z==null?void 0:z.year)&&V.month===K):(z==null?void 0:z.year)===B.year&&K===B.month},R=(D,K,z)=>{var B,V;const Z=A();return Array.isArray(Z)?h.value(K)===((B=Z[z])==null?void 0:B.year)&&D===((V=Z[z])==null?void 0:V.month):!1},N=(D,K)=>{if(s.value.enabled){const z=A();if(Array.isArray(c.value)&&Array.isArray(z)){const B=R(D,K,0)||R(D,K,1),V=Ci(Dr(Te()),D,h.value(K));return Of(c.value,v.value,V)&&!B}return!1}return!1},C=ge(()=>D=>Ea(y.value,K=>{var z;const B=T(D,K.value),V=iu(K.value,ik(h.value(D),l.value.minDate),ok(h.value(D),l.value.maxDate))||NV(l.value.disabledDates,h.value(D)).includes(K.value)||((z=u.value.months)==null?void 0:z.includes(K.value)),Z=N(K.value,D),Y=ck(a.value,K.value,h.value(D));return{active:B,disabled:V,isBetween:Z,highlighted:Y}})),O=(D,K)=>Ci(Dr(Te()),D,h.value(K)),P=(D,K)=>{const z=c.value?c.value:Dr(new Date);c.value=Ci(z,D,h.value(K)),e("auto-apply"),e("update-flow-step")},X=(D,K)=>{const z=O(D,K);s.value.fixedEnd||s.value.fixedStart?c.value=mk(z,c,e,s):c.value?_(z,c.value)&&(c.value=Sv(c,O(D,K),e)):c.value=[O(D,K)],Cn().then(()=>{Df(c.value,e,t.autoApply,t.modelAuto)})},H=(D,K)=>{Iv(O(D,K),c,d.value.limit),e("auto-apply",!0)},U=(D,K)=>(g.value[K].month=D,F(K,g.value[K].year,D),d.value.enabled?H(D,K):s.value.enabled?X(D,K):P(D,K)),$=(D,K)=>{b(D,K),F(K,D,null)},F=(D,K,z)=>{let B=z;if(!B&&B!==0){const V=A();B=Array.isArray(V)?V[D].month:V.month}e("update-month-year",{instance:D,year:K,month:B})};return{groupedMonths:C,groupedYears:m,year:h,isDisabled:I,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,showYearPicker:w,modelValue:c,presetDate:(D,K)=>{pk({value:D,modelValue:c,range:s.value.enabled,timezone:K?void 0:f.value.timezone}),e("auto-apply")},setHoverDate:(D,K)=>{v.value=O(D,K)},selectMonth:U,selectYear:$,toggleYearPicker:k,handleYearSelect:S,handleYear:E,getModelMonthYear:A}},cF=Gt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Gr},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=ys(),o=vr(i,"yearMode"),s=t;gt(()=>{s.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:f,isDisabled:u,defaultedMultiCalendars:d,defaultedConfig:c,showYearPicker:h,modelValue:p,presetDate:g,setHoverDate:y,selectMonth:v,selectYear:_,toggleYearPicker:b,handleYearSelect:m,handleYear:w,getModelMonthYear:k}=uF(s,r);return e({getSidebarProps:()=>({modelValue:p,year:f,getModelMonthYear:k,selectMonth:v,selectYear:_,handleYear:w}),presetDate:g,toggleYearPicker:S=>b(0,S)}),(S,E)=>(ie(),Ue(Cf,{"multi-calendars":ae(d).count,collapse:S.collapse,stretch:""},{default:He(({instance:I})=>[S.$slots["top-extra"]?Me(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):ye("",!0),S.$slots["month-year"]?Me(S.$slots,"month-year",mn(ln({key:1},{year:ae(f),months:ae(a)(I),years:ae(l)(I),selectMonth:ae(v),selectYear:ae(_),instance:I}))):(ie(),Ue(Iu,{key:2,items:ae(a)(I),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!ae(c).keepActionRow,"esc-close":S.escClose,height:ae(c).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:x=>ae(v)(x,I),onHoverValue:x=>ae(y)(x,I)},Hn({header:He(()=>[je(hk,ln(S.$props,{items:ae(l)(I),instance:I,"show-year-picker":ae(h)[I],year:ae(f)(I),"is-disabled":x=>ae(u)(I,x),onHandleYear:x=>ae(w)(I,x),onYearSelect:x=>ae(m)(x,I),onToggleYearPicker:x=>ae(b)(I,x==null?void 0:x.flow,x==null?void 0:x.show)}),Hn({_:2},[Qe(ae(o),(x,A)=>({name:x,fn:He(T=>[Me(S.$slots,x,mn(Zn(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[S.$slots["month-overlay-value"]?{name:"item",fn:He(({item:x})=>[Me(S.$slots,"month-overlay-value",{text:x.text,value:x.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),dF=(t,e)=>{const{modelValue:n}=Ru(t,e),r=he(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:a,propDates:l}=$t(t),f=he();gt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(f.value=nt(Te(t.startDate)))});const u=p=>Array.isArray(n.value)?n.value.some(g=>nt(g)===p):n.value?nt(n.value)===p:!1,d=p=>a.value.enabled&&Array.isArray(n.value)?Of(n.value,r.value,h(p)):!1,c=ge(()=>Ea(Tv(t.yearRange,t.locale,t.reverseYears),p=>{const g=u(p.value),y=iu(p.value,Ta(l.value.minDate),Ta(l.value.maxDate))||s.value.years.includes(p.value),v=d(p.value)&&!g,_=xv(i.value,p.value);return{active:g,disabled:y,isBetween:v,highlighted:_}})),h=p=>li(Dr(new Date),p);return{groupedYears:c,modelValue:n,focusYear:f,setHoverValue:p=>{r.value=li(Dr(new Date),p)},selectYear:p=>{var g;if(e("update-month-year",{instance:0,year:p}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((g=n.value)==null?void 0:g.map(y=>nt(y))).includes(p)?n.value=n.value.filter(y=>nt(y)!==p):n.value.push(li(tr(Te()),p))):n.value=[li(tr(Te()),p)],e("auto-apply",!0);a.value.enabled?(n.value=Sv(n,h(p),e),Cn().then(()=>{Df(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},fF=Gt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Gr},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:o,modelValue:s,focusYear:a,selectYear:l,setHoverValue:f}=dF(i,r),{defaultedConfig:u}=$t(i);return e({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(d,c)=>(ie(),le("div",null,[d.$slots["top-extra"]?Me(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):ye("",!0),d.$slots["month-year"]?Me(d.$slots,"month-year",mn(ln({key:1},{years:ae(o),selectYear:ae(l)}))):(ie(),Ue(Iu,{key:2,items:ae(o),"is-last":d.autoApply&&!ae(u).keepActionRow,height:ae(u).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":ae(a),type:"year","use-relative":"",onSelected:ae(l),onHoverValue:ae(f)},Hn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:He(({item:h})=>[Me(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),hF={key:0,class:"dp__time_input"},pF=["data-test","aria-label","onKeydown","onClick","onMousedown"],mF=M("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),gF=M("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),vF=["aria-label","disabled","data-test","onKeydown","onClick"],yF=["data-test","aria-label","onKeydown","onClick","onMousedown"],_F=M("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),bF=M("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),wF={key:0},EF=["aria-label"],TF=Gt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Gr},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:o,setTimePickerBackRef:s}=Lo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:f,defaultedConfig:u,defaultedRange:d}=$t(i),{transitionName:c,showTransition:h}=Su(l),p=Kr({hours:!1,minutes:!1,seconds:!1}),g=he("AM"),y=he(null),v=he([]),_=he();gt(()=>{r("mounted")});const b=ee=>At(new Date,{hours:ee.hours,minutes:ee.minutes,seconds:i.enableSeconds?ee.seconds:0,milliseconds:0}),m=ge(()=>ee=>O(ee,i[ee])||k(ee,i[ee])),w=ge(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),k=(ee,j)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(ee,j):!1,S=(ee,j)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const Q=j?+i[`${ee}Increment`]:-+i[`${ee}Increment`],G=i[ee]+Q;return!i.validateTime(ee,G)}return!1},E=ge(()=>ee=>!$(+i[ee]+ +i[`${ee}Increment`],ee)||S(ee,!0)),I=ge(()=>ee=>!$(+i[ee]-+i[`${ee}Increment`],ee)||S(ee,!1)),x=(ee,j)=>CA(At(Te(),ee),j),A=(ee,j)=>gV(At(Te(),ee),j),T=ge(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),R=ge(()=>{const ee=[{type:"hours"}];return i.enableMinutes&&ee.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&ee.push({type:"",separator:!0},{type:"seconds"}),ee}),N=ge(()=>R.value.filter(ee=>!ee.separator)),C=ge(()=>ee=>{if(ee==="hours"){const j=V(+i.hours);return{text:j<10?`0${j}`:`${j}`,value:j}}return{text:i[ee]<10?`0${i[ee]}`:`${i[ee]}`,value:i[ee]}}),O=(ee,j)=>{var Q;if(!i.disabledTimesConfig)return!1;const G=i.disabledTimesConfig(i.order,ee==="hours"?j:void 0);return G[ee]?!!((Q=G[ee])!=null&&Q.includes(j)):!0},P=(ee,j)=>j!=="hours"||g.value==="AM"?ee:ee+12,X=ee=>{const j=i.is24?24:12,Q=ee==="hours"?j:60,G=+i[`${ee}GridIncrement`],de=ee==="hours"&&!i.is24?G:0,q=[];for(let W=de;W<Q;W+=G)q.push({value:i.is24?W:P(W,ee),text:W<10?`0${W}`:`${W}`});return ee==="hours"&&!i.is24&&q.unshift({value:g.value==="PM"?12:0,text:"12"}),Ea(q,W=>({active:!1,disabled:f.value.times[ee].includes(W.value)||!$(W.value,ee)||O(ee,W.value)||k(ee,W.value)}))},H=ee=>ee>=0?ee:59,U=ee=>ee>=0?ee:23,$=(ee,j)=>{const Q=i.minTime?b(rp(i.minTime)):null,G=i.maxTime?b(rp(i.maxTime)):null,de=b(rp(w.value,j,j==="minutes"||j==="seconds"?H(ee):U(ee)));return Q&&G?(ru(de,G)||zs(de,G))&&(ba(de,Q)||zs(de,Q)):Q?ba(de,Q)||zs(de,Q):G?ru(de,G)||zs(de,G):!0},F=ee=>i[`no${ee[0].toUpperCase()+ee.slice(1)}Overlay`],D=ee=>{F(ee)||(p[ee]=!p[ee],p[ee]?r("overlay-opened",ee):r("overlay-closed",ee))},K=ee=>ee==="hours"?ji:ee==="minutes"?Io:_a,z=()=>{_.value&&clearTimeout(_.value)},B=(ee,j=!0,Q)=>{const G=j?x:A,de=j?+i[`${ee}Increment`]:-+i[`${ee}Increment`];$(+i[ee]+de,ee)&&r(`update:${ee}`,K(ee)(G({[ee]:+i[ee]},{[ee]:+i[`${ee}Increment`]}))),!(Q!=null&&Q.keyboard)&&u.value.timeArrowHoldThreshold&&(_.value=setTimeout(()=>{B(ee,j)},u.value.timeArrowHoldThreshold))},V=ee=>i.is24?ee:(ee>=12?g.value="PM":g.value="AM",EV(ee)),Z=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},Y=ee=>{p[ee]=!0},oe=(ee,j,Q)=>{if(ee&&i.arrowNavigation){Array.isArray(v.value[j])?v.value[j][Q]=ee:v.value[j]=[ee];const G=v.value.reduce((de,q)=>q.map((W,te)=>[...de[te]||[],q[te]]),[]);s(i.closeTimePickerBtn),y.value&&(G[1]=G[1].concat(y.value)),o(G,i.order)}},ue=(ee,j)=>(D(ee),r(`update:${ee}`,j));return e({openChildCmp:Y}),(ee,j)=>{var Q;return ee.disabled?ye("",!0):(ie(),le("div",hF,[(ie(!0),le(Oe,null,Qe(R.value,(G,de)=>{var q,W,te;return ie(),le("div",{key:de,class:Ke(T.value)},[G.separator?(ie(),le(Oe,{key:0},[cn(" : ")],64)):(ie(),le(Oe,{key:1},[M("button",{ref_for:!0,ref:ne=>oe(ne,de,0),type:"button",class:Ke({dp__btn:!0,dp__inc_dec_button:!ee.timePickerInline,dp__inc_dec_button_inline:ee.timePickerInline,dp__tp_inline_btn_top:ee.timePickerInline,dp__inc_dec_button_disabled:E.value(G.type)}),"data-test":`${G.type}-time-inc-btn-${i.order}`,"aria-label":(q=ae(a))==null?void 0:q.incrementValue(G.type),tabindex:"0",onKeydown:ne=>ae(ur)(ne,()=>B(G.type,!0,{keyboard:!0}),!0),onClick:ne=>ae(u).timeArrowHoldThreshold?void 0:B(G.type,!0),onMousedown:ne=>ae(u).timeArrowHoldThreshold?B(G.type,!0):void 0,onMouseup:z},[i.timePickerInline?(ie(),le(Oe,{key:1},[mF,gF],64)):(ie(),le(Oe,{key:0},[ee.$slots["arrow-up"]?Me(ee.$slots,"arrow-up",{key:0}):ye("",!0),ee.$slots["arrow-up"]?ye("",!0):(ie(),Ue(ae(bv),{key:1}))],64))],42,pF),M("button",{ref_for:!0,ref:ne=>oe(ne,de,1),type:"button","aria-label":(W=ae(a))==null?void 0:W.openTpOverlay(G.type),class:Ke({dp__time_display:!0,dp__time_display_block:!ee.timePickerInline,dp__time_display_inline:ee.timePickerInline,"dp--time-invalid":m.value(G.type),"dp--time-overlay-btn":!m.value(G.type)}),disabled:F(G.type),tabindex:"0","data-test":`${G.type}-toggle-overlay-btn-${i.order}`,onKeydown:ne=>ae(ur)(ne,()=>D(G.type),!0),onClick:ne=>D(G.type)},[ee.$slots[G.type]?Me(ee.$slots,G.type,{key:0,text:C.value(G.type).text,value:C.value(G.type).value}):ye("",!0),ee.$slots[G.type]?ye("",!0):(ie(),le(Oe,{key:1},[cn(xe(C.value(G.type).text),1)],64))],42,vF),M("button",{ref_for:!0,ref:ne=>oe(ne,de,2),type:"button",class:Ke({dp__btn:!0,dp__inc_dec_button:!ee.timePickerInline,dp__inc_dec_button_inline:ee.timePickerInline,dp__tp_inline_btn_bottom:ee.timePickerInline,dp__inc_dec_button_disabled:I.value(G.type)}),"data-test":`${G.type}-time-dec-btn-${i.order}`,"aria-label":(te=ae(a))==null?void 0:te.decrementValue(G.type),tabindex:"0",onKeydown:ne=>ae(ur)(ne,()=>B(G.type,!1,{keyboard:!0}),!0),onClick:ne=>ae(u).timeArrowHoldThreshold?void 0:B(G.type,!1),onMousedown:ne=>ae(u).timeArrowHoldThreshold?B(G.type,!1):void 0,onMouseup:z},[i.timePickerInline?(ie(),le(Oe,{key:1},[_F,bF],64)):(ie(),le(Oe,{key:0},[ee.$slots["arrow-down"]?Me(ee.$slots,"arrow-down",{key:0}):ye("",!0),ee.$slots["arrow-down"]?ye("",!0):(ie(),Ue(ae(wv),{key:1}))],64))],42,yF)],64))],2)}),128)),ee.is24?ye("",!0):(ie(),le("div",wF,[ee.$slots["am-pm-button"]?Me(ee.$slots,"am-pm-button",{key:0,toggle:Z,value:g.value}):ye("",!0),ee.$slots["am-pm-button"]?ye("",!0):(ie(),le("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Q=ae(a))==null?void 0:Q.amPmButton,tabindex:"0",onClick:Z,onKeydown:j[0]||(j[0]=G=>ae(ur)(G,()=>Z(),!0))},xe(g.value),41,EF))])),(ie(!0),le(Oe,null,Qe(N.value,(G,de)=>(ie(),Ue(Ur,{key:de,name:ae(c)(p[G.type]),css:ae(h)},{default:He(()=>[p[G.type]?(ie(),Ue(Iu,{key:0,items:X(G.type),"is-last":ee.autoApply&&!ae(u).keepActionRow,"esc-close":ee.escClose,type:G.type,"text-input":ee.textInput,config:ee.config,"arrow-navigation":ee.arrowNavigation,"aria-labels":ee.ariaLabels,onSelected:q=>ue(G.type,q),onToggle:q=>D(G.type),onResetFlow:j[1]||(j[1]=q=>ee.$emit("reset-flow"))},Hn({"button-icon":He(()=>[ee.$slots["clock-icon"]?Me(ee.$slots,"clock-icon",{key:0}):ye("",!0),ee.$slots["clock-icon"]?ye("",!0):(ie(),Ue(Pd(ee.timePickerInline?ae(La):ae(_v)),{key:1}))]),_:2},[ee.$slots[`${G.type}-overlay-value`]?{name:"item",fn:He(({item:q})=>[Me(ee.$slots,`${G.type}-overlay-value`,{text:q.text,value:q.value})]),key:"0"}:void 0,ee.$slots[`${G.type}-overlay-header`]?{name:"header",fn:He(()=>[Me(ee.$slots,`${G.type}-overlay-header`,{toggle:()=>D(G.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),AF={class:"dp--tp-wrap"},kF=["aria-label","tabindex"],xF=["tabindex"],IF=["aria-label"],vk=Gt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Gr},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:o,setTimePicker:s}=Lo(),a=ys(),{defaultedTransitions:l,defaultedAriaLabels:f,defaultedTextInput:u,defaultedConfig:d,defaultedRange:c}=$t(i),{transitionName:h,showTransition:p}=Su(l),{hideNavigationButtons:g}=Mf(),y=he(null),v=he(null),_=he([]),b=he(null);gt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?o([sn(y.value)],"time"):s(!0,i.timePicker)});const m=ge(()=>c.value.enabled&&i.modelAuto?tk(i.internalModelValue):!0),w=he(!1),k=P=>({hours:Array.isArray(i.hours)?i.hours[P]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[P]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[P]:i.seconds}),S=ge(()=>{const P=[];if(c.value.enabled)for(let X=0;X<2;X++)P.push(k(X));else P.push(k(0));return P}),E=(P,X=!1,H="")=>{X||r("reset-flow"),w.value=P,r(P?"overlay-opened":"overlay-closed",Bn.time),i.arrowNavigation&&s(P),Cn(()=>{H!==""&&_.value[0]&&_.value[0].openChildCmp(H)})},I=ge(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),x=vr(a,"timePicker"),A=(P,X,H)=>c.value.enabled?X===0?[P,S.value[1][H]]:[S.value[0][H],P]:P,T=P=>{r("update:hours",P)},R=P=>{r("update:minutes",P)},N=P=>{r("update:seconds",P)},C=()=>{if(b.value&&!u.value.enabled&&!i.noOverlayFocus){const P=nk(b.value);P&&P.focus({preventScroll:!0})}},O=P=>{r("overlay-closed",P)};return e({toggleTimePicker:E}),(P,X)=>{var H;return ie(),le("div",AF,[!P.timePicker&&!P.timePickerInline?bt((ie(),le("button",{key:0,ref_key:"openTimePickerBtn",ref:y,type:"button",class:Ke(I.value),"aria-label":(H=ae(f))==null?void 0:H.openTimePicker,tabindex:P.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:X[0]||(X[0]=U=>ae(ur)(U,()=>E(!0))),onClick:X[1]||(X[1]=U=>E(!0))},[P.$slots["clock-icon"]?Me(P.$slots,"clock-icon",{key:0}):ye("",!0),P.$slots["clock-icon"]?ye("",!0):(ie(),Ue(ae(_v),{key:1}))],42,kF)),[[gl,!ae(g)(P.hideNavigation,"time")]]):ye("",!0),je(Ur,{name:ae(h)(w.value),css:ae(p)&&!P.timePickerInline},{default:He(()=>{var U;return[w.value||P.timePicker||P.timePickerInline?(ie(),le("div",{key:0,ref_key:"overlayRef",ref:b,class:Ke({dp__overlay:!P.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!P.timePickerInline,"dp--overlay-relative":i.timePicker}),style:pn(P.timePicker?{height:`${ae(d).modeHeight}px`}:void 0),tabindex:P.timePickerInline?void 0:0},[M("div",{class:Ke(P.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[P.$slots["time-picker-overlay"]?Me(P.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:T,setMinutes:R,setSeconds:N}):ye("",!0),P.$slots["time-picker-overlay"]?ye("",!0):(ie(),le("div",{key:1,class:Ke(P.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ie(!0),le(Oe,null,Qe(S.value,($,F)=>bt((ie(),Ue(TF,ln({key:F,ref_for:!0},{...P.$props,order:F,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:F===0?P.fixedStart:P.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:_,"validate-time":(D,K)=>t.validateTime(D,A(K,F,D)),"onUpdate:hours":D=>T(A(D,F,"hours")),"onUpdate:minutes":D=>R(A(D,F,"minutes")),"onUpdate:seconds":D=>N(A(D,F,"seconds")),onMounted:C,onOverlayClosed:O,onOverlayOpened:X[2]||(X[2]=D=>P.$emit("overlay-opened",D)),onAmPmChange:X[3]||(X[3]=D=>P.$emit("am-pm-change",D))}),Hn({_:2},[Qe(ae(x),(D,K)=>({name:D,fn:He(z=>[Me(P.$slots,D,ln({ref_for:!0},z))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[gl,F===0?!0:m.value]])),128))],2)),!P.timePicker&&!P.timePickerInline?bt((ie(),le("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:Ke(I.value),"aria-label":(U=ae(f))==null?void 0:U.closeTimePicker,tabindex:"0",onKeydown:X[4]||(X[4]=$=>ae(ur)($,()=>E(!1))),onClick:X[5]||(X[5]=$=>E(!1))},[P.$slots["calendar-icon"]?Me(P.$slots,"calendar-icon",{key:0}):ye("",!0),P.$slots["calendar-icon"]?ye("",!0):(ie(),Ue(ae(La),{key:1}))],42,IF)),[[gl,!ae(g)(P.hideNavigation,"time")]]):ye("",!0)],2)],14,xF)):ye("",!0)]}),_:3},8,["name","css"])])}}}),yk=(t,e,n,r)=>{const{defaultedRange:i}=$t(t),o=(b,m)=>Array.isArray(e[b])?e[b][m]:e[b],s=b=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[b]:e.seconds:0,a=(b,m)=>b?m!==void 0?bo(b,o("hours",m),o("minutes",m),s(m)):bo(b,e.hours,e.minutes,s()):XA(Te(),s(m)),l=(b,m)=>{e[b]=m},f=ge(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),u=(b,m)=>{const w=Object.fromEntries(Object.keys(e).map(k=>k===b?[k,m]:[k,e[k]].slice()));if(f.value&&!i.value.disableTimeRangeValidation){const k=E=>n.value?bo(n.value[E],w.hours[E],w.minutes[E],w.seconds[E]):null,S=E=>QA(n.value[E],0);return!(it(k(0),k(1))&&(ba(k(0),S(1))||ru(k(1),S(0))))}return!0},d=(b,m)=>{u(b,m)&&(l(b,m),r&&r())},c=b=>{d("hours",b)},h=b=>{d("minutes",b)},p=b=>{d("seconds",b)},g=(b,m,w,k)=>{m&&c(b),!m&&!w&&h(b),w&&p(b),n.value&&k(n.value)},y=b=>{if(b){const m=Array.isArray(b),w=m?[+b[0].hours,+b[1].hours]:+b.hours,k=m?[+b[0].minutes,+b[1].minutes]:+b.minutes,S=m?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",w),l("minutes",k),t.enableSeconds&&l("seconds",S)}},v=(b,m)=>{const w={hours:Array.isArray(e.hours)?e.hours[b]:e.hours,disabledArr:[]};return(m||m===0)&&(w.hours=m),Array.isArray(t.disabledTimes)&&(w.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),w},_=ge(()=>(b,m)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:k,hours:S}=v(b,m),E=k.filter(I=>+I.hours===S);return((w=E[0])==null?void 0:w.minutes)==="*"?{hours:[S],minutes:void 0,seconds:void 0}:{hours:[],minutes:(E==null?void 0:E.map(I=>+I.minutes))??[],seconds:(E==null?void 0:E.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:c,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:g,getSecondsValue:s,assignStartTime:y,validateTime:u,disabledTimesConfig:_}},SF=(t,e)=>{const{modelValue:n,time:r}=Ru(t,e),{defaultedStartTime:i,defaultedRange:o}=$t(t),{updateTimeValues:s,getSetDateTime:a,setTime:l,assignStartTime:f,disabledTimesConfig:u,validateTime:d}=yk(t,r,n,c);function c(){e("update-flow-step")}const h=m=>{const{hours:w,minutes:k,seconds:S}=m;return{hours:+w,minutes:+k,seconds:S?+S:0}},p=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),k=h(t.startTime[1]);return[At(Te(),w),At(Te(),k)]}const m=h(t.startTime);return At(Te(),m)}return o.value.enabled?[null,null]:null},g=()=>{if(o.value.enabled){const[m,w]=p();n.value=[a(m,0),a(w,1)]}else n.value=a(p())},y=m=>Array.isArray(m)?[as(Te(m[0])),as(Te(m[1]))]:[as(m??Te())],v=(m,w,k)=>{l("hours",m),l("minutes",w),l("seconds",t.enableSeconds?k:0)},_=()=>{const[m,w]=y(n.value);return o.value.enabled?v([m.hours,w.hours],[m.minutes,w.minutes],[m.seconds,w.seconds]):v(m.hours,m.minutes,m.seconds)};gt(()=>{if(!t.shadow)return f(i.value),n.value?_():g()});const b=()=>{Array.isArray(n.value)?n.value=n.value.map((m,w)=>m&&a(m,w)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(m,w=!0,k=!1)=>{s(m,w,k,b)},validateTime:d}},RF=Gt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Gr},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ys(),s=vr(o,"timePicker"),a=he(null),{time:l,modelValue:f,disabledTimesConfig:u,updateTime:d,validateTime:c}=SF(i,r);return gt(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:f,time:l,updateTime:d}),toggleTimePicker:(h,p=!1,g="")=>{var y;(y=a.value)==null||y.toggleTimePicker(h,p,g)}}),(h,p)=>(ie(),Ue(Cf,{"multi-calendars":0,stretch:""},{default:He(()=>[je(vk,ln({ref_key:"tpRef",ref:a},h.$props,{hours:ae(l).hours,minutes:ae(l).minutes,seconds:ae(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":ae(u),"validate-time":ae(c),"onUpdate:hours":p[0]||(p[0]=g=>ae(d)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>ae(d)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>ae(d)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>h.$emit("am-pm-change",g)),onResetFlow:p[4]||(p[4]=g=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=g=>h.$emit("overlay-toggle",{open:!1,overlay:g})),onOverlayOpened:p[6]||(p[6]=g=>h.$emit("overlay-toggle",{open:!0,overlay:g}))}),Hn({_:2},[Qe(ae(s),(g,y)=>({name:g,fn:He(v=>[Me(h.$slots,g,mn(Zn(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),OF={class:"dp--header-wrap"},PF={key:0,class:"dp__month_year_wrap"},CF={key:0},DF={class:"dp__month_year_wrap"},MF=["aria-label","data-test","onClick","onKeydown"],NF=Gt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Gr},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:o,defaultedAriaLabels:s,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:f,defaultedHighlight:u,propDates:d}=$t(i),{transitionName:c,showTransition:h}=Su(o),{buildMatrix:p}=Lo(),{handleMonthYearChange:g,isDisabled:y,updateMonthYear:v}=ZV(i,r),{showLeftIcon:_,showRightIcon:b}=Mf(),m=he(!1),w=he(!1),k=he([null,null,null,null]);gt(()=>{r("mount")});const S=$=>({get:()=>i[$],set:F=>{const D=$===Or.month?Or.year:Or.month;r("update-month-year",{[$]:F,[D]:i[D]}),$===Or.month?C(!0):O(!0)}}),E=ge(S(Or.month)),I=ge(S(Or.year)),x=ge(()=>$=>({month:i.month,year:i.year,items:$===Or.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:$===Or.month?C:O})),A=ge(()=>i.months.find(F=>F.value===i.month)||{text:"",value:0}),T=ge(()=>Ea(i.months,$=>{const F=i.month===$.value,D=iu($.value,ik(i.year,d.value.minDate),ok(i.year,d.value.maxDate))||l.value.months.includes($.value),K=ck(u.value,$.value,i.year);return{active:F,disabled:D,highlighted:K}})),R=ge(()=>Ea(i.years,$=>{const F=i.year===$.value,D=iu($.value,Ta(d.value.minDate),Ta(d.value.maxDate))||l.value.years.includes($.value),K=xv(u.value,$.value);return{active:F,disabled:D,highlighted:K}})),N=($,F,D)=>{D!==void 0?$.value=D:$.value=!$.value,$.value?r("overlay-opened",F):r("overlay-closed",F)},C=($=!1,F)=>{P($),N(m,Bn.month,F)},O=($=!1,F)=>{P($),N(w,Bn.year,F)},P=$=>{$||r("reset-flow")},X=($,F)=>{i.arrowNavigation&&(k.value[F]=sn($),p(k.value,"monthYear"))},H=ge(()=>{var $,F;return[{type:Or.month,index:1,toggle:C,modelValue:E.value,updateModelValue:D=>E.value=D,text:A.value.text,showSelectionGrid:m.value,items:T.value,ariaLabel:($=s.value)==null?void 0:$.openMonthsOverlay},{type:Or.year,index:2,toggle:O,modelValue:I.value,updateModelValue:D=>I.value=D,text:rk(i.year,i.locale),showSelectionGrid:w.value,items:R.value,ariaLabel:(F=s.value)==null?void 0:F.openYearsOverlay}]}),U=ge(()=>i.disableYearSelect?[H.value[0]]:i.yearFirst?[...H.value].reverse():H.value);return e({toggleMonthPicker:C,toggleYearPicker:O,handleMonthYearChange:g}),($,F)=>{var D,K,z;return ie(),le("div",OF,[$.$slots["month-year"]?(ie(),le("div",PF,[Me($.$slots,"month-year",mn(Zn({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:ae(v),handleMonthYearChange:ae(g),instance:t.instance})))])):(ie(),le(Oe,{key:1},[$.$slots["top-extra"]?(ie(),le("div",CF,[Me($.$slots,"top-extra",{value:$.internalModelValue})])):ye("",!0),M("div",DF,[ae(_)(ae(a),t.instance)&&!$.vertical?(ie(),Ue(Il,{key:0,"aria-label":(D=ae(s))==null?void 0:D.prevMonth,disabled:ae(y)(!1),onActivate:F[0]||(F[0]=B=>ae(g)(!1,!0)),onSetRef:F[1]||(F[1]=B=>X(B,0))},{default:He(()=>[$.$slots["arrow-left"]?Me($.$slots,"arrow-left",{key:0}):ye("",!0),$.$slots["arrow-left"]?ye("",!0):(ie(),Ue(ae(vv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),M("div",{class:Ke(["dp__month_year_wrap",{dp__year_disable_select:$.disableYearSelect}])},[(ie(!0),le(Oe,null,Qe(U.value,(B,V)=>(ie(),le(Oe,{key:B.type},[M("button",{ref_for:!0,ref:Z=>X(Z,V+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":B.ariaLabel,"data-test":`${B.type}-toggle-overlay-${t.instance}`,onClick:B.toggle,onKeydown:Z=>ae(ur)(Z,()=>B.toggle(),!0)},[$.$slots[B.type]?Me($.$slots,B.type,{key:0,text:B.text,value:i[B.type]}):ye("",!0),$.$slots[B.type]?ye("",!0):(ie(),le(Oe,{key:1},[cn(xe(B.text),1)],64))],40,MF),je(Ur,{name:ae(c)(B.showSelectionGrid),css:ae(h)},{default:He(()=>[B.showSelectionGrid?(ie(),Ue(Iu,{key:0,items:B.items,"arrow-navigation":$.arrowNavigation,"hide-navigation":$.hideNavigation,"is-last":$.autoApply&&!ae(f).keepActionRow,"skip-button-ref":!1,config:$.config,type:B.type,"header-refs":[],"esc-close":$.escClose,"menu-wrap-ref":$.menuWrapRef,"text-input":$.textInput,"aria-labels":$.ariaLabels,onSelected:B.updateModelValue,onToggle:B.toggle},Hn({"button-icon":He(()=>[$.$slots["calendar-icon"]?Me($.$slots,"calendar-icon",{key:0}):ye("",!0),$.$slots["calendar-icon"]?ye("",!0):(ie(),Ue(ae(La),{key:1}))]),_:2},[$.$slots[`${B.type}-overlay-value`]?{name:"item",fn:He(({item:Z})=>[Me($.$slots,`${B.type}-overlay-value`,{text:Z.text,value:Z.value})]),key:"0"}:void 0,$.$slots[`${B.type}-overlay`]?{name:"overlay",fn:He(()=>[Me($.$slots,`${B.type}-overlay`,ln({ref_for:!0},x.value(B.type)))]),key:"1"}:void 0,$.$slots[`${B.type}-overlay-header`]?{name:"header",fn:He(()=>[Me($.$slots,`${B.type}-overlay-header`,{toggle:B.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"])],64))),128))],2),ae(_)(ae(a),t.instance)&&$.vertical?(ie(),Ue(Il,{key:1,"aria-label":(K=ae(s))==null?void 0:K.prevMonth,disabled:ae(y)(!1),onActivate:F[2]||(F[2]=B=>ae(g)(!1,!0))},{default:He(()=>[$.$slots["arrow-up"]?Me($.$slots,"arrow-up",{key:0}):ye("",!0),$.$slots["arrow-up"]?ye("",!0):(ie(),Ue(ae(bv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),ae(b)(ae(a),t.instance)?(ie(),Ue(Il,{key:2,ref:"rightIcon",disabled:ae(y)(!0),"aria-label":(z=ae(s))==null?void 0:z.nextMonth,onActivate:F[3]||(F[3]=B=>ae(g)(!0,!0)),onSetRef:F[4]||(F[4]=B=>X(B,$.disableYearSelect?2:3))},{default:He(()=>[$.$slots[$.vertical?"arrow-down":"arrow-right"]?Me($.$slots,$.vertical?"arrow-down":"arrow-right",{key:0}):ye("",!0),$.$slots[$.vertical?"arrow-down":"arrow-right"]?ye("",!0):(ie(),Ue(Pd($.vertical?ae(wv):ae(yv)),{key:1}))]),_:3},8,["disabled","aria-label"])):ye("",!0)])],64))])}}}),LF=["aria-label"],$F={class:"dp__calendar_header",role:"row"},VF={key:0,class:"dp__calendar_header_item",role:"gridcell"},FF=["aria-label"],UF=M("div",{class:"dp__calendar_header_separator"},null,-1),BF=["aria-label"],jF={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},qF={class:"dp__cell_inner"},HF=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],zF=Gt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Gr},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:o}=Lo(),{defaultedTransitions:s,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:f,defaultedWeekNumbers:u,defaultedMultiDates:d}=$t(i),c=he(null),h=he({bottom:"",left:"",transform:""}),p=he([]),g=he(null),y=he(!0),v=he(""),_=he({startX:0,endX:0,startY:0,endY:0}),b=he([]),m=he({left:"50%"}),w=he(!1),k=ge(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),S=ge(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):wV(i.formatLocale,i.locale,+i.weekStart));gt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",X,{passive:!1}),g.value.addEventListener("touchend",H,{passive:!1}),g.value.addEventListener("touchmove",U,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",D,{passive:!1})});const E=Y=>Y?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",I=(Y,oe)=>{if(i.transitions){const ue=tr(Ci(Te(),i.month,i.year));v.value=Kt(tr(Ci(Te(),Y,oe)),ue)?s.value[E(!0)]:s.value[E(!1)],y.value=!1,Cn(()=>{y.value=!0})}},x=ge(()=>({[i.calendarClassName]:!!i.calendarClassName})),A=ge(()=>Y=>{const oe=TV(Y);return{dp__marker_dot:oe.type==="dot",dp__marker_line:oe.type==="line"}}),T=ge(()=>Y=>it(Y,c.value)),R=ge(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&i.instance!==0})),N=ge(()=>Y=>i.hideOffsetDates?Y.current:!0),C=async(Y,oe,ue)=>{const ee=sn(p.value[oe][ue]);if(ee){const{width:j,height:Q}=ee.getBoundingClientRect();c.value=Y.value;let G={left:`${j/2}px`},de=-50;if(await Cn(),b.value[0]){const{left:q,width:W}=b.value[0].getBoundingClientRect();q<0&&(G={left:"0"},de=0,m.value.left=`${j/2}px`),window.innerWidth<q+W&&(G={right:"0"},de=0,m.value.left=`${W-j/2}px`)}h.value={bottom:`${Q}px`,...G,transform:`translateX(${de}%)`},r("tooltip-open",Y.marker)}},O=async(Y,oe,ue)=>{var ee,j;if(w.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",Y);r("set-hover-date",Y),(j=(ee=Y.marker)==null?void 0:ee.tooltip)!=null&&j.length&&await C(Y,oe,ue)},P=Y=>{c.value&&(c.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Y.marker))},X=Y=>{_.value.startX=Y.changedTouches[0].screenX,_.value.startY=Y.changedTouches[0].screenY},H=Y=>{_.value.endX=Y.changedTouches[0].screenX,_.value.endY=Y.changedTouches[0].screenY,$()},U=Y=>{i.vertical&&!i.inline&&Y.preventDefault()},$=()=>{const Y=i.vertical?"Y":"X";Math.abs(_.value[`start${Y}`]-_.value[`end${Y}`])>10&&r("handle-swipe",_.value[`start${Y}`]>_.value[`end${Y}`]?"right":"left")},F=(Y,oe,ue)=>{Y&&(Array.isArray(p.value[oe])?p.value[oe][ue]=Y:p.value[oe]=[Y]),i.arrowNavigation&&o(p.value,"calendar")},D=Y=>{i.monthChangeOnScroll&&(Y.preventDefault(),r("handle-scroll",Y))},K=Y=>u.value.type==="local"?pv(Y.value,{weekStartsOn:+i.weekStart}):u.value.type==="iso"?fv(Y.value):typeof u.value.type=="function"?u.value.type(Y.value):"",z=Y=>{const oe=Y[0];return u.value.hideOnOffsetDates?Y.some(ue=>ue.current)?K(oe):"":K(oe)},B=(Y,oe)=>{d.value.enabled||(_o(Y,a.value),r("select-date",oe))},V=Y=>{_o(Y,a.value)},Z=Y=>{d.value.enabled&&d.value.dragSelect?(w.value=!0,r("select-date",Y)):d.value.enabled&&r("select-date",Y)};return e({triggerTransition:I}),(Y,oe)=>{var ue;return ie(),le("div",{class:Ke(R.value)},[M("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:Ke(x.value),"aria-label":(ue=ae(l))==null?void 0:ue.calendarWrap},[M("div",$F,[Y.weekNumbers?(ie(),le("div",VF,xe(Y.weekNumName),1)):ye("",!0),(ie(!0),le(Oe,null,Qe(S.value,(ee,j)=>{var Q,G;return ie(),le("div",{key:j,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(G=(Q=ae(l))==null?void 0:Q.weekDay)==null?void 0:G.call(Q,j)},[Y.$slots["calendar-header"]?Me(Y.$slots,"calendar-header",{key:0,day:ee,index:j}):ye("",!0),Y.$slots["calendar-header"]?ye("",!0):(ie(),le(Oe,{key:1},[cn(xe(ee),1)],64))],8,FF)}),128))]),UF,je(Ur,{name:v.value,css:!!Y.transitions},{default:He(()=>{var ee;return[y.value?(ie(),le("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ee=ae(l))==null?void 0:ee.calendarDays)||void 0,onMouseleave:oe[1]||(oe[1]=j=>w.value=!1)},[(ie(!0),le(Oe,null,Qe(k.value,(j,Q)=>(ie(),le("div",{key:Q,class:"dp__calendar_row",role:"row"},[Y.weekNumbers?(ie(),le("div",jF,[M("div",qF,xe(z(j.days)),1)])):ye("",!0),(ie(!0),le(Oe,null,Qe(j.days,(G,de)=>{var q,W,te;return ie(),le("div",{id:ae(dk)(G.value),ref_for:!0,ref:ne=>F(ne,Q,de),key:de+Q,role:"gridcell",class:"dp__calendar_item","aria-selected":(G.classData.dp__active_date||G.classData.dp__range_start||G.classData.dp__range_start)??void 0,"aria-disabled":G.classData.dp__cell_disabled||void 0,"aria-label":(W=(q=ae(l))==null?void 0:q.day)==null?void 0:W.call(q,G),tabindex:"0","data-test":G.value,onClick:xr(ne=>B(ne,G),["prevent"]),onKeydown:ne=>ae(ur)(ne,()=>Y.$emit("select-date",G)),onMouseenter:ne=>O(G,Q,de),onMouseleave:ne=>P(G),onMousedown:ne=>Z(G),onMouseup:oe[0]||(oe[0]=ne=>w.value=!1)},[M("div",{class:Ke(["dp__cell_inner",G.classData])},[Y.$slots.day&&N.value(G)?Me(Y.$slots,"day",{key:0,day:+G.text,date:G.value}):ye("",!0),Y.$slots.day?ye("",!0):(ie(),le(Oe,{key:1},[cn(xe(G.text),1)],64)),G.marker&&N.value(G)?(ie(),le(Oe,{key:2},[Y.$slots.marker?Me(Y.$slots,"marker",{key:0,marker:G.marker,day:+G.text,date:G.value}):(ie(),le("div",{key:1,class:Ke(A.value(G.marker)),style:pn(G.marker.color?{backgroundColor:G.marker.color}:{})},null,6))],64)):ye("",!0),T.value(G.value)?(ie(),le("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:pn(h.value)},[(te=G.marker)!=null&&te.tooltip?(ie(),le("div",{key:0,class:"dp__tooltip_content",onClick:V},[(ie(!0),le(Oe,null,Qe(G.marker.tooltip,(ne,ce)=>(ie(),le("div",{key:ce,class:"dp__tooltip_text"},[Y.$slots["marker-tooltip"]?Me(Y.$slots,"marker-tooltip",{key:0,tooltip:ne,day:G.value}):ye("",!0),Y.$slots["marker-tooltip"]?ye("",!0):(ie(),le(Oe,{key:1},[M("div",{class:"dp__tooltip_mark",style:pn(ne.color?{backgroundColor:ne.color}:{})},null,4),M("div",null,xe(ne.text),1)],64))]))),128)),M("div",{class:"dp__arrow_bottom_tp",style:pn(m.value)},null,4)])):ye("",!0)],4)):ye("",!0)],2)],40,HF)}),128))]))),128))],40,BF)):ye("",!0)]}),_:3},8,["name","css"])],10,LF)],2)}}}),K_=t=>Array.isArray(t),KF=(t,e,n,r)=>{const i=he([]),o=he(new Date),s=he(),{modelValue:a,calendars:l,time:f,today:u}=Ru(t,e),{defaultedMultiCalendars:d,defaultedStartTime:c,defaultedRange:h,defaultedConfig:p,defaultedTz:g,propDates:y,defaultedMultiDates:v}=$t(t),{validateMonthYearInRange:_,isDisabled:b,isDateRangeAllowed:m,checkMinMaxRange:w}=$o(t),{updateTimeValues:k,getSetDateTime:S,setTime:E,assignStartTime:I,validateTime:x,disabledTimesConfig:A}=yk(t,f,a,r),T=ge(()=>fe=>l.value[fe]?l.value[fe].month:0),R=ge(()=>fe=>l.value[fe]?l.value[fe].year:0),N=fe=>!p.value.keepViewOnOffsetClick||fe?!0:!s.value,C=(fe,we,me,Ee=!1)=>{var Se,Ct;N(Ee)&&(l.value[fe]||(l.value[fe]={month:0,year:0}),l.value[fe].month=B_(we)?(Se=l.value[fe])==null?void 0:Se.month:we,l.value[fe].year=B_(me)?(Ct=l.value[fe])==null?void 0:Ct.year:me)},O=()=>{t.autoApply&&e("select-date")};en(a,(fe,we)=>{JSON.stringify(fe)!==JSON.stringify(we)&&H()},{deep:!0}),gt(()=>{t.shadow||(a.value||(oe(),c.value&&I(c.value)),H(!0),t.focusStartDate&&t.startDate&&oe())});const P=ge(()=>{var fe;return(fe=t.flow)!=null&&fe.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),X=()=>{t.autoApply&&P.value&&e("auto-apply")},H=(fe=!1)=>{if(a.value)return Array.isArray(a.value)?(i.value=a.value,B(fe)):F(a.value,fe);if(d.value.count&&fe&&!t.startDate)return $(Te(),fe)},U=()=>Array.isArray(a.value)&&h.value.enabled?rt(a.value[0])===rt(a.value[1]??a.value[0]):!1,$=(fe,we=!1)=>{if((!d.value.count||!d.value.static||we)&&C(0,rt(fe),nt(fe)),d.value.count&&(!d.value.solo||!a.value||U()))for(let me=1;me<d.value.count;me++){const Ee=At(Te(),{month:T.value(me-1),year:R.value(me-1)}),Se=CA(Ee,{months:1});l.value[me]={month:rt(Se),year:nt(Se)}}},F=(fe,we)=>{$(fe),E("hours",ji(fe)),E("minutes",Io(fe)),E("seconds",_a(fe)),d.value.count&&we&&Y()},D=fe=>{if(d.value.count){if(d.value.solo)return 0;const we=rt(fe[0]),me=rt(fe[1]);return Math.abs(me-we)<d.value.count?0:1}return 1},K=(fe,we)=>{fe[1]&&h.value.showLastInRange?$(fe[D(fe)],we):$(fe[0],we);const me=(Ee,Se)=>[Ee(fe[0]),fe[1]?Ee(fe[1]):f[Se][1]];E("hours",me(ji,"hours")),E("minutes",me(Io,"minutes")),E("seconds",me(_a,"seconds"))},z=(fe,we)=>{if((h.value.enabled||t.weekPicker)&&!v.value.enabled)return K(fe,we);if(v.value.enabled&&we){const me=fe[fe.length-1];return F(me,we)}},B=fe=>{const we=a.value;z(we,fe),d.value.count&&d.value.solo&&Y()},V=(fe,we)=>{const me=At(Te(),{month:T.value(we),year:R.value(we)}),Ee=fe<0?Vr(me,1):wa(me,1);_(rt(Ee),nt(Ee),fe<0,t.preventMinMaxNavigation)&&(C(we,rt(Ee),nt(Ee)),e("update-month-year",{instance:we,month:rt(Ee),year:nt(Ee)}),d.value.count&&!d.value.solo&&Z(we),n())},Z=fe=>{for(let we=fe-1;we>=0;we--){const me=wa(At(Te(),{month:T.value(we+1),year:R.value(we+1)}),1);C(we,rt(me),nt(me))}for(let we=fe+1;we<=d.value.count-1;we++){const me=Vr(At(Te(),{month:T.value(we-1),year:R.value(we-1)}),1);C(we,rt(me),nt(me))}},Y=()=>{if(Array.isArray(a.value)&&a.value.length===2){const fe=Te(Te(a.value[1]?a.value[1]:Vr(a.value[0],1))),[we,me]=[rt(a.value[0]),nt(a.value[0])],[Ee,Se]=[rt(a.value[1]),nt(a.value[1])];(we!==Ee||we===Ee&&me!==Se)&&d.value.solo&&C(1,rt(fe),nt(fe))}else a.value&&!Array.isArray(a.value)&&(C(0,rt(a.value),nt(a.value)),$(Te()))},oe=()=>{t.startDate&&(C(0,rt(Te(t.startDate)),nt(Te(t.startDate))),d.value.count&&Z(0))},ue=(fe,we)=>{if(t.monthChangeOnScroll){const me=new Date().getTime()-o.value.getTime(),Ee=Math.abs(fe.deltaY);let Se=500;Ee>1&&(Se=100),Ee>100&&(Se=0),me>Se&&(o.value=new Date,V(t.monthChangeOnScroll!=="inverse"?-fe.deltaY:fe.deltaY,we))}},ee=(fe,we,me=!1)=>{t.monthChangeOnArrows&&t.vertical===me&&j(fe,we)},j=(fe,we)=>{V(fe==="right"?-1:1,we)},Q=fe=>{if(y.value.markers)return md(fe.value,y.value.markers)},G=(fe,we)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[fe==0,!0];case"fair":return[fe==0||we>fe,!0];case"append":return[!1,!1];default:return[!1,!1]}},de=(fe,we,me,Ee)=>{if(t.sixWeeks&&fe.length<6){const Se=6-fe.length,Ct=(we.getDay()+7-Ee)%7,vt=6-(me.getDay()+7-Ee)%7,[Vt,nn]=G(Ct,vt);for(let _n=1;_n<=Se;_n++)if(nn?!!(_n%2)==Vt:Vt){const bn=fe[0].days[0],wn=q(Cr(bn.value,-7),rt(we));fe.unshift({days:wn})}else{const bn=fe[fe.length-1],wn=bn.days[bn.days.length-1],dn=q(Cr(wn.value,1),rt(we));fe.push({days:dn})}}return fe},q=(fe,we)=>{const me=Te(fe),Ee=[];for(let Se=0;Se<7;Se++){const Ct=Cr(me,Se),vt=rt(Ct)!==we;Ee.push({text:t.hideOffsetDates&&vt?"":Ct.getDate(),value:Ct,current:!vt,classData:{}})}return Ee},W=(fe,we)=>{const me=[],Ee=new Date(we,fe),Se=new Date(we,fe+1,0),Ct=t.weekStart,vt=zr(Ee,{weekStartsOn:Ct}),Vt=nn=>{const _n=q(nn,fe);if(me.push({days:_n}),!me[me.length-1].days.some(bn=>it(tr(bn.value),tr(Se)))){const bn=Cr(nn,7);Vt(bn)}};return Vt(vt),de(me,Ee,Se,Ct)},te=fe=>{const we=bo(Te(fe.value),f.hours,f.minutes,Ie());e("date-update",we),v.value.enabled?Iv(we,a,v.value.limit):a.value=we,r(),Cn().then(()=>{X()})},ne=fe=>h.value.noDisabledRange?sk(i.value[0],fe).some(we=>b(we)):!1,ce=()=>{i.value=a.value?a.value.slice():[],i.value.length===2&&!(h.value.fixedStart||h.value.fixedEnd)&&(i.value=[])},re=(fe,we)=>{const me=[Te(fe.value),Cr(Te(fe.value),+h.value.autoRange)];m(me)?(we&&pe(fe.value),i.value=me):e("invalid-date",fe.value)},pe=fe=>{const we=rt(Te(fe)),me=nt(Te(fe));if(C(0,we,me),d.value.count>0)for(let Ee=1;Ee<d.value.count;Ee++){const Se=PV(At(Te(fe),{year:T.value(Ee-1),month:R.value(Ee-1)}));C(Ee,Se.month,Se.year)}},ve=fe=>{if(ne(fe.value)||!w(fe.value,a.value,h.value.fixedStart?0:1))return e("invalid-date",fe.value);i.value=mk(Te(fe.value),a,e,h)},be=(fe,we)=>{if(ce(),h.value.autoRange)return re(fe,we);if(h.value.fixedStart||h.value.fixedEnd)return ve(fe);i.value[0]?w(Te(fe.value),a.value)&&!ne(fe.value)?Ft(Te(fe.value),Te(i.value[0]))?(i.value.unshift(Te(fe.value)),e("range-end",i.value[0])):(i.value[1]=Te(fe.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",fe.value),e("invalid-date",fe.value)):(i.value[0]=Te(fe.value),e("range-start",i.value[0]))},Ie=(fe=!0)=>t.enableSeconds?Array.isArray(f.seconds)?fe?f.seconds[0]:f.seconds[1]:f.seconds:0,Ne=fe=>{i.value[fe]=bo(i.value[fe],f.hours[fe],f.minutes[fe],Ie(fe!==1))},Re=()=>{var fe,we;i.value[0]&&i.value[1]&&+((fe=i.value)==null?void 0:fe[0])>+((we=i.value)==null?void 0:we[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Ye=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Ne(0):(Ne(0),Ne(1),r()),Re(),a.value=i.value.slice(),Df(i.value,e,t.autoApply,t.modelAuto))},Ce=(fe,we=!1)=>{if(b(fe.value)||!fe.current&&t.hideOffsetDates)return e("invalid-date",fe.value);if(s.value=JSON.parse(JSON.stringify(fe)),!h.value.enabled)return te(fe);K_(f.hours)&&K_(f.minutes)&&!v.value.enabled&&(be(fe,we),Ye())},tt=(fe,we)=>{var me;C(fe,we.month,we.year,!0),d.value.count&&!d.value.solo&&Z(fe),e("update-month-year",{instance:fe,month:we.month,year:we.year}),n(d.value.solo?fe:void 0);const Ee=(me=t.flow)!=null&&me.length?t.flow[t.flowStep]:void 0;!we.fromNav&&(Ee===Bn.month||Ee===Bn.year)&&r()},Et=(fe,we)=>{pk({value:fe,modelValue:a,range:h.value.enabled,timezone:we?void 0:g.value.timezone}),O(),t.multiCalendars&&Cn().then(()=>H(!0))},Qt=()=>{const fe=Ev(Te(),g.value);h.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Ft(fe,a.value[0])?[fe,a.value[0]]:[a.value[0],fe]:a.value=[fe]:a.value=fe,O()},kt=()=>{if(Array.isArray(a.value))if(v.value.enabled){const fe=Ht();a.value[a.value.length-1]=S(fe)}else a.value=a.value.map((fe,we)=>fe&&S(fe,we));else a.value=S(a.value);e("time-update")},Ht=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:l,modelValue:a,month:T,year:R,time:f,disabledTimesConfig:A,today:u,validateTime:x,getCalendarDays:W,getMarker:Q,handleScroll:ue,handleSwipe:j,handleArrow:ee,selectDate:Ce,updateMonthYear:tt,presetDate:Et,selectCurrentDate:Qt,updateTime:(fe,we=!0,me=!1)=>{k(fe,we,me,kt)}}},WF={key:0},YF=Gt({__name:"DatePicker",props:{...Gr},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:o,month:s,year:a,modelValue:l,time:f,disabledTimesConfig:u,today:d,validateTime:c,getCalendarDays:h,getMarker:p,handleArrow:g,handleScroll:y,handleSwipe:v,selectDate:_,updateMonthYear:b,presetDate:m,selectCurrentDate:w,updateTime:k}=KF(i,r,U,$),S=ys(),{setHoverDate:E,getDayClassData:I,clearHoverDate:x}=c8(l,i),{defaultedMultiCalendars:A}=$t(i),T=he([]),R=he([]),N=he(null),C=vr(S,"calendar"),O=vr(S,"monthYear"),P=vr(S,"timePicker"),X=ue=>{i.shadow||r("mount",ue)};en(o,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const H=ge(()=>ue=>h(s.value(ue),a.value(ue)).map(ee=>({...ee,days:ee.days.map(j=>(j.marker=p(j),j.classData=I(j),j))})));function U(ue){var ee;ue||ue===0?(ee=R.value[ue])==null||ee.triggerTransition(s.value(ue),a.value(ue)):R.value.forEach((j,Q)=>j.triggerTransition(s.value(Q),a.value(Q)))}function $(){r("update-flow-step")}const F=(ue,ee=!1)=>{_(ue,ee),i.spaceConfirm&&r("select-date")},D=(ue,ee,j=0)=>{var Q;(Q=T.value[j])==null||Q.toggleMonthPicker(ue,ee)},K=(ue,ee,j=0)=>{var Q;(Q=T.value[j])==null||Q.toggleYearPicker(ue,ee)},z=(ue,ee,j)=>{var Q;(Q=N.value)==null||Q.toggleTimePicker(ue,ee,j)},B=(ue,ee)=>{var j;if(!i.range){const Q=l.value?l.value:d,G=ee?new Date(ee):Q,de=ue?zr(G,{weekStartsOn:1}):UA(G,{weekStartsOn:1});_({value:de,current:rt(G)===s.value(0),text:"",classData:{}}),(j=document.getElementById(dk(de)))==null||j.focus()}},V=ue=>{var ee;(ee=T.value[0])==null||ee.handleMonthYearChange(ue,!0)},Z=ue=>{b(0,{month:s.value(0),year:a.value(0)+(ue?1:-1),fromNav:!0})},Y=(ue,ee)=>{ue===Bn.time&&r(`time-picker-${ee?"open":"close"}`),r("overlay-toggle",{open:ee,overlay:ue})},oe=ue=>{r("overlay-toggle",{open:!1,overlay:ue}),r("focus-menu")};return e({clearHoverDate:x,presetDate:m,selectCurrentDate:w,toggleMonthPicker:D,toggleYearPicker:K,toggleTimePicker:z,handleArrow:g,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:s,year:a,time:f,updateTime:k,updateMonthYear:b,selectDate:_,presetDate:m}),changeMonth:V,changeYear:Z,selectWeekDate:B}),(ue,ee)=>(ie(),le(Oe,null,[je(Cf,{"multi-calendars":ae(A).count,collapse:ue.collapse},{default:He(({instance:j,index:Q})=>[ue.disableMonthYearSelect?ye("",!0):(ie(),Ue(NF,ln({key:0,ref:G=>{G&&(T.value[Q]=G)},months:ae(ek)(ue.formatLocale,ue.locale,ue.monthNameFormat),years:ae(Tv)(ue.yearRange,ue.locale,ue.reverseYears),month:ae(s)(j),year:ae(a)(j),instance:j},ue.$props,{onMount:ee[0]||(ee[0]=G=>X(ae(ss).header)),onResetFlow:ee[1]||(ee[1]=G=>ue.$emit("reset-flow")),onUpdateMonthYear:G=>ae(b)(j,G),onOverlayClosed:oe,onOverlayOpened:ee[2]||(ee[2]=G=>ue.$emit("overlay-toggle",{open:!0,overlay:G}))}),Hn({_:2},[Qe(ae(O),(G,de)=>({name:G,fn:He(q=>[Me(ue.$slots,G,mn(Zn(q)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),je(zF,ln({ref:G=>{G&&(R.value[Q]=G)},"mapped-dates":H.value(j),month:ae(s)(j),year:ae(a)(j),instance:j},ue.$props,{onSelectDate:G=>ae(_)(G,j!==1),onHandleSpace:G=>F(G,j!==1),onSetHoverDate:ee[3]||(ee[3]=G=>ae(E)(G)),onHandleScroll:G=>ae(y)(G,j),onHandleSwipe:G=>ae(v)(G,j),onMount:ee[4]||(ee[4]=G=>X(ae(ss).calendar)),onResetFlow:ee[5]||(ee[5]=G=>ue.$emit("reset-flow")),onTooltipOpen:ee[6]||(ee[6]=G=>ue.$emit("tooltip-open",G)),onTooltipClose:ee[7]||(ee[7]=G=>ue.$emit("tooltip-close",G))}),Hn({_:2},[Qe(ae(C),(G,de)=>({name:G,fn:He(q=>[Me(ue.$slots,G,mn(Zn({...q})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),ue.enableTimePicker?(ie(),le("div",WF,[ue.$slots["time-picker"]?Me(ue.$slots,"time-picker",mn(ln({key:0},{time:ae(f),updateTime:ae(k)}))):(ie(),Ue(vk,ln({key:1,ref_key:"timePickerRef",ref:N},ue.$props,{hours:ae(f).hours,minutes:ae(f).minutes,seconds:ae(f).seconds,"internal-model-value":ue.internalModelValue,"disabled-times-config":ae(u),"validate-time":ae(c),onMount:ee[8]||(ee[8]=j=>X(ae(ss).timePicker)),"onUpdate:hours":ee[9]||(ee[9]=j=>ae(k)(j)),"onUpdate:minutes":ee[10]||(ee[10]=j=>ae(k)(j,!1)),"onUpdate:seconds":ee[11]||(ee[11]=j=>ae(k)(j,!1,!0)),onResetFlow:ee[12]||(ee[12]=j=>ue.$emit("reset-flow")),onOverlayClosed:ee[13]||(ee[13]=j=>Y(j,!1)),onOverlayOpened:ee[14]||(ee[14]=j=>Y(j,!0)),onAmPmChange:ee[15]||(ee[15]=j=>ue.$emit("am-pm-change",j))}),Hn({_:2},[Qe(ae(P),(j,Q)=>({name:j,fn:He(G=>[Me(ue.$slots,j,mn(Zn(G)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ye("",!0)],64))}}),GF=(t,e)=>{const n=he(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:o,defaultedRange:s,propDates:a,defaultedFilters:l,defaultedMultiDates:f}=$t(t),{modelValue:u,year:d,month:c,calendars:h}=Ru(t,e),{isDisabled:p}=$o(t),{selectYear:g,groupedYears:y,showYearPicker:v,isDisabled:_,toggleYearPicker:b,handleYearSelect:m,handleYear:w}=gk({modelValue:u,multiCalendars:r,range:s,highlight:o,calendars:h,propDates:a,month:c,year:d,filters:l,props:t,emit:e}),k=(C,O)=>[C,O].map(P=>Fr(P,"MMMM",{locale:t.formatLocale})).join("-"),S=ge(()=>C=>u.value?Array.isArray(u.value)?u.value.some(O=>V_(C,O)):V_(u.value,C):!1),E=C=>{if(s.value.enabled){if(Array.isArray(u.value)){const O=it(C,u.value[0])||it(C,u.value[1]);return Of(u.value,n.value,C)&&!O}return!1}return!1},I=(C,O)=>C.quarter===C_(O)&&C.year===nt(O),x=C=>typeof o.value=="function"?o.value({quarter:C_(C),year:nt(C)}):!!o.value.quarters.find(O=>I(O,C)),A=ge(()=>C=>{const O=At(new Date,{year:d.value(C)});return E6({start:dv(O),end:FA(O)}).map(P=>{const X=ts(P),H=D_(P),U=p(P),$=E(X),F=x(X);return{text:k(X,H),value:X,active:S.value(X),highlighted:F,disabled:U,isBetween:$}})}),T=C=>{Iv(C,u,f.value.limit),e("auto-apply",!0)},R=C=>{u.value=Sv(u,C,e),Df(u.value,e,t.autoApply,t.modelAuto)},N=C=>{u.value=C,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:y,year:d,isDisabled:_,quarters:A,showYearPicker:v,modelValue:u,setHoverDate:C=>{n.value=C},selectYear:g,selectQuarter:(C,O,P)=>{if(!P)return h.value[O].month=rt(D_(C)),f.value.enabled?T(C):s.value.enabled?R(C):N(C)},toggleYearPicker:b,handleYearSelect:m,handleYear:w}},QF={class:"dp--quarter-items"},XF=["data-test","disabled","onClick","onMouseover"],JF=Gt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Gr},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ys(),s=vr(o,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:f,year:u,isDisabled:d,quarters:c,modelValue:h,showYearPicker:p,setHoverDate:g,selectQuarter:y,toggleYearPicker:v,handleYearSelect:_,handleYear:b}=GF(i,r);return e({getSidebarProps:()=>({modelValue:h,year:u,selectQuarter:y,handleYearSelect:_,handleYear:b})}),(m,w)=>(ie(),Ue(Cf,{"multi-calendars":ae(a).count,collapse:m.collapse,stretch:""},{default:He(({instance:k})=>[M("div",{class:"dp-quarter-picker-wrap",style:pn({minHeight:`${ae(l).modeHeight}px`})},[m.$slots["top-extra"]?Me(m.$slots,"top-extra",{key:0,value:m.internalModelValue}):ye("",!0),M("div",null,[je(hk,ln(m.$props,{items:ae(f)(k),instance:k,"show-year-picker":ae(p)[k],year:ae(u)(k),"is-disabled":S=>ae(d)(k,S),onHandleYear:S=>ae(b)(k,S),onYearSelect:S=>ae(_)(S,k),onToggleYearPicker:S=>ae(v)(k,S==null?void 0:S.flow,S==null?void 0:S.show)}),Hn({_:2},[Qe(ae(s),(S,E)=>({name:S,fn:He(I=>[Me(m.$slots,S,mn(Zn(I)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),M("div",QF,[(ie(!0),le(Oe,null,Qe(ae(c)(k),(S,E)=>(ie(),le("div",{key:E},[M("button",{type:"button",class:Ke(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),"data-test":S.value,disabled:S.disabled,onClick:I=>ae(y)(S.value,k,S.disabled),onMouseover:I=>ae(g)(S.value)},[m.$slots.quarter?Me(m.$slots,"quarter",{key:0,value:S.value,text:S.text}):(ie(),le(Oe,{key:1},[cn(xe(S.text),1)],64))],42,XF)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),ZF=["id","aria-label"],e8={key:0,class:"dp--menu-load-container"},t8=M("span",{class:"dp--menu-loader"},null,-1),n8=[t8],r8={key:0,class:"dp__sidebar_left"},i8=["data-test","onClick","onKeydown"],o8={key:2,class:"dp__sidebar_right"},s8={key:3,class:"dp__action_extra"},W_=Gt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Pf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=he(null),s=ge(()=>{const{openOnTop:q,...W}=i;return{...W,flowStep:E.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:o.value}}),{setMenuFocused:a,setShiftKey:l,control:f}=fk(),u=ys(),{defaultedTextInput:d,defaultedInline:c,defaultedConfig:h}=$t(i),p=he(null),g=he(0),y=he(null),v=he(!1),_=he(null);gt(()=>{if(!i.shadow){v.value=!0,b(),window.addEventListener("resize",b);const q=sn(o);if(q&&!d.value.enabled&&!c.value.enabled&&(a(!0),C()),q){const W=te=>{h.value.allowPreventDefault&&te.preventDefault(),_o(te,h.value,!0)};q.addEventListener("pointerdown",W),q.addEventListener("mousedown",W)}}}),ka(()=>{window.removeEventListener("resize",b)});const b=()=>{const q=sn(y);q&&(g.value=q.getBoundingClientRect().width)},{arrowRight:m,arrowLeft:w,arrowDown:k,arrowUp:S}=Lo(),{flowStep:E,updateFlowStep:I,childMount:x,resetFlow:A,handleFlow:T}=d8(i,r,_),R=ge(()=>i.monthPicker?cF:i.yearPicker?fF:i.timePicker?RF:i.quarterPicker?JF:YF),N=ge(()=>{var q;if(h.value.arrowLeft)return h.value.arrowLeft;const W=(q=o.value)==null?void 0:q.getBoundingClientRect(),te=i.getInputRect();return te.width<g.value&&te.left<=((W==null?void 0:W.left)??0)?`${te.width/2}px`:"50%"}),C=()=>{const q=sn(o);q&&q.focus({preventScroll:!0})},O=ge(()=>{var q;return((q=_.value)==null?void 0:q.getSidebarProps())||{}}),P=()=>{i.openOnTop&&r("recalculate-position")},X=vr(u,"action"),H=ge(()=>i.monthPicker||i.yearPicker?vr(u,"monthYear"):i.timePicker?vr(u,"timePicker"):vr(u,"shared")),U=ge(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$=ge(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),F=ge(()=>({dp__menu:!0,dp__menu_index:!c.value.enabled,dp__relative:c.value.enabled,[i.menuClassName]:!!i.menuClassName})),D=q=>{_o(q,h.value,!0)},K=()=>{i.escClose&&r("close-picker")},z=q=>{if(i.arrowNavigation){if(q===Xn.up)return S();if(q===Xn.down)return k();if(q===Xn.left)return w();if(q===Xn.right)return m()}else q===Xn.left||q===Xn.up?oe("handleArrow",Xn.left,0,q===Xn.up):oe("handleArrow",Xn.right,0,q===Xn.down)},B=q=>{l(q.shiftKey),!i.disableMonthYearSelect&&q.code===Dt.tab&&q.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(q.preventDefault(),_o(q,h.value,!0),r("close-picker"))},V=()=>{C(),r("time-picker-close")},Z=q=>{var W,te,ne;(W=_.value)==null||W.toggleTimePicker(!1,!1),(te=_.value)==null||te.toggleMonthPicker(!1,!1,q),(ne=_.value)==null||ne.toggleYearPicker(!1,!1,q)},Y=(q,W=0)=>{var te,ne,ce;return q==="month"?(te=_.value)==null?void 0:te.toggleMonthPicker(!1,!0,W):q==="year"?(ne=_.value)==null?void 0:ne.toggleYearPicker(!1,!0,W):q==="time"?(ce=_.value)==null?void 0:ce.toggleTimePicker(!0,!1):Z(W)},oe=(q,...W)=>{var te,ne;(te=_.value)!=null&&te[q]&&((ne=_.value)==null||ne[q](...W))},ue=()=>{oe("selectCurrentDate")},ee=(q,W)=>{oe("presetDate",q,W)},j=()=>{oe("clearHoverDate")},Q=(q,W)=>{oe("updateMonthYear",q,W)},G=(q,W)=>{q.preventDefault(),z(W)},de=q=>{var W;if(B(q),q.key===Dt.home||q.key===Dt.end)return oe("selectWeekDate",q.key===Dt.home,q.target.getAttribute("id"));switch((q.key===Dt.pageUp||q.key===Dt.pageDown)&&(q.shiftKey?oe("changeYear",q.key===Dt.pageUp):oe("changeMonth",q.key===Dt.pageUp),q.target.getAttribute("id")&&((W=o.value)==null||W.focus({preventScroll:!0}))),q.key){case Dt.esc:return K();case Dt.arrowLeft:return G(q,Xn.left);case Dt.arrowRight:return G(q,Xn.right);case Dt.arrowUp:return G(q,Xn.up);case Dt.arrowDown:return G(q,Xn.down);default:return}};return e({updateMonthYear:Q,switchView:Y,handleFlow:T}),(q,W)=>{var te,ne,ce;return ie(),le("div",{id:q.uid?`dp-menu-${q.uid}`:void 0,ref_key:"dpMenuRef",ref:o,tabindex:"0",role:"dialog","aria-label":(te=q.ariaLabels)==null?void 0:te.menu,class:Ke(F.value),style:pn({"--dp-arrow-left":N.value}),onMouseleave:j,onClick:D,onKeydown:de},[(q.disabled||q.readonly)&&ae(c).enabled||q.loading?(ie(),le("div",{key:0,class:Ke($.value)},[q.loading?(ie(),le("div",e8,n8)):ye("",!0)],2)):ye("",!0),!ae(c).enabled&&!q.teleportCenter?(ie(),le("div",{key:1,class:Ke(U.value)},null,2)):ye("",!0),M("div",{ref_key:"innerMenuRef",ref:y,class:Ke({dp__menu_content_wrapper:((ne=q.presetDates)==null?void 0:ne.length)||!!q.$slots["left-sidebar"]||!!q.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((ce=q.presetDates)==null?void 0:ce.length)||!!q.$slots["left-sidebar"]||!!q.$slots["right-sidebar"])}),style:pn({"--dp-menu-width":`${g.value}px`})},[q.$slots["left-sidebar"]?(ie(),le("div",r8,[Me(q.$slots,"left-sidebar",mn(Zn(O.value)))])):ye("",!0),q.presetDates.length?(ie(),le("div",{key:1,class:Ke({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ie(!0),le(Oe,null,Qe(q.presetDates,(re,pe)=>(ie(),le(Oe,{key:pe},[re.slot?Me(q.$slots,re.slot,{key:0,presetDate:ee,label:re.label,value:re.value}):(ie(),le("button",{key:1,type:"button",style:pn(re.style||{}),class:Ke(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":re.testId??void 0,onClick:xr(ve=>ee(re.value,re.noTz),["prevent"]),onKeydown:ve=>ae(ur)(ve,()=>ee(re.value,re.noTz),!0)},xe(re.label),47,i8))],64))),128))],2)):ye("",!0),M("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(ie(),Ue(Pd(R.value),ln({ref_key:"dynCmpRef",ref:_},s.value,{"flow-step":ae(E),onMount:ae(x),onUpdateFlowStep:ae(I),onResetFlow:ae(A),onFocusMenu:C,onSelectDate:W[0]||(W[0]=re=>q.$emit("select-date")),onDateUpdate:W[1]||(W[1]=re=>q.$emit("date-update",re)),onTooltipOpen:W[2]||(W[2]=re=>q.$emit("tooltip-open",re)),onTooltipClose:W[3]||(W[3]=re=>q.$emit("tooltip-close",re)),onAutoApply:W[4]||(W[4]=re=>q.$emit("auto-apply",re)),onRangeStart:W[5]||(W[5]=re=>q.$emit("range-start",re)),onRangeEnd:W[6]||(W[6]=re=>q.$emit("range-end",re)),onInvalidFixedRange:W[7]||(W[7]=re=>q.$emit("invalid-fixed-range",re)),onTimeUpdate:W[8]||(W[8]=re=>q.$emit("time-update")),onAmPmChange:W[9]||(W[9]=re=>q.$emit("am-pm-change",re)),onTimePickerOpen:W[10]||(W[10]=re=>q.$emit("time-picker-open",re)),onTimePickerClose:V,onRecalculatePosition:P,onUpdateMonthYear:W[11]||(W[11]=re=>q.$emit("update-month-year",re)),onAutoApplyInvalid:W[12]||(W[12]=re=>q.$emit("auto-apply-invalid",re)),onInvalidDate:W[13]||(W[13]=re=>q.$emit("invalid-date",re)),onOverlayToggle:W[14]||(W[14]=re=>q.$emit("overlay-toggle",re)),"onUpdate:internalModelValue":W[15]||(W[15]=re=>q.$emit("update:internal-model-value",re))}),Hn({_:2},[Qe(H.value,(re,pe)=>({name:re,fn:He(ve=>[Me(q.$slots,re,mn(Zn({...ve})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),q.$slots["right-sidebar"]?(ie(),le("div",o8,[Me(q.$slots,"right-sidebar",mn(Zn(O.value)))])):ye("",!0),q.$slots["action-extra"]?(ie(),le("div",s8,[q.$slots["action-extra"]?Me(q.$slots,"action-extra",{key:0,selectCurrentDate:ue}):ye("",!0)])):ye("",!0)],6),!q.autoApply||ae(h).keepActionRow?(ie(),Ue(nF,ln({key:2,"menu-mount":v.value},s.value,{"calendar-width":g.value,onClosePicker:W[16]||(W[16]=re=>q.$emit("close-picker")),onSelectDate:W[17]||(W[17]=re=>q.$emit("select-date")),onInvalidSelect:W[18]||(W[18]=re=>q.$emit("invalid-select")),onSelectNow:ue}),Hn({_:2},[Qe(ae(X),(re,pe)=>({name:re,fn:He(ve=>[Me(q.$slots,re,mn(Zn({...ve})))])}))]),1040,["menu-mount","calendar-width"])):ye("",!0)],46,ZF)}}});var js=(t=>(t.center="center",t.left="left",t.right="right",t))(js||{});const a8=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:o,props:s,slots:a})=>{const l=he({}),f=he(!1),u=he({top:"0",left:"0"}),d=he(!1),c=Pl(s,"teleportCenter");en(c,()=>{u.value=JSON.parse(JSON.stringify({})),m()});const h=C=>{if(s.teleport){const O=C.getBoundingClientRect();return{left:O.left+window.scrollX,top:O.top+window.scrollY}}return{top:0,left:0}},p=(C,O)=>{u.value.left=`${C+O-l.value.width}px`},g=C=>{u.value.left=`${C}px`},y=(C,O)=>{s.position===js.left&&g(C),s.position===js.right&&p(C,O),s.position===js.center&&(u.value.left=`${C+O/2-l.value.width/2}px`)},v=C=>{const{width:O,height:P}=C.getBoundingClientRect(),{top:X,left:H}=s.altPosition?s.altPosition(C):h(C);return{top:+X,left:+H,width:O,height:P}},_=()=>{u.value.left="50%",u.value.top="50%",u.value.transform="translate(-50%, -50%)",u.value.position="fixed",delete u.value.opacity},b=()=>{const C=sn(n),{top:O,left:P,transform:X}=s.altPosition(C);u.value={top:`${O}px`,left:`${P}px`,transform:X??""}},m=(C=!0)=>{var O;if(!i.value.enabled){if(c.value)return _();if(s.altPosition!==null)return b();if(C){const P=s.teleport?(O=e.value)==null?void 0:O.$el:t.value;P&&(l.value=P.getBoundingClientRect()),o("recalculate-position")}return A()}},w=({inputEl:C,left:O,width:P})=>{window.screen.width>768&&!f.value&&y(O,P),E(C)},k=C=>{const{top:O,left:P,height:X,width:H}=v(C);u.value.top=`${X+O+ +s.offset}px`,d.value=!1,f.value||(u.value.left=`${P+H/2-l.value.width/2}px`),w({inputEl:C,left:P,width:H})},S=C=>{const{top:O,left:P,width:X}=v(C);u.value.top=`${O-+s.offset-l.value.height}px`,d.value=!0,w({inputEl:C,left:P,width:X})},E=C=>{if(s.autoPosition){const{left:O,width:P}=v(C),{left:X,right:H}=l.value;if(!f.value){if(Math.abs(X)!==Math.abs(H)){if(X<=0)return f.value=!0,g(O);if(H>=document.documentElement.clientWidth)return f.value=!0,p(O,P)}return y(O,P)}}},I=()=>{const C=sn(n);if(C){const{height:O}=l.value,{top:P,height:X}=C.getBoundingClientRect(),H=window.innerHeight-P-X,U=P;return O<=H?Wo.bottom:O>H&&O<=U?Wo.top:H>=U?Wo.bottom:Wo.top}return Wo.bottom},x=C=>I()===Wo.bottom?k(C):S(C),A=()=>{const C=sn(n);if(C)return s.autoPosition?x(C):k(C)},T=function(C){if(C){const O=C.scrollHeight>C.clientHeight,P=window.getComputedStyle(C).overflowY.indexOf("hidden")!==-1;return O&&!P}return!0},R=function(C){return!C||C===document.body||C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:T(C)?C:R(C.assignedSlot?C.assignedSlot.parentNode:C.parentNode)},N=C=>{if(C)switch(s.position){case js.left:return{left:0,transform:"translateX(0)"};case js.right:return{left:`${C.width}px`,transform:"translateX(-100%)"};default:return{left:`${C.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:u,xCorrect:f,setMenuPosition:m,getScrollableParent:R,shadowRender:(C,O)=>{var P,X,H;const U=document.createElement("div"),$=(P=sn(n))==null?void 0:P.getBoundingClientRect();U.setAttribute("id","dp--temp-container");const F=(X=r.value)!=null&&X.clientWidth?r.value:document.body;F.append(U);const D=N($),K=xa(C,{...O,shadow:!0,style:{opacity:0,position:"absolute",...D}},Object.fromEntries(Object.keys(a).filter(z=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(z)).map(z=>[z,a[z]])));Oy(K,U),l.value=(H=K.el)==null?void 0:H.getBoundingClientRect(),Oy(null,U),F.removeChild(U)}}},Ji=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],l8=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],u8={all:()=>Ji,monthYear:()=>Ji.filter(t=>t.use.includes("month-year")),input:()=>l8,timePicker:()=>Ji.filter(t=>t.use.includes("time")),action:()=>Ji.filter(t=>t.use.includes("action")),calendar:()=>Ji.filter(t=>t.use.includes("calendar")),menu:()=>Ji.filter(t=>t.use.includes("menu")),shared:()=>Ji.filter(t=>t.use.includes("shared")),yearMode:()=>Ji.filter(t=>t.use.includes("year-mode"))},vr=(t,e,n)=>{const r=[];return u8[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Su=t=>{const e=ge(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ge(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Ru=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=$t(t),i=Te(gi(Te(),r.value.timezone)),o=he([{month:rt(i),year:nt(i)}]),s=d=>{const c={hours:ji(i),minutes:Io(i),seconds:0};return n.value.enabled?[c[d],c[d]]:c[d]},a=Kr({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});en(n,(d,c)=>{d.enabled!==c.enabled&&(a.hours=s("hours"),a.minutes=s("minutes"),a.seconds=s("seconds"))},{deep:!0});const l=ge({get:()=>t.internalModelValue,set:d=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",d)}}),f=ge(()=>d=>o.value[d]?o.value[d].month:0),u=ge(()=>d=>o.value[d]?o.value[d].year:0);return{calendars:o,time:a,modelValue:l,month:f,year:u,today:i}},c8=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:a}=$t(e),{isDisabled:l}=$o(e),f=he(null),u=he(gi(new Date,o.value.timezone)),d=D=>{!D.current&&e.hideOffsetDates||(f.value=D.value)},c=()=>{f.value=null},h=D=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&f.value?D?Kt(f.value,t.value[0]):Ft(f.value,t.value[0]):!0,p=(D,K)=>{const z=()=>t.value?K?t.value[0]||null:t.value[1]:null,B=t.value&&Array.isArray(t.value)?z():null;return it(Te(D.value),B)},g=D=>{const K=Array.isArray(t.value)?t.value[0]:null;return D?!Ft(f.value??null,K):!0},y=(D,K=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!D.current?!1:it(Te(D.value),t.value[K?0:1]):a.value.enabled?p(D,K)&&g(K)||it(D.value,Array.isArray(t.value)?t.value[0]:null)&&h(K):!1,v=(D,K)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const z=it(D.value,f.value);return K?Kt(t.value[0],D.value)&&z:Ft(t.value[0],D.value)&&z}return!1},_=D=>!t.value||e.hideOffsetDates&&!D.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?it(D.value,t.value[0]?t.value[0]:u.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(K=>it(K,D.value)):it(D.value,t.value?t.value:u.value),b=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!D.current)return!1;const K=Cr(f.value,+a.value.autoRange),z=ki(Te(f.value),e.weekStart);return e.weekPicker?it(z[1],Te(D.value)):it(K,Te(D.value))}return!1}return!1},m=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){const K=Cr(f.value,+a.value.autoRange);if(e.hideOffsetDates&&!D.current)return!1;const z=ki(Te(f.value),e.weekStart);return e.weekPicker?Kt(D.value,z[0])&&Ft(D.value,z[1]):Kt(D.value,f.value)&&Ft(D.value,K)}return!1}return!1},w=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!D.current)return!1;const K=ki(Te(f.value),e.weekStart);return e.weekPicker?it(K[0],D.value):it(f.value,D.value)}return!1}return!1},k=D=>Of(t.value,f.value,D.value),S=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,E=()=>e.modelAuto?tk(e.internalModelValue):!0,I=D=>{if(e.weekPicker)return!1;const K=a.value.enabled?!y(D)&&!y(D,!1):!0;return!l(D.value)&&!_(D)&&!(!D.current&&e.hideOffsetDates)&&K},x=D=>a.value.enabled?e.modelAuto?S()&&_(D):!1:_(D),A=D=>i.value?SV(D.value,s.value.highlight):!1,T=D=>{const K=l(D.value);return K&&(typeof i.value=="function"?!i.value(D.value,K):!i.value.options.highlightDisabled)},R=D=>{var K;return typeof i.value=="function"?i.value(D.value):(K=i.value.weekdays)==null?void 0:K.includes(D.value.getDay())},N=D=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||D.current)&&E()&&!(!D.current&&e.hideOffsetDates)&&!_(D)?k(D):!1,C=D=>{const{isRangeStart:K,isRangeEnd:z}=H(D),B=a.value.enabled?K||z:!1;return{dp__cell_offset:!D.current,dp__pointer:!e.disabled&&!(!D.current&&e.hideOffsetDates)&&!l(D.value),dp__cell_disabled:l(D.value),dp__cell_highlight:!T(D)&&(A(D)||R(D))&&!x(D)&&!B&&!w(D)&&!(N(D)&&e.weekPicker)&&!z,dp__cell_highlight_active:!T(D)&&(A(D)||R(D))&&x(D),dp__today:!e.noToday&&it(D.value,u.value)&&D.current,"dp--past":Ft(D.value,u.value),"dp--future":Kt(D.value,u.value)}},O=D=>({dp__active_date:x(D),dp__date_hover:I(D)}),P=D=>{if(t.value&&!Array.isArray(t.value)){const K=ki(t.value,e.weekStart);return{...$(D),dp__range_start:it(K[0],D.value),dp__range_end:it(K[1],D.value),dp__range_between_week:Kt(D.value,K[0])&&Ft(D.value,K[1])}}return{...$(D)}},X=D=>{if(t.value&&Array.isArray(t.value)){const K=ki(t.value[0],e.weekStart),z=t.value[1]?ki(t.value[1],e.weekStart):[];return{...$(D),dp__range_start:it(K[0],D.value)||it(z[0],D.value),dp__range_end:it(K[1],D.value)||it(z[1],D.value),dp__range_between_week:Kt(D.value,K[0])&&Ft(D.value,K[1])||Kt(D.value,z[0])&&Ft(D.value,z[1]),dp__range_between:Kt(D.value,K[1])&&Ft(D.value,z[0])}}return{...$(D)}},H=D=>{const K=n.value.count>0?D.current&&y(D)&&E():y(D)&&E(),z=n.value.count>0?D.current&&y(D,!1)&&E():y(D,!1)&&E();return{isRangeStart:K,isRangeEnd:z}},U=D=>{const{isRangeStart:K,isRangeEnd:z}=H(D);return{dp__range_start:K,dp__range_end:z,dp__range_between:N(D),dp__date_hover:it(D.value,f.value)&&!K&&!z&&!e.weekPicker,dp__date_hover_start:v(D,!0),dp__date_hover_end:v(D,!1)}},$=D=>({...U(D),dp__cell_auto_range:m(D),dp__cell_auto_range_start:w(D),dp__cell_auto_range_end:b(D)}),F=D=>a.value.enabled?a.value.autoRange?$(D):e.modelAuto?{...O(D),...U(D)}:e.weekPicker?X(D):U(D):e.weekPicker?P(D):O(D);return{setHoverDate:d,clearHoverDate:c,getDayClassData:D=>e.hideOffsetDates&&!D.current?{}:{...C(D),...F(D),[e.dayClass?e.dayClass(D.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},$o=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=$t(t),o=T=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Te(T)):!!md(T,r.value.disabledDates):!1,s=T=>{const R=r.value.maxDate?Kt(T,r.value.maxDate):!1,N=r.value.minDate?Ft(T,r.value.minDate):!1,C=o(T),O=e.value.months.map($=>+$).includes(rt(T)),P=t.disabledWeekDays.length?t.disabledWeekDays.some($=>+$===m$(T)):!1,X=d(T),H=nt(T),U=H<+t.yearRange[0]||H>+t.yearRange[1];return!(R||N||C||O||U||P||X)},a=(T,R)=>Ft(...fo(r.value.minDate,T,R))||it(...fo(r.value.minDate,T,R)),l=(T,R)=>Kt(...fo(r.value.maxDate,T,R))||it(...fo(r.value.maxDate,T,R)),f=(T,R,N)=>{let C=!1;return r.value.maxDate&&N&&l(T,R)&&(C=!0),r.value.minDate&&!N&&a(T,R)&&(C=!0),C},u=(T,R,N,C)=>{let O=!1;return C?r.value.minDate&&r.value.maxDate?O=f(T,R,N):(r.value.minDate&&a(T,R)||r.value.maxDate&&l(T,R))&&(O=!0):O=!0,O},d=T=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!md(T,r.value.allowedDates):!1,c=T=>!s(T),h=T=>n.value.noDisabledRange?!VA({start:T[0],end:T[1]}).some(R=>c(R)):!0,p=T=>{if(T){const R=nt(T);return R>=+t.yearRange[0]&&R<=t.yearRange[1]}return!0},g=(T,R)=>!!(Array.isArray(T)&&T[R]&&(n.value.maxRange||n.value.minRange)&&p(T[R])),y=(T,R,N=0)=>{if(g(R,N)&&p(T)){const C=LA(T,R[N]),O=sk(R[N],T),P=O.length===1?0:O.filter(H=>c(H)).length,X=Math.abs(C)-(n.value.minMaxRawRange?0:P);if(n.value.minRange&&n.value.maxRange)return X>=+n.value.minRange&&X<=+n.value.maxRange;if(n.value.minRange)return X>=+n.value.minRange;if(n.value.maxRange)return X<=+n.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=T=>Array.isArray(T)?[T[0]?sp(T[0]):null,T[1]?sp(T[1]):null]:sp(T),b=(T,R,N)=>T.find(C=>+C.hours===ji(R)&&C.minutes==="*"?!0:+C.minutes===Io(R)&&+C.hours===ji(R))&&N,m=(T,R,N)=>{const[C,O]=T,[P,X]=R;return!b(C,P,N)&&!b(O,X,N)&&N},w=(T,R)=>{const N=Array.isArray(R)?R:[R];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?m(t.disabledTimes,N,T):!N.some(C=>b(t.disabledTimes,C,T)):T},k=(T,R)=>{const N=Array.isArray(R)?[as(R[0]),R[1]?as(R[1]):void 0]:as(R),C=!t.disabledTimes(N);return T&&C},S=(T,R)=>t.disabledTimes?Array.isArray(t.disabledTimes)?w(R,T):k(R,T):R,E=T=>{let R=!0;if(!T||v())return!0;const N=!r.value.minDate&&!r.value.maxDate?_(T):T;return(t.maxTime||r.value.maxDate)&&(R=q_(t.maxTime,r.value.maxDate,"max",fn(N),R)),(t.minTime||r.value.minDate)&&(R=q_(t.minTime,r.value.minDate,"min",fn(N),R)),S(T,R)},I=T=>{if(!t.monthPicker)return!0;let R=!0;const N=Te(Dr(T));if(r.value.minDate&&r.value.maxDate){const C=Te(Dr(r.value.minDate)),O=Te(Dr(r.value.maxDate));return Kt(N,C)&&Ft(N,O)||it(N,C)||it(N,O)}if(r.value.minDate){const C=Te(Dr(r.value.minDate));R=Kt(N,C)||it(N,C)}if(r.value.maxDate){const C=Te(Dr(r.value.maxDate));R=Ft(N,C)||it(N,C)}return R},x=ge(()=>T=>!t.enableTimePicker||t.ignoreTimeValidation?!0:E(T)),A=ge(()=>T=>t.monthPicker?Array.isArray(T)&&(n.value.enabled||i.value.enabled)?!T.filter(R=>!I(R)).length:I(T):!0);return{isDisabled:c,validateDate:s,validateMonthYearInRange:u,isDateRangeAllowed:h,checkMinMaxRange:y,isValidTime:E,isTimeValid:x,isMonthValid:A}},Mf=()=>{const t=ge(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ge(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ge(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},d8=(t,e,n)=>{const r=he(0),i=Kr({[ss.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ss.calendar]:!1,[ss.header]:!1}),o=ge(()=>t.monthPicker||t.timePicker),s=d=>{var c;if((c=t.flow)!=null&&c.length){if(!d&&o.value)return u();i[d]=!0,Object.keys(i).filter(h=>!i[h]).length||u()}},a=()=>{var d,c;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u()),((c=t.flow)==null?void 0:c.length)===r.value&&Cn().then(()=>l())},l=()=>{r.value=-1},f=(d,c,...h)=>{var p,g;t.flow[r.value]===d&&n.value&&((g=(p=n.value)[c])==null||g.call(p,...h))},u=(d=0)=>{d&&(r.value+=d),f(Bn.month,"toggleMonthPicker",!0),f(Bn.year,"toggleYearPicker",!0),f(Bn.calendar,"toggleTimePicker",!1,!0),f(Bn.time,"toggleTimePicker",!0,!0);const c=t.flow[r.value];(c===Bn.hours||c===Bn.minutes||c===Bn.seconds)&&f(c,"toggleTimePicker",!0,!0,c)};return{childMount:s,updateFlowStep:a,resetFlow:l,handleFlow:u,flowStep:r}},f8={key:1,class:"dp__input_wrap"},h8=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],p8={key:2,class:"dp__clear_icon"},m8=Gt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Pf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:o,defaultedAriaLabels:s,defaultedInline:a,defaultedConfig:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:d,getDefaultStartTime:c}=$t(i),{checkMinMaxRange:h}=$o(i),p=he(),g=he(null),y=he(!1),v=he(!1),_=ge(()=>({dp__pointer:!i.disabled&&!i.readonly&&!o.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:y.value||i.isMenuOpen,dp__input_reg:!o.value.enabled,[i.inputClassName]:!!i.inputClassName})),b=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),p.value=null)},m=O=>{const P=c();return RV(O,o.value.format??d(),P??ak({},i.enableSeconds),i.inputValue,v.value,i.formatLocale)},w=O=>{const{rangeSeparator:P}=o.value,[X,H]=O.split(`${P}`);if(X){const U=m(X.trim()),$=H?m(H.trim()):null;if(ba(U,$))return;const F=U&&$?[U,$]:[U];h($,F,0)&&(p.value=U?F:null)}},k=()=>{v.value=!0},S=O=>{if(f.value.enabled)w(O);else if(u.value.enabled){const P=O.split(";");p.value=P.map(X=>m(X.trim())).filter(X=>X)}else p.value=m(O)},E=O=>{var P;const X=typeof O=="string"?O:(P=O.target)==null?void 0:P.value;X!==""?(o.value.openMenu&&!i.isMenuOpen&&r("open"),S(X),r("set-input-date",p.value)):b(),v.value=!1,r("update:input-value",X)},I=O=>{o.value.enabled?(S(O.target.value),o.value.enterSubmit&&wm(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):o.value.enterSubmit&&i.inputValue===""&&(p.value=null,r("clear"))):T(O)},x=O=>{o.value.enabled&&o.value.tabSubmit&&S(O.target.value),o.value.tabSubmit&&wm(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):o.value.tabSubmit&&i.inputValue===""&&(p.value=null,r("clear",!0))},A=()=>{y.value=!0,r("focus"),Cn().then(()=>{var O;o.value.enabled&&o.value.selectOnFocus&&((O=g.value)==null||O.select())})},T=O=>{O.preventDefault(),_o(O,l.value,!0),o.value.enabled&&o.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):o.value.enabled||r("toggle")},R=()=>{r("real-blur"),y.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&o.value.enabled&&p.value&&!i.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},N=O=>{_o(O,l.value,!0),r("clear")},C=O=>{if(O.key==="Tab"&&x(O),O.key==="Enter"&&I(O),!o.value.enabled){if(O.code==="Tab")return;O.preventDefault()}};return e({focusInput:()=>{var O;(O=g.value)==null||O.focus({preventScroll:!0})},setParsedDate:O=>{p.value=O}}),(O,P)=>{var X;return ie(),le("div",{onClick:T},[O.$slots.trigger&&!O.$slots["dp-input"]&&!ae(a).enabled?Me(O.$slots,"trigger",{key:0}):ye("",!0),!O.$slots.trigger&&(!ae(a).enabled||ae(a).input)?(ie(),le("div",f8,[O.$slots["dp-input"]&&!O.$slots.trigger&&(!ae(a).enabled||ae(a).enabled&&ae(a).input)?Me(O.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:E,onEnter:I,onTab:x,onClear:N,onBlur:R,onKeypress:C,onPaste:k,onFocus:A,openMenu:()=>O.$emit("open"),closeMenu:()=>O.$emit("close"),toggleMenu:()=>O.$emit("toggle")}):ye("",!0),O.$slots["dp-input"]?ye("",!0):(ie(),le("input",{key:1,id:O.uid?`dp-input-${O.uid}`:void 0,ref_key:"inputRef",ref:g,"data-test":"dp-input",name:O.name,class:Ke(_.value),inputmode:ae(o).enabled?"text":"none",placeholder:O.placeholder,disabled:O.disabled,readonly:O.readonly,required:O.required,value:t.inputValue,autocomplete:O.autocomplete,"aria-label":(X=ae(s))==null?void 0:X.input,"aria-disabled":O.disabled||void 0,"aria-invalid":O.state===!1?!0:void 0,onInput:E,onBlur:R,onFocus:A,onKeypress:C,onKeydown:C,onPaste:k},null,42,h8)),M("div",{onClick:P[2]||(P[2]=H=>r("toggle"))},[O.$slots["input-icon"]&&!O.hideInputIcon?(ie(),le("span",{key:0,class:"dp__input_icon",onClick:P[0]||(P[0]=H=>r("toggle"))},[Me(O.$slots,"input-icon")])):ye("",!0),!O.$slots["input-icon"]&&!O.hideInputIcon&&!O.$slots["dp-input"]?(ie(),Ue(ae(La),{key:1,class:"dp__input_icon dp__input_icons",onClick:P[1]||(P[1]=H=>r("toggle"))})):ye("",!0)]),O.$slots["clear-icon"]&&t.inputValue&&O.clearable&&!O.disabled&&!O.readonly?(ie(),le("span",p8,[Me(O.$slots,"clear-icon",{clear:N})])):ye("",!0),O.clearable&&!O.$slots["clear-icon"]&&t.inputValue&&!O.disabled&&!O.readonly?(ie(),Ue(ae(ZA),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:P[3]||(P[3]=xr(H=>N(H),["prevent"]))})):ye("",!0)])):ye("",!0)])}}}),g8=typeof window<"u"?window:void 0,fp=()=>{},v8=t=>w1()?(k2(t),!0):!1,y8=(t,e,n,r)=>{if(!t)return fp;let i=fp;const o=en(()=>ae(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=fp})},{immediate:!0,flush:"post"}),s=()=>{o(),i()};return v8(s),s},_8=(t,e,n,r={})=>{const{window:i=g8,event:o="pointerdown"}=r;return i?y8(i,o,s=>{const a=sn(t),l=sn(e);!a||!l||a===s.target||s.composedPath().includes(a)||s.composedPath().includes(l)||n(s)},{passive:!0}):void 0},b8=Gt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Pf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ys(),s=he(!1),a=Pl(i,"modelValue"),l=Pl(i,"timezone"),f=he(null),u=he(null),d=he(null),c=he(!1),h=he(null),p=he(!1),g=he(!1),y=he(!1),{setMenuFocused:v,setShiftKey:_}=fk(),{clearArrowNav:b}=Lo(),{validateDate:m,isValidTime:w}=$o(i),{defaultedTransitions:k,defaultedTextInput:S,defaultedInline:E,defaultedConfig:I,defaultedRange:x,defaultedMultiDates:A}=$t(i),{menuTransition:T,showTransition:R}=Su(k);gt(()=>{K(i.modelValue),Cn().then(()=>{if(!E.value.enabled){const me=U(h.value);me==null||me.addEventListener("scroll",Q),window==null||window.addEventListener("resize",G)}}),E.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",de),window==null||window.addEventListener("keydown",q)}),ka(()=>{if(!E.value.enabled){const me=U(h.value);me==null||me.removeEventListener("scroll",Q),window==null||window.removeEventListener("resize",G)}window==null||window.removeEventListener("keyup",de),window==null||window.removeEventListener("keydown",q)});const N=vr(o,"all",i.presetDates),C=vr(o,"input");en([a,l],()=>{K(a.value)},{deep:!0});const{openOnTop:O,menuStyle:P,xCorrect:X,setMenuPosition:H,getScrollableParent:U,shadowRender:$}=a8({menuRef:f,menuRefInner:u,inputRef:d,pickerWrapperRef:h,inline:E,emit:r,props:i,slots:o}),{inputValue:F,internalModelValue:D,parseExternalModelValue:K,emitModelValue:z,formatInputValue:B,checkBeforeEmit:V}=JV(r,i,c),Z=ge(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,"dp--flex-display-collapsed":y.value,dp__flex_display_with_input:E.value.input})),Y=ge(()=>i.dark?"dp__theme_dark":"dp__theme_light"),oe=ge(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled}:{}),ue=ge(()=>({class:"dp__outer_menu_wrap"})),ee=ge(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),j=()=>{var me,Ee;return(Ee=(me=d.value)==null?void 0:me.$el)==null?void 0:Ee.getBoundingClientRect()},Q=()=>{s.value&&(I.value.closeOnScroll?Ie():H())},G=()=>{var me;s.value&&H();const Ee=(me=u.value)==null?void 0:me.$el.getBoundingClientRect().width;y.value=document.body.offsetWidth<=Ee},de=me=>{me.key==="Tab"&&!E.value.enabled&&!i.teleport&&I.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Ie()),g.value=me.shiftKey},q=me=>{g.value=me.shiftKey},W=()=>{!i.disabled&&!i.readonly&&($(W_,i),H(!1),s.value=!0,s.value&&r("open"),s.value||be(),K(i.modelValue))},te=()=>{var me;F.value="",be(),(me=d.value)==null||me.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),I.value.closeOnClearValue&&Ie()},ne=()=>{const me=D.value;return!me||!Array.isArray(me)&&m(me)?!0:Array.isArray(me)?A.value.enabled||me.length===2&&m(me[0])&&m(me[1])?!0:x.value.partialRange&&!i.timePicker?m(me[0]):!1:!1},ce=()=>{V()&&ne()?(z(),Ie()):r("invalid-select",D.value)},re=me=>{pe(),z(),I.value.closeOnAutoApply&&!me&&Ie()},pe=()=>{d.value&&S.value.enabled&&d.value.setParsedDate(D.value)},ve=(me=!1)=>{i.autoApply&&w(D.value)&&ne()&&(x.value.enabled&&Array.isArray(D.value)?(x.value.partialRange||D.value.length===2)&&re(me):re(me))},be=()=>{S.value.enabled||(D.value=null)},Ie=()=>{E.value.enabled||(s.value&&(s.value=!1,X.value=!1,v(!1),_(!1),b(),r("closed"),F.value&&K(a.value)),be(),r("blur"))},Ne=(me,Ee,Se=!1)=>{if(!me){D.value=null;return}const Ct=Array.isArray(me)?!me.some(Vt=>!m(Vt)):m(me),vt=w(me);Ct&&vt&&(D.value=me,Ee&&(p.value=Se,ce(),r("text-submit")))},Re=()=>{i.autoApply&&w(D.value)&&z(),pe()},Ye=()=>s.value?Ie():W(),Ce=me=>{D.value=me},tt=()=>{S.value.enabled&&(c.value=!0,B()),r("focus")},Et=()=>{if(S.value.enabled&&(c.value=!1,K(i.modelValue),p.value)){const me=xV(h.value,g.value);me==null||me.focus()}r("blur")},Qt=me=>{u.value&&u.value.updateMonthYear(0,{month:U_(me.month),year:U_(me.year)})},kt=me=>{K(me??i.modelValue)},Ht=(me,Ee)=>{var Se;(Se=u.value)==null||Se.switchView(me,Ee)},fe=me=>I.value.onClickOutside?I.value.onClickOutside(me):Ie(),we=(me=0)=>{var Ee;(Ee=u.value)==null||Ee.handleFlow(me)};return _8(f,d,()=>fe(ne)),e({closeMenu:Ie,selectDate:ce,clearValue:te,openMenu:W,onScroll:Q,formatInputValue:B,updateInternalModelValue:Ce,setMonthYear:Qt,parseModel:kt,switchView:Ht,toggleMenu:Ye,handleFlow:we}),(me,Ee)=>(ie(),le("div",{ref_key:"pickerWrapperRef",ref:h,class:Ke(Z.value),"data-datepicker-instance":""},[je(m8,ln({ref_key:"inputRef",ref:d,"input-value":ae(F),"onUpdate:inputValue":Ee[0]||(Ee[0]=Se=>gn(F)?F.value=Se:null),"is-menu-open":s.value},me.$props,{onClear:te,onOpen:W,onSetInputDate:Ne,onSetEmptyDate:ae(z),onSelectDate:ce,onToggle:Ye,onClose:Ie,onFocus:tt,onBlur:Et,onRealBlur:Ee[1]||(Ee[1]=Se=>c.value=!1)}),Hn({_:2},[Qe(ae(C),(Se,Ct)=>({name:Se,fn:He(vt=>[Me(me.$slots,Se,mn(Zn(vt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ie(),Ue(Pd(me.teleport?Yx:"div"),mn(Zn(oe.value)),{default:He(()=>[je(Ur,{name:ae(T)(ae(O)),css:ae(R)&&!ae(E).enabled},{default:He(()=>[s.value?(ie(),le("div",ln({key:0,ref_key:"dpWrapMenuRef",ref:f},ue.value,{class:{"dp--menu-wrapper":!ae(E).enabled},style:ae(E).enabled?void 0:ae(P)}),[je(W_,ln({ref_key:"dpMenuRef",ref:u},me.$props,{"internal-model-value":ae(D),"onUpdate:internalModelValue":Ee[2]||(Ee[2]=Se=>gn(D)?D.value=Se:null),class:{[Y.value]:!0,"dp--menu-wrapper":me.teleport},"open-on-top":ae(O),"no-overlay-focus":ee.value,collapse:y.value,"get-input-rect":j,onClosePicker:Ie,onSelectDate:ce,onAutoApply:ve,onTimeUpdate:Re,onFlowStep:Ee[3]||(Ee[3]=Se=>me.$emit("flow-step",Se)),onUpdateMonthYear:Ee[4]||(Ee[4]=Se=>me.$emit("update-month-year",Se)),onInvalidSelect:Ee[5]||(Ee[5]=Se=>me.$emit("invalid-select",ae(D))),onAutoApplyInvalid:Ee[6]||(Ee[6]=Se=>me.$emit("invalid-select",Se)),onInvalidFixedRange:Ee[7]||(Ee[7]=Se=>me.$emit("invalid-fixed-range",Se)),onRecalculatePosition:ae(H),onTooltipOpen:Ee[8]||(Ee[8]=Se=>me.$emit("tooltip-open",Se)),onTooltipClose:Ee[9]||(Ee[9]=Se=>me.$emit("tooltip-close",Se)),onTimePickerOpen:Ee[10]||(Ee[10]=Se=>me.$emit("time-picker-open",Se)),onTimePickerClose:Ee[11]||(Ee[11]=Se=>me.$emit("time-picker-close",Se)),onAmPmChange:Ee[12]||(Ee[12]=Se=>me.$emit("am-pm-change",Se)),onRangeStart:Ee[13]||(Ee[13]=Se=>me.$emit("range-start",Se)),onRangeEnd:Ee[14]||(Ee[14]=Se=>me.$emit("range-end",Se)),onDateUpdate:Ee[15]||(Ee[15]=Se=>me.$emit("date-update",Se)),onInvalidDate:Ee[16]||(Ee[16]=Se=>me.$emit("invalid-date",Se)),onOverlayToggle:Ee[17]||(Ee[17]=Se=>me.$emit("overlay-toggle",Se))}),Hn({_:2},[Qe(ae(N),(Se,Ct)=>({name:Se,fn:He(vt=>[Me(me.$slots,Se,mn(Zn({...vt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):ye("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Ou=(()=>{const t=b8;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),w8=Object.freeze(Object.defineProperty({__proto__:null,default:Ou},Symbol.toStringTag,{value:"Module"}));Object.entries(w8).forEach(([t,e])=>{t!=="default"&&(Ou[t]=e)});const E8=M("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),T8={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},A8={class:"relative p-4 max-w-2xl max-h-full"},k8={class:"relative bg-white rounded-lg shadow"},x8={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},I8=M("h3",{class:"text-lg font-semibold text-black"}," Avukat Uygun Randevu Saatleri ",-1),S8=M("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),R8=M("span",{class:"sr-only"},"Close modal",-1),O8=[S8,R8],P8={class:"p-4 px-10 max-h-full flex items-center justify-center"},C8={id:"timetable",class:"pt-4 grid w-full grid-cols-3 gap-2 mb-5"},D8=["id"],M8=["for"],N8={__name:"AttorneyScheduleModal",emits:["close"],setup(t,{emit:e}){const n=he(new Date),r={Monday:["09:00","10:00","11:30","13:00","14:30","16:00"],Tuesday:["09:30","10:30","12:00","13:30","15:00","16:30"],Wednesday:["09:00","11:00","12:30","14:00","15:30","17:00"],Thursday:["08:30","10:00","11:30","13:00","14:30","16:00"],Friday:["09:00","10:30","12:00","13:30","15:00","16:30"],Saturday:["10:00","11:30","13:00","14:30","16:00","17:30"],Sunday:["09:30","11:00","12:30","14:00","15:30","17:00"]},i=ge(()=>{const o=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n.value);return r[o]});return gt(()=>{console.log("Component mounted")}),(o,s)=>(ie(),le(Oe,null,[E8,M("div",T8,[M("div",A8,[M("div",k8,[M("div",x8,[I8,M("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},O8)]),M("div",P8,[M("div",null,[je(ae(Ou),{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=a=>n.value=a),inline:"","auto-apply":"",name:"date",class:"form-input w-full","enable-time-picker":!1},null,8,["modelValue"]),M("ul",C8,[(ie(!0),le(Oe,null,Qe(i.value,(a,l)=>(ie(),le("li",{key:l},[M("input",{type:"radio",id:"time-"+l,value:"",class:"hidden peer",name:"timetable"},null,8,D8),M("label",{for:"time-"+l,class:"inline-flex items-center justify-center w-full px-2 py-1 text-sm font-medium text-center hover:text-gray-900 dark:hover:text-white bg-white border rounded-lg cursor-pointer text-gray-500 border-gray-200 peer-checked:border-blue-700 peer-checked:bg-blue-50 peer-checked:text-blue-700 hover:bg-gray-50"},xe(a),9,M8)]))),128))])])])])])])],64))}},L8={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},$8={class:"flex justify-between items-center mb-4"},V8={class:"text-4xl font-bold text-gray-800"},F8=M("div",{class:"text-lg font-medium text-gray-500"},"Toplam Online Görüşmeler",-1),U8=M("div",{class:"text-gray-400"},[M("i",{class:"ri-group-line text-4xl"})],-1),B8={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},j8={class:"text-right text-sm font-medium text-gray-600 mt-2"},q8={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},H8={class:"flex justify-between items-center mb-4"},z8={class:"flex items-center mb-1"},K8={class:"text-4xl font-bold text-gray-800"},W8={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},Y8=M("div",{class:"text-lg font-medium text-gray-500"},"Yaklaşan Görüşmeler",-1),G8=M("div",{class:"text-gray-400"},[M("i",{class:"ri-calendar-check-line text-4xl"})],-1),Q8=M("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),X8={class:"mt-2 flex flex-wrap"},J8={key:0,class:"flex items-center justify-center bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Z8=M("div",{class:"text-2xl font-bold text-gray-800 mb-4"},"Avukat Çizelgesi",-1),e9={key:1,class:"bg-white border border-gray-200 rounded-lg p-6 shadow-lg"},t9=M("div",{class:"flex justify-between items-center mb-4 bg-gray-800 p-2 rounded-t-lg"},[M("div",{class:"flex items-center p-2"},[M("i",{class:"ri-award-line text-2xl text-white"}),M("div",{class:"ml-2 text-lg font-bold text-white"},"En çok Görüşme Yapan Avukatlar")])],-1),n9={class:"mt-2 space-y-2"},r9={class:"flex items-center"},i9={class:"bg-gray-800 text-white rounded-full h-8 w-8 flex items-center justify-center font-bold"},o9={class:"pl-4 flex items-center justify-stretch"},s9={class:"text-lg font-bold"},a9={class:"text-xl border-l-2 border-gray-800 px-4"},l9={__name:"MeetingCards",props:{totalMeetings:Number,approvedMeetings:Number,satisfactionRate:Number,meetingStatusSummary:Object,topAttorneys:Array,showTopAttorneys:Boolean,showAttorneySchedule:Boolean},setup(t){const e=Oo(),n=ge(()=>e.getters.userRole),r=he(!1),i=()=>n.value==="admin",o=t,s={0:"bg-blue-100 text-blue-700",1:"bg-green-100 text-green-700",2:"bg-gray-100 text-gray-700",3:"bg-red-100 text-red-700",4:"bg-orange-100 text-orange-700",5:"bg-orange-100 text-orange-700",6:"bg-black text-white",7:"bg-black text-white"},a=u=>{switch(u){case"0":return"İstek";case"1":return"Kabul Edildi";case"2":return"Tamamlandı";case"3":return"Reddedildi";case"4":return"Müşteri Onayı";case"5":return"Avukat Onayı";case"6":return"İptal Edildi";default:return"Unknown"}},l=ge(()=>o.totalMeetings===0?0:(o.approvedMeetings/o.totalMeetings*100).toFixed(2)),f=ge(()=>o.totalMeetings===0?0:(o.totalMeetings/100*100).toFixed(2));return gt(()=>{console.log("isAdmin",i())}),(u,d)=>(ie(),le(Oe,null,[r.value?(ie(),Ue(N8,{key:0,onClose:d[0]||(d[0]=c=>r.value=!1)})):ye("",!0),M("div",{class:Ke(["grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",{"lg:grid-cols-3":i()}])},[M("div",L8,[M("div",$8,[M("div",null,[M("div",V8,xe(t.totalMeetings),1),F8]),U8]),M("div",B8,[M("div",{class:"h-full bg-blue-600",style:pn({width:f.value+"%"})},null,4)]),M("div",j8,xe(f.value)+"%",1)]),M("div",q8,[M("div",H8,[M("div",null,[M("div",z8,[M("div",K8,xe(t.approvedMeetings),1),M("div",W8," +"+xe(l.value)+"% ",1)]),Y8]),G8]),Q8,M("div",X8,[(ie(!0),le(Oe,null,Qe(t.meetingStatusSummary,(c,h)=>(ie(),le("span",{key:h,class:Ke([s[h],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},xe(a(h))+": "+xe(c),3))),128))])]),t.showAttorneySchedule&&n.value==="admin"?(ie(),le("div",J8,[M("div",null,[Z8,M("button",{onClick:d[1]||(d[1]=c=>r.value=!0),class:"text-white w-full inline-flex items-center justify-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Çizelgeyi Görüntüle ")])])):ye("",!0),t.showTopAttorneys?(ie(),le("div",e9,[t9,M("ul",n9,[(ie(!0),le(Oe,null,Qe(t.topAttorneys,(c,h)=>(ie(),le("li",{key:h,class:"flex items-center justify-between text-lg font-medium text-black bg-gray-100 h-10 rounded-lg"},[M("div",r9,[M("div",i9,xe(h+1),1),M("div",o9,[M("div",s9,xe(c.name),1)])]),M("div",a9,xe(c.meetings),1)]))),128))])])):ye("",!0)],2)],64))}},u9={},c9={class:"bg-white border border-gray-200 shadow-md shadow-black/5 p-6 rounded-md"};function d9(t,e){return ie(),le("section",c9,[Me(t.$slots,"default")])}const _k=Yr(u9,[["render",d9]]),f9={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},h9={key:1,tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},p9={class:"relative p-4 w-full max-w-2xl max-h-full"},m9={class:"relative bg-white rounded-lg shadow"},g9={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},v9=M("h3",{class:"text-lg font-semibold text-black"}," Danışan Dökümanları ",-1),y9=M("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),_9=M("span",{class:"sr-only"},"Close modal",-1),b9=[y9,_9],w9={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},E9={class:"col-span-2"},T9=M("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Notu",-1),A9={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},k9={class:"col-span-2"},x9=M("label",{for:"documents",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Evrakları",-1),I9={key:0,class:"grid gap-4 grid-cols-1 md:grid-cols-2"},S9={class:"flex items-center justify-between"},R9={class:"flex items-center"},O9={class:"flex flex-col items-center justify-center mr-4"},P9=M("i",{class:"ri-file-fill text-3xl"},null,-1),C9={class:"text-sm text-gray-500"},D9={class:"text-sm text-gray-500"},M9=["onClick"],N9=M("i",{class:"ri-download-2-line text-2xl"},null,-1),L9=M("span",{class:"sr-only"},"Close modal",-1),$9=[N9,L9],V9={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 w-full flex items-center"},F9=M("p",{class:"text-sm text-gray-500 font-normal"}," Danışan herhangi bir evrak eklemedi. ",-1),U9=[F9],B9={__name:"DocumentsModal",props:{show:Boolean,customerNotes:String,customerDocuments:Array},emits:["close"],setup(t,{emit:e}){const n=r=>{window.open(r.file_url,"_blank")};return(r,i)=>(ie(),le(Oe,null,[t.show?(ie(),le("div",f9)):ye("",!0),t.show?(ie(),le("div",h9,[M("div",p9,[M("div",m9,[M("div",g9,[v9,M("button",{type:"button",onClick:i[0]||(i[0]=o=>r.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},b9)]),M("div",w9,[M("div",E9,[T9,M("p",A9,xe(t.customerNotes),1)]),M("div",k9,[x9,t.customerDocuments.length!=0?(ie(),le("div",I9,[(ie(!0),le(Oe,null,Qe(t.customerDocuments,o=>(ie(),le("div",{key:o.name,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},[M("div",S9,[M("div",R9,[M("div",O9,[P9,M("p",C9,xe(o.kind),1)]),M("div",null,[M("p",null,xe(o.name),1),M("p",D9,xe(o.size),1)])]),M("button",{type:"button",onClick:s=>n(o),class:"bg-transparent mt-1 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},$9,8,M9)])]))),128))])):(ie(),le("div",V9,U9))])])])])])):ye("",!0)],64))}},j9=M("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),q9={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},H9={class:"relative p-4 w-[32rem] max-h-full"},z9={class:"relative bg-white rounded-lg shadow"},K9={class:"flex items-center justify-between p-4 border-b rounded-t"},W9=M("h3",{class:"text-lg font-semibold text-black"}," Yeni Randevu İsteği ",-1),Y9=M("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),G9=M("span",{class:"sr-only"},"Close modal",-1),Q9=[Y9,G9],X9={class:"px-6 py-4 w-full mx-auto bg-white rounded-xl space-y-4"},J9={class:"flex items-center justify-center space-x-4"},Z9={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},eU={class:"text-sm"},tU={class:"text-4xl font-bold"},nU={class:"text-sm"},rU={class:"p-2"},iU=M("h2",{class:"text-xl font-bold"},"Onaylıyor musun?",-1),oU={class:"flex items-center text-gray-500 space-x-2"},sU=M("i",{class:"ri-time-line text-lg"},null,-1),aU={class:"flex space-x-2 mt-2"},lU={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},uU={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},cU={key:0,class:"bg-green-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},dU=M("p",{class:"text-sm text-gray-500 font-normal"}," Online görüşme başarıyla oluşturuldu. ",-1),fU=[dU],hU={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},pU=M("p",{class:"text-sm text-gray-500 font-normal"}," Randevu başarıyla reddedildi. ",-1),mU=[pU],gU={key:2,class:"bg-gray-50 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},vU=M("p",{class:"text-sm text-gray-500 font-normal"}," Randevuyu onaylarsanız, online görüşme oluşturulup ilgili avukat ve müvekkil mail bilgilendirilecektir. ",-1),yU=[vU],_U={key:3,class:"flex items-center justify-center space-x-4 mt-2"},bU={key:1},wU={key:4,class:"mb-2 rounded-lg"},EU=M("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},"Reddetme sebebi",-1),TU={class:"flex items-center justify-center space-x-4 mt-4"},AU={key:1},kU={__name:"Status0Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=he(!1),r=he(!1),i=he(!1),o=he(!1),s=he(""),a=e,l=()=>{n.value=!0,setTimeout(()=>{n.value=!1,r.value=!0,setTimeout(()=>{a("set-meeting"),a("close")},700)},2e3)},f=()=>{n.value=!0,setTimeout(()=>{n.value=!1,o.value=!1,i.value=!0,setTimeout(()=>{a("reject-meeting",s.value)},700)},2e3)};return gt(()=>{console.log("status 0 modal mounted")}),(u,d)=>(ie(),le(Oe,null,[j9,M("div",q9,[M("div",H9,[M("div",z9,[M("div",K9,[W9,M("button",{type:"buttona",onClick:d[0]||(d[0]=c=>u.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Q9)]),M("div",X9,[M("div",J9,[M("div",Z9,[M("div",eU,xe(t.formattedDate.month),1),M("div",tU,xe(t.formattedDate.dayNumber),1),M("div",nU,xe(t.formattedDate.dayName),1)]),M("div",rU,[iU,M("div",oU,[sU,M("span",null,xe(t.formattedDate.time)+" -",1),M("span",null,xe(t.formattedDate.meetingTimeEnd),1)]),M("div",aU,[M("span",lU,xe(t.meetingData.attorney_name),1),M("span",uU,xe(t.meetingData.customer_name),1)])])]),M("div",null,[r.value?(ie(),le("div",cU,fU)):ye("",!0),i.value?(ie(),le("div",hU,mU)):ye("",!0),!r.value&&!i.value&&!o.value?(ie(),le("div",gU,yU)):ye("",!0),!r.value&&!i.value&&!o.value?(ie(),le("div",_U,[M("button",{onClick:l,class:"bg-green-600 text-white hover:bg-green-700 px-4 py-2 rounded-md"},[n.value?(ie(),Ue(nu,{key:0,text:"Oluşturuluyor"})):(ie(),le("span",bU,"Evet"))]),M("button",{onClick:d[1]||(d[1]=c=>o.value=!0),class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md"}," Hayır ")])):ye("",!0),o.value?(ie(),le("div",wU,[EU,bt(M("textarea",{id:"reason","onUpdate:modelValue":d[2]||(d[2]=c=>s.value=c),rows:"3",class:"block w-full h-32 bg-gray-100 rounded-md border-gray-300 shadow-sm"},null,512),[[di,s.value]]),M("div",TU,[M("button",{onClick:f,class:"bg-red-600 text-white hover:bg-red-700 px-4 py-2 rounded-md"},[n.value?(ie(),Ue(nu,{key:0,text:"Kaydediliyor"})):(ie(),le("span",AU,"Kaydet"))])])])):ye("",!0)])])])])])],64))}};/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const Oc=1e3,Pc=60*Oc,Cc=60*Pc,Y_=24*Cc,G_="abort",Q_="end",X_="progress",J_="start",Z_="visibilitychange";var xU=Gt({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[G_,Q_,X_,J_],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/Y_)},hours(){return Math.floor(this.totalMilliseconds%Y_/Cc)},minutes(){return Math.floor(this.totalMilliseconds%Cc/Pc)},seconds(){return Math.floor(this.totalMilliseconds%Pc/Oc)},milliseconds(){return Math.floor(this.totalMilliseconds%Oc)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/Cc)},totalMinutes(){return Math.floor(this.totalMilliseconds/Pc)},totalSeconds(){return Math.floor(this.totalMilliseconds/Oc)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(Z_,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(Z_,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(J_),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const r=i=>{e||(e=i),n||(n=i);const o=i-e;o>=t||o+(i-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(r),n=i};this.requestId=requestAnimationFrame(r)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(X_,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(G_))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(Q_))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return xa(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const IU=M("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),SU={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},RU={class:"relative p-4 w-[36rem] max-h-full"},OU={class:"relative bg-white rounded-lg shadow"},PU={class:"flex items-center justify-between p-4 border-b rounded-t"},CU=M("h3",{class:"text-lg font-semibold text-black"}," Toplantı Detayları ",-1),DU=M("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),MU=M("span",{class:"sr-only"},"Close modal",-1),NU=[DU,MU],LU={class:"px-6 py-4"},$U={class:"flex items-center justify-center space-x-4"},VU={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},FU={class:"text-sm"},UU={class:"text-4xl font-bold"},BU={class:"text-sm"},jU={class:"p-2"},qU=M("h2",{class:"text-xl font-bold"},"Toplantı Detayları",-1),HU={class:"flex items-center text-gray-500 space-x-2"},zU=M("i",{class:"ri-time-line text-lg"},null,-1),KU={class:"flex space-x-2 mt-2"},WU={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},YU={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},GU={class:"mb-4"},QU=M("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Randevu Sebebi",-1),XU={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},JU={class:"mb-4"},ZU={class:"bg-gray-50 border border-gray-300 rounded-lg flex flex-col items-center justify-center"},eB={class:"flex items-center space-x-2 text-gray-800 text-lg mx-3"},tB=M("div",{class:"mr-2"},"Kalan Süre:",-1),nB={key:0},rB={class:"flex items-center justify-center space-x-4 mt-2"},iB=["href"],oB={__name:"Status1Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=ge(()=>{if(n.meetingData.date_time&&n.meetingData.date_time.seconds){const a=new Date(n.meetingData.date_time.seconds*1e3)-new Date;return a>0?a:0}return 0});async function i(o){try{await navigator.clipboard.writeText(o)}catch{}}return(o,s)=>(ie(),le(Oe,null,[IU,M("div",SU,[M("div",RU,[M("div",OU,[M("div",PU,[CU,M("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},NU)]),M("div",LU,[M("div",$U,[M("div",VU,[M("div",FU,xe(t.formattedDate.month),1),M("div",UU,xe(t.formattedDate.dayNumber),1),M("div",BU,xe(t.formattedDate.dayName),1)]),M("div",jU,[qU,M("div",HU,[zU,M("span",null,xe(t.formattedDate.time)+" -",1),M("span",null,xe(t.formattedDate.meetingTimeEnd),1)]),M("div",KU,[M("span",WU,xe(t.meetingData.attorney_name),1),M("span",YU,xe(t.meetingData.customer_name),1)])])]),M("div",GU,[QU,M("p",XU,xe(t.meetingData.topic),1)]),M("div",JU,[M("div",ZU,[je(ae(xU),{class:"text-lg font-bold p-4",time:r.value},{default:He(({days:a,hours:l,minutes:f,seconds:u})=>[M("div",eB,[tB,a>1?(ie(),le("span",nB,xe(a)+" gün",1)):ye("",!0),M("span",null,xe(l)+" saat",1),M("span",null,xe(f)+" dakika",1),M("span",null,xe(u)+" saniye",1)])]),_:1},8,["time"])])]),M("div",rB,[M("a",{href:t.meetingData.meeting_url,target:"_blank",class:"text-white w-32 bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Katıl ",8,iB),M("button",{onClick:s[1]||(s[1]=a=>i(t.meetingData.meeting_url)),class:"bg-gray-200 text-xl ri-clipboard-line hover:bg-gray-300 px-2 py-2 rounded-md"})])])])])])],64))}},sB=M("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),aB={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},lB={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},uB={class:"relative bg-white rounded-lg shadow"},cB={class:"flex items-center justify-between p-4 border-b rounded-t"},dB=M("h3",{class:"text-lg font-semibold text-black"}," Reddedilme Edilme Sebebi ",-1),fB=M("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),hB=M("span",{class:"sr-only"},"Close modal",-1),pB=[fB,hB],mB={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},gB={class:"col-span-2"},vB=M("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),yB={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},_B={__name:"Status3Modal",props:{rejectReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ie(),le(Oe,null,[sB,M("div",aB,[M("div",lB,[M("div",uB,[M("div",cB,[dB,M("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},pB)]),M("div",mB,[M("div",gB,[vB,M("p",yB,xe(t.rejectReason),1)])])])])])],64))}};function Em(t,e="all"){if(!t)return"";if(t.seconds){const n=new Date(t.seconds*1e3),r=n.toLocaleDateString("tr-TR"),i=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),s=`${i}:${o}`,a=n.toLocaleDateString("tr-TR",{month:"short"}).toUpperCase(),l=n.getDate(),f=n.toLocaleDateString("tr-TR",{weekday:"long"});switch(e){case"date":return r;case"time":return s;case"month":return a;case"day-number":return l;case"day-name":return f;case"all":default:return{date:r,time:s,month:a,dayNumber:l,dayName:f}}}}function bk(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const bB=M("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),wB={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},EB={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},TB={class:"relative bg-white rounded-lg shadow"},AB={class:"flex items-center justify-between p-4 border-b rounded-t"},kB=M("h3",{class:"text-lg font-semibold text-black"}," İptal Edilme Sebebi ",-1),xB=M("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),IB=M("span",{class:"sr-only"},"Close modal",-1),SB=[xB,IB],RB={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},OB={class:"col-span-2"},PB=M("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),CB={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},DB={__name:"Status6Modal",props:{cancelReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ie(),le(Oe,null,[bB,M("div",wB,[M("div",EB,[M("div",TB,[M("div",AB,[kB,M("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},SB)]),M("div",RB,[M("div",OB,[PB,M("p",CB,xe(t.cancelReason),1)])])])])])],64))}},MB={__name:"StatusActionModalHandler",props:{meetingData:{type:Object,required:!0},keepStatusModalOpen:{type:Boolean,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=e,r=t;function i(a){const l=new Date(a*1e3);l.setHours(l.getHours()+1);const f=l.getHours().toString().padStart(2,"0"),u=l.getMinutes().toString().padStart(2,"0");return`${f}:${u}`}const o=ge(()=>{const a=r.meetingData.date_time,l=Em(a,"all");return l.meetingTimeEnd=i(a),l}),s=a=>{n("reject-meeting",a)};return(a,l)=>(ie(),le(Oe,null,[t.meetingData.status==="0"&&t.keepStatusModalOpen?(ie(),Ue(kU,{key:0,onClose:l[0]||(l[0]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value,onSetMeeting:l[1]||(l[1]=f=>a.$emit("set-meeting")),onRejectMeeting:s},null,8,["meetingData","formattedDate"])):ye("",!0),t.meetingData.status==="1"&&t.keepStatusModalOpen?(ie(),Ue(oB,{key:1,onClose:l[2]||(l[2]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value},null,8,["meetingData","formattedDate"])):ye("",!0),t.meetingData.status==="3"&&t.keepStatusModalOpen?(ie(),Ue(_B,{key:2,onClose:l[3]||(l[3]=f=>a.$emit("close")),rejectReason:t.meetingData.cancel_reason},null,8,["rejectReason"])):ye("",!0),t.meetingData.status==="6"&&t.keepStatusModalOpen?(ie(),Ue(DB,{key:3,onClose:l[4]||(l[4]=f=>a.$emit("close")),cancelReason:t.meetingData.cancel_reason},null,8,["cancelReason"])):ye("",!0)],64))}},Hi=t=>(Rd("data-v-fb428d19"),t=t(),Od(),t),NB=Hi(()=>M("div",{class:"flex justify-between mb-4 items-start"},[M("h1",{class:"font-medium"},"Online Görüşmeler")],-1)),LB={action:"",class:"flex items-center mb-4"},$B={class:"relative w-full mr-2"},VB=Hi(()=>M("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1)),FB={class:"flex"},UB={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},BB=Hi(()=>M("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),jB=Hi(()=>M("p",{class:"text-sm font-medium text-gray-800"},"Görüşme İstekleri",-1)),qB={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},HB=Hi(()=>M("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),zB=Hi(()=>M("p",{class:"text-sm font-medium text-gray-800"},"Kabul Edilenler",-1)),KB={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},WB=Hi(()=>M("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),YB=Hi(()=>M("p",{class:"text-sm font-medium text-gray-800"},"Beklemede Olanlar",-1)),GB={key:0,class:"w-full mt-4 table-fixed"},QB=Hi(()=>M("thead",null,[M("tr",null,[M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Avukat "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan Tel "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Tarih "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Saat "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Görüşme Türü "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Evrak "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Ödeme "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Durum ")])],-1)),XB={class:"py-2 px-4 border-b border-b-gray-200"},JB={class:"flex items-center"},ZB={class:"text-gray-600 text-sm font-medium hover:text-blue-500"},ej={class:"py-2 px-4 border-b border-b-gray-200"},tj={class:"text-[13px] font-medium text-gray-600"},nj={class:"py-2 px-4 border-b border-b-gray-200"},rj={class:"text-[13px] font-medium text-gray-600"},ij={class:"py-2 px-4 border-b border-b-gray-200"},oj={class:"text-[13px] font-medium text-gray-600"},sj={class:"py-2 px-4 border-b border-b-gray-200"},aj={class:"text-[13px] font-medium text-gray-600"},lj={class:"py-2 border-b px-4 border-b-gray-200"},uj={class:"tooltip"},cj={class:"w-10 h-10 flex items-center justify-center bg-gray-600 text-white text-xl font-medium rounded-full ml-2 ring-0"},dj={class:"tooltiptext"},fj={class:"py-2 px-4 border-b border-b-gray-200"},hj=["onClick"],pj={class:"py-2 border-b px-4 border-b-gray-200"},mj={class:"tooltip"},gj={class:"tooltiptext"},vj={class:"py-2 px-4 border-b border-b-gray-200"},yj={class:"tooltip"},_j=["onClick"],bj={class:"tooltiptext"},wj={class:"pagination-container flex justify-end mt-4 w-full"},Ej=["disabled"],Tj=["disabled"],Aj={__name:"OnlineMeetingsManagement",props:{showAll:Boolean,uid:String},emits:["goBack"],setup(t,{emit:e}){const n=Oo(),r=ge(()=>n.getters.userRole),i=t,o=e,s=he(null),a=he(!1),l=he(!1),f=he(!1),u=he(null),d=he([]),c=he({requests:!1,accepted:!1,pending:!1}),h=he(85),p=ge(()=>{const q={};return v.value.forEach(W=>{q[W.status]?q[W.status]++:q[W.status]=1}),q}),g=ge(()=>v.value.filter(q=>q.status==="1").length),y=ge(()=>{const q={};return v.value.forEach(te=>{q[te.attorney_name]?q[te.attorney_name]++:q[te.attorney_name]=1}),Object.entries(q).sort((te,ne)=>ne[1]-te[1]).map(([te,ne])=>({name:te,meetings:ne})).slice(0,3)}),v=he([]),_=tu(lr,"meetings"),b=ge(()=>v.value.length),m=he(1),w=he(10),k=he(""),S=()=>{o("goBack")},E=async(q,W,te)=>"test-url",I=async q=>{console.log("Exception data to add:",q);try{const W=Jn(lr,"attorneys",q.attorney_id),te=await va(W);if(te.exists()){const ce=te.data().exceptions||[];delete q.attorney_id,ce.push(q),await Pi(W,{exceptions:ce})}}catch(W){console.error("Error fetching attorney by ID:",W)}},x=async q=>{console.log("Exception data to delete:",q);try{const W=Jn(lr,"attorneys",q.attorney_id),te=await va(W);if(te.exists()){const re=(te.data().exceptions||[]).filter(pe=>pe.meeting_id!==q.meeting_id);await Pi(W,{exceptions:re})}}catch(W){console.error("Error fetching attorney by ID:",W)}};async function A(){v.value=await Promise.all(v.value.map(async q=>{if(q.id===s.value.id){q.status="1",console.log("Meeting data to set meeting",q);try{const W=await E(q.date_time,q.attorney_email,q.customer_email);q.meeting_url=W,await Q(q),await I({date:q.date,startTime:q.slot,endTime:q.end_time,repeat:!1,isMeeting:!0,attorney_id:q.attorney_id,meeting_id:q.id}),console.log("Meeting updated successfully:",q),s.value={}}catch(W){console.error("Failed to create meeting URL:",W)}}return q}))}function T(q){v.value=v.value.map(W=>(W.id===s.value.id&&(W.status="3",W.cancel_reason=q,W.payment_status="2",Q(W),l.value=!1),W))}function R(q,W){a.value=!0,u.value=q,d.value=W}function N(q){l.value=!0,s.value=q,f.value=!0}const C=ge(()=>{let q=v.value;k.value&&(q=q.filter(ce=>ce.customer_name.toLowerCase().includes(k.value.toLowerCase())));const{requests:W,accepted:te,pending:ne}=c.value;return(W||te||ne)&&(q=q.filter(ce=>{let re=!1;return W&&ce.status==="0"&&(re=!0),te&&ce.status==="1"&&(re=!0),ne&&ce.status==="4"&&(re=!0),re})),q}),O=ge(()=>(m.value-1)*w.value),P=ge(()=>{if(C.value.length===0){const q=O.value,W=q+w.value;return v.value.slice(q,W)}else return C.value.slice(O.value,O.value+w.value)}),X=ge(()=>C.value.length===0?Math.ceil(v.value.length/w.value):Math.ceil(C.value.length/w.value)),H=()=>{m.value<X.value&&m.value++},U=()=>{m.value>1&&m.value--};he(null);const $=q=>{switch(q){case"0":return{color:"bg-blue-300 hover:bg-blue-400",text:"İstek",icon:"ri-user-add-line"};case"1":return{color:"bg-green-300 hover:bg-green-400 ",text:"Kabul edildi",icon:"ri-calendar-check-line"};case"2":return{color:"bg-gray-300 hover:bg-gray-400 ",text:"Tamamlandı",icon:"ri-check-line"};case"3":return{color:"bg-red-300 hover:bg-red-400 ",text:"Reddedildi",icon:"ri-close-line"};case"4":return{color:"bg-orange-200",text:"Müşteri onayı",icon:"ri-time-line"};case"5":return{color:"bg-orange-200",text:"Avukat onayı",icon:"ri-time-line"};case"6":return{color:"bg-gray-600 text-white hover:bg-gray-700 ",text:"İptal Edildi",icon:"ri-calendar-close-line"};default:return{color:"bg-gray-200",text:"Unknown status",icon:"ri-question-line"}}},F=q=>$(q).color,D=q=>$(q).icon,K=q=>$(q).text,z=q=>{switch(q){case"0":return{class:"bg-orange-300",text:"Bekleniyor",icon:"ri-time-line"};case"1":return{class:"bg-green-300",text:"Ödendi",icon:"ri-check-double-line"};case"2":return{class:"bg-red-300",text:"Ödenmedi",icon:"ri-close-line"};default:return{class:"bg-gray-200",text:"Bilinmiyor",icon:"ri-question-line"}}},B=q=>z(q).class,V=q=>z(q).icon,Z=q=>z(q).text,Y=q=>{switch(q){case"phone":return{class:"bg-orange-300",text:"Telefonla Görüşme",icon:"ri-phone-line"};case"video":return{class:"bg-green-300",text:"Online Video Görüşme",icon:"ri-video-on-line"};case"inPerson":return{class:"bg-red-300",text:"Yüzyüze Görüşme",icon:"ri-user-line"};default:return{class:"bg-gray-200",icon:"ri-question-line"}}},oe=q=>Y(q).icon,ue=q=>Y(q).text;async function ee(){let q=[];return(await fd(_)).forEach(te=>{q.push({id:te.id,...te.data()})}),q}async function j(){try{const q=localStorage.getItem("cachedMeetings"),W=localStorage.getItem("cachedTimeMeetings"),te=0*60*1e3;if(q&&W&&new Date-new Date(parseInt(W))<te)return JSON.parse(q);{const ne=await ee();return localStorage.setItem("cachedMeetings",JSON.stringify(ne)),localStorage.setItem("cachedTimeMeetings",new Date().getTime().toString()),ne}}catch(q){return console.error("Error getting meetings:",q),[]}}async function Q(q){console.log("Received updated meeting data:",q);try{console.log("Updating document with ID:",q.id),await Pi(Jn(lr,"meetings",q.id),q),localStorage.setItem("cachedMeetings",JSON.stringify(v.value))}catch(W){console.error("Error updating meeting document:",W)}}function G(q){const W={1:1,0:2,4:3,5:3,2:4,3:5,6:6,7:7};return q.sort((te,ne)=>{const ce=W[te.status]-W[ne.status];if(ce!==0)return ce;{const re=new Date(te.date_time.seconds*1e3),pe=new Date(ne.date_time.seconds*1e3);return re-pe}})}const de=q=>{const W=new Date(q.deadline.seconds*1e3);if(new Date>W&&q.status==="1"){const ne=Jn(lr,"meetings",q.id);return Pi(ne,{status:"6",cancel_reason:"Ödeme süresi geçti.",payment_status:"2"}),x({attorney_id:q.attorney_id,meeting_id:q.id}),!0}else return!1};return gt(async()=>{const q=await j();q.forEach(te=>{const ne=de(te);console.log(q.indexOf(te),ne),te.deadline_exceeded=ne});const W=G(q);i.showAll?v.value=W:v.value=W.filter(te=>te.attorney_id===i.uid),console.log("Meetings data:",v.value)}),(q,W)=>(ie(),le("div",null,[r.value==="admin"?(ie(),le("button",{key:0,onClick:S,class:"bg-green-700 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön ")):ye("",!0),je(B9,{show:a.value,onClose:W[0]||(W[0]=te=>a.value=!1),customerDocuments:d.value,customerNotes:u.value},null,8,["show","customerDocuments","customerNotes"]),l.value?(ie(),Ue(MB,{key:1,keepStatusModalOpen:f.value,meetingData:s.value,onSetMeeting:A,onRejectMeeting:T,onClose:W[1]||(W[1]=te=>l.value=!1)},null,8,["keepStatusModalOpen","meetingData"])):ye("",!0),je(l9,{totalMeetings:b.value,approvedMeetings:g.value,satisfactionRate:h.value,meetingStatusSummary:p.value,topAttorneys:y.value,showTopAttorneys:i.showAll,showAttorneySchedule:!i.showAll},null,8,["totalMeetings","approvedMeetings","satisfactionRate","meetingStatusSummary","topAttorneys","showTopAttorneys","showAttorneySchedule"]),je(_k,{class:"p-6"},{default:He(()=>{var te;return[NB,M("form",LB,[M("div",$B,[bt(M("input",{"onUpdate:modelValue":W[2]||(W[2]=ne=>k.value=ne),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Müşteri ismine göre ara..."},null,512),[[di,k.value]]),VB])]),M("div",FB,[M("label",UB,[bt(M("input",{"onUpdate:modelValue":W[3]||(W[3]=ne=>c.value.requests=ne),type:"checkbox",class:"sr-only peer"},null,512),[[Qs,c.value.requests]]),BB,jB]),M("label",qB,[bt(M("input",{"onUpdate:modelValue":W[4]||(W[4]=ne=>c.value.accepted=ne),type:"checkbox",class:"sr-only peer"},null,512),[[Qs,c.value.accepted]]),HB,zB]),M("label",KB,[bt(M("input",{"onUpdate:modelValue":W[5]||(W[5]=ne=>c.value.pending=ne),type:"checkbox",class:"sr-only peer"},null,512),[[Qs,c.value.pending]]),WB,YB])]),(te=v.value)!=null&&te.length?(ie(),le("table",GB,[QB,M("tbody",null,[(ie(!0),le(Oe,null,Qe(P.value,ne=>(ie(),le("tr",{key:ne.id},[M("td",XB,[M("div",JB,[M("span",ZB,xe(ne.attorney_name),1)])]),M("td",ej,[M("span",tj,xe(ne.customer_name),1)]),M("td",nj,[M("span",rj,xe(ne.customer_phone),1)]),M("td",ij,[M("span",oj,xe(ae(Em)(ne.date_time,q.format="date")),1)]),M("td",sj,[M("span",aj,xe(ae(Em)(ne.date_time,q.format="time")),1)]),M("td",lj,[M("div",uj,[M("div",cj,[M("i",{class:Ke(oe(ne.type))},null,2),M("span",dj,xe(ue(ne.type)),1)])])]),M("td",fj,[M("button",{onClick:ce=>R(ne.notes,ne.customer_documents),class:"ri-file-text-line flex items-center justify-center ml-2 text-lg bg-yellow-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,hj)]),M("td",pj,[M("div",mj,[M("div",{class:Ke(["w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0",B(ne.payment_status)])},[M("i",{class:Ke(V(ne.payment_status))},null,2),M("span",gj,xe(Z(ne.payment_status)),1)],2)])]),M("td",vj,[M("div",yj,[M("button",{onClick:ce=>N(ne),class:Ke([F(ne.status),"w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0 focus:ring-[0.12rem] focus:ring-gray-600 focus:outline-none"])},[M("i",{class:Ke(D(ne.status))},null,2)],10,_j),M("span",bj,xe(K(ne.status)),1)])])]))),128))])])):ye("",!0),M("div",wj,[M("button",{onClick:U,disabled:m.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,Ej),M("button",{onClick:H,disabled:m.value===X.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,Tj)])]}),_:1})]))}},kj=Yr(Aj,[["__scopeId","data-v-fb428d19"]]),e1={__name:"OnlineMeetings",setup(t){const e=he(!0),n=Oo(),r=ge(()=>n.getters.userRole),i=ge(()=>n.getters.user?n.getters.user.uid:null),o=he("");r.value!=="admin"&&(o.value=i.value,e.value=!1);const s=a=>{o.value=a,e.value=!1};return(a,l)=>r.value==="admin"&&e.value?(ie(),Ue(d6,{key:0,onOptionSelected:s})):(ie(),Ue(kj,{key:1,showAll:o.value==="showAll",uid:o.value,onGoBack:l[0]||(l[0]=f=>e.value=!0)},null,8,["showAll","uid"]))}},xj={key:0,id:"deleteModal",class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},Ij={class:"bg-white rounded-lg p-4 max-w-sm w-full"},Sj=M("div",{class:"mb-4"},[M("p",{class:"text-gray-800 text-sm"},"Bu blog yazısını silmek istediğinize emin misiniz?")],-1),Rj={class:"flex justify-end"},Oj={__name:"DeleteModal",props:{show:Boolean},setup(t){return(e,n)=>t.show?(ie(),le("div",xj,[M("div",Ij,[Sj,M("div",Rj,[M("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),id:"cancelDelete",class:"bg-gray-300 text-gray-800 rounded px-4 py-2 mr-2"},"Hayır"),M("button",{onClick:n[1]||(n[1]=r=>e.$emit("delete")),id:"confirmDelete",class:"bg-red-600 text-white rounded px-4 py-2"},"Evet")])])])):ye("",!0)}};var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ek={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Rn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),f=i(46),u=i(47),d=i(48),c=i(49),h=i(12),p=i(32),g=i(33),y=i(31),v=i(1),_={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:u.default,Inline:f.default,Text:c.default,Attributor:{Attribute:h.default,Class:p.default,Style:g.default,Store:y.default}};r.default=_},function(n,r,i){var o=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var b in _)_.hasOwnProperty(b)&&(v[b]=_[b])};return function(v,_){y(v,_);function b(){this.constructor=v}v.prototype=_===null?Object.create(_):(b.prototype=_.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(y){o(v,y);function v(_){var b=this;return _="[Parchment] "+_,b=y.call(this,_)||this,b.message=_,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=s;var a={},l={},f={},u={};r.DATA_KEY="__blot";var d;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function c(y,v){var _=p(y);if(_==null)throw new s("Unable to create "+y+" blot");var b=_,m=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:b.create(v);return new b(m,v)}r.create=c;function h(y,v){return v===void 0&&(v=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:v?h(y.parentNode,v):null}r.find=h;function p(y,v){v===void 0&&(v=d.ANY);var _;if(typeof y=="string")_=u[y]||a[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)_=u.text;else if(typeof y=="number")y&d.LEVEL&d.BLOCK?_=u.block:y&d.LEVEL&d.INLINE&&(_=u.inline);else if(y instanceof HTMLElement){var b=(y.getAttribute("class")||"").split(/\s+/);for(var m in b)if(_=l[b[m]],_)break;_=_||f[y.tagName]}return _==null?null:v&d.LEVEL&_.scope&&v&d.TYPE&_.scope?_:null}r.query=p;function g(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(y.length>1)return y.map(function(m){return g(m)});var _=y[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new s("Invalid definition");if(_.blotName==="abstract")throw new s("Cannot register abstract class");if(u[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(m){return m.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var b=Array.isArray(_.tagName)?_.tagName:[_.tagName];b.forEach(function(m){(f[m]==null||_.className==null)&&(f[m]=_)})}return _}r.register=g},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),f="\0",u=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};u.prototype.insert=function(d,c){var h={};return d.length===0?this:(h.insert=d,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h))},u.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},u.prototype.retain=function(d,c){if(d<=0)return this;var h={retain:d};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h)},u.prototype.push=function(d){var c=this.ops.length,h=this.ops[c-1];if(d=a(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[c-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(c-=1,h=this.ops[c-1],typeof h!="object"))return this.ops.unshift(d),this;if(s(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[c-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[c-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[c-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[c-1].attributes=d.attributes),this}}return c===this.ops.length?this.ops.push(d):this.ops.splice(c,0,d),this},u.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},u.prototype.filter=function(d){return this.ops.filter(d)},u.prototype.forEach=function(d){this.ops.forEach(d)},u.prototype.map=function(d){return this.ops.map(d)},u.prototype.partition=function(d){var c=[],h=[];return this.forEach(function(p){var g=d(p)?c:h;g.push(p)}),[c,h]},u.prototype.reduce=function(d,c){return this.ops.reduce(d,c)},u.prototype.changeLength=function(){return this.reduce(function(d,c){return c.insert?d+l.length(c):c.delete?d-c.delete:d},0)},u.prototype.length=function(){return this.reduce(function(d,c){return d+l.length(c)},0)},u.prototype.slice=function(d,c){d=d||0,typeof c!="number"&&(c=1/0);for(var h=[],p=l.iterator(this.ops),g=0;g<c&&p.hasNext();){var y;g<d?y=p.next(d-g):(y=p.next(c-g),h.push(y)),g+=l.length(y)}return new u(h)},u.prototype.compose=function(d){var c=l.iterator(this.ops),h=l.iterator(d.ops),p=[],g=h.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var y=g.retain;c.peekType()==="insert"&&c.peekLength()<=y;)y-=c.peekLength(),p.push(c.next());g.retain-y>0&&h.next(g.retain-y)}for(var v=new u(p);c.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(c.peekType()==="delete")v.push(c.next());else{var _=Math.min(c.peekLength(),h.peekLength()),b=c.next(_),m=h.next(_);if(typeof m.retain=="number"){var w={};typeof b.retain=="number"?w.retain=_:w.insert=b.insert;var k=l.attributes.compose(b.attributes,m.attributes,typeof b.retain=="number");if(k&&(w.attributes=k),v.push(w),!h.hasNext()&&s(v.ops[v.ops.length-1],w)){var S=new u(c.rest());return v.concat(S).chop()}}else typeof m.delete=="number"&&typeof b.retain=="number"&&v.push(m)}return v.chop()},u.prototype.concat=function(d){var c=new u(this.ops.slice());return d.ops.length>0&&(c.push(d.ops[0]),c.ops=c.ops.concat(d.ops.slice(1))),c},u.prototype.diff=function(d,c){if(this.ops===d.ops)return new u;var h=[this,d].map(function(_){return _.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:f;var m=_===d?"on":"with";throw new Error("diff() called "+m+" non-document")}).join("")}),p=new u,g=o(h[0],h[1],c),y=l.iterator(this.ops),v=l.iterator(d.ops);return g.forEach(function(_){for(var b=_[1].length;b>0;){var m=0;switch(_[0]){case o.INSERT:m=Math.min(v.peekLength(),b),p.push(v.next(m));break;case o.DELETE:m=Math.min(b,y.peekLength()),y.next(m),p.delete(m);break;case o.EQUAL:m=Math.min(y.peekLength(),v.peekLength(),b);var w=y.next(m),k=v.next(m);s(w.insert,k.insert)?p.retain(m,l.attributes.diff(w.attributes,k.attributes)):p.push(k).delete(m);break}b-=m}}),p.chop()},u.prototype.eachLine=function(d,c){c=c||`
`;for(var h=l.iterator(this.ops),p=new u,g=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),v=l.length(y)-h.peekLength(),_=typeof y.insert=="string"?y.insert.indexOf(c,v)-v:-1;if(_<0)p.push(h.next());else if(_>0)p.push(h.next(_));else{if(d(p,h.next(1).attributes||{},g)===!1)return;g+=1,p=new u}}p.length()>0&&d(p,{},g)},u.prototype.transform=function(d,c){if(c=!!c,typeof d=="number")return this.transformPosition(d,c);for(var h=l.iterator(this.ops),p=l.iterator(d.ops),g=new u;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(c||p.peekType()!=="insert"))g.retain(l.length(h.next()));else if(p.peekType()==="insert")g.push(p.next());else{var y=Math.min(h.peekLength(),p.peekLength()),v=h.next(y),_=p.next(y);if(v.delete)continue;_.delete?g.push(_):g.retain(y,l.attributes.transform(v.attributes,_.attributes,c))}return g.chop()},u.prototype.transformPosition=function(d,c){c=!!c;for(var h=l.iterator(this.ops),p=0;h.hasNext()&&p<=d;){var g=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){d-=Math.min(g,d-p);continue}else y==="insert"&&(p<d||!c)&&(d+=g);p+=g}return d},n.exports=u},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},f=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),g=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!g)return!1;var y;for(y in h);return typeof y>"u"||i.call(h,y)},u=function(h,p){s&&p.name==="__proto__"?s(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},d=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(a)return a(h,p).value}else return;return h[p]};n.exports=function c(){var h,p,g,y,v,_,b=arguments[0],m=1,w=arguments.length,k=!1;for(typeof b=="boolean"&&(k=b,b=arguments[1]||{},m=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});m<w;++m)if(h=arguments[m],h!=null)for(p in h)g=d(b,p),y=d(h,p),b!==y&&(k&&y&&(f(y)||(v=l(y)))?(v?(v=!1,_=g&&l(g)?g:[]):_=g&&f(g)?g:{},u(b,{name:p,newValue:c(k,_,y)})):typeof y<"u"&&u(b,{name:p,newValue:y}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function A(T,R){for(var N=0;N<R.length;N++){var C=R[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,R,N){return R&&A(T.prototype,R),N&&A(T,N),T}}(),s=function A(T,R,N){T===null&&(T=Function.prototype);var C=Object.getOwnPropertyDescriptor(T,R);if(C===void 0){var O=Object.getPrototypeOf(T);return O===null?void 0:A(O,R,N)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(N)}},a=i(3),l=b(a),f=i(2),u=b(f),d=i(0),c=b(d),h=i(16),p=b(h),g=i(6),y=b(g),v=i(7),_=b(v);function b(A){return A&&A.__esModule?A:{default:A}}function m(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function w(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function k(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var S=1,E=function(A){k(T,A);function T(){return m(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"attach",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,C){var O=c.default.query(N,c.default.Scope.BLOCK_ATTRIBUTE);O!=null&&this.attributes.attribute(O,C)}},{key:"formatAt",value:function(N,C,O,P){this.format(O,P)}},{key:"insertAt",value:function(N,C,O){if(typeof C=="string"&&C.endsWith(`
`)){var P=c.default.create(I.blotName);this.parent.insertBefore(P,N===0?this:this.next),P.insertAt(0,C.slice(0,-1))}else s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,N,C,O)}}]),T}(c.default.Embed);E.scope=c.default.Scope.BLOCK_BLOT;var I=function(A){k(T,A);function T(R){m(this,T);var N=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R));return N.cache={},N}return o(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(N,C){return C.length()===0?N:N.insert(C.value(),x(C))},new u.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function(N,C){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,N,C),this.cache={}}},{key:"formatAt",value:function(N,C,O,P){C<=0||(c.default.query(O,c.default.Scope.BLOCK)?N+C===this.length()&&this.format(O,P):s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,N,Math.min(C,this.length()-N-1),O,P),this.cache={})}},{key:"insertAt",value:function(N,C,O){if(O!=null)return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,N,C,O);if(C.length!==0){var P=C.split(`
`),X=P.shift();X.length>0&&(N<this.length()-1||this.children.tail==null?s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),X):this.children.tail.insertAt(this.children.tail.length(),X),this.cache={});var H=this;P.reduce(function(U,$){return H=H.split(U,!0),H.insertAt(0,$),$.length},N+X.length)}}},{key:"insertBefore",value:function(N,C){var O=this.children.head;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,N,C),O instanceof p.default&&O.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(N,C){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,N,C),this.cache={}}},{key:"optimize",value:function(N){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C&&(N===0||N>=this.length()-S)){var O=this.clone();return N===0?(this.parent.insertBefore(O,this),this):(this.parent.insertBefore(O,this.next),O)}else{var P=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,N,C);return this.cache={},P}}}]),T}(c.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[y.default,c.default.Embed,_.default];function x(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(T=(0,l.default)(T,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?T:x(A.parent,T)}r.bubbleFormats=x,r.BlockEmbed=E,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(U,$){var F=[],D=!0,K=!1,z=void 0;try{for(var B=U[Symbol.iterator](),V;!(D=(V=B.next()).done)&&(F.push(V.value),!($&&F.length===$));D=!0);}catch(Z){K=!0,z=Z}finally{try{!D&&B.return&&B.return()}finally{if(K)throw z}}return F}return function(U,$){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return H(U,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(U,$){for(var F=0;F<$.length;F++){var D=$[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(U,D.key,D)}}return function(U,$,F){return $&&H(U.prototype,$),F&&H(U,F),U}}();i(50);var l=i(2),f=x(l),u=i(14),d=x(u),c=i(8),h=x(c),p=i(9),g=x(p),y=i(0),v=x(y),_=i(15),b=x(_),m=i(3),w=x(m),k=i(10),S=x(k),E=i(34),I=x(E);function x(H){return H&&H.__esModule?H:{default:H}}function A(H,U,$){return U in H?Object.defineProperty(H,U,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[U]=$,H}function T(H,U){if(!(H instanceof U))throw new TypeError("Cannot call a class as a function")}var R=(0,S.default)("quill"),N=function(){a(H,null,[{key:"debug",value:function($){$===!0&&($="log"),S.default.level($)}},{key:"find",value:function($){return $.__quill||v.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&R.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var z=$.attrName||$.blotName;typeof z=="string"?this.register("formats/"+z,$,F):Object.keys($).forEach(function(B){D.register(B,$[B],F)})}else this.imports[$]!=null&&!K&&R.warn("Overwriting "+$+" with",F),this.imports[$]=F,($.startsWith("blots/")||$.startsWith("formats/"))&&F.blotName!=="abstract"?v.default.register(F):$.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function H(U){var $=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,H),this.options=C(U,F),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",U);this.options.debug&&H.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(z){z===h.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(z,B){var V=$.selection.lastRange,Z=V&&V.length===0?V.index:void 0;O.call($,function(){return $.editor.update(null,B,Z)},z)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var D=$;$=document.createElement("div"),$.classList.add(D)}return this.container.insertBefore($,F),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,F,D){var K=this,z=P($,F,D),B=s(z,4);return $=B[0],F=B[1],D=B[3],O.call(this,function(){return K.editor.deleteText($,F)},D,$,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return O.call(this,function(){var z=D.getSelection(!0),B=new f.default;if(z==null)return B;if(v.default.query($,v.default.Scope.BLOCK))B=D.editor.formatLine(z.index,z.length,A({},$,F));else{if(z.length===0)return D.selection.format($,F),B;B=D.editor.formatText(z.index,z.length,A({},$,F))}return D.setSelection(z,h.default.sources.SILENT),B},K)}},{key:"formatLine",value:function($,F,D,K,z){var B=this,V=void 0,Z=P($,F,D,K,z),Y=s(Z,4);return $=Y[0],F=Y[1],V=Y[2],z=Y[3],O.call(this,function(){return B.editor.formatLine($,F,V)},z,$,0)}},{key:"formatText",value:function($,F,D,K,z){var B=this,V=void 0,Z=P($,F,D,K,z),Y=s(Z,4);return $=Y[0],F=Y[1],V=Y[2],z=Y[3],O.call(this,function(){return B.editor.formatText($,F,V)},z,$,0)}},{key:"getBounds",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof $=="number"?D=this.selection.getBounds($,F):D=this.selection.getBounds($.index,$.length);var K=this.container.getBoundingClientRect();return{bottom:D.bottom-K.top,height:D.height,left:D.left-K.left,right:D.right-K.left,top:D.top-K.top,width:D.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,D=P($,F),K=s(D,2);return $=K[0],F=K[1],this.editor.getContents($,F)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,F):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,F)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,D=P($,F),K=s(D,2);return $=K[0],F=K[1],this.editor.getText($,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,F,D){var K=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return O.call(this,function(){return K.editor.insertEmbed($,F,D)},z,$)}},{key:"insertText",value:function($,F,D,K,z){var B=this,V=void 0,Z=P($,0,D,K,z),Y=s(Z,4);return $=Y[0],V=Y[2],z=Y[3],O.call(this,function(){return B.editor.insertText($,F,V)},z,$,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,F,D){this.clipboard.dangerouslyPasteHTML($,F,D)}},{key:"removeFormat",value:function($,F,D){var K=this,z=P($,F,D),B=s(z,4);return $=B[0],F=B[1],D=B[3],O.call(this,function(){return K.editor.removeFormat($,F)},D,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var F=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return O.call(this,function(){$=new f.default($);var K=F.getLength(),z=F.editor.deleteText(0,K),B=F.editor.applyDelta($),V=B.ops[B.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),B.delete(1));var Z=z.compose(B);return Z},D)}},{key:"setSelection",value:function($,F,D){if($==null)this.selection.setRange(null,F||H.sources.API);else{var K=P($,F,D),z=s(K,4);$=z[0],F=z[1],D=z[3],this.selection.setRange(new _.Range($,F),D),D!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,D=new f.default().insert($);return this.setContents(D,F)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,F=this.scroll.update($);return this.selection.update($),F}},{key:"updateContents",value:function($){var F=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return O.call(this,function(){return $=new f.default($),F.editor.applyDelta($,D)},D,!0)}}]),H}();N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=h.default.events,N.sources=h.default.sources,N.version="1.3.7",N.imports={delta:f.default,parchment:v.default,"core/module":g.default,"core/theme":I.default};function C(H,U){if(U=(0,w.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},U),!U.theme||U.theme===N.DEFAULTS.theme)U.theme=I.default;else if(U.theme=N.import("themes/"+U.theme),U.theme==null)throw new Error("Invalid theme "+U.theme+". Did you register it?");var $=(0,w.default)(!0,{},U.theme.DEFAULTS);[$,U].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(z){K.modules[z]===!0&&(K.modules[z]={})})});var F=Object.keys($.modules).concat(Object.keys(U.modules)),D=F.reduce(function(K,z){var B=N.import("modules/"+z);return B==null?R.error("Cannot load "+z+" module. Are you sure you registered it?"):K[z]=B.DEFAULTS||{},K},{});return U.modules!=null&&U.modules.toolbar&&U.modules.toolbar.constructor!==Object&&(U.modules.toolbar={container:U.modules.toolbar}),U=(0,w.default)(!0,{},N.DEFAULTS,{modules:D},$,U),["bounds","container","scrollingContainer"].forEach(function(K){typeof U[K]=="string"&&(U[K]=document.querySelector(U[K]))}),U.modules=Object.keys(U.modules).reduce(function(K,z){return U.modules[z]&&(K[z]=U.modules[z]),K},{}),U}function O(H,U,$,F){if(this.options.strict&&!this.isEnabled()&&U===h.default.sources.USER)return new f.default;var D=$==null?null:this.getSelection(),K=this.editor.delta,z=H();if(D!=null&&($===!0&&($=D.index),F==null?D=X(D,z,U):F!==0&&(D=X(D,$,F,U)),this.setSelection(D,h.default.sources.SILENT)),z.length()>0){var B,V=[h.default.events.TEXT_CHANGE,z,K,U];if((B=this.emitter).emit.apply(B,[h.default.events.EDITOR_CHANGE].concat(V)),U!==h.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,V)}}return z}function P(H,U,$,F,D){var K={};return typeof H.index=="number"&&typeof H.length=="number"?typeof U!="number"?(D=F,F=$,$=U,U=H.length,H=H.index):(U=H.length,H=H.index):typeof U!="number"&&(D=F,F=$,$=U,U=0),(typeof $>"u"?"undefined":o($))==="object"?(K=$,D=F):typeof $=="string"&&(F!=null?K[$]=F:D=$),D=D||h.default.sources.API,[H,U,K,D]}function X(H,U,$,F){if(H==null)return null;var D=void 0,K=void 0;if(U instanceof f.default){var z=[H.index,H.index+H.length].map(function(Y){return U.transformPosition(Y,F!==h.default.sources.USER)}),B=s(z,2);D=B[0],K=B[1]}else{var V=[H.index,H.index+H.length].map(function(Y){return Y<U||Y===U&&F===h.default.sources.USER?Y:$>=0?Y+$:Math.max(U,Y+$)}),Z=s(V,2);D=Z[0],K=Z[1]}return new _.Range(D,K-D)}r.expandConfig=C,r.overload=P,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var m=_[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,_);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(b)}},a=i(7),l=d(a),f=i(0),u=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var g=function(y){p(v,y);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"formatAt",value:function(b,m,w,k){if(v.compare(this.statics.blotName,w)<0&&u.default.query(w,u.default.Scope.BLOT)){var S=this.isolate(b,m);k&&S.wrap(w,k)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,m,w,k)}},{key:"optimize",value:function(b){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var m=this.parent.isolate(this.offset(),this.length());this.moveChildren(m),m.wrap(this)}}}],[{key:"compare",value:function(b,m){var w=v.order.indexOf(b),k=v.order.indexOf(m);return w>=0||k>=0?w-k:b===m?0:b<m?-1:1}}]),v}(u.default.Inline);g.allowedChildren=[g,u.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){u(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(b,m){for(var w=0;w<m.length;w++){var k=m[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,m,w){return m&&_(b.prototype,m),w&&_(b,w),b}}(),s=function _(b,m,w){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,m);if(k===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:_(S,m,w)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(w)}},a=i(54),l=d(a),f=i(10),u=d(f);function d(_){return _&&_.__esModule?_:{default:_}}function c(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function p(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var g=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(_){document.addEventListener(_,function(){for(var b=arguments.length,m=Array(b),w=0;w<b;w++)m[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,m)}})})});var v=function(_){p(b,_);function b(){c(this,b);var m=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return m.listeners={},m.on("error",g.error),m}return o(b,[{key:"emit",value:function(){g.log.apply(g,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var k=arguments.length,S=Array(k>1?k-1:0),E=1;E<k;E++)S[E-1]=arguments[E];(this.listeners[w.type]||[]).forEach(function(I){var x=I.node,A=I.handler;(w.target===x||x.contains(w.target))&&A.apply(void 0,[w].concat(S))})}},{key:"listenDOM",value:function(w,k,S){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:k,handler:S})}}]),b}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=f};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(f){if(o.indexOf(f)<=o.indexOf(s)){for(var u,d=arguments.length,c=Array(d>1?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];(u=console)[f].apply(u,c)}}function l(f){return o.reduce(function(u,d){return u[d]=a.bind(console,d,f),u},{})}a.level=l.level=function(f){s=f},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(c,h,p){return p||(p={}),c===h?!0:c instanceof Date&&h instanceof Date?c.getTime()===h.getTime():!c||!h||typeof c!="object"&&typeof h!="object"?p.strict?c===h:c==h:d(c,h,p)};function f(c){return c==null}function u(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function d(c,h,p){var g,y;if(f(c)||f(h)||c.prototype!==h.prototype)return!1;if(a(c))return a(h)?(c=o.call(c),h=o.call(h),l(c,h,p)):!1;if(u(c)){if(!u(h)||c.length!==h.length)return!1;for(g=0;g<c.length;g++)if(c[g]!==h[g])return!1;return!0}try{var v=s(c),_=s(h)}catch{return!1}if(v.length!=_.length)return!1;for(v.sort(),_.sort(),g=v.length-1;g>=0;g--)if(v[g]!=_[g])return!1;for(g=v.length-1;g>=0;g--)if(y=v[g],!l(c[y],h[y],p))return!1;return typeof c==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,f,u){u===void 0&&(u={}),this.attrName=l,this.keyName=f;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(f){return f.name})},a.prototype.add=function(l,f){return this.canAdd(l,f)?(l.setAttribute(this.keyName,f),!0):!1},a.prototype.canAdd=function(l,f){var u=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var f=l.getAttribute(this.keyName);return this.canAdd(l,f)&&f?f:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function E(I,x){var A=[],T=!0,R=!1,N=void 0;try{for(var C=I[Symbol.iterator](),O;!(T=(O=C.next()).done)&&(A.push(O.value),!(x&&A.length===x));T=!0);}catch(P){R=!0,N=P}finally{try{!T&&C.return&&C.return()}finally{if(R)throw N}}return A}return function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return E(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(I,x){for(var A=0;A<x.length;A++){var T=x[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,x,A){return x&&E(I.prototype,x),A&&E(I,A),I}}(),a=function E(I,x,A){I===null&&(I=Function.prototype);var T=Object.getOwnPropertyDescriptor(I,x);if(T===void 0){var R=Object.getPrototypeOf(I);return R===null?void 0:E(R,x,A)}else{if("value"in T)return T.value;var N=T.get;return N===void 0?void 0:N.call(A)}},l=i(2),f=_(l),u=i(0),d=_(u),c=i(4),h=_(c),p=i(6),g=_(p),y=i(7),v=_(y);function _(E){return E&&E.__esModule?E:{default:E}}function b(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}function m(E,I){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:E}function w(E,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}var k=function(E){w(I,E);function I(){return b(this,I),m(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(g.default);k.blotName="code",k.tagName="CODE";var S=function(E){w(I,E);function I(){return b(this,I),m(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"delta",value:function(){var A=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(R,N){return R.insert(N).insert(`
`,A.formats())},new f.default)}},{key:"format",value:function(A,T){if(!(A===this.statics.blotName&&T)){var R=this.descendant(v.default,this.length()-1),N=o(R,1),C=N[0];C!=null&&C.deleteAt(C.length()-1,1),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,A,T)}}},{key:"formatAt",value:function(A,T,R,N){if(T!==0&&!(d.default.query(R,d.default.Scope.BLOCK)==null||R===this.statics.blotName&&N===this.statics.formats(this.domNode))){var C=this.newlineIndex(A);if(!(C<0||C>=A+T)){var O=this.newlineIndex(A,!0)+1,P=C-O+1,X=this.isolate(O,P),H=X.next;X.format(R,N),H instanceof I&&H.formatAt(0,A-O+T-P,R,N)}}}},{key:"insertAt",value:function(A,T,R){if(R==null){var N=this.descendant(v.default,A),C=o(N,2),O=C[0],P=C[1];O.insertAt(P,T)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var R=this.domNode.textContent.slice(A).indexOf(`
`);return R>-1?A+R:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(A),T.moveChildren(this),T.remove())}},{key:"replace",value:function(A){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var R=d.default.find(T);R==null?T.parentNode.removeChild(T):R instanceof d.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(A){var T=a(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,A);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),I}(h.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=k,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(U,$){var F=[],D=!0,K=!1,z=void 0;try{for(var B=U[Symbol.iterator](),V;!(D=(V=B.next()).done)&&(F.push(V.value),!($&&F.length===$));D=!0);}catch(Z){K=!0,z=Z}finally{try{!D&&B.return&&B.return()}finally{if(K)throw z}}return F}return function(U,$){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return H(U,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(U,$){for(var F=0;F<$.length;F++){var D=$[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(U,D.key,D)}}return function(U,$,F){return $&&H(U.prototype,$),F&&H(U,F),U}}(),l=i(2),f=T(l),u=i(20),d=T(u),c=i(0),h=T(c),p=i(13),g=T(p),y=i(24),v=T(y),_=i(4),b=T(_),m=i(16),w=T(m),k=i(21),S=T(k),E=i(11),I=T(E),x=i(3),A=T(x);function T(H){return H&&H.__esModule?H:{default:H}}function R(H,U,$){return U in H?Object.defineProperty(H,U,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[U]=$,H}function N(H,U){if(!(H instanceof U))throw new TypeError("Cannot call a class as a function")}var C=/^[ -~]*$/,O=function(){function H(U){N(this,H),this.scroll=U,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function($){var F=this,D=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),$=X($),$.reduce(function(z,B){var V=B.retain||B.delete||B.insert.length||1,Z=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var Y=B.insert;Y.endsWith(`
`)&&D&&(D=!1,Y=Y.slice(0,-1)),z>=K&&!Y.endsWith(`
`)&&(D=!0),F.scroll.insertAt(z,Y);var oe=F.scroll.line(z),ue=s(oe,2),ee=ue[0],j=ue[1],Q=(0,A.default)({},(0,_.bubbleFormats)(ee));if(ee instanceof b.default){var G=ee.descendant(h.default.Leaf,j),de=s(G,1),q=de[0];Q=(0,A.default)(Q,(0,_.bubbleFormats)(q))}Z=d.default.attributes.diff(Q,Z)||{}}else if(o(B.insert)==="object"){var W=Object.keys(B.insert)[0];if(W==null)return z;F.scroll.insertAt(z,W,B.insert[W])}K+=V}return Object.keys(Z).forEach(function(te){F.scroll.formatAt(z,V,te,Z[te])}),z+V},0),$.reduce(function(z,B){return typeof B.delete=="number"?(F.scroll.deleteAt(z,B.delete),z):z+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,F){return this.scroll.deleteAt($,F),this.update(new f.default().retain($).delete(F))}},{key:"formatLine",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(z){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[z])){var B=D.scroll.lines($,Math.max(F,1)),V=F;B.forEach(function(Z){var Y=Z.length();if(!(Z instanceof g.default))Z.format(z,K[z]);else{var oe=$-Z.offset(D.scroll),ue=Z.newlineIndex(oe+V)-oe+1;Z.formatAt(oe,ue,z,K[z])}V-=Y})}}),this.scroll.optimize(),this.update(new f.default().retain($).retain(F,(0,S.default)(K)))}},{key:"formatText",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(z){D.scroll.formatAt($,F,z,K[z])}),this.update(new f.default().retain($).retain(F,(0,S.default)(K)))}},{key:"getContents",value:function($,F){return this.delta.slice($,$+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,F){return $.concat(F.delta())},new f.default)}},{key:"getFormat",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],K=[];F===0?this.scroll.path($).forEach(function(B){var V=s(B,1),Z=V[0];Z instanceof b.default?D.push(Z):Z instanceof h.default.Leaf&&K.push(Z)}):(D=this.scroll.lines($,F),K=this.scroll.descendants(h.default.Leaf,$,F));var z=[D,K].map(function(B){if(B.length===0)return{};for(var V=(0,_.bubbleFormats)(B.shift());Object.keys(V).length>0;){var Z=B.shift();if(Z==null)return V;V=P((0,_.bubbleFormats)(Z),V)}return V});return A.default.apply(A.default,z)}},{key:"getText",value:function($,F){return this.getContents($,F).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function($,F,D){return this.scroll.insertAt($,F,D),this.update(new f.default().retain($).insert(R({},F,D)))}},{key:"insertText",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,F),Object.keys(K).forEach(function(z){D.scroll.formatAt($,F.length,z,K[z])}),this.update(new f.default().retain($).insert(F,(0,S.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==b.default.blotName||$.children.length>1?!1:$.children.head instanceof w.default}},{key:"removeFormat",value:function($,F){var D=this.getText($,F),K=this.scroll.line($+F),z=s(K,2),B=z[0],V=z[1],Z=0,Y=new f.default;B!=null&&(B instanceof g.default?Z=B.newlineIndex(V)-V+1:Z=B.length()-V,Y=B.delta().slice(V,V+Z-1).insert(`
`));var oe=this.getContents($,F+Z),ue=oe.diff(new f.default().insert(D).concat(Y)),ee=new f.default().retain($).concat(ue);return this.applyDelta(ee)}},{key:"update",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(C)&&h.default.find(F[0].target)){var z=h.default.find(F[0].target),B=(0,_.bubbleFormats)(z),V=z.offset(this.scroll),Z=F[0].oldValue.replace(v.default.CONTENTS,""),Y=new f.default().insert(Z),oe=new f.default().insert(z.value()),ue=new f.default().retain(V).concat(Y.diff(oe,D));$=ue.reduce(function(ee,j){return j.insert?ee.insert(j.insert,B):ee.push(j)},new f.default),this.delta=K.compose($)}else this.delta=this.getDelta(),(!$||!(0,I.default)(K.compose($),this.delta))&&($=K.diff(this.delta,D));return $}}]),H}();function P(H,U){return Object.keys(U).reduce(function($,F){return H[F]==null||(U[F]===H[F]?$[F]=U[F]:Array.isArray(U[F])?U[F].indexOf(H[F])<0&&($[F]=U[F].concat([H[F]])):$[F]=[U[F],H[F]]),$},{})}function X(H){return H.reduce(function(U,$){if($.insert===1){var F=(0,S.default)($.attributes);return delete F.image,U.insert({image:$.attributes.image},F)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,S.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var D=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return U.insert(D,$.attributes)}return U.push($)},new f.default)}r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function E(I,x){var A=[],T=!0,R=!1,N=void 0;try{for(var C=I[Symbol.iterator](),O;!(T=(O=C.next()).done)&&(A.push(O.value),!(x&&A.length===x));T=!0);}catch(P){R=!0,N=P}finally{try{!T&&C.return&&C.return()}finally{if(R)throw N}}return A}return function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return E(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(I,x){for(var A=0;A<x.length;A++){var T=x[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,x,A){return x&&E(I.prototype,x),A&&E(I,A),I}}(),a=i(0),l=v(a),f=i(21),u=v(f),d=i(11),c=v(d),h=i(8),p=v(h),g=i(10),y=v(g);function v(E){return E&&E.__esModule?E:{default:E}}function _(E){if(Array.isArray(E)){for(var I=0,x=Array(E.length);I<E.length;I++)x[I]=E[I];return x}else return Array.from(E)}function b(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}var m=(0,y.default)("quill:selection"),w=function E(I){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,E),this.index=I,this.length=x},k=function(){function E(I,x){var A=this;b(this,E),this.emitter=x,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(T,R){T===p.default.events.TEXT_CHANGE&&R.length()>0&&A.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var T=A.getNativeRange();T!=null&&T.start.node!==A.cursor.textNode&&A.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(T,R){if(R.range){var N=R.range,C=N.startNode,O=N.startOffset,P=N.endNode,X=N.endOffset;A.setNativeRange(C,O,P,X)}}),this.update(p.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var A=x.cursor.restore();if(!A)return;setTimeout(function(){x.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||l.default.query(x,l.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var R=l.default.find(T.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var N=R.split(T.start.offset);R.parent.insertBefore(this.cursor,N)}else R.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(x,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();x=Math.min(x,T-1),A=Math.min(x+A,T-1)-x;var R=void 0,N=this.scroll.leaf(x),C=o(N,2),O=C[0],P=C[1];if(O==null)return null;var X=O.position(P,!0),H=o(X,2);R=H[0],P=H[1];var U=document.createRange();if(A>0){U.setStart(R,P);var $=this.scroll.leaf(x+A),F=o($,2);if(O=F[0],P=F[1],O==null)return null;var D=O.position(P,!0),K=o(D,2);return R=K[0],P=K[1],U.setEnd(R,P),U.getBoundingClientRect()}else{var z="left",B=void 0;return R instanceof Text?(P<R.data.length?(U.setStart(R,P),U.setEnd(R,P+1)):(U.setStart(R,P-1),U.setEnd(R,P),z="right"),B=U.getBoundingClientRect()):(B=O.domNode.getBoundingClientRect(),P>0&&(z="right")),{bottom:B.top+B.height,height:B.height,left:B[z],right:B[z],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var A=x.getRangeAt(0);if(A==null)return null;var T=this.normalizeNative(A);return m.info("getNativeRange",T),T}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var A=this.normalizedToRange(x);return[A,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var A=this,T=[[x.start.node,x.start.offset]];x.native.collapsed||T.push([x.end.node,x.end.offset]);var R=T.map(function(O){var P=o(O,2),X=P[0],H=P[1],U=l.default.find(X,!0),$=U.offset(A.scroll);return H===0?$:U instanceof l.default.Container?$+U.length():$+U.index(X,H)}),N=Math.min(Math.max.apply(Math,_(R)),this.scroll.length()-1),C=Math.min.apply(Math,[N].concat(_(R)));return new w(C,N-C)}},{key:"normalizeNative",value:function(x){if(!S(this.root,x.startContainer)||!x.collapsed&&!S(this.root,x.endContainer))return null;var A={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[A.start,A.end].forEach(function(T){for(var R=T.node,N=T.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>N)R=R.childNodes[N],N=0;else if(R.childNodes.length===N)R=R.lastChild,N=R instanceof Text?R.data.length:R.childNodes.length+1;else break;T.node=R,T.offset=N}),A}},{key:"rangeToNative",value:function(x){var A=this,T=x.collapsed?[x.index]:[x.index,x.index+x.length],R=[],N=this.scroll.length();return T.forEach(function(C,O){C=Math.min(N-1,C);var P=void 0,X=A.scroll.leaf(C),H=o(X,2),U=H[0],$=H[1],F=U.position($,O!==0),D=o(F,2);P=D[0],$=D[1],R.push(P,$)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(x){var A=this.lastRange;if(A!=null){var T=this.getBounds(A.index,A.length);if(T!=null){var R=this.scroll.length()-1,N=this.scroll.line(Math.min(A.index,R)),C=o(N,1),O=C[0],P=O;if(A.length>0){var X=this.scroll.line(Math.min(A.index+A.length,R)),H=o(X,1);P=H[0]}if(!(O==null||P==null)){var U=x.getBoundingClientRect();T.top<U.top?x.scrollTop-=U.top-T.top:T.bottom>U.bottom&&(x.scrollTop+=T.bottom-U.bottom)}}}}},{key:"setNativeRange",value:function(x,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(m.info("setNativeRange",x,A,T,R),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||T.parentNode==null))){var C=document.getSelection();if(C!=null)if(x!=null){this.hasFocus()||this.root.focus();var O=(this.getNativeRange()||{}).native;if(O==null||N||x!==O.startContainer||A!==O.startOffset||T!==O.endContainer||R!==O.endOffset){x.tagName=="BR"&&(A=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),T.tagName=="BR"&&(R=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var P=document.createRange();P.setStart(x,A),P.setEnd(T,R),C.removeAllRanges(),C.addRange(P)}}else C.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof A=="string"&&(T=A,A=!1),m.info("setRange",x),x!=null){var R=this.rangeToNative(x);this.setNativeRange.apply(this,_(R).concat([A]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,A=this.lastRange,T=this.getRange(),R=o(T,2),N=R[0],C=R[1];if(this.lastRange=N,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(A,this.lastRange)){var O;!this.composing&&C!=null&&C.native.collapsed&&C.start.node!==this.cursor.textNode&&this.cursor.restore();var P=[p.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(A),x];if((O=this.emitter).emit.apply(O,[p.default.events.EDITOR_CHANGE].concat(P)),x!==p.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,P)}}}}]),E}();function S(E,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),E.contains(I)}r.Range=w,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&p(g.prototype,y),v&&p(g,v),g}}(),s=function p(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var m=_.get;return m===void 0?void 0:m.call(v)}},a=i(0),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=function(p){c(g,p);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"insertInto",value:function(v,_){v.children.length===0?s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,v,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])};return function(c,h){d(c,h);function p(){this.constructor=c}c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),f=function(d){o(c,d);function c(h){var p=d.call(this,h)||this;return p.build(),p}return c.prototype.appendChild=function(h){this.insertBefore(h)},c.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},c.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var g=u(p);h.insertBefore(g,h.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},c.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(g,y,v){g.deleteAt(y,v)})},c.prototype.descendant=function(h,p){var g=this.children.find(p),y=g[0],v=g[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,v]:y instanceof c?y.descendant(h,v):[null,-1]},c.prototype.descendants=function(h,p,g){p===void 0&&(p=0),g===void 0&&(g=Number.MAX_VALUE);var y=[],v=g;return this.children.forEachAt(p,g,function(_,b,m){(h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h)&&y.push(_),_ instanceof c&&(y=y.concat(_.descendants(h,b,v))),v-=m}),y},c.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},c.prototype.formatAt=function(h,p,g,y){this.children.forEachAt(h,p,function(v,_,b){v.formatAt(_,b,g,y)})},c.prototype.insertAt=function(h,p,g){var y=this.children.find(h),v=y[0],_=y[1];if(v)v.insertAt(_,p,g);else{var b=g==null?l.create("text",p):l.create(p,g);this.appendChild(b)}},c.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return h instanceof g}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},c.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},c.prototype.moveChildren=function(h,p){this.children.forEach(function(g){h.insertBefore(g,p)})},c.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=l.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},c.prototype.path=function(h,p){p===void 0&&(p=!1);var g=this.children.find(h,p),y=g[0],v=g[1],_=[[this,h]];return y instanceof c?_.concat(y.path(v,p)):(y!=null&&_.push([y,v]),_)},c.prototype.removeChild=function(h){this.children.remove(h)},c.prototype.replace=function(h){h instanceof c&&h.moveChildren(this),d.prototype.replace.call(this,h)},c.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(h,this.length(),function(y,v,_){y=y.split(v,p),g.appendChild(y)}),g},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(h,p){var g=this,y=[],v=[];h.forEach(function(_){_.target===g.domNode&&_.type==="childList"&&(y.push.apply(y,_.addedNodes),v.push.apply(v,_.removedNodes))}),v.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(_);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===g.domNode)&&b.detach()}}),y.filter(function(_){return _.parentNode==g.domNode}).sort(function(_,b){return _===b?0:_.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var b=null;_.nextSibling!=null&&(b=l.find(_.nextSibling));var m=u(_);(m.next!=b||m.next==null)&&(m.parent!=null&&m.parent.removeChild(g),g.insertBefore(m,b||void 0))})},c}(a.default);function u(d){var c=l.find(d);if(c==null)try{c=l.create(d)}catch{c=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){c.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(c.domNode,d),c.attach()}return c}r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])};return function(c,h){d(c,h);function p(){this.constructor=c}c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),f=i(1),u=function(d){o(c,d);function c(h){var p=d.call(this,h)||this;return p.attributes=new a.default(p.domNode),p}return c.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},c.prototype.format=function(h,p){var g=f.query(h);g instanceof s.default?this.attributes.attribute(g,p):p&&g!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},c.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},c.prototype.replaceWith=function(h,p){var g=d.prototype.replaceWith.call(this,h,p);return this.attributes.copy(g),g},c.prototype.update=function(h,p){var g=this;d.prototype.update.call(this,h,p),h.some(function(y){return y.target===g.domNode&&y.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(h,p){var g=d.prototype.wrap.call(this,h,p);return g instanceof c&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},c}(l.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var c in d)d.hasOwnProperty(c)&&(u[c]=d[c])};return function(u,d){f(u,d);function c(){this.constructor=u}u.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.value=function(d){return!0},u.prototype.index=function(d,c){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},u.prototype.position=function(d,c){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},u.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(f,u,d){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var c=s(!0,{},u);d||(c=Object.keys(c).reduce(function(p,g){return c[g]!=null&&(p[g]=c[g]),p},{}));for(var h in f)f[h]!==void 0&&u[h]===void 0&&(c[h]=f[h]);return Object.keys(c).length>0?c:void 0},diff:function(f,u){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var d=Object.keys(f).concat(Object.keys(u)).reduce(function(c,h){return o(f[h],u[h])||(c[h]=u[h]===void 0?null:u[h]),c},{});return Object.keys(d).length>0?d:void 0},transform:function(f,u,d){if(typeof f!="object")return u;if(typeof u=="object"){if(!d)return u;var c=Object.keys(u).reduce(function(h,p){return f[p]===void 0&&(h[p]=u[p]),h},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(f){return new l(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function l(f){this.ops=f,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(f){f||(f=1/0);var u=this.ops[this.index];if(u){var d=this.offset,c=a.length(u);if(f>=c-d?(f=c-d,this.index+=1,this.offset=0):this.offset+=f,typeof u.delete=="number")return{delete:f};var h={};return u.attributes&&(h.attributes=u.attributes),typeof u.retain=="number"?h.retain=f:typeof u.insert=="string"?h.insert=u.insert.substr(d,f):h.insert=u.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,u=this.index,d=this.next(),c=this.ops.slice(this.index);return this.offset=f,this.index=u,[d].concat(c)}else return[]},n.exports=a},function(n,r){var i=function(){function o(g,y){return y!=null&&g instanceof y}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function f(g,y,v,_,b){typeof y=="object"&&(v=y.depth,_=y.prototype,b=y.includeNonEnumerable,y=y.circular);var m=[],w=[],k=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof v>"u"&&(v=1/0);function S(E,I){if(E===null)return null;if(I===0)return E;var x,A;if(typeof E!="object")return E;if(o(E,s))x=new s;else if(o(E,a))x=new a;else if(o(E,l))x=new l(function(U,$){E.then(function(F){U(S(F,I-1))},function(F){$(S(F,I-1))})});else if(f.__isArray(E))x=[];else if(f.__isRegExp(E))x=new RegExp(E.source,p(E)),E.lastIndex&&(x.lastIndex=E.lastIndex);else if(f.__isDate(E))x=new Date(E.getTime());else{if(k&&Buffer.isBuffer(E))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(E.length):x=new Buffer(E.length),E.copy(x),x;o(E,Error)?x=Object.create(E):typeof _>"u"?(A=Object.getPrototypeOf(E),x=Object.create(A)):(x=Object.create(_),A=_)}if(y){var T=m.indexOf(E);if(T!=-1)return w[T];m.push(E),w.push(x)}o(E,s)&&E.forEach(function(U,$){var F=S($,I-1),D=S(U,I-1);x.set(F,D)}),o(E,a)&&E.forEach(function(U){var $=S(U,I-1);x.add($)});for(var R in E){var N;A&&(N=Object.getOwnPropertyDescriptor(A,R)),!(N&&N.set==null)&&(x[R]=S(E[R],I-1))}if(Object.getOwnPropertySymbols)for(var C=Object.getOwnPropertySymbols(E),R=0;R<C.length;R++){var O=C[R],P=Object.getOwnPropertyDescriptor(E,O);P&&!P.enumerable&&!b||(x[O]=S(E[O],I-1),P.enumerable||Object.defineProperty(x,O,{enumerable:!1}))}if(b)for(var X=Object.getOwnPropertyNames(E),R=0;R<X.length;R++){var H=X[R],P=Object.getOwnPropertyDescriptor(E,H);P&&P.enumerable||(x[H]=S(E[H],I-1),Object.defineProperty(x,H,{enumerable:!1}))}return x}return S(g,v)}f.clonePrototype=function(y){if(y===null)return null;var v=function(){};return v.prototype=y,new v};function u(g){return Object.prototype.toString.call(g)}f.__objToStr=u;function d(g){return typeof g=="object"&&u(g)==="[object Date]"}f.__isDate=d;function c(g){return typeof g=="object"&&u(g)==="[object Array]"}f.__isArray=c;function h(g){return typeof g=="object"&&u(g)==="[object RegExp]"}f.__isRegExp=h;function p(g){var y="";return g.global&&(y+="g"),g.ignoreCase&&(y+="i"),g.multiline&&(y+="m"),y}return f.__getRegExpFlags=p,f}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function x(A,T){var R=[],N=!0,C=!1,O=void 0;try{for(var P=A[Symbol.iterator](),X;!(N=(X=P.next()).done)&&(R.push(X.value),!(T&&R.length===T));N=!0);}catch(H){C=!0,O=H}finally{try{!N&&P.return&&P.return()}finally{if(C)throw O}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return x(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function x(A,T){for(var R=0;R<T.length;R++){var N=T[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,T,R){return T&&x(A.prototype,T),R&&x(A,R),A}}(),a=function x(A,T,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,T);if(N===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:x(C,T,R)}else{if("value"in N)return N.value;var O=N.get;return O===void 0?void 0:O.call(R)}},l=i(0),f=m(l),u=i(8),d=m(u),c=i(4),h=m(c),p=i(16),g=m(p),y=i(13),v=m(y),_=i(25),b=m(_);function m(x){return x&&x.__esModule?x:{default:x}}function w(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function k(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function S(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}function E(x){return x instanceof h.default||x instanceof c.BlockEmbed}var I=function(x){S(A,x);function A(T,R){w(this,A);var N=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T));return N.emitter=R.emitter,Array.isArray(R.whitelist)&&(N.whitelist=R.whitelist.reduce(function(C,O){return C[O]=!0,C},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return s(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,N){var C=this.line(R),O=o(C,2),P=O[0],X=O[1],H=this.line(R+N),U=o(H,1),$=U[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,N),$!=null&&P!==$&&X>0){if(P instanceof c.BlockEmbed||$ instanceof c.BlockEmbed){this.optimize();return}if(P instanceof v.default){var F=P.newlineIndex(P.length(),!0);if(F>-1&&(P=P.split(F+1),P===$)){this.optimize();return}}else if($ instanceof v.default){var D=$.newlineIndex(0);D>-1&&$.split(D+1)}var K=$.children.head instanceof g.default?null:$.children.head;P.moveChildren($,K),P.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,N,C,O){this.whitelist!=null&&!this.whitelist[C]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,N,C,O),this.optimize())}},{key:"insertAt",value:function(R,N,C){if(!(C!=null&&this.whitelist!=null&&!this.whitelist[N])){if(R>=this.length())if(C==null||f.default.query(N,f.default.Scope.BLOCK)==null){var O=f.default.create(this.statics.defaultChild);this.appendChild(O),C==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),O.insertAt(0,N,C)}else{var P=f.default.create(N,C);this.appendChild(P)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,N,C);this.optimize()}}},{key:"insertBefore",value:function(R,N){if(R.statics.scope===f.default.Scope.INLINE_BLOT){var C=f.default.create(this.statics.defaultChild);C.appendChild(R),R=C}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,N)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(E,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,C=function O(P,X,H){var U=[],$=H;return P.children.forEachAt(X,H,function(F,D,K){E(F)?U.push(F):F instanceof f.default.Container&&(U=U.concat(O(F,D,$))),$-=K}),U};return C(this,R,N)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R,N),R.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,R,N))}},{key:"path",value:function(R){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var N=d.default.sources.USER;typeof R=="string"&&(N=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,N,R),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,N,R)}}}]),A}(f.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[h.default,c.BlockEmbed,b.default],r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(V,Z){var Y=[],oe=!0,ue=!1,ee=void 0;try{for(var j=V[Symbol.iterator](),Q;!(oe=(Q=j.next()).done)&&(Y.push(Q.value),!(Z&&Y.length===Z));oe=!0);}catch(G){ue=!0,ee=G}finally{try{!oe&&j.return&&j.return()}finally{if(ue)throw ee}}return Y}return function(V,Z){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return B(V,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(V,Z){for(var Y=0;Y<Z.length;Y++){var oe=Z[Y];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(V,oe.key,oe)}}return function(V,Z,Y){return Z&&B(V.prototype,Z),Y&&B(V,Y),V}}(),l=i(21),f=x(l),u=i(11),d=x(u),c=i(3),h=x(c),p=i(2),g=x(p),y=i(20),v=x(y),_=i(0),b=x(_),m=i(5),w=x(m),k=i(10),S=x(k),E=i(9),I=x(E);function x(B){return B&&B.__esModule?B:{default:B}}function A(B,V,Z){return V in B?Object.defineProperty(B,V,{value:Z,enumerable:!0,configurable:!0,writable:!0}):B[V]=Z,B}function T(B,V){if(!(B instanceof V))throw new TypeError("Cannot call a class as a function")}function R(B,V){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:B}function N(B,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);B.prototype=Object.create(V&&V.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(B,V):B.__proto__=V)}var C=(0,S.default)("quill:keyboard"),O=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",P=function(B){N(V,B),a(V,null,[{key:"match",value:function(Y,oe){return oe=z(oe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!oe[ue]!==Y[ue]&&oe[ue]!==null})?!1:oe.key===(Y.which||Y.keyCode)}}]);function V(Z,Y){T(this,V);var oe=R(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Z,Y));return oe.bindings={},Object.keys(oe.options.bindings).forEach(function(ue){ue==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||oe.options.bindings[ue]&&oe.addBinding(oe.options.bindings[ue])}),oe.addBinding({key:V.keys.ENTER,shiftKey:null},F),oe.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(oe.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},H),oe.addBinding({key:V.keys.DELETE},{collapsed:!0},U)):(oe.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),oe.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},U)),oe.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},$),oe.addBinding({key:V.keys.DELETE},{collapsed:!1},$),oe.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),oe.listen(),oe}return a(V,[{key:"addBinding",value:function(Y){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=z(Y);if(ee==null||ee.key==null)return C.warn("Attempted to add invalid keyboard binding",ee);typeof oe=="function"&&(oe={handler:oe}),typeof ue=="function"&&(ue={handler:ue}),ee=(0,h.default)(ee,oe,ue),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(oe){if(!oe.defaultPrevented){var ue=oe.which||oe.keyCode,ee=(Y.bindings[ue]||[]).filter(function(Ce){return V.match(oe,Ce)});if(ee.length!==0){var j=Y.quill.getSelection();if(!(j==null||!Y.quill.hasFocus())){var Q=Y.quill.getLine(j.index),G=s(Q,2),de=G[0],q=G[1],W=Y.quill.getLeaf(j.index),te=s(W,2),ne=te[0],ce=te[1],re=j.length===0?[ne,ce]:Y.quill.getLeaf(j.index+j.length),pe=s(re,2),ve=pe[0],be=pe[1],Ie=ne instanceof b.default.Text?ne.value().slice(0,ce):"",Ne=ve instanceof b.default.Text?ve.value().slice(be):"",Re={collapsed:j.length===0,empty:j.length===0&&de.length()<=1,format:Y.quill.getFormat(j),offset:q,prefix:Ie,suffix:Ne},Ye=ee.some(function(Ce){if(Ce.collapsed!=null&&Ce.collapsed!==Re.collapsed||Ce.empty!=null&&Ce.empty!==Re.empty||Ce.offset!=null&&Ce.offset!==Re.offset)return!1;if(Array.isArray(Ce.format)){if(Ce.format.every(function(tt){return Re.format[tt]==null}))return!1}else if(o(Ce.format)==="object"&&!Object.keys(Ce.format).every(function(tt){return Ce.format[tt]===!0?Re.format[tt]!=null:Ce.format[tt]===!1?Re.format[tt]==null:(0,d.default)(Ce.format[tt],Re.format[tt])}))return!1;return Ce.prefix!=null&&!Ce.prefix.test(Re.prefix)||Ce.suffix!=null&&!Ce.suffix.test(Re.suffix)?!1:Ce.handler.call(Y,j,Re)!==!0});Ye&&oe.preventDefault()}}}})}}]),V}(I.default);P.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},P.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:P.keys.TAB,format:["blockquote","indent","list"],handler:function(V,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:P.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:P.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,Z){Z.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:P.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,w.default.sources.USER)}},tab:{key:P.keys.TAB,handler:function(V){this.quill.history.cutoff();var Z=new g.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(Z,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,w.default.sources.SILENT)}},"list empty enter":{key:P.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,Z){this.quill.format("list",!1,w.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:P.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var Z=this.quill.getLine(V.index),Y=s(Z,2),oe=Y[0],ue=Y[1],ee=(0,h.default)({},oe.formats(),{list:"checked"}),j=new g.default().retain(V.index).insert(`
`,ee).retain(oe.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(j,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:P.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,Z){var Y=this.quill.getLine(V.index),oe=s(Y,2),ue=oe[0],ee=oe[1],j=new g.default().retain(V.index).insert(`
`,Z.format).retain(ue.length()-ee-1).retain(1,{header:null});this.quill.updateContents(j,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,Z){var Y=Z.prefix.length,oe=this.quill.getLine(V.index),ue=s(oe,2),ee=ue[0],j=ue[1];if(j>Y)return!0;var Q=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":Q="unchecked";break;case"[x]":Q="checked";break;case"-":case"*":Q="bullet";break;default:Q="ordered"}this.quill.insertText(V.index," ",w.default.sources.USER),this.quill.history.cutoff();var G=new g.default().retain(V.index-j).delete(Y+1).retain(ee.length()-2-j).retain(1,{list:Q});this.quill.updateContents(G,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-Y,w.default.sources.SILENT)}},"code exit":{key:P.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var Z=this.quill.getLine(V.index),Y=s(Z,2),oe=Y[0],ue=Y[1],ee=new g.default().retain(V.index+oe.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,w.default.sources.USER)}},"embed left":X(P.keys.LEFT,!1),"embed left shift":X(P.keys.LEFT,!0),"embed right":X(P.keys.RIGHT,!1),"embed right shift":X(P.keys.RIGHT,!0)}};function X(B,V){var Z,Y=B===P.keys.LEFT?"prefix":"suffix";return Z={key:B,shiftKey:V,altKey:null},A(Z,Y,/^$/),A(Z,"handler",function(ue){var ee=ue.index;B===P.keys.RIGHT&&(ee+=ue.length+1);var j=this.quill.getLeaf(ee),Q=s(j,1),G=Q[0];return G instanceof b.default.Embed?(B===P.keys.LEFT?V?this.quill.setSelection(ue.index-1,ue.length+1,w.default.sources.USER):this.quill.setSelection(ue.index-1,w.default.sources.USER):V?this.quill.setSelection(ue.index,ue.length+1,w.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,w.default.sources.USER),!1):!0}),Z}function H(B,V){if(!(B.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(B.index),Y=s(Z,1),oe=Y[0],ue={};if(V.offset===0){var ee=this.quill.getLine(B.index-1),j=s(ee,1),Q=j[0];if(Q!=null&&Q.length()>1){var G=oe.formats(),de=this.quill.getFormat(B.index-1,1);ue=v.default.attributes.diff(G,de)||{}}}var q=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(B.index-q,q,w.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(B.index-q,q,ue,w.default.sources.USER),this.quill.focus()}}function U(B,V){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(B.index>=this.quill.getLength()-Z)){var Y={},oe=0,ue=this.quill.getLine(B.index),ee=s(ue,1),j=ee[0];if(V.offset>=j.length()-1){var Q=this.quill.getLine(B.index+1),G=s(Q,1),de=G[0];if(de){var q=j.formats(),W=this.quill.getFormat(B.index,1);Y=v.default.attributes.diff(q,W)||{},oe=de.length()}}this.quill.deleteText(B.index,Z,w.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(B.index+oe-1,Z,Y,w.default.sources.USER)}}function $(B){var V=this.quill.getLines(B),Z={};if(V.length>1){var Y=V[0].formats(),oe=V[V.length-1].formats();Z=v.default.attributes.diff(oe,Y)||{}}this.quill.deleteText(B,w.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(B.index,1,Z,w.default.sources.USER),this.quill.setSelection(B.index,w.default.sources.SILENT),this.quill.focus()}function F(B,V){var Z=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var Y=Object.keys(V.format).reduce(function(oe,ue){return b.default.query(ue,b.default.Scope.BLOCK)&&!Array.isArray(V.format[ue])&&(oe[ue]=V.format[ue]),oe},{});this.quill.insertText(B.index,`
`,Y,w.default.sources.USER),this.quill.setSelection(B.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(oe){Y[oe]==null&&(Array.isArray(V.format[oe])||oe!=="link"&&Z.quill.format(oe,V.format[oe],w.default.sources.USER))})}function D(B){return{key:P.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(Z){var Y=b.default.query("code-block"),oe=Z.index,ue=Z.length,ee=this.quill.scroll.descendant(Y,oe),j=s(ee,2),Q=j[0],G=j[1];if(Q!=null){var de=this.quill.getIndex(Q),q=Q.newlineIndex(G,!0)+1,W=Q.newlineIndex(de+G+ue),te=Q.domNode.textContent.slice(q,W).split(`
`);G=0,te.forEach(function(ne,ce){B?(Q.insertAt(q+G,Y.TAB),G+=Y.TAB.length,ce===0?oe+=Y.TAB.length:ue+=Y.TAB.length):ne.startsWith(Y.TAB)&&(Q.deleteAt(q+G,Y.TAB.length),G-=Y.TAB.length,ce===0?oe-=Y.TAB.length:ue-=Y.TAB.length),G+=ne.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(oe,ue,w.default.sources.SILENT)}}}}function K(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(Z,Y){this.quill.format(B,!Y.format[B],w.default.sources.USER)}}}function z(B){if(typeof B=="string"||typeof B=="number")return z({key:B});if((typeof B>"u"?"undefined":o(B))==="object"&&(B=(0,f.default)(B,!1)),typeof B.key=="string")if(P.keys[B.key.toUpperCase()]!=null)B.key=P.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[O]=B.shortKey,delete B.shortKey),B}r.default=P,r.SHORTKEY=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(_,b){var m=[],w=!0,k=!1,S=void 0;try{for(var E=_[Symbol.iterator](),I;!(w=(I=E.next()).done)&&(m.push(I.value),!(b&&m.length===b));w=!0);}catch(x){k=!0,S=x}finally{try{!w&&E.return&&E.return()}finally{if(k)throw S}}return m}return function(_,b){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return v(_,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(_,b,m){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,m)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(m)}},a=function(){function v(_,b){for(var m=0;m<b.length;m++){var w=b[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,m){return b&&v(_.prototype,b),m&&v(_,m),_}}(),l=i(0),f=c(l),u=i(7),d=c(u);function c(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function p(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function g(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var y=function(v){g(_,v),a(_,null,[{key:"value",value:function(){}}]);function _(b,m){h(this,_);var w=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return w.selection=m,w.textNode=document.createTextNode(_.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(m,w){if(this._length!==0)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,m,w);for(var k=this,S=0;k!=null&&k.statics.scope!==f.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=_.CONTENTS.length,k.optimize(),k.formatAt(S,_.CONTENTS.length,m,w),this._length=0)}},{key:"index",value:function(m,w){return m===this.textNode?0:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,m,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var m=this.textNode,w=this.selection.getNativeRange(),k=void 0,S=void 0,E=void 0;if(w!=null&&w.start.node===m&&w.end.node===m){var I=[m,w.start.offset,w.end.offset];k=I[0],S=I[1],E=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var x=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof d.default?(k=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=_.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var A=[S,E].map(function(R){return Math.max(0,Math.min(k.data.length,R-1))}),T=o(A,2);return S=T[0],E=T[1],{startNode:k,startOffset:S,endNode:k,endOffset:E}}}}},{key:"update",value:function(m,w){var k=this;if(m.some(function(E){return E.type==="characterData"&&E.target===k.textNode})){var S=this.restore();S&&(w.range=S)}}},{key:"value",value:function(){return""}}]),_}(f.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=f(o),a=i(4),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=function(p){c(g,p);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var m=_[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,_);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=f(a);function f(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function c(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){c(v,y);function v(){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(b){var m=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return m.startsWith("rgb(")?(m=m.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+m.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):m}}]),v}(l.default.Attributor.Style),p=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=p,r.ColorStyle=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function g(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&g(y.prototype,v),_&&g(y,_),y}}(),s=function g(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:g(m,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(6),l=f(a);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function c(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){c(y,g);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(_,b){if(_!==this.statics.blotName||!b)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(_){var b=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return _=this.sanitize(_),b.setAttribute("href",_),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return p(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),y}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(g,y){var v=document.createElement("a");v.href=g;var _=v.href.slice(0,v.href.indexOf(":"));return y.indexOf(_)>-1}r.default=h,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(v,_){for(var b=0;b<_.length;b++){var m=_[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),a=i(23),l=d(a),f=i(107),u=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function p(y,v){y.setAttribute(v,y.getAttribute(v)!=="true")}var g=function(){function y(v){var _=this;c(this,y),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var b=this,m=document.createElement("span");return m.tabIndex="0",m.setAttribute("role","button"),m.classList.add("ql-picker-item"),_.hasAttribute("value")&&m.setAttribute("data-value",_.getAttribute("value")),_.textContent&&m.setAttribute("data-label",_.textContent),m.addEventListener("click",function(){b.selectItem(m,!0)}),m.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.selectItem(m,!0),w.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),m}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=u.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(m){var w=_.buildItem(m);b.appendChild(w),m.selected===!0&&_.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(b){_.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=this.container.querySelector(".ql-selected");if(_!==m&&(m!=null&&m.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var m=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",m)}}]),y}();r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=C(o),a=i(5),l=C(a),f=i(4),u=C(f),d=i(16),c=C(d),h=i(25),p=C(h),g=i(24),y=C(g),v=i(35),_=C(v),b=i(6),m=C(b),w=i(22),k=C(w),S=i(7),E=C(S),I=i(55),x=C(I),A=i(42),T=C(A),R=i(23),N=C(R);function C(O){return O&&O.__esModule?O:{default:O}}l.default.register({"blots/block":u.default,"blots/block/embed":f.BlockEmbed,"blots/break":c.default,"blots/container":p.default,"blots/cursor":y.default,"blots/embed":_.default,"blots/inline":m.default,"blots/scroll":k.default,"blots/text":E.default,"modules/clipboard":x.default,"modules/history":T.default,"modules/keyboard":N.default}),s.default.register(u.default,c.default,y.default,m.default,k.default,E.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?f=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?f=document.createElement(l):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,f){var u=this.isolate(l,f);u.remove()},a.prototype.formatAt=function(l,f,u,d){var c=this.isolate(l,f);if(o.query(u,o.Scope.BLOT)!=null&&d)c.wrap(u,d);else if(o.query(u,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);c.wrap(h),h.format(u,d)}},a.prototype.insertAt=function(l,f,u){var d=u==null?o.create("text",f):o.create(f,u),c=this.split(l);this.parent.insertBefore(d,c)},a.prototype.insertInto=function(l,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,f),f!=null&&(u=f.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},a.prototype.isolate=function(l,f){var u=this.split(l);return u.split(f),u},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,f){var u=typeof l=="string"?o.create(l,f):l;return u.replace(this),u},a.prototype.split=function(l,f){return l===0?this:this.next},a.prototype.update=function(l,f){},a.prototype.wrap=function(l,f){var u=typeof l=="string"?o.create(l,f):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),f=function(){function u(d){this.attributes={},this.domNode=d,this.build()}return u.prototype.attribute=function(d,c){c?d.add(this.domNode,c)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},u.prototype.build=function(){var d=this;this.attributes={};var c=o.default.keys(this.domNode),h=s.default.keys(this.domNode),p=a.default.keys(this.domNode);c.concat(h).concat(p).forEach(function(g){var y=l.query(g,l.Scope.ATTRIBUTE);y instanceof o.default&&(d.attributes[y.attrName]=y)})},u.prototype.copy=function(d){var c=this;Object.keys(this.attributes).forEach(function(h){var p=c.attributes[h].value(c.domNode);d.format(h,p)})},u.prototype.move=function(d){var c=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){c.attributes[h].remove(c.domNode)}),this.attributes={}},u.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(c,h){return c[h]=d.attributes[h].value(d.domNode),c},{})},u}();r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var c in d)d.hasOwnProperty(c)&&(u[c]=d[c])};return function(u,d){f(u,d);function c(){this.constructor=u}u.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f,u){var d=f.getAttribute("class")||"";return d.split(/\s+/).filter(function(c){return c.indexOf(u+"-")===0})}var l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},u.prototype.add=function(d,c){return this.canAdd(d,c)?(this.remove(d),d.classList.add(this.keyName+"-"+c),!0):!1},u.prototype.remove=function(d){var c=a(d,this.keyName);c.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},u.prototype.value=function(d){var c=a(d,this.keyName)[0]||"",h=c.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},u}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var c in d)d.hasOwnProperty(c)&&(u[c]=d[c])};return function(u,d){f(u,d);function c(){this.constructor=u}u.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f){var u=f.split("-"),d=u.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return u[0]+d}var l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(c){var h=c.split(":");return h[0].trim()})},u.prototype.add=function(d,c){return this.canAdd(d,c)?(d.style[a(this.keyName)]=c,!0):!1},u.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},u.prototype.value=function(d){var c=d.style[a(this.keyName)];return this.canAdd(d,c)?c:""},u}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,u){for(var d=0;d<u.length;d++){var c=u[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(f,u,d){return u&&l(f.prototype,u),d&&l(f,d),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){s(this,l),this.quill=f,this.options=u,this.modules={}}return o(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(d){u.modules[d]==null&&u.addModule(d)})}},{key:"addModule",value:function(u){var d=this.quill.constructor.import("modules/"+u);return this.modules[u]=new d(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(_,b){for(var m=0;m<b.length;m++){var w=b[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,m){return b&&v(_.prototype,b),m&&v(_,m),_}}(),s=function v(_,b,m){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,m)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(m)}},a=i(0),l=d(a),f=i(7),u=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function c(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function p(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var g="\uFEFF",y=function(v){p(_,v);function _(b){c(this,_);var m=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return m.contentNode=document.createElement("span"),m.contentNode.setAttribute("contenteditable",!1),[].slice.call(m.domNode.childNodes).forEach(function(w){m.contentNode.appendChild(w)}),m.leftGuard=document.createTextNode(g),m.rightGuard=document.createTextNode(g),m.domNode.appendChild(m.leftGuard),m.domNode.appendChild(m.contentNode),m.domNode.appendChild(m.rightGuard),m}return o(_,[{key:"index",value:function(m,w){return m===this.leftGuard?0:m===this.rightGuard?1:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,m,w)}},{key:"restore",value:function(m){var w=void 0,k=void 0,S=m.data.split(g).join("");if(m===this.leftGuard)if(this.prev instanceof u.default){var E=this.prev.length();this.prev.insertAt(E,S),w={startNode:this.prev.domNode,startOffset:E+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this),w={startNode:k,startOffset:S.length};else m===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,S),w={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this.next),w={startNode:k,startOffset:S.length}));return m.data=g,w}},{key:"update",value:function(m,w){var k=this;m.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var E=k.restore(S.target);E&&(w.range=E)}})}}]),_}(l.default.Embed);r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new s.default.Attributor.Attribute("align","align",l),u=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=f,r.AlignClass=u,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var f=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=f,r.BackgroundStyle=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},f=new s.default.Attributor.Attribute("direction","dir",l),u=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=f,r.DirectionClass=u,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function v(_,b){for(var m=0;m<b.length;m++){var w=b[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,m){return b&&v(_.prototype,b),m&&v(_,m),_}}(),s=function v(_,b,m){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,m)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(m)}},a=i(0),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function u(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function d(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function c(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new l.default.Attributor.Class("font","ql-font",h),g=function(v){c(_,v);function _(){return u(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"value",value:function(m){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,m).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),y=new g("font","font-family",h);r.FontStyle=y,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=f},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(m,w){for(var k=0;k<w.length;k++){var S=w[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,k){return w&&b(m.prototype,w),k&&b(m,k),m}}(),s=i(0),a=c(s),l=i(5),f=c(l),u=i(9),d=c(u);function c(b){return b&&b.__esModule?b:{default:b}}function h(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function p(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function g(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var y=function(b){g(m,b);function m(w,k){h(this,m);var S=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(f.default.events.EDITOR_CHANGE,function(E,I,x,A){E!==f.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||A===f.default.sources.USER?S.record(I,x):S.transform(I))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(m,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var E=this.stack[k].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[k],f.default.sources.USER),this.ignoreChange=!1;var I=_(E[k]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var x=this.stack.undo.pop();E=E.compose(x.undo),k=x.redo.compose(k)}else this.lastRecorded=I;this.stack.undo.push({redo:k,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),m}(d.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var m=b.ops[b.ops.length-1];return m==null?!1:m.insert!=null?typeof m.insert=="string"&&m.insert.endsWith(`
`):m.attributes!=null?Object.keys(m.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function _(b){var m=b.reduce(function(k,S){return k+=S.delete||0,k},0),w=b.length()-m;return v(b)&&(w-=1),w}r.default=y,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function F(D,K){for(var z=0;z<K.length;z++){var B=K[z];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(D,B.key,B)}}return function(D,K,z){return K&&F(D.prototype,K),z&&F(D,z),D}}(),s=function F(D,K,z){D===null&&(D=Function.prototype);var B=Object.getOwnPropertyDescriptor(D,K);if(B===void 0){var V=Object.getPrototypeOf(D);return V===null?void 0:F(V,K,z)}else{if("value"in B)return B.value;var Z=B.get;return Z===void 0?void 0:Z.call(z)}},a=i(3),l=I(a),f=i(2),u=I(f),d=i(8),c=I(d),h=i(23),p=I(h),g=i(34),y=I(g),v=i(59),_=I(v),b=i(60),m=I(b),w=i(28),k=I(w),S=i(61),E=I(S);function I(F){return F&&F.__esModule?F:{default:F}}function x(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function A(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function T(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var R=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],C=[!1,"serif","monospace"],O=["1","2","3",!1],P=["small",!1,"large","huge"],X=function(F){T(D,F);function D(K,z){x(this,D);var B=A(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,K,z)),V=function Z(Y){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Z);B.tooltip!=null&&!B.tooltip.root.contains(Y.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(oe){oe.container.contains(Y.target)||oe.close()})};return K.emitter.listenDOM("click",document.body,V),B}return o(D,[{key:"addModule",value:function(z){var B=s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(z,B){z.forEach(function(V){var Z=V.getAttribute("class")||"";Z.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),B[Y]!=null))if(Y==="direction")V.innerHTML=B[Y][""]+B[Y].rtl;else if(typeof B[Y]=="string")V.innerHTML=B[Y];else{var oe=V.value||"";oe!=null&&B[Y][oe]&&(V.innerHTML=B[Y][oe])}})})}},{key:"buildPickers",value:function(z,B){var V=this;this.pickers=z.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&$(Y,R),new m.default(Y,B.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var oe=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&$(Y,N,oe==="background"?"#ffffff":"#000000"),new _.default(Y,B[oe])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?$(Y,C):Y.classList.contains("ql-header")?$(Y,O):Y.classList.contains("ql-size")&&$(Y,P)),new k.default(Y)});var Z=function(){V.pickers.forEach(function(oe){oe.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,Z)}}]),D}(y.default);X.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var z=new FileReader;z.onload=function(B){var V=D.quill.getSelection(!0);D.quill.updateContents(new u.default().retain(V.index).delete(V.length).insert({image:B.target.result}),c.default.sources.USER),D.quill.setSelection(V.index+1,c.default.sources.SILENT),K.value=""},z.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(F){T(D,F);function D(K,z){x(this,D);var B=A(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,K,z));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return o(D,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(B){p.default.match(B,"enter")?(z.save(),B.preventDefault()):p.default.match(B,"escape")&&(z.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,c.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":z=U(z);case"formula":{if(!z)break;var V=this.quill.getSelection(!0);if(V!=null){var Z=V.index+V.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),z,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",c.default.sources.USER),this.quill.setSelection(Z+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(E.default);function U(F){var D=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":F}function $(F,D){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(z){var B=document.createElement("option");z===K?B.setAttribute("selected","selected"):B.setAttribute("value",z),F.appendChild(B)})}r.BaseTooltip=H,r.default=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,f=this.iterator();l=f();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,f=this.head;f!=null;){if(f===a)return l;l+=f.length(),f=f.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var f,u=this.iterator();f=u();){var d=f.length();if(a<d||l&&a===d&&(f.next==null||f.next.length()!==0))return[f,a];a-=d}return[null,0]},s.prototype.forEach=function(a){for(var l,f=this.iterator();l=f();)a(l)},s.prototype.forEachAt=function(a,l,f){if(!(l<=0))for(var u=this.find(a),d=u[0],c=u[1],h,p=a-c,g=this.iterator(d);(h=g())&&p<a+l;){var y=h.length();a>p?f(h,a-p,Math.min(l,p+y-a)):f(h,0,Math.min(y,a+l-p)),p+=y}},s.prototype.map=function(a){return this.reduce(function(l,f){return l.push(a(f)),l},[])},s.prototype.reduce=function(a,l){for(var f,u=this.iterator();f=u();)l=a(l,f);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])};return function(c,h){d(c,h);function p(){this.constructor=c}c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,u=function(d){o(c,d);function c(h){var p=d.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(g){p.update(g)}),p.observer.observe(p.domNode,l),p.attach(),p}return c.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(g){g.remove()}):d.prototype.deleteAt.call(this,h,p)},c.prototype.formatAt=function(h,p,g,y){this.update(),d.prototype.formatAt.call(this,h,p,g,y)},c.prototype.insertAt=function(h,p,g){this.update(),d.prototype.insertAt.call(this,h,p,g)},c.prototype.optimize=function(h,p){var g=this;h===void 0&&(h=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var v=function(w,k){k===void 0&&(k=!0),!(w==null||w===g)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),k&&v(w.parent))},_=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof s.default&&w.children.forEach(_),w.optimize(p))},b=h,m=0;b.length>0;m+=1){if(m>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var k=a.find(w.target,!0);k!=null&&(k.domNode===w.target&&(w.type==="childList"?(v(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(S){var E=a.find(S,!1);v(E,!1),E instanceof s.default&&E.children.forEach(function(I){v(I,!1)})})):w.type==="attributes"&&v(k.prev)),v(k))}),this.children.forEach(_),b=[].slice.call(this.observer.takeRecords()),y=b.slice();y.length>0;)h.push(y.pop())}},c.prototype.update=function(h,p){var g=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(y){var v=a.find(y.target,!0);return v==null?null:v.domNode[a.DATA_KEY].mutations==null?(v.domNode[a.DATA_KEY].mutations=[y],v):(v.domNode[a.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===g||y.domNode[a.DATA_KEY]==null||y.update(y.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(h,p)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var h in c)c.hasOwnProperty(h)&&(d[h]=c[h])};return function(d,c){u(d,c);function h(){this.constructor=d}d.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(u,d){if(Object.keys(u).length!==Object.keys(d).length)return!1;for(var c in u)if(u[c]!==d[c])return!1;return!0}var f=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(c){if(c.tagName!==d.tagName)return u.formats.call(this,c)},d.prototype.format=function(c,h){var p=this;c===this.statics.blotName&&!h?(this.children.forEach(function(g){g instanceof s.default||(g=g.wrap(d.blotName,!0)),p.attributes.copy(g)}),this.unwrap()):u.prototype.format.call(this,c,h)},d.prototype.formatAt=function(c,h,p,g){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var y=this.isolate(c,h);y.format(p,g)}else u.prototype.formatAt.call(this,c,h,p,g)},d.prototype.optimize=function(c){u.prototype.optimize.call(this,c);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&l(h,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var c in d)d.hasOwnProperty(c)&&(u[c]=d[c])};return function(u,d){f(u,d);function c(){this.constructor=u}u.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.formats=function(d){var c=a.query(u.blotName).tagName;if(d.tagName!==c)return f.formats.call(this,d)},u.prototype.format=function(d,c){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!c?this.replaceWith(u.blotName):f.prototype.format.call(this,d,c))},u.prototype.formatAt=function(d,c,h,p){a.query(h,a.Scope.BLOCK)!=null?this.format(h,p):f.prototype.formatAt.call(this,d,c,h,p)},u.prototype.insertAt=function(d,c,h){if(h==null||a.query(c,a.Scope.INLINE)!=null)f.prototype.insertAt.call(this,d,c,h);else{var p=this.split(d),g=a.create(c,h);p.parent.insertBefore(g,p)}},u.prototype.update=function(d,c){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,d,c)},u.blotName="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="P",u}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var d in u)u.hasOwnProperty(d)&&(f[d]=u[d])};return function(f,u){l(f,u);function d(){this.constructor=f}f.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.formats=function(u){},f.prototype.format=function(u,d){l.prototype.formatAt.call(this,0,this.length(),u,d)},f.prototype.formatAt=function(u,d,c,h){u===0&&d===this.length()?this.format(c,h):l.prototype.formatAt.call(this,u,d,c,h)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var c in d)d.hasOwnProperty(c)&&(u[c]=d[c])};return function(u,d){f(u,d);function c(){this.constructor=u}u.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(f){o(u,f);function u(d){var c=f.call(this,d)||this;return c.text=c.statics.value(c.domNode),c}return u.create=function(d){return document.createTextNode(d)},u.value=function(d){var c=d.data;return c.normalize&&(c=c.normalize()),c},u.prototype.deleteAt=function(d,c){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+c)},u.prototype.index=function(d,c){return this.domNode===d?c:-1},u.prototype.insertAt=function(d,c,h){h==null?(this.text=this.text.slice(0,d)+c+this.text.slice(d),this.domNode.data=this.text):f.prototype.insertAt.call(this,d,c,h)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(d){f.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(d,c){return[this.domNode,d]},u.prototype.split=function(d,c){if(c===void 0&&(c=!1),!c){if(d===0)return this;if(d===this.length())return this.next}var h=a.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},u.prototype.update=function(d,c){var h=this;d.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var f=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>f.length)&&(l=f.length),l-=a.length;var u=f.indexOf(a,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),u=f.length>>>0,d=arguments[1],c,h=0;h<u;h++)if(c=f[h],l.call(d,c,h,f))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(m,w,k){if(m==w)return m?[[s,m]]:[];(k<0||m.length<k)&&(k=null);var S=d(m,w),E=m.substring(0,S);m=m.substring(S),w=w.substring(S),S=c(m,w);var I=m.substring(m.length-S);m=m.substring(0,m.length-S),w=w.substring(0,w.length-S);var x=l(m,w);return E&&x.unshift([s,E]),I&&x.push([s,I]),p(x),k!=null&&(x=v(x,k)),x=_(x),x}function l(m,w){var k;if(!m)return[[o,w]];if(!w)return[[i,m]];var S=m.length>w.length?m:w,E=m.length>w.length?w:m,I=S.indexOf(E);if(I!=-1)return k=[[o,S.substring(0,I)],[s,E],[o,S.substring(I+E.length)]],m.length>w.length&&(k[0][0]=k[2][0]=i),k;if(E.length==1)return[[i,m],[o,w]];var x=h(m,w);if(x){var A=x[0],T=x[1],R=x[2],N=x[3],C=x[4],O=a(A,R),P=a(T,N);return O.concat([[s,C]],P)}return f(m,w)}function f(m,w){for(var k=m.length,S=w.length,E=Math.ceil((k+S)/2),I=E,x=2*E,A=new Array(x),T=new Array(x),R=0;R<x;R++)A[R]=-1,T[R]=-1;A[I+1]=0,T[I+1]=0;for(var N=k-S,C=N%2!=0,O=0,P=0,X=0,H=0,U=0;U<E;U++){for(var $=-U+O;$<=U-P;$+=2){var F=I+$,D;$==-U||$!=U&&A[F-1]<A[F+1]?D=A[F+1]:D=A[F-1]+1;for(var K=D-$;D<k&&K<S&&m.charAt(D)==w.charAt(K);)D++,K++;if(A[F]=D,D>k)P+=2;else if(K>S)O+=2;else if(C){var z=I+N-$;if(z>=0&&z<x&&T[z]!=-1){var B=k-T[z];if(D>=B)return u(m,w,D,K)}}}for(var V=-U+X;V<=U-H;V+=2){var z=I+V,B;V==-U||V!=U&&T[z-1]<T[z+1]?B=T[z+1]:B=T[z-1]+1;for(var Z=B-V;B<k&&Z<S&&m.charAt(k-B-1)==w.charAt(S-Z-1);)B++,Z++;if(T[z]=B,B>k)H+=2;else if(Z>S)X+=2;else if(!C){var F=I+N-V;if(F>=0&&F<x&&A[F]!=-1){var D=A[F],K=I+D-F;if(B=k-B,D>=B)return u(m,w,D,K)}}}}return[[i,m],[o,w]]}function u(m,w,k,S){var E=m.substring(0,k),I=w.substring(0,S),x=m.substring(k),A=w.substring(S),T=a(E,I),R=a(x,A);return T.concat(R)}function d(m,w){if(!m||!w||m.charAt(0)!=w.charAt(0))return 0;for(var k=0,S=Math.min(m.length,w.length),E=S,I=0;k<E;)m.substring(I,E)==w.substring(I,E)?(k=E,I=k):S=E,E=Math.floor((S-k)/2+k);return E}function c(m,w){if(!m||!w||m.charAt(m.length-1)!=w.charAt(w.length-1))return 0;for(var k=0,S=Math.min(m.length,w.length),E=S,I=0;k<E;)m.substring(m.length-E,m.length-I)==w.substring(w.length-E,w.length-I)?(k=E,I=k):S=E,E=Math.floor((S-k)/2+k);return E}function h(m,w){var k=m.length>w.length?m:w,S=m.length>w.length?w:m;if(k.length<4||S.length*2<k.length)return null;function E(P,X,H){for(var U=P.substring(H,H+Math.floor(P.length/4)),$=-1,F="",D,K,z,B;($=X.indexOf(U,$+1))!=-1;){var V=d(P.substring(H),X.substring($)),Z=c(P.substring(0,H),X.substring(0,$));F.length<Z+V&&(F=X.substring($-Z,$)+X.substring($,$+V),D=P.substring(0,H-Z),K=P.substring(H+V),z=X.substring(0,$-Z),B=X.substring($+V))}return F.length*2>=P.length?[D,K,z,B,F]:null}var I=E(k,S,Math.ceil(k.length/4)),x=E(k,S,Math.ceil(k.length/2)),A;if(!I&&!x)return null;x?I?A=I[4].length>x[4].length?I:x:A=x:A=I;var T,R,N,C;m.length>w.length?(T=A[0],R=A[1],N=A[2],C=A[3]):(N=A[0],C=A[1],T=A[2],R=A[3]);var O=A[4];return[T,R,N,C,O]}function p(m){m.push([s,""]);for(var w=0,k=0,S=0,E="",I="",x;w<m.length;)switch(m[w][0]){case o:S++,I+=m[w][1],w++;break;case i:k++,E+=m[w][1],w++;break;case s:k+S>1?(k!==0&&S!==0&&(x=d(I,E),x!==0&&(w-k-S>0&&m[w-k-S-1][0]==s?m[w-k-S-1][1]+=I.substring(0,x):(m.splice(0,0,[s,I.substring(0,x)]),w++),I=I.substring(x),E=E.substring(x)),x=c(I,E),x!==0&&(m[w][1]=I.substring(I.length-x)+m[w][1],I=I.substring(0,I.length-x),E=E.substring(0,E.length-x))),k===0?m.splice(w-S,k+S,[o,I]):S===0?m.splice(w-k,k+S,[i,E]):m.splice(w-k-S,k+S,[i,E],[o,I]),w=w-k-S+(k?1:0)+(S?1:0)+1):w!==0&&m[w-1][0]==s?(m[w-1][1]+=m[w][1],m.splice(w,1)):w++,S=0,k=0,E="",I="";break}m[m.length-1][1]===""&&m.pop();var A=!1;for(w=1;w<m.length-1;)m[w-1][0]==s&&m[w+1][0]==s&&(m[w][1].substring(m[w][1].length-m[w-1][1].length)==m[w-1][1]?(m[w][1]=m[w-1][1]+m[w][1].substring(0,m[w][1].length-m[w-1][1].length),m[w+1][1]=m[w-1][1]+m[w+1][1],m.splice(w-1,1),A=!0):m[w][1].substring(0,m[w+1][1].length)==m[w+1][1]&&(m[w-1][1]+=m[w+1][1],m[w][1]=m[w][1].substring(m[w+1][1].length)+m[w+1][1],m.splice(w+1,1),A=!0)),w++;A&&p(m)}var g=a;g.INSERT=o,g.DELETE=i,g.EQUAL=s,n.exports=g;function y(m,w){if(w===0)return[s,m];for(var k=0,S=0;S<m.length;S++){var E=m[S];if(E[0]===i||E[0]===s){var I=k+E[1].length;if(w===I)return[S+1,m];if(w<I){m=m.slice();var x=w-k,A=[E[0],E[1].slice(0,x)],T=[E[0],E[1].slice(x)];return m.splice(S,1,A,T),[S+1,m]}else k=I}}throw new Error("cursor_pos is out of bounds!")}function v(m,w){var k=y(m,w),S=k[1],E=k[0],I=S[E],x=S[E+1];if(I==null)return m;if(I[0]!==s)return m;if(x!=null&&I[1]+x[1]===x[1]+I[1])return S.splice(E,2,x,I),b(S,E,2);if(x!=null&&x[1].indexOf(I[1])===0){S.splice(E,2,[x[0],I[1]],[0,I[1]]);var A=x[1].slice(I[1].length);return A.length>0&&S.splice(E+2,0,[x[0],A]),b(S,E,3)}else return m}function _(m){for(var w=!1,k=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},S=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},E=2;E<m.length;E+=1)m[E-2][0]===s&&S(m[E-2][1])&&m[E-1][0]===i&&k(m[E-1][1])&&m[E][0]===o&&k(m[E][1])&&(w=!0,m[E-1][1]=m[E-2][1].slice(-1)+m[E-1][1],m[E][1]=m[E-2][1].slice(-1)+m[E][1],m[E-2][1]=m[E-2][1].slice(0,-1));if(!w)return m;for(var I=[],E=0;E<m.length;E+=1)m[E][1].length>0&&I.push(m[E]);return I}function b(m,w,k){for(var S=w+k-1;S>=0&&S>=w-1;S--)if(S+1<m.length){var E=m[S],I=m[S+1];E[0]===I[1]&&m.splice(S,2,[E[0],E[1]+I[1]])}return m}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(f,u,d){this.fn=f,this.context=u,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,c;if(this._eventsCount===0)return u;for(c in d=this._events)i.call(d,c)&&u.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u,d){var c=o?o+u:u,h=this._events[c];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,y=new Array(g);p<g;p++)y[p]=h[p].fn;return y},l.prototype.emit=function(u,d,c,h,p,g){var y=o?o+u:u;if(!this._events[y])return!1;var v=this._events[y],_=arguments.length,b,m;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,c),!0;case 4:return v.fn.call(v.context,d,c,h),!0;case 5:return v.fn.call(v.context,d,c,h,p),!0;case 6:return v.fn.call(v.context,d,c,h,p,g),!0}for(m=1,b=new Array(_-1);m<_;m++)b[m-1]=arguments[m];v.fn.apply(v.context,b)}else{var w=v.length,k;for(m=0;m<w;m++)switch(v[m].once&&this.removeListener(u,v[m].fn,void 0,!0),_){case 1:v[m].fn.call(v[m].context);break;case 2:v[m].fn.call(v[m].context,d);break;case 3:v[m].fn.call(v[m].context,d,c);break;case 4:v[m].fn.call(v[m].context,d,c,h);break;default:if(!b)for(k=1,b=new Array(_-1);k<_;k++)b[k-1]=arguments[k];v[m].fn.apply(v[m].context,b)}}return!0},l.prototype.on=function(u,d,c){var h=new a(d,c||this),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.once=function(u,d,c){var h=new a(d,c||this,!0),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.removeListener=function(u,d,c,h){var p=o?o+u:u;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[p],this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!c||g.context===c)&&(--this._eventsCount===0?this._events=new s:delete this._events[p]);else{for(var y=0,v=[],_=g.length;y<_;y++)(g[y].fn!==d||h&&!g[y].once||c&&g[y].context!==c)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[p]}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=o?o+u:u,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(te,ne){var ce=[],re=!0,pe=!1,ve=void 0;try{for(var be=te[Symbol.iterator](),Ie;!(re=(Ie=be.next()).done)&&(ce.push(Ie.value),!(ne&&ce.length===ne));re=!0);}catch(Ne){pe=!0,ve=Ne}finally{try{!re&&be.return&&be.return()}finally{if(pe)throw ve}}return ce}return function(te,ne){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return W(te,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(te,ne){for(var ce=0;ce<ne.length;ce++){var re=ne[ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(te,re.key,re)}}return function(te,ne,ce){return ne&&W(te.prototype,ne),ce&&W(te,ce),te}}(),l=i(3),f=T(l),u=i(2),d=T(u),c=i(0),h=T(c),p=i(5),g=T(p),y=i(10),v=T(y),_=i(9),b=T(_),m=i(36),w=i(37),k=i(13),S=T(k),E=i(26),I=i(38),x=i(39),A=i(40);function T(W){return W&&W.__esModule?W:{default:W}}function R(W,te,ne){return te in W?Object.defineProperty(W,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):W[te]=ne,W}function N(W,te){if(!(W instanceof te))throw new TypeError("Cannot call a class as a function")}function C(W,te){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:W}function O(W,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);W.prototype=Object.create(te&&te.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(W,te):W.__proto__=te)}var P=(0,v.default)("quill:clipboard"),X="__ql-matcher",H=[[Node.TEXT_NODE,q],[Node.TEXT_NODE,Q],["br",ue],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,de],["li",j],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",ee]],U=[m.AlignAttribute,I.DirectionAttribute].reduce(function(W,te){return W[te.keyName]=te,W},{}),$=[m.AlignStyle,w.BackgroundStyle,E.ColorStyle,I.DirectionStyle,x.FontStyle,A.SizeStyle].reduce(function(W,te){return W[te.keyName]=te,W},{}),F=function(W){O(te,W);function te(ne,ce){N(this,te);var re=C(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,ne,ce));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],H.concat(re.options.matchers).forEach(function(pe){var ve=s(pe,2),be=ve[0],Ie=ve[1];!ce.matchVisual&&Ie===G||re.addMatcher(be,Ie)}),re}return a(te,[{key:"addMatcher",value:function(ce,re){this.matchers.push([ce,re])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[S.default.blotName]){var pe=this.container.innerText;return this.container.innerHTML="",new d.default().insert(pe,R({},S.default.blotName,re[S.default.blotName]))}var ve=this.prepareMatching(),be=s(ve,2),Ie=be[0],Ne=be[1],Re=V(this.container,Ie,Ne);return z(Re,`
`)&&Re.ops[Re.ops.length-1].attributes==null&&(Re=Re.compose(new d.default().retain(Re.length()-1).delete(1))),P.log("convert",this.container.innerHTML,Re),this.container.innerHTML="",Re}},{key:"dangerouslyPasteHTML",value:function(ce,re){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),re),this.quill.setSelection(0,g.default.sources.SILENT);else{var ve=this.convert(re);this.quill.updateContents(new d.default().retain(ce).concat(ve),pe),this.quill.setSelection(ce+ve.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var re=this;if(!(ce.defaultPrevented||!this.quill.isEnabled())){var pe=this.quill.getSelection(),ve=new d.default().retain(pe.index),be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ve=ve.concat(re.convert()).delete(pe.length),re.quill.updateContents(ve,g.default.sources.USER),re.quill.setSelection(ve.length()-pe.length,g.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=be,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,re=[],pe=[];return this.matchers.forEach(function(ve){var be=s(ve,2),Ie=be[0],Ne=be[1];switch(Ie){case Node.TEXT_NODE:pe.push(Ne);break;case Node.ELEMENT_NODE:re.push(Ne);break;default:[].forEach.call(ce.container.querySelectorAll(Ie),function(Re){Re[X]=Re[X]||[],Re[X].push(Ne)});break}}),[re,pe]}}]),te}(b.default);F.DEFAULTS={matchers:[],matchVisual:!0};function D(W,te,ne){return(typeof te>"u"?"undefined":o(te))==="object"?Object.keys(te).reduce(function(ce,re){return D(ce,re,te[re])},W):W.reduce(function(ce,re){return re.attributes&&re.attributes[te]?ce.push(re):ce.insert(re.insert,(0,f.default)({},R({},te,ne),re.attributes))},new d.default)}function K(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return W[te]||(W[te]=window.getComputedStyle(W))}function z(W,te){for(var ne="",ce=W.ops.length-1;ce>=0&&ne.length<te.length;--ce){var re=W.ops[ce];if(typeof re.insert!="string")break;ne=re.insert+ne}return ne.slice(-1*te.length)===te}function B(W){if(W.childNodes.length===0)return!1;var te=K(W);return["block","list-item"].indexOf(te.display)>-1}function V(W,te,ne){return W.nodeType===W.TEXT_NODE?ne.reduce(function(ce,re){return re(W,ce)},new d.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(ce,re){var pe=V(re,te,ne);return re.nodeType===W.ELEMENT_NODE&&(pe=te.reduce(function(ve,be){return be(re,ve)},pe),pe=(re[X]||[]).reduce(function(ve,be){return be(re,ve)},pe)),ce.concat(pe)},new d.default):new d.default}function Z(W,te,ne){return D(ne,W,!0)}function Y(W,te){var ne=h.default.Attributor.Attribute.keys(W),ce=h.default.Attributor.Class.keys(W),re=h.default.Attributor.Style.keys(W),pe={};return ne.concat(ce).concat(re).forEach(function(ve){var be=h.default.query(ve,h.default.Scope.ATTRIBUTE);be!=null&&(pe[be.attrName]=be.value(W),pe[be.attrName])||(be=U[ve],be!=null&&(be.attrName===ve||be.keyName===ve)&&(pe[be.attrName]=be.value(W)||void 0),be=$[ve],be!=null&&(be.attrName===ve||be.keyName===ve)&&(be=$[ve],pe[be.attrName]=be.value(W)||void 0))}),Object.keys(pe).length>0&&(te=D(te,pe)),te}function oe(W,te){var ne=h.default.query(W);if(ne==null)return te;if(ne.prototype instanceof h.default.Embed){var ce={},re=ne.value(W);re!=null&&(ce[ne.blotName]=re,te=new d.default().insert(ce,ne.formats(W)))}else typeof ne.formats=="function"&&(te=D(te,ne.blotName,ne.formats(W)));return te}function ue(W,te){return z(te,`
`)||te.insert(`
`),te}function ee(){return new d.default}function j(W,te){var ne=h.default.query(W);if(ne==null||ne.blotName!=="list-item"||!z(te,`
`))return te;for(var ce=-1,re=W.parentNode;!re.classList.contains("ql-clipboard");)(h.default.query(re)||{}).blotName==="list"&&(ce+=1),re=re.parentNode;return ce<=0?te:te.compose(new d.default().retain(te.length()-1).retain(1,{indent:ce}))}function Q(W,te){return z(te,`
`)||(B(W)||te.length()>0&&W.nextSibling&&B(W.nextSibling))&&te.insert(`
`),te}function G(W,te){if(B(W)&&W.nextElementSibling!=null&&!z(te,`

`)){var ne=W.offsetHeight+parseFloat(K(W).marginTop)+parseFloat(K(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+ne*1.5&&te.insert(`
`)}return te}function de(W,te){var ne={},ce=W.style||{};return ce.fontStyle&&K(W).fontStyle==="italic"&&(ne.italic=!0),ce.fontWeight&&(K(W).fontWeight.startsWith("bold")||parseInt(K(W).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(te=D(te,ne)),parseFloat(ce.textIndent||0)>0&&(te=new d.default().insert("	").concat(te)),te}function q(W,te){var ne=W.data;if(W.parentNode.tagName==="O:P")return te.insert(ne.trim());if(ne.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return te;if(!K(W.parentNode).whiteSpace.startsWith("pre")){var ce=function(pe,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&pe?" ":ve};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,ce.bind(ce,!0)),(W.previousSibling==null&&B(W.parentNode)||W.previousSibling!=null&&B(W.previousSibling))&&(ne=ne.replace(/^\s+/,ce.bind(ce,!1))),(W.nextSibling==null&&B(W.parentNode)||W.nextSibling!=null&&B(W.nextSibling))&&(ne=ne.replace(/\s+$/,ce.bind(ce,!1)))}return te.insert(ne)}r.default=F,r.matchAttributor=Y,r.matchBlot=oe,r.matchNewline=Q,r.matchSpacing=G,r.matchText=q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&p(g.prototype,y),v&&p(g,v),g}}(),s=function p(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var m=_.get;return m===void 0?void 0:m.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=function(p){c(g,p);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"optimize",value:function(v){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function A(T,R){var N=[],C=!0,O=!1,P=void 0;try{for(var X=T[Symbol.iterator](),H;!(C=(H=X.next()).done)&&(N.push(H.value),!(R&&N.length===R));C=!0);}catch(U){O=!0,P=U}finally{try{!C&&X.return&&X.return()}finally{if(O)throw P}}return N}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(T,R){for(var N=0;N<R.length;N++){var C=R[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,R,N){return R&&A(T.prototype,R),N&&A(T,N),T}}(),a=i(2),l=v(a),f=i(0),u=v(f),d=i(5),c=v(d),h=i(10),p=v(h),g=i(9),y=v(g);function v(A){return A&&A.__esModule?A:{default:A}}function _(A,T,R){return T in A?Object.defineProperty(A,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[T]=R,A}function b(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function m(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function w(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var k=(0,p.default)("quill:toolbar"),S=function(A){w(T,A);function T(R,N){b(this,T);var C=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,N));if(Array.isArray(C.options.container)){var O=document.createElement("div");I(O,C.options.container),R.container.parentNode.insertBefore(O,R.container),C.container=O}else typeof C.options.container=="string"?C.container=document.querySelector(C.options.container):C.container=C.options.container;if(!(C.container instanceof HTMLElement)){var P;return P=k.error("Container required for toolbar",C.options),m(C,P)}return C.container.classList.add("ql-toolbar"),C.controls=[],C.handlers={},Object.keys(C.options.handlers).forEach(function(X){C.addHandler(X,C.options.handlers[X])}),[].forEach.call(C.container.querySelectorAll("button, select"),function(X){C.attach(X)}),C.quill.on(c.default.events.EDITOR_CHANGE,function(X,H){X===c.default.events.SELECTION_CHANGE&&C.update(H)}),C.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var X=C.quill.selection.getRange(),H=o(X,1),U=H[0];C.update(U)}),C}return s(T,[{key:"addHandler",value:function(N,C){this.handlers[N]=C}},{key:"attach",value:function(N){var C=this,O=[].find.call(N.classList,function(X){return X.indexOf("ql-")===0});if(O){if(O=O.slice(3),N.tagName==="BUTTON"&&N.setAttribute("type","button"),this.handlers[O]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[O]==null){k.warn("ignoring attaching to disabled format",O,N);return}if(u.default.query(O)==null){k.warn("ignoring attaching to nonexistent format",O,N);return}}var P=N.tagName==="SELECT"?"change":"click";N.addEventListener(P,function(X){var H=void 0;if(N.tagName==="SELECT"){if(N.selectedIndex<0)return;var U=N.options[N.selectedIndex];U.hasAttribute("selected")?H=!1:H=U.value||!1}else N.classList.contains("ql-active")?H=!1:H=N.value||!N.hasAttribute("value"),X.preventDefault();C.quill.focus();var $=C.quill.selection.getRange(),F=o($,1),D=F[0];if(C.handlers[O]!=null)C.handlers[O].call(C,H);else if(u.default.query(O).prototype instanceof u.default.Embed){if(H=prompt("Enter "+O),!H)return;C.quill.updateContents(new l.default().retain(D.index).delete(D.length).insert(_({},O,H)),c.default.sources.USER)}else C.quill.format(O,H,c.default.sources.USER);C.update(D)}),this.controls.push([O,N])}}},{key:"update",value:function(N){var C=N==null?{}:this.quill.getFormat(N);this.controls.forEach(function(O){var P=o(O,2),X=P[0],H=P[1];if(H.tagName==="SELECT"){var U=void 0;if(N==null)U=null;else if(C[X]==null)U=H.querySelector("option[selected]");else if(!Array.isArray(C[X])){var $=C[X];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),U=H.querySelector('option[value="'+$+'"]')}U==null?(H.value="",H.selectedIndex=-1):U.selected=!0}else if(N==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var F=C[X]===H.getAttribute("value")||C[X]!=null&&C[X].toString()===H.getAttribute("value")||C[X]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",F)}else H.classList.toggle("ql-active",C[X]!=null)})}}]),T}(y.default);S.DEFAULTS={};function E(A,T,R){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+T),R!=null&&(N.value=R),A.appendChild(N)}function I(A,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(R){var N=document.createElement("span");N.classList.add("ql-formats"),R.forEach(function(C){if(typeof C=="string")E(N,C);else{var O=Object.keys(C)[0],P=C[O];Array.isArray(P)?x(N,O,P):E(N,O,P)}}),A.appendChild(N)})}function x(A,T,R){var N=document.createElement("select");N.classList.add("ql-"+T),R.forEach(function(C){var O=document.createElement("option");C!==!1?O.setAttribute("value",C):O.setAttribute("selected","selected"),N.appendChild(O)}),A.appendChild(N)}S.DEFAULTS={container:null,handlers:{clean:function(){var T=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var N=this.quill.getFormat();Object.keys(N).forEach(function(C){u.default.query(C,u.default.Scope.INLINE)!=null&&T.quill.format(C,!1)})}else this.quill.removeFormat(R,c.default.sources.USER)},direction:function(T){var R=this.quill.getFormat().align;T==="rtl"&&R==null?this.quill.format("align","right",c.default.sources.USER):!T&&R==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",T,c.default.sources.USER)},indent:function(T){var R=this.quill.getSelection(),N=this.quill.getFormat(R),C=parseInt(N.indent||0);if(T==="+1"||T==="-1"){var O=T==="+1"?1:-1;N.direction==="rtl"&&(O*=-1),this.quill.format("indent",C+O,c.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,c.default.sources.USER)},list:function(T){var R=this.quill.getSelection(),N=this.quill.getFormat(R);T==="check"?N.list==="checked"||N.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",T,c.default.sources.USER)}}},r.default=S,r.addControls=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&p(g.prototype,y),v&&p(g,v),g}}(),s=function p(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var m=_.get;return m===void 0?void 0:m.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=function(p){c(g,p);function g(y,v){u(this,g);var _=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return _.label.innerHTML=v,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),_}return o(g,[{key:"buildItem",value:function(v){var _=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,v);return _.style.backgroundColor=v.getAttribute("value")||"",_}},{key:"selectItem",value:function(v,_){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,_);var b=this.label.querySelector(".ql-color-label"),m=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=m:b.style.fill=m)}}]),g}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&p(g.prototype,y),v&&p(g,v),g}}(),s=function p(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var m=_.get;return m===void 0?void 0:m.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=function(p){c(g,p);function g(y,v){u(this,g);var _=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return o(g,[{key:"selectItem",value:function(v,_){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,_),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),g}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,u){for(var d=0;d<u.length;d++){var c=u[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(f,u,d){return u&&l(f.prototype,u),d&&l(f,d),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){var d=this;s(this,l),this.quill=f,this.boundsContainer=u||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var d=u.left+u.width/2-this.root.offsetWidth/2,c=u.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),g=0;if(p.right>h.right&&(g=h.right-p.right,this.root.style.left=d+g+"px"),p.left<h.left&&(g=h.left-p.left,this.root.style.left=d+g+"px"),p.bottom>h.bottom){var y=p.bottom-p.top,v=u.bottom-u.top+y;this.root.style.top=c-v+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function x(A,T){var R=[],N=!0,C=!1,O=void 0;try{for(var P=A[Symbol.iterator](),X;!(N=(X=P.next()).done)&&(R.push(X.value),!(T&&R.length===T));N=!0);}catch(H){C=!0,O=H}finally{try{!N&&P.return&&P.return()}finally{if(C)throw O}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return x(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function x(A,T,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,T);if(N===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:x(C,T,R)}else{if("value"in N)return N.value;var O=N.get;return O===void 0?void 0:O.call(R)}},a=function(){function x(A,T){for(var R=0;R<T.length;R++){var N=T[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,T,R){return T&&x(A.prototype,T),R&&x(A,R),A}}(),l=i(3),f=b(l),u=i(8),d=b(u),c=i(43),h=b(c),p=i(27),g=b(p),y=i(15),v=i(41),_=b(v);function b(x){return x&&x.__esModule?x:{default:x}}function m(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function w(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function k(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(x){k(A,x);function A(T,R){m(this,A),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var N=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return N.quill.container.classList.add("ql-snow"),N}return a(A,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),_.default),this.tooltip=new I(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,C){R.handlers.link.call(R,!C.format.link)})}}]),A}(h.default);E.DEFAULTS=(0,f.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var T=this.quill.getSelection();if(T==null||T.length==0)return;var R=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var N=this.quill.theme.tooltip;N.edit("link",R)}else this.quill.format("link",!1)}}}}});var I=function(x){k(A,x);function A(T,R){m(this,A);var N=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return N.preview=N.root.querySelector("a.ql-preview"),N}return a(A,[{key:"listen",value:function(){var R=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(R.linkRange!=null){var C=R.linkRange;R.restoreFocus(),R.quill.formatText(C,"link",!1,d.default.sources.USER),delete R.linkRange}N.preventDefault(),R.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(N,C,O){if(N!=null){if(N.length===0&&O===d.default.sources.USER){var P=R.quill.scroll.descendant(g.default,N.index),X=o(P,2),H=X[0],U=X[1];if(H!=null){R.linkRange=new y.Range(N.index-U,H.length());var $=g.default.formats(H.domNode);R.preview.textContent=$,R.preview.setAttribute("href",$),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(c.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=re(o),a=i(36),l=i(38),f=i(64),u=i(65),d=re(u),c=i(66),h=re(c),p=i(67),g=re(p),y=i(37),v=i(26),_=i(39),b=i(40),m=i(56),w=re(m),k=i(68),S=re(k),E=i(27),I=re(E),x=i(69),A=re(x),T=i(70),R=re(T),N=i(71),C=re(N),O=i(72),P=re(O),X=i(73),H=re(X),U=i(13),$=re(U),F=i(74),D=re(F),K=i(75),z=re(K),B=i(57),V=re(B),Z=i(41),Y=re(Z),oe=i(28),ue=re(oe),ee=i(59),j=re(ee),Q=i(60),G=re(Q),de=i(61),q=re(de),W=i(108),te=re(W),ne=i(62),ce=re(ne);function re(pe){return pe&&pe.__esModule?pe:{default:pe}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":f.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":_.FontClass,"formats/size":b.SizeClass,"formats/blockquote":d.default,"formats/code-block":$.default,"formats/header":h.default,"formats/list":g.default,"formats/bold":w.default,"formats/code":U.Code,"formats/italic":S.default,"formats/link":I.default,"formats/script":A.default,"formats/strike":R.default,"formats/underline":C.default,"formats/image":P.default,"formats/video":H.default,"formats/list/item":p.ListItem,"modules/formula":D.default,"modules/syntax":z.default,"modules/toolbar":V.default,"themes/bubble":te.default,"themes/snow":ce.default,"ui/icons":Y.default,"ui/picker":ue.default,"ui/icon-picker":G.default,"ui/color-picker":j.default,"ui/tooltip":q.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function g(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&g(y.prototype,v),_&&g(y,_),y}}(),s=function g(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var m=Object.getPrototypeOf(y);return m===null?void 0:g(m,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(0),l=f(a);function f(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function c(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){c(y,g);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"add",value:function(_,b){if(b==="+1"||b==="-1"){var m=this.value(_)||0;b=b==="+1"?m+1:m-1}return b===0?(this.remove(_),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,_,b)}},{key:"canAdd",value:function(_,b){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,b)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,parseInt(b))}},{key:"value",value:function(_){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_))||void 0}}]),y}(l.default.Attributor.Class),p=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){u(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(p,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,g,y){return g&&h(p.prototype,g),y&&h(p,y),p}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){d(p,h);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),p}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function m(w,k){for(var S=0;S<k.length;S++){var E=k[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,k,S){return k&&m(w.prototype,k),S&&m(w,S),w}}(),s=function m(w,k,S){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,k);if(E===void 0){var I=Object.getPrototypeOf(w);return I===null?void 0:m(I,k,S)}else{if("value"in E)return E.value;var x=E.get;return x===void 0?void 0:x.call(S)}},a=i(0),l=h(a),f=i(4),u=h(f),d=i(25),c=h(d);function h(m){return m&&m.__esModule?m:{default:m}}function p(m,w,k){return w in m?Object.defineProperty(m,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[w]=k,m}function g(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function y(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function v(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var _=function(m){v(w,m);function w(){return g(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(S,E){S===b.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,S)}}]),w}(u.default);_.blotName="list-item",_.tagName="LI";var b=function(m){v(w,m),o(w,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",I=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&I.setAttribute("data-checked",S==="checked"),I}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(k){g(this,w);var S=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k)),E=function(x){if(x.target.parentNode===k){var A=S.statics.formats(k),T=l.default.find(x.target);A==="checked"?T.format("list","unchecked"):A==="unchecked"&&T.format("list","checked")}};return k.addEventListener("touchstart",E),k.addEventListener("mousedown",E),S}return o(w,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof _)s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,S,E);else{var I=E==null?this.length():E.offset(this),x=this.split(I);x.parent.insertBefore(S,x)}}},{key:"optimize",value:function(S){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,S)}}]),w}(c.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[_],r.ListItem=_,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){u(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&p(g.prototype,y),v&&p(g,v),g}}(),s=function p(g,y,v){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var m=_.get;return m===void 0?void 0:m.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=function(p){c(g,p);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),g}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){u(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function f(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function u(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var d=function(c){u(h,c);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var m=_[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,_);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=u(a),f=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function c(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["alt","height","width"],g=function(y){h(v,y);function v(){return d(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,m){p.indexOf(b)>-1?m?this.domNode.setAttribute(b,m):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,m)}}],[{key:"create",value:function(b){var m=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&m.setAttribute("src",this.sanitize(b)),m}},{key:"formats",value:function(b){return p.reduce(function(m,w){return b.hasAttribute(w)&&(m[w]=b.getAttribute(w)),m},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,f.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var m=_[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,_);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in m)return m.value;var k=m.get;return k===void 0?void 0:k.call(b)}},a=i(4),l=i(27),f=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function c(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["height","width"],g=function(y){h(v,y);function v(){return d(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,m){p.indexOf(b)>-1?m?this.domNode.setAttribute(b,m):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,m)}}],[{key:"create",value:function(b){var m=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return m.setAttribute("frameborder","0"),m.setAttribute("allowfullscreen",!0),m.setAttribute("src",this.sanitize(b)),m}},{key:"formats",value:function(b){return p.reduce(function(m,w){return b.hasAttribute(w)&&(m[w]=b.getAttribute(w)),m},{})}},{key:"sanitize",value:function(b){return f.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(a.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(m,w){for(var k=0;k<w.length;k++){var S=w[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,k){return w&&b(m.prototype,w),k&&b(m,k),m}}(),s=function b(m,w,k){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(S===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:b(E,w,k)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(k)}},a=i(35),l=h(a),f=i(5),u=h(f),d=i(9),c=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function g(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function y(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var v=function(b){y(m,b);function m(){return p(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(k){var S=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),m}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var _=function(b){y(m,b),o(m,null,[{key:"register",value:function(){u.default.register(v,!0)}}]);function m(){p(this,m);var w=g(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return m}(c.default);r.FormulaBlot=v,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function k(S,E){for(var I=0;I<E.length;I++){var x=E[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}return function(S,E,I){return E&&k(S.prototype,E),I&&k(S,I),S}}(),s=function k(S,E,I){S===null&&(S=Function.prototype);var x=Object.getOwnPropertyDescriptor(S,E);if(x===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:k(A,E,I)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(I)}},a=i(0),l=g(a),f=i(5),u=g(f),d=i(9),c=g(d),h=i(13),p=g(h);function g(k){return k&&k.__esModule?k:{default:k}}function y(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function v(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function _(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var b=function(k){_(S,k);function S(){return y(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),S}(p.default);b.className="ql-syntax";var m=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(k){_(S,k),o(S,null,[{key:"register",value:function(){u.default.register(m,!0),u.default.register(b,!0)}}]);function S(E,I){y(this,S);var x=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,I));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return x.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){x.highlight(),A=null},x.options.interval)}),x.highlight(),x}return o(S,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(A){A.highlight(I.options.highlight)}),this.quill.update(u.default.sources.SILENT),x!=null&&this.quill.setSelection(x,u.default.sources.SILENT)}}}]),S}(c.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=m,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(E,I,x){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,I);if(A===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:S(T,I,x)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(x)}},s=function(){function S(E,I){for(var x=0;x<I.length;x++){var A=I[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,I,x){return I&&S(E.prototype,I),x&&S(E,x),E}}(),a=i(3),l=y(a),f=i(8),u=y(f),d=i(43),c=y(d),h=i(15),p=i(41),g=y(p);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function _(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function b(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(S){b(E,S);function E(I,x){v(this,E),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=m);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,x));return A.quill.container.classList.add("ql-bubble"),A}return s(E,[{key:"extendToolbar",value:function(x){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),g.default)}}]),E}(c.default);w.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){b(E,S);function E(I,x){v(this,E);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,x));return A.quill.on(u.default.events.EDITOR_CHANGE,function(T,R,N,C){if(T===u.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&C===u.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var O=A.quill.getLines(R.index,R.length);if(O.length===1)A.position(A.quill.getBounds(R));else{var P=O[O.length-1],X=A.quill.getIndex(P),H=Math.min(P.length()-1,R.index+R.length-X),U=A.quill.getBounds(new h.Range(X,H));A.position(U)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return s(E,[{key:"listen",value:function(){var x=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var A=x.quill.getSelection();A!=null&&x.position(x.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var A=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,x),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",A===0)return A;T.style.marginLeft=-1*A-T.offsetWidth/2+"px"}}]),E}(d.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(Ek);var Pj=Ek.exports;const hp=wk(Pj);var ui=-1,Nr=1,or=0;function ou(t,e,n,r){if(t===e)return t?[[or,t]]:[];if(n!=null){var i=Lj(t,e,n);if(i)return i}var o=Rv(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Ov(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var l=Cj(t,e);return s&&l.unshift([or,s]),a&&l.push([or,a]),Tk(l,r),l}function Cj(t,e){var n;if(!t)return[[Nr,e]];if(!e)return[[ui,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=r.indexOf(i);if(o!==-1)return n=[[Nr,r.substring(0,o)],[or,i],[Nr,r.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=ui),n;if(i.length===1)return[[ui,t],[Nr,e]];var s=Mj(t,e);if(s){var a=s[0],l=s[1],f=s[2],u=s[3],d=s[4],c=ou(a,f),h=ou(l,u);return c.concat([[or,d]],h)}return Dj(t,e)}function Dj(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=i,s=2*i,a=new Array(s),l=new Array(s),f=0;f<s;f++)a[f]=-1,l[f]=-1;a[o+1]=0,l[o+1]=0;for(var u=n-r,d=u%2!==0,c=0,h=0,p=0,g=0,y=0;y<i;y++){for(var v=-y+c;v<=y-h;v+=2){var _=o+v,b;v===-y||v!==y&&a[_-1]<a[_+1]?b=a[_+1]:b=a[_-1]+1;for(var m=b-v;b<n&&m<r&&t.charAt(b)===e.charAt(m);)b++,m++;if(a[_]=b,b>n)h+=2;else if(m>r)c+=2;else if(d){var w=o+u-v;if(w>=0&&w<s&&l[w]!==-1){var k=n-l[w];if(b>=k)return t1(t,e,b,m)}}}for(var S=-y+p;S<=y-g;S+=2){var w=o+S,k;S===-y||S!==y&&l[w-1]<l[w+1]?k=l[w+1]:k=l[w-1]+1;for(var E=k-S;k<n&&E<r&&t.charAt(n-k-1)===e.charAt(r-E-1);)k++,E++;if(l[w]=k,k>n)g+=2;else if(E>r)p+=2;else if(!d){var _=o+u-S;if(_>=0&&_<s&&a[_]!==-1){var b=a[_],m=o+b-_;if(k=n-k,b>=k)return t1(t,e,b,m)}}}}return[[ui,t],[Nr,e]]}function t1(t,e,n,r){var i=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),a=e.substring(r),l=ou(i,o),f=ou(s,a);return l.concat(f)}function Rv(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return Ak(t.charCodeAt(i-1))&&i--,i}function Ov(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return kk(t.charCodeAt(t.length-i))&&i--,i}function Mj(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,p,g){for(var y=h.substring(g,g+Math.floor(h.length/4)),v=-1,_="",b,m,w,k;(v=p.indexOf(y,v+1))!==-1;){var S=Rv(h.substring(g),p.substring(v)),E=Ov(h.substring(0,g),p.substring(0,v));_.length<E+S&&(_=p.substring(v-E,v)+p.substring(v,v+S),b=h.substring(0,g-E),m=h.substring(g+S),w=p.substring(0,v-E),k=p.substring(v+S))}return _.length*2>=h.length?[b,m,w,k,_]:null}var o=i(n,r,Math.ceil(n.length/4)),s=i(n,r,Math.ceil(n.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var l,f,u,d;t.length>e.length?(l=a[0],f=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],l=a[2],f=a[3]);var c=a[4];return[l,f,u,d,c]}function Tk(t,e){t.push([or,""]);for(var n=0,r=0,i=0,o="",s="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Nr:i++,s+=t[n][1],n++;break;case ui:r++,o+=t[n][1],n++;break;case or:var l=n-i-r-1;if(e){if(l>=0&&Ik(t[l][1])){var f=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=f+o,s=f+s,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===Nr&&(i++,s=t[u][1]+s,u--),t[u]&&t[u][0]===ui&&(r++,o=t[u][1]+o,u--),l=u}}if(xk(t[n][1])){var f=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=f,s+=f}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=Rv(s,o),a!==0&&(l>=0?t[l][1]+=s.substring(0,a):(t.splice(0,0,[or,s.substring(0,a)]),n++),s=s.substring(a),o=o.substring(a)),a=Ov(s,o),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var d=i+r;o.length===0&&s.length===0?(t.splice(n-d,d),n=n-d):o.length===0?(t.splice(n-d,d,[Nr,s]),n=n-d+1):s.length===0?(t.splice(n-d,d,[ui,o]),n=n-d+1):(t.splice(n-d,d,[ui,o],[Nr,s]),n=n-d+2)}n!==0&&t[n-1][0]===or?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var c=!1;for(n=1;n<t.length-1;)t[n-1][0]===or&&t[n+1][0]===or&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;c&&Tk(t,e)}function Ak(t){return t>=55296&&t<=56319}function kk(t){return t>=56320&&t<=57343}function xk(t){return kk(t.charCodeAt(0))}function Ik(t){return Ak(t.charCodeAt(t.length-1))}function Nj(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function pp(t,e,n,r){return Ik(t)||xk(r)?null:Nj([[or,t],[ui,e],[Nr,n],[or,r]])}function Lj(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,s=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),f=t.slice(a),u=i?i.index:null;e:{var d=a+s-o;if(u!==null&&u!==d||d<0||d>s)break e;var c=e.slice(0,d),h=e.slice(d);if(h!==f)break e;var p=Math.min(a,d),g=l.slice(0,p),y=c.slice(0,p);if(g!==y)break e;var v=l.slice(p),_=c.slice(p);return pp(g,v,_,f)}e:{if(u!==null&&u!==a)break e;var b=a,c=e.slice(0,b),h=e.slice(b);if(c!==l)break e;var m=Math.min(o-b,s-b),w=f.slice(f.length-m),k=h.slice(h.length-m);if(w!==k)break e;var v=f.slice(0,f.length-m),_=h.slice(0,h.length-m);return pp(l,v,_,w)}}if(r.length>0&&i&&i.length===0)e:{var g=t.slice(0,r.index),w=t.slice(r.index+r.length),p=g.length,m=w.length;if(s<p+m)break e;var y=e.slice(0,p),k=e.slice(s-m);if(g!==y||w!==k)break e;var v=t.slice(p,o-m),_=e.slice(p,s-m);return pp(g,v,_,w)}return null}function Nf(t,e,n){return ou(t,e,n,!0)}Nf.INSERT=Nr;Nf.DELETE=ui;Nf.EQUAL=or;var $j=Nf,gd={exports:{}};gd.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",f="[object Error]",u="[object Function]",d="[object GeneratorFunction]",c="[object Map]",h="[object Number]",p="[object Object]",g="[object Promise]",y="[object RegExp]",v="[object Set]",_="[object String]",b="[object Symbol]",m="[object WeakMap]",w="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",I="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",C="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,P=/\w*$/,X=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,U={};U[o]=U[s]=U[w]=U[k]=U[a]=U[l]=U[S]=U[E]=U[I]=U[x]=U[A]=U[c]=U[h]=U[p]=U[y]=U[v]=U[_]=U[b]=U[T]=U[R]=U[N]=U[C]=!0,U[f]=U[u]=U[m]=!1;var $=typeof Rn=="object"&&Rn&&Rn.Object===Object&&Rn,F=typeof self=="object"&&self&&self.Object===Object&&self,D=$||F||Function("return this")(),K=e&&!e.nodeType&&e,z=K&&!0&&t&&!t.nodeType&&t,B=z&&z.exports===K;function V(L,J){return L.set(J[0],J[1]),L}function Z(L,J){return L.add(J),L}function Y(L,J){for(var se=-1,_e=L?L.length:0;++se<_e&&J(L[se],se,L)!==!1;);return L}function oe(L,J){for(var se=-1,_e=J.length,Ze=L.length;++se<_e;)L[Ze+se]=J[se];return L}function ue(L,J,se,_e){for(var Ze=-1,Ve=L?L.length:0;++Ze<Ve;)se=J(se,L[Ze],Ze,L);return se}function ee(L,J){for(var se=-1,_e=Array(L);++se<L;)_e[se]=J(se);return _e}function j(L,J){return L==null?void 0:L[J]}function Q(L){var J=!1;if(L!=null&&typeof L.toString!="function")try{J=!!(L+"")}catch{}return J}function G(L){var J=-1,se=Array(L.size);return L.forEach(function(_e,Ze){se[++J]=[Ze,_e]}),se}function de(L,J){return function(se){return L(J(se))}}function q(L){var J=-1,se=Array(L.size);return L.forEach(function(_e){se[++J]=_e}),se}var W=Array.prototype,te=Function.prototype,ne=Object.prototype,ce=D["__core-js_shared__"],re=function(){var L=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),pe=te.toString,ve=ne.hasOwnProperty,be=ne.toString,Ie=RegExp("^"+pe.call(ve).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=B?D.Buffer:void 0,Re=D.Symbol,Ye=D.Uint8Array,Ce=de(Object.getPrototypeOf,Object),tt=Object.create,Et=ne.propertyIsEnumerable,Qt=W.splice,kt=Object.getOwnPropertySymbols,Ht=Ne?Ne.isBuffer:void 0,fe=de(Object.keys,Object),we=Rr(D,"DataView"),me=Rr(D,"Map"),Ee=Rr(D,"Promise"),Se=Rr(D,"Set"),Ct=Rr(D,"WeakMap"),vt=Rr(Object,"create"),Vt=Yn(we),nn=Yn(me),_n=Yn(Ee),bn=Yn(Se),wn=Yn(Ct),dn=Re?Re.prototype:void 0,Cu=dn?dn.valueOf:void 0;function bi(L){var J=-1,se=L?L.length:0;for(this.clear();++J<se;){var _e=L[J];this.set(_e[0],_e[1])}}function $f(){this.__data__=vt?vt(null):{}}function Vf(L){return this.has(L)&&delete this.__data__[L]}function Ff(L){var J=this.__data__;if(vt){var se=J[L];return se===r?void 0:se}return ve.call(J,L)?J[L]:void 0}function Du(L){var J=this.__data__;return vt?J[L]!==void 0:ve.call(J,L)}function $a(L,J){var se=this.__data__;return se[L]=vt&&J===void 0?r:J,this}bi.prototype.clear=$f,bi.prototype.delete=Vf,bi.prototype.get=Ff,bi.prototype.has=Du,bi.prototype.set=$a;function En(L){var J=-1,se=L?L.length:0;for(this.clear();++J<se;){var _e=L[J];this.set(_e[0],_e[1])}}function Uf(){this.__data__=[]}function Bf(L){var J=this.__data__,se=Ss(J,L);if(se<0)return!1;var _e=J.length-1;return se==_e?J.pop():Qt.call(J,se,1),!0}function jf(L){var J=this.__data__,se=Ss(J,L);return se<0?void 0:J[se][1]}function qf(L){return Ss(this.__data__,L)>-1}function Hf(L,J){var se=this.__data__,_e=Ss(se,L);return _e<0?se.push([L,J]):se[_e][1]=J,this}En.prototype.clear=Uf,En.prototype.delete=Bf,En.prototype.get=jf,En.prototype.has=qf,En.prototype.set=Hf;function Mn(L){var J=-1,se=L?L.length:0;for(this.clear();++J<se;){var _e=L[J];this.set(_e[0],_e[1])}}function zf(){this.__data__={hash:new bi,map:new(me||En),string:new bi}}function Kf(L){return Fo(this,L).delete(L)}function Wf(L){return Fo(this,L).get(L)}function Yf(L){return Fo(this,L).has(L)}function Gf(L,J){return Fo(this,L).set(L,J),this}Mn.prototype.clear=zf,Mn.prototype.delete=Kf,Mn.prototype.get=Wf,Mn.prototype.has=Yf,Mn.prototype.set=Gf;function nr(L){this.__data__=new En(L)}function Qf(){this.__data__=new En}function Xf(L){return this.__data__.delete(L)}function Jf(L){return this.__data__.get(L)}function Zf(L){return this.__data__.has(L)}function eh(L,J){var se=this.__data__;if(se instanceof En){var _e=se.__data__;if(!me||_e.length<n-1)return _e.push([L,J]),this;se=this.__data__=new Mn(_e)}return se.set(L,J),this}nr.prototype.clear=Qf,nr.prototype.delete=Xf,nr.prototype.get=Jf,nr.prototype.has=Zf,nr.prototype.set=eh;function Is(L,J){var se=Ba(L)||Os(L)?ee(L.length,String):[],_e=se.length,Ze=!!_e;for(var Ve in L)ve.call(L,Ve)&&!(Ze&&(Ve=="length"||ph(Ve,_e)))&&se.push(Ve);return se}function Mu(L,J,se){var _e=L[J];(!(ve.call(L,J)&&Fu(_e,se))||se===void 0&&!(J in L))&&(L[J]=se)}function Ss(L,J){for(var se=L.length;se--;)if(Fu(L[se][0],J))return se;return-1}function Qr(L,J){return L&&Ua(J,qa(J),L)}function Va(L,J,se,_e,Ze,Ve,ct){var lt;if(_e&&(lt=Ve?_e(L,Ze,Ve,ct):_e(L)),lt!==void 0)return lt;if(!Jr(L))return L;var Xt=Ba(L);if(Xt){if(lt=fh(L),!J)return uh(L,lt)}else{var mt=Ei(L),Nn=mt==u||mt==d;if(Uu(L))return Rs(L,J);if(mt==p||mt==o||Nn&&!Ve){if(Q(L))return Ve?L:{};if(lt=Xr(Nn?{}:L),!J)return ch(L,Qr(lt,L))}else{if(!U[mt])return Ve?L:{};lt=hh(L,mt,Va,J)}}ct||(ct=new nr);var rr=ct.get(L);if(rr)return rr;if(ct.set(L,lt),!Xt)var rn=se?dh(L):qa(L);return Y(rn||L,function(Ln,Tn){rn&&(Tn=Ln,Ln=L[Tn]),Mu(lt,Tn,Va(Ln,J,se,_e,Tn,L,ct))}),lt}function th(L){return Jr(L)?tt(L):{}}function nh(L,J,se){var _e=J(L);return Ba(L)?_e:oe(_e,se(L))}function rh(L){return be.call(L)}function ih(L){if(!Jr(L)||gh(L))return!1;var J=ja(L)||Q(L)?Ie:X;return J.test(Yn(L))}function oh(L){if(!$u(L))return fe(L);var J=[];for(var se in Object(L))ve.call(L,se)&&se!="constructor"&&J.push(se);return J}function Rs(L,J){if(J)return L.slice();var se=new L.constructor(L.length);return L.copy(se),se}function Fa(L){var J=new L.constructor(L.byteLength);return new Ye(J).set(new Ye(L)),J}function Vo(L,J){var se=J?Fa(L.buffer):L.buffer;return new L.constructor(se,L.byteOffset,L.byteLength)}function Nu(L,J,se){var _e=J?se(G(L),!0):G(L);return ue(_e,V,new L.constructor)}function Lu(L){var J=new L.constructor(L.source,P.exec(L));return J.lastIndex=L.lastIndex,J}function sh(L,J,se){var _e=J?se(q(L),!0):q(L);return ue(_e,Z,new L.constructor)}function ah(L){return Cu?Object(Cu.call(L)):{}}function lh(L,J){var se=J?Fa(L.buffer):L.buffer;return new L.constructor(se,L.byteOffset,L.length)}function uh(L,J){var se=-1,_e=L.length;for(J||(J=Array(_e));++se<_e;)J[se]=L[se];return J}function Ua(L,J,se,_e){se||(se={});for(var Ze=-1,Ve=J.length;++Ze<Ve;){var ct=J[Ze],lt=void 0;Mu(se,ct,lt===void 0?L[ct]:lt)}return se}function ch(L,J){return Ua(L,wi(L),J)}function dh(L){return nh(L,qa,wi)}function Fo(L,J){var se=L.__data__;return mh(J)?se[typeof J=="string"?"string":"hash"]:se.map}function Rr(L,J){var se=j(L,J);return ih(se)?se:void 0}var wi=kt?de(kt,Object):yh,Ei=rh;(we&&Ei(new we(new ArrayBuffer(1)))!=k||me&&Ei(new me)!=c||Ee&&Ei(Ee.resolve())!=g||Se&&Ei(new Se)!=v||Ct&&Ei(new Ct)!=m)&&(Ei=function(L){var J=be.call(L),se=J==p?L.constructor:void 0,_e=se?Yn(se):void 0;if(_e)switch(_e){case Vt:return k;case nn:return c;case _n:return g;case bn:return v;case wn:return m}return J});function fh(L){var J=L.length,se=L.constructor(J);return J&&typeof L[0]=="string"&&ve.call(L,"index")&&(se.index=L.index,se.input=L.input),se}function Xr(L){return typeof L.constructor=="function"&&!$u(L)?th(Ce(L)):{}}function hh(L,J,se,_e){var Ze=L.constructor;switch(J){case w:return Fa(L);case a:case l:return new Ze(+L);case k:return Vo(L,_e);case S:case E:case I:case x:case A:case T:case R:case N:case C:return lh(L,_e);case c:return Nu(L,_e,se);case h:case _:return new Ze(L);case y:return Lu(L);case v:return sh(L,_e,se);case b:return ah(L)}}function ph(L,J){return J=J??i,!!J&&(typeof L=="number"||H.test(L))&&L>-1&&L%1==0&&L<J}function mh(L){var J=typeof L;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?L!=="__proto__":L===null}function gh(L){return!!re&&re in L}function $u(L){var J=L&&L.constructor,se=typeof J=="function"&&J.prototype||ne;return L===se}function Yn(L){if(L!=null){try{return pe.call(L)}catch{}try{return L+""}catch{}}return""}function Vu(L){return Va(L,!0,!0)}function Fu(L,J){return L===J||L!==L&&J!==J}function Os(L){return vh(L)&&ve.call(L,"callee")&&(!Et.call(L,"callee")||be.call(L)==o)}var Ba=Array.isArray;function Ps(L){return L!=null&&Bu(L.length)&&!ja(L)}function vh(L){return ju(L)&&Ps(L)}var Uu=Ht||_h;function ja(L){var J=Jr(L)?be.call(L):"";return J==u||J==d}function Bu(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=i}function Jr(L){var J=typeof L;return!!L&&(J=="object"||J=="function")}function ju(L){return!!L&&typeof L=="object"}function qa(L){return Ps(L)?Is(L):oh(L)}function yh(){return[]}function _h(){return!1}t.exports=Vu})(gd,gd.exports);var Sk=gd.exports,vd={exports:{}};vd.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",c="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",v="[object Null]",_="[object Object]",b="[object Promise]",m="[object Proxy]",w="[object RegExp]",k="[object Set]",S="[object String]",E="[object Symbol]",I="[object Undefined]",x="[object WeakMap]",A="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",X="[object Uint8Array]",H="[object Uint8ClampedArray]",U="[object Uint16Array]",$="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,D=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,z={};z[R]=z[N]=z[C]=z[O]=z[P]=z[X]=z[H]=z[U]=z[$]=!0,z[a]=z[l]=z[A]=z[u]=z[T]=z[d]=z[c]=z[h]=z[g]=z[y]=z[_]=z[w]=z[k]=z[S]=z[x]=!1;var B=typeof Rn=="object"&&Rn&&Rn.Object===Object&&Rn,V=typeof self=="object"&&self&&self.Object===Object&&self,Z=B||V||Function("return this")(),Y=e&&!e.nodeType&&e,oe=Y&&!0&&t&&!t.nodeType&&t,ue=oe&&oe.exports===Y,ee=ue&&B.process,j=function(){try{return ee&&ee.binding&&ee.binding("util")}catch{}}(),Q=j&&j.isTypedArray;function G(L,J){for(var se=-1,_e=L==null?0:L.length,Ze=0,Ve=[];++se<_e;){var ct=L[se];J(ct,se,L)&&(Ve[Ze++]=ct)}return Ve}function de(L,J){for(var se=-1,_e=J.length,Ze=L.length;++se<_e;)L[Ze+se]=J[se];return L}function q(L,J){for(var se=-1,_e=L==null?0:L.length;++se<_e;)if(J(L[se],se,L))return!0;return!1}function W(L,J){for(var se=-1,_e=Array(L);++se<L;)_e[se]=J(se);return _e}function te(L){return function(J){return L(J)}}function ne(L,J){return L.has(J)}function ce(L,J){return L==null?void 0:L[J]}function re(L){var J=-1,se=Array(L.size);return L.forEach(function(_e,Ze){se[++J]=[Ze,_e]}),se}function pe(L,J){return function(se){return L(J(se))}}function ve(L){var J=-1,se=Array(L.size);return L.forEach(function(_e){se[++J]=_e}),se}var be=Array.prototype,Ie=Function.prototype,Ne=Object.prototype,Re=Z["__core-js_shared__"],Ye=Ie.toString,Ce=Ne.hasOwnProperty,tt=function(){var L=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),Et=Ne.toString,Qt=RegExp("^"+Ye.call(Ce).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=ue?Z.Buffer:void 0,Ht=Z.Symbol,fe=Z.Uint8Array,we=Ne.propertyIsEnumerable,me=be.splice,Ee=Ht?Ht.toStringTag:void 0,Se=Object.getOwnPropertySymbols,Ct=kt?kt.isBuffer:void 0,vt=pe(Object.keys,Object),Vt=wi(Z,"DataView"),nn=wi(Z,"Map"),_n=wi(Z,"Promise"),bn=wi(Z,"Set"),wn=wi(Z,"WeakMap"),dn=wi(Object,"create"),Cu=Yn(Vt),bi=Yn(nn),$f=Yn(_n),Vf=Yn(bn),Ff=Yn(wn),Du=Ht?Ht.prototype:void 0,$a=Du?Du.valueOf:void 0;function En(L){var J=-1,se=L==null?0:L.length;for(this.clear();++J<se;){var _e=L[J];this.set(_e[0],_e[1])}}function Uf(){this.__data__=dn?dn(null):{},this.size=0}function Bf(L){var J=this.has(L)&&delete this.__data__[L];return this.size-=J?1:0,J}function jf(L){var J=this.__data__;if(dn){var se=J[L];return se===r?void 0:se}return Ce.call(J,L)?J[L]:void 0}function qf(L){var J=this.__data__;return dn?J[L]!==void 0:Ce.call(J,L)}function Hf(L,J){var se=this.__data__;return this.size+=this.has(L)?0:1,se[L]=dn&&J===void 0?r:J,this}En.prototype.clear=Uf,En.prototype.delete=Bf,En.prototype.get=jf,En.prototype.has=qf,En.prototype.set=Hf;function Mn(L){var J=-1,se=L==null?0:L.length;for(this.clear();++J<se;){var _e=L[J];this.set(_e[0],_e[1])}}function zf(){this.__data__=[],this.size=0}function Kf(L){var J=this.__data__,se=Rs(J,L);if(se<0)return!1;var _e=J.length-1;return se==_e?J.pop():me.call(J,se,1),--this.size,!0}function Wf(L){var J=this.__data__,se=Rs(J,L);return se<0?void 0:J[se][1]}function Yf(L){return Rs(this.__data__,L)>-1}function Gf(L,J){var se=this.__data__,_e=Rs(se,L);return _e<0?(++this.size,se.push([L,J])):se[_e][1]=J,this}Mn.prototype.clear=zf,Mn.prototype.delete=Kf,Mn.prototype.get=Wf,Mn.prototype.has=Yf,Mn.prototype.set=Gf;function nr(L){var J=-1,se=L==null?0:L.length;for(this.clear();++J<se;){var _e=L[J];this.set(_e[0],_e[1])}}function Qf(){this.size=0,this.__data__={hash:new En,map:new(nn||Mn),string:new En}}function Xf(L){var J=Rr(this,L).delete(L);return this.size-=J?1:0,J}function Jf(L){return Rr(this,L).get(L)}function Zf(L){return Rr(this,L).has(L)}function eh(L,J){var se=Rr(this,L),_e=se.size;return se.set(L,J),this.size+=se.size==_e?0:1,this}nr.prototype.clear=Qf,nr.prototype.delete=Xf,nr.prototype.get=Jf,nr.prototype.has=Zf,nr.prototype.set=eh;function Is(L){var J=-1,se=L==null?0:L.length;for(this.__data__=new nr;++J<se;)this.add(L[J])}function Mu(L){return this.__data__.set(L,r),this}function Ss(L){return this.__data__.has(L)}Is.prototype.add=Is.prototype.push=Mu,Is.prototype.has=Ss;function Qr(L){var J=this.__data__=new Mn(L);this.size=J.size}function Va(){this.__data__=new Mn,this.size=0}function th(L){var J=this.__data__,se=J.delete(L);return this.size=J.size,se}function nh(L){return this.__data__.get(L)}function rh(L){return this.__data__.has(L)}function ih(L,J){var se=this.__data__;if(se instanceof Mn){var _e=se.__data__;if(!nn||_e.length<n-1)return _e.push([L,J]),this.size=++se.size,this;se=this.__data__=new nr(_e)}return se.set(L,J),this.size=se.size,this}Qr.prototype.clear=Va,Qr.prototype.delete=th,Qr.prototype.get=nh,Qr.prototype.has=rh,Qr.prototype.set=ih;function oh(L,J){var se=Os(L),_e=!se&&Fu(L),Ze=!se&&!_e&&Ps(L),Ve=!se&&!_e&&!Ze&&ju(L),ct=se||_e||Ze||Ve,lt=ct?W(L.length,String):[],Xt=lt.length;for(var mt in L)Ce.call(L,mt)&&!(ct&&(mt=="length"||Ze&&(mt=="offset"||mt=="parent")||Ve&&(mt=="buffer"||mt=="byteLength"||mt=="byteOffset")||hh(mt,Xt)))&&lt.push(mt);return lt}function Rs(L,J){for(var se=L.length;se--;)if(Vu(L[se][0],J))return se;return-1}function Fa(L,J,se){var _e=J(L);return Os(L)?_e:de(_e,se(L))}function Vo(L){return L==null?L===void 0?I:v:Ee&&Ee in Object(L)?Ei(L):$u(L)}function Nu(L){return Jr(L)&&Vo(L)==a}function Lu(L,J,se,_e,Ze){return L===J?!0:L==null||J==null||!Jr(L)&&!Jr(J)?L!==L&&J!==J:sh(L,J,se,_e,Lu,Ze)}function sh(L,J,se,_e,Ze,Ve){var ct=Os(L),lt=Os(J),Xt=ct?l:Xr(L),mt=lt?l:Xr(J);Xt=Xt==a?_:Xt,mt=mt==a?_:mt;var Nn=Xt==_,rr=mt==_,rn=Xt==mt;if(rn&&Ps(L)){if(!Ps(J))return!1;ct=!0,Nn=!1}if(rn&&!Nn)return Ve||(Ve=new Qr),ct||ju(L)?Ua(L,J,se,_e,Ze,Ve):ch(L,J,Xt,se,_e,Ze,Ve);if(!(se&i)){var Ln=Nn&&Ce.call(L,"__wrapped__"),Tn=rr&&Ce.call(J,"__wrapped__");if(Ln||Tn){var zi=Ln?L.value():L,Ti=Tn?J.value():J;return Ve||(Ve=new Qr),Ze(zi,Ti,se,_e,Ve)}}return rn?(Ve||(Ve=new Qr),dh(L,J,se,_e,Ze,Ve)):!1}function ah(L){if(!Bu(L)||mh(L))return!1;var J=Uu(L)?Qt:D;return J.test(Yn(L))}function lh(L){return Jr(L)&&ja(L.length)&&!!z[Vo(L)]}function uh(L){if(!gh(L))return vt(L);var J=[];for(var se in Object(L))Ce.call(L,se)&&se!="constructor"&&J.push(se);return J}function Ua(L,J,se,_e,Ze,Ve){var ct=se&i,lt=L.length,Xt=J.length;if(lt!=Xt&&!(ct&&Xt>lt))return!1;var mt=Ve.get(L);if(mt&&Ve.get(J))return mt==J;var Nn=-1,rr=!0,rn=se&o?new Is:void 0;for(Ve.set(L,J),Ve.set(J,L);++Nn<lt;){var Ln=L[Nn],Tn=J[Nn];if(_e)var zi=ct?_e(Tn,Ln,Nn,J,L,Ve):_e(Ln,Tn,Nn,L,J,Ve);if(zi!==void 0){if(zi)continue;rr=!1;break}if(rn){if(!q(J,function(Ti,Uo){if(!ne(rn,Uo)&&(Ln===Ti||Ze(Ln,Ti,se,_e,Ve)))return rn.push(Uo)})){rr=!1;break}}else if(!(Ln===Tn||Ze(Ln,Tn,se,_e,Ve))){rr=!1;break}}return Ve.delete(L),Ve.delete(J),rr}function ch(L,J,se,_e,Ze,Ve,ct){switch(se){case T:if(L.byteLength!=J.byteLength||L.byteOffset!=J.byteOffset)return!1;L=L.buffer,J=J.buffer;case A:return!(L.byteLength!=J.byteLength||!Ve(new fe(L),new fe(J)));case u:case d:case y:return Vu(+L,+J);case c:return L.name==J.name&&L.message==J.message;case w:case S:return L==J+"";case g:var lt=re;case k:var Xt=_e&i;if(lt||(lt=ve),L.size!=J.size&&!Xt)return!1;var mt=ct.get(L);if(mt)return mt==J;_e|=o,ct.set(L,J);var Nn=Ua(lt(L),lt(J),_e,Ze,Ve,ct);return ct.delete(L),Nn;case E:if($a)return $a.call(L)==$a.call(J)}return!1}function dh(L,J,se,_e,Ze,Ve){var ct=se&i,lt=Fo(L),Xt=lt.length,mt=Fo(J),Nn=mt.length;if(Xt!=Nn&&!ct)return!1;for(var rr=Xt;rr--;){var rn=lt[rr];if(!(ct?rn in J:Ce.call(J,rn)))return!1}var Ln=Ve.get(L);if(Ln&&Ve.get(J))return Ln==J;var Tn=!0;Ve.set(L,J),Ve.set(J,L);for(var zi=ct;++rr<Xt;){rn=lt[rr];var Ti=L[rn],Uo=J[rn];if(_e)var Uv=ct?_e(Uo,Ti,rn,J,L,Ve):_e(Ti,Uo,rn,L,J,Ve);if(!(Uv===void 0?Ti===Uo||Ze(Ti,Uo,se,_e,Ve):Uv)){Tn=!1;break}zi||(zi=rn=="constructor")}if(Tn&&!zi){var qu=L.constructor,Hu=J.constructor;qu!=Hu&&"constructor"in L&&"constructor"in J&&!(typeof qu=="function"&&qu instanceof qu&&typeof Hu=="function"&&Hu instanceof Hu)&&(Tn=!1)}return Ve.delete(L),Ve.delete(J),Tn}function Fo(L){return Fa(L,qa,fh)}function Rr(L,J){var se=L.__data__;return ph(J)?se[typeof J=="string"?"string":"hash"]:se.map}function wi(L,J){var se=ce(L,J);return ah(se)?se:void 0}function Ei(L){var J=Ce.call(L,Ee),se=L[Ee];try{L[Ee]=void 0;var _e=!0}catch{}var Ze=Et.call(L);return _e&&(J?L[Ee]=se:delete L[Ee]),Ze}var fh=Se?function(L){return L==null?[]:(L=Object(L),G(Se(L),function(J){return we.call(L,J)}))}:yh,Xr=Vo;(Vt&&Xr(new Vt(new ArrayBuffer(1)))!=T||nn&&Xr(new nn)!=g||_n&&Xr(_n.resolve())!=b||bn&&Xr(new bn)!=k||wn&&Xr(new wn)!=x)&&(Xr=function(L){var J=Vo(L),se=J==_?L.constructor:void 0,_e=se?Yn(se):"";if(_e)switch(_e){case Cu:return T;case bi:return g;case $f:return b;case Vf:return k;case Ff:return x}return J});function hh(L,J){return J=J??s,!!J&&(typeof L=="number"||K.test(L))&&L>-1&&L%1==0&&L<J}function ph(L){var J=typeof L;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?L!=="__proto__":L===null}function mh(L){return!!tt&&tt in L}function gh(L){var J=L&&L.constructor,se=typeof J=="function"&&J.prototype||Ne;return L===se}function $u(L){return Et.call(L)}function Yn(L){if(L!=null){try{return Ye.call(L)}catch{}try{return L+""}catch{}}return""}function Vu(L,J){return L===J||L!==L&&J!==J}var Fu=Nu(function(){return arguments}())?Nu:function(L){return Jr(L)&&Ce.call(L,"callee")&&!we.call(L,"callee")},Os=Array.isArray;function Ba(L){return L!=null&&ja(L.length)&&!Uu(L)}var Ps=Ct||_h;function vh(L,J){return Lu(L,J)}function Uu(L){if(!Bu(L))return!1;var J=Vo(L);return J==h||J==p||J==f||J==m}function ja(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=s}function Bu(L){var J=typeof L;return L!=null&&(J=="object"||J=="function")}function Jr(L){return L!=null&&typeof L=="object"}var ju=Q?te(Q):lh;function qa(L){return Ba(L)?oh(L):uh(L)}function yh(){return[]}function _h(){return!1}t.exports=vh})(vd,vd.exports);var Rk=vd.exports,Pv={},Ok=Rn&&Rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pv,"__esModule",{value:!0});var Vj=Ok(Sk),Fj=Ok(Rk),Tm;(function(t){function e(o,s,a){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var l=Vj.default(s);a||(l=Object.keys(l).reduce(function(u,d){return l[d]!=null&&(u[d]=l[d]),u},{}));for(var f in o)o[f]!==void 0&&s[f]===void 0&&(l[f]=o[f]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o,s){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var a=Object.keys(o).concat(Object.keys(s)).reduce(function(l,f){return Fj.default(o[f],s[f])||(l[f]=s[f]===void 0?null:s[f]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(o,s){o===void 0&&(o={}),s===void 0&&(s={}),o=o||{};var a=Object.keys(s).reduce(function(l,f){return s[f]!==o[f]&&o[f]!==void 0&&(l[f]=s[f]),l},{});return Object.keys(o).reduce(function(l,f){return o[f]!==s[f]&&s[f]===void 0&&(l[f]=null),l},a)}t.invert=r;function i(o,s,a){if(a===void 0&&(a=!1),typeof o!="object")return s;if(typeof s=="object"){if(!a)return s;var l=Object.keys(s).reduce(function(f,u){return o[u]===void 0&&(f[u]=s[u]),f},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(Tm||(Tm={}));Pv.default=Tm;var cc={},dc={},n1;function Uj(){if(n1)return dc;n1=1;var t=Rn&&Rn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dc,"__esModule",{value:!0});var e=t(Pk()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var o=this.ops[this.index];if(o){var s=this.offset,a=e.default.length(o);if(i>=a-s?(i=a-s,this.index+=1,this.offset=0):this.offset+=i,typeof o.delete=="number")return{delete:i};var l={};return o.attributes&&(l.attributes=o.attributes),typeof o.retain=="number"?l.retain=i:typeof o.insert=="string"?l.insert=o.insert.substr(s,i):l.insert=o.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,o=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=o,[s].concat(a)}else return[]},r}();return dc.default=n,dc}var r1;function Pk(){if(r1)return cc;r1=1;var t=Rn&&Rn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cc,"__esModule",{value:!0});var e=t(Uj()),n;return function(r){function i(s){return new e.default(s)}r.iterator=i;function o(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}r.length=o}(n||(n={})),cc.default=n,cc}var Pu=Rn&&Rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},fc=Pu($j),Bj=Pu(Sk),mp=Pu(Rk),Za=Pu(Pv),An=Pu(Pk()),jj="\0",qj=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=Bj.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(mp.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var o=e(i)?n:r;o.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+An.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+An.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=An.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=An.default.length(s)}return new t(r)},t.prototype.compose=function(e){var n=An.default.iterator(this.ops),r=An.default.iterator(e.ops),i=[],o=r.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var s=o.retain;n.peekType()==="insert"&&n.peekLength()<=s;)s-=n.peekLength(),i.push(n.next());o.retain-s>0&&r.next(o.retain-s)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),f=n.next(l),u=r.next(l);if(typeof u.retain=="number"){var d={};typeof f.retain=="number"?d.retain=l:d.insert=f.insert;var c=Za.default.compose(f.attributes,u.attributes,typeof f.retain=="number");if(c&&(d.attributes=c),a.push(d),!r.hasNext()&&mp.default(a.ops[a.ops.length-1],d)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof u.delete=="number"&&typeof f.retain=="number"&&a.push(u)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(f){if(f.insert!=null)return typeof f.insert=="string"?f.insert:jj;var u=l===e?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),i=new t,o=fc.default(r[0],r[1],n),s=An.default.iterator(this.ops),a=An.default.iterator(e.ops);return o.forEach(function(l){for(var f=l[1].length;f>0;){var u=0;switch(l[0]){case fc.default.INSERT:u=Math.min(a.peekLength(),f),i.push(a.next(u));break;case fc.default.DELETE:u=Math.min(f,s.peekLength()),s.next(u),i.delete(u);break;case fc.default.EQUAL:u=Math.min(s.peekLength(),a.peekLength(),f);var d=s.next(u),c=a.next(u);mp.default(d.insert,c.insert)?i.retain(u,Za.default.diff(d.attributes,c.attributes)):i.push(c).delete(u);break}f-=u}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=An.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if(r.peekType()!=="insert")return;var s=r.peek(),a=An.default.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},o)===!1)return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(An.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var o=i.delete||i.retain,s=e.slice(r,r+o);return s.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(An.default.length(a),Za.default.invert(i.attributes,a.attributes))}),r+o}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=An.default.iterator(this.ops),o=An.default.iterator(r.ops),s=new t;i.hasNext()||o.hasNext();)if(i.peekType()==="insert"&&(n||o.peekType()!=="insert"))s.retain(An.default.length(i.next()));else if(o.peekType()==="insert")s.push(o.next());else{var a=Math.min(i.peekLength(),o.peekLength()),l=i.next(a),f=o.next(a);if(l.delete)continue;f.delete?s.push(f):s.retain(a,Za.default.transform(l.attributes,f.attributes,n))}return s.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=An.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var o=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(o,e-i);continue}else s==="insert"&&(i<e||!n)&&(e+=o);i+=o}return e},t.Op=An.default,t.AttributeMap=Za.default,t}(),Hj=qj;const zj=wk(Hj);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const i1={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},Ck=Gt({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(i1).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{gt(()=>{o()}),Um(()=>{n=null});let n,r;const i=he(),o=()=>{var A;if(i.value){if(r=s(),t.modules)if(Array.isArray(t.modules))for(const T of t.modules)hp.register(`modules/${T.name}`,T.module);else hp.register(`modules/${t.modules.name}`,t.modules.module);n=new hp(i.value,r),b(t.content),n.on("text-change",d),n.on("selection-change",h),n.on("editor-change",p),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(A=n.getModule("toolbar"))===null||A===void 0||A.container.addEventListener("mousedown",T=>{T.preventDefault()}),e.emit("ready",n)}},s=()=>{const A={};if(t.theme!==""&&(A.theme=t.theme),t.readOnly&&(A.readOnly=t.readOnly),t.placeholder&&(A.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(A.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:i1[t.toolbar]})()}),t.modules){const T=(()=>{var R,N;const C={};if(Array.isArray(t.modules))for(const O of t.modules)C[O.name]=(R=O.options)!==null&&R!==void 0?R:{};else C[t.modules.name]=(N=t.modules.options)!==null&&N!==void 0?N:{};return C})();A.modules=Object.assign({},A.modules,T)}return Object.assign({},t.globalOptions,t.options,A)},a=A=>typeof A=="object"&&A?A.slice():A,l=A=>Object.values(A.ops).some(T=>!T.retain||Object.keys(T).length!==1);let f;const u=A=>{if(typeof f==typeof A){if(A===f)return!0;if(typeof A=="object"&&A&&typeof f=="object"&&f)return!l(f.diff(A))}return!1},d=(A,T,R)=>{f=a(_()),u(t.content)||e.emit("update:content",f),e.emit("textChange",{delta:A,oldContents:T,source:R})},c=he(),h=(A,T,R)=>{c.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:A,oldRange:T,source:R})};en(c,A=>{A?e.emit("focus",i):e.emit("blur",i)});const p=(...A)=>{A[0]==="text-change"&&e.emit("editorChange",{name:A[0],delta:A[1],oldContents:A[2],source:A[3]}),A[0]==="selection-change"&&e.emit("editorChange",{name:A[0],range:A[1],oldRange:A[2],source:A[3]})},g=()=>i.value,y=()=>{var A;return(A=n==null?void 0:n.getModule("toolbar"))===null||A===void 0?void 0:A.container},v=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},_=(A,T)=>t.contentType==="html"?k():t.contentType==="text"?m(A,T):n==null?void 0:n.getContents(A,T),b=(A,T="api")=>{const R=A||(t.contentType==="delta"?new zj:"");t.contentType==="html"?S(R):t.contentType==="text"?w(R,T):n==null||n.setContents(R,T),f=a(R)},m=(A,T)=>{var R;return(R=n==null?void 0:n.getText(A,T))!==null&&R!==void 0?R:""},w=(A,T="api")=>{n==null||n.setText(A,T)},k=()=>{var A;return(A=n==null?void 0:n.root.innerHTML)!==null&&A!==void 0?A:""},S=A=>{n&&(n.root.innerHTML=A)},E=(A,T="api")=>{const R=n==null?void 0:n.clipboard.convert(A);R&&(n==null||n.setContents(R,T))},I=()=>{n==null||n.focus()},x=()=>{Cn(()=>{var A;!e.slots.toolbar&&n&&((A=n.getModule("toolbar"))===null||A===void 0||A.container.remove()),o()})};return en(()=>t.content,A=>{if(!n||!A||u(A))return;const T=n.getSelection();T&&Cn(()=>n==null?void 0:n.setSelection(T)),b(A)},{deep:!0}),en(()=>t.enable,A=>{n&&n.enable(A)}),{editor:i,getEditor:g,getToolbar:y,getQuill:v,getContents:_,setContents:b,getHTML:k,setHTML:S,pasteHTML:E,focus:I,getText:m,setText:w,reinit:x}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),xa("div",{ref:"editor",...this.$attrs})]}}),Kj={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},Wj={key:1,id:"add-blog-modal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},Yj={class:"relative p-4 w-full max-w-4xl max-h-full"},Gj={class:"relative bg-white rounded-lg shadow"},Qj={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},Xj=M("h3",{class:"text-lg font-semibold text-gray-900"}," Blog Yazısını Güncelle ",-1),Jj=M("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Zj=M("span",{class:"sr-only"},"Close modal",-1),e7=[Jj,Zj],t7={class:"grid gap-4 mb-4 grid-cols-2"},n7={class:"col-span-2"},r7=M("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),i7={class:"col-span-2"},o7=M("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),s7=M("option",{value:"hukuk"},"Hukuk",-1),a7=M("option",{value:"haberler"},"Haberler",-1),l7=M("option",{value:"son-dakika"},"Son Dakika",-1),u7=M("option",{value:"blog"},"Blog Yazısı",-1),c7=[s7,a7,l7,u7],d7={class:"col-span-2"},f7=M("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),h7={class:"bg-gray-100"},p7=M("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"Kaydet",-1),m7={__name:"BlogModalEdit",props:{show:Boolean,blogDataToUpdate:Object},emits:["close","updateBlog"],setup(t,{emit:e}){const n=e,r=t;ge(()=>{const s=r.blogDataToUpdate.image;return s.length<=20?s:`${s.substring(0,10)}...${s.substring(s.length-10)}`});const i=o=>{n("updateBlog",o),n("close")};return(o,s)=>(ie(),le(Oe,null,[t.show?(ie(),le("div",Kj)):ye("",!0),t.show?(ie(),le("div",Wj,[M("div",Yj,[M("div",Gj,[M("div",Qj,[Xj,M("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},e7)]),M("form",{onSubmit:s[4]||(s[4]=xr(a=>i(t.blogDataToUpdate),["prevent"])),class:"p-4 md:p-5"},[M("div",t7,[M("div",n7,[r7,bt(M("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.blogDataToUpdate.title=a),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[di,t.blogDataToUpdate.title]])]),M("div",i7,[o7,bt(M("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>t.blogDataToUpdate.category=a),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},c7,512),[[To,t.blogDataToUpdate.category]])]),M("div",d7,[f7,M("div",h7,[je(ae(Ck),{content:t.blogDataToUpdate.content,"onUpdate:content":s[3]||(s[3]=a=>t.blogDataToUpdate.content=a),contentType:"html",id:"content",toolbar:"essential",theme:"snow",class:"h-64"},null,8,["content"])])])]),p7],32)])])])):ye("",!0)],64))}},g7={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},v7={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},y7={class:"flex justify-between items-center mb-4"},_7={class:"text-4xl font-bold text-gray-800"},b7=M("div",{class:"text-lg font-medium text-gray-500"},"Toplam Blog Yazısı",-1),w7=M("div",{class:"text-gray-400"},[M("i",{class:"ri-group-line text-4xl"})],-1),E7={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},T7={class:"text-right text-sm font-medium text-gray-600 mt-2"},A7={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},k7={class:"flex justify-between items-center mb-4"},x7={class:"flex items-center mb-1"},I7={class:"text-4xl font-bold text-gray-800"},S7={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},R7=M("div",{class:"text-lg font-medium text-gray-500"},"Toplam Görüntülenme",-1),O7=M("div",{class:"text-gray-400"},[M("i",{class:"ri-eye-line text-4xl"})],-1),P7=M("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),C7={class:"mt-2 flex flex-wrap"},D7={__name:"BlogCards",props:{totalBlogs:Number,totalBlogView:Number,blogsCategorySummary:Object},setup(t){const e=t,n={"Blog Yazısı":"bg-blue-100 text-blue-700",Hukuk:"bg-green-100 text-green-700","Son Dakika":"bg-gray-100 text-gray-700",Haberler:"bg-red-100 text-red-700"},r=s=>{switch(s){case"Blog Yazısı":return"Blog Yazısı";case"Hukuk":return"Hukuk";case"Son Dakika":return"Son Dakika";case"Haberler":return"Haberler";default:return"Unknown"}},i=ge(()=>e.totalBlogs===0?0:(e.totalBlogView/e.totalBlogs*100).toFixed(2)),o=ge(()=>e.totalBlogs===0?0:(e.totalBlogs/100*100).toFixed(2));return(s,a)=>(ie(),le("div",g7,[M("div",v7,[M("div",y7,[M("div",null,[M("div",_7,xe(t.totalBlogs),1),b7]),w7]),M("div",E7,[M("div",{class:"h-full bg-blue-600",style:pn({width:o.value+"%"})},null,4)]),M("div",T7,xe(o.value)+"%",1)]),M("div",A7,[M("div",k7,[M("div",null,[M("div",x7,[M("div",I7,xe(t.totalBlogView),1),M("div",S7," +"+xe(i.value)+"% ",1)]),R7]),O7]),P7,M("div",C7,[(ie(!0),le(Oe,null,Qe(t.blogsCategorySummary,(l,f)=>(ie(),le("span",{key:f,class:Ke([n[f],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},xe(r(f))+": "+xe(l),3))),128))])])]))}},M7={class:"flex justify-between mb-4 items-start"},N7=M("h1",{class:"font-medium"},"Blog Yönetimi",-1),L7={action:"",class:"flex items-center mb-4"},$7={class:"relative w-full mr-2"},V7=M("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1),F7={key:0,class:"w-full mt-4 table-fixed"},U7=M("thead",null,[M("tr",null,[M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Başlık "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yazar "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yaratılma Tarihi "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Kategori "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Değiştirilme Tarihi "),M("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Aksiyonlar ")])],-1),B7={class:"py-4 px-4 border-b border-b-gray-200"},j7={class:"flex items-center"},q7={href:"#",class:"text-gray-600 text-sm font-medium hover:text-blue-500 truncate"},H7={class:"py-4 px-4 border-b border-b-gray-200"},z7={class:"text-[13px] font-medium text-gray-600"},K7={class:"py-4 px-4 border-b border-b-gray-200"},W7={class:"text-[13px] font-medium text-gray-600"},Y7={class:"py-4 px-4 border-b border-b-gray-200"},G7={class:"flex space-x-5"},Q7={class:"text-[13px] font-medium text-gray-600"},X7={class:"py-4 px-4 border-b border-b-gray-200"},J7={class:"flex space-x-5"},Z7={class:"text-[13px] font-medium text-gray-600"},eq={class:"py-4 px-4 border-b border-b-gray-200 flex justify-between"},tq={class:"button-container relative flex flex-row gap-1"},nq=["onClick"],rq=["onClick"],iq=["onClick"],oq={class:"pagination-container flex justify-end mt-4 w-full"},sq=["disabled"],aq=["disabled"],lq={__name:"BlogManagement",props:{blogsData:{type:Object,required:!0},blogRef:{type:Object,required:!0}},emits:["goAddBlog","deleteBlog","updateBlog"],setup(t,{emit:e}){const n=he(!1),r=he(!1);let i=null;const o=he(null),s=t;s.blogRef;const a=e;function l(x){let A;if(x&&x.seconds)A=new Date(x.seconds*1e3);else if(x instanceof Date)A=x;else return"";const T=A.getDate().toString().padStart(2,"0"),R=(A.getMonth()+1).toString().padStart(2,"0"),N=A.getFullYear();return`${T}/${R}/${N}`}function f(x){n.value=!0,o.value=x,console.log(o.value.created_date),console.log("blog id to edit",x.id)}function u(x){i=x,r.value=!0}function d(){a("deleteBlog",i),r.value=!1}function c(x){a("updateBlog",x),n.value=!1}const h=ge(()=>s.blogsData.length),p=he(324),g=he(1),y=he(10),v=he(""),_=ge(()=>v.value?s.blogsData.filter(x=>x.title.toLowerCase().includes(v.value.toLowerCase())):s.blogsData),b=ge(()=>(g.value-1)*y.value),m=ge(()=>{if(_.value.length===0){const x=b.value,A=x+y.value;return s.blogsData.slice(x,A)}else return _.value.slice(b.value,b.value+y.value)}),w=ge(()=>_.value.length===0?Math.ceil(s.blogsData.length/y.value):Math.ceil(_.value.length/y.value)),k=ge(()=>{const x={};return s.blogsData.forEach(A=>{x[A.category]?x[A.category]++:x[A.category]=1}),x}),S=()=>{g.value>1&&g.value--},E=()=>{g.value<w.value&&g.value++},I=(x,A)=>{console.log("Opening blog URL:",x,A),window.open(`http://localhost:5173/blog/${x}/${A}`,"_blank")};return gt(async()=>{console.log("Blogs data:",s.blogsData)}),(x,A)=>(ie(),le("div",null,[je(Oj,{show:r.value,onClose:A[0]||(A[0]=T=>r.value=!1),onDelete:d},null,8,["show"]),je(m7,{show:n.value,onClose:A[1]||(A[1]=T=>n.value=!1),onUpdateBlog:c,blogDataToUpdate:o.value},null,8,["show","blogDataToUpdate"]),je(D7,{totalBlogs:h.value,totalBlogView:p.value,blogsCategorySummary:k.value},null,8,["totalBlogs","totalBlogView","blogsCategorySummary"]),je(_k,{class:"p-6"},{default:He(()=>{var T;return[M("div",M7,[N7,M("button",{onClick:A[2]||(A[2]=R=>a("goAddBlog")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded"}," + Ekle ")]),M("form",L7,[M("div",$7,[bt(M("input",{"onUpdate:modelValue":A[3]||(A[3]=R=>v.value=R),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full shadow-md shadow-black/5 outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Başlığa göre ara..."},null,512),[[di,v.value]]),V7])]),(T=t.blogsData)!=null&&T.length?(ie(),le("table",F7,[U7,M("tbody",null,[(ie(!0),le(Oe,null,Qe(m.value,R=>(ie(),le("tr",{key:R.id},[M("td",B7,[M("div",j7,[M("a",q7,xe(R.title),1)])]),M("td",H7,[M("span",z7,xe(R.author||""),1)]),M("td",K7,[M("span",W7,xe(l(R.created_date)),1)]),M("td",Y7,[M("div",G7,[M("span",Q7,xe(R.category),1)])]),M("td",X7,[M("div",J7,[M("span",Z7,xe(l(R.updated_date)),1)])]),M("td",eq,[M("div",tq,[M("button",{onClick:N=>f(R),class:"ri-edit-line text-lg bg-orange-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,nq),M("button",{onClick:N=>I(R.slug,R.id),class:"ri-eye-line text-lg bg-green-500 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,rq),M("button",{onClick:N=>u(R.id),id:"delete-blog-modal-button",class:"ri-delete-bin-6-line text-lg bg-red-700 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,iq)])])]))),128))])])):ye("",!0),M("div",oq,[M("button",{onClick:S,disabled:g.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,sq),M("button",{onClick:E,disabled:g.value===w.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,aq)])]}),_:1})]))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firebasestorage.googleapis.com",Mk="storageBucket",uq=2*60*1e3,cq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Sr{constructor(e,n,r=0){super(gp(e),`Firebase Storage: ${n} (${gp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function gp(t){return"storage/"+t}function Cv(){const t="An unknown error occurred, please check the error payload for server response.";return new qt(jt.UNKNOWN,t)}function dq(t){return new qt(jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function fq(t){return new qt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(jt.UNAUTHENTICATED,t)}function pq(){return new qt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mq(t){return new qt(jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function gq(){return new qt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vq(){return new qt(jt.CANCELED,"User canceled the upload/download.")}function yq(t){return new qt(jt.INVALID_URL,"Invalid URL '"+t+"'.")}function _q(t){return new qt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bq(){return new qt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mk+"' property when initializing the app?")}function wq(){return new qt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Eq(){return new qt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tq(t){return new qt(jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Am(t){return new qt(jt.INVALID_ARGUMENT,t)}function Nk(){return new qt(jt.APP_DELETED,"The Firebase app was deleted.")}function Aq(t){return new qt(jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(t,e){return new qt(jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function el(t){throw new qt(jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw _q(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(m){m.path.charAt(m.path.length-1)==="/"&&(m.path_=m.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function f(m){m.path_=decodeURIComponent(m.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),c="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${u}/b/${i}/o${c}`,"i"),p={bucket:1,path:3},g=n===Dk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:f},{regex:v,indices:{bucket:1,path:2},postModify:f}];for(let m=0;m<b.length;m++){const w=b[m],k=w.regex.exec(e);if(k){const S=k[w.indices.bucket];let E=k[w.indices.path];E||(E=""),r=new yr(S,E),w.postModify(r);break}}if(r==null)throw yq(e);return r}}class kq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let f=!1;function u(...y){f||(f=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(h,l())},y)}function c(){o&&clearTimeout(o)}function h(y,...v){if(f){c();return}if(y){c(),u.call(null,y,...v);return}if(l()||s){c(),u.call(null,y,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let p=!1;function g(y){p||(p=!0,c(),!f&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,g(!0)},n),g}function Iq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){return t!==void 0}function Rq(t){return typeof t=="object"&&!Array.isArray(t)}function Dv(t){return typeof t=="string"||t instanceof String}function o1(t){return Mv()&&t instanceof Blob}function Mv(){return typeof Blob<"u"}function s1(t,e,n,r){if(r<e)throw Am(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Am(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Lk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ls||(ls={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,n,r,i,o,s,a,l,f,u,d,c=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=f,this.progressCallback_=u,this.connectionFactory_=d,this.retry=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,f=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,f)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ls.NO_ERROR,l=o.getStatus();if(!a||Oq(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===ls.ABORT;r(!1,new hc(!1,null,u));return}const f=this.successCodes_.indexOf(l)!==-1;r(!0,new hc(f,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Sq(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Cv();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?Nk():vq();s(l)}else{const l=gq();s(l)}};this.canceled_?n(!1,new hc(!1,null,!0)):this.backoffId_=xq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Iq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Cq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Dq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Mq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Nq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Lq(t,e,n,r,i,o,s=!0){const a=Lk(t.urlParams),l=t.url+a,f=Object.assign({},t.headers);return Mq(f,e),Cq(f,n),Dq(f,o),Nq(f,r),new Pq(l,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vq(...t){const e=$q();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Mv())return new Blob(t);throw new qt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Fq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(t){if(typeof atob>"u")throw Tq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vp{constructor(e,n){this.data=e,this.contentType=n||null}}function Bq(t,e){switch(t){case ci.RAW:return new vp($k(e));case ci.BASE64:case ci.BASE64URL:return new vp(Vk(t,e));case ci.DATA_URL:return new vp(qq(e),Hq(e))}throw Cv()}function $k(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function jq(t){let e;try{e=decodeURIComponent(t)}catch{throw Sl(ci.DATA_URL,"Malformed data URL.")}return $k(e)}function Vk(t,e){switch(t){case ci.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Sl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ci.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Sl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Uq(e)}catch(i){throw i.message.includes("polyfill")?i:Sl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Fk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sl(ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qq(t){const e=new Fk(t);return e.base64?Vk(ci.BASE64,e.rest):jq(e.rest)}function Hq(t){return new Fk(t).contentType}function zq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){let r=0,i="";o1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(o1(this.data_)){const r=this.data_,i=Fq(r,e,n);return i===null?null:new uo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new uo(r,!0)}}static getBlob(...e){if(Mv()){const n=e.map(r=>r instanceof uo?r.data_:r);return new uo(Vq.apply(null,n))}else{const n=e.map(s=>Dv(s)?Bq(ci.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new uo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){let e;try{e=JSON.parse(t)}catch{return null}return Rq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Wq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Bk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t,e){return e}class Gn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Yq}}let pc=null;function Gq(t){return!Dv(t)||t.length<2?t:Bk(t)}function jk(){if(pc)return pc;const t=[];t.push(new Gn("bucket")),t.push(new Gn("generation")),t.push(new Gn("metageneration")),t.push(new Gn("name","fullPath",!0));function e(o,s){return Gq(s)}const n=new Gn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Gn("size");return i.xform=r,t.push(i),t.push(new Gn("timeCreated")),t.push(new Gn("updated")),t.push(new Gn("md5Hash",null,!0)),t.push(new Gn("cacheControl",null,!0)),t.push(new Gn("contentDisposition",null,!0)),t.push(new Gn("contentEncoding",null,!0)),t.push(new Gn("contentLanguage",null,!0)),t.push(new Gn("contentType",null,!0)),t.push(new Gn("metadata","customMetadata",!0)),pc=t,pc}function Qq(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new yr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Xq(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Qq(r,t),r}function qk(t,e,n){const r=Uk(e);return r===null?null:Xq(t,r,n)}function Jq(t,e,n,r){const i=Uk(e);if(i===null||!Dv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(f=>{const u=t.bucket,d=t.fullPath,c="/b/"+s(u)+"/o/"+s(d),h=Nv(c,n,r),p=Lk({alt:"media",token:f});return h+p})[0]}function Zq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Hk{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){if(!t)throw Cv()}function eH(t,e){function n(r,i){const o=qk(t,i,e);return zk(o!==null),o}return n}function tH(t,e){function n(r,i){const o=qk(t,i,e);return zk(o!==null),Jq(o,i,t.host,t._protocol)}return n}function Kk(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=pq():i=hq():n.getStatus()===402?i=fq(t.bucket):n.getStatus()===403?i=mq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function nH(t){const e=Kk(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=dq(t.path)),o.serverResponse=i.serverResponse,o}return n}function rH(t,e,n){const r=e.fullServerUrl(),i=Nv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Hk(i,o,tH(t,n),s);return a.errorHandler=nH(e),a}function iH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=iH(null,e)),r}function sH(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let m=0;m<2;m++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const f=oH(e,r,i),u=Zq(f,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+f.contentType+`\r
\r
`,c=`\r
--`+l+"--",h=uo.getBlob(d,r,c);if(h===null)throw wq();const p={name:f.fullPath},g=Nv(o,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,_=new Hk(g,y,eH(t,n),v);return _.urlParams=p,_.headers=s,_.body=h.uploadData(),_.errorHandler=Kk(e),_}class aH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw el("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw el("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw el("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw el("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw el("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lH extends aH{initXhr(){this.xhr_.responseType="text"}}function Wk(){return new lH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gs(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bk(this._location.path)}get storage(){return this._service}get parent(){const e=Kq(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Aq(e)}}function uH(t,e,n){t._throwIfRoot("uploadBytes");const r=sH(t.storage,t._location,jk(),new uo(e,!0),n);return t.storage.makeRequestWithTokens(r,Wk).then(i=>({metadata:i,ref:t}))}function cH(t){t._throwIfRoot("getDownloadURL");const e=rH(t.storage,t._location,jk());return t.storage.makeRequestWithTokens(e,Wk).then(n=>{if(n===null)throw Eq();return n})}function dH(t,e){const n=Wq(t._location.path,e),r=new yr(t._location.bucket,n);return new gs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){return/^[A-Za-z]+:\/\//.test(t)}function hH(t,e){return new gs(t,e)}function Yk(t,e){if(t instanceof Lv){const n=t;if(n._bucket==null)throw bq();const r=new gs(n,n._bucket);return e!=null?Yk(r,e):r}else return e!==void 0?dH(t,e):t}function pH(t,e){if(e&&fH(e)){if(t instanceof Lv)return hH(t,e);throw Am("To use ref(service, url), the first argument must be a Storage instance.")}else return Yk(t,e)}function a1(t,e){const n=e==null?void 0:e[Mk];return n==null?null:yr.makeFromBucketSpec(n,t)}function mH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:tw(i,t.app.options.projectId))}class Lv{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Dk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uq,this._maxUploadRetryTime=cq,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=a1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=a1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gs(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new kq(Nk());{const s=Lq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const l1="@firebase/storage",u1="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="storage";function gH(t,e,n){return t=Pt(t),uH(t,e,n)}function vH(t){return t=Pt(t),cH(t)}function yH(t,e){return t=Pt(t),pH(t,e)}function _H(t=jd(),e){t=Pt(t);const r=Po(t,Gk).getImmediate({identifier:e}),i=Jb("storage");return i&&bH(r,...i),r}function bH(t,e,n,r={}){mH(t,e,n,r)}function wH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Lv(n,r,i,e,ws)}function EH(){jr(new Ir(Gk,wH,"PUBLIC").setMultipleInstances(!0)),cr(l1,u1,""),cr(l1,u1,"esm2017")}EH();function TH(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Qk(t,e){return new Promise(function(n,r){let i;return AH(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const AH=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const f=s+10;let u;switch(o.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(f+2,u)!==42)return n("TIFF header contains invalid version");const d=o.getUint32(f+4,u),c=f+d+2+12*o.getUint16(f+d,u);for(let h=f+d+2;h<c;h+=12)if(o.getUint16(h,u)==274){if(o.getUint16(h+2,u)!==3)return n("Orientation data type is invalid");if(o.getUint32(h+4,u)!==1)return n("Orientation data count is invalid");o.setUint16(h+8,1,u);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var yd={},kH={get exports(){return yd},set exports(t){yd=t}};(function(t){var e,n,r={};kH.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,l=0,f={},u=new Uint8Array(i),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var c=s(u,l+=4);s(u,l+=2);var h=a(u,l+=2),p=a(u,l+=4);l+=4,l=p;for(var g=0;g<c;g++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),h=a(u,l+=4);var y=a(u,l+=4),v=s(u,l+=4),_=s(u,l+2),b=s(u,l+4);l+=6;var m=a(u,l+=8);l+=4,l+=v+_+b,r._readLocal(u,m,f,h,y,o)}return f},r._readLocal=function(i,o,s,a,l,f){var u=r.bin.readUshort,d=r.bin.readUint;d(i,o),u(i,o+=4),u(i,o+=2);var c=u(i,o+=2);d(i,o+=2),d(i,o+=4),o+=4;var h=u(i,o+=8),p=u(i,o+=2);o+=2;var g=r.bin.readUTF8(i,o,h);if(o+=h,o+=p,f)s[g]={size:l,csize:a};else{var y=new Uint8Array(i.buffer,o);if(c==0)s[g]=new Uint8Array(y.buffer.slice(o,o+a));else{if(c!=8)throw"unknown compression method: "+c;var v=new Uint8Array(l);r.inflateRaw(y,v),s[g]=v}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var l=r.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,l=r.bin.writeUshort,f={};for(var u in i){var d=!r._noNeed(u)&&!o,c=i[u],h=r.crc.crc(c,0,c.length);f[u]={cpr:d,usize:c.length,crc:h,file:d?r.deflateRaw(c):c}}for(var u in f)s+=f[u].file.length+30+46+2*r.bin.sizeUTF8(u);s+=22;var p=new Uint8Array(s),g=0,y=[];for(var u in f){var v=f[u];y.push(g),g=r._writeHeader(p,g,u,v,0)}var _=0,b=g;for(var u in f)v=f[u],y.push(g),g=r._writeHeader(p,g,u,v,1,y[_++]);var m=g-b;return a(p,g,101010256),g+=4,l(p,g+=4,_),l(p,g+=2,_),a(p,g+=2,m),a(p,g+=4,b),g+=4,g+=2,p.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,l,f){var u=r.bin.writeUint,d=r.bin.writeUshort,c=a.file;return u(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),d(i,o,20),d(i,o+=2,0),d(i,o+=2,a.cpr?8:0),u(i,o+=2,0),u(i,o+=4,a.crc),u(i,o+=4,c.length),u(i,o+=4,a.usize),d(i,o+=4,r.bin.sizeUTF8(s)),d(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,u(i,o+=6,f),o+=4),o+=r.bin.writeUTF8(i,o,s),l==0&&(i.set(c,o),o+=c.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,l=0,f=o,u=o+s;f<u;){for(var d=Math.min(f+5552,u);f<d;)l+=a+=i[f++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",f=0;f<s;f++)l+="%"+r.bin.pad(i[o+f].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,f=0;f<a;f++){var u=s.charCodeAt(f);if(!(4294967168&u))i[o+l]=u,l++;else if(!(4294965248&u))i[o+l]=192|u>>6,i[o+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[o+l]=224|u>>12,i[o+l+1]=128|u>>6&63,i[o+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[o+l]=240|u>>18,i[o+l+1]=128|u>>12&63,i[o+l+2]=128|u>>6&63,i[o+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],f=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,c=0,h=s<<3,p=0,g=i.length;if(a==0){for(;c<g;)d(o,h,c+(A=Math.min(65535,g-c))==g?1:0),h=r.F._copyExact(i,c,A,o,h+8),c+=A;return h>>>3}var y=f.lits,v=f.strt,_=f.prev,b=0,m=0,w=0,k=0,S=0,E=0;for(g>2&&(v[E=r.F._hash(i,0)]=0),c=0;c<g;c++){if(S=E,c+1<g-2){E=r.F._hash(i,c+1);var I=c+1&32767;_[I]=v[E],v[E]=I}if(p<=c){(b>14e3||m>26697)&&g-c>100&&(p<c&&(y[b]=c-p,b+=2,p=c),h=r.F._writeBlock(c==g-1||p==g?1:0,y,b,k,i,w,c-w,o,h),b=m=k=0,w=c);var x=0;c<g-2&&(x=r.F._bestMatch(i,c,_,S,Math.min(l[2],g-c),l[3]));var A=x>>>16,T=65535&x;if(x!=0){T=65535&x;var R=u(A=x>>>16,f.of0);f.lhst[257+R]++;var N=u(T,f.df0);f.dhst[N]++,k+=f.exb[R]+f.dxb[N],y[b]=A<<23|c-p,y[b+1]=T<<16|R<<8|N,b+=2,p=c+A}else f.lhst[i[c]]++;m++}}for(w==c&&i.length!=0||(p<c&&(y[b]=c-p,b+=2,p=c),h=r.F._writeBlock(1,y,b,k,i,w,c-w,o,h),b=0,m=0,b=m=k=0,w=c);7&h;)h++;return h>>>3},r.F._bestMatch=function(i,o,s,a,l,f){var u=32767&o,d=s[u],c=u-d+32768&32767;if(d==u||a!=r.F._hash(i,o-c))return 0;for(var h=0,p=0,g=Math.min(32767,o);c<=g&&--f!=0&&d!=u;){if(h==0||i[o+h]==i[o+h-c]){var y=r.F._howLong(i,o,c);if(y>h){if(p=c,(h=y)>=l)break;c+2<y&&(y=c+2);for(var v=0,_=0;_<y-2;_++){var b=o-c+_+32768&32767,m=b-s[b]+32768&32767;m>v&&(v=m,d=b)}}}c+=(u=d)-(d=s[u])+32768&32767}return h<<16|p},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,l,f,u,d,c){var h,p,g,y,v,_,b,m,w,k=r.F.U,S=r.F._putsF,E=r.F._putsE;k.lhst[256]++,p=(h=r.F.getTrees())[0],g=h[1],y=h[2],v=h[3],_=h[4],b=h[5],m=h[6],w=h[7];var I=32+(c+3&7?8-(c+3&7):0)+(u<<3),x=a+r.F.contSize(k.fltree,k.lhst)+r.F.contSize(k.fdtree,k.dhst),A=a+r.F.contSize(k.ltree,k.lhst)+r.F.contSize(k.dtree,k.dhst);A+=14+3*b+r.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var T=0;T<286;T++)k.lhst[T]=0;for(T=0;T<30;T++)k.dhst[T]=0;for(T=0;T<19;T++)k.ihst[T]=0;var R=I<x&&I<A?0:x<A?1:2;if(S(d,c,i),S(d,c+1,R),c+=3,R==0){for(;7&c;)c++;c=r.F._copyExact(l,f,u,d,c)}else{var N,C;if(R==1&&(N=k.fltree,C=k.fdtree),R==2){r.F.makeCodes(k.ltree,p),r.F.revCodes(k.ltree,p),r.F.makeCodes(k.dtree,g),r.F.revCodes(k.dtree,g),r.F.makeCodes(k.itree,y),r.F.revCodes(k.itree,y),N=k.ltree,C=k.dtree,E(d,c,v-257),E(d,c+=5,_-1),E(d,c+=5,b-4),c+=4;for(var O=0;O<b;O++)E(d,c+3*O,k.itree[1+(k.ordr[O]<<1)]);c+=3*b,c=r.F._codeTiny(m,k.itree,d,c),c=r.F._codeTiny(w,k.itree,d,c)}for(var P=f,X=0;X<s;X+=2){for(var H=o[X],U=H>>>23,$=P+(8388607&H);P<$;)c=r.F._writeLit(l[P++],N,d,c);if(U!=0){var F=o[X+1],D=F>>16,K=F>>8&255,z=255&F;E(d,c=r.F._writeLit(257+K,N,d,c),U-k.of0[K]),c+=k.exb[K],S(d,c=r.F._writeLit(z,C,d,c),D-k.df0[z]),c+=k.dxb[z],P+=U}}c=r.F._writeLit(256,N,d,c)}return c},r.F._copyExact=function(i,o,s,a,l){var f=l>>>3;return a[f]=s,a[f+1]=s>>>8,a[f+2]=255-a[f],a[f+3]=255-a[f+1],f+=4,a.set(new Uint8Array(i.buffer,o,s),f),l+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),f=[],u=r.F._lenCodes(i.dtree,f),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<f.length;d+=2)i.ihst[f[d]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),h=19;h>4&&i.itree[1+(i.ordr[h-1]<<1)]==0;)h--;return[o,s,c,l,u,h,a,f]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var f=i[l],u=i[l+1];a=r.F._writeLit(f,o,s,a);var d=f==16?2:f==17?3:7;f>15&&(r.F._putsE(s,a,u,d),a+=d)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],f=a+3<s?i[a+3]:-1,u=a+5<s?i[a+5]:-1,d=a==0?-1:i[a-1];if(l==0&&f==l&&u==l){for(var c=a+5;c+2<s&&i[c+2]==l;)c+=2;(h=Math.min(c+1-a>>>1,138))<11?o.push(17,h-3):o.push(18,h-11),a+=2*h-2}else if(l==d&&f==l&&u==l){for(c=a+5;c+2<s&&i[c+2]==l;)c+=2;var h=Math.min(c+1-a>>>1,6);o.push(16,h-3),a+=2*h-2}else o.push(l,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],l=i.length,f=o.length,u=0;for(u=0;u<f;u+=2)o[u]=0,o[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var d=a.length,c=a.slice(0);if(d==0)return 0;if(d==1){var h=a[0].lit;return c=h==0?1:0,o[1+(h<<1)]=1,o[1+(c<<1)]=1,1}a.sort(function(m,w){return m.f-w.f});var p=a[0],g=a[1],y=0,v=1,_=2;for(a[0]={lit:-1,f:p.f+g.f,l:p,r:g,d:0};v!=d-1;)p=y!=v&&(_==d||a[y].f<a[_].f)?a[y++]:a[_++],g=y!=v&&(_==d||a[y].f<a[_].f)?a[y++]:a[_++],a[v++]={lit:-1,f:p.f+g.f,l:p,r:g};var b=r.F.setDepth(a[v-1],0);for(b>s&&(r.F.restrictDepth(c,s,b),b=s),u=0;u<d;u++)o[1+(c[u].lit<<1)]=c[u].d;return b},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,f=0;for(i.sort(function(d,c){return c.d==d.d?d.f-c.f:c.d-d.d}),a=0;a<i.length&&i[a].d>o;a++){var u=i[a].d;i[a].d=o,f+=l-(1<<s-u)}for(f>>>=s-o;f>0;)(u=i[a].d)<o?(i[a].d++,f-=1<<o-u-1):a++;for(;a>=0;a--)i[a].d==o&&f<0&&(i[a].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,l=a._bitsF,f=a._bitsE,u=a._decodeTiny,d=a.makeCodes,c=a.codes2map,h=a._get17,p=a.U,g=o==null;g&&(o=new s(i.length>>>2<<3));for(var y,v,_=0,b=0,m=0,w=0,k=0,S=0,E=0,I=0,x=0;_==0;)if(_=l(i,x,1),b=l(i,x+1,2),x+=3,b!=0){if(g&&(o=r.F._check(o,I+(1<<17))),b==1&&(y=p.flmap,v=p.fdmap,S=511,E=31),b==2){m=f(i,x,5)+257,w=f(i,x+5,5)+1,k=f(i,x+10,4)+4,x+=14;for(var A=0;A<38;A+=2)p.itree[A]=0,p.itree[A+1]=0;var T=1;for(A=0;A<k;A++){var R=f(i,x+3*A,3);p.itree[1+(p.ordr[A]<<1)]=R,R>T&&(T=R)}x+=3*k,d(p.itree,T),c(p.itree,T,p.imap),y=p.lmap,v=p.dmap,x=u(p.imap,(1<<T)-1,m+w,i,x,p.ttree);var N=a._copyOut(p.ttree,0,m,p.ltree);S=(1<<N)-1;var C=a._copyOut(p.ttree,m,w,p.dtree);E=(1<<C)-1,d(p.ltree,N),c(p.ltree,N,y),d(p.dtree,C),c(p.dtree,C,v)}for(;;){var O=y[h(i,x)&S];x+=15&O;var P=O>>>4;if(!(P>>>8))o[I++]=P;else{if(P==256)break;var X=I+P-254;if(P>264){var H=p.ldef[P-257];X=I+(H>>>3)+f(i,x,7&H),x+=7&H}var U=v[h(i,x)&E];x+=15&U;var $=U>>>4,F=p.ddef[$],D=(F>>>4)+l(i,x,15&F);for(x+=15&F,g&&(o=r.F._check(o,I+(1<<17)));I<X;)o[I]=o[I++-D],o[I]=o[I++-D],o[I]=o[I++-D],o[I]=o[I++-D];I=X}}}else{7&x&&(x+=8-(7&x));var K=4+(x>>>3),z=i[K-4]|i[K-3]<<8;g&&(o=r.F._check(o,I+z)),o.set(new s(i.buffer,i.byteOffset+K,z),I),x=K+z<<3,I+=z}return o.length==I?o:o.slice(0,I)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,l,f){for(var u=r.F._bitsE,d=r.F._get17,c=0;c<s;){var h=i[d(a,l)&o];l+=15&h;var p=h>>>4;if(p<=15)f[c]=p,c++;else{var g=0,y=0;p==16?(y=3+u(a,l,2),l+=2,g=f[c-1]):p==17?(y=3+u(a,l,3),l+=3):p==18&&(y=11+u(a,l,7),l+=7);for(var v=c+y;c<v;)f[c]=g,c++}}return l},r.F._copyOut=function(i,o,s,a){for(var l=0,f=0,u=a.length>>>1;f<s;){var d=i[f+o];a[f<<1]=0,a[1+(f<<1)]=d,d>l&&(l=d),f++}for(;f<u;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return l},r.F.makeCodes=function(i,o){for(var s,a,l,f,u=r.F.U,d=i.length,c=u.bl_count,h=0;h<=o;h++)c[h]=0;for(h=1;h<d;h+=2)c[i[h]]++;var p=u.next_code;for(s=0,c[0]=0,a=1;a<=o;a++)s=s+c[a-1]<<1,p[a]=s;for(l=0;l<d;l+=2)(f=i[l+1])!=0&&(i[l]=p[f],p[f]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,l=r.F.U.rev15,f=0;f<a;f+=2)if(i[f+1]!=0)for(var u=f>>1,d=i[f+1],c=u<<4|d,h=o-d,p=i[f]<<h,g=p+(1<<h);p!=g;)s[l[p]>>>15-o]=c,p++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var f=i[l]<<o-i[l+1];i[l]=s[f]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,f,u){for(;f--!=0;)l.push(0,u)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var xH=TH({__proto__:null,default:yd},[yd]);const Pr=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,c){u[d]=c>>8&255,u[d+1]=255&c},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,c){u[d]=c>>24&255,u[d+1]=c>>16&255,u[d+2]=c>>8&255,u[d+3]=255&c},readASCII(u,d,c){let h="";for(let p=0;p<c;p++)h+=String.fromCharCode(u[d+p]);return h},writeASCII(u,d,c){for(let h=0;h<c.length;h++)u[d+h]=c.charCodeAt(h)},readBytes(u,d,c){const h=[];for(let p=0;p<c;p++)h.push(u[d+p]);return h},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,c){let h,p="";for(let g=0;g<c;g++)p+=`%${t.pad(u[d+g].toString(16))}`;try{h=decodeURIComponent(p)}catch{return t.readASCII(u,d,c)}return h}};function e(u,d,c,h){const p=d*c,g=o(h),y=Math.ceil(d*g/8),v=new Uint8Array(4*p),_=new Uint32Array(v.buffer),{ctype:b}=h,{depth:m}=h,w=t.readUshort;if(b==6){const H=p<<2;if(m==8)for(var k=0;k<H;k+=4)v[k]=u[k],v[k+1]=u[k+1],v[k+2]=u[k+2],v[k+3]=u[k+3];if(m==16)for(k=0;k<H;k++)v[k]=u[k<<1]}else if(b==2){const H=h.tabs.tRNS;if(H==null){if(m==8)for(k=0;k<p;k++){var S=3*k;_[k]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S]}if(m==16)for(k=0;k<p;k++)S=6*k,_[k]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S]}else{var E=H[0];const U=H[1],$=H[2];if(m==8)for(k=0;k<p;k++){var I=k<<2;S=3*k,_[k]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S],u[S]==E&&u[S+1]==U&&u[S+2]==$&&(v[I+3]=0)}if(m==16)for(k=0;k<p;k++)I=k<<2,S=6*k,_[k]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S],w(u,S)==E&&w(u,S+2)==U&&w(u,S+4)==$&&(v[I+3]=0)}}else if(b==3){const H=h.tabs.PLTE,U=h.tabs.tRNS,$=U?U.length:0;if(m==1)for(var x=0;x<c;x++){var A=x*y,T=x*d;for(k=0;k<d;k++){I=T+k<<2;var R=3*(N=u[A+(k>>3)]>>7-((7&k)<<0)&1);v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?U[N]:255}}if(m==2)for(x=0;x<c;x++)for(A=x*y,T=x*d,k=0;k<d;k++)I=T+k<<2,R=3*(N=u[A+(k>>2)]>>6-((3&k)<<1)&3),v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?U[N]:255;if(m==4)for(x=0;x<c;x++)for(A=x*y,T=x*d,k=0;k<d;k++)I=T+k<<2,R=3*(N=u[A+(k>>1)]>>4-((1&k)<<2)&15),v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?U[N]:255;if(m==8)for(k=0;k<p;k++){var N;I=k<<2,R=3*(N=u[k]),v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?U[N]:255}}else if(b==4){if(m==8)for(k=0;k<p;k++){I=k<<2;var C=u[O=k<<1];v[I]=C,v[I+1]=C,v[I+2]=C,v[I+3]=u[O+1]}if(m==16)for(k=0;k<p;k++){var O;I=k<<2,C=u[O=k<<2],v[I]=C,v[I+1]=C,v[I+2]=C,v[I+3]=u[O+2]}}else if(b==0)for(E=h.tabs.tRNS?h.tabs.tRNS:-1,x=0;x<c;x++){const H=x*y,U=x*d;if(m==1)for(var P=0;P<d;P++){var X=(C=255*(u[H+(P>>>3)]>>>7-(7&P)&1))==255*E?0:255;_[U+P]=X<<24|C<<16|C<<8|C}else if(m==2)for(P=0;P<d;P++)X=(C=85*(u[H+(P>>>2)]>>>6-((3&P)<<1)&3))==85*E?0:255,_[U+P]=X<<24|C<<16|C<<8|C;else if(m==4)for(P=0;P<d;P++)X=(C=17*(u[H+(P>>>1)]>>>4-((1&P)<<2)&15))==17*E?0:255,_[U+P]=X<<24|C<<16|C<<8|C;else if(m==8)for(P=0;P<d;P++)X=(C=u[H+P])==E?0:255,_[U+P]=X<<24|C<<16|C<<8|C;else if(m==16)for(P=0;P<d;P++)C=u[H+(P<<1)],X=w(u,H+(P<<1))==E?0:255,_[U+P]=X<<24|C<<16|C<<8|C}return v}function n(u,d,c,h){const p=o(u),g=Math.ceil(c*p/8),y=new Uint8Array((g+1+u.interlace)*h);return d=u.tabs.CgBI?i(d,y):r(d,y),u.interlace==0?d=s(d,u,0,c,h):u.interlace==1&&(d=function(_,b){const m=b.width,w=b.height,k=o(b),S=k>>3,E=Math.ceil(m*k/8),I=new Uint8Array(w*E);let x=0;const A=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const P=R[C],X=N[C];let H=0,U=0,$=A[C];for(;$<w;)$+=P,U++;let F=T[C];for(;F<m;)F+=X,H++;const D=Math.ceil(H*k/8);s(_,b,x,H,U);let K=0,z=A[C];for(;z<w;){let B=T[C],V=x+K*D<<3;for(;B<m;){var O;if(k==1&&(O=(O=_[V>>3])>>7-(7&V)&1,I[z*E+(B>>3)]|=O<<7-((7&B)<<0)),k==2&&(O=(O=_[V>>3])>>6-(7&V)&3,I[z*E+(B>>2)]|=O<<6-((3&B)<<1)),k==4&&(O=(O=_[V>>3])>>4-(7&V)&15,I[z*E+(B>>1)]|=O<<4-((1&B)<<2)),k>=8){const Z=z*E+B*S;for(let Y=0;Y<S;Y++)I[Z+Y]=_[(V>>3)+Y]}V+=k,B+=X}K++,z+=P}H*U!=0&&(x+=U*(1+D)),C+=1}return I}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,c){const h=Uint8Array;let p,g,y=0,v=0,_=0,b=0,m=0,w=0,k=0,S=0,E=0;if(d[0]==3&&d[1]==0)return c||new h(0);const I=u.H,x=I.b,A=I.e,T=I.R,R=I.n,N=I.A,C=I.Z,O=I.m,P=c==null;for(P&&(c=new h(d.length>>>2<<5));y==0;)if(y=x(d,E,1),v=x(d,E+1,2),E+=3,v!=0){if(P&&(c=u.H.W(c,S+(1<<17))),v==1&&(p=O.J,g=O.h,w=511,k=31),v==2){_=A(d,E,5)+257,b=A(d,E+5,5)+1,m=A(d,E+10,4)+4,E+=14;let H=1;for(var X=0;X<38;X+=2)O.Q[X]=0,O.Q[X+1]=0;for(X=0;X<m;X++){const F=A(d,E+3*X,3);O.Q[1+(O.X[X]<<1)]=F,F>H&&(H=F)}E+=3*m,R(O.Q,H),N(O.Q,H,O.u),p=O.w,g=O.d,E=T(O.u,(1<<H)-1,_+b,d,E,O.v);const U=I.V(O.v,0,_,O.C);w=(1<<U)-1;const $=I.V(O.v,_,b,O.D);k=(1<<$)-1,R(O.C,U),N(O.C,U,p),R(O.D,$),N(O.D,$,g)}for(;;){const H=p[C(d,E)&w];E+=15&H;const U=H>>>4;if(!(U>>>8))c[S++]=U;else{if(U==256)break;{let $=S+U-254;if(U>264){const B=O.q[U-257];$=S+(B>>>3)+A(d,E,7&B),E+=7&B}const F=g[C(d,E)&k];E+=15&F;const D=F>>>4,K=O.c[D],z=(K>>>4)+x(d,E,15&K);for(E+=15&K;S<$;)c[S]=c[S++-z],c[S]=c[S++-z],c[S]=c[S++-z],c[S]=c[S++-z];S=$}}}}else{7&E&&(E+=8-(7&E));const H=4+(E>>>3),U=d[H-4]|d[H-3]<<8;P&&(c=u.H.W(c,S+U)),c.set(new h(d.buffer,d.byteOffset+H,U),S),E=H+U<<3,S+=U}return c.length==S?c:c.slice(0,S)},u.H.W=function(d,c){const h=d.length;if(c<=h)return d;const p=new Uint8Array(h<<1);return p.set(d,0),p},u.H.R=function(d,c,h,p,g,y){const v=u.H.e,_=u.H.Z;let b=0;for(;b<h;){const m=d[_(p,g)&c];g+=15&m;const w=m>>>4;if(w<=15)y[b]=w,b++;else{let k=0,S=0;w==16?(S=3+v(p,g,2),g+=2,k=y[b-1]):w==17?(S=3+v(p,g,3),g+=3):w==18&&(S=11+v(p,g,7),g+=7);const E=b+S;for(;b<E;)y[b]=k,b++}}return g},u.H.V=function(d,c,h,p){let g=0,y=0;const v=p.length>>>1;for(;y<h;){const _=d[y+c];p[y<<1]=0,p[1+(y<<1)]=_,_>g&&(g=_),y++}for(;y<v;)p[y<<1]=0,p[1+(y<<1)]=0,y++;return g},u.H.n=function(d,c){const h=u.H.m,p=d.length;let g,y,v,_;const b=h.j;for(var m=0;m<=c;m++)b[m]=0;for(m=1;m<p;m+=2)b[d[m]]++;const w=h.K;for(g=0,b[0]=0,y=1;y<=c;y++)g=g+b[y-1]<<1,w[y]=g;for(v=0;v<p;v+=2)_=d[v+1],_!=0&&(d[v]=w[_],w[_]++)},u.H.A=function(d,c,h){const p=d.length,g=u.H.m.r;for(let y=0;y<p;y+=2)if(d[y+1]!=0){const v=y>>1,_=d[y+1],b=v<<4|_,m=c-_;let w=d[y]<<m;const k=w+(1<<m);for(;w!=k;)h[g[w]>>>15-c]=b,w++}},u.H.l=function(d,c){const h=u.H.m.r,p=15-c;for(let g=0;g<d.length;g+=2){const y=d[g]<<c-d[g+1];d[g]=h[y]>>>p}},u.H.M=function(d,c,h){h<<=7&c;const p=c>>>3;d[p]|=h,d[p+1]|=h>>>8},u.H.I=function(d,c,h){h<<=7&c;const p=c>>>3;d[p]|=h,d[p+1]|=h>>>8,d[p+2]|=h>>>16},u.H.e=function(d,c,h){return(d[c>>>3]|d[1+(c>>>3)]<<8)>>>(7&c)&(1<<h)-1},u.H.b=function(d,c,h){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)&(1<<h)-1},u.H.Z=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16)>>>(7&c)},u.H.i=function(d,c){return(d[c>>>3]|d[1+(c>>>3)]<<8|d[2+(c>>>3)]<<16|d[3+(c>>>3)]<<24)>>>(7&c)},u.H.m=function(){const d=Uint16Array,c=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var c=0;c<32768;c++){let p=c;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,d.r[c]=(p>>>16|p<<16)>>>17}function h(p,g,y){for(;g--!=0;)p.push(0,y)}for(c=0;c<32;c++)d.q[c]=d.S[c]<<3|d.T[c],d.c[c]=d.p[c]<<4|d.z[c];h(d._,144,8),h(d._,112,9),h(d._,24,7),h(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),h(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),h(d.Q,19,0),h(d.C,286,0),h(d.D,30,0),h(d.v,320,0)}(),u.H.N}();function o(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function s(u,d,c,h,p){let g=o(d);const y=Math.ceil(h*g/8);let v,_;g=Math.ceil(g/8);let b=u[c],m=0;if(b>1&&(u[c]=[0,0,1][b-2]),b==3)for(m=g;m<y;m++)u[m+1]=u[m+1]+(u[m+1-g]>>>1)&255;for(let w=0;w<p;w++)if(v=c+w*y,_=v+w+1,b=u[_-1],m=0,b==0)for(;m<y;m++)u[v+m]=u[_+m];else if(b==1){for(;m<g;m++)u[v+m]=u[_+m];for(;m<y;m++)u[v+m]=u[_+m]+u[v+m-g]}else if(b==2)for(;m<y;m++)u[v+m]=u[_+m]+u[v+m-y];else if(b==3){for(;m<g;m++)u[v+m]=u[_+m]+(u[v+m-y]>>>1);for(;m<y;m++)u[v+m]=u[_+m]+(u[v+m-y]+u[v+m-g]>>>1)}else{for(;m<g;m++)u[v+m]=u[_+m]+a(0,u[v+m-y],0);for(;m<y;m++)u[v+m]=u[_+m]+a(u[v+m-g],u[v+m-y],u[v+m-g-y])}return u}function a(u,d,c){const h=u+d-c,p=h-u,g=h-d,y=h-c;return p*p<=g*g&&p*p<=y*y?u:g*g<=y*y?d:c}function l(u,d,c){c.width=t.readUint(u,d),d+=4,c.height=t.readUint(u,d),d+=4,c.depth=u[d],d++,c.ctype=u[d],d++,c.compress=u[d],d++,c.filter=u[d],d++,c.interlace=u[d],d++}function f(u,d,c,h,p,g,y,v,_){const b=Math.min(d,p),m=Math.min(c,g);let w=0,k=0;for(let C=0;C<m;C++)for(let O=0;O<b;O++)if(y>=0&&v>=0?(w=C*d+O<<2,k=(v+C)*p+y+O<<2):(w=(-v+C)*d-y+O<<2,k=C*p+O<<2),_==0)h[k]=u[w],h[k+1]=u[w+1],h[k+2]=u[w+2],h[k+3]=u[w+3];else if(_==1){var S=u[w+3]*.00392156862745098,E=u[w]*S,I=u[w+1]*S,x=u[w+2]*S,A=h[k+3]*(1/255),T=h[k]*A,R=h[k+1]*A,N=h[k+2]*A;const P=1-S,X=S+A*P,H=X==0?0:1/X;h[k+3]=255*X,h[k+0]=(E+T*P)*H,h[k+1]=(I+R*P)*H,h[k+2]=(x+N*P)*H}else if(_==2)S=u[w+3],E=u[w],I=u[w+1],x=u[w+2],A=h[k+3],T=h[k],R=h[k+1],N=h[k+2],S==A&&E==T&&I==R&&x==N?(h[k]=0,h[k+1]=0,h[k+2]=0,h[k+3]=0):(h[k]=E,h[k+1]=I,h[k+2]=x,h[k+3]=S);else if(_==3){if(S=u[w+3],E=u[w],I=u[w+1],x=u[w+2],A=h[k+3],T=h[k],R=h[k+1],N=h[k+2],S==A&&E==T&&I==R&&x==N)continue;if(S<220&&A>20)return!1}return!0}return{decode:function(d){const c=new Uint8Array(d);let h=8;const p=t,g=p.readUshort,y=p.readUint,v={tabs:{},frames:[]},_=new Uint8Array(c.length);let b,m=0,w=0;const k=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(c[S]!=k[S])throw"The input is not a PNG file!";for(;h<c.length;){const C=p.readUint(c,h);h+=4;const O=p.readASCII(c,h,4);if(h+=4,O=="IHDR")l(c,h,v);else if(O=="iCCP"){for(var E=h;c[E]!=0;)E++;p.readASCII(c,h,E-h),c[E+1];const P=c.slice(E+2,h+C);let X=null;try{X=r(P)}catch{X=i(P)}v.tabs[O]=X}else if(O=="CgBI")v.tabs[O]=c.slice(h,h+4);else if(O=="IDAT"){for(S=0;S<C;S++)_[m+S]=c[h+S];m+=C}else if(O=="acTL")v.tabs[O]={num_frames:y(c,h),num_plays:y(c,h+4)},b=new Uint8Array(c.length);else if(O=="fcTL"){w!=0&&((N=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),N.rect.width,N.rect.height),w=0);const P={x:y(c,h+12),y:y(c,h+16),width:y(c,h+4),height:y(c,h+8)};let X=g(c,h+22);X=g(c,h+20)/(X==0?100:X);const H={rect:P,delay:Math.round(1e3*X),dispose:c[h+24],blend:c[h+25]};v.frames.push(H)}else if(O=="fdAT"){for(S=0;S<C-4;S++)b[w+S]=c[h+S+4];w+=C-4}else if(O=="pHYs")v.tabs[O]=[p.readUint(c,h),p.readUint(c,h+4),c[h+8]];else if(O=="cHRM")for(v.tabs[O]=[],S=0;S<8;S++)v.tabs[O].push(p.readUint(c,h+4*S));else if(O=="tEXt"||O=="zTXt"){v.tabs[O]==null&&(v.tabs[O]={});var I=p.nextZero(c,h),x=p.readASCII(c,h,I-h),A=h+C-I-1;if(O=="tEXt")R=p.readASCII(c,I+1,A);else{var T=r(c.slice(I+2,I+2+A));R=p.readUTF8(T,0,T.length)}v.tabs[O][x]=R}else if(O=="iTXt"){v.tabs[O]==null&&(v.tabs[O]={}),I=0,E=h,I=p.nextZero(c,E),x=p.readASCII(c,E,I-E);const P=c[E=I+1];var R;c[E+1],E+=2,I=p.nextZero(c,E),p.readASCII(c,E,I-E),E=I+1,I=p.nextZero(c,E),p.readUTF8(c,E,I-E),A=C-((E=I+1)-h),P==0?R=p.readUTF8(c,E,A):(T=r(c.slice(E,E+A)),R=p.readUTF8(T,0,T.length)),v.tabs[O][x]=R}else if(O=="PLTE")v.tabs[O]=p.readBytes(c,h,C);else if(O=="hIST"){const P=v.tabs.PLTE.length/3;for(v.tabs[O]=[],S=0;S<P;S++)v.tabs[O].push(g(c,h+2*S))}else if(O=="tRNS")v.ctype==3?v.tabs[O]=p.readBytes(c,h,C):v.ctype==0?v.tabs[O]=g(c,h):v.ctype==2&&(v.tabs[O]=[g(c,h),g(c,h+2),g(c,h+4)]);else if(O=="gAMA")v.tabs[O]=p.readUint(c,h)/1e5;else if(O=="sRGB")v.tabs[O]=c[h];else if(O=="bKGD")v.ctype==0||v.ctype==4?v.tabs[O]=[g(c,h)]:v.ctype==2||v.ctype==6?v.tabs[O]=[g(c,h),g(c,h+2),g(c,h+4)]:v.ctype==3&&(v.tabs[O]=c[h]);else if(O=="IEND")break;h+=C,p.readUint(c,h),h+=4}var N;return w!=0&&((N=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),N.rect.width,N.rect.height)),v.data=n(v,_,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(d){const c=d.width,h=d.height;if(d.tabs.acTL==null)return[e(d.data,c,h,d).buffer];const p=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const g=c*h*4,y=new Uint8Array(g),v=new Uint8Array(g),_=new Uint8Array(g);for(let m=0;m<d.frames.length;m++){const w=d.frames[m],k=w.rect.x,S=w.rect.y,E=w.rect.width,I=w.rect.height,x=e(w.data,E,I,d);if(m!=0)for(var b=0;b<g;b++)_[b]=y[b];if(w.blend==0?f(x,E,I,y,c,h,k,S,0):w.blend==1&&f(x,E,I,y,c,h,k,S,1),p.push(y.buffer.slice(0)),w.dispose!=0){if(w.dispose==1)f(v,E,I,y,c,h,k,S,0);else if(w.dispose==2)for(b=0;b<g;b++)y[b]=_[b]}}return p},_paeth:a,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Pr,{_bin:e}=Pr,n=Pr._paeth;var r={table:function(){const E=new Uint32Array(256);for(let I=0;I<256;I++){let x=I;for(let A=0;A<8;A++)1&x?x=3988292384^x>>>1:x>>>=1;E[I]=x}return E}(),update(E,I,x,A){for(let T=0;T<A;T++)E=r.table[255&(E^I[x+T])]^E>>>8;return E},crc:(E,I,x)=>4294967295^r.update(4294967295,E,I,x)};function i(E,I,x,A){I[x]+=E[0]*A>>4,I[x+1]+=E[1]*A>>4,I[x+2]+=E[2]*A>>4,I[x+3]+=E[3]*A>>4}function o(E){return Math.max(0,Math.min(255,E))}function s(E,I){const x=E[0]-I[0],A=E[1]-I[1],T=E[2]-I[2],R=E[3]-I[3];return x*x+A*A+T*T+R*R}function a(E,I,x,A,T,R,N){N==null&&(N=1);const C=A.length,O=[];for(var P=0;P<C;P++){const z=A[P];O.push([z>>>0&255,z>>>8&255,z>>>16&255,z>>>24&255])}for(P=0;P<C;P++){let z=4294967295;for(var X=0,H=0;H<C;H++){var U=s(O[P],O[H]);H!=P&&U<z&&(z=U,X=H)}}const $=new Uint32Array(T.buffer),F=new Int16Array(I*x*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<D.length;P++)D[P]=255*((D[P]+.5)/16-.5);for(let z=0;z<x;z++)for(let B=0;B<I;B++){var K;P=4*(z*I+B),N!=2?K=[o(E[P]+F[P]),o(E[P+1]+F[P+1]),o(E[P+2]+F[P+2]),o(E[P+3]+F[P+3])]:(U=D[4*(3&z)+(3&B)],K=[o(E[P]+U),o(E[P+1]+U),o(E[P+2]+U),o(E[P+3]+U)]),X=0;let V=16777215;for(H=0;H<C;H++){const oe=s(K,O[H]);oe<V&&(V=oe,X=H)}const Z=O[X],Y=[K[0]-Z[0],K[1]-Z[1],K[2]-Z[2],K[3]-Z[3]];N==1&&(B!=I-1&&i(Y,F,P+4,7),z!=x-1&&(B!=0&&i(Y,F,P+4*I-4,3),i(Y,F,P+4*I,5),B!=I-1&&i(Y,F,P+4*I+4,1))),R[P>>2]=X,$[P>>2]=A[X]}}function l(E,I,x,A,T){T==null&&(T={});const{crc:R}=r,N=e.writeUint,C=e.writeUshort,O=e.writeASCII;let P=8;const X=E.frames.length>1;let H,U=!1,$=33+(X?20:0);if(T.sRGB!=null&&($+=13),T.pHYs!=null&&($+=21),T.iCCP!=null&&(H=pako.deflate(T.iCCP),$+=21+H.length+4),E.ctype==3){for(var F=E.plte.length,D=0;D<F;D++)E.plte[D]>>>24!=255&&(U=!0);$+=8+3*F+4+(U?8+1*F+4:0)}for(var K=0;K<E.frames.length;K++)X&&($+=38),$+=(Z=E.frames[K]).cimg.length+12,K!=0&&($+=4);$+=12;const z=new Uint8Array($),B=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)z[D]=B[D];if(N(z,P,13),P+=4,O(z,P,"IHDR"),P+=4,N(z,P,I),P+=4,N(z,P,x),P+=4,z[P]=E.depth,P++,z[P]=E.ctype,P++,z[P]=0,P++,z[P]=0,P++,z[P]=0,P++,N(z,P,R(z,P-17,17)),P+=4,T.sRGB!=null&&(N(z,P,1),P+=4,O(z,P,"sRGB"),P+=4,z[P]=T.sRGB,P++,N(z,P,R(z,P-5,5)),P+=4),T.iCCP!=null){const Y=13+H.length;N(z,P,Y),P+=4,O(z,P,"iCCP"),P+=4,O(z,P,"ICC profile"),P+=11,P+=2,z.set(H,P),P+=H.length,N(z,P,R(z,P-(Y+4),Y+4)),P+=4}if(T.pHYs!=null&&(N(z,P,9),P+=4,O(z,P,"pHYs"),P+=4,N(z,P,T.pHYs[0]),P+=4,N(z,P,T.pHYs[1]),P+=4,z[P]=T.pHYs[2],P++,N(z,P,R(z,P-13,13)),P+=4),X&&(N(z,P,8),P+=4,O(z,P,"acTL"),P+=4,N(z,P,E.frames.length),P+=4,N(z,P,T.loop!=null?T.loop:0),P+=4,N(z,P,R(z,P-12,12)),P+=4),E.ctype==3){for(N(z,P,3*(F=E.plte.length)),P+=4,O(z,P,"PLTE"),P+=4,D=0;D<F;D++){const Y=3*D,oe=E.plte[D],ue=255&oe,ee=oe>>>8&255,j=oe>>>16&255;z[P+Y+0]=ue,z[P+Y+1]=ee,z[P+Y+2]=j}if(P+=3*F,N(z,P,R(z,P-3*F-4,3*F+4)),P+=4,U){for(N(z,P,F),P+=4,O(z,P,"tRNS"),P+=4,D=0;D<F;D++)z[P+D]=E.plte[D]>>>24&255;P+=F,N(z,P,R(z,P-F-4,F+4)),P+=4}}let V=0;for(K=0;K<E.frames.length;K++){var Z=E.frames[K];X&&(N(z,P,26),P+=4,O(z,P,"fcTL"),P+=4,N(z,P,V++),P+=4,N(z,P,Z.rect.width),P+=4,N(z,P,Z.rect.height),P+=4,N(z,P,Z.rect.x),P+=4,N(z,P,Z.rect.y),P+=4,C(z,P,A[K]),P+=2,C(z,P,1e3),P+=2,z[P]=Z.dispose,P++,z[P]=Z.blend,P++,N(z,P,R(z,P-30,30)),P+=4);const Y=Z.cimg;N(z,P,(F=Y.length)+(K==0?0:4)),P+=4;const oe=P;O(z,P,K==0?"IDAT":"fdAT"),P+=4,K!=0&&(N(z,P,V++),P+=4),z.set(Y,P),P+=F,N(z,P,R(z,oe,P-oe)),P+=4}return N(z,P,0),P+=4,O(z,P,"IEND"),P+=4,N(z,P,R(z,P-4,4)),P+=4,z.buffer}function f(E,I,x){for(let A=0;A<E.frames.length;A++){const T=E.frames[A];T.rect.width;const R=T.rect.height,N=new Uint8Array(R*T.bpl+R);T.cimg=h(T.img,R,T.bpp,T.bpl,N,I,x)}}function u(E,I,x,A,T){const R=T[0],N=T[1],C=T[2],O=T[3],P=T[4],X=T[5];let H=6,U=8,$=255;for(var F=0;F<E.length;F++){const de=new Uint8Array(E[F]);for(var D=de.length,K=0;K<D;K+=4)$&=de[K+3]}const z=$!=255,B=function(q,W,te,ne,ce,re){const pe=[];for(var ve=0;ve<q.length;ve++){const Ce=new Uint8Array(q[ve]),tt=new Uint32Array(Ce.buffer);var be;let Et=0,Qt=0,kt=W,Ht=te,fe=ne?1:0;if(ve!=0){const we=re||ne||ve==1||pe[ve-2].dispose!=0?1:2;let me=0,Ee=1e9;for(let Se=0;Se<we;Se++){var Ie=new Uint8Array(q[ve-1-Se]);const Ct=new Uint32Array(q[ve-1-Se]);let vt=W,Vt=te,nn=-1,_n=-1;for(let wn=0;wn<te;wn++)for(let dn=0;dn<W;dn++)tt[Re=wn*W+dn]!=Ct[Re]&&(dn<vt&&(vt=dn),dn>nn&&(nn=dn),wn<Vt&&(Vt=wn),wn>_n&&(_n=wn));nn==-1&&(vt=Vt=nn=_n=0),ce&&((1&vt)==1&&vt--,(1&Vt)==1&&Vt--);const bn=(nn-vt+1)*(_n-Vt+1);bn<Ee&&(Ee=bn,me=Se,Et=vt,Qt=Vt,kt=nn-vt+1,Ht=_n-Vt+1)}Ie=new Uint8Array(q[ve-1-me]),me==1&&(pe[ve-1].dispose=2),be=new Uint8Array(kt*Ht*4),t(Ie,W,te,be,kt,Ht,-Et,-Qt,0),fe=t(Ce,W,te,be,kt,Ht,-Et,-Qt,3)?1:0,fe==1?c(Ce,W,te,be,{x:Et,y:Qt,width:kt,height:Ht}):t(Ce,W,te,be,kt,Ht,-Et,-Qt,0)}else be=Ce.slice(0);pe.push({rect:{x:Et,y:Qt,width:kt,height:Ht},img:be,blend:fe,dispose:0})}if(ne)for(ve=0;ve<pe.length;ve++){if((Ye=pe[ve]).blend==1)continue;const Ce=Ye.rect,tt=pe[ve-1].rect,Et=Math.min(Ce.x,tt.x),Qt=Math.min(Ce.y,tt.y),kt={x:Et,y:Qt,width:Math.max(Ce.x+Ce.width,tt.x+tt.width)-Et,height:Math.max(Ce.y+Ce.height,tt.y+tt.height)-Qt};pe[ve-1].dispose=1,ve-1!=0&&d(q,W,te,pe,ve-1,kt,ce),d(q,W,te,pe,ve,kt,ce)}let Ne=0;if(q.length!=1)for(var Re=0;Re<pe.length;Re++){var Ye;Ne+=(Ye=pe[Re]).rect.width*Ye.rect.height}return pe}(E,I,x,R,N,C),V={},Z=[],Y=[];if(A!=0){const de=[];for(K=0;K<B.length;K++)de.push(B[K].img.buffer);const q=function(ce){let re=0;for(var pe=0;pe<ce.length;pe++)re+=ce[pe].byteLength;const ve=new Uint8Array(re);let be=0;for(pe=0;pe<ce.length;pe++){const Ie=new Uint8Array(ce[pe]),Ne=Ie.length;for(let Re=0;Re<Ne;Re+=4){let Ye=Ie[Re],Ce=Ie[Re+1],tt=Ie[Re+2];const Et=Ie[Re+3];Et==0&&(Ye=Ce=tt=0),ve[be+Re]=Ye,ve[be+Re+1]=Ce,ve[be+Re+2]=tt,ve[be+Re+3]=Et}be+=Ne}return ve.buffer}(de),W=g(q,A);for(K=0;K<W.plte.length;K++)Z.push(W.plte[K].est.rgba);let te=0;for(K=0;K<B.length;K++){const ne=(ue=B[K]).img.length;var oe=new Uint8Array(W.inds.buffer,te>>2,ne>>2);Y.push(oe);const ce=new Uint8Array(W.abuf,te,ne);X&&a(ue.img,ue.rect.width,ue.rect.height,Z,ce,oe),ue.img.set(ce),te+=ne}}else for(F=0;F<B.length;F++){var ue=B[F];const de=new Uint32Array(ue.img.buffer);var ee=ue.rect.width;for(D=de.length,oe=new Uint8Array(D),Y.push(oe),K=0;K<D;K++){const q=de[K];if(K!=0&&q==de[K-1])oe[K]=oe[K-1];else if(K>ee&&q==de[K-ee])oe[K]=oe[K-ee];else{let W=V[q];if(W==null&&(V[q]=W=Z.length,Z.push(q),Z.length>=300))break;oe[K]=W}}}const j=Z.length;for(j<=256&&P==0&&(U=j<=2?1:j<=4?2:j<=16?4:8,U=Math.max(U,O)),F=0;F<B.length;F++){(ue=B[F]).rect.x,ue.rect.y,ee=ue.rect.width;const de=ue.rect.height;let q=ue.img;new Uint32Array(q.buffer);let W=4*ee,te=4;if(j<=256&&P==0){W=Math.ceil(U*ee/8);var Q=new Uint8Array(W*de);const ne=Y[F];for(let ce=0;ce<de;ce++){K=ce*W;const re=ce*ee;if(U==8)for(var G=0;G<ee;G++)Q[K+G]=ne[re+G];else if(U==4)for(G=0;G<ee;G++)Q[K+(G>>1)]|=ne[re+G]<<4-4*(1&G);else if(U==2)for(G=0;G<ee;G++)Q[K+(G>>2)]|=ne[re+G]<<6-2*(3&G);else if(U==1)for(G=0;G<ee;G++)Q[K+(G>>3)]|=ne[re+G]<<7-1*(7&G)}q=Q,H=3,te=1}else if(z==0&&B.length==1){Q=new Uint8Array(ee*de*3);const ne=ee*de;for(K=0;K<ne;K++){const ce=3*K,re=4*K;Q[ce]=q[re],Q[ce+1]=q[re+1],Q[ce+2]=q[re+2]}q=Q,H=2,te=3,W=3*ee}ue.img=q,ue.bpl=W,ue.bpp=te}return{ctype:H,depth:U,plte:Z,frames:B}}function d(E,I,x,A,T,R,N){const C=Uint8Array,O=Uint32Array,P=new C(E[T-1]),X=new O(E[T-1]),H=T+1<E.length?new C(E[T+1]):null,U=new C(E[T]),$=new O(U.buffer);let F=I,D=x,K=-1,z=-1;for(let V=0;V<R.height;V++)for(let Z=0;Z<R.width;Z++){const Y=R.x+Z,oe=R.y+V,ue=oe*I+Y,ee=$[ue];ee==0||A[T-1].dispose==0&&X[ue]==ee&&(H==null||H[4*ue+3]!=0)||(Y<F&&(F=Y),Y>K&&(K=Y),oe<D&&(D=oe),oe>z&&(z=oe))}K==-1&&(F=D=K=z=0),N&&((1&F)==1&&F--,(1&D)==1&&D--),R={x:F,y:D,width:K-F+1,height:z-D+1};const B=A[T];B.rect=R,B.blend=1,B.img=new Uint8Array(R.width*R.height*4),A[T-1].dispose==0?(t(P,I,x,B.img,R.width,R.height,-R.x,-R.y,0),c(U,I,x,B.img,R)):t(U,I,x,B.img,R.width,R.height,-R.x,-R.y,0)}function c(E,I,x,A,T){t(E,I,x,A,T.width,T.height,-T.x,-T.y,2)}function h(E,I,x,A,T,R,N){const C=[];let O,P=[0,1,2,3,4];R!=-1?P=[R]:(I*A>5e5||x==1)&&(P=[0]),N&&(O={level:0});const X=xH;for(var H=0;H<P.length;H++){for(let F=0;F<I;F++)p(T,E,F,A,x,P[H]);C.push(X.deflate(T,O))}let U,$=1e9;for(H=0;H<C.length;H++)C[H].length<$&&(U=H,$=C[H].length);return C[U]}function p(E,I,x,A,T,R){const N=x*A;let C=N+x;if(E[C]=R,C++,R==0)if(A<500)for(var O=0;O<A;O++)E[C+O]=I[N+O];else E.set(new Uint8Array(I.buffer,N,A),C);else if(R==1){for(O=0;O<T;O++)E[C+O]=I[N+O];for(O=T;O<A;O++)E[C+O]=I[N+O]-I[N+O-T]+256&255}else if(x==0){for(O=0;O<T;O++)E[C+O]=I[N+O];if(R==2)for(O=T;O<A;O++)E[C+O]=I[N+O];if(R==3)for(O=T;O<A;O++)E[C+O]=I[N+O]-(I[N+O-T]>>1)+256&255;if(R==4)for(O=T;O<A;O++)E[C+O]=I[N+O]-n(I[N+O-T],0,0)+256&255}else{if(R==2)for(O=0;O<A;O++)E[C+O]=I[N+O]+256-I[N+O-A]&255;if(R==3){for(O=0;O<T;O++)E[C+O]=I[N+O]+256-(I[N+O-A]>>1)&255;for(O=T;O<A;O++)E[C+O]=I[N+O]+256-(I[N+O-A]+I[N+O-T]>>1)&255}if(R==4){for(O=0;O<T;O++)E[C+O]=I[N+O]+256-n(0,I[N+O-A],0)&255;for(O=T;O<A;O++)E[C+O]=I[N+O]+256-n(I[N+O-T],I[N+O-A],I[N+O-T-A])&255}}}function g(E,I){const x=new Uint8Array(E),A=x.slice(0),T=new Uint32Array(A.buffer),R=y(A,I),N=R[0],C=R[1],O=x.length,P=new Uint8Array(O>>2);let X;if(x.length<2e7)for(var H=0;H<O;H+=4)X=v(N,U=x[H]*(1/255),$=x[H+1]*(1/255),F=x[H+2]*(1/255),D=x[H+3]*(1/255)),P[H>>2]=X.ind,T[H>>2]=X.est.rgba;else for(H=0;H<O;H+=4){var U=x[H]*.00392156862745098,$=x[H+1]*(1/255),F=x[H+2]*(1/255),D=x[H+3]*(1/255);for(X=N;X.left;)X=_(X.est,U,$,F,D)<=0?X.left:X.right;P[H>>2]=X.ind,T[H>>2]=X.est.rgba}return{abuf:A.buffer,inds:P,plte:C}}function y(E,I,x){x==null&&(x=1e-4);const A=new Uint32Array(E.buffer),T={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=w(E,T.i0,T.i1),T.est=k(T.bst);const R=[T];for(;R.length<I;){let C=0,O=0;for(var N=0;N<R.length;N++)R[N].est.L>C&&(C=R[N].est.L,O=N);if(C<x)break;const P=R[O],X=b(E,A,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=X||P.i1<=X){P.est.L=0;continue}const H={i0:P.i0,i1:X,bst:null,est:null,tdst:0,left:null,right:null};H.bst=w(E,H.i0,H.i1),H.est=k(H.bst);const U={i0:X,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(U.bst={R:[],m:[],N:P.bst.N-H.bst.N},N=0;N<16;N++)U.bst.R[N]=P.bst.R[N]-H.bst.R[N];for(N=0;N<4;N++)U.bst.m[N]=P.bst.m[N]-H.bst.m[N];U.est=k(U.bst),P.left=H,P.right=U,R[O]=H,R.push(U)}for(R.sort((C,O)=>O.bst.N-C.bst.N),N=0;N<R.length;N++)R[N].ind=N;return[T,R]}function v(E,I,x,A,T){if(E.left==null)return E.tdst=function(H,U,$,F,D){const K=U-H[0],z=$-H[1],B=F-H[2],V=D-H[3];return K*K+z*z+B*B+V*V}(E.est.q,I,x,A,T),E;const R=_(E.est,I,x,A,T);let N=E.left,C=E.right;R>0&&(N=E.right,C=E.left);const O=v(N,I,x,A,T);if(O.tdst<=R*R)return O;const P=v(C,I,x,A,T);return P.tdst<O.tdst?P:O}function _(E,I,x,A,T){const{e:R}=E;return R[0]*I+R[1]*x+R[2]*A+R[3]*T-E.eMq}function b(E,I,x,A,T,R){for(A-=4;x<A;){for(;m(E,x,T)<=R;)x+=4;for(;m(E,A,T)>R;)A-=4;if(x>=A)break;const N=I[x>>2];I[x>>2]=I[A>>2],I[A>>2]=N,x+=4,A-=4}for(;m(E,x,T)>R;)x-=4;return x+4}function m(E,I,x){return E[I]*x[0]+E[I+1]*x[1]+E[I+2]*x[2]+E[I+3]*x[3]}function w(E,I,x){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],R=x-I>>2;for(let N=I;N<x;N+=4){const C=E[N]*.00392156862745098,O=E[N+1]*(1/255),P=E[N+2]*(1/255),X=E[N+3]*(1/255);T[0]+=C,T[1]+=O,T[2]+=P,T[3]+=X,A[0]+=C*C,A[1]+=C*O,A[2]+=C*P,A[3]+=C*X,A[5]+=O*O,A[6]+=O*P,A[7]+=O*X,A[10]+=P*P,A[11]+=P*X,A[15]+=X*X}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:T,N:R}}function k(E){const{R:I}=E,{m:x}=E,{N:A}=E,T=x[0],R=x[1],N=x[2],C=x[3],O=A==0?0:1/A,P=[I[0]-T*T*O,I[1]-T*R*O,I[2]-T*N*O,I[3]-T*C*O,I[4]-R*T*O,I[5]-R*R*O,I[6]-R*N*O,I[7]-R*C*O,I[8]-N*T*O,I[9]-N*R*O,I[10]-N*N*O,I[11]-N*C*O,I[12]-C*T*O,I[13]-C*R*O,I[14]-C*N*O,I[15]-C*C*O],X=P,H=S;let U=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,F=0;if(A!=0)for(let K=0;K<16&&(U=H.multVec(X,U),F=Math.sqrt(H.dot(U,U)),U=H.sml(1/F,U),!(K!=0&&Math.abs(F-$)<1e-9));K++)$=F;const D=[T*O,R*O,N*O,C*O];return{Cov:P,q:D,e:U,L:$,eMq255:H.dot(H.sml(255,D),U),eMq:H.dot(U,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var S={multVec:(E,I)=>[E[0]*I[0]+E[1]*I[1]+E[2]*I[2]+E[3]*I[3],E[4]*I[0]+E[5]*I[1]+E[6]*I[2]+E[7]*I[3],E[8]*I[0]+E[9]*I[1]+E[10]*I[2]+E[11]*I[3],E[12]*I[0]+E[13]*I[1]+E[14]*I[2]+E[15]*I[3]],dot:(E,I)=>E[0]*I[0]+E[1]*I[1]+E[2]*I[2]+E[3]*I[3],sml:(E,I)=>[E*I[0],E*I[1],E*I[2],E*I[3]]};Pr.encode=function(I,x,A,T,R,N,C){T==null&&(T=0),C==null&&(C=!1);const O=u(I,x,A,T,[!1,!1,!1,0,C,!1]);return f(O,-1),l(O,x,A,R,N)},Pr.encodeLL=function(I,x,A,T,R,N,C,O){const P={ctype:0+(T==1?0:2)+(R==0?0:4),depth:N,frames:[]},X=(T+R)*N,H=X*x;for(let U=0;U<I.length;U++)P.frames.push({rect:{x:0,y:0,width:x,height:A},img:new Uint8Array(I[U]),blend:0,dispose:1,bpp:Math.ceil(X/8),bpl:Math.ceil(H/8)});return f(P,0,!0),l(P,x,A,C,O)},Pr.encode.compress=u,Pr.encode.dither=a,Pr.quantize=g,Pr.quantize.getKDtree=y,Pr.quantize.getNearest=v})();const Xk={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,l=a*r,f=122+l,u=new ArrayBuffer(f),d=new DataView(u),c=1<<20;let h,p,g,y,v=c,_=0,b=0,m=0;function w(E){d.setUint16(b,E,!0),b+=2}function k(E){d.setUint32(b,E,!0),b+=4}function S(E){b+=E}w(19778),k(f),S(4),k(122),k(108),k(n),k(-r>>>0),w(1),w(32),k(3),k(l),k(2835),k(2835),S(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function E(){for(;_<r&&v>0;){for(y=122+_*a,h=0;h<i;)v--,p=s[m++],g=p>>>24,d.setUint32(y+h,p<<8|g),h+=4;_++}m<s.length?(v=c,setTimeout(E,Xk._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var sr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},IH={[sr.CHROME]:16384,[sr.FIREFOX]:11180,[sr.DESKTOP_SAFARI]:16384,[sr.IE]:8192,[sr.IOS]:4096,[sr.ETC]:8192};const $v=typeof window<"u",Jk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,_d=$v&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),SH=($v||Jk)&&(_d&&_d.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Zk=($v||Jk)&&(_d&&_d.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Vv(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const f=new Blob([l],{type:o});f.name=e,f.lastModified=n,r(f)})}function e2(t){return new Promise((e,n)=>{const r=new Zk;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function t2(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function ns(){if(ns.cachedResult!==void 0)return ns.cachedResult;let t=sr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=sr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=sr.IOS:/Safari/i.test(e)?t=sr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=sr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=sr.IE),ns.cachedResult=t,ns.cachedResult}function n2(t,e){const n=ns(),r=IH[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const l=(r+i)/2,f=(r+o)/2;l<f?(o=f,i=f*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function Lf(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function r2(t,e){const{width:n,height:r}=n2(t.width,t.height),[i,o]=Lf(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Dc(){return Dc.cachedResult!==void 0||(Dc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Dc.cachedResult}function bd(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=r2(i,e.fileType||t.type),n([i,o])}catch(l){return r(l)}},a=function(l){try{var f=function(u){try{throw u}catch(d){return r(d)}};try{let u;return e2(t).then(function(d){try{return u=d,t2(u).then(function(c){try{return i=c,function(){try{return s()}catch(h){return r(h)}}()}catch(h){return f(h)}},f)}catch(c){return f(c)}},f)}catch(u){f(u)}}catch(u){return r(u)}};try{if(Dc()||[sr.DESKTOP_SAFARI,sr.MOBILE_SAFARI].includes(ns()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function wd(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let d,c,h;return d=t.getContext("2d"),{data:c}=d.getImageData(0,0,t.width,t.height),h=Pr.encode([c.buffer],t.width,t.height,4096*i),a=new Blob([h],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var f=d;if(e==="image/bmp")return new Promise(c=>Xk.toBlob(t,c)).then((function(c){try{return a=c,a.name=n,a.lastModified=r,d.call(this)}catch(h){return s(h)}}).bind(this),s);{let c=function(){return d.call(this)};var u=c;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(h){try{return a=h,a.name=n,a.lastModified=r,c.call(this)}catch(p){return s(p)}}).bind(this),s);{let h;return h=t.toDataURL(e,i),Vv(h,n,r).then((function(p){try{return a=p,c.call(this)}catch(g){return s(g)}}).bind(this),s)}}}function l(){return o(a)}})}function ti(t){t.width=0,t.height=0}function Ks(){return new Promise(function(t,e){let n,r,i,o;return Ks.cachedResult!==void 0?t(Ks.cachedResult):Vv("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,bd(n).then(function(a){try{return r=a[1],wd(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,ti(r),bd(i).then(function(f){try{return o=f[0],Ks.cachedResult=o.width===1&&o.height===2,t(Ks.cachedResult)}catch(u){return e(u)}},e)}catch(f){return e(f)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function i2(t){return new Promise((e,n)=>{const r=new Zk;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const f=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,f);const u=o.getUint16(a,f);a+=2;for(let d=0;d<u;d++)if(o.getUint16(a+12*d,f)==274)return e(o.getUint16(a+12*d+8,f))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function o2(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=Lf(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),ti(t)),s}function s2(t,e){const{width:n}=t,{height:r}=t,[i,o]=Lf(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),ti(t),i}function c1(t,e,n=0){return new Promise(function(r,i){let o,s,a,l,f,u,d,c,h,p,g,y,v,_,b,m,w,k,S,E;function I(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=A,e.onProgress(Math.min(o,100))}function x(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(A,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,I(),bd(t,e).then((function(A){try{return[,l]=A,I(),f=o2(l,e),I(),new Promise(function(T,R){var N;if(!(N=e.exifOrientation))return i2(t).then((function(O){try{return N=O,C.call(this)}catch(P){return R(P)}}).bind(this),R);function C(){return T(N)}return C.call(this)}).then((function(T){try{return u=T,I(),Ks().then((function(R){try{return d=R?f:s2(f,u),I(),c=e.initialQuality||1,h=e.fileType||t.type,wd(d,h,t.name,t.lastModified,c).then((function(N){try{{let X=function(){if(s--&&(b>a||b>v)){let U,$;return U=E?.95*S.width:S.width,$=E?.95*S.height:S.height,[w,k]=Lf(U,$),k.drawImage(S,0,0,U,$),c*=h==="image/png"?.85:.95,wd(w,h,t.name,t.lastModified,c).then(function(F){try{return m=F,ti(S),S=w,b=m.size,x(Math.min(99,Math.floor((_-b)/(_-a)*100))),X}catch(D){return i(D)}},i)}return[1]},H=function(){return ti(S),ti(w),ti(f),ti(d),ti(l),x(100),r(m)};var O=X,P=H;if(p=N,I(),g=p.size>a,y=p.size>t.size,!g&&!y)return x(100),r(p);var C;return v=t.size,_=p.size,b=_,S=d,E=!e.alwaysKeepResolution&&g,(C=(function(U){for(;U;){if(U.then)return void U.then(C,i);try{if(U.pop){if(U.length)return U.pop()?H.call(this):U;U=X}else U=U.call(this)}catch($){return i($)}}}).bind(this))(X)}}catch(X){return i(X)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)}catch(T){return i(T)}}).bind(this),i)})}const RH=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let yp;function OH(t,e){return new Promise((n,r)=>{yp||(yp=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(RH));const i=new Worker(yp);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Fn(t,e){return new Promise(function(n,r){let i,o,s,a,l,f;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=h=>{s=h,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof SH))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||f)return c1(t,i).then((function(h){try{return o=h,c.call(this)}catch(p){return r(p)}}).bind(this),r);var u=(function(){try{return c.call(this)}catch(h){return r(h)}}).bind(this),d=function(h){try{return c1(t,i).then(function(p){try{return o=p,u()}catch(g){return r(g)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",OH(t,i).then(function(h){try{return o=h,u()}catch{return d()}},d)}catch{d()}function c(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=Qk(t,o))}catch{}return n(o)}})}Fn.getDataUrlFromFile=e2,Fn.getFilefromDataUrl=Vv,Fn.loadImage=t2,Fn.drawImageInCanvas=r2,Fn.drawFileInCanvas=bd,Fn.canvasToFile=wd,Fn.getExifOrientation=i2,Fn.handleMaxWidthOrHeight=o2,Fn.followExifOrientation=s2,Fn.cleanupCanvasMemory=ti,Fn.isAutoOrientationInBrowser=Ks,Fn.approximateBelowMaximumCanvasSizeOfBrowser=n2,Fn.copyExifWithoutOrientation=Qk,Fn.getBrowserName=ns,Fn.version="2.0.2";const PH={key:0,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},CH={class:"bg-white rounded-lg p-4 max-w-sm w-full"},DH={class:"mt-1"},MH={class:"flex justify-end"},NH={class:"relative bg-white rounded-lg shadow border border-gray-200"},LH={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},$H=M("h3",{class:"text-lg font-semibold text-gray-900"},"Yeni Blog Yazısı",-1),VH={class:"grid gap-4 mb-4 grid-cols-2"},FH={class:"col-span-2"},UH=M("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Başlık",-1),BH={class:"col-span-2"},jH=M("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900"}," Açıklama ",-1),qH={class:"col-span-2"},HH=M("label",{for:"tags",class:"block mb-2 text-sm font-medium text-gray-900"}," Etiketler ",-1),zH={class:"flex flex-wrap items-center border border-gray p-2 rounded-lg"},KH=["onClick"],WH=M("svg",{class:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[M("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L10 8.586 7.707 6.293a1 1 0 10-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 001.414 1.414L10 11.414l2.293 2.293a1 1 0 001.414-1.414L11.414 10l2.293-2.293z","clip-rule":"evenodd"})],-1),YH=[WH],GH=["onKeydown"],QH={class:"mt-2 text-gray-600"},XH={class:"col-span-2 sm:col-span-1"},JH=M("label",{for:"file-input",class:"block mb-2 text-sm font-medium text-gray-900"},"Fotoğraf Seç",-1),ZH={class:"col-span-2 sm:col-span-1"},ez=M("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),tz=M("option",{value:"hukuk"},"Hukuk",-1),nz=M("option",{value:"haberler"},"Haberler",-1),rz=M("option",{value:"son-dakika"},"Son Dakika",-1),iz=M("option",{value:"blog"},"Blog Yazısı",-1),oz=[tz,nz,rz,iz],sz={class:"col-span-2"},az=M("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),lz={class:"bg-gray-100"},uz=["disabled"],cz=10,dz={__name:"AddBlog",emits:["goBlogManagement","addBlog"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),o=he(["Hukuk","Haber","Ceza Hukuku","TCK"]),s=he(""),a=he(""),l=he(""),f=he(""),u=he("blog"),d=he(null),c=he(null),h=he(null),p=()=>{s.value.trim()&&!o.value.includes(s.value.trim())&&(o.value.push(s.value.trim()),s.value="")},g=b=>{o.value.splice(b,1)},y=ge(()=>cz-o.value.length),v=async b=>{const m=b.target.files[0];if(m&&m.type==="image/jpeg")try{const k=await Fn(m,{maxSizeMB:1,maxWidthOrHeight:1400,useWebWorker:!0,fileType:"image/webp"});c.value=k,h.value=m.name.replace(/\.[^/.]+$/,"")+".webp"}catch(w){console.error("Error compressing the image:",w)}else h.value=null,console.error("Please select a JPEG file.")},_=async()=>{if(r.value=!0,i.value=!0,!c.value){console.error("Please select an image file.");return}const b=_H(),m=yH(b,`images/${h.value}`);try{console.log("Uploading file..."),await gH(m,c.value);const w=await vH(m);console.log("File uploaded:",w);const k={author:"admin",created_date:new Date,updated_date:new Date,title:a.value,tags:o.value,description:l.value,slug:bk(a.value),image:w,content:f.value,category:u.value};console.log("Adding blog post:",k),n("addBlog",k),a.value="",f.value="",l.value="",u.value="Blog Yazısı",c.value=null,h.value=null}catch(w){console.error("Error uploading file or saving blog post:",w)}finally{r.value=!1}};return gt(()=>{console.log("new date test",new Date)}),(b,m)=>(ie(),le("div",null,[i.value?(ie(),le("div",PH,[M("div",CH,[M("div",DH,[r.value?(ie(),Ue(nu,{key:0,text:"Blog Yazısı Yükleniyor..."})):ye("",!0),cn(" "+xe(r.value?"":"Blog yazısı yüklendi."),1)]),M("div",MH,[r.value?ye("",!0):(ie(),le("button",{key:0,onClick:m[0]||(m[0]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dön "))])])])):ye("",!0),M("div",NH,[M("div",LH,[$H,M("button",{onClick:m[1]||(m[1]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön ")]),M("form",{onSubmit:xr(_,["prevent"]),class:"p-4 md:p-5"},[M("div",VH,[M("div",FH,[UH,bt(M("input",{"onUpdate:modelValue":m[2]||(m[2]=w=>a.value=w),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[di,a.value]])]),M("div",BH,[jH,bt(M("textarea",{"onUpdate:modelValue":m[3]||(m[3]=w=>l.value=w),name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı açıklamasını girin",required:"",rows:"3"},null,512),[[di,l.value]])]),M("div",qH,[HH,M("div",zH,[(ie(!0),le(Oe,null,Qe(o.value,(w,k)=>(ie(),le("span",{key:k,class:"flex items-center bg-gray-100 text-sm border border-gray-300 hover:bg-gray-300 text-gray-900 px-3 py-1 rounded-full mr-2 mb-2"},[cn(xe(w)+" ",1),M("button",{onClick:S=>g(k),class:"ml-2 focus:outline-none"},YH,8,KH)]))),128)),bt(M("input",{"onUpdate:modelValue":m[4]||(m[4]=w=>s.value=w),name:"tags",onKeydown:Tb(xr(p,["prevent"]),["enter"]),placeholder:"Yazdıktan sonra Enter tuşuna basarak etiketi ekleyin.",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},null,40,GH),[[di,s.value]])]),M("p",QH,xe(y.value)+" etiket daha ekleyebilirsiniz. ",1)]),M("div",XH,[JH,M("input",{type:"file",id:"file_input",ref_key:"fileInput",ref:d,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",accept:"image/jpeg",onChange:v,required:""},null,544)]),M("div",ZH,[ez,bt(M("select",{"onUpdate:modelValue":m[5]||(m[5]=w=>u.value=w),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},oz,512),[[To,u.value]])]),M("div",sz,[az,M("div",lz,[je(ae(Ck),{content:f.value,"onUpdate:content":m[6]||(m[6]=w=>f.value=w),contentType:"html",toolbar:"essential",theme:"snow",class:"h-[30rem]",placeholder:"Yazı içeriği girin...",required:""},null,8,["content"])])])]),M("button",{type:"submit",disabled:r.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-600"}," Blog Yazısı Ekle ",8,uz)],32)])]))}},fz={key:0,class:"flex items-center justify-center min-h-screen"},hz={__name:"Blogs",setup(t){const e=he(!1),n=he(!1),r=tu(lr,"blogs"),i=he([]);function o(p){u(p)}function s(p){d(p)}function a(p){c(p)}async function l(){let p=[];const g=await fd(r);for(const y of g.docs){let v=y.data();v.id=y.id;const _=tu(lr,"blogs",y.id,"comments"),b=[];(await fd(_)).docs.forEach(w=>{b.push(w.data())}),v.comments=b,p.push(v)}return p=p.map(y=>({...y})),p}async function f(){try{const p=localStorage.getItem("cachedBlogs"),g=localStorage.getItem("cachedTimeBlogs"),y=0*60*1e3;if(p&&g&&new Date-new Date(parseInt(g))<y)return JSON.parse(p);{const v=await l();return localStorage.setItem("cachedBlogs",JSON.stringify(v)),localStorage.setItem("cachedTimeBlogs",new Date().getTime().toString()),v}}catch(p){return console.error("Error getting blogs with comments:",p),[]}}async function u(p){console.log("Received new blog data:",p);try{const g=await P5(r,p),y={...p,id:g.id};i.value=[y,...i.value],localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(g){console.error("Error adding document:",g)}}async function d(p){if(p)try{await O5(Jn(lr,"blogs",p)),i.value=i.value.filter(g=>g.id!==p),localStorage.setItem("cachedBlogs",JSON.stringify(i.value)),console.log(`Blog with ID ${p} deleted successfully.`)}catch(g){console.error("Error deleting blog:",g)}}async function c(p){console.log("Received updated blog data:",p),p.updated_date=new Date,p.slug=bk(p.title);try{await Pi(Jn(lr,"blogs",p.id),p);const g={...p};i.value=i.value.map(y=>y.id===p.id?g:y),localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(g){console.error("Error updating document:",g)}}function h(p){return p.sort((g,y)=>y.created_date-g.created_date)}return gt(async()=>{let p=await f();p=h(p),i.value=p,e.value=!0}),(p,g)=>(ie(),le("div",null,[je(Ur,{name:"fade"},{default:He(()=>[e.value&&!n.value?(ie(),Ue(lq,{key:0,onGoAddBlog:g[0]||(g[0]=y=>n.value=!0),onDeleteBlog:s,onUpdateBlog:a,blogsData:i.value,blogRef:ae(r)},null,8,["blogsData","blogRef"])):ye("",!0)]),_:1}),e.value?ye("",!0):(ie(),le("div",fz,[je(nu,{text:"Blog Yazısı Yükleniyor..."})])),je(Ur,{name:"fade"},{default:He(()=>[n.value?(ie(),Ue(dz,{key:0,onGoBlogManagement:g[1]||(g[1]=y=>n.value=!1),onAddBlog:o})):ye("",!0)]),_:1})]))}},pz=Yr(hz,[["__scopeId","data-v-b21c121c"]]),mz={__name:"Lawyers",setup(t){return(e,n)=>(ie(),le("h1",null,"Avukatlar"))}},gz={key:0},vz={key:1},d1={__name:"Settings",setup(t){const e=Oo(),n=ge(()=>e.getters.userRole);return ge(()=>e.getters.user?e.getters.user.uid:null),(r,i)=>(ie(),le("div",null,[n.value==="attorney"?(ie(),le("div",gz," avukat ayarları ")):(ie(),le("div",vz,"admin ayarları değiştirildi feat-12 test 4 eylül "))]))}},yz={},_z={class:"bg-gray-800"},bz=Hm('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfa mecvut değil.</p><div class="flex justify-center"><a href="/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),wz=[bz];function Ez(t,e,n,r,i,o){return ie(),le("section",_z,wz)}const Tz=Yr(yz,[["render",Ez]]),Az={},kz={class:"bg-gray-800"},xz=Hm('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfayı görmek için yetkiniz yok.</p><div class="flex justify-center"><a href="/main/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),Iz=[xz];function Sz(t,e,n,r,i,o){return ie(),le("section",kz,Iz)}const Rz=Yr(Az,[["render",Sz]]),Oz=M("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),Pz={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},Cz={class:"relative p-4 w-[30rem] max-h-full"},Dz={class:"relative bg-white rounded-lg shadow"},Mz={class:"flex items-center justify-between p-4 border-b rounded-t"},Nz=M("h3",{class:"text-lg font-semibold text-gray-900"}," Uygun Olmayan Tarih ve Saat Aralığını Seç ",-1),Lz=M("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14","aria-hidden":"true"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),$z=M("span",{class:"sr-only"},"Close modal",-1),Vz=[Lz,$z],Fz={class:"grid gap-4 mb-4 grid-cols-2"},Uz={class:"col-span-2"},Bz=M("label",{for:"date",class:"block mb-2 text-sm font-medium text-gray-900"},"Tarih",-1),jz={class:"col-span-1"},qz=M("label",{for:"start-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Başlangıç",-1),Hz=["value"],zz={class:"col-span-1"},Kz=M("label",{for:"end-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Bitiş",-1),Wz=["value"],Yz={class:"col-span-2"},Gz={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4 mt-4"},Qz={class:"flex justify-between items-center mb-3"},Xz=M("span",{class:"text-gray-900 text-base font-medium"},"Tekrarla",-1),Jz={class:"inline-flex items-center cursor-pointer"},Zz=M("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),eK=M("div",{class:"flex items-center"},[M("p",{class:"text-sm text-gray-500 font-normal"}," Eğer seçiliyse, bu tarih ve saat aralığı haftalık olarak tekrarlanacaktır. ")],-1),tK=M("div",{class:"col-span-2"},[M("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),nK={__name:"WorkingHoursExceptionModal",emits:["close","save-exception"],setup(t,{emit:e}){const n=he(new Date),r=he("12:00"),i=he("13:00"),o=he(!1),s=e,a=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],l=()=>{const u={date:n.value?Fr(new Date(n.value),"yyyy-MM-dd"):"",startTime:r.value,endTime:i.value,repeat:o.value,isMeeting:!1};s("save-exception",u),s("close")};return(f,u)=>(ie(),le(Oe,null,[Oz,M("div",Pz,[M("div",Cz,[M("div",Dz,[M("div",Mz,[Nz,M("button",{onClick:u[0]||(u[0]=d=>f.$emit("close")),type:"button",class:"text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},Vz)]),M("form",{onSubmit:xr(l,["prevent"]),class:"p-4"},[M("div",Fz,[M("div",Uz,[Bz,je(ae(Ou),{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=d=>n.value=d),name:"date",class:"form-input","enable-time-picker":!1,required:""},null,8,["modelValue"])]),M("div",jz,[qz,bt(M("select",{"onUpdate:modelValue":u[2]||(u[2]=d=>r.value=d),required:"",id:"start-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),le(Oe,null,Qe(a,d=>M("option",{key:d,value:d},xe(d),9,Hz)),64))],512),[[To,r.value]])]),M("div",zz,[Kz,bt(M("select",{"onUpdate:modelValue":u[3]||(u[3]=d=>i.value=d),required:"",id:"end-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),le(Oe,null,Qe(a,d=>M("option",{key:d,value:d},xe(d),9,Wz)),64))],512),[[To,i.value]])])]),M("div",Yz,[M("div",Gz,[M("div",Qz,[Xz,M("label",Jz,[bt(M("input",{"onUpdate:modelValue":u[4]||(u[4]=d=>o.value=d),type:"checkbox",class:"sr-only peer"},null,512),[[Qs,o.value]]),Zz])]),eK])]),tK],32)])])])],64))}},Fv=t=>(Rd("data-v-2eae121c"),t=t(),Od(),t),rK={key:0,class:"mb-4 mt-4"},iK={class:"flex justify-between items-center"},oK={class:"text-sm font-medium text-gray-900 dark:text-white"},sK={class:"text-sm text-gray-600 dark:text-gray-300"},aK={class:"text-sm text-gray-600 dark:text-gray-300"},lK={key:0,class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 rounded-lg focus:outline-none"},uK=Fv(()=>M("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[M("path",{d:"M6 4H21C21.5523 4 22 4.44772 22 5V12H20V6H6V9L1 5L6 1V4ZM18 20H3C2.44772 20 2 19.5523 2 19V12H4V18H18V15L23 19L18 23V20Z"})],-1)),cK=[uK],dK=["onClick"],fK=Fv(()=>M("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[M("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1)),hK=[fK],pK=Fv(()=>M("svg",{class:"w-4 h-4 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1)),mK={__name:"WorkingHoursExceptioner",props:{exceptions:Array},emits:["add-exception","remove-exception"],setup(t,{emit:e}){const n=he(!1),r=e,i=s=>{r("add-exception",s)},o=s=>{r("remove-exception",s)};return(s,a)=>(ie(),le(Oe,null,[t.exceptions.length?(ie(),le("div",rK,[(ie(!0),le(Oe,null,Qe(t.exceptions,(l,f)=>(ie(),le("div",{key:f,class:"p-4 mb-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},[M("div",iK,[M("div",null,[M("p",oK," Tarih: "+xe(l.date),1),M("p",sK," Başlangıç: "+xe(l.startTime),1),M("p",aK," Bitiş: "+xe(l.endTime),1)]),M("div",null,[l.repeat?(ie(),le("button",lK,cK)):ye("",!0),M("button",{onClick:u=>o(f),class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 rounded-lg focus:outline-none"},hK,8,dK)])])]))),128))])):ye("",!0),M("button",{onClick:a[0]||(a[0]=l=>n.value=!0),type:"button",class:"inline-flex items-center justify-center w-full py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[pK,cn(" Ekle ")]),n.value?(ie(),Ue(nK,{key:1,onClose:a[1]||(a[1]=l=>n.value=!1),onSaveException:i})):ye("",!0)],64))}},gK=Yr(mK,[["__scopeId","data-v-2eae121c"]]),vK={class:"max-w-xl mx-auto bg-white"},yK={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},_K={class:"flex justify-between items-center mb-3"},bK=M("span",{class:"text-gray-900 text-base font-medium"},"Çalışma Saatleri",-1),wK={class:"inline-flex items-center cursor-pointer"},EK=M("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),TK=M("span",{class:"sr-only"},"Çalışma Saatleri",-1),AK=M("div",{class:"flex items-center"},[M("p",{class:"text-sm text-gray-500 font-normal"}," Tüm haftalık çalışma günleri için iş çalışma saatlerini etkinleştir veya devre dışı bırak ")],-1),kK={class:"flex items-center justify-between"},xK={class:"flex items-center"},IK={class:"inline-flex items-center cursor-pointer"},SK=["onUpdate:modelValue","id"],RK=M("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),OK=M("span",{class:"sr-only"},"Çalışma Saatleri",-1),PK=["for"],CK=["onClick"],DK={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},MK=["d"],NK={key:0,class:"mt-4"},LK=["onUpdate:modelValue"],$K=["value"],VK=M("span",null,"-",-1),FK=["onUpdate:modelValue"],UK=["value"],BK={key:0,class:"flex items-center"},jK=["onClick"],qK=M("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),HK=[qK],zK=["disabled","onClick"],KK=M("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[M("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),WK=[KK],YK=["onClick"],GK=M("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[M("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),QK=[GK],XK=M("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ",-1),JK={__name:"WorkingHoursScheduler",props:{schedule:Object},emits:["save-schedule"],setup(t,{emit:e}){const n=t,r=e,i=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],o=Kr(Array(5).fill(!0));n.schedule.days.forEach((d,c)=>{en(()=>d.enabled,h=>{h||(o[c]=!0)})});const s=d=>{o[d]=!o[d]},a=d=>{n.schedule.days[d].intervals.push({start:"09:00",end:"17:00"})},l=(d,c)=>{n.schedule.days[d].intervals.splice(c,1)};function f(d){const[c,h]=d.split(":").map(Number);return c*60+h}const u=()=>{const d={isWorkingHoursEnabled:n.schedule.isWorkingHoursEnabled,days:n.schedule.days.map(c=>({name:c.name,enabled:c.enabled,intervals:c.intervals.map(h=>{const p=f(h.start),y=(f(h.end)-p)/60;return{start:h.start,end:h.end,length:y}})}))};r("save-schedule",d)};return(d,c)=>(ie(),le("div",vK,[M("form",{onSubmit:xr(u,["prevent"])},[M("div",yK,[M("div",_K,[bK,M("label",wK,[bt(M("input",{"onUpdate:modelValue":c[0]||(c[0]=h=>n.schedule.isWorkingHoursEnabled=h),type:"checkbox",class:"sr-only peer"},null,512),[[Qs,n.schedule.isWorkingHoursEnabled]]),EK,TK])]),AK]),(ie(!0),le(Oe,null,Qe(t.schedule.days,(h,p)=>(ie(),le("div",{key:p,class:Ke(["border rounded-lg p-4 mb-4",{"border-gray-300":h.enabled,"opacity-50":!h.enabled}])},[M("div",kK,[M("div",xK,[M("label",IK,[bt(M("input",{"onUpdate:modelValue":g=>h.enabled=g,type:"checkbox",id:`toggle-${h.name}`,class:"sr-only peer"},null,8,SK),[[Qs,h.enabled]]),RK,OK]),M("label",{for:`toggle-${h.name}`,class:"ml-2 p-1.5 text-sm font-medium text-gray-900"},xe(h.name),9,PK)]),h.enabled?(ie(),le("div",{key:0,onClick:g=>s(p),class:"text-gray-500 p-1.5 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},[(ie(),le("svg",DK,[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o[p]?"M19 9l-7 7-7-7":"M19 15l-7-7-7 7"},null,8,MK)]))],8,CK)):ye("",!0)]),o[p]?ye("",!0):(ie(),le("div",NK,[(ie(!0),le(Oe,null,Qe(h.intervals,(g,y)=>(ie(),le("div",{key:y,class:"flex items-center mb-2"},[bt(M("select",{"onUpdate:modelValue":v=>g.start=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),le(Oe,null,Qe(i,v=>M("option",{key:v,value:v},xe(v),9,$K)),64))],8,LK),[[To,g.start]]),VK,bt(M("select",{"onUpdate:modelValue":v=>g.end=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 ml-2"},[(ie(),le(Oe,null,Qe(i,v=>M("option",{key:v,value:v},xe(v),9,UK)),64))],8,FK),[[To,g.end]]),y===h.intervals.length-1?(ie(),le("div",BK,[M("button",{onClick:v=>a(p),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},HK,8,jK),M("button",{disabled:h.intervals.length===1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},WK,8,zK)])):(ie(),le("button",{key:1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 mr-10 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},QK,8,YK))]))),128))]))],2))),128)),XK],32)]))}},ZK={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},eW={class:"bg-white rounded-lg p-6 shadow-lg w-[32rem]"},tW={class:"flex items-center justify-between"},nW=M("div",{class:"flex items-center"},[M("svg",{class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),M("h3",{class:"text-lg font-semibold text-gray-900 ml-2"},"Başarıyla Kaydedildi")],-1),rW={class:"pl-4"},iW=M("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[M("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),oW=M("span",{class:"sr-only"},"Close modal",-1),sW=[iW,oW],aW={class:"mt-4 text-gray-700"},f1={__name:"SuccessModal",props:{contentText:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ie(),le("div",ZK,[M("div",eW,[M("div",tW,[nW,M("div",rW,[M("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},sW)])]),M("p",aW,xe(t.contentText),1),M("button",{onClick:r[1]||(r[1]=i=>n.$emit("close")),class:"mt-6 bg-green-500 text-white px-4 py-2 rounded-lg w-full"}," OK ")])]))}},lW={key:0},uW={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},cW={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},dW=M("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[M("span",{class:"mb-2"},"Periyodik Çalışma Saatlerini Seç")],-1),fW={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},hW=M("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[M("span",{class:"mb-2"},"İstisnai Çalışma Saatleri")],-1),pW={key:1},mW={__name:"AppointmentSettings",setup(t){const e=Oo(),n=he(!1),r=he(!1),i=ge(()=>e.getters.userRole),o=ge(()=>e.getters.user?e.getters.user.uid:null);he([]);const s=tu(lr,"attorneys"),a=he([]),l=he([{duration:"",price:"",type:""}]),f=he({isWorkingHoursEnabled:!0,days:[{name:"Pazartesi",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Salı",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Çarşamba",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Perşembe",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Cuma",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]}]}),u=m=>{a.value.push(m),p(m),console.log("Saved Exception:",a.value)},d=m=>{a.value.splice(m,1),g(m)},c=m=>{f.value=m,y(m),console.log("Saved Schedule:",f.value),n.value=!0},h=m=>{l.value=m,v(),console.log("Saved Appointment Settings:",l.value),r.value=!0};async function p(m){try{const w=Jn(s,o.value);await Pi(w,{exceptions:D5(m)}),console.log("Exception added successfully")}catch(w){console.error("Error adding exception:",w)}}async function g(m){try{const w=Jn(s,o.value),k=[...a.value];k.splice(m,1),await Pi(w,{exceptions:k}),a.value=k,console.log("Exception removed successfully")}catch(w){console.error("Error removing exception:",w)}}async function y(m){try{const w=Jn(s,o.value);await Pi(w,{schedule:m}),console.log("Schedule updated successfully")}catch(w){console.error("Error updating schedule:",w)}}async function v(){try{const m=Jn(s,o.value);await Pi(m,{appointment_settings:l.value}),console.log("Appointment settings updated successfully")}catch(m){console.error("Error updating appointment settings:",m)}}async function _(){try{const m=await b(o.value);if(m.schedule&&(f.value=m.schedule),m.exceptions)for(let w of m.exceptions)w.isMeeting||a.value.push(w);m.appointment_settings&&(l.value=m.appointment_settings),console.log("Schedule and exceptions fetched successfully")}catch(m){console.error("Error fetching schedule and exceptions:",m)}}async function b(m){const w=Jn(s,m),k=await va(w);if(k.exists())return{id:k.id,...k.data()};throw new Error("Attorney not found")}return gt(()=>{_()}),(m,w)=>i.value==="attorney"?(ie(),le("div",lW,[n.value?(ie(),Ue(f1,{key:0,contentText:"Haftalık çalışma saatleri değişikliği başarıyla kaydedildi. Bu randevu saatleri her hafta için tekrarlanarak uygulanacaktır.",onClose:w[0]||(w[0]=k=>n.value=!1)})):ye("",!0),r.value?(ie(),Ue(f1,{key:1,contentText:"Randevu seçenek ayarlarınız başarıyla kaydedildi.",onClose:w[1]||(w[1]=k=>r.value=!1)})):ye("",!0),M("div",uW,[M("div",cW,[dW,je(JK,{schedule:f.value,onSaveSchedule:c},null,8,["schedule"])]),M("div",fW,[hW,je(gK,{exceptions:a.value,onAddException:u,onRemoveException:d},null,8,["exceptions"])])]),je(PA,{appointmentSettings:l.value,onSaveAppointmentSettings:h},null,8,["appointmentSettings"])])):(ie(),le("div",pW,"admin"))}},gW=[{path:"/",name:"LoginPage",component:Y5},{path:"/unauthorized",name:"Unauthorized",component:Rz},{path:"/:pathMatch(.*)*",name:"NotFound",component:Tz},{path:"/",component:CL,meta:{requiresAuth:!0},children:[{path:"home",name:"Home",component:R_,meta:{requiresAuth:!0}},{path:"home/:uid",name:"HomeWithUID",component:R_,meta:{requiresAuth:!0}},{path:"online-meetings",name:"OnlineMeetings",component:e1,meta:{requiresAuth:!0,role:"admin"}},{path:"online-meetings/:uid",name:"OnlineMeetingsWithUID",component:e1,meta:{requiresAuth:!0}},{path:"blogs",name:"Blogs",component:pz,meta:{requiresAuth:!0,role:"admin"}},{path:"lawyers",name:"Lawyers",component:mz,meta:{requiresAuth:!0,role:"admin"}},{path:"settings",name:"Settings",component:d1,meta:{requiresAuth:!0}},{path:"settings/:uid",name:"SettingsWithUID",component:d1,meta:{requiresAuth:!0}},{path:"appointment-settings/:uid",name:"AppointmentSettingsWithUID",component:mW,meta:{requiresAuth:!0}}]}],a2=WS({history:ES(),routes:gW,linkActiveClass:"bg-gray-950 text-white"});a2.beforeEach(async(t,e,n)=>{if(await Rc.dispatch("initializeAuth"),t.meta.requiresAuth&&!Rc.getters.isAuthenticated)n("/");else if(t.meta.requiresAuth){const r=Rc.getters.userRole;t.meta.role&&t.meta.role!==r?n(r==="attorney"?"/home":"/unauthorized"):n()}else n()});const vW={};function yW(t,e){const n=Fm("router-view");return ie(),Ue(n)}const _W=Yr(vW,[["render",yW]]);NI(_W).use(a2).use(Rc).component("VueDatePicker",Ou).mount("#app");
