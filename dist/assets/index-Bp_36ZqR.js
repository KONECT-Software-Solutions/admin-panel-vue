var rI=Object.defineProperty;var iI=(t,e,n)=>e in t?rI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ce=(t,e,n)=>iI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ym(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const It={},Xo=[],wr=()=>{},sI=()=>!1,Pd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Gm=t=>t.startsWith("onUpdate:"),Jt=Object.assign,Qm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},oI=Object.prototype.hasOwnProperty,ct=(t,e)=>oI.call(t,e),je=Array.isArray,Jo=t=>hu(t)==="[object Map]",Ia=t=>hu(t)==="[object Set]",hy=t=>hu(t)==="[object Date]",Je=t=>typeof t=="function",Dt=t=>typeof t=="string",Vi=t=>typeof t=="symbol",Tt=t=>t!==null&&typeof t=="object",Xb=t=>(Tt(t)||Je(t))&&Je(t.then)&&Je(t.catch),Jb=Object.prototype.toString,hu=t=>Jb.call(t),aI=t=>hu(t).slice(8,-1),Zb=t=>hu(t)==="[object Object]",Xm=t=>Dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ml=Ym(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},lI=/-(\w)/g,_i=Cd(t=>t.replace(lI,(e,n)=>n?n.toUpperCase():"")),uI=/\B([A-Z])/g,wo=Cd(t=>t.replace(uI,"-$1").toLowerCase()),Dd=Cd(t=>t.charAt(0).toUpperCase()+t.slice(1)),Dh=Cd(t=>t?`on${Dd(t)}`:""),Ts=(t,e)=>!Object.is(t,e),Ac=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},e1=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Hc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},cI=t=>{const e=Dt(t)?Number(t):NaN;return isNaN(e)?t:e};let py;const t1=()=>py||(py=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cn(t){if(je(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Dt(r)?pI(r):cn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Dt(t)||Tt(t))return t}const dI=/;(?![^(]*\))/g,fI=/:([^]+)/,hI=/\/\*[^]*?\*\//g;function pI(t){const e={};return t.replace(hI,"").split(dI).forEach(n=>{if(n){const r=n.split(fI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function We(t){let e="";if(Dt(t))e=t;else if(je(t))for(let n=0;n<t.length;n++){const r=We(t[n]);r&&(e+=r+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function dn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Dt(e)&&(t.class=We(e)),n&&(t.style=cn(n)),t}const mI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gI=Ym(mI);function n1(t){return!!t||t===""}function vI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=pu(t[r],e[r]);return n}function pu(t,e){if(t===e)return!0;let n=hy(t),r=hy(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Vi(t),r=Vi(e),n||r)return t===e;if(n=je(t),r=je(e),n||r)return n&&r?vI(t,e):!1;if(n=Tt(t),r=Tt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!pu(t[o],e[o]))return!1}}return String(t)===String(e)}function Jm(t,e){return t.findIndex(n=>pu(n,e))}const Ie=t=>Dt(t)?t:t==null?"":je(t)||Tt(t)&&(t.toString===Jb||!Je(t.toString))?JSON.stringify(t,r1,2):String(t),r1=(t,e)=>e&&e.__v_isRef?r1(t,e.value):Jo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Nh(r,s)+" =>"]=i,n),{})}:Ia(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Nh(n))}:Vi(e)?Nh(e):Tt(e)&&!je(e)&&!Zb(e)?String(e):e,Nh=(t,e="")=>{var n;return Vi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ur;class i1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ur,!e&&ur&&(this.index=(ur.scopes||(ur.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ur;try{return ur=this,e()}finally{ur=n}}}on(){ur=this}off(){ur=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function yI(t){return new i1(t)}function _I(t,e=ur){e&&e.active&&e.effects.push(t)}function s1(){return ur}function bI(t){ur&&ur.cleanups.push(t)}let io;class Zm{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,_I(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Os();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(wI(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ps()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ms,n=io;try{return ms=!0,io=this,this._runnings++,my(this),this.fn()}finally{gy(this),this._runnings--,io=n,ms=e}}stop(){this.active&&(my(this),gy(this),this.onStop&&this.onStop(),this.active=!1)}}function wI(t){return t.value}function my(t){t._trackId++,t._depsLength=0}function gy(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)o1(t.deps[e],t);t.deps.length=t._depsLength}}function o1(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ms=!0,Mp=0;const a1=[];function Os(){a1.push(ms),ms=!1}function Ps(){const t=a1.pop();ms=t===void 0?!0:t}function eg(){Mp++}function tg(){for(Mp--;!Mp&&Lp.length;)Lp.shift()()}function l1(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&o1(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Lp=[];function u1(t,e,n){eg();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Lp.push(r.scheduler)))}tg()}const c1=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},zc=new WeakMap,so=Symbol(""),$p=Symbol("");function sr(t,e,n){if(ms&&io){let r=zc.get(t);r||zc.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=c1(()=>r.delete(n))),l1(io,i)}}function Mi(t,e,n,r,i,s){const o=zc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&je(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Vi(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":je(t)?Xm(n)&&a.push(o.get("length")):(a.push(o.get(so)),Jo(t)&&a.push(o.get($p)));break;case"delete":je(t)||(a.push(o.get(so)),Jo(t)&&a.push(o.get($p)));break;case"set":Jo(t)&&a.push(o.get(so));break}eg();for(const l of a)l&&u1(l,4);tg()}function EI(t,e){const n=zc.get(t);return n&&n.get(e)}const TI=Ym("__proto__,__v_isRef,__isVue"),d1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Vi)),vy=AI();function AI(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ft(this);for(let s=0,o=this.length;s<o;s++)sr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ft)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Os(),eg();const r=ft(this)[e].apply(this,n);return tg(),Ps(),r}}),t}function kI(t){Vi(t)||(t=String(t));const e=ft(this);return sr(e,"has",t),e.hasOwnProperty(t)}class f1{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?VI:g1:s?m1:p1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=je(e);if(!i){if(o&&ct(vy,n))return Reflect.get(vy,n,r);if(n==="hasOwnProperty")return kI}const a=Reflect.get(e,n,r);return(Vi(n)?d1.has(n):TI(n))||(i||sr(e,"get",n),s)?a:fn(a)?o&&Xm(n)?a:a.value:Tt(a)?i?y1(a):Kr(a):a}}class h1 extends f1{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Ml(s);if(!Kc(r)&&!Ml(r)&&(s=ft(s),r=ft(r)),!je(e)&&fn(s)&&!fn(r))return l?!1:(s.value=r,!0)}const o=je(e)&&Xm(n)?Number(n)<e.length:ct(e,n),a=Reflect.set(e,n,r,i);return e===ft(i)&&(o?Ts(r,s)&&Mi(e,"set",n,r):Mi(e,"add",n,r)),a}deleteProperty(e,n){const r=ct(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Mi(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Vi(n)||!d1.has(n))&&sr(e,"has",n),r}ownKeys(e){return sr(e,"iterate",je(e)?"length":so),Reflect.ownKeys(e)}}class xI extends f1{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const II=new h1,SI=new xI,RI=new h1(!0);const ng=t=>t,Nd=t=>Reflect.getPrototypeOf(t);function ec(t,e,n=!1,r=!1){t=t.__v_raw;const i=ft(t),s=ft(e);n||(Ts(e,s)&&sr(i,"get",e),sr(i,"get",s));const{has:o}=Nd(i),a=r?ng:n?sg:Ll;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function tc(t,e=!1){const n=this.__v_raw,r=ft(n),i=ft(t);return e||(Ts(t,i)&&sr(r,"has",t),sr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function nc(t,e=!1){return t=t.__v_raw,!e&&sr(ft(t),"iterate",so),Reflect.get(t,"size",t)}function yy(t){t=ft(t);const e=ft(this);return Nd(e).has.call(e,t)||(e.add(t),Mi(e,"add",t,t)),this}function _y(t,e){e=ft(e);const n=ft(this),{has:r,get:i}=Nd(n);let s=r.call(n,t);s||(t=ft(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Ts(e,o)&&Mi(n,"set",t,e):Mi(n,"add",t,e),this}function by(t){const e=ft(this),{has:n,get:r}=Nd(e);let i=n.call(e,t);i||(t=ft(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Mi(e,"delete",t,void 0),s}function wy(){const t=ft(this),e=t.size!==0,n=t.clear();return e&&Mi(t,"clear",void 0,void 0),n}function rc(t,e){return function(r,i){const s=this,o=s.__v_raw,a=ft(o),l=e?ng:t?sg:Ll;return!t&&sr(a,"iterate",so),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function ic(t,e,n){return function(...r){const i=this.__v_raw,s=ft(i),o=Jo(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?ng:e?sg:Ll;return!e&&sr(s,"iterate",l?$p:so),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Yi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function OI(){const t={get(s){return ec(this,s)},get size(){return nc(this)},has:tc,add:yy,set:_y,delete:by,clear:wy,forEach:rc(!1,!1)},e={get(s){return ec(this,s,!1,!0)},get size(){return nc(this)},has:tc,add:yy,set:_y,delete:by,clear:wy,forEach:rc(!1,!0)},n={get(s){return ec(this,s,!0)},get size(){return nc(this,!0)},has(s){return tc.call(this,s,!0)},add:Yi("add"),set:Yi("set"),delete:Yi("delete"),clear:Yi("clear"),forEach:rc(!0,!1)},r={get(s){return ec(this,s,!0,!0)},get size(){return nc(this,!0)},has(s){return tc.call(this,s,!0)},add:Yi("add"),set:Yi("set"),delete:Yi("delete"),clear:Yi("clear"),forEach:rc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=ic(s,!1,!1),n[s]=ic(s,!0,!1),e[s]=ic(s,!1,!0),r[s]=ic(s,!0,!0)}),[t,n,e,r]}const[PI,CI,DI,NI]=OI();function rg(t,e){const n=e?t?NI:DI:t?CI:PI;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ct(n,i)&&i in r?n:r,i,s)}const MI={get:rg(!1,!1)},LI={get:rg(!1,!0)},$I={get:rg(!0,!1)};const p1=new WeakMap,m1=new WeakMap,g1=new WeakMap,VI=new WeakMap;function FI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BI(t){return t.__v_skip||!Object.isExtensible(t)?0:FI(aI(t))}function Kr(t){return Ml(t)?t:ig(t,!1,II,MI,p1)}function v1(t){return ig(t,!1,RI,LI,m1)}function y1(t){return ig(t,!0,SI,$I,g1)}function ig(t,e,n,r,i){if(!Tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=BI(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function gl(t){return Ml(t)?gl(t.__v_raw):!!(t&&t.__v_isReactive)}function Ml(t){return!!(t&&t.__v_isReadonly)}function Kc(t){return!!(t&&t.__v_isShallow)}function _1(t){return t?!!t.__v_raw:!1}function ft(t){const e=t&&t.__v_raw;return e?ft(e):t}function jI(t){return Object.isExtensible(t)&&e1(t,"__v_skip",!0),t}const Ll=t=>Tt(t)?Kr(t):t,sg=t=>Tt(t)?y1(t):t;class b1{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Zm(()=>e(this._value),()=>kc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ft(this);return(!e._cacheable||e.effect.dirty)&&Ts(e._value,e._value=e.effect.run())&&kc(e,4),w1(e),e.effect._dirtyLevel>=2&&kc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function UI(t,e,n=!1){let r,i;const s=Je(t);return s?(r=t,i=wr):(r=t.get,i=t.set),new b1(r,i,s||!i,n)}function w1(t){var e;ms&&io&&(t=ft(t),l1(io,(e=t.dep)!=null?e:t.dep=c1(()=>t.dep=void 0,t instanceof b1?t:void 0)))}function kc(t,e=4,n){t=ft(t);const r=t.dep;r&&u1(r,e)}function fn(t){return!!(t&&t.__v_isRef===!0)}function he(t){return E1(t,!1)}function qI(t){return E1(t,!0)}function E1(t,e){return fn(t)?t:new HI(t,e)}class HI{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ft(e),this._value=n?e:Ll(e)}get value(){return w1(this),this._value}set value(e){const n=this.__v_isShallow||Kc(e)||Ml(e);e=n?e:ft(e),Ts(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ll(e),kc(this,4))}}function ae(t){return fn(t)?t.value:t}const zI={get:(t,e,n)=>ae(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return fn(i)&&!fn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function T1(t){return gl(t)?t:new Proxy(t,zI)}class KI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return EI(ft(this._object),this._key)}}class WI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function $l(t,e,n){return fn(t)?t:Je(t)?new WI(t):Tt(t)&&arguments.length>1?YI(t,e,n):he(t)}function YI(t,e,n){const r=t[e];return fn(r)?r:new KI(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gs(t,e,n,r){try{return r?t(...r):t()}catch(i){Md(i,e,n)}}function Er(t,e,n,r){if(Je(t)){const i=gs(t,e,n,r);return i&&Xb(i)&&i.catch(s=>{Md(s,e,n)}),i}if(je(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Er(t[s],e,n,r));return i}}function Md(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Os(),gs(l,null,10,[t,o,a]),Ps();return}}GI(t,n,i,r)}function GI(t,e,n,r=!0){console.error(t)}let Vl=!1,Vp=!1;const Mn=[];let ii=0;const Zo=[];let ns=null,Qs=0;const A1=Promise.resolve();let og=null;function kn(t){const e=og||A1;return t?e.then(this?t.bind(this):t):e}function QI(t){let e=ii+1,n=Mn.length;for(;e<n;){const r=e+n>>>1,i=Mn[r],s=Fl(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function ag(t){(!Mn.length||!Mn.includes(t,Vl&&t.allowRecurse?ii+1:ii))&&(t.id==null?Mn.push(t):Mn.splice(QI(t.id),0,t),k1())}function k1(){!Vl&&!Vp&&(Vp=!0,og=A1.then(I1))}function XI(t){const e=Mn.indexOf(t);e>ii&&Mn.splice(e,1)}function JI(t){je(t)?Zo.push(...t):(!ns||!ns.includes(t,t.allowRecurse?Qs+1:Qs))&&Zo.push(t),k1()}function Ey(t,e,n=Vl?ii+1:0){for(;n<Mn.length;n++){const r=Mn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Mn.splice(n,1),n--,r()}}}function x1(t){if(Zo.length){const e=[...new Set(Zo)].sort((n,r)=>Fl(n)-Fl(r));if(Zo.length=0,ns){ns.push(...e);return}for(ns=e,Qs=0;Qs<ns.length;Qs++)ns[Qs]();ns=null,Qs=0}}const Fl=t=>t.id==null?1/0:t.id,ZI=(t,e)=>{const n=Fl(t)-Fl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function I1(t){Vp=!1,Vl=!0,Mn.sort(ZI);try{for(ii=0;ii<Mn.length;ii++){const e=Mn[ii];e&&e.active!==!1&&gs(e,null,14)}}finally{ii=0,Mn.length=0,x1(),Vl=!1,og=null,(Mn.length||Zo.length)&&I1()}}function eS(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||It;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||It;f&&(i=n.map(h=>Dt(h)?h.trim():h)),d&&(i=n.map(Hc))}let a,l=r[a=Dh(e)]||r[a=Dh(_i(e))];!l&&s&&(l=r[a=Dh(wo(e))]),l&&Er(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Er(u,t,6,i)}}function S1(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Je(t)){const l=u=>{const c=S1(u,e,!0);c&&(a=!0,Jt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Tt(t)&&r.set(t,null),null):(je(s)?s.forEach(l=>o[l]=null):Jt(o,s),Tt(t)&&r.set(t,o),o)}function Ld(t,e){return!t||!Pd(e)?!1:(e=e.slice(2).replace(/Once$/,""),ct(t,e[0].toLowerCase()+e.slice(1))||ct(t,wo(e))||ct(t,e))}let rn=null,$d=null;function Wc(t){const e=rn;return rn=t,$d=t&&t.type.__scopeId||null,e}function Vd(t){$d=t}function Fd(){$d=null}function ze(t,e=rn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ly(-1);const s=Wc(e);let o;try{o=t(...i)}finally{Wc(s),r._d&&Ly(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Mh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,_=Wc(t);let v,y;try{if(n.shapeFlag&4){const g=i||r,w=g;v=ri(u.call(w,g,c,d,h,f,p)),y=a}else{const g=e;v=ri(g.length>1?g(d,{attrs:a,slots:o,emit:l}):g(d,null)),y=e.props?a:tS(a)}}catch(g){wl.length=0,Md(g,t,1),v=qe(cr)}let b=v;if(y&&m!==!1){const g=Object.keys(y),{shapeFlag:w}=b;g.length&&w&7&&(s&&g.some(Gm)&&(y=nS(y,s)),b=As(b,y,!1,!0))}return n.dirs&&(b=As(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,Wc(_),v}const tS=t=>{let e;for(const n in t)(n==="class"||n==="style"||Pd(n))&&((e||(e={}))[n]=t[n]);return e},nS=(t,e)=>{const n={};for(const r in t)(!Gm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function rS(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Ty(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!Ld(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ty(r,o,u):!0:!!o;return!1}function Ty(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Ld(n,s))return!0}return!1}function iS({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const R1="components";function lg(t,e){return P1(R1,t,!0,e)||t}const O1=Symbol.for("v-ndc");function Bd(t){return Dt(t)?P1(R1,t,!1)||t:t||O1}function P1(t,e,n=!0,r=!1){const i=rn||bn;if(i){const s=i.type;{const a=JS(s,!1);if(a&&(a===e||a===_i(e)||a===Dd(_i(e))))return s}const o=Ay(i[t]||s[t],e)||Ay(i.appContext[t],e);return!o&&r?s:o}}function Ay(t,e){return t&&(t[e]||t[_i(e)]||t[Dd(_i(e))])}const sS=t=>t.__isSuspense;function oS(t,e){e&&e.pendingBranch?je(t)?e.effects.push(...t):e.effects.push(t):JI(t)}const aS=Symbol.for("v-scx"),lS=()=>Mr(aS),sc={};function Xt(t,e,n){return C1(t,e,n)}function C1(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=It){if(e&&s){const I=e;e=(...k)=>{I(...k),w()}}const l=bn,u=I=>r===!0?I:Js(I,r===!1?1:void 0);let c,d=!1,f=!1;if(fn(t)?(c=()=>t.value,d=Kc(t)):gl(t)?(c=()=>u(t),d=!0):je(t)?(f=!0,d=t.some(I=>gl(I)||Kc(I)),c=()=>t.map(I=>{if(fn(I))return I.value;if(gl(I))return u(I);if(Je(I))return gs(I,l,2)})):Je(t)?e?c=()=>gs(t,l,2):c=()=>(h&&h(),Er(t,l,3,[p])):c=wr,e&&r){const I=c;c=()=>Js(I())}let h,p=I=>{h=b.onStop=()=>{gs(I,l,4),h=b.onStop=void 0}},m;if(Hd)if(p=wr,e?n&&Er(e,l,3,[c(),f?[]:void 0,p]):c(),i==="sync"){const I=lS();m=I.__watcherHandles||(I.__watcherHandles=[])}else return wr;let _=f?new Array(t.length).fill(sc):sc;const v=()=>{if(!(!b.active||!b.dirty))if(e){const I=b.run();(r||d||(f?I.some((k,R)=>Ts(k,_[R])):Ts(I,_)))&&(h&&h(),Er(e,l,3,[I,_===sc?void 0:f&&_[0]===sc?[]:_,p]),_=I)}else b.run()};v.allowRecurse=!!e;let y;i==="sync"?y=v:i==="post"?y=()=>Jn(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),y=()=>ag(v));const b=new Zm(c,wr,y),g=s1(),w=()=>{b.stop(),g&&Qm(g.effects,b)};return e?n?v():_=b.run():i==="post"?Jn(b.run.bind(b),l&&l.suspense):b.run(),m&&m.push(w),w}function uS(t,e,n){const r=this.proxy,i=Dt(t)?t.includes(".")?D1(r,t):()=>r[t]:t.bind(r,r);let s;Je(e)?s=e:(s=e.handler,n=e);const o=mu(this),a=C1(i,s.bind(r),n);return o(),a}function D1(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Js(t,e=1/0,n){if(e<=0||!Tt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,fn(t))Js(t.value,e,n);else if(je(t))for(let r=0;r<t.length;r++)Js(t[r],e,n);else if(Ia(t)||Jo(t))t.forEach(r=>{Js(r,e,n)});else if(Zb(t))for(const r in t)Js(t[r],e,n);return t}function bt(t,e){if(rn===null)return t;const n=zd(rn)||rn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=It]=e[i];s&&(Je(s)&&(s={mounted:s,updated:s}),s.deep&&Js(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function qs(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Os(),Er(l,n,8,[t.el,a,t,e]),Ps())}}const rs=Symbol("_leaveCb"),oc=Symbol("_enterCb");function cS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Et(()=>{t.isMounted=!0}),ug(()=>{t.isUnmounting=!0}),t}const yr=[Function,Array],N1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yr,onEnter:yr,onAfterEnter:yr,onEnterCancelled:yr,onBeforeLeave:yr,onLeave:yr,onAfterLeave:yr,onLeaveCancelled:yr,onBeforeAppear:yr,onAppear:yr,onAfterAppear:yr,onAppearCancelled:yr},dS={name:"BaseTransition",props:N1,setup(t,{slots:e}){const n=ew(),r=cS();return()=>{const i=e.default&&L1(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const f of i)if(f.type!==cr){s=f;break}}const o=ft(t),{mode:a}=o;if(r.isLeaving)return Lh(s);const l=ky(s);if(!l)return Lh(s);const u=Fp(l,o,r,n);Bp(l,u);const c=n.subTree,d=c&&ky(c);if(d&&d.type!==cr&&!Xs(l,d)){const f=Fp(d,o,r,n);if(Bp(d,f),a==="out-in"&&l.type!==cr)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Lh(s);a==="in-out"&&l.type!==cr&&(f.delayLeave=(h,p,m)=>{const _=M1(r,d);_[String(d.key)]=d,h[rs]=()=>{p(),h[rs]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}},fS=dS;function M1(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Fp(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:_,onAfterAppear:v,onAppearCancelled:y}=e,b=String(t.key),g=M1(n,t),w=(R,D)=>{R&&Er(R,r,9,D)},I=(R,D)=>{const S=D[1];w(R,D),je(R)?R.every(T=>T.length<=1)&&S():R.length<=1&&S()},k={mode:s,persisted:o,beforeEnter(R){let D=a;if(!n.isMounted)if(i)D=m||a;else return;R[rs]&&R[rs](!0);const S=g[b];S&&Xs(t,S)&&S.el[rs]&&S.el[rs](),w(D,[R])},enter(R){let D=l,S=u,T=c;if(!n.isMounted)if(i)D=_||l,S=v||u,T=y||c;else return;let E=!1;const C=R[oc]=B=>{E||(E=!0,B?w(T,[R]):w(S,[R]),k.delayedLeave&&k.delayedLeave(),R[oc]=void 0)};D?I(D,[R,C]):C()},leave(R,D){const S=String(t.key);if(R[oc]&&R[oc](!0),n.isUnmounting)return D();w(d,[R]);let T=!1;const E=R[rs]=C=>{T||(T=!0,D(),C?w(p,[R]):w(h,[R]),R[rs]=void 0,g[S]===t&&delete g[S])};g[S]=t,f?I(f,[R,E]):E()},clone(R){return Fp(R,e,n,r)}};return k}function Lh(t){if(jd(t))return t=As(t),t.children=null,t}function ky(t){if(!jd(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Je(n.default))return n.default()}}function Bp(t,e){t.shapeFlag&6&&t.component?Bp(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function L1(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Se?(o.patchFlag&128&&i++,r=r.concat(L1(o.children,e,a))):(e||o.type!==cr)&&r.push(a!=null?As(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Kt(t,e){return Je(t)?Jt({name:t.name},e,{setup:t}):t}const vl=t=>!!t.type.__asyncLoader,jd=t=>t.type.__isKeepAlive;function hS(t,e){$1(t,"a",e)}function pS(t,e){$1(t,"da",e)}function $1(t,e,n=bn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ud(e,r,n),n){let i=n.parent;for(;i&&i.parent;)jd(i.parent.vnode)&&mS(r,e,n,i),i=i.parent}}function mS(t,e,n,r){const i=Ud(e,t,r,!0);Sa(()=>{Qm(r[e],i)},n)}function Ud(t,e,n=bn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Os();const a=mu(n),l=Er(e,n,t,o);return a(),Ps(),l});return r?i.unshift(s):i.push(s),s}}const zi=t=>(e,n=bn)=>(!Hd||t==="sp")&&Ud(t,(...r)=>e(...r),n),gS=zi("bm"),Et=zi("m"),V1=zi("bu"),vS=zi("u"),ug=zi("bum"),Sa=zi("um"),yS=zi("sp"),_S=zi("rtg"),bS=zi("rtc");function wS(t,e=bn){Ud("ec",t,e)}function Qe(t,e,n,r){let i;const s=n;if(je(t)||Dt(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s)}else if(Tt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s)}}else i=[];return i}function Ln(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(je(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function De(t,e,n={},r,i){if(rn.isCE||rn.parent&&vl(rn.parent)&&rn.parent.isCE)return e!=="default"&&(n.name=e),qe("slot",n,r);let s=t[e];s&&s._c&&(s._d=!1),ee();const o=s&&F1(s(n)),a=Ue(Se,{key:n.key||o&&o.key||`_${e}`},o||[],o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function F1(t){return t.some(e=>Gc(e)?!(e.type===cr||e.type===Se&&!F1(e.children)):!0)?t:null}const jp=t=>t?tw(t)?zd(t)||t.proxy:jp(t.parent):null,yl=Jt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>jp(t.parent),$root:t=>jp(t.root),$emit:t=>t.emit,$options:t=>cg(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,ag(t.update)}),$nextTick:t=>t.n||(t.n=kn.bind(t.proxy)),$watch:t=>uS.bind(t)}),$h=(t,e)=>t!==It&&!t.__isScriptSetup&&ct(t,e),ES={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if($h(r,e))return o[e]=1,r[e];if(i!==It&&ct(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&ct(u,e))return o[e]=3,s[e];if(n!==It&&ct(n,e))return o[e]=4,n[e];Up&&(o[e]=0)}}const c=yl[e];let d,f;if(c)return e==="$attrs"&&sr(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==It&&ct(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ct(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return $h(i,e)?(i[e]=n,!0):r!==It&&ct(r,e)?(r[e]=n,!0):ct(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==It&&ct(t,o)||$h(e,o)||(a=s[0])&&ct(a,o)||ct(r,o)||ct(yl,o)||ct(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ct(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Eo(){return TS().slots}function TS(){const t=ew();return t.setupContext||(t.setupContext=rw(t))}function xy(t){return je(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Up=!0;function AS(t){const e=cg(t),n=t.proxy,r=t.ctx;Up=!1,e.beforeCreate&&Iy(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:g,render:w,renderTracked:I,renderTriggered:k,errorCaptured:R,serverPrefetch:D,expose:S,inheritAttrs:T,components:E,directives:C,filters:B}=e;if(u&&kS(u,r,null),o)for(const q in o){const ne=o[q];Je(ne)&&(r[q]=ne.bind(n))}if(i){const q=i.call(n,n);Tt(q)&&(t.data=Kr(q))}if(Up=!0,s)for(const q in s){const ne=s[q],Z=Je(ne)?ne.bind(n,n):Je(ne.get)?ne.get.bind(n,n):wr,K=!Je(ne)&&Je(ne.set)?ne.set.bind(n):wr,N=pe({get:Z,set:K});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>N.value,set:V=>N.value=V})}if(a)for(const q in a)B1(a[q],r,n,q);if(l){const q=Je(l)?l.call(n):l;Reflect.ownKeys(q).forEach(ne=>{xc(ne,q[ne])})}c&&Iy(c,t,"c");function F(q,ne){je(ne)?ne.forEach(Z=>q(Z.bind(n))):ne&&q(ne.bind(n))}if(F(gS,d),F(Et,f),F(V1,h),F(vS,p),F(hS,m),F(pS,_),F(wS,R),F(bS,I),F(_S,k),F(ug,y),F(Sa,g),F(yS,D),je(S))if(S.length){const q=t.exposed||(t.exposed={});S.forEach(ne=>{Object.defineProperty(q,ne,{get:()=>n[ne],set:Z=>n[ne]=Z})})}else t.exposed||(t.exposed={});w&&t.render===wr&&(t.render=w),T!=null&&(t.inheritAttrs=T),E&&(t.components=E),C&&(t.directives=C)}function kS(t,e,n=wr){je(t)&&(t=qp(t));for(const r in t){const i=t[r];let s;Tt(i)?"default"in i?s=Mr(i.from||r,i.default,!0):s=Mr(i.from||r):s=Mr(i),fn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Iy(t,e,n){Er(je(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function B1(t,e,n,r){const i=r.includes(".")?D1(n,r):()=>n[r];if(Dt(t)){const s=e[t];Je(s)&&Xt(i,s)}else if(Je(t))Xt(i,t.bind(n));else if(Tt(t))if(je(t))t.forEach(s=>B1(s,e,n,r));else{const s=Je(t.handler)?t.handler.bind(n):e[t.handler];Je(s)&&Xt(i,s,t)}}function cg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Yc(l,u,o,!0)),Yc(l,e,o)),Tt(e)&&s.set(e,l),l}function Yc(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Yc(t,s,n,!0),i&&i.forEach(o=>Yc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=xS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const xS={data:Sy,props:Ry,emits:Ry,methods:al,computed:al,beforeCreate:Hn,created:Hn,beforeMount:Hn,mounted:Hn,beforeUpdate:Hn,updated:Hn,beforeDestroy:Hn,beforeUnmount:Hn,destroyed:Hn,unmounted:Hn,activated:Hn,deactivated:Hn,errorCaptured:Hn,serverPrefetch:Hn,components:al,directives:al,watch:SS,provide:Sy,inject:IS};function Sy(t,e){return e?t?function(){return Jt(Je(t)?t.call(this,this):t,Je(e)?e.call(this,this):e)}:e:t}function IS(t,e){return al(qp(t),qp(e))}function qp(t){if(je(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hn(t,e){return t?[...new Set([].concat(t,e))]:e}function al(t,e){return t?Jt(Object.create(null),t,e):e}function Ry(t,e){return t?je(t)&&je(e)?[...new Set([...t,...e])]:Jt(Object.create(null),xy(t),xy(e??{})):e}function SS(t,e){if(!t)return e;if(!e)return t;const n=Jt(Object.create(null),t);for(const r in e)n[r]=Hn(t[r],e[r]);return n}function j1(){return{app:null,config:{isNativeTag:sI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RS=0;function OS(t,e){return function(r,i=null){Je(r)||(r=Jt({},r)),i!=null&&!Tt(i)&&(i=null);const s=j1(),o=new WeakSet;let a=!1;const l=s.app={_uid:RS++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:eR,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&Je(u.install)?(o.add(u),u.install(l,...c)):Je(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const f=qe(r,i);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,zd(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=_l;_l=l;try{return u()}finally{_l=c}}};return l}}let _l=null;function xc(t,e){if(bn){let n=bn.provides;const r=bn.parent&&bn.parent.provides;r===n&&(n=bn.provides=Object.create(r)),n[t]=e}}function Mr(t,e,n=!1){const r=bn||rn;if(r||_l){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:_l._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Je(e)?e.call(r&&r.proxy):e}}const U1={},q1=()=>Object.create(U1),H1=t=>Object.getPrototypeOf(t)===U1;function PS(t,e,n,r=!1){const i={},s=q1();t.propsDefaults=Object.create(null),z1(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:v1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function CS(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=ft(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Ld(t.emitsOptions,f))continue;const h=e[f];if(l)if(ct(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const p=_i(f);i[p]=Hp(l,a,p,h,t,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{z1(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!ct(e,d)&&((c=wo(d))===d||!ct(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Hp(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!ct(e,d))&&(delete s[d],u=!0)}u&&Mi(t.attrs,"set","")}function z1(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ml(l))continue;const u=e[l];let c;i&&ct(i,c=_i(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ld(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=ft(n),u=a||It;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Hp(i,l,d,u[d],t,!ct(u,d))}}return o}function Hp(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=ct(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Je(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=mu(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===wo(n))&&(r=!0))}return r}function K1(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Je(t)){const c=d=>{l=!0;const[f,h]=K1(d,e,!0);Jt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Tt(t)&&r.set(t,Xo),Xo;if(je(s))for(let c=0;c<s.length;c++){const d=_i(s[c]);Oy(d)&&(o[d]=It)}else if(s)for(const c in s){const d=_i(c);if(Oy(d)){const f=s[c],h=o[d]=je(f)||Je(f)?{type:f}:Jt({},f);if(h){const p=Dy(Boolean,h.type),m=Dy(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||ct(h,"default"))&&a.push(d)}}}const u=[o,a];return Tt(t)&&r.set(t,u),u}function Oy(t){return t[0]!=="$"&&!ml(t)}function Py(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Cy(t,e){return Py(t)===Py(e)}function Dy(t,e){return je(e)?e.findIndex(n=>Cy(n,t)):Je(e)&&Cy(e,t)?0:-1}const W1=t=>t[0]==="_"||t==="$stable",dg=t=>je(t)?t.map(ri):[ri(t)],DS=(t,e,n)=>{if(e._n)return e;const r=ze((...i)=>dg(e(...i)),n);return r._c=!1,r},Y1=(t,e,n)=>{const r=t._ctx;for(const i in t){if(W1(i))continue;const s=t[i];if(Je(s))e[i]=DS(i,s,r);else if(s!=null){const o=dg(s);e[i]=()=>o}}},G1=(t,e)=>{const n=dg(e);t.slots.default=()=>n},NS=(t,e)=>{const n=t.slots=q1();if(t.vnode.shapeFlag&32){const r=e._;r?(Jt(n,e),e1(n,"_",r,!0)):Y1(e,n)}else e&&G1(t,e)},MS=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=It;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Jt(i,e),!n&&a===1&&delete i._):(s=!e.$stable,Y1(e,i)),o=e}else e&&(G1(t,e),o={default:1});if(s)for(const a in i)!W1(a)&&o[a]==null&&delete i[a]};function zp(t,e,n,r,i=!1){if(je(t)){t.forEach((f,h)=>zp(f,e&&(je(e)?e[h]:e),n,r,i));return}if(vl(r)&&!i)return;const s=r.shapeFlag&4?zd(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===It?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Dt(u)?(c[u]=null,ct(d,u)&&(d[u]=null)):fn(u)&&(u.value=null)),Je(l))gs(l,a,12,[o,c]);else{const f=Dt(l),h=fn(l);if(f||h){const p=()=>{if(t.f){const m=f?ct(d,l)?d[l]:c[l]:l.value;i?je(m)&&Qm(m,s):je(m)?m.includes(s)||m.push(s):f?(c[l]=[s],ct(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,ct(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Jn(p,n)):p()}}}const Jn=oS;function LS(t){return $S(t)}function $S(t,e){const n=t1();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=wr,insertStaticContent:p}=t,m=(L,$,U,ue=null,H=null,Y=null,re=void 0,ie=null,fe=!!$.dynamicChildren)=>{if(L===$)return;L&&!Xs(L,$)&&(ue=P(L),V(L,H,Y,!0),L=null),$.patchFlag===-2&&(fe=!1,$.dynamicChildren=null);const{type:te,ref:_e,shapeFlag:be}=$;switch(te){case qd:_(L,$,U,ue);break;case cr:v(L,$,U,ue);break;case Ic:L==null&&y($,U,ue,re);break;case Se:E(L,$,U,ue,H,Y,re,ie,fe);break;default:be&1?w(L,$,U,ue,H,Y,re,ie,fe):be&6?C(L,$,U,ue,H,Y,re,ie,fe):(be&64||be&128)&&te.process(L,$,U,ue,H,Y,re,ie,fe,oe)}_e!=null&&H&&zp(_e,L&&L.ref,Y,$||L,!$)},_=(L,$,U,ue)=>{if(L==null)r($.el=a($.children),U,ue);else{const H=$.el=L.el;$.children!==L.children&&u(H,$.children)}},v=(L,$,U,ue)=>{L==null?r($.el=l($.children||""),U,ue):$.el=L.el},y=(L,$,U,ue)=>{[L.el,L.anchor]=p(L.children,$,U,ue,L.el,L.anchor)},b=({el:L,anchor:$},U,ue)=>{let H;for(;L&&L!==$;)H=f(L),r(L,U,ue),L=H;r($,U,ue)},g=({el:L,anchor:$})=>{let U;for(;L&&L!==$;)U=f(L),i(L),L=U;i($)},w=(L,$,U,ue,H,Y,re,ie,fe)=>{$.type==="svg"?re="svg":$.type==="math"&&(re="mathml"),L==null?I($,U,ue,H,Y,re,ie,fe):D(L,$,H,Y,re,ie,fe)},I=(L,$,U,ue,H,Y,re,ie)=>{let fe,te;const{props:_e,shapeFlag:be,transition:Ee,dirs:Oe}=L;if(fe=L.el=o(L.type,Y,_e&&_e.is,_e),be&8?c(fe,L.children):be&16&&R(L.children,fe,null,ue,H,Vh(L,Y),re,ie),Oe&&qs(L,null,ue,"created"),k(fe,L,L.scopeId,re,ue),_e){for(const Ne in _e)Ne!=="value"&&!ml(Ne)&&s(fe,Ne,null,_e[Ne],Y,L.children,ue,H,j);"value"in _e&&s(fe,"value",null,_e.value,Y),(te=_e.onVnodeBeforeMount)&&ni(te,ue,L)}Oe&&qs(L,null,ue,"beforeMount");const Le=VS(H,Ee);Le&&Ee.beforeEnter(fe),r(fe,$,U),((te=_e&&_e.onVnodeMounted)||Le||Oe)&&Jn(()=>{te&&ni(te,ue,L),Le&&Ee.enter(fe),Oe&&qs(L,null,ue,"mounted")},H)},k=(L,$,U,ue,H)=>{if(U&&h(L,U),ue)for(let Y=0;Y<ue.length;Y++)h(L,ue[Y]);if(H){let Y=H.subTree;if($===Y){const re=H.vnode;k(L,re,re.scopeId,re.slotScopeIds,H.parent)}}},R=(L,$,U,ue,H,Y,re,ie,fe=0)=>{for(let te=fe;te<L.length;te++){const _e=L[te]=ie?is(L[te]):ri(L[te]);m(null,_e,$,U,ue,H,Y,re,ie)}},D=(L,$,U,ue,H,Y,re)=>{const ie=$.el=L.el;let{patchFlag:fe,dynamicChildren:te,dirs:_e}=$;fe|=L.patchFlag&16;const be=L.props||It,Ee=$.props||It;let Oe;if(U&&Hs(U,!1),(Oe=Ee.onVnodeBeforeUpdate)&&ni(Oe,U,$,L),_e&&qs($,L,U,"beforeUpdate"),U&&Hs(U,!0),te?S(L.dynamicChildren,te,ie,U,ue,Vh($,H),Y):re||ne(L,$,ie,null,U,ue,Vh($,H),Y,!1),fe>0){if(fe&16)T(ie,$,be,Ee,U,ue,H);else if(fe&2&&be.class!==Ee.class&&s(ie,"class",null,Ee.class,H),fe&4&&s(ie,"style",be.style,Ee.style,H),fe&8){const Le=$.dynamicProps;for(let Ne=0;Ne<Le.length;Ne++){const rt=Le[Ne],Ve=be[rt],vt=Ee[rt];(vt!==Ve||rt==="value")&&s(ie,rt,Ve,vt,H,L.children,U,ue,j)}}fe&1&&L.children!==$.children&&c(ie,$.children)}else!re&&te==null&&T(ie,$,be,Ee,U,ue,H);((Oe=Ee.onVnodeUpdated)||_e)&&Jn(()=>{Oe&&ni(Oe,U,$,L),_e&&qs($,L,U,"updated")},ue)},S=(L,$,U,ue,H,Y,re)=>{for(let ie=0;ie<$.length;ie++){const fe=L[ie],te=$[ie],_e=fe.el&&(fe.type===Se||!Xs(fe,te)||fe.shapeFlag&70)?d(fe.el):U;m(fe,te,_e,null,ue,H,Y,re,!0)}},T=(L,$,U,ue,H,Y,re)=>{if(U!==ue){if(U!==It)for(const ie in U)!ml(ie)&&!(ie in ue)&&s(L,ie,U[ie],null,re,$.children,H,Y,j);for(const ie in ue){if(ml(ie))continue;const fe=ue[ie],te=U[ie];fe!==te&&ie!=="value"&&s(L,ie,te,fe,re,$.children,H,Y,j)}"value"in ue&&s(L,"value",U.value,ue.value,re)}},E=(L,$,U,ue,H,Y,re,ie,fe)=>{const te=$.el=L?L.el:a(""),_e=$.anchor=L?L.anchor:a("");let{patchFlag:be,dynamicChildren:Ee,slotScopeIds:Oe}=$;Oe&&(ie=ie?ie.concat(Oe):Oe),L==null?(r(te,U,ue),r(_e,U,ue),R($.children||[],U,_e,H,Y,re,ie,fe)):be>0&&be&64&&Ee&&L.dynamicChildren?(S(L.dynamicChildren,Ee,U,H,Y,re,ie),($.key!=null||H&&$===H.subTree)&&fg(L,$,!0)):ne(L,$,U,_e,H,Y,re,ie,fe)},C=(L,$,U,ue,H,Y,re,ie,fe)=>{$.slotScopeIds=ie,L==null?$.shapeFlag&512?H.ctx.activate($,U,ue,re,fe):B($,U,ue,H,Y,re,fe):M(L,$,fe)},B=(L,$,U,ue,H,Y,re)=>{const ie=L.component=YS(L,ue,H);if(jd(L)&&(ie.ctx.renderer=oe),GS(ie),ie.asyncDep){if(H&&H.registerDep(ie,F),!L.el){const fe=ie.subTree=qe(cr);v(null,fe,$,U)}}else F(ie,L,$,U,H,Y,re)},M=(L,$,U)=>{const ue=$.component=L.component;if(rS(L,$,U))if(ue.asyncDep&&!ue.asyncResolved){q(ue,$,U);return}else ue.next=$,XI(ue.update),ue.effect.dirty=!0,ue.update();else $.el=L.el,ue.vnode=$},F=(L,$,U,ue,H,Y,re)=>{const ie=()=>{if(L.isMounted){let{next:_e,bu:be,u:Ee,parent:Oe,vnode:Le}=L;{const Bn=Q1(L);if(Bn){_e&&(_e.el=Le.el,q(L,_e,re)),Bn.asyncDep.then(()=>{L.isUnmounted||ie()});return}}let Ne=_e,rt;Hs(L,!1),_e?(_e.el=Le.el,q(L,_e,re)):_e=Le,be&&Ac(be),(rt=_e.props&&_e.props.onVnodeBeforeUpdate)&&ni(rt,Oe,_e,Le),Hs(L,!0);const Ve=Mh(L),vt=L.subTree;L.subTree=Ve,m(vt,Ve,d(vt.el),P(vt),L,H,Y),_e.el=Ve.el,Ne===null&&iS(L,Ve.el),Ee&&Jn(Ee,H),(rt=_e.props&&_e.props.onVnodeUpdated)&&Jn(()=>ni(rt,Oe,_e,Le),H)}else{let _e;const{el:be,props:Ee}=$,{bm:Oe,m:Le,parent:Ne}=L,rt=vl($);if(Hs(L,!1),Oe&&Ac(Oe),!rt&&(_e=Ee&&Ee.onVnodeBeforeMount)&&ni(_e,Ne,$),Hs(L,!0),be&&Q){const Ve=()=>{L.subTree=Mh(L),Q(be,L.subTree,L,H,null)};rt?$.type.__asyncLoader().then(()=>!L.isUnmounted&&Ve()):Ve()}else{const Ve=L.subTree=Mh(L);m(null,Ve,U,ue,L,H,Y),$.el=Ve.el}if(Le&&Jn(Le,H),!rt&&(_e=Ee&&Ee.onVnodeMounted)){const Ve=$;Jn(()=>ni(_e,Ne,Ve),H)}($.shapeFlag&256||Ne&&vl(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&L.a&&Jn(L.a,H),L.isMounted=!0,$=U=ue=null}},fe=L.effect=new Zm(ie,wr,()=>ag(te),L.scope),te=L.update=()=>{fe.dirty&&fe.run()};te.id=L.uid,Hs(L,!0),te()},q=(L,$,U)=>{$.component=L;const ue=L.vnode.props;L.vnode=$,L.next=null,CS(L,$.props,ue,U),MS(L,$.children,U),Os(),Ey(L),Ps()},ne=(L,$,U,ue,H,Y,re,ie,fe=!1)=>{const te=L&&L.children,_e=L?L.shapeFlag:0,be=$.children,{patchFlag:Ee,shapeFlag:Oe}=$;if(Ee>0){if(Ee&128){K(te,be,U,ue,H,Y,re,ie,fe);return}else if(Ee&256){Z(te,be,U,ue,H,Y,re,ie,fe);return}}Oe&8?(_e&16&&j(te,H,Y),be!==te&&c(U,be)):_e&16?Oe&16?K(te,be,U,ue,H,Y,re,ie,fe):j(te,H,Y,!0):(_e&8&&c(U,""),Oe&16&&R(be,U,ue,H,Y,re,ie,fe))},Z=(L,$,U,ue,H,Y,re,ie,fe)=>{L=L||Xo,$=$||Xo;const te=L.length,_e=$.length,be=Math.min(te,_e);let Ee;for(Ee=0;Ee<be;Ee++){const Oe=$[Ee]=fe?is($[Ee]):ri($[Ee]);m(L[Ee],Oe,U,null,H,Y,re,ie,fe)}te>_e?j(L,H,Y,!0,!1,be):R($,U,ue,H,Y,re,ie,fe,be)},K=(L,$,U,ue,H,Y,re,ie,fe)=>{let te=0;const _e=$.length;let be=L.length-1,Ee=_e-1;for(;te<=be&&te<=Ee;){const Oe=L[te],Le=$[te]=fe?is($[te]):ri($[te]);if(Xs(Oe,Le))m(Oe,Le,U,null,H,Y,re,ie,fe);else break;te++}for(;te<=be&&te<=Ee;){const Oe=L[be],Le=$[Ee]=fe?is($[Ee]):ri($[Ee]);if(Xs(Oe,Le))m(Oe,Le,U,null,H,Y,re,ie,fe);else break;be--,Ee--}if(te>be){if(te<=Ee){const Oe=Ee+1,Le=Oe<_e?$[Oe].el:ue;for(;te<=Ee;)m(null,$[te]=fe?is($[te]):ri($[te]),U,Le,H,Y,re,ie,fe),te++}}else if(te>Ee)for(;te<=be;)V(L[te],H,Y,!0),te++;else{const Oe=te,Le=te,Ne=new Map;for(te=Le;te<=Ee;te++){const de=$[te]=fe?is($[te]):ri($[te]);de.key!=null&&Ne.set(de.key,te)}let rt,Ve=0;const vt=Ee-Le+1;let Bn=!1,Xr=0;const jn=new Array(vt);for(te=0;te<vt;te++)jn[te]=0;for(te=Oe;te<=be;te++){const de=L[te];if(Ve>=vt){V(de,H,Y,!0);continue}let we;if(de.key!=null)we=Ne.get(de.key);else for(rt=Le;rt<=Ee;rt++)if(jn[rt-Le]===0&&Xs(de,$[rt])){we=rt;break}we===void 0?V(de,H,Y,!0):(jn[we-Le]=te+1,we>=Xr?Xr=we:Bn=!0,m(de,$[we],U,null,H,Y,re,ie,fe),Ve++)}const ar=Bn?FS(jn):Xo;for(rt=ar.length-1,te=vt-1;te>=0;te--){const de=Le+te,we=$[de],me=de+1<_e?$[de+1].el:ue;jn[te]===0?m(null,we,U,me,H,Y,re,ie,fe):Bn&&(rt<0||te!==ar[rt]?N(we,U,me,2):rt--)}}},N=(L,$,U,ue,H=null)=>{const{el:Y,type:re,transition:ie,children:fe,shapeFlag:te}=L;if(te&6){N(L.component.subTree,$,U,ue);return}if(te&128){L.suspense.move($,U,ue);return}if(te&64){re.move(L,$,U,oe);return}if(re===Se){r(Y,$,U);for(let be=0;be<fe.length;be++)N(fe[be],$,U,ue);r(L.anchor,$,U);return}if(re===Ic){b(L,$,U);return}if(ue!==2&&te&1&&ie)if(ue===0)ie.beforeEnter(Y),r(Y,$,U),Jn(()=>ie.enter(Y),H);else{const{leave:be,delayLeave:Ee,afterLeave:Oe}=ie,Le=()=>r(Y,$,U),Ne=()=>{be(Y,()=>{Le(),Oe&&Oe()})};Ee?Ee(Y,Le,Ne):Ne()}else r(Y,$,U)},V=(L,$,U,ue=!1,H=!1)=>{const{type:Y,props:re,ref:ie,children:fe,dynamicChildren:te,shapeFlag:_e,patchFlag:be,dirs:Ee}=L;if(ie!=null&&zp(ie,null,U,L,!0),_e&256){$.ctx.deactivate(L);return}const Oe=_e&1&&Ee,Le=!vl(L);let Ne;if(Le&&(Ne=re&&re.onVnodeBeforeUnmount)&&ni(Ne,$,L),_e&6)J(L.component,U,ue);else{if(_e&128){L.suspense.unmount(U,ue);return}Oe&&qs(L,null,$,"beforeUnmount"),_e&64?L.type.remove(L,$,U,H,oe,ue):te&&(Y!==Se||be>0&&be&64)?j(te,$,U,!1,!0):(Y===Se&&be&384||!H&&_e&16)&&j(fe,$,U),ue&&O(L)}(Le&&(Ne=re&&re.onVnodeUnmounted)||Oe)&&Jn(()=>{Ne&&ni(Ne,$,L),Oe&&qs(L,null,$,"unmounted")},U)},O=L=>{const{type:$,el:U,anchor:ue,transition:H}=L;if($===Se){G(U,ue);return}if($===Ic){g(L);return}const Y=()=>{i(U),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(L.shapeFlag&1&&H&&!H.persisted){const{leave:re,delayLeave:ie}=H,fe=()=>re(U,Y);ie?ie(L.el,Y,fe):fe()}else Y()},G=(L,$)=>{let U;for(;L!==$;)U=f(L),i(L),L=U;i($)},J=(L,$,U)=>{const{bum:ue,scope:H,update:Y,subTree:re,um:ie}=L;ue&&Ac(ue),H.stop(),Y&&(Y.active=!1,V(re,L,$,U)),ie&&Jn(ie,$),Jn(()=>{L.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},j=(L,$,U,ue=!1,H=!1,Y=0)=>{for(let re=Y;re<L.length;re++)V(L[re],$,U,ue,H)},P=L=>L.shapeFlag&6?P(L.component.subTree):L.shapeFlag&128?L.suspense.next():f(L.anchor||L.el);let X=!1;const W=(L,$,U)=>{L==null?$._vnode&&V($._vnode,null,null,!0):m($._vnode||null,L,$,null,null,null,U),X||(X=!0,Ey(),x1(),X=!1),$._vnode=L},oe={p:m,um:V,m:N,r:O,mt:B,mc:R,pc:ne,pbc:S,n:P,o:t};let ce,Q;return{render:W,hydrate:ce,createApp:OS(W,ce)}}function Vh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Hs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function VS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fg(t,e,n=!1){const r=t.children,i=e.children;if(je(r)&&je(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=is(i[s]),a.el=o.el),n||fg(o,a)),a.type===qd&&(a.el=o.el)}}function FS(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Q1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Q1(e)}const BS=t=>t.__isTeleport,bl=t=>t&&(t.disabled||t.disabled===""),Ny=t=>typeof SVGElement<"u"&&t instanceof SVGElement,My=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Kp=(t,e)=>{const n=t&&t.to;return Dt(n)?e?e(n):null:n},jS={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:_}}=u,v=bl(e.props);let{shapeFlag:y,children:b,dynamicChildren:g}=e;if(t==null){const w=e.el=m(""),I=e.anchor=m("");h(w,n,r),h(I,n,r);const k=e.target=Kp(e.props,p),R=e.targetAnchor=m("");k&&(h(R,k),o==="svg"||Ny(k)?o="svg":(o==="mathml"||My(k))&&(o="mathml"));const D=(S,T)=>{y&16&&c(b,S,T,i,s,o,a,l)};v?D(n,I):k&&D(k,R)}else{e.el=t.el;const w=e.anchor=t.anchor,I=e.target=t.target,k=e.targetAnchor=t.targetAnchor,R=bl(t.props),D=R?n:I,S=R?w:k;if(o==="svg"||Ny(I)?o="svg":(o==="mathml"||My(I))&&(o="mathml"),g?(f(t.dynamicChildren,g,D,i,s,o,a),fg(t,e,!0)):l||d(t,e,D,S,i,s,o,a,!1),v)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ac(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const T=e.target=Kp(e.props,p);T&&ac(e,T,null,u,0)}else R&&ac(e,I,k,u,1)}X1(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&s(c),o&&s(u),a&16){const h=o||!bl(f);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:ac,hydrate:US};function ac(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||bl(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function US(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=Kp(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(bl(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}X1(e)}return e.anchor&&o(e.anchor)}const qS=jS;function X1(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Se=Symbol.for("v-fgt"),qd=Symbol.for("v-txt"),cr=Symbol.for("v-cmt"),Ic=Symbol.for("v-stc"),wl=[];let Cr=null;function ee(t=!1){wl.push(Cr=t?null:[])}function HS(){wl.pop(),Cr=wl[wl.length-1]||null}let Bl=1;function Ly(t){Bl+=t}function J1(t){return t.dynamicChildren=Bl>0?Cr||Xo:null,HS(),Bl>0&&Cr&&Cr.push(t),t}function le(t,e,n,r,i,s){return J1(A(t,e,n,r,i,s,!0))}function Ue(t,e,n,r,i){return J1(qe(t,e,n,r,i,!0))}function Gc(t){return t?t.__v_isVNode===!0:!1}function Xs(t,e){return t.type===e.type&&t.key===e.key}const Z1=({key:t})=>t??null,Sc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Dt(t)||fn(t)||Je(t)?{i:rn,r:t,k:e,f:!!n}:t:null);function A(t,e=null,n=null,r=0,i=null,s=t===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Z1(e),ref:e&&Sc(e),scopeId:$d,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rn};return a?(pg(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Dt(n)?8:16),Bl>0&&!o&&Cr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Cr.push(l),l}const qe=zS;function zS(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===O1)&&(t=cr),Gc(t)){const a=As(t,e,!0);return n&&pg(a,n),Bl>0&&!s&&Cr&&(a.shapeFlag&6?Cr[Cr.indexOf(t)]=a:Cr.push(a)),a.patchFlag|=-2,a}if(ZS(t)&&(t=t.__vccOpts),e){e=Kn(e);let{class:a,style:l}=e;a&&!Dt(a)&&(e.class=We(a)),Tt(l)&&(_1(l)&&!je(l)&&(l=Jt({},l)),e.style=cn(l))}const o=Dt(t)?1:sS(t)?128:BS(t)?64:Tt(t)?4:Je(t)?2:0;return A(t,e,n,r,i,o,s,!0)}function Kn(t){return t?_1(t)||H1(t)?Jt({},t):t:null}function As(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?sn(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Z1(u),ref:e&&e.ref?n&&s?je(s)?s.concat(Sc(e)):[s,Sc(e)]:Sc(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&As(t.ssContent),ssFallback:t.ssFallback&&As(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(c.transition=l.clone(c)),c}function an(t=" ",e=0){return qe(qd,null,t,e)}function hg(t,e){const n=qe(Ic,null,t);return n.staticCount=e,n}function ge(t="",e=!1){return e?(ee(),Ue(cr,null,t)):qe(cr,null,t)}function ri(t){return t==null||typeof t=="boolean"?qe(cr):je(t)?qe(Se,null,t.slice()):typeof t=="object"?is(t):qe(qd,null,String(t))}function is(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:As(t)}function pg(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(je(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),pg(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!H1(e)?e._ctx=rn:i===3&&rn&&(rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Je(e)?(e={default:e,_ctx:rn},n=32):(e=String(e),r&64?(n=16,e=[an(e)]):n=8);t.children=e,t.shapeFlag|=n}function sn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=We([e.class,r.class]));else if(i==="style")e.style=cn([e.style,r.style]);else if(Pd(i)){const s=e[i],o=r[i];o&&s!==o&&!(je(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ni(t,e,n,r=null){Er(t,e,7,[n,r])}const KS=j1();let WS=0;function YS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||KS,s={uid:WS++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new i1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:K1(r,i),emitsOptions:S1(r,i),emit:null,emitted:null,propsDefaults:It,inheritAttrs:r.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=eS.bind(null,s),t.ce&&t.ce(s),s}let bn=null;const ew=()=>bn||rn;let Qc,Wp;{const t=t1(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Qc=e("__VUE_INSTANCE_SETTERS__",n=>bn=n),Wp=e("__VUE_SSR_SETTERS__",n=>Hd=n)}const mu=t=>{const e=bn;return Qc(t),t.scope.on(),()=>{t.scope.off(),Qc(e)}},$y=()=>{bn&&bn.scope.off(),Qc(null)};function tw(t){return t.vnode.shapeFlag&4}let Hd=!1;function GS(t,e=!1){e&&Wp(e);const{props:n,children:r}=t.vnode,i=tw(t);PS(t,n,i,e),NS(t,r);const s=i?QS(t,e):void 0;return e&&Wp(!1),s}function QS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ES);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?rw(t):null,s=mu(t);Os();const o=gs(r,t,0,[t.props,i]);if(Ps(),s(),Xb(o)){if(o.then($y,$y),e)return o.then(a=>{Vy(t,a,e)}).catch(a=>{Md(a,t,0)});t.asyncDep=o}else Vy(t,o,e)}else nw(t,e)}function Vy(t,e,n){Je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)&&(t.setupState=T1(e)),nw(t,n)}let Fy;function nw(t,e,n){const r=t.type;if(!t.render){if(!e&&Fy&&!r.render){const i=r.template||cg(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Jt(Jt({isCustomElement:s,delimiters:a},o),l);r.render=Fy(i,u)}}t.render=r.render||wr}{const i=mu(t);Os();try{AS(t)}finally{Ps(),i()}}}const XS={get(t,e){return sr(t,"get",""),t[e]}};function rw(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,XS),slots:t.slots,emit:t.emit,expose:e}}function zd(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(T1(jI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in yl)return yl[n](t)},has(e,n){return n in e||n in yl}}))}function JS(t,e=!0){return Je(t)?t.displayName||t.name:t.name||e&&t.__name}function ZS(t){return Je(t)&&"__vccOpts"in t}const pe=(t,e)=>UI(t,e,Hd);function Ra(t,e,n){const r=arguments.length;return r===2?Tt(e)&&!je(e)?Gc(e)?qe(t,null,[e]):qe(t,e):qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Gc(n)&&(n=[n]),qe(t,e,n))}const eR="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const tR="http://www.w3.org/2000/svg",nR="http://www.w3.org/1998/Math/MathML",ss=typeof document<"u"?document:null,By=ss&&ss.createElement("template"),rR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ss.createElementNS(tR,t):e==="mathml"?ss.createElementNS(nR,t):ss.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ss.createTextNode(t),createComment:t=>ss.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ss.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{By.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=By.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Gi="transition",Ga="animation",jl=Symbol("_vtc"),Br=(t,{slots:e})=>Ra(fS,iR(t),e);Br.displayName="Transition";const iw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Br.props=Jt({},N1,iw);const zs=(t,e=[])=>{je(t)?t.forEach(n=>n(...e)):t&&t(...e)},jy=t=>t?je(t)?t.some(e=>e.length>1):t.length>1:!1;function iR(t){const e={};for(const E in t)E in iw||(e[E]=t[E]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=sR(i),m=p&&p[0],_=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:g,onLeaveCancelled:w,onBeforeAppear:I=v,onAppear:k=y,onAppearCancelled:R=b}=e,D=(E,C,B)=>{Ks(E,C?c:a),Ks(E,C?u:o),B&&B()},S=(E,C)=>{E._isLeaving=!1,Ks(E,d),Ks(E,h),Ks(E,f),C&&C()},T=E=>(C,B)=>{const M=E?k:y,F=()=>D(C,E,B);zs(M,[C,F]),Uy(()=>{Ks(C,E?l:s),Qi(C,E?c:a),jy(M)||qy(C,r,m,F)})};return Jt(e,{onBeforeEnter(E){zs(v,[E]),Qi(E,s),Qi(E,o)},onBeforeAppear(E){zs(I,[E]),Qi(E,l),Qi(E,u)},onEnter:T(!1),onAppear:T(!0),onLeave(E,C){E._isLeaving=!0;const B=()=>S(E,C);Qi(E,d),Qi(E,f),lR(),Uy(()=>{E._isLeaving&&(Ks(E,d),Qi(E,h),jy(g)||qy(E,r,_,B))}),zs(g,[E,B])},onEnterCancelled(E){D(E,!1),zs(b,[E])},onAppearCancelled(E){D(E,!0),zs(R,[E])},onLeaveCancelled(E){S(E),zs(w,[E])}})}function sR(t){if(t==null)return null;if(Tt(t))return[Fh(t.enter),Fh(t.leave)];{const e=Fh(t);return[e,e]}}function Fh(t){return cI(t)}function Qi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[jl]||(t[jl]=new Set)).add(e)}function Ks(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[jl];n&&(n.delete(e),n.size||(t[jl]=void 0))}function Uy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let oR=0;function qy(t,e,n,r){const i=t._endId=++oR,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=aR(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,f),s()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function aR(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Gi}Delay`),s=r(`${Gi}Duration`),o=Hy(i,s),a=r(`${Ga}Delay`),l=r(`${Ga}Duration`),u=Hy(a,l);let c=null,d=0,f=0;e===Gi?o>0&&(c=Gi,d=o,f=s.length):e===Ga?u>0&&(c=Ga,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?Gi:Ga:null,f=c?c===Gi?s.length:l.length:0);const h=c===Gi&&/\b(transform|all)(,|$)/.test(r(`${Gi}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function Hy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>zy(n)+zy(t[r])))}function zy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function lR(){return document.body.offsetHeight}function uR(t,e,n){const r=t[jl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Xc=Symbol("_vod"),sw=Symbol("_vsh"),El={beforeMount(t,{value:e},{transition:n}){t[Xc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Qa(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Qa(t,!0),r.enter(t)):r.leave(t,()=>{Qa(t,!1)}):Qa(t,e))},beforeUnmount(t,{value:e}){Qa(t,e)}};function Qa(t,e){t.style.display=e?t[Xc]:"none",t[sw]=!e}const cR=Symbol(""),dR=/(^|;)\s*display\s*:/;function fR(t,e,n){const r=t.style,i=Dt(n);let s=!1;if(n&&!i){if(e)if(Dt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Rc(r,a,"")}else for(const o in e)n[o]==null&&Rc(r,o,"");for(const o in n)o==="display"&&(s=!0),Rc(r,o,n[o])}else if(i){if(e!==n){const o=r[cR];o&&(n+=";"+o),r.cssText=n,s=dR.test(n)}}else e&&t.removeAttribute("style");Xc in t&&(t[Xc]=s?r.display:"",t[sw]&&(r.display="none"))}const Ky=/\s*!important$/;function Rc(t,e,n){if(je(n))n.forEach(r=>Rc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=hR(t,e);Ky.test(n)?t.setProperty(wo(r),n.replace(Ky,""),"important"):t[r]=n}}const Wy=["Webkit","Moz","ms"],Bh={};function hR(t,e){const n=Bh[e];if(n)return n;let r=_i(e);if(r!=="filter"&&r in t)return Bh[e]=r;r=Dd(r);for(let i=0;i<Wy.length;i++){const s=Wy[i]+r;if(s in t)return Bh[e]=s}return e}const Yy="http://www.w3.org/1999/xlink";function pR(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Yy,e.slice(6,e.length)):t.setAttributeNS(Yy,e,n);else{const s=gI(e);n==null||s&&!n1(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function mR(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=n1(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function as(t,e,n,r){t.addEventListener(e,n,r)}function gR(t,e,n,r){t.removeEventListener(e,n,r)}const Gy=Symbol("_vei");function vR(t,e,n,r,i=null){const s=t[Gy]||(t[Gy]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=yR(e);if(r){const u=s[e]=wR(r,i);as(t,a,u,l)}else o&&(gR(t,a,o,l),s[e]=void 0)}}const Qy=/(?:Once|Passive|Capture)$/;function yR(t){let e;if(Qy.test(t)){e={};let r;for(;r=t.match(Qy);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wo(t.slice(2)),e]}let jh=0;const _R=Promise.resolve(),bR=()=>jh||(_R.then(()=>jh=0),jh=Date.now());function wR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Er(ER(r,n.value),e,5,[r])};return n.value=t,n.attached=bR(),n}function ER(t,e){if(je(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Xy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,TR=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?uR(t,r,u):e==="style"?fR(t,n,r):Pd(e)?Gm(e)||vR(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):AR(t,e,r,u))?mR(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),pR(t,e,r,u))};function AR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Xy(e)&&Je(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Xy(e)&&Dt(n)?!1:e in t}const aa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return je(e)?n=>Ac(e,n):e};function kR(t){t.target.composing=!0}function Jy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Li=Symbol("_assign"),hi={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Li]=aa(i);const s=r||i.props&&i.props.type==="number";as(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Hc(a)),t[Li](a)}),n&&as(t,"change",()=>{t.value=t.value.trim()}),e||(as(t,"compositionstart",kR),as(t,"compositionend",Jy),as(t,"change",Jy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Li]=aa(s),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?Hc(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},ea={deep:!0,created(t,e,n){t[Li]=aa(n),as(t,"change",()=>{const r=t._modelValue,i=Ul(t),s=t.checked,o=t[Li];if(je(r)){const a=Jm(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ia(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(ow(t,s))})},mounted:Zy,beforeUpdate(t,e,n){t[Li]=aa(n),Zy(t,e,n)}};function Zy(t,{value:e,oldValue:n},r){t._modelValue=e,je(e)?t.checked=Jm(e,r.props.value)>-1:Ia(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=pu(e,ow(t,!0)))}const ks={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ia(e);as(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Hc(Ul(o)):Ul(o));t[Li](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,kn(()=>{t._assigning=!1})}),t[Li]=aa(r)},mounted(t,{value:e,modifiers:{number:n}}){e0(t,e)},beforeUpdate(t,e,n){t[Li]=aa(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||e0(t,e)}};function e0(t,e,n){const r=t.multiple,i=je(e);if(!(r&&!i&&!Ia(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=Ul(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=Jm(e,l)>-1}else a.selected=e.has(l);else if(pu(Ul(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ul(t){return"_value"in t?t._value:t.value}function ow(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const xR=["ctrl","shift","alt","meta"],IR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>xR.some(n=>t[`${n}Key`]&&!e.includes(n))},Ar=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=IR[e[o]];if(a&&a(i,e))return}return t(i,...s)})},SR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},aw=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=wo(i.key);if(e.some(o=>o===s||SR[o]===s))return t(i)})},RR=Jt({patchProp:TR},rR);let t0;function lw(){return t0||(t0=LS(RR))}const n0=(...t)=>{lw().render(...t)},OR=(...t)=>{const e=lw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=CR(r);if(!i)return;const s=e._component;!Je(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,PR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function PR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function CR(t){return Dt(t)?document.querySelector(t):t}function DR(){return uw().__VUE_DEVTOOLS_GLOBAL_HOOK__}function uw(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const NR=typeof Proxy=="function",MR="devtools-plugin:setup",LR="plugin:settings:set";let Lo,Yp;function $R(){var t;return Lo!==void 0||(typeof window<"u"&&window.performance?(Lo=!0,Yp=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Lo=!0,Yp=globalThis.perf_hooks.performance):Lo=!1),Lo}function VR(){return $R()?Yp.now():Date.now()}class FR{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return VR()}},n&&n.on(LR,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function BR(t,e){const n=t,r=uw(),i=DR(),s=NR&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(MR,t,e);else{const o=s?new FR(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const jo=typeof document<"u";function jR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const _t=Object.assign;function Uh(t,e){const n={};for(const r in e){const i=e[r];n[r]=jr(i)?i.map(t):t(i)}return n}const Tl=()=>{},jr=Array.isArray,cw=/#/g,UR=/&/g,qR=/\//g,HR=/=/g,zR=/\?/g,dw=/\+/g,KR=/%5B/g,WR=/%5D/g,fw=/%5E/g,YR=/%60/g,hw=/%7B/g,GR=/%7C/g,pw=/%7D/g,QR=/%20/g;function mg(t){return encodeURI(""+t).replace(GR,"|").replace(KR,"[").replace(WR,"]")}function XR(t){return mg(t).replace(hw,"{").replace(pw,"}").replace(fw,"^")}function Gp(t){return mg(t).replace(dw,"%2B").replace(QR,"+").replace(cw,"%23").replace(UR,"%26").replace(YR,"`").replace(hw,"{").replace(pw,"}").replace(fw,"^")}function JR(t){return Gp(t).replace(HR,"%3D")}function ZR(t){return mg(t).replace(cw,"%23").replace(zR,"%3F")}function eO(t){return t==null?"":ZR(t).replace(qR,"%2F")}function ql(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const tO=/\/$/,nO=t=>t.replace(tO,"");function qh(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=oO(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:ql(o)}}function rO(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function r0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function iO(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&la(e.matched[r],n.matched[i])&&mw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function la(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!sO(t[n],e[n]))return!1;return!0}function sO(t,e){return jr(t)?i0(t,e):jr(e)?i0(e,t):t===e}function i0(t,e){return jr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function oO(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var Hl;(function(t){t.pop="pop",t.push="push"})(Hl||(Hl={}));var Al;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Al||(Al={}));function aO(t){if(!t)if(jo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),nO(t)}const lO=/^[^#]+#/;function uO(t,e){return t.replace(lO,"#")+e}function cO(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Kd=()=>({left:window.scrollX,top:window.scrollY});function dO(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=cO(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function s0(t,e){return(history.state?history.state.position-e:-1)+t}const Qp=new Map;function fO(t,e){Qp.set(t,e)}function hO(t){const e=Qp.get(t);return Qp.delete(t),e}let pO=()=>location.protocol+"//"+location.host;function gw(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),r0(l,"")}return r0(n,t)+r+i}function mO(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const h=gw(t,location),p=n.value,m=e.value;let _=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}_=m?f.position-m.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:_,type:Hl.pop,direction:_?_>0?Al.forward:Al.back:Al.unknown})})};function l(){o=n.value}function u(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(_t({},f.state,{scroll:Kd()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function o0(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Kd():null}}function gO(t){const{history:e,location:n}=window,r={value:gw(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:pO()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=_t({},e.state,o0(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=_t({},i.value,e.state,{forward:l,scroll:Kd()});s(c.current,c,!0);const d=_t({},o0(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function vO(t){t=aO(t);const e=gO(t),n=mO(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=_t({location:"",base:t,go:r,createHref:uO.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function yO(t){return typeof t=="string"||t&&typeof t=="object"}function vw(t){return typeof t=="string"||typeof t=="symbol"}const Xi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yw=Symbol("");var a0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(a0||(a0={}));function ua(t,e){return _t(new Error,{type:t,[yw]:!0},e)}function Ii(t,e){return t instanceof Error&&yw in t&&(e==null||!!(t.type&e))}const l0="[^/]+?",_O={sensitive:!1,strict:!1,start:!0,end:!0},bO=/[.+*?^${}()[\]/\\]/g;function wO(t,e){const n=_t({},_O,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(bO,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:_,regexp:v}=f;s.push({name:p,repeatable:m,optional:_});const y=v||l0;if(y!==l0){h+=10;try{new RegExp(`(${y})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+g.message)}}let b=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(b=_&&u.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),i+=b,h+=20,_&&(h+=-8),m&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=s[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:_}=h,v=p in u?u[p]:"";if(jr(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=jr(v)?v.join("/"):v;if(!y)if(_)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function EO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function TO(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=EO(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(u0(r))return 1;if(u0(i))return-1}return i.length-r.length}function u0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const AO={type:0,value:""},kO=/[a-zA-Z0-9_]/;function xO(t){if(!t)return[[]];if(t==="/")return[[AO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:kO.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function IO(t,e,n){const r=wO(xO(t.path),n),i=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function SO(t,e){const n=[],r=new Map;e=f0({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,f){const h=!f,p=RO(c);p.aliasOf=f&&f.record;const m=f0(e,c),_=[p];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const g of b)_.push(_t({},p,{components:f?f.record.components:p.components,path:g,aliasOf:f?f.record:p}))}let v,y;for(const b of _){const{path:g}=b;if(d&&g[0]!=="/"){const w=d.record.path,I=w[w.length-1]==="/"?"":"/";b.path=d.record.path+(g&&I+g)}if(v=IO(b,d,m),f?f.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),h&&c.name&&!d0(v)&&o(c.name)),p.children){const w=p.children;for(let I=0;I<w.length;I++)s(w[I],v,f&&f.children[I])}f=f||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return y?()=>{o(y)}:Tl}function o(c){if(vw(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&TO(c,n[d])>=0&&(c.record.path!==n[d].record.path||!_w(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!d0(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,m;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw ua(1,{location:c});m=f.record.name,h=_t(c0(d.params,f.keys.filter(y=>!y.optional).concat(f.parent?f.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),c.params&&c0(c.params,f.keys.map(y=>y.name))),p=f.stringify(h)}else if(c.path!=null)p=c.path,f=n.find(y=>y.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!f)throw ua(1,{location:c,currentLocation:d});m=f.record.name,h=_t({},d.params,c.params),p=f.stringify(h)}const _=[];let v=f;for(;v;)_.unshift(v.record),v=v.parent;return{name:m,path:p,params:h,matched:_,meta:PO(_)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function c0(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function RO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:OO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function OO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function d0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function PO(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function f0(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function _w(t,e){return e.children.some(n=>n===t||_w(t,n))}function CO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(dw," "),o=s.indexOf("="),a=ql(o<0?s:s.slice(0,o)),l=o<0?null:ql(s.slice(o+1));if(a in e){let u=e[a];jr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function h0(t){let e="";for(let n in t){const r=t[n];if(n=JR(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(jr(r)?r.map(s=>s&&Gp(s)):[r&&Gp(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function DO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=jr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const NO=Symbol(""),p0=Symbol(""),Wd=Symbol(""),bw=Symbol(""),Xp=Symbol("");function Xa(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function os(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(ua(4,{from:n,to:e})):f instanceof Error?l(f):yO(f)?l(ua(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Hh(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(MO(l)){const c=(l.__vccOpts||l)[e];c&&s.push(os(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=jR(c)?c.default:c;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&os(h,n,r,o,a,i)()}))}}return s}function MO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function m0(t){const e=Mr(Wd),n=Mr(bw),r=pe(()=>{const l=ae(t.to);return e.resolve(l)}),i=pe(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(la.bind(null,c));if(f>-1)return f;const h=g0(l[u-2]);return u>1&&g0(c)===h&&d[d.length-1].path!==h?d.findIndex(la.bind(null,l[u-2])):f}),s=pe(()=>i.value>-1&&FO(n.params,r.value.params)),o=pe(()=>i.value>-1&&i.value===n.matched.length-1&&mw(n.params,r.value.params));function a(l={}){return VO(l)?e[ae(t.replace)?"replace":"push"](ae(t.to)).catch(Tl):Promise.resolve()}return{route:r,href:pe(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const LO=Kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:m0,setup(t,{slots:e}){const n=Kr(m0(t)),{options:r}=Mr(Wd),i=pe(()=>({[v0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[v0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Ra("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),$O=LO;function VO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function FO(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!jr(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function g0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const v0=(t,e,n)=>t??e??n,BO=Kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Mr(Xp),i=pe(()=>t.route||r.value),s=Mr(p0,0),o=pe(()=>{let u=ae(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=pe(()=>i.value.matched[o.value]);xc(p0,pe(()=>o.value+1)),xc(NO,a),xc(Xp,i);const l=he();return Xt(()=>[l.value,a.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!la(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return y0(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,_=Ra(f,_t({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return y0(n.default,{Component:_,route:u})||_}}});function y0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const jO=BO;function UO(t){const e=SO(t.routes,t),n=t.parseQuery||CO,r=t.stringifyQuery||h0,i=t.history,s=Xa(),o=Xa(),a=Xa(),l=qI(Xi);let u=Xi;jo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Uh.bind(null,P=>""+P),d=Uh.bind(null,eO),f=Uh.bind(null,ql);function h(P,X){let W,oe;return vw(P)?(W=e.getRecordMatcher(P),oe=X):oe=P,e.addRoute(oe,W)}function p(P){const X=e.getRecordMatcher(P);X&&e.removeRoute(X)}function m(){return e.getRoutes().map(P=>P.record)}function _(P){return!!e.getRecordMatcher(P)}function v(P,X){if(X=_t({},X||l.value),typeof P=="string"){const $=qh(n,P,X.path),U=e.resolve({path:$.path},X),ue=i.createHref($.fullPath);return _t($,U,{params:f(U.params),hash:ql($.hash),redirectedFrom:void 0,href:ue})}let W;if(P.path!=null)W=_t({},P,{path:qh(n,P.path,X.path).path});else{const $=_t({},P.params);for(const U in $)$[U]==null&&delete $[U];W=_t({},P,{params:d($)}),X.params=d(X.params)}const oe=e.resolve(W,X),ce=P.hash||"";oe.params=c(f(oe.params));const Q=rO(r,_t({},P,{hash:XR(ce),path:oe.path})),L=i.createHref(Q);return _t({fullPath:Q,hash:ce,query:r===h0?DO(P.query):P.query||{}},oe,{redirectedFrom:void 0,href:L})}function y(P){return typeof P=="string"?qh(n,P,l.value.path):_t({},P)}function b(P,X){if(u!==P)return ua(8,{from:X,to:P})}function g(P){return k(P)}function w(P){return g(_t(y(P),{replace:!0}))}function I(P){const X=P.matched[P.matched.length-1];if(X&&X.redirect){const{redirect:W}=X;let oe=typeof W=="function"?W(P):W;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=y(oe):{path:oe},oe.params={}),_t({query:P.query,hash:P.hash,params:oe.path!=null?{}:P.params},oe)}}function k(P,X){const W=u=v(P),oe=l.value,ce=P.state,Q=P.force,L=P.replace===!0,$=I(W);if($)return k(_t(y($),{state:typeof $=="object"?_t({},ce,$.state):ce,force:Q,replace:L}),X||W);const U=W;U.redirectedFrom=X;let ue;return!Q&&iO(r,oe,W)&&(ue=ua(16,{to:U,from:oe}),N(oe,oe,!0,!1)),(ue?Promise.resolve(ue):S(U,oe)).catch(H=>Ii(H)?Ii(H,2)?H:K(H):ne(H,U,oe)).then(H=>{if(H){if(Ii(H,2))return k(_t({replace:L},y(H.to),{state:typeof H.to=="object"?_t({},ce,H.to.state):ce,force:Q}),X||U)}else H=E(U,oe,!0,L,ce);return T(U,oe,H),H})}function R(P,X){const W=b(P,X);return W?Promise.reject(W):Promise.resolve()}function D(P){const X=G.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(P):P()}function S(P,X){let W;const[oe,ce,Q]=qO(P,X);W=Hh(oe.reverse(),"beforeRouteLeave",P,X);for(const $ of oe)$.leaveGuards.forEach(U=>{W.push(os(U,P,X))});const L=R.bind(null,P,X);return W.push(L),j(W).then(()=>{W=[];for(const $ of s.list())W.push(os($,P,X));return W.push(L),j(W)}).then(()=>{W=Hh(ce,"beforeRouteUpdate",P,X);for(const $ of ce)$.updateGuards.forEach(U=>{W.push(os(U,P,X))});return W.push(L),j(W)}).then(()=>{W=[];for(const $ of Q)if($.beforeEnter)if(jr($.beforeEnter))for(const U of $.beforeEnter)W.push(os(U,P,X));else W.push(os($.beforeEnter,P,X));return W.push(L),j(W)}).then(()=>(P.matched.forEach($=>$.enterCallbacks={}),W=Hh(Q,"beforeRouteEnter",P,X,D),W.push(L),j(W))).then(()=>{W=[];for(const $ of o.list())W.push(os($,P,X));return W.push(L),j(W)}).catch($=>Ii($,8)?$:Promise.reject($))}function T(P,X,W){a.list().forEach(oe=>D(()=>oe(P,X,W)))}function E(P,X,W,oe,ce){const Q=b(P,X);if(Q)return Q;const L=X===Xi,$=jo?history.state:{};W&&(oe||L?i.replace(P.fullPath,_t({scroll:L&&$&&$.scroll},ce)):i.push(P.fullPath,ce)),l.value=P,N(P,X,W,L),K()}let C;function B(){C||(C=i.listen((P,X,W)=>{if(!J.listening)return;const oe=v(P),ce=I(oe);if(ce){k(_t(ce,{replace:!0}),oe).catch(Tl);return}u=oe;const Q=l.value;jo&&fO(s0(Q.fullPath,W.delta),Kd()),S(oe,Q).catch(L=>Ii(L,12)?L:Ii(L,2)?(k(L.to,oe).then($=>{Ii($,20)&&!W.delta&&W.type===Hl.pop&&i.go(-1,!1)}).catch(Tl),Promise.reject()):(W.delta&&i.go(-W.delta,!1),ne(L,oe,Q))).then(L=>{L=L||E(oe,Q,!1),L&&(W.delta&&!Ii(L,8)?i.go(-W.delta,!1):W.type===Hl.pop&&Ii(L,20)&&i.go(-1,!1)),T(oe,Q,L)}).catch(Tl)}))}let M=Xa(),F=Xa(),q;function ne(P,X,W){K(P);const oe=F.list();return oe.length?oe.forEach(ce=>ce(P,X,W)):console.error(P),Promise.reject(P)}function Z(){return q&&l.value!==Xi?Promise.resolve():new Promise((P,X)=>{M.add([P,X])})}function K(P){return q||(q=!P,B(),M.list().forEach(([X,W])=>P?W(P):X()),M.reset()),P}function N(P,X,W,oe){const{scrollBehavior:ce}=t;if(!jo||!ce)return Promise.resolve();const Q=!W&&hO(s0(P.fullPath,0))||(oe||!W)&&history.state&&history.state.scroll||null;return kn().then(()=>ce(P,X,Q)).then(L=>L&&dO(L)).catch(L=>ne(L,P,X))}const V=P=>i.go(P);let O;const G=new Set,J={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:_,getRoutes:m,resolve:v,options:t,push:g,replace:w,go:V,back:()=>V(-1),forward:()=>V(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:F.add,isReady:Z,install(P){const X=this;P.component("RouterLink",$O),P.component("RouterView",jO),P.config.globalProperties.$router=X,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),jo&&!O&&l.value===Xi&&(O=!0,g(i.location).catch(ce=>{}));const W={};for(const ce in Xi)Object.defineProperty(W,ce,{get:()=>l.value[ce],enumerable:!0});P.provide(Wd,X),P.provide(bw,v1(W)),P.provide(Xp,l);const oe=P.unmount;G.add(P),P.unmount=function(){G.delete(P),G.size<1&&(u=Xi,C&&C(),C=null,l.value=Xi,O=!1,q=!1),oe()}}};function j(P){return P.reduce((X,W)=>X.then(()=>D(W)),Promise.resolve())}return J}function qO(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>la(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>la(u,l))||i.push(l))}return[n,r,i]}function ww(){return Mr(Wd)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Ew="store";function Cs(t){return t===void 0&&(t=null),Mr(t!==null?t:Ew)}function Oa(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function HO(t){return t!==null&&typeof t=="object"}function zO(t){return t&&typeof t.then=="function"}function KO(t,e){return function(){return t(e)}}function Tw(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Aw(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Yd(t,n,[],t._modules.root,!0),gg(t,n,e)}function gg(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,o={},a={},l=yI(!0);l.run(function(){Oa(s,function(u,c){o[c]=KO(u,t),a[c]=pe(function(){return o[c]()}),Object.defineProperty(t.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),t._state=Kr({data:e}),t._scope=l,t.strict&&XO(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function Yd(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var a=vg(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=WO(t,o,n);r.forEachMutation(function(c,d){var f=o+d;YO(t,f,c,u)}),r.forEachAction(function(c,d){var f=c.root?d:o+d,h=c.handler||c;GO(t,f,h,u)}),r.forEachGetter(function(c,d){var f=o+d;QO(t,f,c,u)}),r.forEachChild(function(c,d){Yd(t,e,n.concat(d),c,i)})}function WO(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,a){var l=Jc(s,o,a),u=l.payload,c=l.options,d=l.type;return(!c||!c.root)&&(d=e+d),t.dispatch(d,u)},commit:r?t.commit:function(s,o,a){var l=Jc(s,o,a),u=l.payload,c=l.options,d=l.type;(!c||!c.root)&&(d=e+d),t.commit(d,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return kw(t,e)}},state:{get:function(){return vg(t.state,n)}}}),i}function kw(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function YO(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function GO(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return zO(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function QO(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function XO(t){Xt(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function vg(t,e){return e.reduce(function(n,r){return n[r]},t)}function Jc(t,e,n){return HO(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var JO="vuex bindings",_0="vuex:mutations",zh="vuex:actions",$o="vuex",ZO=0;function e2(t,e){BR({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[JO]},function(n){n.addTimelineLayer({id:_0,label:"Vuex Mutations",color:b0}),n.addTimelineLayer({id:zh,label:"Vuex Actions",color:b0}),n.addInspector({id:$o,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===$o)if(r.filter){var i=[];Rw(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Sw(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===$o){var i=r.nodeId;kw(e,i),r.state=r2(s2(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===$o){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree($o),n.sendInspectorState($o),n.addTimelineEvent({layerId:_0,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=ZO++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:zh,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:zh,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var b0=8702998,t2=6710886,n2=16777215,xw={label:"namespaced",textColor:n2,backgroundColor:t2};function Iw(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Sw(t,e){return{id:e||"root",label:Iw(e),tags:t.namespaced?[xw]:[],children:Object.keys(t._children).map(function(n){return Sw(t._children[n],e+n+"/")})}}function Rw(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[xw]:[]}),Object.keys(e._children).forEach(function(i){Rw(t,e._children[i],n,r+i+"/")})}function r2(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var s=i2(e);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?Iw(o):o,editable:!1,value:Jp(function(){return s[o]})}})}return i}function i2(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=Jp(function(){return t[n]})}else e[n]=Jp(function(){return t[n]})}),e}function s2(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Jp(t){try{return t()}catch(e){return e}}var Wr=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Ow={namespaced:{configurable:!0}};Ow.namespaced.get=function(){return!!this._rawModule.namespaced};Wr.prototype.addChild=function(e,n){this._children[e]=n};Wr.prototype.removeChild=function(e){delete this._children[e]};Wr.prototype.getChild=function(e){return this._children[e]};Wr.prototype.hasChild=function(e){return e in this._children};Wr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Wr.prototype.forEachChild=function(e){Oa(this._children,e)};Wr.prototype.forEachGetter=function(e){this._rawModule.getters&&Oa(this._rawModule.getters,e)};Wr.prototype.forEachAction=function(e){this._rawModule.actions&&Oa(this._rawModule.actions,e)};Wr.prototype.forEachMutation=function(e){this._rawModule.mutations&&Oa(this._rawModule.mutations,e)};Object.defineProperties(Wr.prototype,Ow);var To=function(e){this.register([],e,!1)};To.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};To.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};To.prototype.update=function(e){Pw([],this.root,e)};To.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new Wr(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&Oa(n.modules,function(a,l){i.register(e.concat(l),a,r)})};To.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};To.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Pw(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Pw(t.concat(r),e.getChild(r),n.modules[r])}}function o2(t){return new or(t)}var or=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new To(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var o=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(f,h){return l.call(o,f,h)},this.commit=function(f,h,p){return u.call(o,f,h,p)},this.strict=i;var c=this._modules.root.state;Yd(this,c,[],this._modules.root),gg(this,c),r.forEach(function(d){return d(n)})},yg={state:{configurable:!0}};or.prototype.install=function(e,n){e.provide(n||Ew,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&e2(e,this)};yg.state.get=function(){return this._state.data};yg.state.set=function(t){};or.prototype.commit=function(e,n,r){var i=this,s=Jc(e,n,r),o=s.type,a=s.payload,l={type:o,payload:a},u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};or.prototype.dispatch=function(e,n){var r=this,i=Jc(e,n),s=i.type,o=i.payload,a={type:s,payload:o},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(o)})):l[0](o);return new Promise(function(c,d){u.then(function(f){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,r.state)})}catch{}c(f)},function(f){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,r.state,f)})}catch{}d(f)})})}};or.prototype.subscribe=function(e,n){return Tw(e,this._subscribers,n)};or.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Tw(r,this._actionSubscribers,n)};or.prototype.watch=function(e,n,r){var i=this;return Xt(function(){return e(i.state,i.getters)},n,Object.assign({},r))};or.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};or.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Yd(this,this.state,e,this._modules.get(e),r.preserveState),gg(this,this.state)};or.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=vg(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Aw(this)};or.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};or.prototype.hotUpdate=function(e){this._modules.update(e),Aw(this,!0)};or.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(or.prototype,yg);var w0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},a2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new l2;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(t){const e=Cw(t);return Dw.encodeByteArray(e,!0)},Zc=function(t){return u2(t).replace(/\./g,"")},Nw=function(t){try{return Dw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=()=>c2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof process>"u"||typeof w0>"u")return;const t=w0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nw(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return d2()||f2()||h2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mw=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Lw=t=>{const e=Mw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$w=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config},Vw=t=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function g2(){var t;const e=(t=Gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _2(){return!g2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Uw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function b2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w2,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xr(i,a,r)}}function E2(t,e){return t.replace(T2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T2=/\{\$([^}]+)}/g;function A2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(E0(s)&&E0(o)){if(!ca(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ul(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function k2(t,e){const n=new x2(t,e);return n.subscribe.bind(n)}class x2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kh),i.error===void 0&&(i.error=Kh),i.complete===void 0&&(i.complete=Kh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1e3,R2=2,O2=4*60*60*1e3,P2=.5;function T0(t,e=S2,n=R2){const r=e*Math.pow(n,t),i=Math.round(P2*r*(Math.random()-.5)*2);return Math.min(O2,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N2(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(t){return t===Ws?void 0:t}function N2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const L2={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},$2=at.INFO,V2={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},F2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=V2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qd{constructor(e){this.name=e,this._logLevel=$2,this._logHandler=F2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const B2=(t,e)=>e.some(n=>t instanceof n);let A0,k0;function j2(){return A0||(A0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U2(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qw=new WeakMap,Zp=new WeakMap,Hw=new WeakMap,Wh=new WeakMap,_g=new WeakMap;function q2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qw.set(n,t)}).catch(()=>{}),_g.set(e,t),e}function H2(t){if(Zp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zp.set(t,e)}let em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z2(t){em=t(em)}function K2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return Hw.set(r,e.sort?e.sort():[e]),vs(r)}:U2().includes(t)?function(...e){return t.apply(Yh(this),e),vs(qw.get(this))}:function(...e){return vs(t.apply(Yh(this),e))}}function W2(t){return typeof t=="function"?K2(t):(t instanceof IDBTransaction&&H2(t),B2(t,j2())?new Proxy(t,em):t)}function vs(t){if(t instanceof IDBRequest)return q2(t);if(Wh.has(t))return Wh.get(t);const e=W2(t);return e!==t&&(Wh.set(t,e),_g.set(e,t)),e}const Yh=t=>_g.get(t);function zw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vs(o.result),l.oldVersion,l.newVersion,vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Y2=["get","getKey","getAll","getAllKeys","count"],G2=["put","add","delete","clear"],Gh=new Map;function x0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y2.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Gh.set(e,s),s}z2(t=>({...t,get:(e,n,r)=>x0(e,n)||t.get(e,n,r),has:(e,n)=>!!x0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tm="@firebase/app",I0="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new Qd("@firebase/app"),J2="@firebase/app-compat",Z2="@firebase/analytics-compat",eP="@firebase/analytics",tP="@firebase/app-check-compat",nP="@firebase/app-check",rP="@firebase/auth",iP="@firebase/auth-compat",sP="@firebase/database",oP="@firebase/database-compat",aP="@firebase/functions",lP="@firebase/functions-compat",uP="@firebase/installations",cP="@firebase/installations-compat",dP="@firebase/messaging",fP="@firebase/messaging-compat",hP="@firebase/performance",pP="@firebase/performance-compat",mP="@firebase/remote-config",gP="@firebase/remote-config-compat",vP="@firebase/storage",yP="@firebase/storage-compat",_P="@firebase/firestore",bP="@firebase/firestore-compat",wP="firebase",EP="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",TP={[tm]:"fire-core",[J2]:"fire-core-compat",[eP]:"fire-analytics",[Z2]:"fire-analytics-compat",[nP]:"fire-app-check",[tP]:"fire-app-check-compat",[rP]:"fire-auth",[iP]:"fire-auth-compat",[sP]:"fire-rtdb",[oP]:"fire-rtdb-compat",[aP]:"fire-fn",[lP]:"fire-fn-compat",[uP]:"fire-iid",[cP]:"fire-iid-compat",[dP]:"fire-fcm",[fP]:"fire-fcm-compat",[hP]:"fire-perf",[pP]:"fire-perf-compat",[mP]:"fire-rc",[gP]:"fire-rc-compat",[vP]:"fire-gcs",[yP]:"fire-gcs-compat",[_P]:"fire-fst",[bP]:"fire-fst-compat","fire-js":"fire-js",[wP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,AP=new Map,rm=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(n){fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ur(t){const e=t.name;if(rm.has(e))return fo.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,t);for(const n of ed.values())S0(n,t);for(const n of AP.values())S0(n,t);return!0}function Ds(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Ao("app","Firebase",kP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=EP;function Kw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ys.create("bad-app-name",{appName:String(i)});if(n||(n=$w()),!n)throw ys.create("no-options");const s=ed.get(i);if(s){if(ca(n,s.options)&&ca(r,s.config))return s;throw ys.create("duplicate-app",{appName:i})}const o=new M2(i);for(const l of rm.values())o.addComponent(l);const a=new xP(n,r,o);return ed.set(i,a),a}function Xd(t=nm){const e=ed.get(t);if(!e&&t===nm&&$w())return Kw();if(!e)throw ys.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let i=(r=TP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fo.warn(a.join(" "));return}Ur(new kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="firebase-heartbeat-database",SP=1,zl="firebase-heartbeat-store";let Qh=null;function Ww(){return Qh||(Qh=zw(IP,SP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),Qh}async function RP(t){try{const n=(await Ww()).transaction(zl),r=await n.objectStore(zl).get(Yw(t));return await n.done,r}catch(e){if(e instanceof xr)fo.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fo.warn(n.message)}}}async function R0(t,e){try{const r=(await Ww()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,Yw(t)),await r.done}catch(n){if(n instanceof xr)fo.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fo.warn(r.message)}}}function Yw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=1024,PP=30*24*60*60*1e3;class CP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=PP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O0(),{heartbeatsToSend:r,unsentEntries:i}=DP(this._heartbeatsCache.heartbeats),s=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function O0(){return new Date().toISOString().substring(0,10)}function DP(t,e=OP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),P0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jw()?Uw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P0(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){Ur(new kr("platform-logger",e=>new Q2(e),"PRIVATE")),Ur(new kr("heartbeat",e=>new CP(e),"PRIVATE")),nr(tm,I0,t),nr(tm,I0,"esm2017"),nr("fire-js","")}MP("");var LP="firebase",$P="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(LP,$P,"app");const Gw="@firebase/installations",bg="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=1e4,Xw=`w:${bg}`,Jw="FIS_v2",VP="https://firebaseinstallations.googleapis.com/v1",FP=60*60*1e3,BP="installations",jP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ho=new Ao(BP,jP,UP);function Zw(t){return t instanceof xr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE({projectId:t}){return`${VP}/projects/${t}/installations`}function tE(t){return{token:t.token,requestStatus:2,expiresIn:HP(t.expiresIn),creationTime:Date.now()}}async function nE(t,e){const r=(await e.json()).error;return ho.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qP(t,{refreshToken:e}){const n=rE(t);return n.append("Authorization",zP(e)),n}async function iE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function HP(t){return Number(t.replace("s","000"))}function zP(t){return`${Jw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eE(t),i=rE(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Jw,appId:t.appId,sdkVersion:Xw},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await iE(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:tE(u.authToken)}}else throw await nE("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=/^[cdef][\w-]{21}$/,im="";function GP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=QP(t);return YP.test(n)?n:im}catch{return im}}function QP(t){return WP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function aE(t,e){const n=Jd(t);lE(n,e),XP(n,e)}function lE(t,e){const n=oE.get(t);if(n)for(const r of n)r(e)}function XP(t,e){const n=JP();n&&n.postMessage({key:t,fid:e}),ZP()}let Zs=null;function JP(){return!Zs&&"BroadcastChannel"in self&&(Zs=new BroadcastChannel("[Firebase] FID Change"),Zs.onmessage=t=>{lE(t.data.key,t.data.fid)}),Zs}function ZP(){oE.size===0&&Zs&&(Zs.close(),Zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebase-installations-database",tC=1,po="firebase-installations-store";let Xh=null;function wg(){return Xh||(Xh=zw(eC,tC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(po)}}})),Xh}async function td(t,e){const n=Jd(t),i=(await wg()).transaction(po,"readwrite"),s=i.objectStore(po),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&aE(t,e.fid),e}async function uE(t){const e=Jd(t),r=(await wg()).transaction(po,"readwrite");await r.objectStore(po).delete(e),await r.done}async function Zd(t,e){const n=Jd(t),i=(await wg()).transaction(po,"readwrite"),s=i.objectStore(po),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&aE(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(t){let e;const n=await Zd(t.appConfig,r=>{const i=nC(r),s=rC(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===im?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nC(t){const e=t||{fid:GP(),registrationStatus:0};return cE(e)}function rC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ho.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=iC(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sC(t)}:{installationEntry:e}}async function iC(t,e){try{const n=await KP(t,e);return td(t.appConfig,n)}catch(n){throw Zw(n)&&n.customData.serverCode===409?await uE(t.appConfig):await td(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sC(t){let e=await C0(t.appConfig);for(;e.registrationStatus===1;)await sE(100),e=await C0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Eg(t);return r||n}return e}function C0(t){return Zd(t,e=>{if(!e)throw ho.create("installation-not-found");return cE(e)})}function cE(t){return oC(t)?{fid:t.fid,registrationStatus:0}:t}function oC(t){return t.registrationStatus===1&&t.registrationTime+Qw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC({appConfig:t,heartbeatServiceProvider:e},n){const r=lC(t,n),i=qP(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Xw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await iE(()=>fetch(r,a));if(l.ok){const u=await l.json();return tE(u)}else throw await nE("Generate Auth Token",l)}function lC(t,{fid:e}){return`${eE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(t,e=!1){let n;const r=await Zd(t.appConfig,s=>{if(!dE(s))throw ho.create("not-registered");const o=s.authToken;if(!e&&dC(o))return s;if(o.requestStatus===1)return n=uC(t,e),s;{if(!navigator.onLine)throw ho.create("app-offline");const a=hC(s);return n=cC(t,a),a}});return n?await n:r.authToken}async function uC(t,e){let n=await D0(t.appConfig);for(;n.authToken.requestStatus===1;)await sE(100),n=await D0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Tg(t,e):r}function D0(t){return Zd(t,e=>{if(!dE(e))throw ho.create("not-registered");const n=e.authToken;return pC(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function cC(t,e){try{const n=await aC(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await td(t.appConfig,r),n}catch(n){if(Zw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uE(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await td(t.appConfig,r)}throw n}}function dE(t){return t!==void 0&&t.registrationStatus===2}function dC(t){return t.requestStatus===2&&!fC(t)}function fC(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FP}function hC(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function pC(t){return t.requestStatus===1&&t.requestTime+Qw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(t){const e=t,{installationEntry:n,registrationPromise:r}=await Eg(e);return r?r.catch(console.error):Tg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e=!1){const n=t;return await vC(n),(await Tg(n,e)).token}async function vC(t){const{registrationPromise:e}=await Eg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){if(!t||!t.options)throw Jh("App Configuration");if(!t.name)throw Jh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jh(t){return ho.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="installations",_C="installations-internal",bC=t=>{const e=t.getProvider("app").getImmediate(),n=yC(e),r=Ds(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wC=t=>{const e=t.getProvider("app").getImmediate(),n=Ds(e,fE).getImmediate();return{getId:()=>mC(n),getToken:i=>gC(n,i)}};function EC(){Ur(new kr(fE,bC,"PUBLIC")),Ur(new kr(_C,wC,"PRIVATE"))}EC();nr(Gw,bg);nr(Gw,bg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="analytics",TC="firebase_id",AC="origin",kC=60*1e3,xC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ag="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Qd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pr=new Ao("analytics","Analytics",IC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){if(!t.startsWith(Ag)){const e=pr.create("invalid-gtag-resource",{gtagURL:t});return rr.warn(e.message),""}return t}function hE(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function RC(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function OC(t,e){const n=RC("firebase-js-sdk-policy",{createScriptURL:SC}),r=document.createElement("script"),i=`${Ag}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function PC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function CC(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await hE(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){rr.error(a)}t("config",i,s)}async function DC(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await hE(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){rr.error(s)}}function NC(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await DC(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await CC(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){rr.error(a)}}return i}function MC(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=NC(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function LC(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ag)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=30,VC=1e3;class FC{constructor(e={},n=VC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pE=new FC;function BC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jC(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:BC(r)},s=xC.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function UC(t,e=pE,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw pr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zC;return setTimeout(async()=>{a.abort()},kC),mE({appId:r,apiKey:i,measurementId:s},o,a,e)}async function mE(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pE){var s;const{appId:o,measurementId:a}=t;try{await qC(r,e)}catch(l){if(a)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await jC(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!HC(u)){if(i.deleteThrottleMetadata(o),a)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?T0(n,i.intervalMillis,$C):T0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),rr.debug(`Calling attemptFetch again in ${c} millis`),mE(t,d,r,i)}}function qC(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HC(t){if(!(t instanceof xr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class zC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KC(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(){if(jw())try{await Uw()}catch(t){return rr.warn(pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return rr.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YC(t,e,n,r,i,s,o){var a;const l=UC(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>rr.error(h)),e.push(l);const u=WC().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);LC(s)||OC(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[AC]="firebase",f.update=!0,d!=null&&(f[TC]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.app=e}_delete(){return delete kl[this.app.options.appId],Promise.resolve()}}let kl={},N0=[];const M0={};let Zh="dataLayer",QC="gtag",L0,gE,$0=!1;function XC(){const t=[];if(Bw()&&t.push("This is a browser extension environment."),b2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=pr.create("invalid-analytics-context",{errorInfo:e});rr.warn(n.message)}}function JC(t,e,n){XC();const r=t.options.appId;if(!r)throw pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pr.create("no-api-key");if(kl[r]!=null)throw pr.create("already-exists",{id:r});if(!$0){PC(Zh);const{wrappedGtag:s,gtagCore:o}=MC(kl,N0,M0,Zh,QC);gE=s,L0=o,$0=!0}return kl[r]=YC(t,N0,M0,e,L0,Zh,n),new GC(t)}function ZC(t=Xd()){t=Ot(t);const e=Ds(t,nd);return e.isInitialized()?e.getImmediate():eD(t)}function eD(t,e={}){const n=Ds(t,nd);if(n.isInitialized()){const i=n.getImmediate();if(ca(e,n.getOptions()))return i;throw pr.create("already-initialized")}return n.initialize({options:e})}function tD(t,e,n,r){t=Ot(t),KC(gE,kl[t.app.options.appId],e,n,r).catch(i=>rr.error(i))}const V0="@firebase/analytics",F0="0.10.2";function nD(){Ur(new kr(nd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return JC(r,i,n)},"PUBLIC")),Ur(new kr("analytics-internal",t,"PRIVATE")),nr(V0,F0),nr(V0,F0,"esm2017");function t(e){try{const n=e.getProvider(nd).getImmediate();return{logEvent:(r,i,s)=>tD(n,r,i,s)}}catch(n){throw pr.create("interop-component-reg-failed",{reason:n})}}}nD();function kg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rD=vE,yE=new Ao("auth","Firebase",vE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Qd("@firebase/auth");function iD(t,...e){rd.logLevel<=at.WARN&&rd.warn(`Auth (${ko}): ${t}`,...e)}function Oc(t,...e){rd.logLevel<=at.ERROR&&rd.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw xg(t,...e)}function pi(t,...e){return xg(t,...e)}function _E(t,e,n){const r=Object.assign(Object.assign({},rD()),{[e]:n});return new Ao("auth","Firebase",r).create(e,{appName:t.name})}function _s(t){return _E(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yE.create(t,...e)}function Ke(t,e,...n){if(!t)throw xg(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oc(e),new Error(e)}function Fi(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sD(){return B0()==="http:"||B0()==="https:"}function B0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sD()||Bw()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=m2()||v2()}get(){return oD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new vu(3e4,6e4);function xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,r,i={}){return wE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=gu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bE.fetch()(EE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function wE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lD),e);try{const i=new dD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _E(t,c,u);qr(t,c)}}catch(i){if(i instanceof xr)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function ef(t,e,n,r,i={}){const s=await Ns(t,e,n,r,i);return"mfaPendingCredential"in s&&qr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function EE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ig(t.config,i):`${t.config.apiScheme}://${i}`}function cD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),uD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(t,e,r);return i.customData._tokenResponse=n,i}function j0(t){return t!==void 0&&t.enterprise!==void 0}class fD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hD(t,e){return Ns(t,"GET","/v2/recaptchaConfig",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function TE(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mD(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=Sg(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xl(ep(i.auth_time)),issuedAtTime:xl(ep(i.iat)),expirationTime:xl(ep(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ep(t){return Number(t)*1e3}function Sg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nw(n);return i?JSON.parse(i):(Oc("Failed to decode base64 JWT payload"),null)}catch(i){return Oc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function U0(t){const e=Sg(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&gD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kl(t,TE(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AE(s.providerUserInfo):[],a=_D(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function yD(t){const e=Ot(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _D(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AE(t){return t.map(e=>{var{providerId:n}=e,r=kg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e){const n=await wE(t,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=EE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wD(t,e){return Ns(t,"POST","/v2/accounts:revokeToken",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=U0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ta;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new om(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mD(this,e)}reload(){return yD(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Kl(this,pD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:g,isAnonymous:w,providerData:I,stsTokenManager:k}=n;Ke(b&&k,e,"internal-error");const R=ta.fromJSON(this.name,k);Ke(typeof b=="string",e,"internal-error"),Ji(d,e.name),Ji(f,e.name),Ke(typeof g=="boolean",e,"internal-error"),Ke(typeof w=="boolean",e,"internal-error"),Ji(h,e.name),Ji(p,e.name),Ji(m,e.name),Ji(_,e.name),Ji(v,e.name),Ji(y,e.name);const D=new Pi({uid:b,auth:e,email:f,emailVerified:g,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:R,createdAt:v,lastLoginAt:y});return I&&Array.isArray(I)&&(D.providerData=I.map(S=>Object.assign({},S))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new ta;i.updateFromServerResponse(n);const s=new Pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await id(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?AE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ta;a.updateFromIdToken(r);const l=new Pi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new om(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;function Ci(t){Fi(t instanceof Function,"Expected a class definition");let e=q0.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kE.type="NONE";const H0=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new na(Ci(H0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ci(H0);const o=Pc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Pi._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new na(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new na(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OE(e))return"Blackberry";if(PE(e))return"Webos";if(Rg(e))return"Safari";if((e.includes("chrome/")||IE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xE(t=xn()){return/firefox\//i.test(t)}function Rg(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(t=xn()){return/crios\//i.test(t)}function SE(t=xn()){return/iemobile/i.test(t)}function RE(t=xn()){return/android/i.test(t)}function OE(t=xn()){return/blackberry/i.test(t)}function PE(t=xn()){return/webos/i.test(t)}function tf(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ED(t=xn()){var e;return tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TD(){return y2()&&document.documentMode===10}function CE(t=xn()){return tf(t)||RE(t)||PE(t)||OE(t)||/windows phone/i.test(t)||SE(t)}function AD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e=[]){let n;switch(t){case"Browser":n=z0(xn());break;case"Worker":n=`${z0(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=6;class SD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ID,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K0(this),this.idTokenSubscription=new K0(this),this.beforeStateQueue=new kD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await TE(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(_s(this));const n=e?Ot(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xD(this),n=new SD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ao("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pa(t){return Ot(t)}class K0{constructor(e){this.auth=e,this.observer=null,this.addObserver=k2(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OD(t){nf=t}function NE(t){return nf.loadJS(t)}function PD(){return nf.recaptchaEnterpriseScript}function CD(){return nf.gapiScript}function DD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ND="recaptcha-enterprise",MD="NO_RECAPTCHA";class LD{constructor(e){this.type=ND,this.auth=Pa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{hD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new fD(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;j0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(MD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&j0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=PD();l.length!==0&&(l+=a),NE(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function W0(t,e,n,r=!1){const i=new LD(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Y0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await W0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await W0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e){const n=Ds(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ca(s,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function VD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FD(t,e,n){const r=Pa(t);Ke(r._canInitEmulator,r,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ME(e),{host:o,port:a}=BD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),jD()}function ME(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BD(t){const e=ME(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:G0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:G0(o)}}}function G0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function UD(t,e){return Ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e){return ef(t,"POST","/v1/accounts:signInWithPassword",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e){return ef(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}async function zD(t,e){return ef(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Og{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y0(e,n,"signInWithPassword",qD);case"emailLink":return HD(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y0(e,r,"signUpPassword",UD);case"emailLink":return zD(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e){return ef(t,"POST","/v1/accounts:signInWithIdp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="http://localhost";class mo extends Og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=kg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new mo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ra(e,n)}buildRequest(){const e={requestUri:KD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YD(t){const e=ll(ul(t)).link,n=e?ll(ul(e)).deep_link_id:null,r=ll(ul(t)).deep_link_id;return(r?ll(ul(r)).link:null)||r||n||e||t}class Pg{constructor(e){var n,r,i,s,o,a;const l=ll(ul(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=WD((i=l.mode)!==null&&i!==void 0?i:null);Ke(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=YD(e);try{return new Pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pg.parseLink(n);return Ke(r,"argument-error"),Wl._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends LE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends yu{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return us.credential(n,r)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends yu{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends yu{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pi._fromIdTokenResponse(e,r,i),o=Q0(r);return new da({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Q0(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Q0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends xr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sd(e,n,r,i)}}function $E(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(t,s,e,r):s})}async function GD(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e,n=!1){const{auth:r}=t;if(Ri(r.app))return Promise.reject(_s(r));const i="reauthenticate";try{const s=await Kl(t,$E(r,i,e,t),n);Ke(s.idToken,r,"internal-error");const o=Sg(s.idToken);Ke(o,r,"internal-error");const{sub:a}=o;return Ke(t.uid===a,r,"user-mismatch"),da._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE(t,e,n=!1){if(Ri(t.app))return Promise.reject(_s(t));const r="signIn",i=await $E(t,r,e),s=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function XD(t,e){return VE(Pa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t){const e=Pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ZD(t,e,n){return Ri(t.app)?Promise.reject(_s(t)):XD(Ot(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){return Ot(t).setPersistence(e)}function eN(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function tN(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function nN(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function X0(t){return Ot(t).signOut()}const od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){const t=xn();return Rg(t)||tf(t)}const iN=1e3,sN=10;class jE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=rN()&&AD(),this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);TD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jE.type="LOCAL";const Cg=jE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UE.type="SESSION";const qE=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await oN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Dg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function lN(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function uN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dN(){return HE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",fN=1,ad="firebaseLocalStorage",KE="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function hN(){const t=indexedDB.deleteDatabase(zE);return new _u(t).toPromise()}function am(){const t=indexedDB.open(zE,fN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ad,{keyPath:KE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ad)?e(r):(r.close(),await hN(),e(await am()))})})}async function J0(t,e,n){const r=sf(t,!0).put({[KE]:e,value:n});return new _u(r).toPromise()}async function pN(t,e){const n=sf(t,!1).get(e),r=await new _u(n).toPromise();return r===void 0?null:r.value}function Z0(t,e){const n=sf(t,!0).delete(e);return new _u(n).toPromise()}const mN=800,gN=3;class WE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(dN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uN(),!this.activeServiceWorker)return;this.sender=new aN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await J0(e,od,"1"),await Z0(e,od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sf(i,!1).getAll();return new _u(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WE.type="LOCAL";const vN=WE;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e){return e?Ci(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _N(t){return VE(t.auth,new Ng(t),t.bypassAuthState)}function bN(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),QD(n,new Ng(t),t.bypassAuthState)}async function wN(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),GD(n,new Ng(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _N;case"linkViaPopup":case"linkViaRedirect":return wN;case"reauthViaPopup":case"reauthViaRedirect":return bN;default:qr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new vu(2e3,1e4);class Wo extends YE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EN.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="pendingRedirect",Cc=new Map;class AN extends YE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await kN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kN(t,e){const n=SN(e),r=IN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xN(t,e){Cc.set(t._key(),e)}function IN(t){return Ci(t._redirectPersistence)}function SN(t){return Pc(TN,t.config.apiKey,t.name)}async function RN(t,e,n=!1){if(Ri(t.app))return Promise.reject(_s(t));const r=Pa(t),i=yN(r,e),o=await new AN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=10*60*1e3;class PN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ON&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MN=/^https?/;async function LN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DN(t);for(const n of e)try{if($N(n))return}catch{}qr(t,"unauthorized-domain")}function $N(t){const e=sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MN.test(n))return!1;if(NN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new vu(3e4,6e4);function t_(){const t=mi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FN(t){return new Promise((e,n)=>{var r,i,s;function o(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(pi(t,"network-request-failed"))},timeout:VN.get()})}if(!((i=(r=mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mi().gapi)===null||s===void 0)&&s.load)o();else{const a=DD("iframefcb");return mi()[a]=()=>{gapi.load?o():n(pi(t,"network-request-failed"))},NE(`${CD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function BN(t){return Dc=Dc||FN(t),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new vu(5e3,15e3),UN="__/auth/iframe",qN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KN(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ig(e,qN):`https://${t.config.authDomain}/${UN}`,r={apiKey:e.apiKey,appName:t.name,v:ko},i=zN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gu(r).slice(1)}`}async function WN(t){const e=await BN(t),n=mi().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:KN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=pi(t,"network-request-failed"),a=mi().setTimeout(()=>{s(o)},jN.get());function l(){mi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GN=500,QN=600,XN="_blank",JN="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(t,e,n,r=GN,i=QN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YN),{width:r.toString(),height:i.toString(),top:s,left:o}),u=xn().toLowerCase();n&&(a=IE(u)?XN:n),xE(u)&&(e=e||JN,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(ED(u)&&a!=="_self")return eM(e||"",a),new n_(null);const d=window.open(e||"",a,c);Ke(d,t,"popup-blocked");try{d.focus()}catch{}return new n_(d)}function eM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="__/auth/handler",nM="emulator/auth/handler",rM=encodeURIComponent("fac");async function r_(t,e,n,r,i,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:i};if(e instanceof LE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",A2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof yu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${rM}=${encodeURIComponent(l)}`:"";return`${iM(t)}?${gu(a).slice(1)}${u}`}function iM({config:t}){return t.emulator?Ig(t,nM):`https://${t.authDomain}/${tM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class sM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=RN,this._overrideRedirectResult=xN}async _openPopup(e,n,r,i){var s;Fi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await r_(e,n,r,sm(),i);return ZN(e,o,Dg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await r_(e,n,r,sm(),i);return lN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WN(e),r=new PN(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tp,{type:tp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tp];o!==void 0&&n(!!o),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CE()||Rg()||tf()}}const oM=sM;var i_="@firebase/auth",s_="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uM(t){Ur(new kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DE(t)},u=new RD(r,i,s,l);return VD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new kr("auth-internal",e=>{const n=Pa(e.getProvider("auth").getImmediate());return(r=>new aM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(i_,s_,lM(t)),nr(i_,s_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=5*60,dM=Vw("authIdTokenMaxAge")||cM;let o_=null;const fM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dM)return;const i=n==null?void 0:n.token;o_!==i&&(o_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hM(t=Xd()){const e=Ds(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$D(t,{popupRedirectResolver:oM,persistence:[vN,Cg,qE]}),r=Vw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fM(s.toString());tN(n,o,()=>o(n.currentUser)),eN(n,a=>o(a))}}const i=Mw("auth");return i&&FD(n,`http://${i}`),n}function pM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uM("Browser");var mM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe,Mg=Mg||{},Ge=mM||self;function of(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function af(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gM(t){return Object.prototype.hasOwnProperty.call(t,np)&&t[np]||(t[np]=++vM)}var np="closure_uid_"+(1e9*Math.random()>>>0),vM=0;function yM(t,e,n){return t.call.apply(t.bind,arguments)}function _M(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$n=yM:$n=_M,$n.apply(null,arguments)}function uc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function pn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ms(){this.s=this.s,this.o=this.o}var bM=0;Ms.prototype.s=!1;Ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),bM!=0)&&gM(this)};Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function a_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(of(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var wM=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ge.addEventListener("test",n,e),Ge.removeEventListener("test",n,e)}catch{}return t}();function Yl(t){return/^[\s\xa0]*$/.test(t)}function lf(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function si(t){return lf().indexOf(t)!=-1}function $g(t){return $g[" "](t),t}$g[" "]=function(){};function EM(t,e){var n=mL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TM=si("Opera"),fa=si("Trident")||si("MSIE"),XE=si("Edge"),lm=XE||fa,JE=si("Gecko")&&!(lf().toLowerCase().indexOf("webkit")!=-1&&!si("Edge"))&&!(si("Trident")||si("MSIE"))&&!si("Edge"),AM=lf().toLowerCase().indexOf("webkit")!=-1&&!si("Edge");function ZE(){var t=Ge.document;return t?t.documentMode:void 0}var um;e:{var rp="",ip=function(){var t=lf();if(JE)return/rv:([^\);]+)(\)|;)/.exec(t);if(XE)return/Edge\/([\d\.]+)/.exec(t);if(fa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(AM)return/WebKit\/(\S+)/.exec(t);if(TM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ip&&(rp=ip?ip[1]:""),fa){var sp=ZE();if(sp!=null&&sp>parseFloat(rp)){um=String(sp);break e}}um=rp}var cm;if(Ge.document&&fa){var l_=ZE();cm=l_||parseInt(um,10)||void 0}else cm=void 0;var kM=cm;function Gl(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(JE){e:{try{$g(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gl.$.h.call(this)}}pn(Gl,Vn);var xM={2:"touch",3:"pen",4:"mouse"};Gl.prototype.h=function(){Gl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var uf="closure_listenable_"+(1e6*Math.random()|0),IM=0;function SM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++IM,this.fa=this.ia=!1}function cf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function RM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function eT(t){const e={};for(const n in t)e[n]=t[n];return e}const u_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<u_.length;s++)n=u_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function df(t){this.src=t,this.g={},this.h=0}df.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=fm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new SM(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function dm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=QE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(cf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Fg="closure_lm_"+(1e6*Math.random()|0),op={};function nT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nT(t,e[s],n,r,i);return null}return n=sT(n),t&&t[uf]?t.O(e,n,af(r)?!!r.capture:!!r,i):OM(t,e,n,!1,r,i)}function OM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=af(i)?!!i.capture:!!i,a=jg(t);if(a||(t[Fg]=a=new df(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=PM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wM||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function PM(){function t(n){return e.call(t.src,t.listener,n)}const e=CM;return t}function rT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rT(t,e[s],n,r,i);else r=af(r)?!!r.capture:!!r,n=sT(n),t&&t[uf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=fm(s,n,r,i),-1<n&&(cf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=jg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fm(e,n,r,i)),(n=-1<t?e[t]:null)&&Bg(n))}function Bg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[uf])dm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jg(e))?(dm(n,t),n.h==0&&(n.src=null,e[Fg]=null)):cf(t)}}}function iT(t){return t in op?op[t]:op[t]="on"+t}function CM(t,e){if(t.fa)t=!0;else{e=new Gl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Bg(t),t=n.call(r,e)}return t}function jg(t){return t=t[Fg],t instanceof df?t:null}var ap="__closure_events_fn_"+(1e9*Math.random()>>>0);function sT(t){return typeof t=="function"?t:(t[ap]||(t[ap]=function(e){return t.handleEvent(e)}),t[ap])}function hn(){Ms.call(this),this.i=new df(this),this.S=this,this.J=null}pn(hn,Ms);hn.prototype[uf]=!0;hn.prototype.removeEventListener=function(t,e,n,r){rT(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;e=new Vn(r,t),tT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cc(o,r,!0,e)&&i}if(o=e.g=t,i=cc(o,r,!0,e)&&i,i=cc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=cc(o,r,!1,e)&&i}hn.prototype.N=function(){if(hn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cf(n[r]);delete t.g[e],t.h--}}this.J=null};hn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};hn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function cc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&dm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ug=Ge.JSON.stringify;class DM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function NM(){var t=qg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class MM{constructor(){this.h=this.g=null}add(e,n){const r=oT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oT=new DM(()=>new LM,t=>t.reset());class LM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $M(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function VM(t){Ge.setTimeout(()=>{throw t},0)}let Ql,Xl=!1,qg=new MM,aT=()=>{const t=Ge.Promise.resolve(void 0);Ql=()=>{t.then(FM)}};var FM=()=>{for(var t;t=NM();){try{t.h.call(t.g)}catch(n){VM(n)}var e=oT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xl=!1};function ff(t,e){hn.call(this),this.h=t||1,this.g=e||Ge,this.j=$n(this.qb,this),this.l=Date.now()}pn(ff,hn);Pe=ff.prototype;Pe.ga=!1;Pe.T=null;Pe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(Hg(this),this.start()))}};Pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Pe.N=function(){ff.$.N.call(this),Hg(this),delete this.g};function zg(t,e,n){if(typeof t=="function")n&&(t=$n(t,n));else if(t&&typeof t.handleEvent=="function")t=$n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function lT(t){t.g=zg(()=>{t.g=null,t.i&&(t.i=!1,lT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class BM extends Ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lT(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jl(t){Ms.call(this),this.h=t,this.g={}}pn(Jl,Ms);var c_=[];function uT(t,e,n,r){Array.isArray(n)||(n&&(c_[0]=n.toString()),n=c_);for(var i=0;i<n.length;i++){var s=nT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function cT(t){Vg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bg(e)},t),t.g={}}Jl.prototype.N=function(){Jl.$.N.call(this),cT(this)};Jl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hf(){this.g=!0}hf.prototype.Ea=function(){this.g=!1};function jM(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function UM(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+HM(t,n)+(r?" "+r:"")})}function qM(t,e){t.info(function(){return"TIMEOUT: "+e})}hf.prototype.info=function(){};function HM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ug(n)}catch{return e}}var Io={},d_=null;function pf(){return d_=d_||new hn}Io.Ta="serverreachability";function dT(t){Vn.call(this,Io.Ta,t)}pn(dT,Vn);function Zl(t){const e=pf();Tn(e,new dT(e))}Io.STAT_EVENT="statevent";function fT(t,e){Vn.call(this,Io.STAT_EVENT,t),this.stat=e}pn(fT,Vn);function Wn(t){const e=pf();Tn(e,new fT(e,t))}Io.Ua="timingevent";function hT(t,e){Vn.call(this,Io.Ua,t),this.size=e}pn(hT,Vn);function bu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}var mf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kg(){}Kg.prototype.h=null;function f_(t){return t.h||(t.h=t.i())}function mT(){}var wu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wg(){Vn.call(this,"d")}pn(Wg,Vn);function Yg(){Vn.call(this,"c")}pn(Yg,Vn);var hm;function gf(){}pn(gf,Kg);gf.prototype.g=function(){return new XMLHttpRequest};gf.prototype.i=function(){return{}};hm=new gf;function Eu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Jl(this),this.P=zM,t=lm?125:void 0,this.V=new ff(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gT}function gT(){this.i=null,this.g="",this.h=!1}var zM=45e3,vT={},pm={};Pe=Eu.prototype;Pe.setTimeout=function(t){this.P=t};function mm(t,e,n){t.L=1,t.A=yf(Bi(e)),t.u=n,t.S=!0,yT(t,null)}function yT(t,e){t.G=Date.now(),Tu(t),t.B=Bi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),xT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new gT,t.g=WT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new BM($n(t.Pa,t,t.g),t.O)),uT(t.U,t.g,"readystatechange",t.nb),e=t.I?eT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Zl(),jM(t.j,t.v,t.B,t.m,t.W,t.u)}Pe.nb=function(t){t=t.target;const e=this.M;e&&li(t)==3?e.l():this.Pa(t)};Pe.Pa=function(t){try{if(t==this.g)e:{const c=li(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||lm||this.g&&(this.h.h||this.g.ja()||g_(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Zl(3):Zl(2)),vf(this);var n=this.g.da();this.ca=n;t:if(_T(this)){var r=g_(this.g);t="";var i=r.length,s=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),Il(this);var o="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,UM(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yl(a)){var u=a;break t}}u=null}if(n=u)Yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gm(this,n);else{this.i=!1,this.s=3,Wn(12),eo(this),Il(this);break e}}this.S?(bT(this,c,o),lm&&this.i&&c==3&&(uT(this.U,this.V,"tick",this.mb),this.V.start())):(Yo(this.j,this.m,o,null),gm(this,o)),c==4&&eo(this),this.i&&!this.J&&(c==4?qT(this.l,this):(this.i=!1,Tu(this)))}else fL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Wn(12)):(this.s=0,Wn(13)),eo(this),Il(this)}}}catch{}finally{}};function _T(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function bT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=KM(t,n),i==pm){e==4&&(t.s=4,Wn(14),r=!1),Yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==vT){t.s=4,Wn(15),Yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yo(t.j,t.m,i,null),gm(t,i);_T(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ev(e),e.M=!0,Wn(11))):(Yo(t.j,t.m,n,"[Invalid Chunked Response]"),eo(t),Il(t))}Pe.mb=function(){if(this.g){var t=li(this.g),e=this.g.ja();this.o<e.length&&(vf(this),bT(this,t,e),this.i&&t!=4&&Tu(this))}};function KM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?pm:(n=Number(e.substring(n,r)),isNaN(n)?vT:(r+=1,r+n>e.length?pm:(e=e.slice(r,r+n),t.o=r+n,e)))}Pe.cancel=function(){this.J=!0,eo(this)};function Tu(t){t.Y=Date.now()+t.P,wT(t,t.P)}function wT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=bu($n(t.lb,t),e)}function vf(t){t.C&&(Ge.clearTimeout(t.C),t.C=null)}Pe.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(qM(this.j,this.B),this.L!=2&&(Zl(),Wn(17)),eo(this),this.s=2,Il(this)):wT(this,this.Y-t)};function Il(t){t.l.H==0||t.J||qT(t.l,t)}function eo(t){vf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Hg(t.V),cT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function gm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vm(n.i,t))){if(!t.K&&vm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)cd(n),wf(n);else break e;Zg(n),Wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bu($n(n.ib,n),6e3));if(1>=RT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else to(n,11)}else if((t.K||n.g==t)&&cd(n),!Yl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Gg(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,St(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=KT(r,r.J?r.pa:null,r.Y),o.K){OT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(vf(a),Tu(a)),r.g=o}else jT(r);0<n.j.length&&Ef(n)}else u[0]!="stop"&&u[0]!="close"||to(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?to(n,7):Jg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Zl(4)}catch{}}function WM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(of(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function YM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(of(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ET(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(of(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=YM(t),r=WM(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var TT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function oo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof oo){this.h=t.h,ld(this,t.j),this.s=t.s,this.g=t.g,ud(this,t.m),this.l=t.l;var e=t.i,n=new eu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),h_(this,n),this.o=t.o}else t&&(e=String(t).match(TT))?(this.h=!1,ld(this,e[1]||"",!0),this.s=cl(e[2]||""),this.g=cl(e[3]||"",!0),ud(this,e[4]),this.l=cl(e[5]||"",!0),h_(this,e[6]||"",!0),this.o=cl(e[7]||"")):(this.h=!1,this.i=new eu(null,this.h))}oo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dl(e,p_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dl(e,p_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dl(n,n.charAt(0)=="/"?JM:XM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dl(n,eL)),t.join("")};function Bi(t){return new oo(t)}function ld(t,e,n){t.j=n?cl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function h_(t,e,n){e instanceof eu?(t.i=e,tL(t.i,t.h)):(n||(e=dl(e,ZM)),t.i=new eu(e,t.h))}function St(t,e,n){t.i.set(e,n)}function yf(t){return St(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,QM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var p_=/[#\/\?@]/g,XM=/[#\?:]/g,JM=/[#\?]/g,ZM=/[#\?@]/g,eL=/#/g;function eu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ls(t){t.g||(t.g=new Map,t.h=0,t.i&&GM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Pe=eu.prototype;Pe.add=function(t,e){Ls(this),this.i=null,t=Da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function AT(t,e){Ls(t),e=Da(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kT(t,e){return Ls(t),e=Da(t,e),t.g.has(e)}Pe.forEach=function(t,e){Ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Pe.ta=function(){Ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Pe.Z=function(t){Ls(this);let e=[];if(typeof t=="string")kT(this,t)&&(e=e.concat(this.g.get(Da(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Pe.set=function(t,e){return Ls(this),this.i=null,t=Da(this,t),kT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Pe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function xT(t,e,n){AT(t,e),0<n.length&&(t.i=null,t.g.set(Da(t,e),Lg(n)),t.h+=n.length)}Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tL(t,e){e&&!t.j&&(Ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(AT(this,r),xT(this,i,n))},t)),t.j=e}var nL=class{constructor(t,e){this.g=t,this.map=e}};function IT(t){this.l=t||rL,Ge.PerformanceNavigationTiming?(t=Ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rL=10;function ST(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RT(t){return t.h?1:t.g?t.g.size:0}function vm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gg(t,e){t.g?t.g.add(e):t.h=e}function OT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}IT.prototype.cancel=function(){if(this.i=PT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function PT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lg(t.i)}var iL=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function sL(){this.g=new iL}function oL(t,e,n){const r=n||"";try{ET(t,function(i,s){let o=i;af(i)&&(o=Ug(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aL(t,e){const n=new hf;if(Ge.Image){const r=new Image;r.onload=uc(dc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=uc(dc,n,r,"TestLoadImage: error",!1,e),r.onabort=uc(dc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=uc(dc,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function dc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Au(t){this.l=t.ec||null,this.j=t.ob||!1}pn(Au,Kg);Au.prototype.g=function(){return new _f(this.l,this.j)};Au.prototype.i=function(t){return function(){return t}}({});function _f(t,e){hn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pn(_f,hn);var Qg=0;Pe=_f.prototype;Pe.open=function(t,e){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,tu(this)};Pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ku(this)),this.readyState=Qg};Pe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,tu(this)),this.g&&(this.readyState=3,tu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function CT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Pe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ku(this):tu(this),this.readyState==3&&CT(this)}};Pe.Za=function(t){this.g&&(this.response=this.responseText=t,ku(this))};Pe.Ya=function(t){this.g&&(this.response=t,ku(this))};Pe.ka=function(){this.g&&ku(this)};function ku(t){t.readyState=4,t.l=null,t.j=null,t.A=null,tu(t)}Pe.setRequestHeader=function(t,e){this.v.append(t,e)};Pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_f.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var lL=Ge.JSON.parse;function $t(t){hn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DT,this.L=this.M=!1}pn($t,hn);var DT="",uL=/^https?$/i,cL=["POST","PUT"];Pe=$t.prototype;Pe.Oa=function(t){this.M=t};Pe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hm.g(),this.C=this.u?f_(this.u):f_(hm),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){m_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=QE(cL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LT(this),0<this.B&&((this.L=dL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=zg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){m_(this,s)}};function dL(t){return fa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Pe.ua=function(){typeof Mg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function m_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,NT(t),bf(t)}function NT(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}Pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),bf(this))};Pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bf(this,!0)),$t.$.N.call(this)};Pe.La=function(){this.s||(this.G||this.v||this.l?MT(this):this.kb())};Pe.kb=function(){MT(this)};function MT(t){if(t.h&&typeof Mg<"u"&&(!t.C[1]||li(t)!=4||t.da()!=2)){if(t.v&&li(t)==4)zg(t.La,0,t);else if(Tn(t,"readystatechange"),li(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(TT)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!uL.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<li(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",NT(t)}}finally{bf(t)}}}}function bf(t,e){if(t.g){LT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function LT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}Pe.isActive=function(){return!!this.g};function li(t){return t.g?t.g.readyState:0}Pe.da=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}};Pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Pe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lL(e)}};function g_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case DT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function fL(t){const e={};t=(t.g&&2<=li(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Yl(t[r]))continue;var n=$M(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}RM(e,function(r){return r.join(", ")})}Pe.Ia=function(){return this.m};Pe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function $T(t){let e="";return Vg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$T(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):St(t,e,n))}function Ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VT(t){this.Ga=0,this.j=[],this.l=new hf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ja("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ja("baseRetryDelayMs",5e3,t),this.hb=Ja("retryDelaySeedMs",1e4,t),this.eb=Ja("forwardChannelMaxRetries",2,t),this.xa=Ja("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new IT(t&&t.concurrentRequestLimit),this.Ja=new sL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Pe=VT.prototype;Pe.ra=8;Pe.H=1;function Jg(t){if(FT(t),t.H==3){var e=t.W++,n=Bi(t.I);if(St(n,"SID",t.K),St(n,"RID",e),St(n,"TYPE","terminate"),xu(t,n),e=new Eu(t,t.l,e),e.L=2,e.A=yf(Bi(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ge.Image&&(new Image().src=e.A,n=!0),n||(e.g=WT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Tu(e)}zT(t)}function wf(t){t.g&&(ev(t),t.g.cancel(),t.g=null)}function FT(t){wf(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),cd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ge.clearTimeout(t.m),t.m=null)}function Ef(t){if(!ST(t.i)&&!t.m){t.m=!0;var e=t.Na;Ql||aT(),Xl||(Ql(),Xl=!0),qg.add(e,t),t.C=0}}function hL(t,e){return RT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bu($n(t.Na,t,e),HT(t,t.C)),t.C++,!0)}Pe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Eu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=eT(s),tT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=BT(this,i,e),n=Bi(this.I),St(n,"RID",t),St(n,"CVER",22),this.F&&St(n,"X-HTTP-Session-Id",this.F),xu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String($T(s)))+"&"+e:this.o&&Xg(n,this.o,s)),Gg(this.i,i),this.bb&&St(n,"TYPE","init"),this.P?(St(n,"$req",e),St(n,"SID","null"),i.aa=!0,mm(i,n,null)):mm(i,n,e),this.H=2}}else this.H==3&&(t?v_(this,t):this.j.length==0||ST(this.i)||v_(this))};function v_(t,e){var n;e?n=e.m:n=t.W++;const r=Bi(t.I);St(r,"SID",t.K),St(r,"RID",n),St(r,"AID",t.V),xu(t,r),t.o&&t.s&&Xg(r,t.o,t.s),n=new Eu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=BT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gg(t.i,n),mm(n,r,e)}function xu(t,e){t.na&&Vg(t.na,function(n,r){St(e,r,n)}),t.h&&ET({},function(n,r){St(e,r,n)})}function BT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$n(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{oL(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function jT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ql||aT(),Xl||(Ql(),Xl=!0),qg.add(e,t),t.A=0}}function Zg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bu($n(t.Ma,t),HT(t,t.A)),t.A++,!0)}Pe.Ma=function(){if(this.u=null,UT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bu($n(this.jb,this),t)}};Pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wn(10),wf(this),UT(this))};function ev(t){t.B!=null&&(Ge.clearTimeout(t.B),t.B=null)}function UT(t){t.g=new Eu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Bi(t.wa);St(e,"RID","rpc"),St(e,"SID",t.K),St(e,"AID",t.V),St(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&St(e,"TO",t.qa),St(e,"TYPE","xmlhttp"),xu(t,e),t.o&&t.s&&Xg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=yf(Bi(e)),n.u=null,n.S=!0,yT(n,t)}Pe.ib=function(){this.v!=null&&(this.v=null,wf(this),Zg(this),Wn(19))};function cd(t){t.v!=null&&(Ge.clearTimeout(t.v),t.v=null)}function qT(t,e){var n=null;if(t.g==e){cd(t),ev(t),t.g=null;var r=2}else if(vm(t.i,e))n=e.F,OT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=pf(),Tn(r,new hT(r,n)),Ef(t)}else jT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&hL(t,e)||r==2&&Zg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:to(t,5);break;case 4:to(t,10);break;case 3:to(t,6);break;default:to(t,2)}}}function HT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function to(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$n(t.pb,t);n||(n=new oo("//www.google.com/images/cleardot.gif"),Ge.location&&Ge.location.protocol=="http"||ld(n,"https"),yf(n)),aL(n.toString(),r)}else Wn(2);t.H=0,t.h&&t.h.za(e),zT(t),FT(t)}Pe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wn(2)):(this.l.info("Failed to ping google.com"),Wn(1))};function zT(t){if(t.H=0,t.ma=[],t.h){const e=PT(t.i);(e.length!=0||t.j.length!=0)&&(a_(t.ma,e),a_(t.ma,t.j),t.i.i.length=0,Lg(t.j),t.j.length=0),t.h.ya()}}function KT(t,e,n){var r=n instanceof oo?Bi(n):new oo(n);if(r.g!="")e&&(r.g=e+"."+r.g),ud(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new oo(null);r&&ld(s,r),e&&(s.g=e),i&&ud(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&St(r,n,e),St(r,"VER",t.ra),xu(t,r),r}function WT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new $t(new Au({ob:n})):new $t(t.va),e.Oa(t.J),e}Pe.isActive=function(){return!!this.h&&this.h.isActive(this)};function YT(){}Pe=YT.prototype;Pe.Ba=function(){};Pe.Aa=function(){};Pe.za=function(){};Pe.ya=function(){};Pe.isActive=function(){return!0};Pe.Va=function(){};function dd(){if(fa&&!(10<=Number(kM)))throw Error("Environmental error: no available transport.")}dd.prototype.g=function(t,e){return new gr(t,e)};function gr(t,e){hn.call(this),this.g=new VT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Na(this)}pn(gr,hn);gr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=KT(t,null,t.Y),Ef(t)};gr.prototype.close=function(){Jg(this.g)};gr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ug(t),t=n);e.j.push(new nL(e.fb++,t)),e.H==3&&Ef(e)};gr.prototype.N=function(){this.g.h=null,delete this.j,Jg(this.g),delete this.g,gr.$.N.call(this)};function GT(t){Wg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}pn(GT,Wg);function QT(){Yg.call(this),this.status=1}pn(QT,Yg);function Na(t){this.g=t}pn(Na,YT);Na.prototype.Ba=function(){Tn(this.g,"a")};Na.prototype.Aa=function(t){Tn(this.g,new GT(t))};Na.prototype.za=function(t){Tn(this.g,new QT)};Na.prototype.ya=function(){Tn(this.g,"b")};function pL(){this.blockSize=-1}function Hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}pn(Hr,pL);Hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function lp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Hr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)lp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){lp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){lp(this,r),i=0;break}}this.h=i,this.i+=e};Hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function wt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var mL={};function tv(t){return-128<=t&&128>t?EM(t,function(e){return new wt([e|0],0>e?-1:0)}):new wt([t|0],0>t?-1:0)}function ui(t){if(isNaN(t)||!isFinite(t))return ia;if(0>t)return _n(ui(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ym;return new wt(e,0)}function XT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return _n(XT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ui(Math.pow(e,8)),r=ia,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ui(Math.pow(e,s)),r=r.R(s).add(ui(o))):(r=r.R(n),r=r.add(ui(o)))}return r}var ym=4294967296,ia=tv(0),_m=tv(1),y_=tv(16777216);Pe=wt.prototype;Pe.ea=function(){if(_r(this))return-_n(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ym+r)*e,e*=ym}return t};Pe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Di(this))return"0";if(_r(this))return"-"+_n(this).toString(t);for(var e=ui(Math.pow(t,6)),n=this,r="";;){var i=hd(n,e).g;n=fd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Di(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Pe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Di(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function _r(t){return t.h==-1}Pe.X=function(t){return t=fd(this,t),_r(t)?-1:Di(t)?0:1};function _n(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new wt(n,~t.h).add(_m)}Pe.abs=function(){return _r(this)?_n(this):this};Pe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new wt(n,n[n.length-1]&-2147483648?-1:0)};function fd(t,e){return t.add(_n(e))}Pe.R=function(t){if(Di(this)||Di(t))return ia;if(_r(this))return _r(t)?_n(this).R(_n(t)):_n(_n(this).R(t));if(_r(t))return _n(this.R(_n(t)));if(0>this.X(y_)&&0>t.X(y_))return ui(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,fc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,fc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,fc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,fc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new wt(n,0)};function fc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Za(t,e){this.g=t,this.h=e}function hd(t,e){if(Di(e))throw Error("division by zero");if(Di(t))return new Za(ia,ia);if(_r(t))return e=hd(_n(t),e),new Za(_n(e.g),_n(e.h));if(_r(e))return e=hd(t,_n(e)),new Za(_n(e.g),e.h);if(30<t.g.length){if(_r(t)||_r(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_m,r=e;0>=r.X(t);)n=__(n),r=__(r);var i=Vo(n,1),s=Vo(r,1);for(r=Vo(r,2),n=Vo(n,2);!Di(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Vo(r,1),n=Vo(n,1)}return e=fd(t,i.R(e)),new Za(i,e)}for(i=ia;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ui(n),o=s.R(e);_r(o)||0<o.X(t);)n-=r,s=ui(n),o=s.R(e);Di(s)&&(s=_m),i=i.add(s),t=fd(t,o)}return new Za(i,t)}Pe.gb=function(t){return hd(this,t).h};Pe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new wt(n,this.h&t.h)};Pe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new wt(n,this.h|t.h)};Pe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new wt(n,this.h^t.h)};function __(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new wt(n,t.h)}function Vo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new wt(i,t.h)}dd.prototype.createWebChannel=dd.prototype.g;gr.prototype.send=gr.prototype.u;gr.prototype.open=gr.prototype.m;gr.prototype.close=gr.prototype.close;mf.NO_ERROR=0;mf.TIMEOUT=8;mf.HTTP_ERROR=6;pT.COMPLETE="complete";mT.EventType=wu;wu.OPEN="a";wu.CLOSE="b";wu.ERROR="c";wu.MESSAGE="d";hn.prototype.listen=hn.prototype.O;$t.prototype.listenOnce=$t.prototype.P;$t.prototype.getLastError=$t.prototype.Sa;$t.prototype.getLastErrorCode=$t.prototype.Ia;$t.prototype.getStatus=$t.prototype.da;$t.prototype.getResponseJson=$t.prototype.Wa;$t.prototype.getResponseText=$t.prototype.ja;$t.prototype.send=$t.prototype.ha;$t.prototype.setWithCredentials=$t.prototype.Oa;Hr.prototype.digest=Hr.prototype.l;Hr.prototype.reset=Hr.prototype.reset;Hr.prototype.update=Hr.prototype.j;wt.prototype.add=wt.prototype.add;wt.prototype.multiply=wt.prototype.R;wt.prototype.modulo=wt.prototype.gb;wt.prototype.compare=wt.prototype.X;wt.prototype.toNumber=wt.prototype.ea;wt.prototype.toString=wt.prototype.toString;wt.prototype.getBits=wt.prototype.D;wt.fromNumber=ui;wt.fromString=XT;var gL=function(){return new dd},vL=function(){return pf()},up=mf,yL=pT,_L=Io,b_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bL=Au,hc=mT,wL=$t,EL=Hr,sa=wt;const w_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Qd("@firebase/firestore");function el(){return go.logLevel}function Me(t,...e){if(go.logLevel<=at.DEBUG){const n=e.map(nv);go.debug(`Firestore (${Ma}): ${t}`,...n)}}function ji(t,...e){if(go.logLevel<=at.ERROR){const n=e.map(nv);go.error(`Firestore (${Ma}): ${t}`,...n)}}function ha(t,...e){if(go.logLevel<=at.WARN){const n=e.map(nv);go.warn(`Firestore (${Ma}): ${t}`,...n)}}function nv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+t;throw ji(e),new Error(e)}function kt(t,e){t||Ye()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class AL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kL{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $i,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $i)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new JT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Cn(e)}}class xL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.R=n.token,new SL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new on(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new on(0,0))}static max(){return new Xe(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(),r===void 0?r=e.length-n:r>e.length-n&&Ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Rt extends nu{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const PL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends nu{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return PL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Be(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Be(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Be(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Be(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Rt.fromString(e))}static fromName(e){return new He(Rt.fromString(e).popFirst(5))}static empty(){return new He(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Rt(e.slice()))}}function CL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new xs(i,He.empty(),e)}function DL(t){return new xs(t.readTime,t.key,-1)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(Xe.min(),He.empty(),-1)}static max(){return new xs(Xe.max(),He.empty(),-1)}}function NL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t){if(t.code!==Ae.FAILED_PRECONDITION||t.message!==ML)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.reject(n)}static resolve(e){return new xe((n,r)=>{n(e)})}static reject(e){return new xe((n,r)=>{r(e)})}static waitFor(e){return new xe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new xe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new xe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $L(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rv.oe=-1;function Tf(t){return t==null}function pd(t){return t===0&&1/t==-1/0}function VL(t){return typeof t=="number"&&Number.isInteger(t)&&!pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yn.RED,this.left=i??yn.EMPTY,this.right=s??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new An(this.comparator);return n.data=e,n}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new dr([])}unionWith(e){let n=new An(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tA("Invalid base64 string: "+s):s}}(e);return new Fn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const FL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(kt(!!t),typeof t=="string"){let e=0;const n=FL.exec(t);if(kt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sv(t){const e=t.mapValue.fields.__previous_value__;return iv(e)?sv(e):e}function ru(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class iu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iv(t)?4:jL(t)?9007199254740991:10:Ye()}function bi(t,e){if(t===e)return!0;const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vo(i.bytesValue).isEqual(vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qt(i.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qt(i.integerValue)===Qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qt(i.doubleValue),a=Qt(s.doubleValue);return o===a?pd(o)===pd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(E_(o)!==E_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bi(o[l],a[l])))return!1;return!0}(t,e);default:return Ye()}}function su(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function ma(t,e){if(t===e)return 0;const n=yo(t),r=yo(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qt(s.integerValue||s.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return A_(t.timestampValue,e.timestampValue);case 4:return A_(ru(t),ru(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vo(s),l=vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ht(a[u],l[u]);if(c!==0)return c}return ht(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ht(Qt(s.latitude),Qt(o.latitude));return a!==0?a:ht(Qt(s.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ma(a[u],l[u]);if(c)return c}return ht(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===mc.mapValue&&o===mc.mapValue)return 0;if(s===mc.mapValue)return 1;if(o===mc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ht(l[d],c[d]);if(f!==0)return f;const h=ma(a[l[d]],u[c[d]]);if(h!==0)return h}return ht(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ye()}}function A_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=Is(t),r=Is(e),i=ht(n.seconds,r.seconds);return i!==0?i:ht(n.nanos,r.nanos)}function ga(t){return bm(t)}function bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return He.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=bm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${bm(n.fields[o])}`;return i+"}"}(t.mapValue):Ye()}function wm(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function k_(t){return!!t&&"nullValue"in t}function x_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){So(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new er(Sl(this.value))}}function nA(t){const e=[];return So(t.fields,(n,r)=>{const i=new wn([n]);if(Nc(r)){const s=nA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nn(e,0,Xe.min(),Xe.min(),Xe.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,Xe.min(),Xe.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Xe.min(),Xe.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.position=e,this.inclusive=n}}function I_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=He.comparator(He.fromName(o.referenceValue),n.key):r=ma(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n="asc"){this.field=e,this.dir=n}}function UL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{}class tn extends rA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HL(e,n,r):n==="array-contains"?new WL(e,r):n==="in"?new YL(e,r):n==="not-in"?new GL(e,r):n==="array-contains-any"?new QL(e,r):new tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zL(e,r):new KL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ma(n,this.value)):n!==null&&yo(this.value)===yo(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends rA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wi(e,n)}matches(e){return iA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iA(t){return t.op==="and"}function sA(t){return qL(t)&&iA(t)}function qL(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function Em(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(sA(t))return t.filters.map(e=>Em(e)).join(",");{const e=t.filters.map(n=>Em(n)).join(",");return`${t.op}(${e})`}}function oA(t,e){return t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.field.isEqual(i.field)&&bi(r.value,i.value)}(t,e):t instanceof wi?function(r,i){return i instanceof wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oA(o,i.filters[a]),!0):!1}(t,e):void Ye()}function aA(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${ga(n.value)}`}(t):t instanceof wi?function(n){return n.op.toString()+" {"+n.getFilters().map(aA).join(" ,")+"}"}(t):"Filter"}class HL extends tn{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class zL extends tn{constructor(e,n){super(e,"in",n),this.keys=lA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KL extends tn{constructor(e,n){super(e,"not-in",n),this.keys=lA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class WL extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ov(n)&&su(n.arrayValue,this.value)}}class YL extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class GL extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!su(this.value.arrayValue,n)}}class QL extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function R_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new XL(t,e,n,r,i,s,o)}function av(t){const e=et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ga(r)).join(",")),e.ue=n}return e.ue}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function Tm(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JL(t,e,n,r,i,s,o,a){return new Af(t,e,n,r,i,s,o,a)}function uv(t){return new Af(t)}function O_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZL(t){return t.collectionGroup!==null}function Rl(t){const e=et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new An(wn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new gd(s,r))}),n.has(wn.keyField().canonicalString())||e.ce.push(new gd(wn.keyField(),r))}return e.ce}function gi(t){const e=et(t);return e.le||(e.le=e4(e,Rl(t))),e.le}function e4(t,e){if(t.limitType==="F")return R_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new gd(i.field,s)});const n=t.endAt?new md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new md(t.startAt.position,t.startAt.inclusive):null;return R_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Am(t,e,n){return new Af(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return lv(gi(t),gi(e))&&t.limitType===e.limitType}function uA(t){return`${av(gi(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aA(i)).join(", ")}]`),Tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ga(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ga(i)).join(",")),`Target(${r})`}(gi(t))}; limitType=${t.limitType})`}function xf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):He.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Rl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=I_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Rl(r),i)||r.endAt&&!function(o,a,l){const u=I_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Rl(r),i))}(t,e)}function t4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cA(t){return(e,n)=>{let r=!1;for(const i of Rl(t)){const s=n4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function n4(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ma(l,u):Ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new Nt(He.comparator);function Ui(){return r4}const dA=new Nt(He.comparator);function fl(...t){let e=dA;for(const n of t)e=e.insert(n.key,n);return e}function fA(t){let e=dA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return Ol()}function hA(){return Ol()}function Ol(){return new La(t=>t.toString(),(t,e)=>t.isEqual(e))}const i4=new Nt(He.comparator),s4=new An(He.comparator);function ot(...t){let e=s4;for(const n of t)e=e.add(n);return e}const o4=new An(ht);function a4(){return o4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function mA(t){return{integerValue:""+t}}function l4(t,e){return VL(e)?mA(e):pA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function u4(t,e,n){return t instanceof vd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iv(s)&&(s=sv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof va?vA(t,e):t instanceof ou?yA(t,e):function(i,s){const o=gA(i,s),a=P_(o)+P_(i.Pe);return wm(o)&&wm(i.Pe)?mA(a):pA(i.serializer,a)}(t,e)}function c4(t,e,n){return t instanceof va?vA(t,e):t instanceof ou?yA(t,e):n}function gA(t,e){return t instanceof yd?function(r){return wm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class vd extends If{}class va extends If{constructor(e){super(),this.elements=e}}function vA(t,e){const n=_A(e);for(const r of t.elements)n.some(i=>bi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ou extends If{constructor(e){super(),this.elements=e}}function yA(t,e){let n=_A(e);for(const r of t.elements)n=n.filter(i=>!bi(i,r));return{arrayValue:{values:n}}}class yd extends If{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function P_(t){return Qt(t.integerValue||t.doubleValue)}function _A(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.field=e,this.transform=n}}function f4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof va&&i instanceof va||r instanceof ou&&i instanceof ou?pa(r.elements,i.elements,bi):r instanceof yd&&i instanceof yd?bi(r.Pe,i.Pe):r instanceof vd&&i instanceof vd}(t.transform,e.transform)}class h4{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sf{}function bA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cv(t.key,Lr.none()):new Ru(t.key,t.data,Lr.none());{const n=t.data,r=er.empty();let i=new An(wn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $s(t.key,r,new dr(i.toArray()),Lr.none())}}function p4(t,e,n){t instanceof Ru?function(i,s,o){const a=i.value.clone(),l=D_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(i,s,o){if(!Mc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=D_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Pl(t,e,n,r){return t instanceof Ru?function(s,o,a,l){if(!Mc(s.precondition,o))return a;const u=s.value.clone(),c=N_(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $s?function(s,o,a,l){if(!Mc(s.precondition,o))return a;const u=N_(s.fieldTransforms,l,o),c=o.data;return c.setAll(wA(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Mc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function m4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gA(r.transform,i||null);s!=null&&(n===null&&(n=er.empty()),n.set(r.field,s))}return n||null}function C_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pa(r,i,(s,o)=>f4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends Sf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Sf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D_(t,e,n){const r=new Map;kt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,c4(o,a,n[i]))}return r}function N_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,u4(s,o,e))}return r}class cv extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g4 extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&p4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,r)=>C_(n,r))&&pa(this.baseMutations,e.baseMutations,(n,r)=>C_(n,r))}}class dv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length);let i=function(){return i4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new dv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,lt;function b4(t){switch(t){default:return Ye();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function EA(t){if(t===void 0)return ji("GRPC error has no .code"),Ae.UNKNOWN;switch(t){case Gt.OK:return Ae.OK;case Gt.CANCELLED:return Ae.CANCELLED;case Gt.UNKNOWN:return Ae.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return Ae.INTERNAL;case Gt.UNAVAILABLE:return Ae.UNAVAILABLE;case Gt.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Gt.NOT_FOUND:return Ae.NOT_FOUND;case Gt.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Gt.ABORTED:return Ae.ABORTED;case Gt.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Gt.DATA_LOSS:return Ae.DATA_LOSS;default:return Ye()}}(lt=Gt||(Gt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new sa([4294967295,4294967295],0);function M_(t){const e=w4().encode(t),n=new EL;return n.update(e),new Uint8Array(n.digest())}function L_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new sa([n,r],0),new sa([i,s],0)]}class fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hl(`Invalid padding: ${n}`);if(r<0)throw new hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=sa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(sa.fromNumber(r)));return i.compare(E4)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=M_(e),[r,i]=L_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=M_(e),[r,i]=L_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rf(Xe.min(),i,new Nt(ht),Ui(),ot())}}class Ou{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ou(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class TA{constructor(e,n){this.targetId=e,this.me=n}}class AA{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $_{constructor(){this.fe=0,this.ge=F_(),this.pe=Fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ot(),n=ot(),r=ot();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new Ou(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=F_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class T4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ui(),this.qe=V_(),this.Qe=new Nt(ht)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Tm(s))if(r===0){const o=new He(s.path);this.Ue(n,o,Nn.newNoDocument(o,Xe.min()))}else kt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vo(r).toUint8Array()}catch(l){if(l instanceof tA)return ha("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fv(o,i,s)}catch(l){return ha(l instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Tm(a.target)){const l=new He(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Nn.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ot();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Rf(e,n,this.Qe,this.ke,r);return this.ke=Ui(),this.qe=V_(),this.Qe=new Nt(ht),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new An(ht),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function V_(){return new Nt(He.comparator)}function F_(){return new Nt(He.comparator)}const A4={asc:"ASCENDING",desc:"DESCENDING"},k4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x4={and:"AND",or:"OR"};class I4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function _d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S4(t,e){return _d(t,e.toTimestamp())}function vi(t){return kt(!!t),Xe.fromTimestamp(function(n){const r=Is(n);return new on(r.seconds,r.nanos)}(t))}function hv(t,e){return xm(t,e).canonicalString()}function xm(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xA(t){const e=Rt.fromString(t);return kt(PA(e)),e}function Im(t,e){return hv(t.databaseId,e.path)}function cp(t,e){const n=xA(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(SA(n))}function IA(t,e){return hv(t.databaseId,e)}function R4(t){const e=xA(t);return e.length===4?Rt.emptyPath():SA(e)}function Sm(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SA(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B_(t,e,n){return{name:Im(t,e),fields:n.value.mapValue.fields}}function O4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(kt(c===void 0||typeof c=="string"),Fn.fromBase64String(c||"")):(kt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Fn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ae.UNKNOWN:EA(u.code);return new Be(c,u.message||"")}(o);n=new AA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cp(t,r.document.name),s=vi(r.document.updateTime),o=r.document.createTime?vi(r.document.createTime):Xe.min(),a=new er({mapValue:{fields:r.document.fields}}),l=Nn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Lc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cp(t,r.document),s=r.readTime?vi(r.readTime):Xe.min(),o=Nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cp(t,r.document),s=r.removedTargetIds||[];n=new Lc([],s,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _4(i,s),a=r.targetId;n=new TA(a,o)}}return n}function P4(t,e){let n;if(e instanceof Ru)n={update:B_(t,e.key,e.value)};else if(e instanceof cv)n={delete:Im(t,e.key)};else if(e instanceof $s)n={update:B_(t,e.key,e.data),updateMask:B4(e.fieldMask)};else{if(!(e instanceof g4))return Ye();n={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof vd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof va)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:S4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ye()}(t,e.precondition)),n}function C4(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vi(i.updateTime):vi(s);return o.isEqual(Xe.min())&&(o=vi(s)),new h4(o,i.transformResults||[])}(n,e))):[]}function D4(t,e){return{documents:[IA(t,e.path)]}}function N4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IA(t,i);const s=function(u){if(u.length!==0)return OA(wi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:qo(f.field),direction:$4(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=km(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function M4(t){let e=R4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=RA(d);return f instanceof wi&&sA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(p){return new gd(Ho(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Tf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new md(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new md(h,f)}(n.endAt)),JL(e,i,o,s,a,"F",l,u)}function L4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ho(n.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ho(n.unaryFilter.field);return tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ho(n.unaryFilter.field);return tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ho(n.unaryFilter.field);return tn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(t):t.fieldFilter!==void 0?function(n){return tn.create(Ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wi.create(n.compositeFilter.filters.map(r=>RA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(n.compositeFilter.op))}(t):Ye()}function $4(t){return A4[t]}function V4(t){return k4[t]}function F4(t){return x4[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Ho(t){return wn.fromServerFormat(t.fieldPath)}function OA(t){return t instanceof tn?function(n){if(n.op==="=="){if(x_(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(k_(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x_(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(k_(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:V4(n.op),value:n.value}}}(t):t instanceof wi?function(n){const r=n.getFilters().map(i=>OA(i));return r.length===1?r[0]:{compositeFilter:{op:F4(n.op),filters:r}}}(t):Ye()}function B4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,i,s=Xe.min(),o=Xe.min(),a=Fn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.ut=e}}function U4(t){const e=M4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.on=new H4}addToCollectionParentIndex(e,n){return this.on.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(xs.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class H4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new An(Rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new An(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ya(0)}static Nn(){return new ya(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pl(r.mutation,i,dr.empty(),on.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=no();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ui();const o=Ol(),a=function(){return Ol()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof $s)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Pl(c.mutation,u,c.mutation.getFieldMask(),on.now())):o.set(u.key,dr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new K4(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ol();let i=new Nt((o,a)=>o-a),s=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||dr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ot()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=hA();c.forEach(f=>{if(!s.has(f)){const h=bA(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return xe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return He.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):xe.resolve(no());let a=-1,l=s;return o.next(u=>xe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?xe.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ot())).next(c=>({batchId:a,changes:fA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next(r=>{let i=fl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=fl();return this.indexManager.getCollectionParents(e,s).next(a=>xe.forEach(a,l=>{const u=function(d,f){return new Af(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Nn.newInvalidDocument(c)))});let a=fl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Pl(c.mutation,u,dr.empty(),on.now()),xf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return xe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vi(i.createTime)}}(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:U4(i.bundledQuery),readTime:vi(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.overlays=new Nt(He.comparator),this.lr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=no();return xe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const i=no(),s=n.length+1,o=new He(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=no(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=no(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return xe.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y4(n,r));let s=this.lr.get(n);s===void 0&&(s=ot(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.hr=new An(un.Pr),this.Ir=new An(un.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new un(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new un(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new He(new Rt([])),r=new un(n,e),i=new un(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new He(new Rt([])),r=new un(n,e),i=new un(n,e+1);let s=ot();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new un(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return He.comparator(e.key,n.key)||ht(e.gr,n.gr)}static Tr(e,n){return ht(e.gr,n.gr)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new An(un.Pr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new v4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xe.resolve(o)}lookupMutationBatch(e,n){return xe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new An(ht);return n.forEach(i=>{const s=new un(i,0),o=new un(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),xe.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;He.isDocumentKey(s)||(s=s.child(""));const o=new un(new He(s),0);let a=new An(ht);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),xe.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return xe.forEach(n.mutations,i=>{const s=new un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new un(n,0),i=this.yr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.Cr=e,this.docs=function(){return new Nt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=Ui();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nn.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ui();const o=n.path,a=new He(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||NL(DL(c),r)<=0||(i.has(c.key)||xf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return xe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ye()}vr(e,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new J4(this)}getSize(e){return xe.resolve(this.size)}}class J4 extends z4{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),xe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.persistence=e,this.Fr=new La(n=>av(n),lv),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new pv,this.targetCount=0,this.Nr=ya.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),xe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.kn(n),xe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),xe.waitFor(s).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),xe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this.Lr={},this.overlays={},this.Br=new rv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Z4(this),this.indexManager=new q4,this.remoteDocumentCache=function(i){return new X4(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new j4(n),this.Kr=new Y4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Q4(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const i=new t3(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class t3 extends LL{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.Gr=new pv,this.zr=null}static jr(e){return new mv(e)}get Hr(){if(this.zr)return this.zr;throw Ye()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Hr,r=>{const i=He.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Xe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return xe.or([()=>xe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ot(),i=ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return _2()?8:$L(xn())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new n3;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(el()<=at.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),xe.resolve()):(el()<=at.DEBUG&&Me("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(el()<=at.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):xe.resolve())}zi(e,n){if(O_(n))return xe.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Am(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ot(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Am(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return O_(n)||i.isEqual(Xe.min())?xe.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?xe.resolve(null):(el()<=at.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.Xi(e,o,n,CL(i,-1)).next(a=>a))})}Yi(e,n){let r=new An(cA(e));return n.forEach((i,s)=>{xf(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return el()<=at.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.Gi.getDocumentsMatchingQuery(e,n,xs.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Nt(ht),this.ns=new La(s=>av(s),lv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function s3(t,e,n,r){return new i3(t,e,n,r)}async function CA(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ot();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function o3(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=xe.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(m=>{const _=u.docVersions.get(p);kt(_!==null),m.version.compareTo(_)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ot();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DA(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function a3(t,e){const n=et(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Fn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(m,_,v){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,h,c)&&a.push(n.qr.updateTargetData(s,h))});let l=Ui(),u=ot();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(l3(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Xe.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function l3(t,e,n){let r=ot(),i=ot();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ui();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Xe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function u3(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c3(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,xe.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new hs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Rm(t,e,n){const r=et(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Su(o))throw o;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function j_(t,e,n){const r=et(t);let i=Xe.min(),s=ot();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=et(l),f=d.ns.get(c);return f!==void 0?xe.resolve(d.ts.get(f)):d.qr.getTargetData(u,c)}(r,o,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Xe.min(),n?s:ot())).next(a=>(d3(r,t4(e),a),{documents:a,ls:s})))}function d3(t,e,n){let r=t.rs.get(e)||Xe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class U_{constructor(){this.activeTargetIds=a4()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f3{constructor(){this.eo=new U_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function dp(){return gc===null?gc=function(){return 268435456+Math.round(2147483648*Math.random())}():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class g3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){const a=dp(),l=this.Co(n,r.toUriEncodedString());Me("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,l,u,i).then(c=>(Me("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ha("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){const i=p3[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const s=dp();return new Promise((o,a)=>{const l=new wL;l.setWithCredentials(!0),l.listenOnce(yL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case up.NO_ERROR:const c=l.getResponseJson();Me(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case up.TIMEOUT:Me(On,`RPC '${e}' ${s} timed out`),a(new Be(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const d=l.getStatus();if(Me(On,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(v)>=0?v:Ae.UNKNOWN}(h.status);a(new Be(p,h.message))}else a(new Be(Ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Be(Ae.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Me(On,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Me(On,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}xo(e,n,r){const i=dp(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gL(),a=vL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new bL({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Me(On,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new m3({co:_=>{h?Me(On,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(Me(On,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Me(On,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),m=(_,v,y)=>{_.listen(v,b=>{try{y(b)}catch(g){setTimeout(()=>{throw g},0)}})};return m(d,hc.EventType.OPEN,()=>{h||(Me(On,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),m(d,hc.EventType.CLOSE,()=>{h||(h=!0,Me(On,`RPC '${e}' stream ${i} transport closed`),p.fo())}),m(d,hc.EventType.ERROR,_=>{h||(h=!0,ha(On,`RPC '${e}' stream ${i} transport errored:`,_),p.fo(new Be(Ae.UNAVAILABLE,"The operation could not be completed")))}),m(d,hc.EventType.MESSAGE,_=>{var v;if(!h){const y=_.data[0];kt(!!y);const b=y,g=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(g){Me(On,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let I=function(D){const S=Gt[D];if(S!==void 0)return EA(S)}(w),k=g.message;I===void 0&&(I=Ae.INTERNAL,k="Unknown error status: "+w+" with message "+g.message),h=!0,p.fo(new Be(I,k)),d.close()}else Me(On,`RPC '${e}' stream ${i} received:`,y),p.po(y)}}),m(a,_L.STAT_EVENT,_=>{_.stat===b_.PROXY?Me(On,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===b_.NOPROXY&&Me(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return new I4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new NA(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new Be(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v3 extends MA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=O4(this.serializer,e),r=function(s){if(!("targetChange"in s))return Xe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?vi(o.readTime):Xe.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Sm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Tm(l)?{documents:D4(s,l)}:{query:N4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kA(s,o.resumeToken);const u=km(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Xe.min())>0){a.readTime=_d(s,o.snapshotVersion.toTimestamp());const u=km(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=L4(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.r_(n)}}class y3 extends MA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=C4(e.writeResults,e.commitTime),r=vi(e.commitTime);return this.listener.d_(r,n)}return kt(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Sm(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>P4(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new Be(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,xm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(Ae.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,xm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(Ae.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class b3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ji(n),this.y_=!1):Me("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(async()=>{Ro(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=et(l);u.M_.add(4),await Pu(u),u.N_.set("Unknown"),u.M_.delete(4),await Pf(u)}(this))})}),this.N_=new b3(r,i)}}async function Pf(t){if(Ro(t))for(const e of t.x_)await e(!0)}async function Pu(t){for(const e of t.x_)await e(!1)}function LA(t,e){const n=et(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),bv(n)?_v(n):$a(n).Zo()&&yv(n,e))}function vv(t,e){const n=et(t),r=$a(n);n.F_.delete(e),r.Zo()&&$A(n,e),n.F_.size===0&&(r.Zo()?r.t_():Ro(n)&&n.N_.set("Unknown"))}function yv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$a(t).h_(e)}function $A(t,e){t.L_.xe(e),$a(t).P_(e)}function _v(t){t.L_=new T4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$a(t).start(),t.N_.w_()}function bv(t){return Ro(t)&&!$a(t).Yo()&&t.F_.size>0}function Ro(t){return et(t).M_.size===0}function VA(t){t.L_=void 0}async function E3(t){t.N_.set("Online")}async function T3(t){t.F_.forEach((e,n)=>{yv(t,e)})}async function A3(t,e){VA(t),bv(t)?(t.N_.D_(e),_v(t)):t.N_.set("Unknown")}async function k3(t,e,n){if(t.N_.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bd(t,r)}else if(e instanceof Lc?t.L_.Ke(e):e instanceof TA?t.L_.He(e):t.L_.We(e),!n.isEqual(Xe.min()))try{const r=await DA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.F_.get(u);c&&s.F_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.F_.get(l);if(!c)return;s.F_.set(l,c.withResumeToken(Fn.EMPTY_BYTE_STRING,c.snapshotVersion)),$A(s,l);const d=new hs(c.target,l,u,c.sequenceNumber);yv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),await bd(t,r)}}async function bd(t,e,n){if(!Su(e))throw e;t.M_.add(1),await Pu(t),t.N_.set("Offline"),n||(n=()=>DA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Pf(t)})}function FA(t,e){return e().catch(n=>bd(t,n,e))}async function Cf(t){const e=et(t),n=Ss(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;x3(e);)try{const i=await u3(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,I3(e,i)}catch(i){await bd(e,i)}BA(e)&&jA(e)}function x3(t){return Ro(t)&&t.v_.length<10}function I3(t,e){t.v_.push(e);const n=Ss(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function BA(t){return Ro(t)&&!Ss(t).Yo()&&t.v_.length>0}function jA(t){Ss(t).start()}async function S3(t){Ss(t).R_()}async function R3(t){const e=Ss(t);for(const n of t.v_)e.E_(n.mutations)}async function O3(t,e,n){const r=t.v_.shift(),i=dv.from(r,e,n);await FA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cf(t)}async function P3(t,e){e&&Ss(t).T_&&await async function(r,i){if(function(o){return b4(o)&&o!==Ae.ABORTED}(i.code)){const s=r.v_.shift();Ss(r).e_(),await FA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Cf(r)}}(t,e),BA(t)&&jA(t)}async function H_(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=Ro(n);n.M_.add(3),await Pu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Pf(n)}async function C3(t,e){const n=et(t);e?(n.M_.delete(2),await Pf(n)):e||(n.M_.add(2),await Pu(n),n.N_.set("Unknown"))}function $a(t){return t.B_||(t.B_=function(n,r,i){const s=et(n);return s.m_(),new v3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:E3.bind(null,t),Io:T3.bind(null,t),Eo:A3.bind(null,t),l_:k3.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),bv(t)?_v(t):t.N_.set("Unknown")):(await t.B_.stop(),VA(t))})),t.B_}function Ss(t){return t.k_||(t.k_=function(n,r,i){const s=et(n);return s.m_(),new y3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:S3.bind(null,t),Eo:P3.bind(null,t),A_:R3.bind(null,t),d_:O3.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await Cf(t)):(await t.k_.stop(),t.v_.length>0&&(Me("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new wv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(t,e){if(ji("AsyncQueue",`${e}: ${t}`),Su(t))return new Be(Ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=fl(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.q_=new Nt(He.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ye():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _a{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _a(e,n,oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class N3{constructor(){this.queries=new La(e=>uA(e),kf),this.onlineState="Unknown",this.z_=new Set}}async function UA(t,e){const n=et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new D3,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ev(o,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Tv(n)}async function qA(t,e){const n=et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M3(t,e){const n=et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Tv(n)}function L3(t,e,n){const r=et(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Tv(t){t.z_.forEach(e=>{e.next()})}var Om,K_;(K_=Om||(Om={})).J_="default",K_.Cache="cache";class HA{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class $3{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ot(),this.mutatedKeys=ot(),this.Ia=cA(e),this.Ta=new oa(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new z_,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=xf(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),_=!0):this.Ra(f,h)||(r.track({type:2,doc:h}),_=!0,(l&&this.Ia(h,l)>0||u&&this.Ia(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),_=!0):f&&!h&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((c,d)=>function(h,p){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return m(h)-m(p)}(c.type,d.type)||this.Ia(c.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new _a(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new z_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ot(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new KA(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new zA(r))}),n}pa(e){this.la=e.ls,this.Pa=ot();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return _a.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class V3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F3{constructor(e){this.key=e,this.wa=!1}}class B3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new La(a=>uA(a),kf),this.Da=new Map,this.Ca=new Set,this.va=new Nt(He.comparator),this.Fa=new Map,this.Ma=new pv,this.xa={},this.Oa=new Map,this.Na=ya.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function j3(t,e,n=!0){const r=JA(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await WA(r,e,n,!0),i}async function U3(t,e){const n=JA(t);await WA(n,e,!0,!1)}async function WA(t,e,n,r){const i=await c3(t.localStore,gi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await q3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LA(t.remoteStore,i),a}async function q3(t,e,n,r,i){t.Ba=(d,f,h)=>async function(m,_,v,y){let b=_.view.da(v);b.Zi&&(b=await j_(m.localStore,_.query,!1).then(({documents:k})=>_.view.da(k,b)));const g=y&&y.targetChanges.get(_.targetId),w=y&&y.targetMismatches.get(_.targetId)!=null,I=_.view.applyChanges(b,m.isPrimaryClient,g,w);return Y_(m,_.targetId,I.fa),I.snapshot}(t,d,f,h);const s=await j_(t.localStore,e,!0),o=new $3(e,s.ls),a=o.da(s.documents),l=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Y_(t,n,u.fa);const c=new V3(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function H3(t,e,n){const r=et(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!kf(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vv(r.remoteStore,i.targetId),Pm(r,i.targetId)}).catch(Iu)):(Pm(r,i.targetId),await Rm(r.localStore,i.targetId,!0))}async function z3(t,e){const n=et(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vv(n.remoteStore,r.targetId))}async function K3(t,e,n){const r=Z3(t);try{const i=await function(o,a){const l=et(o),u=on.now(),c=a.reduce((h,p)=>h.add(p.key),ot());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ui(),m=ot();return l.ss.getEntries(h,c).next(_=>{p=_,p.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(_=>{d=_;const v=[];for(const y of a){const b=m4(y,d.get(y.key).overlayedDocument);b!=null&&v.push(new $s(y.key,b,nA(b.value.mapValue),Lr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,v,a)}).next(_=>{f=_;const v=_.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,_.batchId,v)})}).then(()=>({batchId:f.batchId,changes:fA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Nt(ht)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Cu(r,i.changes),await Cf(r.remoteStore)}catch(i){const s=Ev(i,"Failed to persist write");n.reject(s)}}async function YA(t,e){const n=et(t);try{const r=await a3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?kt(o.wa):i.removedDocuments.size>0&&(kt(o.wa),o.wa=!1))}),await Cu(n,r,e)}catch(r){await Iu(r)}}function W_(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=et(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.U_)f.j_(a)&&(u=!0)}),u&&Tv(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W3(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Nt(He.comparator);o=o.insert(s,Nn.newNoDocument(s,Xe.min()));const a=ot().add(s),l=new Rf(Xe.min(),new Map,new Nt(ht),o,a);await YA(r,l),r.va=r.va.remove(s),r.Fa.delete(e),Av(r)}else await Rm(r.localStore,e,!1).then(()=>Pm(r,e,n)).catch(Iu)}async function Y3(t,e){const n=et(t),r=e.batch.batchId;try{const i=await o3(n.localStore,e);QA(n,r,null),GA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(n,i)}catch(i){await Iu(i)}}async function G3(t,e,n){const r=et(t);try{const i=await function(o,a){const l=et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(kt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);QA(r,e,n),GA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cu(r,i)}catch(i){await Iu(i)}}function GA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function QA(t,e,n){const r=et(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||XA(t,r)})}function XA(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(vv(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Av(t))}function Y_(t,e,n){for(const r of n)r instanceof zA?(t.Ma.addReference(r.key,e),Q3(t,r)):r instanceof KA?(Me("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||XA(t,r.key)):Ye()}function Q3(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Me("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Av(t))}function Av(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new He(Rt.fromString(e)),r=t.Na.next();t.Fa.set(r,new F3(n)),t.va=t.va.insert(n,r),LA(t.remoteStore,new hs(gi(uv(n.path)),r,"TargetPurposeLimboResolution",rv.oe))}}async function Cu(t,e,n){const r=et(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=gv.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Sa.l_(i),await async function(l,u){const c=et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>xe.forEach(u,f=>xe.forEach(f.ki,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>xe.forEach(f.qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Su(d))throw d;Me("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ts.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(f,m)}}}(r.localStore,s))}async function X3(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const r=await CA(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Be(Ae.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(n,r._s)}}function J3(t,e){const n=et(t),r=n.Fa.get(e);if(r&&r.wa)return ot().add(r.key);{let i=ot();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function JA(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W3.bind(null,e),e.Sa.l_=M3.bind(null,e.eventManager),e.Sa.ka=L3.bind(null,e.eventManager),e}function Z3(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G3.bind(null,e),e}class G_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return s3(this.persistence,new r3,e.initialUser,this.serializer)}createPersistence(e){return new e3(mv.jr,this.serializer)}createSharedClientState(e){return new f3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class e${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X3.bind(null,this.syncEngine),await C3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N3}()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),r=function(s){return new g3(s)}(e.databaseInfo);return function(s,o,a,l){return new _3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new w3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return q_.D()?new q_:new h3}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new B3(i,s,o,a,l,u);return c&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=et(r);Me("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Pu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cn.UNAUTHENTICATED,this.clientId=ZT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Me("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Me("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ev(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hp(t,e){t.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r$(t);Me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>H_(e.remoteStore,i)),t._onlineComponents=e}function n$(t){return t.name==="FirebaseError"?t.code===Ae.FAILED_PRECONDITION||t.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function r$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!n$(n))throw n;ha("Error using user provided cache. Falling back to memory cache: "+n),await hp(t,new G_)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await hp(t,new G_);return t._offlineComponents}async function ek(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await Q_(t,t._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await Q_(t,new e$))),t._onlineComponents}function i$(t){return ek(t).then(e=>e.syncEngine)}async function tk(t){const e=await ek(t),n=e.eventManager;return n.onListen=j3.bind(null,e.syncEngine),n.onUnlisten=H3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=U3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z3.bind(null,e.syncEngine),n}function s$(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new ZA({next:f=>{o.enqueueAndForget(()=>qA(s,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new Be(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new Be(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new HA(uv(a.path),c,{includeMetadataChanges:!0,ra:!0});return UA(s,d)}(await tk(t),t.asyncQueue,e,n,r)),r.promise}function o$(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new ZA({next:f=>{o.enqueueAndForget(()=>qA(s,d)),f.fromCache&&l.source==="server"?u.reject(new Be(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new HA(a,c,{includeMetadataChanges:!0,ra:!0});return UA(s,d)}(await tk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e,n){if(!n)throw new Be(Ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a$(t,e,n,r){if(e===!0&&r===!0)throw new Be(Ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!He.isDocumentKey(t))throw new Be(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(He.isDocumentKey(t))throw new Be(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye()}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kv(t);throw new Be(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Be(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Be(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Be(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Be(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Be(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TL;switch(r.type){case"firstParty":return new IL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X_.get(n);r&&(Me("ComponentProvider","Removing Datastore"),X_.delete(n),r.terminate())}(this),Promise.resolve()}}function l$(t,e,n,r={}){var i;const s=(t=qi(t,Df))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Cn.MOCK_USER;else{a=Fw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Be(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Cn(u)}t._authCredentials=new AL(new JT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nf(this.firestore,e,this._query)}}class mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class bs extends Nf{constructor(e,n,r){super(e,n,uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new He(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function au(t,e,...n){if(t=Ot(t),rk("collection","path",e),t instanceof Df){const r=Rt.fromString(e,...n);return Z_(r),new bs(t,null,r)}{if(!(t instanceof mr||t instanceof bs))throw new Be(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return Z_(r),new bs(t.firestore,null,r)}}function br(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=ZT.newId()),rk("doc","path",e),t instanceof Df){const r=Rt.fromString(e,...n);return J_(r),new mr(t,null,new He(r))}{if(!(t instanceof mr||t instanceof bs))throw new Be(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return J_(r),new mr(t.firestore,t instanceof bs?t.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new NA(this,"async_queue_retry"),this.hu=()=>{const n=fp();n&&Me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=fp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new $i;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Su(e))throw e;Me("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=wv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Ye()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Va extends Df{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new u$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ik(this),this._firestoreClient.terminate()}}function c$(t,e){const n=typeof t=="object"?t:Xd(),r=typeof t=="string"?t:"(default)",i=Ds(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Lw("firestore");s&&l$(i,...s)}return i}function xv(t){return t._firestoreClient||ik(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ik(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new BL(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,nk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new t$(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Fn.fromBase64String(e))}catch(n){throw new Be(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=/^__.*__$/;class f${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class sk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ok(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class $f{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new $f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return wd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(ok(this.fu)&&d$.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class h${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}Fu(e,n,r,i=!1){return new $f({fu:e,methodName:n,vu:r,path:wn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ak(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new h$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p$(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Rv("Data must be an object, but it was:",o,r);const a=lk(r,o);let l,u;if(s.merge)l=new dr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Cm(e,d,n);if(!o.contains(f))throw new Be(Ae.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ck(c,f)||c.push(f)}l=new dr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new f$(new er(a),l,u)}class Vf extends Lf{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function m$(t,e,n){return new $f({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sv extends Lf{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=m$(this,e,!0),r=this.Mu.map(s=>Du(s,n)),i=new va(r);return new d4(e.path,i)}isEqual(e){return e instanceof Sv&&ca(this.Mu,e.Mu)}}function g$(t,e,n,r){const i=t.Fu(1,e,n);Rv("Data must be an object, but it was:",i,r);const s=[],o=er.empty();So(r,(l,u)=>{const c=Ov(e,l,n);u=Ot(u);const d=i.Su(c);if(u instanceof Vf)s.push(c);else{const f=Du(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new dr(s);return new sk(o,a,i.fieldTransforms)}function v$(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Cm(e,r,n)],l=[i];if(s.length%2!=0)throw new Be(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Cm(e,s[f])),l.push(s[f+1]);const u=[],c=er.empty();for(let f=a.length-1;f>=0;--f)if(!ck(u,a[f])){const h=a[f];let p=l[f];p=Ot(p);const m=o.Su(h);if(p instanceof Vf)u.push(h);else{const _=Du(p,m);_!=null&&(u.push(h),c.set(h,_))}}const d=new dr(u);return new sk(c,d,o.fieldTransforms)}function Du(t,e){if(uk(t=Ot(t)))return Rv("Unsupported field value:",e,t),lk(t,e);if(t instanceof Lf)return function(r,i){if(!ok(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Du(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=on.fromDate(r);return{timestampValue:_d(i.serializer,s)}}if(r instanceof on){const s=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(i.serializer,s)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:kA(i.serializer,r._byteString)};if(r instanceof mr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${kv(r)}`)}(t,e)}function lk(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,i)=>{const s=Du(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function uk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof Iv||t instanceof ba||t instanceof mr||t instanceof Lf)}function Rv(t,e,n){if(!uk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Cm(t,e,n){if((e=Ot(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return Ov(t,e);throw wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const y$=new RegExp("[~\\*/\\[\\]]");function Ov(t,e,n){if(e.search(y$)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mf(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Be(Ae.INVALID_ARGUMENT,a+t+l)}function ck(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _$ extends dk{data(){return super.data()}}function fk(t,e){return typeof e=="string"?Ov(t,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w${convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Iv(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=Is(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);kt(PA(r));const i=new iu(r.get(1),r.get(3)),s=new He(r.popFirst(5));return i.isEqual(n)||ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hk extends dk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $c extends hk{data(e={}){return super.data(e)}}class T${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $c(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new $c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new $c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:A$(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function A$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){t=qi(t,mr);const e=qi(t.firestore,Va);return s$(xv(e),t._key).then(n=>I$(e,t,n))}class pk extends w${constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,n)}}function Td(t){t=qi(t,Nf);const e=qi(t.firestore,Va),n=xv(e),r=new pk(e);return b$(t._query),o$(n,t._query).then(i=>new T$(e,r,t,i))}function Go(t,e,n,...r){t=qi(t,mr);const i=qi(t.firestore,Va),s=ak(i);let o;return o=typeof(e=Ot(e))=="string"||e instanceof Mf?v$(s,"updateDoc",t._key,e,n,r):g$(s,"updateDoc",t._key,e),Pv(i,[o.toMutation(t._key,Lr.exists(!0))])}function k$(t){return Pv(qi(t.firestore,Va),[new cv(t._key,Lr.none())])}function x$(t,e){const n=qi(t.firestore,Va),r=br(t),i=E$(t.converter,e);return Pv(n,[p$(ak(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}function Pv(t,e){return function(r,i){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>K3(await i$(r),i,s)),s.promise}(xv(t),e)}function I$(t,e,n){const r=n.docs.get(e._key),i=new pk(t);return new hk(t,i,e._key,r,new pl(n.hasPendingWrites,n.fromCache),e.converter)}function S$(...t){return new Sv("arrayUnion",t)}(function(e,n=!0){(function(i){Ma=i})(ko),Ur(new kr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Va(new kL(r.getProvider("auth-internal")),new RL(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Be(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nr(w_,"4.6.1",e),nr(w_,"4.6.1","esm2017")})();const R$={apiKey:"AIzaSyDvdTUs36DFXUIZ3S7EGZJlSeeDxXg1mGY",authDomain:"tiryaki-hukuk-admin-pane-9a3f2.firebaseapp.com",projectId:"tiryaki-hukuk-admin-pane-9a3f2",storageBucket:"tiryaki-hukuk-admin-pane-9a3f2.appspot.com",messagingSenderId:"432646173233",appId:"1:432646173233:web:1c8a7ad94bacb703781b10",measurementId:"G-0LMBJQ2524"},Cv=Kw(R$);ZC(Cv);const zo=hM(Cv),Dr=c$(Cv);FE(zo,Cg).then(()=>{console.log("Firebase Auth persistence set to local.")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const Vc=o2({state:{isAuthenticated:!1,user:null,role:null,errorMessage:null},mutations:{login(t,{user:e,role:n}){t.isAuthenticated=!0,t.user=e,t.role=n},logout(t){t.isAuthenticated=!1,t.user=null,t.role=null,t.errorMessage=null},setError(t,e){t.errorMessage=e},setUser(t,e){t.user=e,t.isAuthenticated=!!e},setRole(t,e){t.role=e}},actions:{async login({commit:t},{username:e,password:n}){try{await FE(zo,Cg);const i=(await ZD(zo,e,n)).user,s=await Ed(br(Dr,"attorneys",i.uid));let o=null;if(s.exists()?o=s.data().role:o="admin",o)t("login",{user:{email:i.email,uid:i.uid},role:o}),console.log("Login successful"),console.log("User role:",o);else throw await X0(zo),console.error("User not authorized"),new Error("User not authorized")}catch(r){throw console.error("Login failed",r),t("setError",r.message),new Error("Invalid credentials or unauthorized access")}},async logout({commit:t}){try{await X0(zo),t("logout"),console.log("Logout successful")}catch(e){throw console.error("Logout failed",e),new Error("Logout failed")}},async initializeAuth({commit:t}){return new Promise(e=>{nN(zo,async n=>{if(n){t("setUser",{email:n.email,uid:n.uid});const r=await Ed(br(Dr,"attorneys",n.uid));let i=null;r.exists()?i=r.data().role:i="admin",t("setRole",i)}else t("setUser",null),t("setRole",null);e(n)})})}},getters:{isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,userRole:t=>t.role,errorMessage:t=>t.errorMessage}}),O$={class:"flex items-center justify-center"},P$=A("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[A("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),A("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),lu={__name:"Loading",props:{text:String},setup(t){const e=t;return(n,r)=>(ee(),le("div",O$,[P$,an(" "+Ie(e.text),1)]))}},C$={class:"bg-gray-800"},D$={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},N$=A("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[A("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),an(" Tiryaki Hukuk Admin Panel ")],-1),M$={class:"w-full bg-gray-700 rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},L$={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},$$=A("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Email",-1),V$=A("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"ifre",-1),F$=hg('<div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" aria-describedby="remember" type="checkbox" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for="remember" class="text-white dark:text-gray-300">Beni hatrla</label></div></div></div>',1),B$=["disabled"],j$={key:1},U$={key:0,class:"text-red-500 text-sm mt-2"},q$={__name:"LoginPage",setup(t){const e=Cs(),n=ww(),r=he(""),i=he(""),s=he(!1),o=he(""),a=async()=>{s.value=!0,o.value="";try{const l={username:r.value,password:i.value};await e.dispatch("login",l);const u=e.getters.userRole,c=e.getters.user?e.getters.user.uid:null;u==="attorney"&&c?n.push(`/online-meetings/${c}`):n.push("/online-meetings")}catch{o.value="Hesap isim veya ifre yanl. Ltfen tekrar deneyin."}finally{s.value=!1}};return(l,u)=>(ee(),le("section",C$,[A("div",D$,[N$,A("div",M$,[A("div",L$,[A("form",{onSubmit:Ar(a,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[A("div",null,[$$,bt(A("input",{"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[hi,r.value]])]),A("div",null,[V$,bt(A("input",{"onUpdate:modelValue":u[1]||(u[1]=c=>i.value=c),type:"password",name:"password",id:"password",placeholder:"",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[hi,i.value]])]),F$,A("button",{id:"signin",disabled:s.value,class:"w-full inline-block text-white bg-gray-600 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},[s.value?(ee(),Ue(lu,{key:0,text:"Giri Yaplyor..."})):(ee(),le("span",j$,"Giri Yap"))],8,B$),o.value?(ee(),le("div",U$,Ie(o.value),1)):ge("",!0)],32)])])])]))}},H$={class:"h-screen min-w-[16rem] bg-gray-800 p-4 z-50 sidebar-menu ease-in-out delay-150 duration-300 transition-transform"},z$=A("a",{href:"#",class:"flex items-center pb-4 border-b border-b-gray-800"},[A("img",{src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"",class:"w-8 h-8 rounded object-cover"}),A("span",{class:"text-lg font-bold text-white ml-3"},"Admin Panel")],-1),K$={class:"mt-4"},W$={class:"text-lg"},Y$=A("i",{class:"mr-3 text-lg ri-logout-box-line"},null,-1),G$=A("span",{class:"text-lg"},"k",-1),Q$=[Y$,G$],X$={__name:"Sidebar",emits:["titleChange"],setup(t,{emit:e}){const n=Cs(),r=ww(),i=pe(()=>n.getters.userRole),s=pe(()=>n.getters.user?n.getters.user.uid:null),o=()=>{n.dispatch("logout"),r.push("/")},a=e;function l(f){a("titleChange",f)}const u=[{title:"Online Grmeler",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Blog Ynetimi",icon:"ri-article-line",link:"/blogs"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],c=[{title:"Online Grmelerim",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Randevu Saatlerim",icon:"ri-settings-2-line",link:"/appointment-settings"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],d=pe(()=>i.value==="admin"?u:i.value==="attorney"?c.map(f=>({...f,link:`${f.link}/${s.value}`})):[]);return(f,h)=>{const p=lg("router-link");return ee(),le("div",H$,[z$,A("ul",K$,[(ee(!0),le(Se,null,Qe(d.value,m=>(ee(),le("li",{key:m.title,class:"mb-1 group"},[qe(p,{to:m.link,onClick:_=>l(m.title),class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},{default:ze(()=>[A("i",{class:We([m.icon,"mr-3 text-lg"])},null,2),A("span",W$,Ie(m.title),1)]),_:2},1032,["to","onClick"])]))),128)),A("li",null,[A("div",{onClick:o,class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},Q$)])])])}}},Yr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},J$=t=>(Vd("data-v-2ea82558"),t=t(),Fd(),t),Z$={class:"relative"},e5=J$(()=>A("i",{class:"ri-notification-4-fill ri-2x"},null,-1)),t5=[e5],n5={class:"absolute right-0 mt-2 w-64 border border-gray-300 shadow-xl bg-white rounded-md z-50"},r5={class:"max-h-64 overflow-auto"},i5=["href"],s5={class:"text-sm font-medium text-gray-800"},o5={class:"text-xs text-gray-600"},a5={__name:"NotificationDropdown",setup(t){const e=he(!1),n=he([{id:1,title:"New order",message:"You have received a new order.",url:"#"},{id:2,title:"Payment received",message:"Your latest billing statement is ready.",url:"#"},{id:3,title:"System Update",message:"System updates will be performed tonight.",url:"#"},{id:4,title:"New Feature",message:"A new feature has been added to your dashboard.",url:"#"},{id:5,title:"Maintenance Scheduled",message:"Scheduled maintenance will occur this weekend.",url:"#"}]);function r(){e.value=!e.value}return(i,s)=>(ee(),le("div",Z$,[A("button",{onClick:r,class:"flex items-center justify-center w-8 h-8 rounded hover:bg-gray-50"},t5),bt(A("div",n5,[A("ul",r5,[(ee(!0),le(Se,null,Qe(n.value,o=>(ee(),le("li",{key:o.id,class:"border-b last:border-b-0"},[A("a",{href:o.url,class:"block hover:bg-gray-300 p-4"},[A("p",s5,Ie(o.title),1),A("p",o5,Ie(o.message),1)],8,i5)]))),128))])],512),[[El,e.value]])]))}},l5=Yr(a5,[["__scopeId","data-v-2ea82558"]]),u5=t=>(Vd("data-v-4aaf64ee"),t=t(),Fd(),t),c5={class:"py-2 px-6 bg-white flex items-center shadow-md sticky top-0 left-0 z-30 justify-between"},d5={class:"flex items-center"},f5=u5(()=>A("i",{class:"ri-menu-line"},null,-1)),h5=[f5],p5={class:"flex items-center text-sm ml-4"},m5={class:"mr-2"},g5={href:"#",class:"text-gray-500 hover:text-gray-800 font-medium"},v5={class:"flex items-center"},y5={__name:"Navbar",props:{currentTab:String},setup(t){return(e,n)=>(ee(),le("div",c5,[A("div",d5,[A("button",{onClick:n[0]||(n[0]=r=>e.$emit("toggleSidebar")),class:"text-lg text-gray-600 sidebar-toggle"},h5),A("ul",p5,[A("li",m5,[A("a",g5,Ie(t.currentTab),1)])])]),A("div",v5,[qe(l5)])]))}},_5=Yr(y5,[["__scopeId","data-v-4aaf64ee"]]),b5={},w5={class:"p-6"};function E5(t,e){return ee(),le("section",w5,[De(t.$slots,"default")])}const T5=Yr(b5,[["render",E5]]),A5={class:"flex flex-grow"},k5={class:"w-full h-screen overflow-y-scroll"},x5={__name:"MainPage",setup(t){const e=he(!0);he(!1);const n=he(localStorage.getItem("currentTab")||"");function r(s){n.value=s,localStorage.setItem("currentTab",s)}function i(){e.value=!e.value}return Et(()=>{n.value=localStorage.getItem("currentTab")||""}),(s,o)=>{const a=lg("RouterView");return ee(),le("div",A5,[e.value?(ee(),Ue(X$,{key:0,onToggleSidebar:i,onTitleChange:r,class:"hidden lg:block"})):ge("",!0),A("main",k5,[qe(_5,{onToggleSidebar:i,"current-tab":n.value},null,8,["current-tab"]),qe(T5,null,{default:ze(()=>[qe(Br,{name:"fade"},{default:ze(()=>[qe(a)]),_:1})]),_:1})])])}}},I5=Yr(x5,[["__scopeId","data-v-6c5a0da2"]]),S5={class:"bg-white rounded-lg border border-gray-200 p-6 mb-4 shadow-lg"},R5=A("div",{class:"pb-4 border-b mb-4 border-gray-300 rounded-t flex justify-between"},[A("h3",{class:"text-lg font-semibold text-gray-900"},[A("span",{class:"mb-2"},"Randevu Ayarlarn Yap")]),A("button",{type:"submit",class:"text-white w-40 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),O5=["for"],P5=A("p",{class:"pl-2 text-gray-500"},"(dk)",-1),C5=["onUpdate:modelValue","id"],D5=["value"],N5=["for"],M5=["onUpdate:modelValue","id"],L5=["value"],$5=["for"],V5=A("p",{class:"pl-2 text-gray-500"},"(TL)",-1),F5=["onUpdate:modelValue","id"],B5={key:0,class:"flex items-center justify-center md:justify-start"},j5=A("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),U5=[j5],q5=["disabled","onClick"],H5=A("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[A("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),z5=[H5],K5=["onClick"],W5=A("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[A("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),Y5=[W5],mk={__name:"WorkingHoursMeetingSetup",props:{appointmentSettings:Array},emits:["save-appointment-settings"],setup(t,{emit:e}){const n=t,r=e,i=[30,45,60],s=["Online Video Grme","Telefonla Grme","Yz Yze Grme"],o=()=>{n.appointmentSettings.push({duration:"",price:"",type:""})},a=u=>{n.appointmentSettings.length>1&&n.appointmentSettings.splice(u,1)},l=()=>{r("save-appointment-settings",n.appointmentSettings)};return(u,c)=>(ee(),le("div",S5,[A("form",{onSubmit:Ar(l,["prevent"])},[R5,A("div",null,[(ee(!0),le(Se,null,Qe(t.appointmentSettings,(d,f)=>(ee(),le("div",{key:f,class:"flex flex-col space-y-2 md:space-y-0 mx-auto md:flex-row mb-4 w-full md:w-full items-center md:space-x-3"},[A("div",null,[A("label",{for:"meeting-duration-"+f,class:"flex text-sm text-nowrap font-medium text-gray-900"},[an("Randevu Sresi "),P5],8,O5),bt(A("select",{"onUpdate:modelValue":h=>d.duration=h,id:"meeting-duration-"+f,name:"meeting-duration",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ee(),le(Se,null,Qe(i,h=>A("option",{key:h,value:h},Ie(h),9,D5)),64))],8,C5),[[ks,d.duration]])]),A("div",null,[A("label",{for:"meeting-type-"+f,class:"flex text-sm text-nowrap font-medium text-gray-900"},"Randevu Tipi",8,N5),bt(A("select",{"onUpdate:modelValue":h=>d.type=h,id:"meeting-type-"+f,name:"meeting-type",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ee(),le(Se,null,Qe(s,h=>A("option",{key:h,value:h},Ie(h),9,L5)),64))],8,M5),[[ks,d.type]])]),A("div",null,[A("label",{for:"meeting-price-"+f,class:"flex text-sm text-nowrap font-medium text-gray-900"},[an("Randevu creti "),V5],8,$5),bt(A("input",{type:"number","onUpdate:modelValue":h=>d.price=h,id:"meeting-price-"+f,name:"meeting-price",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,F5),[[hi,d.price]])]),f===t.appointmentSettings.length-1?(ee(),le("div",B5,[A("button",{onClick:o,type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},U5),A("button",{disabled:t.appointmentSettings.length===1,onClick:h=>a(f),type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},z5,8,q5)])):(ee(),le("button",{key:1,onClick:h=>a(f),type:"button",class:"inline-flex items-center p-1.5 mt-4 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},Y5,8,K5))]))),128))])],32)]))}},G5=A("h1",{class:"font-bold text-4xl"},"Home",-1),Q5={key:0},X5=A("p",null,"Welcome, Admin!",-1),J5={key:1},Z5=A("p",null,null,-1),tb={__name:"Home",setup(t){const e=he([{duration:"",price:"",type:"",enabled:!0}]),n=Cs(),r=pe(()=>n.getters.userRole),i=pe(()=>n.getters.user?n.getters.user.uid:null),s=he(null),o=async a=>{const l=await Ed(br(Dr,"attorneys",a));s.value=l.data()};return Et(()=>{o(i.value)}),(a,l)=>(ee(),le("div",null,[G5,r.value==="admin"?(ee(),le("div",Q5,[X5,A("p",null,"Your data "+Ie(s.value),1)])):r.value==="attorney"?(ee(),le("div",J5,[A("p",null,[an("Welcome, "),A("span",null,Ie(r.value),1),an("!")]),Z5])):ge("",!0),qe(mk,{appointmentSettings:e.value},null,8,["appointmentSettings"])]))}},eV={class:"min-h-[88vh] flex items-center justify-center"},tV={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},nV=A("div",{class:"flex flex-col items-center"},[A("div",{class:"text-[1.6rem] font-medium p-2 text-gray-500"}," Tm Grmeleri "),A("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Gr")],-1),rV=[nV],iV=["onClick"],sV=["src"],oV={__name:"OnlineMeetingsMenu",emits:["optionSelected"],setup(t,{emit:e}){const n=e,r=he([]),i=au(Dr,"attorneys"),s=()=>n("optionSelected","showAll"),o=u=>n("optionSelected",u);async function a(){let u=[];return(await Td(i)).forEach(d=>{u.push({id:d.id,...d.data()})}),u}async function l(){try{const u=localStorage.getItem("cachedAttorneys"),c=localStorage.getItem("cachedTimeAttorneys"),d=30*60*1e3;if(u&&c&&new Date-new Date(parseInt(c))<d)return JSON.parse(u);{const f=await a();return localStorage.setItem("cachedAttorneys",JSON.stringify(f)),localStorage.setItem("cachedTimeAttorneys",new Date().getTime().toString()),f}}catch(u){return console.error("Error getting meetings:",u),[]}}return Et(async()=>{let u=await l();u=u.filter(c=>c.email!=="admin@gmail.com"),r.value=u}),(u,c)=>(ee(),le("section",eV,[A("div",tV,[A("button",{onClick:s,class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center"},rV),(ee(!0),le(Se,null,Qe(r.value,d=>(ee(),le("button",{key:d.id,onClick:f=>o(d.id),class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center p-2"},[A("div",null,[A("img",{src:`assets/images/${d.id}.jpg`,alt:"Attorney Photo",class:"w-40 h-60 object-cover rounded-md"},null,8,sV)])],8,iV))),128))])]))}};function $e(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Or(t,e){const n=$e(t);return isNaN(e)?pt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function $r(t,e){const n=$e(t);if(isNaN(e))return pt(t,NaN);if(!e)return n;const r=n.getDate(),i=pt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function gk(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:o=0,minutes:a=0,seconds:l=0}=e,u=$e(t),c=r||n?$r(u,r+n*12):u,d=s||i?Or(c,s+i*7):c,f=a+o*60,p=(l+f*60)*1e3;return pt(t,d.getTime()+p)}function aV(t,e){const n=+$e(t);return pt(t,n+e)}const vk=6048e5,lV=864e5,uV=6e4,yk=36e5,cV=1e3;function dV(t,e){return aV(t,e*yk)}let fV={};function Oo(){return fV}function zr(t,e){var a,l,u,c;const n=Oo(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=$e(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function wa(t){return zr(t,{weekStartsOn:1})}function _k(t){const e=$e(t),n=e.getFullYear(),r=pt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=wa(r),s=pt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=wa(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function nb(t){const e=$e(t);return e.setHours(0,0,0,0),e}function Ad(t){const e=$e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bk(t,e){const n=nb(t),r=nb(e),i=+n-Ad(n),s=+r-Ad(r);return Math.round((i-s)/lV)}function hV(t){const e=_k(t),n=pt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),wa(n)}function pV(t,e){const n=e*3;return $r(t,n)}function Dv(t,e){return $r(t,e*12)}function rb(t,e){const n=$e(t),r=$e(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function wk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Cl(t){if(!wk(t)&&typeof t!="number")return!1;const e=$e(t);return!isNaN(Number(e))}function ib(t){const e=$e(t);return Math.trunc(e.getMonth()/3)+1}function mV(t,e){const n=$e(t),r=$e(e);return n.getFullYear()-r.getFullYear()}function gV(t,e){const n=$e(t),r=$e(e),i=rb(n,r),s=Math.abs(mV(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=rb(n,r)===-i,a=i*(s-+o);return a===0?0:a}function Ek(t,e){const n=$e(t.start),r=$e(t.end);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=s;)l.push($e(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return i?l.reverse():l}function ro(t){const e=$e(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function vV(t,e){const n=$e(t.start),r=$e(t.end);let i=+n>+r;const s=i?+ro(n):+ro(r);let o=ro(i?r:n),a=1;const l=[];for(;+o<=s;)l.push($e(o)),o=pV(o,a);return i?l.reverse():l}function yV(t){const e=$e(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Tk(t){const e=$e(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Nv(t){const e=$e(t),n=pt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ak(t,e){var a,l,u,c;const n=Oo(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=$e(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function sb(t){const e=$e(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const _V={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bV=(t,e,n)=>{let r;const i=_V[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function pp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AV={date:pp({formats:wV,defaultWidth:"full"}),time:pp({formats:EV,defaultWidth:"full"}),dateTime:pp({formats:TV,defaultWidth:"full"})},kV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xV=(t,e,n,r)=>kV[t];function tl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const IV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DV=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},NV={ordinalNumber:DV,era:tl({values:IV,defaultWidth:"wide"}),quarter:tl({values:SV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:tl({values:RV,defaultWidth:"wide"}),day:tl({values:OV,defaultWidth:"wide"}),dayPeriod:tl({values:PV,defaultWidth:"wide",formattingValues:CV,defaultFormattingWidth:"wide"})};function nl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?LV(a,d=>d.test(o)):MV(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function MV(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function LV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $V(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const VV=/^(\d+)(th|st|nd|rd)?/i,FV=/\d+/i,BV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jV={any:[/^b/i,/^(a|c)/i]},UV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qV={any:[/1/i,/2/i,/3/i,/4/i]},HV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QV={ordinalNumber:$V({matchPattern:VV,parsePattern:FV,valueCallback:t=>parseInt(t,10)}),era:nl({matchPatterns:BV,defaultMatchWidth:"wide",parsePatterns:jV,defaultParseWidth:"any"}),quarter:nl({matchPatterns:UV,defaultMatchWidth:"wide",parsePatterns:qV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:nl({matchPatterns:HV,defaultMatchWidth:"wide",parsePatterns:zV,defaultParseWidth:"any"}),day:nl({matchPatterns:KV,defaultMatchWidth:"wide",parsePatterns:WV,defaultParseWidth:"any"}),dayPeriod:nl({matchPatterns:YV,defaultMatchWidth:"any",parsePatterns:GV,defaultParseWidth:"any"})},kk={code:"en-US",formatDistance:bV,formatLong:AV,formatRelative:xV,localize:NV,match:QV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XV(t){const e=$e(t);return bk(e,Nv(e))+1}function Mv(t){const e=$e(t),n=+wa(e)-+hV(e);return Math.round(n/vk)+1}function Lv(t,e){var c,d,f,h;const n=$e(t),r=n.getFullYear(),i=Oo(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=pt(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=zr(o,e),l=pt(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=zr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function JV(t,e){var a,l,u,c;const n=Oo(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=Lv(t,e),s=pt(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),zr(s,e)}function $v(t,e){const n=$e(t),r=+zr(n,e)-+JV(n,e);return Math.round(r/vk)+1}function yt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return yt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return yt(i,e.length)}},Fo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ob={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Zi.y(t,e)},Y:function(t,e,n,r){const i=Lv(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return yt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):yt(s,e.length)},R:function(t,e){const n=_k(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=$v(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):yt(i,e.length)},I:function(t,e,n){const r=Mv(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zi.d(t,e)},D:function(t,e,n){const r=XV(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return yt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return yt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return yt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Fo.noon:r===0?i=Fo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Fo.evening:r>=12?i=Fo.afternoon:r>=4?i=Fo.morning:i=Fo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zi.s(t,e)},S:function(t,e){return Zi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return lb(r);case"XXXX":case"XX":return Ys(r);case"XXXXX":case"XXX":default:return Ys(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return lb(r);case"xxxx":case"xx":return Ys(r);case"xxxxx":case"xxx":default:return Ys(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ab(r,":");case"OOOO":default:return"GMT"+Ys(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ab(r,":");case"zzzz":default:return"GMT"+Ys(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return yt(r,e.length)},T:function(t,e,n){const r=t.getTime();return yt(r,e.length)}};function ab(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+yt(s,2)}function lb(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):Ys(t,e)}function Ys(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=yt(Math.trunc(r/60),2),s=yt(r%60,2);return n+i+e+s}const ub=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ZV=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ub(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ub(r,e)).replace("{{time}}",xk(i,e))},Dm={p:xk,P:ZV},e6=/^D+$/,t6=/^Y+$/,n6=["D","DD","YY","YYYY"];function Ik(t){return e6.test(t)}function Sk(t){return t6.test(t)}function Nm(t,e,n){const r=r6(t,e,n);if(console.warn(r),n6.includes(t))throw new RangeError(r)}function r6(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const i6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o6=/^'([^]*?)'?$/,a6=/''/g,l6=/[a-zA-Z]/;function Vr(t,e,n){var c,d,f,h,p,m,_,v;const r=Oo(),i=(n==null?void 0:n.locale)??r.locale??kk,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(_=r.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??0,a=$e(t);if(!Cl(a))throw new RangeError("Invalid time value");let l=e.match(s6).map(y=>{const b=y[0];if(b==="p"||b==="P"){const g=Dm[b];return g(y,i.formatLong)}return y}).join("").match(i6).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:u6(y)};if(ob[b])return{isToken:!0,value:y};if(b.match(l6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Sk(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ik(b))&&Nm(b,e,String(t));const g=ob[b[0]];return g(a,b,i.localize,u)}).join("")}function u6(t){const e=t.match(o6);return e?e[1].replace(a6,"'"):t}function c6(t){return $e(t).getDay()}function d6(t){const e=$e(t),n=e.getFullYear(),r=e.getMonth(),i=pt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function f6(){return Object.assign({},Oo())}function Hi(t){return $e(t).getHours()}function h6(t){let n=$e(t).getDay();return n===0&&(n=7),n}function Rs(t){return $e(t).getMinutes()}function it(t){return $e(t).getMonth()}function Ea(t){return $e(t).getSeconds()}function nt(t){return $e(t).getFullYear()}function Ta(t,e){const n=$e(t),r=$e(e);return n.getTime()>r.getTime()}function uu(t,e){const n=$e(t),r=$e(e);return+n<+r}function Qo(t,e){const n=$e(t),r=$e(e);return+n==+r}function p6(t,e){const n=e instanceof Date?pt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const m6=10;class Rk{constructor(){Ce(this,"subPriority",0)}validate(e,n){return!0}}class g6 extends Rk{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class v6 extends Rk{constructor(){super(...arguments);Ce(this,"priority",m6);Ce(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:pt(n,p6(n,Date))}}class mt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new g6(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class y6 extends mt{constructor(){super(...arguments);Ce(this,"priority",140);Ce(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ht={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},oi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ct(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ai(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*yk+s*uV+o*cV),rest:e.slice(n[0].length)}}function Ok(t){return Ct(Ht.anyDigitsSigned,t)}function Vt(t,e){switch(t){case 1:return Ct(Ht.singleDigit,e);case 2:return Ct(Ht.twoDigits,e);case 3:return Ct(Ht.threeDigits,e);case 4:return Ct(Ht.fourDigits,e);default:return Ct(new RegExp("^\\d{1,"+t+"}"),e)}}function kd(t,e){switch(t){case 1:return Ct(Ht.singleDigitSigned,e);case 2:return Ct(Ht.twoDigitsSigned,e);case 3:return Ct(Ht.threeDigitsSigned,e);case 4:return Ct(Ht.fourDigitsSigned,e);default:return Ct(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Vv(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Pk(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function Ck(t){return t%400===0||t%4===0&&t%100!==0}class _6 extends mt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return zt(Vt(4,n),s);case"yo":return zt(i.ordinalNumber(n,{unit:"year"}),s);default:return zt(Vt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=Pk(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class b6 extends mt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return zt(Vt(4,n),s);case"Yo":return zt(i.ordinalNumber(n,{unit:"year"}),s);default:return zt(Vt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Lv(n,s);if(i.isTwoDigitYear){const l=Pk(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),zr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),zr(n,s)}}class w6 extends mt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return kd(r==="R"?4:r.length,n)}set(n,r,i){const s=pt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),wa(s)}}class E6 extends mt{constructor(){super(...arguments);Ce(this,"priority",130);Ce(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return kd(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class T6 extends mt{constructor(){super(...arguments);Ce(this,"priority",120);Ce(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Vt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class A6 extends mt{constructor(){super(...arguments);Ce(this,"priority",120);Ce(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Vt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class k6 extends mt{constructor(){super(...arguments);Ce(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ce(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return zt(Ct(Ht.month,n),s);case"MM":return zt(Vt(2,n),s);case"Mo":return zt(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class x6 extends mt{constructor(){super(...arguments);Ce(this,"priority",110);Ce(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return zt(Ct(Ht.month,n),s);case"LL":return zt(Vt(2,n),s);case"Lo":return zt(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function I6(t,e,n){const r=$e(t),i=$v(r,n)-e;return r.setDate(r.getDate()-i*7),r}class S6 extends mt{constructor(){super(...arguments);Ce(this,"priority",100);Ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ct(Ht.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return zr(I6(n,i,s),s)}}function R6(t,e){const n=$e(t),r=Mv(n)-e;return n.setDate(n.getDate()-r*7),n}class O6 extends mt{constructor(){super(...arguments);Ce(this,"priority",100);Ce(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ct(Ht.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return wa(R6(n,i))}}const P6=[31,28,31,30,31,30,31,31,30,31,30,31],C6=[31,29,31,30,31,30,31,31,30,31,30,31];class D6 extends mt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"subPriority",1);Ce(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ct(Ht.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Vt(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=Ck(i),o=n.getMonth();return s?r>=1&&r<=C6[o]:r>=1&&r<=P6[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class N6 extends mt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"subpriority",1);Ce(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ct(Ht.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Vt(r.length,n)}}validate(n,r){const i=n.getFullYear();return Ck(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Fv(t,e,n){var d,f,h,p;const r=Oo(),i=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=$e(t),o=s.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return Or(s,c)}class M6 extends mt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Fv(n,i,s),n.setHours(0,0,0,0),n}}class L6 extends mt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return zt(Vt(r.length,n),o);case"eo":return zt(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Fv(n,i,s),n.setHours(0,0,0,0),n}}class $6 extends mt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return zt(Vt(r.length,n),o);case"co":return zt(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Fv(n,i,s),n.setHours(0,0,0,0),n}}function V6(t,e){const n=$e(t),r=h6(n),i=e-r;return Or(n,i)}class F6 extends mt{constructor(){super(...arguments);Ce(this,"priority",90);Ce(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Vt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return zt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return zt(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return zt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return zt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=V6(n,i),n.setHours(0,0,0,0),n}}class B6 extends mt{constructor(){super(...arguments);Ce(this,"priority",80);Ce(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Vv(i),0,0,0),n}}class j6 extends mt{constructor(){super(...arguments);Ce(this,"priority",80);Ce(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Vv(i),0,0,0),n}}class U6 extends mt{constructor(){super(...arguments);Ce(this,"priority",80);Ce(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Vv(i),0,0,0),n}}class q6 extends mt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ct(Ht.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class H6 extends mt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ct(Ht.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class z6 extends mt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ct(Ht.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class K6 extends mt{constructor(){super(...arguments);Ce(this,"priority",70);Ce(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ct(Ht.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class W6 extends mt{constructor(){super(...arguments);Ce(this,"priority",60);Ce(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ct(Ht.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Y6 extends mt{constructor(){super(...arguments);Ce(this,"priority",50);Ce(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ct(Ht.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class G6 extends mt{constructor(){super(...arguments);Ce(this,"priority",30);Ce(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return zt(Vt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Q6 extends mt{constructor(){super(...arguments);Ce(this,"priority",10);Ce(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ai(oi.basicOptionalMinutes,n);case"XX":return ai(oi.basic,n);case"XXXX":return ai(oi.basicOptionalSeconds,n);case"XXXXX":return ai(oi.extendedOptionalSeconds,n);case"XXX":default:return ai(oi.extended,n)}}set(n,r,i){return r.timestampIsSet?n:pt(n,n.getTime()-Ad(n)-i)}}class X6 extends mt{constructor(){super(...arguments);Ce(this,"priority",10);Ce(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ai(oi.basicOptionalMinutes,n);case"xx":return ai(oi.basic,n);case"xxxx":return ai(oi.basicOptionalSeconds,n);case"xxxxx":return ai(oi.extendedOptionalSeconds,n);case"xxx":default:return ai(oi.extended,n)}}set(n,r,i){return r.timestampIsSet?n:pt(n,n.getTime()-Ad(n)-i)}}class J6 extends mt{constructor(){super(...arguments);Ce(this,"priority",40);Ce(this,"incompatibleTokens","*")}parse(n){return Ok(n)}set(n,r,i){return[pt(n,i*1e3),{timestampIsSet:!0}]}}class Z6 extends mt{constructor(){super(...arguments);Ce(this,"priority",20);Ce(this,"incompatibleTokens","*")}parse(n){return Ok(n)}set(n,r,i){return[pt(n,i),{timestampIsSet:!0}]}}const eF={G:new y6,y:new _6,Y:new b6,R:new w6,u:new E6,Q:new T6,q:new A6,M:new k6,L:new x6,w:new S6,I:new O6,d:new D6,D:new N6,E:new M6,e:new L6,c:new $6,i:new F6,a:new B6,b:new j6,B:new U6,h:new q6,H:new H6,K:new z6,k:new K6,m:new W6,s:new Y6,S:new G6,X:new Q6,x:new X6,t:new J6,T:new Z6},tF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rF=/^'([^]*?)'?$/,iF=/''/g,sF=/\S/,oF=/[a-zA-Z]/;function Mm(t,e,n,r){var m,_,v,y,b,g,w,I;const i=f6(),s=(r==null?void 0:r.locale)??i.locale??kk,o=(r==null?void 0:r.firstWeekContainsDate)??((_=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(v=i.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((I=(w=i.locale)==null?void 0:w.options)==null?void 0:I.weekStartsOn)??0;if(e==="")return t===""?$e(n):pt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},u=[new v6],c=e.match(nF).map(k=>{const R=k[0];if(R in Dm){const D=Dm[R];return D(k,s.formatLong)}return k}).join("").match(tF),d=[];for(let k of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&Sk(k)&&Nm(k,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ik(k)&&Nm(k,e,t);const R=k[0],D=eF[R];if(D){const{incompatibleTokens:S}=D;if(Array.isArray(S)){const E=d.find(C=>S.includes(C.token)||C.token===R);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${k}\` at the same time`)}else if(D.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);d.push({token:R,fullToken:k});const T=D.run(t,k,s.match,l);if(!T)return pt(n,NaN);u.push(T.setter),t=T.rest}else{if(R.match(oF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(k==="''"?k="'":R==="'"&&(k=aF(k)),t.indexOf(k)===0)t=t.slice(k.length);else return pt(n,NaN)}}if(t.length>0&&sF.test(t))return pt(n,NaN);const f=u.map(k=>k.priority).sort((k,R)=>R-k).filter((k,R,D)=>D.indexOf(k)===R).map(k=>u.filter(R=>R.priority===k).sort((R,D)=>D.subPriority-R.subPriority)).map(k=>k[0]);let h=$e(n);if(isNaN(h.getTime()))return pt(n,NaN);const p={};for(const k of f){if(!k.validate(h,l))return pt(n,NaN);const R=k.set(h,p,l);Array.isArray(R)?(h=R[0],Object.assign(p,R[1])):h=R}return pt(n,h)}function aF(t){return t.match(rF)[1].replace(iF,"'")}function cb(t,e){const n=ro(t),r=ro(e);return+n==+r}function lF(t,e){return Or(t,-e)}function Dk(t,e){const n=$e(t),r=n.getFullYear(),i=n.getDate(),s=pt(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=d6(s);return n.setMonth(e,Math.min(i,o)),n}function At(t,e){let n=$e(t);return isNaN(+n)?pt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Dk(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function uF(t,e){const n=$e(t);return n.setHours(e),n}function Nk(t,e){const n=$e(t);return n.setMilliseconds(e),n}function cF(t,e){const n=$e(t);return n.setMinutes(e),n}function Mk(t,e){const n=$e(t);return n.setSeconds(e),n}function ci(t,e){const n=$e(t);return isNaN(+n)?pt(t,NaN):(n.setFullYear(e),n)}function Aa(t,e){return $r(t,-e)}function dF(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:o=0,minutes:a=0,seconds:l=0}=e,u=Aa(t,r+n*12),c=lF(u,s+i*7),d=a+o*60,h=(l+d*60)*1e3;return pt(t,c.getTime()-h)}function Lk(t,e){return Dv(t,-e)}function Fa(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[A("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),A("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),A("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),A("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Fa.compatConfig={MODE:3};function $k(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[A("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),A("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}$k.compatConfig={MODE:3};function Bv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[A("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Bv.compatConfig={MODE:3};function jv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[A("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}jv.compatConfig={MODE:3};function Uv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[A("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),A("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Uv.compatConfig={MODE:3};function qv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[A("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}qv.compatConfig={MODE:3};function Hv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[A("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Hv.compatConfig={MODE:3};const yi=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),zv=(t,e,n)=>Lm(t,e,n)||Te(),fF=(t,e,n)=>{const r=e.dateInTz?yi(new Date(t),e.dateInTz):Te(t);return n?Yn(r,!0):r},Lm=(t,e,n)=>{if(!t)return null;const r=n?Yn(Te(t),!0):Te(t);return e?e.exactMatch?fF(t,e,n):yi(r,e.timezone):r},hF=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Rr=(t=>(t.month="month",t.year="year",t))(Rr||{}),Gs=(t=>(t.top="top",t.bottom="bottom",t))(Gs||{}),ao=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ao||{}),Dn=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Dn||{});const pF=["timestamp","date","iso"];var zn=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(zn||{}),Pt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Pt||{});function db(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function mF(t){return e=>Vr(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const gF=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(mF(t))}catch{i=r.map(db(e))}else i=r.map(db(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},Kv=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:jk(i,e)});return n?r.reverse():r},Vk=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Vr(yi(o,"UTC"),s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},vF=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],nn=t=>{const e=ae(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},yF=t=>({type:"dot",...t??{}}),Fk=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Wv={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ln=t=>t,fb=t=>t===0?t:!t||isNaN(+t)?null:+t,hb=t=>t===null,Bk=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},_F=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},cu=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},ka=(t,e)=>_F(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ws=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},bF=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function wF(t,e){let n=[...document.querySelectorAll(bF())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const EF=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),jk=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),Yv=t=>Vr(t,"dd-MM-yyyy"),mp=t=>Array.isArray(t),xd=(t,e)=>e.get(Yv(t)),TF=(t,e)=>t?e?e instanceof Map?!!xd(t,e):e(Te(t)):!1:!0,tr=(t,e,n=!1)=>{if(t.key===Pt.enter||t.key===Pt.space)return n&&t.preventDefault(),e()},pb=(t,e,n,r,i,s)=>{const o=Mm(t,e.slice(0,t.length),new Date,{locale:s});return Cl(o)&&wk(o)?r||i?o:At(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},AF=(t,e,n,r,i,s)=>{const o=Array.isArray(n)?n[0]:n;if(typeof e=="string")return pb(t,e,o,r,i,s);if(Array.isArray(e)){let a=null;for(const l of e)if(a=pb(t,l,o,r,i,s),a)break;return a}return typeof e=="function"?e(t):null},Te=t=>t?new Date(t):new Date,kF=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Yn=(t,e)=>{const n=Te(JSON.parse(JSON.stringify(t))),r=At(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?yV(r):r},Es=(t,e,n,r)=>{let i=t?Te(t):Te();return(e||e===0)&&(i=uF(i,+e)),(n||n===0)&&(i=cF(i,+n)),(r||r===0)&&(i=Mk(i,+r)),Nk(i,0)},Lt=(t,e)=>!t||!e?!1:uu(Yn(t),Yn(e)),st=(t,e)=>!t||!e?!1:Qo(Yn(t),Yn(e)),qt=(t,e)=>!t||!e?!1:Ta(Yn(t),Yn(e)),Ff=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?qt(n,t[0])&&Lt(n,t[1]):t!=null&&t[0]&&e?qt(n,t[0])&&Lt(n,e)||Lt(n,t[0])&&qt(n,e):!1,Pr=t=>{const e=At(new Date(t),{date:1});return Yn(e)},gp=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},lo=t=>({hours:Hi(t),minutes:Rs(t),seconds:Ea(t)}),Uk=(t,e)=>{if(e){const n=nt(Te(e));if(n>t)return 12;if(n===t)return it(Te(e))}},qk=(t,e)=>{if(e){const n=nt(Te(e));return n<t?-1:n===t?it(Te(e)):void 0}},xa=t=>{if(t)return nt(Te(t))},Hk=(t,e)=>{const n=qt(t,e)?e:t,r=qt(e,t)?e:t;return Ek({start:n,end:r})},xF=t=>{const e=$r(t,1);return{month:it(e),year:nt(e)}},Si=(t,e)=>{const n=zr(t,{weekStartsOn:+e}),r=Ak(t,{weekStartsOn:+e});return[n,r]},zk=(t,e)=>{const n={hours:Hi(Te()),minutes:Rs(Te()),seconds:e?Ea(Te()):0};return Object.assign(n,t)},ps=(t,e,n)=>[At(Te(t),{date:1}),At(Te(),{month:e,year:n,date:1})],Ni=(t,e,n)=>{let r=t?Te(t):Te();return(e||e===0)&&(r=Dk(r,e)),n&&(r=ci(r,n)),r},Kk=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?$r(t,1):Aa(t,1),o=[it(s),nt(s)];return i?!SF(...o,e):!IF(...o,n)},IF=(t,e,n)=>Lt(...ps(n,t,e))||st(...ps(n,t,e)),SF=(t,e,n)=>qt(...ps(n,t,e))||st(...ps(n,t,e)),Wk=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Vr(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?Vr(t[1],s,a):""}`:Vr(t,s,a)},Bo=t=>{if(t)return null;throw new Error(Wv.prop("partial-range"))},vc=(t,e)=>{if(e)return t();throw new Error(Wv.prop("range"))},$m=t=>Array.isArray(t)?Cl(t[0])&&(t[1]?Cl(t[1]):!0):t?Cl(t):!1,RF=(t,e)=>At(e??Te(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),vp=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?uu(t,e):Ta(t,e),s={seconds:0,milliseconds:0};return i||Qo(At(t,s),At(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},yp=(t,e,n)=>t?RF(t,e):Te(n??e),mb=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=yp(t,r[0],e),a=yp(t,r[1],e);return vp(r[0],o,n,!!e)&&vp(r[1],a,n,!!e)&&i}const s=yp(t,r,e);return vp(r,s,n,!!e)&&i},_p=t=>At(Te(),lo(t)),OF=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>nt(Te(n))===e).map(n=>it(n)):[],Yk=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),Gv=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Gk=t=>Vr(t,"yyyy-MM-dd"),rl=Kr({menuFocused:!1,shiftKeyInMenu:!1}),Qk=()=>{const t=n=>{rl.menuFocused=n},e=n=>{rl.shiftKeyInMenu!==n&&(rl.shiftKeyInMenu=n)};return{control:pe(()=>({shiftKeyInMenu:rl.shiftKeyInMenu,menuFocused:rl.menuFocused})),setMenuFocused:t,setShiftKey:e}},xt=Kr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),bp=he(null),yc=he(!1),wp=he(!1),Ep=he(!1),Tp=he(!1),Pn=he(0),Ut=he(0),Vs=()=>{const t=pe(()=>yc.value?[...xt.selectionGrid,xt.actionRow].filter(d=>d.length):wp.value?[...xt.timePicker[0],...xt.timePicker[1],Tp.value?[]:[bp.value],xt.actionRow].filter(d=>d.length):Ep.value?[...xt.monthPicker,xt.actionRow]:[xt.monthYear,...xt.calendar,xt.time,xt.actionRow].filter(d=>d.length)),e=d=>{Pn.value=d?Pn.value+1:Pn.value-1;let f=null;t.value[Ut.value]&&(f=t.value[Ut.value][Pn.value]),!f&&t.value[Ut.value+(d?1:-1)]?(Ut.value=Ut.value+(d?1:-1),Pn.value=d?0:t.value[Ut.value].length-1):f||(Pn.value=d?Pn.value-1:Pn.value+1)},n=d=>{Ut.value===0&&!d||Ut.value===t.value.length&&d||(Ut.value=d?Ut.value+1:Ut.value-1,t.value[Ut.value]?t.value[Ut.value]&&!t.value[Ut.value][Pn.value]&&Pn.value!==0&&(Pn.value=t.value[Ut.value].length-1):Ut.value=d?Ut.value-1:Ut.value+1)},r=d=>{let f=null;t.value[Ut.value]&&(f=t.value[Ut.value][Pn.value]),f?f.focus({preventScroll:!yc.value}):Pn.value=d?Pn.value-1:Pn.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{xt[f]=d},u=(d,f)=>{xt[f]=d},c=()=>{Pn.value=0,Ut.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{bp.value=d},setSelectionGrid:d=>{yc.value=d,c(),d||(xt.selectionGrid=[])},setTimePicker:(d,f=!1)=>{wp.value=d,Tp.value=f,c(),d||(xt.timePicker[0]=[],xt.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{xt.timePicker[f]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{xt.monthYear=[],xt.calendar=[],xt.time=[],xt.actionRow=[],xt.selectionGrid=[],xt.timePicker[0]=[],xt.timePicker[1]=[],yc.value=!1,wp.value=!1,Tp.value=!1,Ep.value=!1,c(),bp.value=null},setMonthPicker:d=>{Ep.value=d,c()},refSets:xt}},gb=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),PF=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),vb=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,CF=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:vb(!1)};const r=e?t:{},i=e?r.count??!0:t,s=vb(i);return Object.assign(n,r,{count:s})},DF=(t,e,n)=>t||(typeof n=="string"?n:e),NF=t=>typeof t=="boolean"?t?gb({}):!1:gb(t),MF=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},LF=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),$F=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),VF=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},FF=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),BF=t=>{const e={dates:Array.isArray(t)?t.map(n=>Te(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},jF=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},UF=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},qF=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Ap=(t,e,n)=>new Map(t.map(r=>{const i=zv(r,e,n);return[Yv(i),i]})),HF=(t,e)=>t.length?new Map(t.map(n=>{const r=zv(n.date,e);return[Yv(r),n]})):null,zF=t=>{var e;return{minDate:Lm(t.minDate,t.timezone,t.isSpecific),maxDate:Lm(t.maxDate,t.timezone,t.isSpecific),disabledDates:mp(t.disabledDates)?Ap(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:mp(t.allowedDates)?Ap(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&mp((e=t.highlight)==null?void 0:e.dates)?Ap(t.highlight.dates,t.timezone):t.highlight,markers:HF(t.markers,t.timezone)}},KF=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Mt=t=>{const e=()=>{const w=t.enableSeconds?":ss":"",I=t.enableMinutes?":mm":"";return t.is24?`HH${I}${w}`:`hh${I}${w} aa`},n=()=>{var w;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((w=_.value)==null?void 0:w.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=w=>zk(w,t.enableSeconds),i=()=>g.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=pe(()=>CF(t.multiCalendars)),o=pe(()=>i()),a=pe(()=>PF(t.ariaLabels)),l=pe(()=>LF(t.filters)),u=pe(()=>NF(t.transitions)),c=pe(()=>$F(t.actionRow)),d=pe(()=>DF(t.previewFormat,t.format,n())),f=pe(()=>MF(t.textInput)),h=pe(()=>VF(t.inline)),p=pe(()=>FF(t.config)),m=pe(()=>BF(t.highlight)),_=pe(()=>jF(t.weekNumbers)),v=pe(()=>qF(t.timezone,t.emitTimezone)),y=pe(()=>KF(t.multiDates,t.multiDatesLimit)),b=pe(()=>zF({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:m.value,markers:t.markers,timezone:v.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),g=pe(()=>UF(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:_,defaultedRange:g,propDates:b,defaultedTz:v,defaultedMultiDates:y,getDefaultPattern:n,getDefaultStartTime:i}},WF=(t,e,n)=>{const r=he(),{defaultedTextInput:i,defaultedRange:s,defaultedTz:o,defaultedMultiDates:a,getDefaultPattern:l}=Mt(e),u=he(""),c=$l(e,"format"),d=$l(e,"formatLocale");Xt(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,j(!0))},{deep:!0}),Xt(s,(P,X)=>{P.enabled!==X.enabled&&(r.value=null)}),Xt(c,()=>{ne()});const f=P=>o.value.timezone&&o.value.convertModel?yi(P,o.value.timezone):P,h=P=>{if(o.value.timezone&&o.value.convertModel){const X=hF(o.value.timezone);return dV(P,X)}return P},p=(P,X,W=!1)=>Wk(P,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,X??l(),W),m=P=>P?e.modelType?K(P):{hours:Hi(P),minutes:Rs(P),seconds:e.enableSeconds?Ea(P):0}:null,_=P=>e.modelType?K(P):{month:it(P),year:nt(P)},v=P=>Array.isArray(P)?a.value.enabled?P.map(X=>y(X,ci(Te(),X))):vc(()=>[ci(Te(),P[0]),P[1]?ci(Te(),P[1]):Bo(s.value.partialRange)],s.value.enabled):ci(Te(),+P),y=(P,X)=>(typeof P=="string"||typeof P=="number")&&e.modelType?Z(P):X,b=P=>Array.isArray(P)?[y(P[0],Es(null,+P[0].hours,+P[0].minutes,P[0].seconds)),y(P[1],Es(null,+P[1].hours,+P[1].minutes,P[1].seconds))]:y(P,Es(null,P.hours,P.minutes,P.seconds)),g=P=>{const X=At(Te(),{date:1});return Array.isArray(P)?a.value.enabled?P.map(W=>y(W,Ni(X,+W.month,+W.year))):vc(()=>[y(P[0],Ni(X,+P[0].month,+P[0].year)),y(P[1],P[1]?Ni(X,+P[1].month,+P[1].year):Bo(s.value.partialRange))],s.value.enabled):y(P,Ni(X,+P.month,+P.year))},w=P=>{if(Array.isArray(P))return P.map(X=>Z(X));throw new Error(Wv.dateArr("multi-dates"))},I=P=>{if(Array.isArray(P)&&s.value.enabled){const X=P[0],W=P[1];return[Te(Array.isArray(X)?X[0]:null),Te(Array.isArray(W)?W[0]:null)]}return Te(P[0])},k=P=>e.modelAuto?Array.isArray(P)?[Z(P[0]),Z(P[1])]:e.autoApply?[Z(P)]:[Z(P),null]:Array.isArray(P)?vc(()=>P[1]?[Z(P[0]),P[1]?Z(P[1]):Bo(s.value.partialRange)]:[Z(P[0])],s.value.enabled):Z(P),R=()=>{Array.isArray(r.value)&&s.value.enabled&&r.value.length===1&&r.value.push(Bo(s.value.partialRange))},D=()=>{const P=r.value;return[K(P[0]),P[1]?K(P[1]):Bo(s.value.partialRange)]},S=()=>r.value[1]?D():K(ln(r.value[0])),T=()=>(r.value||[]).map(P=>K(P)),E=(P=!1)=>(P||R(),e.modelAuto?S():a.value.enabled?T():Array.isArray(r.value)?vc(()=>D(),s.value.enabled):K(ln(r.value))),C=P=>!P||Array.isArray(P)&&!P.length?null:e.timePicker?b(ln(P)):e.monthPicker?g(ln(P)):e.yearPicker?v(ln(P)):a.value.enabled?w(ln(P)):e.weekPicker?I(ln(P)):k(ln(P)),B=P=>{const X=C(P);$m(ln(X))?(r.value=ln(X),ne()):(r.value=null,u.value="")},M=()=>{const P=X=>Vr(X,i.value.format);return`${P(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?P(r.value[1]):""}`},F=()=>n.value&&r.value?Array.isArray(r.value)?M():Vr(r.value,i.value.format):p(r.value),q=()=>r.value?a.value.enabled?r.value.map(P=>p(P)).join("; "):i.value.enabled&&typeof i.value.format=="string"?F():p(r.value):"",ne=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=q():u.value=e.format(r.value)},Z=P=>{if(e.utc){const X=new Date(P);return e.utc==="preserve"?new Date(X.getTime()+X.getTimezoneOffset()*6e4):X}return e.modelType?pF.includes(e.modelType)?f(new Date(P)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?f(Mm(P,l(),new Date,{locale:d.value})):f(Mm(P,e.modelType,new Date,{locale:d.value})):f(new Date(P))},K=P=>P?e.utc?kF(P,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(P):e.modelType==="iso"?h(P).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(P)):p(h(P),e.modelType,!0):h(P):"",N=(P,X=!1,W=!1)=>{if(W)return P;if(t("update:model-value",P),o.value.emitTimezone&&X){const oe=Array.isArray(P)?P.map(ce=>yi(ln(ce),o.value.emitTimezone)):yi(ln(P),o.value.emitTimezone);t("update:model-timezone-value",oe)}},V=P=>Array.isArray(r.value)?a.value.enabled?r.value.map(X=>P(X)):[P(r.value[0]),r.value[1]?P(r.value[1]):Bo(s.value.partialRange)]:P(ln(r.value)),O=()=>{if(Array.isArray(r.value)){const P=Si(r.value[0],e.weekStart),X=r.value[1]?Si(r.value[1],e.weekStart):[];return[P.map(W=>Te(W)),X.map(W=>Te(W))]}return Si(r.value,e.weekStart).map(P=>Te(P))},G=(P,X)=>N(ln(V(P)),!1,X),J=P=>{const X=O();return P?X:t("update:model-value",O())},j=(P=!1)=>(P||ne(),e.monthPicker?G(_,P):e.timePicker?G(m,P):e.yearPicker?G(nt,P):e.weekPicker?J(P):N(E(P),!0,P));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?s.value.enabled?s.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:B,formatInputValue:ne,emitModelValue:j}},YF=(t,e)=>{const{defaultedFilters:n,propDates:r}=Mt(t),{validateMonthYearInRange:i}=Fs(t),s=(c,d)=>{let f=c;return n.value.months.includes(it(f))?(f=d?$r(c,1):Aa(c,1),s(f,d)):f},o=(c,d)=>{let f=c;return n.value.years.includes(nt(f))?(f=d?Dv(c,1):Lk(c,1),o(f,d)):f},a=(c,d=!1)=>{const f=At(Te(),{month:t.month,year:t.year});let h=c?$r(f,1):Aa(f,1);t.disableYearSelect&&(h=ci(h,t.year));let p=it(h),m=nt(h);n.value.months.includes(p)&&(h=s(h,c),p=it(h),m=nt(h)),n.value.years.includes(m)&&(h=o(h,c),m=nt(h)),i(p,m,c,t.preventMinMaxNavigation)&&l(p,m,d)},l=(c,d,f)=>{e("update-month-year",{month:c,year:d,fromNav:f})},u=pe(()=>c=>Kk(At(Te(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:a,isDisabled:u,updateMonthYear:l}},Bf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Gr={...Bf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},GF=["title"],QF=["disabled"],XF=Kt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Gr},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=Mt(r),{isTimeValid:f,isMonthValid:h}=Fs(r),{buildMatrix:p}=Vs(),m=he(null),_=he(null),v=he(!1),y=he({}),b=he(null),g=he(null);Et(()=>{r.arrowNavigation&&p([nn(m),nn(_)],"actionRow"),w(),window.addEventListener("resize",w)}),Sa(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var M,F;const q=(M=b.value)==null?void 0:M.getBoundingClientRect(),ne=(F=g.value)==null?void 0:F.getBoundingClientRect();q&&ne&&(y.value.maxWidth=`${ne.width-q.width-20}px`),v.value=!0},0)},I=pe(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),k=pe(()=>!f.value(r.internalModelValue)||!h.value(r.internalModelValue)||!I.value),R=()=>{const M=s.value;return r.timePicker||r.monthPicker,M(ln(r.internalModelValue))},D=()=>{const M=r.internalModelValue;return o.value.count>0?`${S(M[0])} - ${S(M[1])}`:[S(M[0]),S(M[1])]},S=M=>Wk(M,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,d()),T=pe(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?D():c.value.enabled?r.internalModelValue.map(M=>`${S(M)}`):r.modelAuto?`${S(r.internalModelValue[0])}`:`${S(r.internalModelValue[0])} -`:S(r.internalModelValue):R()),E=()=>c.value.enabled?"; ":" - ",C=pe(()=>Array.isArray(T.value)?T.value.join(E()):T.value),B=()=>{f.value(r.internalModelValue)&&h.value(r.internalModelValue)&&I.value?n("select-date"):n("invalid-select")};return(M,F)=>(ee(),le("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[M.$slots["action-row"]?De(M.$slots,"action-row",dn(sn({key:0},{internalModelValue:M.internalModelValue,disabled:k.value,selectDate:()=>M.$emit("select-date"),closePicker:()=>M.$emit("close-picker")}))):(ee(),le(Se,{key:1},[ae(i).showPreview?(ee(),le("div",{key:0,class:"dp__selection_preview",title:C.value,style:cn(y.value)},[M.$slots["action-preview"]&&v.value?De(M.$slots,"action-preview",{key:0,value:M.internalModelValue}):ge("",!0),!M.$slots["action-preview"]&&v.value?(ee(),le(Se,{key:1},[an(Ie(C.value),1)],64)):ge("",!0)],12,GF)):ge("",!0),A("div",{ref_key:"actionBtnContainer",ref:b,class:"dp__action_buttons","data-dp-element":"action-row"},[M.$slots["action-buttons"]?De(M.$slots,"action-buttons",{key:0,value:M.internalModelValue}):ge("",!0),M.$slots["action-buttons"]?ge("",!0):(ee(),le(Se,{key:1},[!ae(l).enabled&&ae(i).showCancel?(ee(),le("button",{key:0,ref_key:"cancelButtonRef",ref:m,type:"button",class:"dp__action_button dp__action_cancel",onClick:F[0]||(F[0]=q=>M.$emit("close-picker")),onKeydown:F[1]||(F[1]=q=>ae(tr)(q,()=>M.$emit("close-picker")))},Ie(M.cancelText),545)):ge("",!0),ae(i).showNow?(ee(),le("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:F[2]||(F[2]=q=>M.$emit("select-now")),onKeydown:F[3]||(F[3]=q=>ae(tr)(q,()=>M.$emit("select-now")))},Ie(M.nowButtonLabel),33)):ge("",!0),ae(i).showSelect?(ee(),le("button",{key:2,ref_key:"selectButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_select",disabled:k.value,"data-test":"select-button",onKeydown:F[4]||(F[4]=q=>ae(tr)(q,()=>B())),onClick:B},Ie(M.selectText),41,QF)):ge("",!0)],64))],512)],64))],512))}}),JF={class:"dp__selection_grid_header"},ZF=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],eB=["aria-label"],Nu=Kt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Vs(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Mt(a),{hideNavigationButtons:d}=qf(),f=he(!1),h=he(null),p=he(null),m=he([]),_=he(),v=he(null),y=he(0),b=he(null);V1(()=>{h.value=null}),Et(()=>{kn().then(()=>T()),a.noOverlayFocus||w(),g(!0)}),Sa(()=>g(!1));const g=V=>{var O;a.arrowNavigation&&((O=a.headerRefs)!=null&&O.length?s(V):r(V))},w=()=>{var V;const O=nn(p);O&&(u.value.enabled||(h.value?(V=h.value)==null||V.focus({preventScroll:!0}):O.focus({preventScroll:!0})),f.value=O.clientHeight<O.scrollHeight)},I=pe(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),k=pe(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),R=pe(()=>({dp__overlay_col:!0})),D=pe(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),S=pe(()=>{var V,O;return{dp__overlay_container:!0,dp__container_flex:((V=a.items)==null?void 0:V.length)<=6,dp__container_block:((O=a.items)==null?void 0:O.length)>6}});Xt(()=>a.items,()=>T(!1),{deep:!0});const T=(V=!0)=>{kn().then(()=>{const O=nn(h),G=nn(p),J=nn(v),j=nn(b),P=J?J.getBoundingClientRect().height:0;G&&(G.getBoundingClientRect().height?y.value=G.getBoundingClientRect().height-P:y.value=c.value.modeHeight-P),O&&j&&V&&(j.scrollTop=O.offsetTop-j.offsetTop-(y.value/2-O.getBoundingClientRect().height)-P)})},E=V=>{V.disabled||o("selected",V.value)},C=()=>{o("toggle"),o("reset-flow")},B=()=>{a.escClose&&C()},M=(V,O,G,J)=>{V&&((O.active||O.value===a.focusValue)&&(h.value=V),a.arrowNavigation&&(Array.isArray(m.value[G])?m.value[G][J]=V:m.value[G]=[V],F()))},F=()=>{var V,O;const G=(V=a.headerRefs)!=null&&V.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[v.value]]);i(ln(G),(O=a.headerRefs)!=null&&O.length?"monthPicker":"selectionGrid")},q=V=>{a.arrowNavigation||ws(V,c.value,!0)},ne=V=>{_.value=V,o("hover-value",V)},Z=()=>{if(C(),!a.isLast){const V=EF(a.menuWrapRef??null,"action-row");if(V){const O=Bk(V);O==null||O.focus()}}},K=V=>{switch(V.key){case Pt.esc:return B();case Pt.arrowLeft:return q(V);case Pt.arrowRight:return q(V);case Pt.arrowUp:return q(V);case Pt.arrowDown:return q(V);default:return}},N=V=>{if(V.key===Pt.enter)return C();if(V.key===Pt.tab)return Z()};return e({focusGrid:w}),(V,O)=>{var G;return ee(),le("div",{ref_key:"gridWrapRef",ref:p,class:We(I.value),style:cn(k.value),role:"dialog",tabindex:"0",onKeydown:K,onClick:O[0]||(O[0]=Ar(()=>{},["prevent"]))},[A("div",{ref_key:"containerRef",ref:b,class:We(S.value),role:"grid",style:cn({"--dp-overlay-height":`${y.value}px`})},[A("div",JF,[De(V.$slots,"header")]),V.$slots.overlay?De(V.$slots,"overlay",{key:0}):(ee(!0),le(Se,{key:1},Qe(V.items,(J,j)=>(ee(),le("div",{key:j,class:We(["dp__overlay_row",{dp__flex_row:V.items.length>=3}]),role:"row"},[(ee(!0),le(Se,null,Qe(J,(P,X)=>(ee(),le("div",{key:P.value,ref_for:!0,ref:W=>M(W,P,j,X),role:"gridcell",class:We(R.value),"aria-selected":P.active||void 0,"aria-disabled":P.disabled||void 0,tabindex:"0","data-test":P.text,onClick:Ar(W=>E(P),["prevent"]),onKeydown:W=>ae(tr)(W,()=>E(P),!0),onMouseover:W=>ne(P.value)},[A("div",{class:We(P.className)},[V.$slots.item?De(V.$slots,"item",{key:0,item:P}):ge("",!0),V.$slots.item?ge("",!0):(ee(),le(Se,{key:1},[an(Ie(P.text),1)],64))],2)],42,ZF))),128))],2))),128))],6),V.$slots["button-icon"]?bt((ee(),le("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(G=ae(l))==null?void 0:G.toggleOverlay,class:We(D.value),tabindex:"0",onClick:C,onKeydown:N},[De(V.$slots,"button-icon")],42,eB)),[[El,!ae(d)(V.hideNavigation,V.type)]]):ge("",!0)],38)}}}),jf=Kt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=pe(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=pe(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(ee(),le("div",{class:We({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(ee(!0),le(Se,null,Qe(n.value,(o,a)=>(ee(),le("div",{key:o,class:We(r.value)},[De(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),tB=["aria-label","aria-disabled"],Dl=Kt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=he(null);return Et(()=>n("set-ref",r)),(i,s)=>(ee(),le("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:s[1]||(s[1]=o=>ae(tr)(o,()=>i.$emit("activate"),!0))},[A("span",{class:We(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[De(i.$slots,"default")],2)],40,tB))}}),nB={class:"dp--year-mode-picker"},rB=["aria-label","data-test"],Xk=Kt({__name:"YearModePicker",props:{...Gr,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=qf(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Mt(r),{showTransition:c,transitionName:d}=Mu(u),f=(m=!1,_)=>{n("toggle-year-picker",{flow:m,show:_})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,_)=>{var v,y,b;return ee(),le("div",nB,[ae(s)(ae(a),t.instance)?(ee(),Ue(Dl,{key:0,ref:"mpPrevIconRef","aria-label":(v=ae(l))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:_[0]||(_[0]=g=>p(!1))},{default:ze(()=>[m.$slots["arrow-left"]?De(m.$slots,"arrow-left",{key:0}):ge("",!0),m.$slots["arrow-left"]?ge("",!0):(ee(),Ue(ae(Bv),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),A("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(y=ae(l))==null?void 0:y.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:_[1]||(_[1]=()=>f(!1)),onKeydown:_[2]||(_[2]=aw(()=>f(!1),["enter"]))},[m.$slots.year?De(m.$slots,"year",{key:0,year:t.year}):ge("",!0),m.$slots.year?ge("",!0):(ee(),le(Se,{key:1},[an(Ie(t.year),1)],64))],40,rB),ae(i)(ae(a),t.instance)?(ee(),Ue(Dl,{key:1,ref:"mpNextIconRef","aria-label":(b=ae(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:_[3]||(_[3]=g=>p(!0))},{default:ze(()=>[m.$slots["arrow-right"]?De(m.$slots,"arrow-right",{key:0}):ge("",!0),m.$slots["arrow-right"]?ge("",!0):(ee(),Ue(ae(jv),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),qe(Br,{name:ae(d)(t.showYearPicker),css:ae(c)},{default:ze(()=>[t.showYearPicker?(ee(),Ue(Nu,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!ae(o).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,type:"year",onToggle:f,onSelected:_[4]||(_[4]=g=>h(g))},Ln({"button-icon":ze(()=>[m.$slots["calendar-icon"]?De(m.$slots,"calendar-icon",{key:0}):ge("",!0),m.$slots["calendar-icon"]?ge("",!0):(ee(),Ue(ae(Fa),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:g})=>[De(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ge("",!0)]),_:3},8,["name","css"])])}}}),Qv=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>st(t,r))){const r=e.value.filter(i=>!st(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Xv=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Lt(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},Uf=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},Jk=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>yi(Te(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=yi(Te(t.value),t.timezone))},Zk=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(qt(t,e.value[0])||st(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Lt(t,e.value[1])||st(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],ex=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:s,props:o,filters:a,year:l,month:u,emit:c})=>{const d=pe(()=>Kv(o.yearRange,o.locale,o.reverseYears)),f=he([!1]),h=pe(()=>(D,S)=>{const T=At(Pr(new Date),{month:u.value(D),year:l.value(D)}),E=S?Tk(T):Nv(T);return Kk(E,r.value.maxDate,r.value.minDate,o.preventMinMaxNavigation,S)}),p=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],m=()=>{for(let D=0;D<t.value.count;D++)if(D===0)i.value[D]=i.value[0];else if(D===t.value.count-1&&p())i.value[D]={month:it(s.value[1]),year:nt(s.value[1])};else{const S=At(Te(),i.value[D-1]);i.value[D]={month:it(S),year:nt(Dv(S,1))}}},_=D=>{if(!D)return m();const S=At(Te(),i.value[D]);return i.value[0].year=nt(Lk(S,t.value.count-1)),m()},v=(D,S)=>{const T=gV(S,D);return e.value.showLastInRange&&T>1?S:D},y=D=>o.focusStartDate||t.value.solo?D[0]:D[1]?v(D[0],D[1]):D[0],b=()=>{if(s.value){const D=Array.isArray(s.value)?y(s.value):s.value;i.value[0]={month:it(D),year:nt(D)}}};Et(()=>{b(),t.value.count&&m()});const g=(D,S)=>{i.value[S].year=D,c("update-month-year",{instance:S,year:D,month:i.value[S].month}),t.value.count&&!t.value.solo&&_(S)},w=pe(()=>D=>ka(d.value,S=>{var T;const E=l.value(D)===S.value,C=cu(S.value,xa(r.value.minDate),xa(r.value.maxDate))||((T=a.value.years)==null?void 0:T.includes(l.value(D))),B=Gv(n.value,S.value);return{active:E,disabled:C,highlighted:B}})),I=(D,S)=>{g(D,S),R(S)},k=(D,S=!1)=>{if(!h.value(D,S)){const T=S?l.value(D)+1:l.value(D)-1;g(T,D)}},R=(D,S=!1,T)=>{S||c("reset-flow"),T!==void 0?f.value[D]=T:f.value[D]=!f.value[D],f.value[D]?c("overlay-toggle",{open:!0,overlay:Dn.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:Dn.year}))};return{isDisabled:h,groupedYears:w,showYearPicker:f,selectYear:g,toggleYearPicker:R,handleYearSelect:I,handleYear:k}},iB=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedRange:o,defaultedHighlight:a,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=Mt(t),{modelValue:f,year:h,month:p,calendars:m}=Lu(t,e),_=pe(()=>Vk(t.formatLocale,t.locale,t.monthNameFormat)),v=he(null),{checkMinMaxRange:y}=Fs(t),{selectYear:b,groupedYears:g,showYearPicker:w,toggleYearPicker:I,handleYearSelect:k,handleYear:R,isDisabled:D}=ex({modelValue:f,multiCalendars:n,range:o,highlight:a,calendars:m,year:h,propDates:l,month:p,filters:c,props:t,emit:e});Et(()=>{t.startDate&&(f.value&&t.focusStartDate||!f.value)&&b(nt(Te(t.startDate)),0)});const S=O=>O?{month:it(O),year:nt(O)}:{month:null,year:null},T=()=>f.value?Array.isArray(f.value)?f.value.map(O=>S(O)):S(f.value):S(),E=(O,G)=>{const J=m.value[O],j=T();return Array.isArray(j)?j.some(P=>P.year===(J==null?void 0:J.year)&&P.month===G):(J==null?void 0:J.year)===j.year&&G===j.month},C=(O,G,J)=>{var j,P;const X=T();return Array.isArray(X)?h.value(G)===((j=X[J])==null?void 0:j.year)&&O===((P=X[J])==null?void 0:P.month):!1},B=(O,G)=>{if(o.value.enabled){const J=T();if(Array.isArray(f.value)&&Array.isArray(J)){const j=C(O,G,0)||C(O,G,1),P=Ni(Pr(Te()),O,h.value(G));return Ff(f.value,v.value,P)&&!j}return!1}return!1},M=pe(()=>O=>ka(_.value,G=>{var J;const j=E(O,G.value),P=cu(G.value,Uk(h.value(O),l.value.minDate),qk(h.value(O),l.value.maxDate))||OF(l.value.disabledDates,h.value(O)).includes(G.value)||((J=c.value.months)==null?void 0:J.includes(G.value)),X=B(G.value,O),W=Yk(a.value,G.value,h.value(O));return{active:j,disabled:P,isBetween:X,highlighted:W}})),F=(O,G)=>Ni(Pr(Te()),O,h.value(G)),q=(O,G)=>{const J=f.value?f.value:Pr(new Date);f.value=Ni(J,O,h.value(G)),e("auto-apply"),e("update-flow-step")},ne=(O,G)=>{const J=F(O,G);o.value.fixedEnd||o.value.fixedStart?f.value=Zk(J,f,e,o):f.value?y(J,f.value)&&(f.value=Xv(f,F(O,G),e)):f.value=[F(O,G)],kn().then(()=>{Uf(f.value,e,t.autoApply,t.modelAuto)})},Z=(O,G)=>{Qv(F(O,G),f,d.value.limit),e("auto-apply",!0)},K=(O,G)=>(m.value[G].month=O,V(G,m.value[G].year,O),d.value.enabled?Z(O,G):o.value.enabled?ne(O,G):q(O,G)),N=(O,G)=>{b(O,G),V(G,O,null)},V=(O,G,J)=>{let j=J;if(!j&&j!==0){const P=T();j=Array.isArray(P)?P[O].month:P.month}e("update-month-year",{instance:O,year:G,month:j})};return{groupedMonths:M,groupedYears:g,year:h,isDisabled:D,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:w,modelValue:f,presetDate:(O,G)=>{Jk({value:O,modelValue:f,range:o.value.enabled,timezone:G?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(O,G)=>{v.value=F(O,G)},selectMonth:K,selectYear:N,toggleYearPicker:I,handleYearSelect:k,handleYear:R,getModelMonthYear:T}},sB=Kt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Gr},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=Eo(),s=fr(i,"yearMode"),o=t;Et(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:_,selectMonth:v,selectYear:y,toggleYearPicker:b,handleYearSelect:g,handleYear:w,getModelMonthYear:I}=iB(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:I,selectMonth:v,selectYear:y,handleYear:w}),presetDate:m,toggleYearPicker:k=>b(0,k)}),(k,R)=>(ee(),Ue(jf,{"multi-calendars":ae(d).count,collapse:k.collapse,stretch:""},{default:ze(({instance:D})=>[k.$slots["top-extra"]?De(k.$slots,"top-extra",{key:0,value:k.internalModelValue}):ge("",!0),k.$slots["month-year"]?De(k.$slots,"month-year",dn(sn({key:1},{year:ae(u),months:ae(a)(D),years:ae(l)(D),selectMonth:ae(v),selectYear:ae(y),instance:D}))):(ee(),Ue(Nu,{key:2,items:ae(a)(D),"arrow-navigation":k.arrowNavigation,"is-last":k.autoApply&&!ae(f).keepActionRow,"esc-close":k.escClose,height:ae(f).modeHeight,config:k.config,"no-overlay-focus":!!(k.noOverlayFocus||k.textInput),"use-relative":"",type:"month",onSelected:S=>ae(v)(S,D),onHoverValue:S=>ae(_)(S,D)},Ln({header:ze(()=>[qe(Xk,sn(k.$props,{items:ae(l)(D),instance:D,"show-year-picker":ae(h)[D],year:ae(u)(D),"is-disabled":S=>ae(c)(D,S),onHandleYear:S=>ae(w)(D,S),onYearSelect:S=>ae(g)(S,D),onToggleYearPicker:S=>ae(b)(D,S==null?void 0:S.flow,S==null?void 0:S.show)}),Ln({_:2},[Qe(ae(s),(S,T)=>({name:S,fn:ze(E=>[De(k.$slots,S,dn(Kn(E)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:ze(({item:S})=>[De(k.$slots,"month-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),oB=(t,e)=>{const{modelValue:n}=Lu(t,e),r=he(null),{defaultedHighlight:i,defaultedMultiDates:s,defaultedFilters:o,defaultedRange:a,propDates:l}=Mt(t),u=he();Et(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(u.value=nt(Te(t.startDate)))});const c=p=>Array.isArray(n.value)?n.value.some(m=>nt(m)===p):n.value?nt(n.value)===p:!1,d=p=>a.value.enabled&&Array.isArray(n.value)?Ff(n.value,r.value,h(p)):!1,f=pe(()=>ka(Kv(t.yearRange,t.locale,t.reverseYears),p=>{const m=c(p.value),_=cu(p.value,xa(l.value.minDate),xa(l.value.maxDate))||o.value.years.includes(p.value),v=d(p.value)&&!m,y=Gv(i.value,p.value);return{active:m,disabled:_,isBetween:v,highlighted:y}})),h=p=>ci(Pr(new Date),p);return{groupedYears:f,modelValue:n,focusYear:u,setHoverValue:p=>{r.value=ci(Pr(new Date),p)},selectYear:p=>{var m;if(e("update-month-year",{instance:0,year:p}),s.value.enabled)return n.value?Array.isArray(n.value)&&(((m=n.value)==null?void 0:m.map(_=>nt(_))).includes(p)?n.value=n.value.filter(_=>nt(_)!==p):n.value.push(ci(Yn(Te()),p))):n.value=[ci(Yn(Te()),p)],e("auto-apply",!0);a.value.enabled?(n.value=Xv(n,h(p),e),kn().then(()=>{Uf(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},aB=Kt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Gr},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=oB(i,r),{defaultedConfig:c}=Mt(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,f)=>(ee(),le("div",null,[d.$slots["top-extra"]?De(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):ge("",!0),d.$slots["month-year"]?De(d.$slots,"month-year",dn(sn({key:1},{years:ae(s),selectYear:ae(l)}))):(ee(),Ue(Nu,{key:2,items:ae(s),"is-last":d.autoApply&&!ae(c).keepActionRow,height:ae(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":ae(a),type:"year","use-relative":"",onSelected:ae(l),onHoverValue:ae(u)},Ln({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:h})=>[De(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),lB={key:0,class:"dp__time_input"},uB=["data-test","aria-label","onKeydown","onClick","onMousedown"],cB=A("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),dB=A("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),fB=["aria-label","disabled","data-test","onKeydown","onClick"],hB=["data-test","aria-label","onKeydown","onClick","onMousedown"],pB=A("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),mB=A("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),gB={key:0},vB=["aria-label"],yB=Kt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Gr},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Vs(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=Mt(i),{transitionName:f,showTransition:h}=Mu(l),p=Kr({hours:!1,minutes:!1,seconds:!1}),m=he("AM"),_=he(null),v=he([]),y=he();Et(()=>{r("mounted")});const b=Q=>At(new Date,{hours:Q.hours,minutes:Q.minutes,seconds:i.enableSeconds?Q.seconds:0,milliseconds:0}),g=pe(()=>Q=>F(Q,i[Q])||I(Q,i[Q])),w=pe(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),I=(Q,L)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(Q,L):!1,k=(Q,L)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const $=L?+i[`${Q}Increment`]:-+i[`${Q}Increment`],U=i[Q]+$;return!i.validateTime(Q,U)}return!1},R=pe(()=>Q=>!N(+i[Q]+ +i[`${Q}Increment`],Q)||k(Q,!0)),D=pe(()=>Q=>!N(+i[Q]-+i[`${Q}Increment`],Q)||k(Q,!1)),S=(Q,L)=>gk(At(Te(),Q),L),T=(Q,L)=>dF(At(Te(),Q),L),E=pe(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),C=pe(()=>{const Q=[{type:"hours"}];return i.enableMinutes&&Q.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Q.push({type:"",separator:!0},{type:"seconds"}),Q}),B=pe(()=>C.value.filter(Q=>!Q.separator)),M=pe(()=>Q=>{if(Q==="hours"){const L=P(+i.hours);return{text:L<10?`0${L}`:`${L}`,value:L}}return{text:i[Q]<10?`0${i[Q]}`:`${i[Q]}`,value:i[Q]}}),F=(Q,L)=>{var $;if(!i.disabledTimesConfig)return!1;const U=i.disabledTimesConfig(i.order,Q==="hours"?L:void 0);return U[Q]?!!(($=U[Q])!=null&&$.includes(L)):!0},q=(Q,L)=>L!=="hours"||m.value==="AM"?Q:Q+12,ne=Q=>{const L=i.is24?24:12,$=Q==="hours"?L:60,U=+i[`${Q}GridIncrement`],ue=Q==="hours"&&!i.is24?U:0,H=[];for(let Y=ue;Y<$;Y+=U)H.push({value:i.is24?Y:q(Y,Q),text:Y<10?`0${Y}`:`${Y}`});return Q==="hours"&&!i.is24&&H.unshift({value:m.value==="PM"?12:0,text:"12"}),ka(H,Y=>({active:!1,disabled:u.value.times[Q].includes(Y.value)||!N(Y.value,Q)||F(Q,Y.value)||I(Q,Y.value)}))},Z=Q=>Q>=0?Q:59,K=Q=>Q>=0?Q:23,N=(Q,L)=>{const $=i.minTime?b(gp(i.minTime)):null,U=i.maxTime?b(gp(i.maxTime)):null,ue=b(gp(w.value,L,L==="minutes"||L==="seconds"?Z(Q):K(Q)));return $&&U?(uu(ue,U)||Qo(ue,U))&&(Ta(ue,$)||Qo(ue,$)):$?Ta(ue,$)||Qo(ue,$):U?uu(ue,U)||Qo(ue,U):!0},V=Q=>i[`no${Q[0].toUpperCase()+Q.slice(1)}Overlay`],O=Q=>{V(Q)||(p[Q]=!p[Q],p[Q]?r("overlay-opened",Q):r("overlay-closed",Q))},G=Q=>Q==="hours"?Hi:Q==="minutes"?Rs:Ea,J=()=>{y.value&&clearTimeout(y.value)},j=(Q,L=!0,$)=>{const U=L?S:T,ue=L?+i[`${Q}Increment`]:-+i[`${Q}Increment`];N(+i[Q]+ue,Q)&&r(`update:${Q}`,G(Q)(U({[Q]:+i[Q]},{[Q]:+i[`${Q}Increment`]}))),!($!=null&&$.keyboard)&&c.value.timeArrowHoldThreshold&&(y.value=setTimeout(()=>{j(Q,L)},c.value.timeArrowHoldThreshold))},P=Q=>i.is24?Q:(Q>=12?m.value="PM":m.value="AM",vF(Q)),X=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},W=Q=>{p[Q]=!0},oe=(Q,L,$)=>{if(Q&&i.arrowNavigation){Array.isArray(v.value[L])?v.value[L][$]=Q:v.value[L]=[Q];const U=v.value.reduce((ue,H)=>H.map((Y,re)=>[...ue[re]||[],H[re]]),[]);o(i.closeTimePickerBtn),_.value&&(U[1]=U[1].concat(_.value)),s(U,i.order)}},ce=(Q,L)=>(O(Q),r(`update:${Q}`,L));return e({openChildCmp:W}),(Q,L)=>{var $;return Q.disabled?ge("",!0):(ee(),le("div",lB,[(ee(!0),le(Se,null,Qe(C.value,(U,ue)=>{var H,Y,re;return ee(),le("div",{key:ue,class:We(E.value)},[U.separator?(ee(),le(Se,{key:0},[an(" : ")],64)):(ee(),le(Se,{key:1},[A("button",{ref_for:!0,ref:ie=>oe(ie,ue,0),type:"button",class:We({dp__btn:!0,dp__inc_dec_button:!Q.timePickerInline,dp__inc_dec_button_inline:Q.timePickerInline,dp__tp_inline_btn_top:Q.timePickerInline,dp__inc_dec_button_disabled:R.value(U.type)}),"data-test":`${U.type}-time-inc-btn-${i.order}`,"aria-label":(H=ae(a))==null?void 0:H.incrementValue(U.type),tabindex:"0",onKeydown:ie=>ae(tr)(ie,()=>j(U.type,!0,{keyboard:!0}),!0),onClick:ie=>ae(c).timeArrowHoldThreshold?void 0:j(U.type,!0),onMousedown:ie=>ae(c).timeArrowHoldThreshold?j(U.type,!0):void 0,onMouseup:J},[i.timePickerInline?(ee(),le(Se,{key:1},[cB,dB],64)):(ee(),le(Se,{key:0},[Q.$slots["arrow-up"]?De(Q.$slots,"arrow-up",{key:0}):ge("",!0),Q.$slots["arrow-up"]?ge("",!0):(ee(),Ue(ae(qv),{key:1}))],64))],42,uB),A("button",{ref_for:!0,ref:ie=>oe(ie,ue,1),type:"button","aria-label":(Y=ae(a))==null?void 0:Y.openTpOverlay(U.type),class:We({dp__time_display:!0,dp__time_display_block:!Q.timePickerInline,dp__time_display_inline:Q.timePickerInline,"dp--time-invalid":g.value(U.type),"dp--time-overlay-btn":!g.value(U.type)}),disabled:V(U.type),tabindex:"0","data-test":`${U.type}-toggle-overlay-btn-${i.order}`,onKeydown:ie=>ae(tr)(ie,()=>O(U.type),!0),onClick:ie=>O(U.type)},[Q.$slots[U.type]?De(Q.$slots,U.type,{key:0,text:M.value(U.type).text,value:M.value(U.type).value}):ge("",!0),Q.$slots[U.type]?ge("",!0):(ee(),le(Se,{key:1},[an(Ie(M.value(U.type).text),1)],64))],42,fB),A("button",{ref_for:!0,ref:ie=>oe(ie,ue,2),type:"button",class:We({dp__btn:!0,dp__inc_dec_button:!Q.timePickerInline,dp__inc_dec_button_inline:Q.timePickerInline,dp__tp_inline_btn_bottom:Q.timePickerInline,dp__inc_dec_button_disabled:D.value(U.type)}),"data-test":`${U.type}-time-dec-btn-${i.order}`,"aria-label":(re=ae(a))==null?void 0:re.decrementValue(U.type),tabindex:"0",onKeydown:ie=>ae(tr)(ie,()=>j(U.type,!1,{keyboard:!0}),!0),onClick:ie=>ae(c).timeArrowHoldThreshold?void 0:j(U.type,!1),onMousedown:ie=>ae(c).timeArrowHoldThreshold?j(U.type,!1):void 0,onMouseup:J},[i.timePickerInline?(ee(),le(Se,{key:1},[pB,mB],64)):(ee(),le(Se,{key:0},[Q.$slots["arrow-down"]?De(Q.$slots,"arrow-down",{key:0}):ge("",!0),Q.$slots["arrow-down"]?ge("",!0):(ee(),Ue(ae(Hv),{key:1}))],64))],42,hB)],64))],2)}),128)),Q.is24?ge("",!0):(ee(),le("div",gB,[Q.$slots["am-pm-button"]?De(Q.$slots,"am-pm-button",{key:0,toggle:X,value:m.value}):ge("",!0),Q.$slots["am-pm-button"]?ge("",!0):(ee(),le("button",{key:1,ref_key:"amPmButton",ref:_,type:"button",class:"dp__pm_am_button",role:"button","aria-label":($=ae(a))==null?void 0:$.amPmButton,tabindex:"0",onClick:X,onKeydown:L[0]||(L[0]=U=>ae(tr)(U,()=>X(),!0))},Ie(m.value),41,vB))])),(ee(!0),le(Se,null,Qe(B.value,(U,ue)=>(ee(),Ue(Br,{key:ue,name:ae(f)(p[U.type]),css:ae(h)},{default:ze(()=>[p[U.type]?(ee(),Ue(Nu,{key:0,items:ne(U.type),"is-last":Q.autoApply&&!ae(c).keepActionRow,"esc-close":Q.escClose,type:U.type,"text-input":Q.textInput,config:Q.config,"arrow-navigation":Q.arrowNavigation,"aria-labels":Q.ariaLabels,onSelected:H=>ce(U.type,H),onToggle:H=>O(U.type),onResetFlow:L[1]||(L[1]=H=>Q.$emit("reset-flow"))},Ln({"button-icon":ze(()=>[Q.$slots["clock-icon"]?De(Q.$slots,"clock-icon",{key:0}):ge("",!0),Q.$slots["clock-icon"]?ge("",!0):(ee(),Ue(Bd(Q.timePickerInline?ae(Fa):ae(Uv)),{key:1}))]),_:2},[Q.$slots[`${U.type}-overlay-value`]?{name:"item",fn:ze(({item:H})=>[De(Q.$slots,`${U.type}-overlay-value`,{text:H.text,value:H.value})]),key:"0"}:void 0,Q.$slots[`${U.type}-overlay-header`]?{name:"header",fn:ze(()=>[De(Q.$slots,`${U.type}-overlay-header`,{toggle:()=>O(U.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ge("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),_B={class:"dp--tp-wrap"},bB=["aria-label","tabindex"],wB=["tabindex"],EB=["aria-label"],tx=Kt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Gr},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Vs(),a=Eo(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:f}=Mt(i),{transitionName:h,showTransition:p}=Mu(l),{hideNavigationButtons:m}=qf(),_=he(null),v=he(null),y=he([]),b=he(null);Et(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([nn(_.value)],"time"):o(!0,i.timePicker)});const g=pe(()=>f.value.enabled&&i.modelAuto?Fk(i.internalModelValue):!0),w=he(!1),I=q=>({hours:Array.isArray(i.hours)?i.hours[q]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[q]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[q]:i.seconds}),k=pe(()=>{const q=[];if(f.value.enabled)for(let ne=0;ne<2;ne++)q.push(I(ne));else q.push(I(0));return q}),R=(q,ne=!1,Z="")=>{ne||r("reset-flow"),w.value=q,r(q?"overlay-opened":"overlay-closed",Dn.time),i.arrowNavigation&&o(q),kn(()=>{Z!==""&&y.value[0]&&y.value[0].openChildCmp(Z)})},D=pe(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),S=fr(a,"timePicker"),T=(q,ne,Z)=>f.value.enabled?ne===0?[q,k.value[1][Z]]:[k.value[0][Z],q]:q,E=q=>{r("update:hours",q)},C=q=>{r("update:minutes",q)},B=q=>{r("update:seconds",q)},M=()=>{if(b.value&&!c.value.enabled&&!i.noOverlayFocus){const q=Bk(b.value);q&&q.focus({preventScroll:!0})}},F=q=>{r("overlay-closed",q)};return e({toggleTimePicker:R}),(q,ne)=>{var Z;return ee(),le("div",_B,[!q.timePicker&&!q.timePickerInline?bt((ee(),le("button",{key:0,ref_key:"openTimePickerBtn",ref:_,type:"button",class:We(D.value),"aria-label":(Z=ae(u))==null?void 0:Z.openTimePicker,tabindex:q.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:ne[0]||(ne[0]=K=>ae(tr)(K,()=>R(!0))),onClick:ne[1]||(ne[1]=K=>R(!0))},[q.$slots["clock-icon"]?De(q.$slots,"clock-icon",{key:0}):ge("",!0),q.$slots["clock-icon"]?ge("",!0):(ee(),Ue(ae(Uv),{key:1}))],42,bB)),[[El,!ae(m)(q.hideNavigation,"time")]]):ge("",!0),qe(Br,{name:ae(h)(w.value),css:ae(p)&&!q.timePickerInline},{default:ze(()=>{var K;return[w.value||q.timePicker||q.timePickerInline?(ee(),le("div",{key:0,ref_key:"overlayRef",ref:b,class:We({dp__overlay:!q.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!q.timePickerInline,"dp--overlay-relative":i.timePicker}),style:cn(q.timePicker?{height:`${ae(d).modeHeight}px`}:void 0),tabindex:q.timePickerInline?void 0:0},[A("div",{class:We(q.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[q.$slots["time-picker-overlay"]?De(q.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:E,setMinutes:C,setSeconds:B}):ge("",!0),q.$slots["time-picker-overlay"]?ge("",!0):(ee(),le("div",{key:1,class:We(q.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ee(!0),le(Se,null,Qe(k.value,(N,V)=>bt((ee(),Ue(yB,sn({key:V,ref_for:!0},{...q.$props,order:V,hours:N.hours,minutes:N.minutes,seconds:N.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:V===0?q.fixedStart:q.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(O,G)=>t.validateTime(O,T(G,V,O)),"onUpdate:hours":O=>E(T(O,V,"hours")),"onUpdate:minutes":O=>C(T(O,V,"minutes")),"onUpdate:seconds":O=>B(T(O,V,"seconds")),onMounted:M,onOverlayClosed:F,onOverlayOpened:ne[2]||(ne[2]=O=>q.$emit("overlay-opened",O)),onAmPmChange:ne[3]||(ne[3]=O=>q.$emit("am-pm-change",O))}),Ln({_:2},[Qe(ae(S),(O,G)=>({name:O,fn:ze(J=>[De(q.$slots,O,sn({ref_for:!0},J))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[El,V===0?!0:g.value]])),128))],2)),!q.timePicker&&!q.timePickerInline?bt((ee(),le("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:We(D.value),"aria-label":(K=ae(u))==null?void 0:K.closeTimePicker,tabindex:"0",onKeydown:ne[4]||(ne[4]=N=>ae(tr)(N,()=>R(!1))),onClick:ne[5]||(ne[5]=N=>R(!1))},[q.$slots["calendar-icon"]?De(q.$slots,"calendar-icon",{key:0}):ge("",!0),q.$slots["calendar-icon"]?ge("",!0):(ee(),Ue(ae(Fa),{key:1}))],42,EB)),[[El,!ae(m)(q.hideNavigation,"time")]]):ge("",!0)],2)],14,wB)):ge("",!0)]}),_:3},8,["name","css"])])}}}),nx=(t,e,n,r)=>{const{defaultedRange:i}=Mt(t),s=(b,g)=>Array.isArray(e[b])?e[b][g]:e[b],o=b=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[b]:e.seconds:0,a=(b,g)=>b?g!==void 0?Es(b,s("hours",g),s("minutes",g),o(g)):Es(b,e.hours,e.minutes,o()):Mk(Te(),o(g)),l=(b,g)=>{e[b]=g},u=pe(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),c=(b,g)=>{const w=Object.fromEntries(Object.keys(e).map(I=>I===b?[I,g]:[I,e[I]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const I=R=>n.value?Es(n.value[R],w.hours[R],w.minutes[R],w.seconds[R]):null,k=R=>Nk(n.value[R],0);return!(st(I(0),I(1))&&(Ta(I(0),k(1))||uu(I(1),k(0))))}return!0},d=(b,g)=>{c(b,g)&&(l(b,g),r&&r())},f=b=>{d("hours",b)},h=b=>{d("minutes",b)},p=b=>{d("seconds",b)},m=(b,g,w,I)=>{g&&f(b),!g&&!w&&h(b),w&&p(b),n.value&&I(n.value)},_=b=>{if(b){const g=Array.isArray(b),w=g?[+b[0].hours,+b[1].hours]:+b.hours,I=g?[+b[0].minutes,+b[1].minutes]:+b.minutes,k=g?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",w),l("minutes",I),t.enableSeconds&&l("seconds",k)}},v=(b,g)=>{const w={hours:Array.isArray(e.hours)?e.hours[b]:e.hours,disabledArr:[]};return(g||g===0)&&(w.hours=g),Array.isArray(t.disabledTimes)&&(w.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),w},y=pe(()=>(b,g)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:I,hours:k}=v(b,g),R=I.filter(D=>+D.hours===k);return((w=R[0])==null?void 0:w.minutes)==="*"?{hours:[k],minutes:void 0,seconds:void 0}:{hours:[],minutes:(R==null?void 0:R.map(D=>+D.minutes))??[],seconds:(R==null?void 0:R.map(D=>D.seconds?+D.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:f,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:m,getSecondsValue:o,assignStartTime:_,validateTime:c,disabledTimesConfig:y}},TB=(t,e)=>{const{modelValue:n,time:r}=Lu(t,e),{defaultedStartTime:i,defaultedRange:s}=Mt(t),{updateTimeValues:o,getSetDateTime:a,setTime:l,assignStartTime:u,disabledTimesConfig:c,validateTime:d}=nx(t,r,n,f);function f(){e("update-flow-step")}const h=g=>{const{hours:w,minutes:I,seconds:k}=g;return{hours:+w,minutes:+I,seconds:k?+k:0}},p=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),I=h(t.startTime[1]);return[At(Te(),w),At(Te(),I)]}const g=h(t.startTime);return At(Te(),g)}return s.value.enabled?[null,null]:null},m=()=>{if(s.value.enabled){const[g,w]=p();n.value=[a(g,0),a(w,1)]}else n.value=a(p())},_=g=>Array.isArray(g)?[lo(Te(g[0])),lo(Te(g[1]))]:[lo(g??Te())],v=(g,w,I)=>{l("hours",g),l("minutes",w),l("seconds",t.enableSeconds?I:0)},y=()=>{const[g,w]=_(n.value);return s.value.enabled?v([g.hours,w.hours],[g.minutes,w.minutes],[g.seconds,w.seconds]):v(g.hours,g.minutes,g.seconds)};Et(()=>{if(!t.shadow)return u(i.value),n.value?y():m()});const b=()=>{Array.isArray(n.value)?n.value=n.value.map((g,w)=>g&&a(g,w)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:c,updateTime:(g,w=!0,I=!1)=>{o(g,w,I,b)},validateTime:d}},AB=Kt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Gr},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Eo(),o=fr(s,"timePicker"),a=he(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:d,validateTime:f}=TB(i,r);return Et(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:u,time:l,updateTime:d}),toggleTimePicker:(h,p=!1,m="")=>{var _;(_=a.value)==null||_.toggleTimePicker(h,p,m)}}),(h,p)=>(ee(),Ue(jf,{"multi-calendars":0,stretch:""},{default:ze(()=>[qe(tx,sn({ref_key:"tpRef",ref:a},h.$props,{hours:ae(l).hours,minutes:ae(l).minutes,seconds:ae(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":ae(c),"validate-time":ae(f),"onUpdate:hours":p[0]||(p[0]=m=>ae(d)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>ae(d)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>ae(d)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m)),onResetFlow:p[4]||(p[4]=m=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=m=>h.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:p[6]||(p[6]=m=>h.$emit("overlay-toggle",{open:!0,overlay:m}))}),Ln({_:2},[Qe(ae(o),(m,_)=>({name:m,fn:ze(v=>[De(h.$slots,m,dn(Kn(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),kB={class:"dp--header-wrap"},xB={key:0,class:"dp__month_year_wrap"},IB={key:0},SB={class:"dp__month_year_wrap"},RB=["aria-label","data-test","onClick","onKeydown"],OB=Kt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Gr},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d}=Mt(i),{transitionName:f,showTransition:h}=Mu(s),{buildMatrix:p}=Vs(),{handleMonthYearChange:m,isDisabled:_,updateMonthYear:v}=YF(i,r),{showLeftIcon:y,showRightIcon:b}=qf(),g=he(!1),w=he(!1),I=he([null,null,null,null]);Et(()=>{r("mount")});const k=N=>({get:()=>i[N],set:V=>{const O=N===Rr.month?Rr.year:Rr.month;r("update-month-year",{[N]:V,[O]:i[O]}),N===Rr.month?M(!0):F(!0)}}),R=pe(k(Rr.month)),D=pe(k(Rr.year)),S=pe(()=>N=>({month:i.month,year:i.year,items:N===Rr.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:N===Rr.month?M:F})),T=pe(()=>i.months.find(V=>V.value===i.month)||{text:"",value:0}),E=pe(()=>ka(i.months,N=>{const V=i.month===N.value,O=cu(N.value,Uk(i.year,d.value.minDate),qk(i.year,d.value.maxDate))||l.value.months.includes(N.value),G=Yk(c.value,N.value,i.year);return{active:V,disabled:O,highlighted:G}})),C=pe(()=>ka(i.years,N=>{const V=i.year===N.value,O=cu(N.value,xa(d.value.minDate),xa(d.value.maxDate))||l.value.years.includes(N.value),G=Gv(c.value,N.value);return{active:V,disabled:O,highlighted:G}})),B=(N,V,O)=>{O!==void 0?N.value=O:N.value=!N.value,N.value?r("overlay-opened",V):r("overlay-closed",V)},M=(N=!1,V)=>{q(N),B(g,Dn.month,V)},F=(N=!1,V)=>{q(N),B(w,Dn.year,V)},q=N=>{N||r("reset-flow")},ne=(N,V)=>{i.arrowNavigation&&(I.value[V]=nn(N),p(I.value,"monthYear"))},Z=pe(()=>{var N,V;return[{type:Rr.month,index:1,toggle:M,modelValue:R.value,updateModelValue:O=>R.value=O,text:T.value.text,showSelectionGrid:g.value,items:E.value,ariaLabel:(N=o.value)==null?void 0:N.openMonthsOverlay},{type:Rr.year,index:2,toggle:F,modelValue:D.value,updateModelValue:O=>D.value=O,text:jk(i.year,i.locale),showSelectionGrid:w.value,items:C.value,ariaLabel:(V=o.value)==null?void 0:V.openYearsOverlay}]}),K=pe(()=>i.disableYearSelect?[Z.value[0]]:i.yearFirst?[...Z.value].reverse():Z.value);return e({toggleMonthPicker:M,toggleYearPicker:F,handleMonthYearChange:m}),(N,V)=>{var O,G,J;return ee(),le("div",kB,[N.$slots["month-year"]?(ee(),le("div",xB,[De(N.$slots,"month-year",dn(Kn({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:ae(v),handleMonthYearChange:ae(m),instance:t.instance})))])):(ee(),le(Se,{key:1},[N.$slots["top-extra"]?(ee(),le("div",IB,[De(N.$slots,"top-extra",{value:N.internalModelValue})])):ge("",!0),A("div",SB,[ae(y)(ae(a),t.instance)&&!N.vertical?(ee(),Ue(Dl,{key:0,"aria-label":(O=ae(o))==null?void 0:O.prevMonth,disabled:ae(_)(!1),onActivate:V[0]||(V[0]=j=>ae(m)(!1,!0)),onSetRef:V[1]||(V[1]=j=>ne(j,0))},{default:ze(()=>[N.$slots["arrow-left"]?De(N.$slots,"arrow-left",{key:0}):ge("",!0),N.$slots["arrow-left"]?ge("",!0):(ee(),Ue(ae(Bv),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),A("div",{class:We(["dp__month_year_wrap",{dp__year_disable_select:N.disableYearSelect}])},[(ee(!0),le(Se,null,Qe(K.value,(j,P)=>(ee(),le(Se,{key:j.type},[A("button",{ref_for:!0,ref:X=>ne(X,P+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":j.ariaLabel,"data-test":`${j.type}-toggle-overlay-${t.instance}`,onClick:j.toggle,onKeydown:X=>ae(tr)(X,()=>j.toggle(),!0)},[N.$slots[j.type]?De(N.$slots,j.type,{key:0,text:j.text,value:i[j.type]}):ge("",!0),N.$slots[j.type]?ge("",!0):(ee(),le(Se,{key:1},[an(Ie(j.text),1)],64))],40,RB),qe(Br,{name:ae(f)(j.showSelectionGrid),css:ae(h)},{default:ze(()=>[j.showSelectionGrid?(ee(),Ue(Nu,{key:0,items:j.items,"arrow-navigation":N.arrowNavigation,"hide-navigation":N.hideNavigation,"is-last":N.autoApply&&!ae(u).keepActionRow,"skip-button-ref":!1,config:N.config,type:j.type,"header-refs":[],"esc-close":N.escClose,"menu-wrap-ref":N.menuWrapRef,"text-input":N.textInput,"aria-labels":N.ariaLabels,onSelected:j.updateModelValue,onToggle:j.toggle},Ln({"button-icon":ze(()=>[N.$slots["calendar-icon"]?De(N.$slots,"calendar-icon",{key:0}):ge("",!0),N.$slots["calendar-icon"]?ge("",!0):(ee(),Ue(ae(Fa),{key:1}))]),_:2},[N.$slots[`${j.type}-overlay-value`]?{name:"item",fn:ze(({item:X})=>[De(N.$slots,`${j.type}-overlay-value`,{text:X.text,value:X.value})]),key:"0"}:void 0,N.$slots[`${j.type}-overlay`]?{name:"overlay",fn:ze(()=>[De(N.$slots,`${j.type}-overlay`,sn({ref_for:!0},S.value(j.type)))]),key:"1"}:void 0,N.$slots[`${j.type}-overlay-header`]?{name:"header",fn:ze(()=>[De(N.$slots,`${j.type}-overlay-header`,{toggle:j.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ge("",!0)]),_:2},1032,["name","css"])],64))),128))],2),ae(y)(ae(a),t.instance)&&N.vertical?(ee(),Ue(Dl,{key:1,"aria-label":(G=ae(o))==null?void 0:G.prevMonth,disabled:ae(_)(!1),onActivate:V[2]||(V[2]=j=>ae(m)(!1,!0))},{default:ze(()=>[N.$slots["arrow-up"]?De(N.$slots,"arrow-up",{key:0}):ge("",!0),N.$slots["arrow-up"]?ge("",!0):(ee(),Ue(ae(qv),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),ae(b)(ae(a),t.instance)?(ee(),Ue(Dl,{key:2,ref:"rightIcon",disabled:ae(_)(!0),"aria-label":(J=ae(o))==null?void 0:J.nextMonth,onActivate:V[3]||(V[3]=j=>ae(m)(!0,!0)),onSetRef:V[4]||(V[4]=j=>ne(j,N.disableYearSelect?2:3))},{default:ze(()=>[N.$slots[N.vertical?"arrow-down":"arrow-right"]?De(N.$slots,N.vertical?"arrow-down":"arrow-right",{key:0}):ge("",!0),N.$slots[N.vertical?"arrow-down":"arrow-right"]?ge("",!0):(ee(),Ue(Bd(N.vertical?ae(Hv):ae(jv)),{key:1}))]),_:3},8,["disabled","aria-label"])):ge("",!0)])],64))])}}}),PB=["aria-label"],CB={class:"dp__calendar_header",role:"row"},DB={key:0,class:"dp__calendar_header_item",role:"gridcell"},NB=["aria-label"],MB=A("div",{class:"dp__calendar_header_separator"},null,-1),LB=["aria-label"],$B={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},VB={class:"dp__cell_inner"},FB=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],BB=Kt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Gr},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Vs(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d}=Mt(i),f=he(null),h=he({bottom:"",left:"",transform:""}),p=he([]),m=he(null),_=he(!0),v=he(""),y=he({startX:0,endX:0,startY:0,endY:0}),b=he([]),g=he({left:"50%"}),w=he(!1),I=pe(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),k=pe(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):gF(i.formatLocale,i.locale,+i.weekStart));Et(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",ne,{passive:!1}),m.value.addEventListener("touchend",Z,{passive:!1}),m.value.addEventListener("touchmove",K,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",O,{passive:!1})});const R=W=>W?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",D=(W,oe)=>{if(i.transitions){const ce=Yn(Ni(Te(),i.month,i.year));v.value=qt(Yn(Ni(Te(),W,oe)),ce)?o.value[R(!0)]:o.value[R(!1)],_.value=!1,kn(()=>{_.value=!0})}},S=pe(()=>({[i.calendarClassName]:!!i.calendarClassName})),T=pe(()=>W=>{const oe=yF(W);return{dp__marker_dot:oe.type==="dot",dp__marker_line:oe.type==="line"}}),E=pe(()=>W=>st(W,f.value)),C=pe(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),B=pe(()=>W=>i.hideOffsetDates?W.current:!0),M=async(W,oe,ce)=>{const Q=nn(p.value[oe][ce]);if(Q){const{width:L,height:$}=Q.getBoundingClientRect();f.value=W.value;let U={left:`${L/2}px`},ue=-50;if(await kn(),b.value[0]){const{left:H,width:Y}=b.value[0].getBoundingClientRect();H<0&&(U={left:"0"},ue=0,g.value.left=`${L/2}px`),window.innerWidth<H+Y&&(U={right:"0"},ue=0,g.value.left=`${Y-L/2}px`)}h.value={bottom:`${$}px`,...U,transform:`translateX(${ue}%)`},r("tooltip-open",W.marker)}},F=async(W,oe,ce)=>{var Q,L;if(w.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",W);r("set-hover-date",W),(L=(Q=W.marker)==null?void 0:Q.tooltip)!=null&&L.length&&await M(W,oe,ce)},q=W=>{f.value&&(f.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",W.marker))},ne=W=>{y.value.startX=W.changedTouches[0].screenX,y.value.startY=W.changedTouches[0].screenY},Z=W=>{y.value.endX=W.changedTouches[0].screenX,y.value.endY=W.changedTouches[0].screenY,N()},K=W=>{i.vertical&&!i.inline&&W.preventDefault()},N=()=>{const W=i.vertical?"Y":"X";Math.abs(y.value[`start${W}`]-y.value[`end${W}`])>10&&r("handle-swipe",y.value[`start${W}`]>y.value[`end${W}`]?"right":"left")},V=(W,oe,ce)=>{W&&(Array.isArray(p.value[oe])?p.value[oe][ce]=W:p.value[oe]=[W]),i.arrowNavigation&&s(p.value,"calendar")},O=W=>{i.monthChangeOnScroll&&(W.preventDefault(),r("handle-scroll",W))},G=W=>c.value.type==="local"?$v(W.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Mv(W.value):typeof c.value.type=="function"?c.value.type(W.value):"",J=W=>{const oe=W[0];return c.value.hideOnOffsetDates?W.some(ce=>ce.current)?G(oe):"":G(oe)},j=(W,oe)=>{d.value.enabled||(ws(W,a.value),r("select-date",oe))},P=W=>{ws(W,a.value)},X=W=>{d.value.enabled&&d.value.dragSelect?(w.value=!0,r("select-date",W)):d.value.enabled&&r("select-date",W)};return e({triggerTransition:D}),(W,oe)=>{var ce;return ee(),le("div",{class:We(C.value)},[A("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:We(S.value),"aria-label":(ce=ae(l))==null?void 0:ce.calendarWrap},[A("div",CB,[W.weekNumbers?(ee(),le("div",DB,Ie(W.weekNumName),1)):ge("",!0),(ee(!0),le(Se,null,Qe(k.value,(Q,L)=>{var $,U;return ee(),le("div",{key:L,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(U=($=ae(l))==null?void 0:$.weekDay)==null?void 0:U.call($,L)},[W.$slots["calendar-header"]?De(W.$slots,"calendar-header",{key:0,day:Q,index:L}):ge("",!0),W.$slots["calendar-header"]?ge("",!0):(ee(),le(Se,{key:1},[an(Ie(Q),1)],64))],8,NB)}),128))]),MB,qe(Br,{name:v.value,css:!!W.transitions},{default:ze(()=>{var Q;return[_.value?(ee(),le("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Q=ae(l))==null?void 0:Q.calendarDays)||void 0,onMouseleave:oe[1]||(oe[1]=L=>w.value=!1)},[(ee(!0),le(Se,null,Qe(I.value,(L,$)=>(ee(),le("div",{key:$,class:"dp__calendar_row",role:"row"},[W.weekNumbers?(ee(),le("div",$B,[A("div",VB,Ie(J(L.days)),1)])):ge("",!0),(ee(!0),le(Se,null,Qe(L.days,(U,ue)=>{var H,Y,re;return ee(),le("div",{id:ae(Gk)(U.value),ref_for:!0,ref:ie=>V(ie,$,ue),key:ue+$,role:"gridcell",class:"dp__calendar_item","aria-selected":(U.classData.dp__active_date||U.classData.dp__range_start||U.classData.dp__range_start)??void 0,"aria-disabled":U.classData.dp__cell_disabled||void 0,"aria-label":(Y=(H=ae(l))==null?void 0:H.day)==null?void 0:Y.call(H,U),tabindex:"0","data-test":U.value,onClick:Ar(ie=>j(ie,U),["prevent"]),onKeydown:ie=>ae(tr)(ie,()=>W.$emit("select-date",U)),onMouseenter:ie=>F(U,$,ue),onMouseleave:ie=>q(U),onMousedown:ie=>X(U),onMouseup:oe[0]||(oe[0]=ie=>w.value=!1)},[A("div",{class:We(["dp__cell_inner",U.classData])},[W.$slots.day&&B.value(U)?De(W.$slots,"day",{key:0,day:+U.text,date:U.value}):ge("",!0),W.$slots.day?ge("",!0):(ee(),le(Se,{key:1},[an(Ie(U.text),1)],64)),U.marker&&B.value(U)?(ee(),le(Se,{key:2},[W.$slots.marker?De(W.$slots,"marker",{key:0,marker:U.marker,day:+U.text,date:U.value}):(ee(),le("div",{key:1,class:We(T.value(U.marker)),style:cn(U.marker.color?{backgroundColor:U.marker.color}:{})},null,6))],64)):ge("",!0),E.value(U.value)?(ee(),le("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:cn(h.value)},[(re=U.marker)!=null&&re.tooltip?(ee(),le("div",{key:0,class:"dp__tooltip_content",onClick:P},[(ee(!0),le(Se,null,Qe(U.marker.tooltip,(ie,fe)=>(ee(),le("div",{key:fe,class:"dp__tooltip_text"},[W.$slots["marker-tooltip"]?De(W.$slots,"marker-tooltip",{key:0,tooltip:ie,day:U.value}):ge("",!0),W.$slots["marker-tooltip"]?ge("",!0):(ee(),le(Se,{key:1},[A("div",{class:"dp__tooltip_mark",style:cn(ie.color?{backgroundColor:ie.color}:{})},null,4),A("div",null,Ie(ie.text),1)],64))]))),128)),A("div",{class:"dp__arrow_bottom_tp",style:cn(g.value)},null,4)])):ge("",!0)],4)):ge("",!0)],2)],40,FB)}),128))]))),128))],40,LB)):ge("",!0)]}),_:3},8,["name","css"])],10,PB)],2)}}}),yb=t=>Array.isArray(t),jB=(t,e,n,r)=>{const i=he([]),s=he(new Date),o=he(),{modelValue:a,calendars:l,time:u,today:c}=Lu(t,e),{defaultedMultiCalendars:d,defaultedStartTime:f,defaultedRange:h,defaultedConfig:p,defaultedTz:m,propDates:_,defaultedMultiDates:v}=Mt(t),{validateMonthYearInRange:y,isDisabled:b,isDateRangeAllowed:g,checkMinMaxRange:w}=Fs(t),{updateTimeValues:I,getSetDateTime:k,setTime:R,assignStartTime:D,validateTime:S,disabledTimesConfig:T}=nx(t,u,a,r),E=pe(()=>de=>l.value[de]?l.value[de].month:0),C=pe(()=>de=>l.value[de]?l.value[de].year:0),B=de=>!p.value.keepViewOnOffsetClick||de?!0:!o.value,M=(de,we,me,ke=!1)=>{var Re,jt;B(ke)&&(l.value[de]||(l.value[de]={month:0,year:0}),l.value[de].month=hb(we)?(Re=l.value[de])==null?void 0:Re.month:we,l.value[de].year=hb(me)?(jt=l.value[de])==null?void 0:jt.year:me)},F=()=>{t.autoApply&&e("select-date")};Xt(a,(de,we)=>{JSON.stringify(de)!==JSON.stringify(we)&&Z()},{deep:!0}),Et(()=>{t.shadow||(a.value||(oe(),f.value&&D(f.value)),Z(!0),t.focusStartDate&&t.startDate&&oe())});const q=pe(()=>{var de;return(de=t.flow)!=null&&de.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),ne=()=>{t.autoApply&&q.value&&e("auto-apply")},Z=(de=!1)=>{if(a.value)return Array.isArray(a.value)?(i.value=a.value,j(de)):V(a.value,de);if(d.value.count&&de&&!t.startDate)return N(Te(),de)},K=()=>Array.isArray(a.value)&&h.value.enabled?it(a.value[0])===it(a.value[1]??a.value[0]):!1,N=(de,we=!1)=>{if((!d.value.count||!d.value.static||we)&&M(0,it(de),nt(de)),d.value.count&&(!d.value.solo||!a.value||K()))for(let me=1;me<d.value.count;me++){const ke=At(Te(),{month:E.value(me-1),year:C.value(me-1)}),Re=gk(ke,{months:1});l.value[me]={month:it(Re),year:nt(Re)}}},V=(de,we)=>{N(de),R("hours",Hi(de)),R("minutes",Rs(de)),R("seconds",Ea(de)),d.value.count&&we&&W()},O=de=>{if(d.value.count){if(d.value.solo)return 0;const we=it(de[0]),me=it(de[1]);return Math.abs(me-we)<d.value.count?0:1}return 1},G=(de,we)=>{de[1]&&h.value.showLastInRange?N(de[O(de)],we):N(de[0],we);const me=(ke,Re)=>[ke(de[0]),de[1]?ke(de[1]):u[Re][1]];R("hours",me(Hi,"hours")),R("minutes",me(Rs,"minutes")),R("seconds",me(Ea,"seconds"))},J=(de,we)=>{if((h.value.enabled||t.weekPicker)&&!v.value.enabled)return G(de,we);if(v.value.enabled&&we){const me=de[de.length-1];return V(me,we)}},j=de=>{const we=a.value;J(we,de),d.value.count&&d.value.solo&&W()},P=(de,we)=>{const me=At(Te(),{month:E.value(we),year:C.value(we)}),ke=de<0?$r(me,1):Aa(me,1);y(it(ke),nt(ke),de<0,t.preventMinMaxNavigation)&&(M(we,it(ke),nt(ke)),e("update-month-year",{instance:we,month:it(ke),year:nt(ke)}),d.value.count&&!d.value.solo&&X(we),n())},X=de=>{for(let we=de-1;we>=0;we--){const me=Aa(At(Te(),{month:E.value(we+1),year:C.value(we+1)}),1);M(we,it(me),nt(me))}for(let we=de+1;we<=d.value.count-1;we++){const me=$r(At(Te(),{month:E.value(we-1),year:C.value(we-1)}),1);M(we,it(me),nt(me))}},W=()=>{if(Array.isArray(a.value)&&a.value.length===2){const de=Te(Te(a.value[1]?a.value[1]:$r(a.value[0],1))),[we,me]=[it(a.value[0]),nt(a.value[0])],[ke,Re]=[it(a.value[1]),nt(a.value[1])];(we!==ke||we===ke&&me!==Re)&&d.value.solo&&M(1,it(de),nt(de))}else a.value&&!Array.isArray(a.value)&&(M(0,it(a.value),nt(a.value)),N(Te()))},oe=()=>{t.startDate&&(M(0,it(Te(t.startDate)),nt(Te(t.startDate))),d.value.count&&X(0))},ce=(de,we)=>{if(t.monthChangeOnScroll){const me=new Date().getTime()-s.value.getTime(),ke=Math.abs(de.deltaY);let Re=500;ke>1&&(Re=100),ke>100&&(Re=0),me>Re&&(s.value=new Date,P(t.monthChangeOnScroll!=="inverse"?-de.deltaY:de.deltaY,we))}},Q=(de,we,me=!1)=>{t.monthChangeOnArrows&&t.vertical===me&&L(de,we)},L=(de,we)=>{P(de==="right"?-1:1,we)},$=de=>{if(_.value.markers)return xd(de.value,_.value.markers)},U=(de,we)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[de==0,!0];case"fair":return[de==0||we>de,!0];case"append":return[!1,!1];default:return[!1,!1]}},ue=(de,we,me,ke)=>{if(t.sixWeeks&&de.length<6){const Re=6-de.length,jt=(we.getDay()+7-ke)%7,Wt=6-(me.getDay()+7-ke)%7,[lr,vr]=U(jt,Wt);for(let Ir=1;Ir<=Re;Ir++)if(vr?!!(Ir%2)==lr:lr){const Gn=de[0].days[0],Ei=H(Or(Gn.value,-7),it(we));de.unshift({days:Ei})}else{const Gn=de[de.length-1],Ei=Gn.days[Gn.days.length-1],Jr=H(Or(Ei.value,1),it(we));de.push({days:Jr})}}return de},H=(de,we)=>{const me=Te(de),ke=[];for(let Re=0;Re<7;Re++){const jt=Or(me,Re),Wt=it(jt)!==we;ke.push({text:t.hideOffsetDates&&Wt?"":jt.getDate(),value:jt,current:!Wt,classData:{}})}return ke},Y=(de,we)=>{const me=[],ke=new Date(we,de),Re=new Date(we,de+1,0),jt=t.weekStart,Wt=zr(ke,{weekStartsOn:jt}),lr=vr=>{const Ir=H(vr,de);if(me.push({days:Ir}),!me[me.length-1].days.some(Gn=>st(Yn(Gn.value),Yn(Re)))){const Gn=Or(vr,7);lr(Gn)}};return lr(Wt),ue(me,ke,Re,jt)},re=de=>{const we=Es(Te(de.value),u.hours,u.minutes,Oe());e("date-update",we),v.value.enabled?Qv(we,a,v.value.limit):a.value=we,r(),kn().then(()=>{ne()})},ie=de=>h.value.noDisabledRange?Hk(i.value[0],de).some(we=>b(we)):!1,fe=()=>{i.value=a.value?a.value.slice():[],i.value.length===2&&!(h.value.fixedStart||h.value.fixedEnd)&&(i.value=[])},te=(de,we)=>{const me=[Te(de.value),Or(Te(de.value),+h.value.autoRange)];g(me)?(we&&_e(de.value),i.value=me):e("invalid-date",de.value)},_e=de=>{const we=it(Te(de)),me=nt(Te(de));if(M(0,we,me),d.value.count>0)for(let ke=1;ke<d.value.count;ke++){const Re=xF(At(Te(de),{year:E.value(ke-1),month:C.value(ke-1)}));M(ke,Re.month,Re.year)}},be=de=>{if(ie(de.value)||!w(de.value,a.value,h.value.fixedStart?0:1))return e("invalid-date",de.value);i.value=Zk(Te(de.value),a,e,h)},Ee=(de,we)=>{if(fe(),h.value.autoRange)return te(de,we);if(h.value.fixedStart||h.value.fixedEnd)return be(de);i.value[0]?w(Te(de.value),a.value)&&!ie(de.value)?Lt(Te(de.value),Te(i.value[0]))?(i.value.unshift(Te(de.value)),e("range-end",i.value[0])):(i.value[1]=Te(de.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",de.value),e("invalid-date",de.value)):(i.value[0]=Te(de.value),e("range-start",i.value[0]))},Oe=(de=!0)=>t.enableSeconds?Array.isArray(u.seconds)?de?u.seconds[0]:u.seconds[1]:u.seconds:0,Le=de=>{i.value[de]=Es(i.value[de],u.hours[de],u.minutes[de],Oe(de!==1))},Ne=()=>{var de,we;i.value[0]&&i.value[1]&&+((de=i.value)==null?void 0:de[0])>+((we=i.value)==null?void 0:we[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},rt=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Le(0):(Le(0),Le(1),r()),Ne(),a.value=i.value.slice(),Uf(i.value,e,t.autoApply,t.modelAuto))},Ve=(de,we=!1)=>{if(b(de.value)||!de.current&&t.hideOffsetDates)return e("invalid-date",de.value);if(o.value=JSON.parse(JSON.stringify(de)),!h.value.enabled)return re(de);yb(u.hours)&&yb(u.minutes)&&!v.value.enabled&&(Ee(de,we),rt())},vt=(de,we)=>{var me;M(de,we.month,we.year,!0),d.value.count&&!d.value.solo&&X(de),e("update-month-year",{instance:de,month:we.month,year:we.year}),n(d.value.solo?de:void 0);const ke=(me=t.flow)!=null&&me.length?t.flow[t.flowStep]:void 0;!we.fromNav&&(ke===Dn.month||ke===Dn.year)&&r()},Bn=(de,we)=>{Jk({value:de,modelValue:a,range:h.value.enabled,timezone:we?void 0:m.value.timezone}),F(),t.multiCalendars&&kn().then(()=>Z(!0))},Xr=()=>{const de=zv(Te(),m.value);h.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Lt(de,a.value[0])?[de,a.value[0]]:[a.value[0],de]:a.value=[de]:a.value=de,F()},jn=()=>{if(Array.isArray(a.value))if(v.value.enabled){const de=ar();a.value[a.value.length-1]=k(de)}else a.value=a.value.map((de,we)=>de&&k(de,we));else a.value=k(a.value);e("time-update")},ar=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:l,modelValue:a,month:E,year:C,time:u,disabledTimesConfig:T,today:c,validateTime:S,getCalendarDays:Y,getMarker:$,handleScroll:ce,handleSwipe:L,handleArrow:Q,selectDate:Ve,updateMonthYear:vt,presetDate:Bn,selectCurrentDate:Xr,updateTime:(de,we=!0,me=!1)=>{I(de,we,me,jn)}}},UB={key:0},qB=Kt({__name:"DatePicker",props:{...Gr},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,today:d,validateTime:f,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:_,handleSwipe:v,selectDate:y,updateMonthYear:b,presetDate:g,selectCurrentDate:w,updateTime:I}=jB(i,r,K,N),k=Eo(),{setHoverDate:R,getDayClassData:D,clearHoverDate:S}=sj(l,i),{defaultedMultiCalendars:T}=Mt(i),E=he([]),C=he([]),B=he(null),M=fr(k,"calendar"),F=fr(k,"monthYear"),q=fr(k,"timePicker"),ne=ce=>{i.shadow||r("mount",ce)};Xt(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const Z=pe(()=>ce=>h(o.value(ce),a.value(ce)).map(Q=>({...Q,days:Q.days.map(L=>(L.marker=p(L),L.classData=D(L),L))})));function K(ce){var Q;ce||ce===0?(Q=C.value[ce])==null||Q.triggerTransition(o.value(ce),a.value(ce)):C.value.forEach((L,$)=>L.triggerTransition(o.value($),a.value($)))}function N(){r("update-flow-step")}const V=(ce,Q=!1)=>{y(ce,Q),i.spaceConfirm&&r("select-date")},O=(ce,Q,L=0)=>{var $;($=E.value[L])==null||$.toggleMonthPicker(ce,Q)},G=(ce,Q,L=0)=>{var $;($=E.value[L])==null||$.toggleYearPicker(ce,Q)},J=(ce,Q,L)=>{var $;($=B.value)==null||$.toggleTimePicker(ce,Q,L)},j=(ce,Q)=>{var L;if(!i.range){const $=l.value?l.value:d,U=Q?new Date(Q):$,ue=ce?zr(U,{weekStartsOn:1}):Ak(U,{weekStartsOn:1});y({value:ue,current:it(U)===o.value(0),text:"",classData:{}}),(L=document.getElementById(Gk(ue)))==null||L.focus()}},P=ce=>{var Q;(Q=E.value[0])==null||Q.handleMonthYearChange(ce,!0)},X=ce=>{b(0,{month:o.value(0),year:a.value(0)+(ce?1:-1),fromNav:!0})},W=(ce,Q)=>{ce===Dn.time&&r(`time-picker-${Q?"open":"close"}`),r("overlay-toggle",{open:Q,overlay:ce})},oe=ce=>{r("overlay-toggle",{open:!1,overlay:ce}),r("focus-menu")};return e({clearHoverDate:S,presetDate:g,selectCurrentDate:w,toggleMonthPicker:O,toggleYearPicker:G,toggleTimePicker:J,handleArrow:m,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:I,updateMonthYear:b,selectDate:y,presetDate:g}),changeMonth:P,changeYear:X,selectWeekDate:j}),(ce,Q)=>(ee(),le(Se,null,[qe(jf,{"multi-calendars":ae(T).count,collapse:ce.collapse},{default:ze(({instance:L,index:$})=>[ce.disableMonthYearSelect?ge("",!0):(ee(),Ue(OB,sn({key:0,ref:U=>{U&&(E.value[$]=U)},months:ae(Vk)(ce.formatLocale,ce.locale,ce.monthNameFormat),years:ae(Kv)(ce.yearRange,ce.locale,ce.reverseYears),month:ae(o)(L),year:ae(a)(L),instance:L},ce.$props,{onMount:Q[0]||(Q[0]=U=>ne(ae(ao).header)),onResetFlow:Q[1]||(Q[1]=U=>ce.$emit("reset-flow")),onUpdateMonthYear:U=>ae(b)(L,U),onOverlayClosed:oe,onOverlayOpened:Q[2]||(Q[2]=U=>ce.$emit("overlay-toggle",{open:!0,overlay:U}))}),Ln({_:2},[Qe(ae(F),(U,ue)=>({name:U,fn:ze(H=>[De(ce.$slots,U,dn(Kn(H)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),qe(BB,sn({ref:U=>{U&&(C.value[$]=U)},"mapped-dates":Z.value(L),month:ae(o)(L),year:ae(a)(L),instance:L},ce.$props,{onSelectDate:U=>ae(y)(U,L!==1),onHandleSpace:U=>V(U,L!==1),onSetHoverDate:Q[3]||(Q[3]=U=>ae(R)(U)),onHandleScroll:U=>ae(_)(U,L),onHandleSwipe:U=>ae(v)(U,L),onMount:Q[4]||(Q[4]=U=>ne(ae(ao).calendar)),onResetFlow:Q[5]||(Q[5]=U=>ce.$emit("reset-flow")),onTooltipOpen:Q[6]||(Q[6]=U=>ce.$emit("tooltip-open",U)),onTooltipClose:Q[7]||(Q[7]=U=>ce.$emit("tooltip-close",U))}),Ln({_:2},[Qe(ae(M),(U,ue)=>({name:U,fn:ze(H=>[De(ce.$slots,U,dn(Kn({...H})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),ce.enableTimePicker?(ee(),le("div",UB,[ce.$slots["time-picker"]?De(ce.$slots,"time-picker",dn(sn({key:0},{time:ae(u),updateTime:ae(I)}))):(ee(),Ue(tx,sn({key:1,ref_key:"timePickerRef",ref:B},ce.$props,{hours:ae(u).hours,minutes:ae(u).minutes,seconds:ae(u).seconds,"internal-model-value":ce.internalModelValue,"disabled-times-config":ae(c),"validate-time":ae(f),onMount:Q[8]||(Q[8]=L=>ne(ae(ao).timePicker)),"onUpdate:hours":Q[9]||(Q[9]=L=>ae(I)(L)),"onUpdate:minutes":Q[10]||(Q[10]=L=>ae(I)(L,!1)),"onUpdate:seconds":Q[11]||(Q[11]=L=>ae(I)(L,!1,!0)),onResetFlow:Q[12]||(Q[12]=L=>ce.$emit("reset-flow")),onOverlayClosed:Q[13]||(Q[13]=L=>W(L,!1)),onOverlayOpened:Q[14]||(Q[14]=L=>W(L,!0)),onAmPmChange:Q[15]||(Q[15]=L=>ce.$emit("am-pm-change",L))}),Ln({_:2},[Qe(ae(q),(L,$)=>({name:L,fn:ze(U=>[De(ce.$slots,L,dn(Kn(U)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ge("",!0)],64))}}),HB=(t,e)=>{const n=he(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s,defaultedRange:o,propDates:a,defaultedFilters:l,defaultedMultiDates:u}=Mt(t),{modelValue:c,year:d,month:f,calendars:h}=Lu(t,e),{isDisabled:p}=Fs(t),{selectYear:m,groupedYears:_,showYearPicker:v,isDisabled:y,toggleYearPicker:b,handleYearSelect:g,handleYear:w}=ex({modelValue:c,multiCalendars:r,range:o,highlight:s,calendars:h,propDates:a,month:f,year:d,filters:l,props:t,emit:e}),I=(M,F)=>[M,F].map(q=>Vr(q,"MMMM",{locale:t.formatLocale})).join("-"),k=pe(()=>M=>c.value?Array.isArray(c.value)?c.value.some(F=>cb(M,F)):cb(c.value,M):!1),R=M=>{if(o.value.enabled){if(Array.isArray(c.value)){const F=st(M,c.value[0])||st(M,c.value[1]);return Ff(c.value,n.value,M)&&!F}return!1}return!1},D=(M,F)=>M.quarter===ib(F)&&M.year===nt(F),S=M=>typeof s.value=="function"?s.value({quarter:ib(M),year:nt(M)}):!!s.value.quarters.find(F=>D(F,M)),T=pe(()=>M=>{const F=At(new Date,{year:d.value(M)});return vV({start:Nv(F),end:Tk(F)}).map(q=>{const ne=ro(q),Z=sb(q),K=p(q),N=R(ne),V=S(ne);return{text:I(ne,Z),value:ne,active:k.value(ne),highlighted:V,disabled:K,isBetween:N}})}),E=M=>{Qv(M,c,u.value.limit),e("auto-apply",!0)},C=M=>{c.value=Xv(c,M,e),Uf(c.value,e,t.autoApply,t.modelAuto)},B=M=>{c.value=M,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:_,year:d,isDisabled:y,quarters:T,showYearPicker:v,modelValue:c,setHoverDate:M=>{n.value=M},selectYear:m,selectQuarter:(M,F,q)=>{if(!q)return h.value[F].month=it(sb(M)),u.value.enabled?E(M):o.value.enabled?C(M):B(M)},toggleYearPicker:b,handleYearSelect:g,handleYear:w}},zB={class:"dp--quarter-items"},KB=["data-test","disabled","onClick","onMouseover"],WB=Kt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Gr},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Eo(),o=fr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:_,toggleYearPicker:v,handleYearSelect:y,handleYear:b}=HB(i,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:_,handleYearSelect:y,handleYear:b})}),(g,w)=>(ee(),Ue(jf,{"multi-calendars":ae(a).count,collapse:g.collapse,stretch:""},{default:ze(({instance:I})=>[A("div",{class:"dp-quarter-picker-wrap",style:cn({minHeight:`${ae(l).modeHeight}px`})},[g.$slots["top-extra"]?De(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):ge("",!0),A("div",null,[qe(Xk,sn(g.$props,{items:ae(u)(I),instance:I,"show-year-picker":ae(p)[I],year:ae(c)(I),"is-disabled":k=>ae(d)(I,k),onHandleYear:k=>ae(b)(I,k),onYearSelect:k=>ae(y)(k,I),onToggleYearPicker:k=>ae(v)(I,k==null?void 0:k.flow,k==null?void 0:k.show)}),Ln({_:2},[Qe(ae(o),(k,R)=>({name:k,fn:ze(D=>[De(g.$slots,k,dn(Kn(D)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),A("div",zB,[(ee(!0),le(Se,null,Qe(ae(f)(I),(k,R)=>(ee(),le("div",{key:R},[A("button",{type:"button",class:We(["dp--qr-btn",{"dp--qr-btn-active":k.active,"dp--qr-btn-between":k.isBetween,"dp--qr-btn-disabled":k.disabled,"dp--highlighted":k.highlighted}]),"data-test":k.value,disabled:k.disabled,onClick:D=>ae(_)(k.value,I,k.disabled),onMouseover:D=>ae(m)(k.value)},[g.$slots.quarter?De(g.$slots,"quarter",{key:0,value:k.value,text:k.text}):(ee(),le(Se,{key:1},[an(Ie(k.text),1)],64))],42,KB)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),YB=["id","aria-label"],GB={key:0,class:"dp--menu-load-container"},QB=A("span",{class:"dp--menu-loader"},null,-1),XB=[QB],JB={key:0,class:"dp__sidebar_left"},ZB=["data-test","onClick","onKeydown"],ej={key:2,class:"dp__sidebar_right"},tj={key:3,class:"dp__action_extra"},_b=Kt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Bf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=he(null),o=pe(()=>{const{openOnTop:H,...Y}=i;return{...Y,flowStep:R.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:a,setShiftKey:l,control:u}=Qk(),c=Eo(),{defaultedTextInput:d,defaultedInline:f,defaultedConfig:h}=Mt(i),p=he(null),m=he(0),_=he(null),v=he(!1),y=he(null);Et(()=>{if(!i.shadow){v.value=!0,b(),window.addEventListener("resize",b);const H=nn(s);if(H&&!d.value.enabled&&!f.value.enabled&&(a(!0),M()),H){const Y=re=>{h.value.allowPreventDefault&&re.preventDefault(),ws(re,h.value,!0)};H.addEventListener("pointerdown",Y),H.addEventListener("mousedown",Y)}}}),Sa(()=>{window.removeEventListener("resize",b)});const b=()=>{const H=nn(_);H&&(m.value=H.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:w,arrowDown:I,arrowUp:k}=Vs(),{flowStep:R,updateFlowStep:D,childMount:S,resetFlow:T,handleFlow:E}=oj(i,r,y),C=pe(()=>i.monthPicker?sB:i.yearPicker?aB:i.timePicker?AB:i.quarterPicker?WB:qB),B=pe(()=>{var H;if(h.value.arrowLeft)return h.value.arrowLeft;const Y=(H=s.value)==null?void 0:H.getBoundingClientRect(),re=i.getInputRect();return re.width<m.value&&re.left<=((Y==null?void 0:Y.left)??0)?`${re.width/2}px`:"50%"}),M=()=>{const H=nn(s);H&&H.focus({preventScroll:!0})},F=pe(()=>{var H;return((H=y.value)==null?void 0:H.getSidebarProps())||{}}),q=()=>{i.openOnTop&&r("recalculate-position")},ne=fr(c,"action"),Z=pe(()=>i.monthPicker||i.yearPicker?fr(c,"monthYear"):i.timePicker?fr(c,"timePicker"):fr(c,"shared")),K=pe(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),N=pe(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),V=pe(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[i.menuClassName]:!!i.menuClassName})),O=H=>{ws(H,h.value,!0)},G=()=>{i.escClose&&r("close-picker")},J=H=>{if(i.arrowNavigation){if(H===zn.up)return k();if(H===zn.down)return I();if(H===zn.left)return w();if(H===zn.right)return g()}else H===zn.left||H===zn.up?oe("handleArrow",zn.left,0,H===zn.up):oe("handleArrow",zn.right,0,H===zn.down)},j=H=>{l(H.shiftKey),!i.disableMonthYearSelect&&H.code===Pt.tab&&H.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(H.preventDefault(),ws(H,h.value,!0),r("close-picker"))},P=()=>{M(),r("time-picker-close")},X=H=>{var Y,re,ie;(Y=y.value)==null||Y.toggleTimePicker(!1,!1),(re=y.value)==null||re.toggleMonthPicker(!1,!1,H),(ie=y.value)==null||ie.toggleYearPicker(!1,!1,H)},W=(H,Y=0)=>{var re,ie,fe;return H==="month"?(re=y.value)==null?void 0:re.toggleMonthPicker(!1,!0,Y):H==="year"?(ie=y.value)==null?void 0:ie.toggleYearPicker(!1,!0,Y):H==="time"?(fe=y.value)==null?void 0:fe.toggleTimePicker(!0,!1):X(Y)},oe=(H,...Y)=>{var re,ie;(re=y.value)!=null&&re[H]&&((ie=y.value)==null||ie[H](...Y))},ce=()=>{oe("selectCurrentDate")},Q=(H,Y)=>{oe("presetDate",H,Y)},L=()=>{oe("clearHoverDate")},$=(H,Y)=>{oe("updateMonthYear",H,Y)},U=(H,Y)=>{H.preventDefault(),J(Y)},ue=H=>{var Y;if(j(H),H.key===Pt.home||H.key===Pt.end)return oe("selectWeekDate",H.key===Pt.home,H.target.getAttribute("id"));switch((H.key===Pt.pageUp||H.key===Pt.pageDown)&&(H.shiftKey?oe("changeYear",H.key===Pt.pageUp):oe("changeMonth",H.key===Pt.pageUp),H.target.getAttribute("id")&&((Y=s.value)==null||Y.focus({preventScroll:!0}))),H.key){case Pt.esc:return G();case Pt.arrowLeft:return U(H,zn.left);case Pt.arrowRight:return U(H,zn.right);case Pt.arrowUp:return U(H,zn.up);case Pt.arrowDown:return U(H,zn.down);default:return}};return e({updateMonthYear:$,switchView:W,handleFlow:E}),(H,Y)=>{var re,ie,fe;return ee(),le("div",{id:H.uid?`dp-menu-${H.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(re=H.ariaLabels)==null?void 0:re.menu,class:We(V.value),style:cn({"--dp-arrow-left":B.value}),onMouseleave:L,onClick:O,onKeydown:ue},[(H.disabled||H.readonly)&&ae(f).enabled||H.loading?(ee(),le("div",{key:0,class:We(N.value)},[H.loading?(ee(),le("div",GB,XB)):ge("",!0)],2)):ge("",!0),!ae(f).enabled&&!H.teleportCenter?(ee(),le("div",{key:1,class:We(K.value)},null,2)):ge("",!0),A("div",{ref_key:"innerMenuRef",ref:_,class:We({dp__menu_content_wrapper:((ie=H.presetDates)==null?void 0:ie.length)||!!H.$slots["left-sidebar"]||!!H.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((fe=H.presetDates)==null?void 0:fe.length)||!!H.$slots["left-sidebar"]||!!H.$slots["right-sidebar"])}),style:cn({"--dp-menu-width":`${m.value}px`})},[H.$slots["left-sidebar"]?(ee(),le("div",JB,[De(H.$slots,"left-sidebar",dn(Kn(F.value)))])):ge("",!0),H.presetDates.length?(ee(),le("div",{key:1,class:We({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ee(!0),le(Se,null,Qe(H.presetDates,(te,_e)=>(ee(),le(Se,{key:_e},[te.slot?De(H.$slots,te.slot,{key:0,presetDate:Q,label:te.label,value:te.value}):(ee(),le("button",{key:1,type:"button",style:cn(te.style||{}),class:We(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":te.testId??void 0,onClick:Ar(be=>Q(te.value,te.noTz),["prevent"]),onKeydown:be=>ae(tr)(be,()=>Q(te.value,te.noTz),!0)},Ie(te.label),47,ZB))],64))),128))],2)):ge("",!0),A("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(ee(),Ue(Bd(C.value),sn({ref_key:"dynCmpRef",ref:y},o.value,{"flow-step":ae(R),onMount:ae(S),onUpdateFlowStep:ae(D),onResetFlow:ae(T),onFocusMenu:M,onSelectDate:Y[0]||(Y[0]=te=>H.$emit("select-date")),onDateUpdate:Y[1]||(Y[1]=te=>H.$emit("date-update",te)),onTooltipOpen:Y[2]||(Y[2]=te=>H.$emit("tooltip-open",te)),onTooltipClose:Y[3]||(Y[3]=te=>H.$emit("tooltip-close",te)),onAutoApply:Y[4]||(Y[4]=te=>H.$emit("auto-apply",te)),onRangeStart:Y[5]||(Y[5]=te=>H.$emit("range-start",te)),onRangeEnd:Y[6]||(Y[6]=te=>H.$emit("range-end",te)),onInvalidFixedRange:Y[7]||(Y[7]=te=>H.$emit("invalid-fixed-range",te)),onTimeUpdate:Y[8]||(Y[8]=te=>H.$emit("time-update")),onAmPmChange:Y[9]||(Y[9]=te=>H.$emit("am-pm-change",te)),onTimePickerOpen:Y[10]||(Y[10]=te=>H.$emit("time-picker-open",te)),onTimePickerClose:P,onRecalculatePosition:q,onUpdateMonthYear:Y[11]||(Y[11]=te=>H.$emit("update-month-year",te)),onAutoApplyInvalid:Y[12]||(Y[12]=te=>H.$emit("auto-apply-invalid",te)),onInvalidDate:Y[13]||(Y[13]=te=>H.$emit("invalid-date",te)),onOverlayToggle:Y[14]||(Y[14]=te=>H.$emit("overlay-toggle",te)),"onUpdate:internalModelValue":Y[15]||(Y[15]=te=>H.$emit("update:internal-model-value",te))}),Ln({_:2},[Qe(Z.value,(te,_e)=>({name:te,fn:ze(be=>[De(H.$slots,te,dn(Kn({...be})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),H.$slots["right-sidebar"]?(ee(),le("div",ej,[De(H.$slots,"right-sidebar",dn(Kn(F.value)))])):ge("",!0),H.$slots["action-extra"]?(ee(),le("div",tj,[H.$slots["action-extra"]?De(H.$slots,"action-extra",{key:0,selectCurrentDate:ce}):ge("",!0)])):ge("",!0)],6),!H.autoApply||ae(h).keepActionRow?(ee(),Ue(XF,sn({key:2,"menu-mount":v.value},o.value,{"calendar-width":m.value,onClosePicker:Y[16]||(Y[16]=te=>H.$emit("close-picker")),onSelectDate:Y[17]||(Y[17]=te=>H.$emit("select-date")),onInvalidSelect:Y[18]||(Y[18]=te=>H.$emit("invalid-select")),onSelectNow:ce}),Ln({_:2},[Qe(ae(ne),(te,_e)=>({name:te,fn:ze(be=>[De(H.$slots,te,dn(Kn({...be})))])}))]),1040,["menu-mount","calendar-width"])):ge("",!0)],46,YB)}}});var Ko=(t=>(t.center="center",t.left="left",t.right="right",t))(Ko||{});const nj=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=he({}),u=he(!1),c=he({top:"0",left:"0"}),d=he(!1),f=$l(o,"teleportCenter");Xt(f,()=>{c.value=JSON.parse(JSON.stringify({})),g()});const h=M=>{if(o.teleport){const F=M.getBoundingClientRect();return{left:F.left+window.scrollX,top:F.top+window.scrollY}}return{top:0,left:0}},p=(M,F)=>{c.value.left=`${M+F-l.value.width}px`},m=M=>{c.value.left=`${M}px`},_=(M,F)=>{o.position===Ko.left&&m(M),o.position===Ko.right&&p(M,F),o.position===Ko.center&&(c.value.left=`${M+F/2-l.value.width/2}px`)},v=M=>{const{width:F,height:q}=M.getBoundingClientRect(),{top:ne,left:Z}=o.altPosition?o.altPosition(M):h(M);return{top:+ne,left:+Z,width:F,height:q}},y=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},b=()=>{const M=nn(n),{top:F,left:q,transform:ne}=o.altPosition(M);c.value={top:`${F}px`,left:`${q}px`,transform:ne??""}},g=(M=!0)=>{var F;if(!i.value.enabled){if(f.value)return y();if(o.altPosition!==null)return b();if(M){const q=o.teleport?(F=e.value)==null?void 0:F.$el:t.value;q&&(l.value=q.getBoundingClientRect()),s("recalculate-position")}return T()}},w=({inputEl:M,left:F,width:q})=>{window.screen.width>768&&!u.value&&_(F,q),R(M)},I=M=>{const{top:F,left:q,height:ne,width:Z}=v(M);c.value.top=`${ne+F+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${q+Z/2-l.value.width/2}px`),w({inputEl:M,left:q,width:Z})},k=M=>{const{top:F,left:q,width:ne}=v(M);c.value.top=`${F-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:M,left:q,width:ne})},R=M=>{if(o.autoPosition){const{left:F,width:q}=v(M),{left:ne,right:Z}=l.value;if(!u.value){if(Math.abs(ne)!==Math.abs(Z)){if(ne<=0)return u.value=!0,m(F);if(Z>=document.documentElement.clientWidth)return u.value=!0,p(F,q)}return _(F,q)}}},D=()=>{const M=nn(n);if(M){const{height:F}=l.value,{top:q,height:ne}=M.getBoundingClientRect(),Z=window.innerHeight-q-ne,K=q;return F<=Z?Gs.bottom:F>Z&&F<=K?Gs.top:Z>=K?Gs.bottom:Gs.top}return Gs.bottom},S=M=>D()===Gs.bottom?I(M):k(M),T=()=>{const M=nn(n);if(M)return o.autoPosition?S(M):I(M)},E=function(M){if(M){const F=M.scrollHeight>M.clientHeight,q=window.getComputedStyle(M).overflowY.indexOf("hidden")!==-1;return F&&!q}return!0},C=function(M){return!M||M===document.body||M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:E(M)?M:C(M.assignedSlot?M.assignedSlot.parentNode:M.parentNode)},B=M=>{if(M)switch(o.position){case Ko.left:return{left:0,transform:"translateX(0)"};case Ko.right:return{left:`${M.width}px`,transform:"translateX(-100%)"};default:return{left:`${M.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:g,getScrollableParent:C,shadowRender:(M,F)=>{var q,ne,Z;const K=document.createElement("div"),N=(q=nn(n))==null?void 0:q.getBoundingClientRect();K.setAttribute("id","dp--temp-container");const V=(ne=r.value)!=null&&ne.clientWidth?r.value:document.body;V.append(K);const O=B(N),G=Ra(M,{...F,shadow:!0,style:{opacity:0,position:"absolute",...O}},Object.fromEntries(Object.keys(a).filter(J=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(J)).map(J=>[J,a[J]])));n0(G,K),l.value=(Z=G.el)==null?void 0:Z.getBoundingClientRect(),n0(null,K),V.removeChild(K)}}},es=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],rj=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ij={all:()=>es,monthYear:()=>es.filter(t=>t.use.includes("month-year")),input:()=>rj,timePicker:()=>es.filter(t=>t.use.includes("time")),action:()=>es.filter(t=>t.use.includes("action")),calendar:()=>es.filter(t=>t.use.includes("calendar")),menu:()=>es.filter(t=>t.use.includes("menu")),shared:()=>es.filter(t=>t.use.includes("shared")),yearMode:()=>es.filter(t=>t.use.includes("year-mode"))},fr=(t,e,n)=>{const r=[];return ij[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Mu=t=>{const e=pe(()=>r=>t.value?r?t.value.open:t.value.close:""),n=pe(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Lu=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=Mt(t),i=Te(yi(Te(),r.value.timezone)),s=he([{month:it(i),year:nt(i)}]),o=d=>{const f={hours:Hi(i),minutes:Rs(i),seconds:0};return n.value.enabled?[f[d],f[d]]:f[d]},a=Kr({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});Xt(n,(d,f)=>{d.enabled!==f.enabled&&(a.hours=o("hours"),a.minutes=o("minutes"),a.seconds=o("seconds"))},{deep:!0});const l=pe({get:()=>t.internalModelValue,set:d=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",d)}}),u=pe(()=>d=>s.value[d]?s.value[d].month:0),c=pe(()=>d=>s.value[d]?s.value[d].year:0);return{calendars:s,time:a,modelValue:l,month:u,year:c,today:i}},sj=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:s,propDates:o,defaultedRange:a}=Mt(e),{isDisabled:l}=Fs(e),u=he(null),c=he(yi(new Date,s.value.timezone)),d=O=>{!O.current&&e.hideOffsetDates||(u.value=O.value)},f=()=>{u.value=null},h=O=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&u.value?O?qt(u.value,t.value[0]):Lt(u.value,t.value[0]):!0,p=(O,G)=>{const J=()=>t.value?G?t.value[0]||null:t.value[1]:null,j=t.value&&Array.isArray(t.value)?J():null;return st(Te(O.value),j)},m=O=>{const G=Array.isArray(t.value)?t.value[0]:null;return O?!Lt(u.value??null,G):!0},_=(O,G=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!O.current?!1:st(Te(O.value),t.value[G?0:1]):a.value.enabled?p(O,G)&&m(G)||st(O.value,Array.isArray(t.value)?t.value[0]:null)&&h(G):!1,v=(O,G)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const J=st(O.value,u.value);return G?qt(t.value[0],O.value)&&J:Lt(t.value[0],O.value)&&J}return!1},y=O=>!t.value||e.hideOffsetDates&&!O.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?st(O.value,t.value[0]?t.value[0]:c.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(G=>st(G,O.value)):st(O.value,t.value?t.value:c.value),b=O=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!O.current)return!1;const G=Or(u.value,+a.value.autoRange),J=Si(Te(u.value),e.weekStart);return e.weekPicker?st(J[1],Te(O.value)):st(G,Te(O.value))}return!1}return!1},g=O=>{if(a.value.autoRange||e.weekPicker){if(u.value){const G=Or(u.value,+a.value.autoRange);if(e.hideOffsetDates&&!O.current)return!1;const J=Si(Te(u.value),e.weekStart);return e.weekPicker?qt(O.value,J[0])&&Lt(O.value,J[1]):qt(O.value,u.value)&&Lt(O.value,G)}return!1}return!1},w=O=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!O.current)return!1;const G=Si(Te(u.value),e.weekStart);return e.weekPicker?st(G[0],O.value):st(u.value,O.value)}return!1}return!1},I=O=>Ff(t.value,u.value,O.value),k=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,R=()=>e.modelAuto?Fk(e.internalModelValue):!0,D=O=>{if(e.weekPicker)return!1;const G=a.value.enabled?!_(O)&&!_(O,!1):!0;return!l(O.value)&&!y(O)&&!(!O.current&&e.hideOffsetDates)&&G},S=O=>a.value.enabled?e.modelAuto?k()&&y(O):!1:y(O),T=O=>i.value?TF(O.value,o.value.highlight):!1,E=O=>{const G=l(O.value);return G&&(typeof i.value=="function"?!i.value(O.value,G):!i.value.options.highlightDisabled)},C=O=>{var G;return typeof i.value=="function"?i.value(O.value):(G=i.value.weekdays)==null?void 0:G.includes(O.value.getDay())},B=O=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||O.current)&&R()&&!(!O.current&&e.hideOffsetDates)&&!y(O)?I(O):!1,M=O=>{const{isRangeStart:G,isRangeEnd:J}=Z(O),j=a.value.enabled?G||J:!1;return{dp__cell_offset:!O.current,dp__pointer:!e.disabled&&!(!O.current&&e.hideOffsetDates)&&!l(O.value),dp__cell_disabled:l(O.value),dp__cell_highlight:!E(O)&&(T(O)||C(O))&&!S(O)&&!j&&!w(O)&&!(B(O)&&e.weekPicker)&&!J,dp__cell_highlight_active:!E(O)&&(T(O)||C(O))&&S(O),dp__today:!e.noToday&&st(O.value,c.value)&&O.current,"dp--past":Lt(O.value,c.value),"dp--future":qt(O.value,c.value)}},F=O=>({dp__active_date:S(O),dp__date_hover:D(O)}),q=O=>{if(t.value&&!Array.isArray(t.value)){const G=Si(t.value,e.weekStart);return{...N(O),dp__range_start:st(G[0],O.value),dp__range_end:st(G[1],O.value),dp__range_between_week:qt(O.value,G[0])&&Lt(O.value,G[1])}}return{...N(O)}},ne=O=>{if(t.value&&Array.isArray(t.value)){const G=Si(t.value[0],e.weekStart),J=t.value[1]?Si(t.value[1],e.weekStart):[];return{...N(O),dp__range_start:st(G[0],O.value)||st(J[0],O.value),dp__range_end:st(G[1],O.value)||st(J[1],O.value),dp__range_between_week:qt(O.value,G[0])&&Lt(O.value,G[1])||qt(O.value,J[0])&&Lt(O.value,J[1]),dp__range_between:qt(O.value,G[1])&&Lt(O.value,J[0])}}return{...N(O)}},Z=O=>{const G=n.value.count>0?O.current&&_(O)&&R():_(O)&&R(),J=n.value.count>0?O.current&&_(O,!1)&&R():_(O,!1)&&R();return{isRangeStart:G,isRangeEnd:J}},K=O=>{const{isRangeStart:G,isRangeEnd:J}=Z(O);return{dp__range_start:G,dp__range_end:J,dp__range_between:B(O),dp__date_hover:st(O.value,u.value)&&!G&&!J&&!e.weekPicker,dp__date_hover_start:v(O,!0),dp__date_hover_end:v(O,!1)}},N=O=>({...K(O),dp__cell_auto_range:g(O),dp__cell_auto_range_start:w(O),dp__cell_auto_range_end:b(O)}),V=O=>a.value.enabled?a.value.autoRange?N(O):e.modelAuto?{...F(O),...K(O)}:e.weekPicker?ne(O):K(O):e.weekPicker?q(O):F(O);return{setHoverDate:d,clearHoverDate:f,getDayClassData:O=>e.hideOffsetDates&&!O.current?{}:{...M(O),...V(O),[e.dayClass?e.dayClass(O.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Fs=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=Mt(t),s=E=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Te(E)):!!xd(E,r.value.disabledDates):!1,o=E=>{const C=r.value.maxDate?qt(E,r.value.maxDate):!1,B=r.value.minDate?Lt(E,r.value.minDate):!1,M=s(E),F=e.value.months.map(N=>+N).includes(it(E)),q=t.disabledWeekDays.length?t.disabledWeekDays.some(N=>+N===c6(E)):!1,ne=d(E),Z=nt(E),K=Z<+t.yearRange[0]||Z>+t.yearRange[1];return!(C||B||M||F||K||q||ne)},a=(E,C)=>Lt(...ps(r.value.minDate,E,C))||st(...ps(r.value.minDate,E,C)),l=(E,C)=>qt(...ps(r.value.maxDate,E,C))||st(...ps(r.value.maxDate,E,C)),u=(E,C,B)=>{let M=!1;return r.value.maxDate&&B&&l(E,C)&&(M=!0),r.value.minDate&&!B&&a(E,C)&&(M=!0),M},c=(E,C,B,M)=>{let F=!1;return M?r.value.minDate&&r.value.maxDate?F=u(E,C,B):(r.value.minDate&&a(E,C)||r.value.maxDate&&l(E,C))&&(F=!0):F=!0,F},d=E=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!xd(E,r.value.allowedDates):!1,f=E=>!o(E),h=E=>n.value.noDisabledRange?!Ek({start:E[0],end:E[1]}).some(C=>f(C)):!0,p=E=>{if(E){const C=nt(E);return C>=+t.yearRange[0]&&C<=t.yearRange[1]}return!0},m=(E,C)=>!!(Array.isArray(E)&&E[C]&&(n.value.maxRange||n.value.minRange)&&p(E[C])),_=(E,C,B=0)=>{if(m(C,B)&&p(E)){const M=bk(E,C[B]),F=Hk(C[B],E),q=F.length===1?0:F.filter(Z=>f(Z)).length,ne=Math.abs(M)-(n.value.minMaxRawRange?0:q);if(n.value.minRange&&n.value.maxRange)return ne>=+n.value.minRange&&ne<=+n.value.maxRange;if(n.value.minRange)return ne>=+n.value.minRange;if(n.value.maxRange)return ne<=+n.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,y=E=>Array.isArray(E)?[E[0]?_p(E[0]):null,E[1]?_p(E[1]):null]:_p(E),b=(E,C,B)=>E.find(M=>+M.hours===Hi(C)&&M.minutes==="*"?!0:+M.minutes===Rs(C)&&+M.hours===Hi(C))&&B,g=(E,C,B)=>{const[M,F]=E,[q,ne]=C;return!b(M,q,B)&&!b(F,ne,B)&&B},w=(E,C)=>{const B=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?g(t.disabledTimes,B,E):!B.some(M=>b(t.disabledTimes,M,E)):E},I=(E,C)=>{const B=Array.isArray(C)?[lo(C[0]),C[1]?lo(C[1]):void 0]:lo(C),M=!t.disabledTimes(B);return E&&M},k=(E,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?w(C,E):I(C,E):C,R=E=>{let C=!0;if(!E||v())return!0;const B=!r.value.minDate&&!r.value.maxDate?y(E):E;return(t.maxTime||r.value.maxDate)&&(C=mb(t.maxTime,r.value.maxDate,"max",ln(B),C)),(t.minTime||r.value.minDate)&&(C=mb(t.minTime,r.value.minDate,"min",ln(B),C)),k(E,C)},D=E=>{if(!t.monthPicker)return!0;let C=!0;const B=Te(Pr(E));if(r.value.minDate&&r.value.maxDate){const M=Te(Pr(r.value.minDate)),F=Te(Pr(r.value.maxDate));return qt(B,M)&&Lt(B,F)||st(B,M)||st(B,F)}if(r.value.minDate){const M=Te(Pr(r.value.minDate));C=qt(B,M)||st(B,M)}if(r.value.maxDate){const M=Te(Pr(r.value.maxDate));C=Lt(B,M)||st(B,M)}return C},S=pe(()=>E=>!t.enableTimePicker||t.ignoreTimeValidation?!0:R(E)),T=pe(()=>E=>t.monthPicker?Array.isArray(E)&&(n.value.enabled||i.value.enabled)?!E.filter(C=>!D(C)).length:D(E):!0);return{isDisabled:f,validateDate:o,validateMonthYearInRange:c,isDateRangeAllowed:h,checkMinMaxRange:_,isValidTime:R,isTimeValid:S,isMonthValid:T}},qf=()=>{const t=pe(()=>(r,i)=>r==null?void 0:r.includes(i)),e=pe(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=pe(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},oj=(t,e,n)=>{const r=he(0),i=Kr({[ao.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ao.calendar]:!1,[ao.header]:!1}),s=pe(()=>t.monthPicker||t.timePicker),o=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(h=>!i[h]).length||c()}},a=()=>{var d,f;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c()),((f=t.flow)==null?void 0:f.length)===r.value&&kn().then(()=>l())},l=()=>{r.value=-1},u=(d,f,...h)=>{var p,m;t.flow[r.value]===d&&n.value&&((m=(p=n.value)[f])==null||m.call(p,...h))},c=(d=0)=>{d&&(r.value+=d),u(Dn.month,"toggleMonthPicker",!0),u(Dn.year,"toggleYearPicker",!0),u(Dn.calendar,"toggleTimePicker",!1,!0),u(Dn.time,"toggleTimePicker",!0,!0);const f=t.flow[r.value];(f===Dn.hours||f===Dn.minutes||f===Dn.seconds)&&u(f,"toggleTimePicker",!0,!0,f)};return{childMount:o,updateFlowStep:a,resetFlow:l,handleFlow:c,flowStep:r}},aj={key:1,class:"dp__input_wrap"},lj=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],uj={key:2,class:"dp__clear_icon"},cj=Kt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Bf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d,getDefaultStartTime:f}=Mt(i),{checkMinMaxRange:h}=Fs(i),p=he(),m=he(null),_=he(!1),v=he(!1),y=pe(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:_.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),b=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),p.value=null)},g=F=>{const q=f();return AF(F,s.value.format??d(),q??zk({},i.enableSeconds),i.inputValue,v.value,i.formatLocale)},w=F=>{const{rangeSeparator:q}=s.value,[ne,Z]=F.split(`${q}`);if(ne){const K=g(ne.trim()),N=Z?g(Z.trim()):null;if(Ta(K,N))return;const V=K&&N?[K,N]:[K];h(N,V,0)&&(p.value=K?V:null)}},I=()=>{v.value=!0},k=F=>{if(u.value.enabled)w(F);else if(c.value.enabled){const q=F.split(";");p.value=q.map(ne=>g(ne.trim())).filter(ne=>ne)}else p.value=g(F)},R=F=>{var q;const ne=typeof F=="string"?F:(q=F.target)==null?void 0:q.value;ne!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),k(ne),r("set-input-date",p.value)):b(),v.value=!1,r("update:input-value",ne)},D=F=>{s.value.enabled?(k(F.target.value),s.value.enterSubmit&&$m(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):s.value.enterSubmit&&i.inputValue===""&&(p.value=null,r("clear"))):E(F)},S=F=>{s.value.enabled&&s.value.tabSubmit&&k(F.target.value),s.value.tabSubmit&&$m(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):s.value.tabSubmit&&i.inputValue===""&&(p.value=null,r("clear",!0))},T=()=>{_.value=!0,r("focus"),kn().then(()=>{var F;s.value.enabled&&s.value.selectOnFocus&&((F=m.value)==null||F.select())})},E=F=>{F.preventDefault(),ws(F,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},C=()=>{r("real-blur"),_.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&p.value&&!i.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},B=F=>{ws(F,l.value,!0),r("clear")},M=F=>{if(F.key==="Tab"&&S(F),F.key==="Enter"&&D(F),!s.value.enabled){if(F.code==="Tab")return;F.preventDefault()}};return e({focusInput:()=>{var F;(F=m.value)==null||F.focus({preventScroll:!0})},setParsedDate:F=>{p.value=F}}),(F,q)=>{var ne;return ee(),le("div",{onClick:E},[F.$slots.trigger&&!F.$slots["dp-input"]&&!ae(a).enabled?De(F.$slots,"trigger",{key:0}):ge("",!0),!F.$slots.trigger&&(!ae(a).enabled||ae(a).input)?(ee(),le("div",aj,[F.$slots["dp-input"]&&!F.$slots.trigger&&(!ae(a).enabled||ae(a).enabled&&ae(a).input)?De(F.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:R,onEnter:D,onTab:S,onClear:B,onBlur:C,onKeypress:M,onPaste:I,onFocus:T,openMenu:()=>F.$emit("open"),closeMenu:()=>F.$emit("close"),toggleMenu:()=>F.$emit("toggle")}):ge("",!0),F.$slots["dp-input"]?ge("",!0):(ee(),le("input",{key:1,id:F.uid?`dp-input-${F.uid}`:void 0,ref_key:"inputRef",ref:m,"data-test":"dp-input",name:F.name,class:We(y.value),inputmode:ae(s).enabled?"text":"none",placeholder:F.placeholder,disabled:F.disabled,readonly:F.readonly,required:F.required,value:t.inputValue,autocomplete:F.autocomplete,"aria-label":(ne=ae(o))==null?void 0:ne.input,"aria-disabled":F.disabled||void 0,"aria-invalid":F.state===!1?!0:void 0,onInput:R,onBlur:C,onFocus:T,onKeypress:M,onKeydown:M,onPaste:I},null,42,lj)),A("div",{onClick:q[2]||(q[2]=Z=>r("toggle"))},[F.$slots["input-icon"]&&!F.hideInputIcon?(ee(),le("span",{key:0,class:"dp__input_icon",onClick:q[0]||(q[0]=Z=>r("toggle"))},[De(F.$slots,"input-icon")])):ge("",!0),!F.$slots["input-icon"]&&!F.hideInputIcon&&!F.$slots["dp-input"]?(ee(),Ue(ae(Fa),{key:1,class:"dp__input_icon dp__input_icons",onClick:q[1]||(q[1]=Z=>r("toggle"))})):ge("",!0)]),F.$slots["clear-icon"]&&t.inputValue&&F.clearable&&!F.disabled&&!F.readonly?(ee(),le("span",uj,[De(F.$slots,"clear-icon",{clear:B})])):ge("",!0),F.clearable&&!F.$slots["clear-icon"]&&t.inputValue&&!F.disabled&&!F.readonly?(ee(),Ue(ae($k),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:q[3]||(q[3]=Ar(Z=>B(Z),["prevent"]))})):ge("",!0)])):ge("",!0)])}}}),dj=typeof window<"u"?window:void 0,kp=()=>{},fj=t=>s1()?(bI(t),!0):!1,hj=(t,e,n,r)=>{if(!t)return kp;let i=kp;const s=Xt(()=>ae(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=kp})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return fj(o),o},pj=(t,e,n,r={})=>{const{window:i=dj,event:s="pointerdown"}=r;return i?hj(i,s,o=>{const a=nn(t),l=nn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},mj=Kt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Bf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Eo(),o=he(!1),a=$l(i,"modelValue"),l=$l(i,"timezone"),u=he(null),c=he(null),d=he(null),f=he(!1),h=he(null),p=he(!1),m=he(!1),_=he(!1),{setMenuFocused:v,setShiftKey:y}=Qk(),{clearArrowNav:b}=Vs(),{validateDate:g,isValidTime:w}=Fs(i),{defaultedTransitions:I,defaultedTextInput:k,defaultedInline:R,defaultedConfig:D,defaultedRange:S,defaultedMultiDates:T}=Mt(i),{menuTransition:E,showTransition:C}=Mu(I);Et(()=>{G(i.modelValue),kn().then(()=>{if(!R.value.enabled){const me=K(h.value);me==null||me.addEventListener("scroll",$),window==null||window.addEventListener("resize",U)}}),R.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",ue),window==null||window.addEventListener("keydown",H)}),Sa(()=>{if(!R.value.enabled){const me=K(h.value);me==null||me.removeEventListener("scroll",$),window==null||window.removeEventListener("resize",U)}window==null||window.removeEventListener("keyup",ue),window==null||window.removeEventListener("keydown",H)});const B=fr(s,"all",i.presetDates),M=fr(s,"input");Xt([a,l],()=>{G(a.value)},{deep:!0});const{openOnTop:F,menuStyle:q,xCorrect:ne,setMenuPosition:Z,getScrollableParent:K,shadowRender:N}=nj({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:R,emit:r,props:i,slots:s}),{inputValue:V,internalModelValue:O,parseExternalModelValue:G,emitModelValue:J,formatInputValue:j,checkBeforeEmit:P}=WF(r,i,f),X=pe(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:R.value.enabled,"dp--flex-display-collapsed":_.value,dp__flex_display_with_input:R.value.input})),W=pe(()=>i.dark?"dp__theme_dark":"dp__theme_light"),oe=pe(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||R.value.enabled}:{}),ce=pe(()=>({class:"dp__outer_menu_wrap"})),Q=pe(()=>R.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),L=()=>{var me,ke;return(ke=(me=d.value)==null?void 0:me.$el)==null?void 0:ke.getBoundingClientRect()},$=()=>{o.value&&(D.value.closeOnScroll?Oe():Z())},U=()=>{var me;o.value&&Z();const ke=(me=c.value)==null?void 0:me.$el.getBoundingClientRect().width;_.value=document.body.offsetWidth<=ke},ue=me=>{me.key==="Tab"&&!R.value.enabled&&!i.teleport&&D.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Oe()),m.value=me.shiftKey},H=me=>{m.value=me.shiftKey},Y=()=>{!i.disabled&&!i.readonly&&(N(_b,i),Z(!1),o.value=!0,o.value&&r("open"),o.value||Ee(),G(i.modelValue))},re=()=>{var me;V.value="",Ee(),(me=d.value)==null||me.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),D.value.closeOnClearValue&&Oe()},ie=()=>{const me=O.value;return!me||!Array.isArray(me)&&g(me)?!0:Array.isArray(me)?T.value.enabled||me.length===2&&g(me[0])&&g(me[1])?!0:S.value.partialRange&&!i.timePicker?g(me[0]):!1:!1},fe=()=>{P()&&ie()?(J(),Oe()):r("invalid-select",O.value)},te=me=>{_e(),J(),D.value.closeOnAutoApply&&!me&&Oe()},_e=()=>{d.value&&k.value.enabled&&d.value.setParsedDate(O.value)},be=(me=!1)=>{i.autoApply&&w(O.value)&&ie()&&(S.value.enabled&&Array.isArray(O.value)?(S.value.partialRange||O.value.length===2)&&te(me):te(me))},Ee=()=>{k.value.enabled||(O.value=null)},Oe=()=>{R.value.enabled||(o.value&&(o.value=!1,ne.value=!1,v(!1),y(!1),b(),r("closed"),V.value&&G(a.value)),Ee(),r("blur"))},Le=(me,ke,Re=!1)=>{if(!me){O.value=null;return}const jt=Array.isArray(me)?!me.some(lr=>!g(lr)):g(me),Wt=w(me);jt&&Wt&&(O.value=me,ke&&(p.value=Re,fe(),r("text-submit")))},Ne=()=>{i.autoApply&&w(O.value)&&J(),_e()},rt=()=>o.value?Oe():Y(),Ve=me=>{O.value=me},vt=()=>{k.value.enabled&&(f.value=!0,j()),r("focus")},Bn=()=>{if(k.value.enabled&&(f.value=!1,G(i.modelValue),p.value)){const me=wF(h.value,m.value);me==null||me.focus()}r("blur")},Xr=me=>{c.value&&c.value.updateMonthYear(0,{month:fb(me.month),year:fb(me.year)})},jn=me=>{G(me??i.modelValue)},ar=(me,ke)=>{var Re;(Re=c.value)==null||Re.switchView(me,ke)},de=me=>D.value.onClickOutside?D.value.onClickOutside(me):Oe(),we=(me=0)=>{var ke;(ke=c.value)==null||ke.handleFlow(me)};return pj(u,d,()=>de(ie)),e({closeMenu:Oe,selectDate:fe,clearValue:re,openMenu:Y,onScroll:$,formatInputValue:j,updateInternalModelValue:Ve,setMonthYear:Xr,parseModel:jn,switchView:ar,toggleMenu:rt,handleFlow:we}),(me,ke)=>(ee(),le("div",{ref_key:"pickerWrapperRef",ref:h,class:We(X.value),"data-datepicker-instance":""},[qe(cj,sn({ref_key:"inputRef",ref:d,"input-value":ae(V),"onUpdate:inputValue":ke[0]||(ke[0]=Re=>fn(V)?V.value=Re:null),"is-menu-open":o.value},me.$props,{onClear:re,onOpen:Y,onSetInputDate:Le,onSetEmptyDate:ae(J),onSelectDate:fe,onToggle:rt,onClose:Oe,onFocus:vt,onBlur:Bn,onRealBlur:ke[1]||(ke[1]=Re=>f.value=!1)}),Ln({_:2},[Qe(ae(M),(Re,jt)=>({name:Re,fn:ze(Wt=>[De(me.$slots,Re,dn(Kn(Wt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ee(),Ue(Bd(me.teleport?qS:"div"),dn(Kn(oe.value)),{default:ze(()=>[qe(Br,{name:ae(E)(ae(F)),css:ae(C)&&!ae(R).enabled},{default:ze(()=>[o.value?(ee(),le("div",sn({key:0,ref_key:"dpWrapMenuRef",ref:u},ce.value,{class:{"dp--menu-wrapper":!ae(R).enabled},style:ae(R).enabled?void 0:ae(q)}),[qe(_b,sn({ref_key:"dpMenuRef",ref:c},me.$props,{"internal-model-value":ae(O),"onUpdate:internalModelValue":ke[2]||(ke[2]=Re=>fn(O)?O.value=Re:null),class:{[W.value]:!0,"dp--menu-wrapper":me.teleport},"open-on-top":ae(F),"no-overlay-focus":Q.value,collapse:_.value,"get-input-rect":L,onClosePicker:Oe,onSelectDate:fe,onAutoApply:be,onTimeUpdate:Ne,onFlowStep:ke[3]||(ke[3]=Re=>me.$emit("flow-step",Re)),onUpdateMonthYear:ke[4]||(ke[4]=Re=>me.$emit("update-month-year",Re)),onInvalidSelect:ke[5]||(ke[5]=Re=>me.$emit("invalid-select",ae(O))),onAutoApplyInvalid:ke[6]||(ke[6]=Re=>me.$emit("invalid-select",Re)),onInvalidFixedRange:ke[7]||(ke[7]=Re=>me.$emit("invalid-fixed-range",Re)),onRecalculatePosition:ae(Z),onTooltipOpen:ke[8]||(ke[8]=Re=>me.$emit("tooltip-open",Re)),onTooltipClose:ke[9]||(ke[9]=Re=>me.$emit("tooltip-close",Re)),onTimePickerOpen:ke[10]||(ke[10]=Re=>me.$emit("time-picker-open",Re)),onTimePickerClose:ke[11]||(ke[11]=Re=>me.$emit("time-picker-close",Re)),onAmPmChange:ke[12]||(ke[12]=Re=>me.$emit("am-pm-change",Re)),onRangeStart:ke[13]||(ke[13]=Re=>me.$emit("range-start",Re)),onRangeEnd:ke[14]||(ke[14]=Re=>me.$emit("range-end",Re)),onDateUpdate:ke[15]||(ke[15]=Re=>me.$emit("date-update",Re)),onInvalidDate:ke[16]||(ke[16]=Re=>me.$emit("invalid-date",Re)),onOverlayToggle:ke[17]||(ke[17]=Re=>me.$emit("overlay-toggle",Re))}),Ln({_:2},[Qe(ae(B),(Re,jt)=>({name:Re,fn:ze(Wt=>[De(me.$slots,Re,dn(Kn({...Wt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):ge("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),$u=(()=>{const t=mj;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),gj=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"}));Object.entries(gj).forEach(([t,e])=>{t!=="default"&&($u[t]=e)});const vj=A("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),yj={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},_j={class:"relative p-4 max-w-2xl max-h-full"},bj={class:"relative bg-white rounded-lg shadow"},wj={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},Ej=A("h3",{class:"text-lg font-semibold text-black"}," Avukat Uygun Randevu Saatleri ",-1),Tj=A("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Aj=A("span",{class:"sr-only"},"Close modal",-1),kj=[Tj,Aj],xj={class:"p-4 px-10 max-h-full flex items-center justify-center"},Ij={id:"timetable",class:"pt-4 grid w-full grid-cols-3 gap-2 mb-5"},Sj=["id"],Rj=["for"],Oj={__name:"AttorneyScheduleModal",emits:["close"],setup(t,{emit:e}){const n=he(new Date),r={Monday:["09:00","10:00","11:30","13:00","14:30","16:00"],Tuesday:["09:30","10:30","12:00","13:30","15:00","16:30"],Wednesday:["09:00","11:00","12:30","14:00","15:30","17:00"],Thursday:["08:30","10:00","11:30","13:00","14:30","16:00"],Friday:["09:00","10:30","12:00","13:30","15:00","16:30"],Saturday:["10:00","11:30","13:00","14:30","16:00","17:30"],Sunday:["09:30","11:00","12:30","14:00","15:30","17:00"]},i=pe(()=>{const s=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n.value);return r[s]});return Et(()=>{console.log("Component mounted")}),(s,o)=>(ee(),le(Se,null,[vj,A("div",yj,[A("div",_j,[A("div",bj,[A("div",wj,[Ej,A("button",{type:"button",onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},kj)]),A("div",xj,[A("div",null,[qe(ae($u),{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),inline:"","auto-apply":"",name:"date",class:"form-input w-full","enable-time-picker":!1},null,8,["modelValue"]),A("ul",Ij,[(ee(!0),le(Se,null,Qe(i.value,(a,l)=>(ee(),le("li",{key:l},[A("input",{type:"radio",id:"time-"+l,value:"",class:"hidden peer",name:"timetable"},null,8,Sj),A("label",{for:"time-"+l,class:"inline-flex items-center justify-center w-full px-2 py-1 text-sm font-medium text-center hover:text-gray-900 dark:hover:text-white bg-white border rounded-lg cursor-pointer text-gray-500 border-gray-200 peer-checked:border-blue-700 peer-checked:bg-blue-50 peer-checked:text-blue-700 hover:bg-gray-50"},Ie(a),9,Rj)]))),128))])])])])])])],64))}},Pj={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Cj={class:"flex justify-between items-center mb-4"},Dj={class:"text-4xl font-bold text-gray-800"},Nj=A("div",{class:"text-lg font-medium text-gray-500"},"Toplam Online Grmeler",-1),Mj=A("div",{class:"text-gray-400"},[A("i",{class:"ri-group-line text-4xl"})],-1),Lj={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},$j={class:"text-right text-sm font-medium text-gray-600 mt-2"},Vj={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Fj={class:"flex justify-between items-center mb-4"},Bj={class:"flex items-center mb-1"},jj={class:"text-4xl font-bold text-gray-800"},Uj={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},qj=A("div",{class:"text-lg font-medium text-gray-500"},"Yaklaan Grmeler",-1),Hj=A("div",{class:"text-gray-400"},[A("i",{class:"ri-calendar-check-line text-4xl"})],-1),zj=A("div",{class:"text-gray-600 font-medium"},"Gncel Durum:",-1),Kj={class:"mt-2 flex flex-wrap"},Wj={key:0,class:"flex items-center justify-center bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Yj=A("div",{class:"text-2xl font-bold text-gray-800 mb-4"},"Avukat izelgesi",-1),Gj={key:1,class:"bg-white border border-gray-200 rounded-lg p-6 shadow-lg"},Qj=A("div",{class:"flex justify-between items-center mb-4 bg-gray-800 p-2 rounded-t-lg"},[A("div",{class:"flex items-center p-2"},[A("i",{class:"ri-award-line text-2xl text-white"}),A("div",{class:"ml-2 text-lg font-bold text-white"},"En ok Grme Yapan Avukatlar")])],-1),Xj={class:"mt-2 space-y-2"},Jj={class:"flex items-center"},Zj={class:"bg-gray-800 text-white rounded-full h-8 w-8 flex items-center justify-center font-bold"},eU={class:"pl-4 flex items-center justify-stretch"},tU={class:"text-lg font-bold"},nU={class:"text-xl border-l-2 border-gray-800 px-4"},rU={__name:"MeetingCards",props:{totalMeetings:Number,approvedMeetings:Number,satisfactionRate:Number,meetingStatusSummary:Object,topAttorneys:Array,showTopAttorneys:Boolean,showAttorneySchedule:Boolean},setup(t){const e=Cs(),n=pe(()=>e.getters.userRole),r=he(!1),i=()=>n.value==="admin",s=t,o={0:"bg-blue-100 text-blue-700",1:"bg-green-100 text-green-700",2:"bg-gray-100 text-gray-700",3:"bg-red-100 text-red-700",4:"bg-orange-100 text-orange-700",5:"bg-orange-100 text-orange-700",6:"bg-black text-white",7:"bg-black text-white"},a=c=>{switch(c){case"0":return"stek";case"1":return"Kabul Edildi";case"2":return"Tamamland";case"3":return"Reddedildi";case"4":return"Mteri Onay";case"5":return"Avukat Onay";case"6":return"ptal Edildi";default:return"Unknown"}},l=pe(()=>s.totalMeetings===0?0:(s.approvedMeetings/s.totalMeetings*100).toFixed(2)),u=pe(()=>s.totalMeetings===0?0:(s.totalMeetings/100*100).toFixed(2));return Et(()=>{console.log("isAdmin",i())}),(c,d)=>(ee(),le(Se,null,[r.value?(ee(),Ue(Oj,{key:0,onClose:d[0]||(d[0]=f=>r.value=!1)})):ge("",!0),A("div",{class:We(["grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",{"lg:grid-cols-3":i()}])},[A("div",Pj,[A("div",Cj,[A("div",null,[A("div",Dj,Ie(t.totalMeetings),1),Nj]),Mj]),A("div",Lj,[A("div",{class:"h-full bg-blue-600",style:cn({width:u.value+"%"})},null,4)]),A("div",$j,Ie(u.value)+"%",1)]),A("div",Vj,[A("div",Fj,[A("div",null,[A("div",Bj,[A("div",jj,Ie(t.approvedMeetings),1),A("div",Uj," +"+Ie(l.value)+"% ",1)]),qj]),Hj]),zj,A("div",Kj,[(ee(!0),le(Se,null,Qe(t.meetingStatusSummary,(f,h)=>(ee(),le("span",{key:h,class:We([o[h],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ie(a(h))+": "+Ie(f),3))),128))])]),t.showAttorneySchedule&&n.value==="admin"?(ee(),le("div",Wj,[A("div",null,[Yj,A("button",{onClick:d[1]||(d[1]=f=>r.value=!0),class:"text-white w-full inline-flex items-center justify-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," izelgeyi Grntle ")])])):ge("",!0),t.showTopAttorneys?(ee(),le("div",Gj,[Qj,A("ul",Xj,[(ee(!0),le(Se,null,Qe(t.topAttorneys,(f,h)=>(ee(),le("li",{key:h,class:"flex items-center justify-between text-lg font-medium text-black bg-gray-100 h-10 rounded-lg"},[A("div",Jj,[A("div",Zj,Ie(h+1),1),A("div",eU,[A("div",tU,Ie(f.name),1)])]),A("div",nU,Ie(f.meetings),1)]))),128))])])):ge("",!0)],2)],64))}},iU={},sU={class:"bg-white border border-gray-200 shadow-md shadow-black/5 p-6 rounded-md"};function oU(t,e){return ee(),le("section",sU,[De(t.$slots,"default")])}const rx=Yr(iU,[["render",oU]]),aU={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},lU={key:1,tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},uU={class:"relative p-4 w-full max-w-2xl max-h-full"},cU={class:"relative bg-white rounded-lg shadow"},dU={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},fU=A("h3",{class:"text-lg font-semibold text-black"}," Danan Dkmanlar ",-1),hU=A("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),pU=A("span",{class:"sr-only"},"Close modal",-1),mU=[hU,pU],gU={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},vU={class:"col-span-2"},yU=A("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Grme Notu",-1),_U={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},bU={class:"col-span-2"},wU=A("label",{for:"documents",class:"block mb-2 text-sm font-medium text-gray-900"},"Grme Evraklar",-1),EU={key:0,class:"grid gap-4 grid-cols-1 md:grid-cols-2"},TU={class:"flex items-center justify-between"},AU={class:"flex items-center"},kU={class:"flex flex-col items-center justify-center mr-4"},xU=A("i",{class:"ri-file-fill text-3xl"},null,-1),IU={class:"text-sm text-gray-500"},SU={class:"text-sm text-gray-500"},RU=["onClick"],OU=A("i",{class:"ri-download-2-line text-2xl"},null,-1),PU=A("span",{class:"sr-only"},"Close modal",-1),CU=[OU,PU],DU={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 w-full flex items-center"},NU=A("p",{class:"text-sm text-gray-500 font-normal"}," Danan herhangi bir evrak eklemedi. ",-1),MU=[NU],LU={__name:"DocumentsModal",props:{show:Boolean,customerNotes:String,customerDocuments:Array},emits:["close"],setup(t,{emit:e}){const n=r=>{window.open(r.file_url,"_blank")};return(r,i)=>(ee(),le(Se,null,[t.show?(ee(),le("div",aU)):ge("",!0),t.show?(ee(),le("div",lU,[A("div",uU,[A("div",cU,[A("div",dU,[fU,A("button",{type:"button",onClick:i[0]||(i[0]=s=>r.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},mU)]),A("div",gU,[A("div",vU,[yU,A("p",_U,Ie(t.customerNotes),1)]),A("div",bU,[wU,t.customerDocuments.length!=0?(ee(),le("div",EU,[(ee(!0),le(Se,null,Qe(t.customerDocuments,s=>(ee(),le("div",{key:s.name,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},[A("div",TU,[A("div",AU,[A("div",kU,[xU,A("p",IU,Ie(s.kind),1)]),A("div",null,[A("p",null,Ie(s.name),1),A("p",SU,Ie(s.size),1)])]),A("button",{type:"button",onClick:o=>n(s),class:"bg-transparent mt-1 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},CU,8,RU)])]))),128))])):(ee(),le("div",DU,MU))])])])])])):ge("",!0)],64))}},$U=A("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),VU={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},FU={class:"relative p-4 w-[32rem] max-h-full"},BU={class:"relative bg-white rounded-lg shadow"},jU={class:"flex items-center justify-between p-4 border-b rounded-t"},UU=A("h3",{class:"text-lg font-semibold text-black"}," Yeni Randevu stei ",-1),qU=A("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),HU=A("span",{class:"sr-only"},"Close modal",-1),zU=[qU,HU],KU={class:"px-6 py-4 w-full mx-auto bg-white rounded-xl space-y-4"},WU={class:"flex items-center justify-center space-x-4"},YU={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},GU={class:"text-sm"},QU={class:"text-4xl font-bold"},XU={class:"text-sm"},JU={class:"p-2"},ZU=A("h2",{class:"text-xl font-bold"},"Onaylyor musun?",-1),e9={class:"flex items-center text-gray-500 space-x-2"},t9=A("i",{class:"ri-time-line text-lg"},null,-1),n9={class:"flex space-x-2 mt-2"},r9={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},i9={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},s9={key:0,class:"bg-green-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},o9=A("p",{class:"text-sm text-gray-500 font-normal"}," Online grme baaryla oluturuldu. ",-1),a9=[o9],l9={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},u9=A("p",{class:"text-sm text-gray-500 font-normal"}," Randevu baaryla reddedildi. ",-1),c9=[u9],d9={key:2,class:"bg-gray-50 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},f9=A("p",{class:"text-sm text-gray-500 font-normal"}," Randevuyu onaylarsanz, online grme oluturulup ilgili avukat ve mvekkil mail bilgilendirilecektir. ",-1),h9=[f9],p9={key:3,class:"flex items-center justify-center space-x-4 mt-2"},m9={key:1},g9={key:4,class:"mb-2 rounded-lg"},v9=A("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},"Reddetme sebebi",-1),y9={class:"flex items-center justify-center space-x-4 mt-4"},_9={key:1},b9={__name:"Status0Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=he(!1),r=he(!1),i=he(!1),s=he(!1),o=he(""),a=e,l=()=>{n.value=!0,setTimeout(()=>{n.value=!1,r.value=!0,setTimeout(()=>{a("set-meeting"),a("close")},700)},2e3)},u=()=>{n.value=!0,setTimeout(()=>{n.value=!1,s.value=!1,i.value=!0,setTimeout(()=>{a("reject-meeting",o.value)},700)},2e3)};return Et(()=>{console.log("status 0 modal mounted")}),(c,d)=>(ee(),le(Se,null,[$U,A("div",VU,[A("div",FU,[A("div",BU,[A("div",jU,[UU,A("button",{type:"buttona",onClick:d[0]||(d[0]=f=>c.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},zU)]),A("div",KU,[A("div",WU,[A("div",YU,[A("div",GU,Ie(t.formattedDate.month),1),A("div",QU,Ie(t.formattedDate.dayNumber),1),A("div",XU,Ie(t.formattedDate.dayName),1)]),A("div",JU,[ZU,A("div",e9,[t9,A("span",null,Ie(t.formattedDate.time)+" -",1),A("span",null,Ie(t.formattedDate.meetingTimeEnd),1)]),A("div",n9,[A("span",r9,Ie(t.meetingData.attorney_name),1),A("span",i9,Ie(t.meetingData.customer_name),1)])])]),A("div",null,[r.value?(ee(),le("div",s9,a9)):ge("",!0),i.value?(ee(),le("div",l9,c9)):ge("",!0),!r.value&&!i.value&&!s.value?(ee(),le("div",d9,h9)):ge("",!0),!r.value&&!i.value&&!s.value?(ee(),le("div",p9,[A("button",{onClick:l,class:"bg-green-600 text-white hover:bg-green-700 px-4 py-2 rounded-md"},[n.value?(ee(),Ue(lu,{key:0,text:"Oluturuluyor"})):(ee(),le("span",m9,"Evet"))]),A("button",{onClick:d[1]||(d[1]=f=>s.value=!0),class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md"}," Hayr ")])):ge("",!0),s.value?(ee(),le("div",g9,[v9,bt(A("textarea",{id:"reason","onUpdate:modelValue":d[2]||(d[2]=f=>o.value=f),rows:"3",class:"block w-full h-32 bg-gray-100 rounded-md border-gray-300 shadow-sm"},null,512),[[hi,o.value]]),A("div",y9,[A("button",{onClick:u,class:"bg-red-600 text-white hover:bg-red-700 px-4 py-2 rounded-md"},[n.value?(ee(),Ue(lu,{key:0,text:"Kaydediliyor"})):(ee(),le("span",_9,"Kaydet"))])])])):ge("",!0)])])])])])],64))}};/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const Fc=1e3,Bc=60*Fc,jc=60*Bc,bb=24*jc,wb="abort",Eb="end",Tb="progress",Ab="start",kb="visibilitychange";var w9=Kt({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[wb,Eb,Tb,Ab],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/bb)},hours(){return Math.floor(this.totalMilliseconds%bb/jc)},minutes(){return Math.floor(this.totalMilliseconds%jc/Bc)},seconds(){return Math.floor(this.totalMilliseconds%Bc/Fc)},milliseconds(){return Math.floor(this.totalMilliseconds%Fc)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/jc)},totalMinutes(){return Math.floor(this.totalMilliseconds/Bc)},totalSeconds(){return Math.floor(this.totalMilliseconds/Fc)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(kb,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(kb,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(Ab),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const r=i=>{e||(e=i),n||(n=i);const s=i-e;s>=t||s+(i-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(r),n=i};this.requestId=requestAnimationFrame(r)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(Tb,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(wb))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(Eb))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return Ra(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const E9=A("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),T9={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},A9={class:"relative p-4 w-[36rem] max-h-full"},k9={class:"relative bg-white rounded-lg shadow"},x9={class:"flex items-center justify-between p-4 border-b rounded-t"},I9=A("h3",{class:"text-lg font-semibold text-black"}," Toplant Detaylar ",-1),S9=A("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),R9=A("span",{class:"sr-only"},"Close modal",-1),O9=[S9,R9],P9={class:"px-6 py-4"},C9={class:"flex items-center justify-center space-x-4"},D9={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},N9={class:"text-sm"},M9={class:"text-4xl font-bold"},L9={class:"text-sm"},$9={class:"p-2"},V9=A("h2",{class:"text-xl font-bold"},"Toplant Detaylar",-1),F9={class:"flex items-center text-gray-500 space-x-2"},B9=A("i",{class:"ri-time-line text-lg"},null,-1),j9={class:"flex space-x-2 mt-2"},U9={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},q9={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},H9={class:"mb-4"},z9=A("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Randevu Sebebi",-1),K9={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},W9={class:"mb-4"},Y9={class:"bg-gray-50 border border-gray-300 rounded-lg flex flex-col items-center justify-center"},G9={class:"flex items-center space-x-2 text-gray-800 text-lg mx-3"},Q9=A("div",{class:"mr-2"},"Kalan Sre:",-1),X9={key:0},J9={class:"flex items-center justify-center space-x-4 mt-2"},Z9=["href"],eq={__name:"Status1Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=pe(()=>{if(n.meetingData.date_time&&n.meetingData.date_time.seconds){const a=new Date(n.meetingData.date_time.seconds*1e3)-new Date;return a>0?a:0}return 0});async function i(s){try{await navigator.clipboard.writeText(s)}catch{}}return(s,o)=>(ee(),le(Se,null,[E9,A("div",T9,[A("div",A9,[A("div",k9,[A("div",x9,[I9,A("button",{type:"button",onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},O9)]),A("div",P9,[A("div",C9,[A("div",D9,[A("div",N9,Ie(t.formattedDate.month),1),A("div",M9,Ie(t.formattedDate.dayNumber),1),A("div",L9,Ie(t.formattedDate.dayName),1)]),A("div",$9,[V9,A("div",F9,[B9,A("span",null,Ie(t.formattedDate.time)+" -",1),A("span",null,Ie(t.formattedDate.meetingTimeEnd),1)]),A("div",j9,[A("span",U9,Ie(t.meetingData.attorney_name),1),A("span",q9,Ie(t.meetingData.customer_name),1)])])]),A("div",H9,[z9,A("p",K9,Ie(t.meetingData.topic),1)]),A("div",W9,[A("div",Y9,[qe(ae(w9),{class:"text-lg font-bold p-4",time:r.value},{default:ze(({days:a,hours:l,minutes:u,seconds:c})=>[A("div",G9,[Q9,a>1?(ee(),le("span",X9,Ie(a)+" gn",1)):ge("",!0),A("span",null,Ie(l)+" saat",1),A("span",null,Ie(u)+" dakika",1),A("span",null,Ie(c)+" saniye",1)])]),_:1},8,["time"])])]),A("div",J9,[A("a",{href:t.meetingData.meeting_url,target:"_blank",class:"text-white w-32 bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Katl ",8,Z9),A("button",{onClick:o[1]||(o[1]=a=>i(t.meetingData.meeting_url)),class:"bg-gray-200 text-xl ri-clipboard-line hover:bg-gray-300 px-2 py-2 rounded-md"})])])])])])],64))}},tq=A("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),nq={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},rq={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},iq={class:"relative bg-white rounded-lg shadow"},sq={class:"flex items-center justify-between p-4 border-b rounded-t"},oq=A("h3",{class:"text-lg font-semibold text-black"}," ptal Edilme Sebebi ",-1),aq=A("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),lq=A("span",{class:"sr-only"},"Close modal",-1),uq=[aq,lq],cq={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},dq={class:"col-span-2"},fq=A("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),hq={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},pq={__name:"Status3Modal",props:{rejectReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ee(),le(Se,null,[tq,A("div",nq,[A("div",rq,[A("div",iq,[A("div",sq,[oq,A("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},uq)]),A("div",cq,[A("div",dq,[fq,A("p",hq,Ie(t.rejectReason),1)])])])])])],64))}};function mq(t,e){var n=new Date(t.created_date.split(".").reverse().join(".")),r=new Date(e.created_date.split(".").reverse().join("."));return r-n}function Vm(t,e="all"){if(!t)return"";if(t.seconds){const n=new Date(t.seconds*1e3),r=n.toLocaleDateString("tr-TR"),i=n.getHours().toString().padStart(2,"0"),s=n.getMinutes().toString().padStart(2,"0"),o=`${i}:${s}`,a=n.toLocaleDateString("tr-TR",{month:"short"}).toUpperCase(),l=n.getDate(),u=n.toLocaleDateString("tr-TR",{weekday:"long"});switch(e){case"date":return r;case"time":return o;case"month":return a;case"day-number":return l;case"day-name":return u;case"all":default:return{date:r,time:o,month:a,dayNumber:l,dayName:u}}}}function gq(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const vq={__name:"StatusActionModalHandler",props:{meetingData:{type:Object,required:!0},keepStatusModalOpen:{type:Boolean,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=e,r=t;function i(a){const l=new Date(a*1e3);l.setHours(l.getHours()+1);const u=l.getHours().toString().padStart(2,"0"),c=l.getMinutes().toString().padStart(2,"0");return`${u}:${c}`}const s=pe(()=>{const a=r.meetingData.date_time,l=Vm(a,"all");return l.meetingTimeEnd=i(a),l}),o=a=>{n("reject-meeting",a)};return(a,l)=>(ee(),le(Se,null,[t.meetingData.status==="0"&&t.keepStatusModalOpen?(ee(),Ue(b9,{key:0,onClose:l[0]||(l[0]=u=>a.$emit("close")),meetingData:t.meetingData,formattedDate:s.value,onSetMeeting:l[1]||(l[1]=u=>a.$emit("set-meeting")),onRejectMeeting:o},null,8,["meetingData","formattedDate"])):ge("",!0),t.meetingData.status==="1"&&t.keepStatusModalOpen?(ee(),Ue(eq,{key:1,onClose:l[2]||(l[2]=u=>a.$emit("close")),meetingData:t.meetingData,formattedDate:s.value},null,8,["meetingData","formattedDate"])):ge("",!0),t.meetingData.status==="3"&&t.keepStatusModalOpen?(ee(),Ue(pq,{key:2,onClose:l[3]||(l[3]=u=>a.$emit("close")),rejectReason:t.meetingData.reject_reason},null,8,["rejectReason"])):ge("",!0)],64))}};function ix(t,e){return function(){return t.apply(e,arguments)}}const{toString:yq}=Object.prototype,{getPrototypeOf:Jv}=Object,Hf=(t=>e=>{const n=yq.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qr=t=>(t=t.toLowerCase(),e=>Hf(e)===t),zf=t=>e=>typeof e===t,{isArray:Ba}=Array,du=zf("undefined");function _q(t){return t!==null&&!du(t)&&t.constructor!==null&&!du(t.constructor)&&Tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sx=Qr("ArrayBuffer");function bq(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sx(t.buffer),e}const wq=zf("string"),Tr=zf("function"),ox=zf("number"),Kf=t=>t!==null&&typeof t=="object",Eq=t=>t===!0||t===!1,Uc=t=>{if(Hf(t)!=="object")return!1;const e=Jv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tq=Qr("Date"),Aq=Qr("File"),kq=Qr("Blob"),xq=Qr("FileList"),Iq=t=>Kf(t)&&Tr(t.pipe),Sq=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tr(t.append)&&((e=Hf(t))==="formdata"||e==="object"&&Tr(t.toString)&&t.toString()==="[object FormData]"))},Rq=Qr("URLSearchParams"),[Oq,Pq,Cq,Dq]=["ReadableStream","Request","Response","Headers"].map(Qr),Nq=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ba(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function ax(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const lx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ux=t=>!du(t)&&t!==lx;function Fm(){const{caseless:t}=ux(this)&&this||{},e={},n=(r,i)=>{const s=t&&ax(e,i)||i;Uc(e[s])&&Uc(r)?e[s]=Fm(e[s],r):Uc(r)?e[s]=Fm({},r):Ba(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Vu(arguments[r],n);return e}const Mq=(t,e,n,{allOwnKeys:r}={})=>(Vu(e,(i,s)=>{n&&Tr(i)?t[s]=ix(i,n):t[s]=i},{allOwnKeys:r}),t),Lq=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$q=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Vq=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Jv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Fq=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Bq=t=>{if(!t)return null;if(Ba(t))return t;let e=t.length;if(!ox(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jq=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jv(Uint8Array)),Uq=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},qq=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Hq=Qr("HTMLFormElement"),zq=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),xb=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Kq=Qr("RegExp"),cx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Vu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Wq=t=>{cx(t,(e,n)=>{if(Tr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Tr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Yq=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ba(t)?r(t):r(String(t).split(e)),n},Gq=()=>{},Qq=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,xp="abcdefghijklmnopqrstuvwxyz",Ib="0123456789",dx={DIGIT:Ib,ALPHA:xp,ALPHA_DIGIT:xp+xp.toUpperCase()+Ib},Xq=(t=16,e=dx.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Jq(t){return!!(t&&Tr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Zq=t=>{const e=new Array(10),n=(r,i)=>{if(Kf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Ba(r)?[]:{};return Vu(r,(o,a)=>{const l=n(o,i+1);!du(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},e8=Qr("AsyncFunction"),t8=t=>t&&(Kf(t)||Tr(t))&&Tr(t.then)&&Tr(t.catch),ve={isArray:Ba,isArrayBuffer:sx,isBuffer:_q,isFormData:Sq,isArrayBufferView:bq,isString:wq,isNumber:ox,isBoolean:Eq,isObject:Kf,isPlainObject:Uc,isReadableStream:Oq,isRequest:Pq,isResponse:Cq,isHeaders:Dq,isUndefined:du,isDate:Tq,isFile:Aq,isBlob:kq,isRegExp:Kq,isFunction:Tr,isStream:Iq,isURLSearchParams:Rq,isTypedArray:jq,isFileList:xq,forEach:Vu,merge:Fm,extend:Mq,trim:Nq,stripBOM:Lq,inherits:$q,toFlatObject:Vq,kindOf:Hf,kindOfTest:Qr,endsWith:Fq,toArray:Bq,forEachEntry:Uq,matchAll:qq,isHTMLForm:Hq,hasOwnProperty:xb,hasOwnProp:xb,reduceDescriptors:cx,freezeMethods:Wq,toObjectSet:Yq,toCamelCase:zq,noop:Gq,toFiniteNumber:Qq,findKey:ax,global:lx,isContextDefined:ux,ALPHABET:dx,generateString:Xq,isSpecCompliantForm:Jq,toJSONObject:Zq,isAsyncFn:e8,isThenable:t8};function tt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ve.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const fx=tt.prototype,hx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hx[t]={value:t}});Object.defineProperties(tt,hx);Object.defineProperty(fx,"isAxiosError",{value:!0});tt.from=(t,e,n,r,i,s)=>{const o=Object.create(fx);return ve.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),tt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const n8=null;function Bm(t){return ve.isPlainObject(t)||ve.isArray(t)}function px(t){return ve.endsWith(t,"[]")?t.slice(0,-2):t}function Sb(t,e,n){return t?t.concat(e).map(function(i,s){return i=px(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function r8(t){return ve.isArray(t)&&!t.some(Bm)}const i8=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Wf(t,e,n){if(!ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!ve.isUndefined(_[m])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(ve.isDate(p))return p.toISOString();if(!l&&ve.isBlob(p))throw new tt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(p)||ve.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,m,_){let v=p;if(p&&!_&&typeof p=="object"){if(ve.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(ve.isArray(p)&&r8(p)||(ve.isFileList(p)||ve.endsWith(m,"[]"))&&(v=ve.toArray(p)))return m=px(m),v.forEach(function(b,g){!(ve.isUndefined(b)||b===null)&&e.append(o===!0?Sb([m],g,s):o===null?m:m+"[]",u(b))}),!1}return Bm(p)?!0:(e.append(Sb(_,m,s),u(p)),!1)}const d=[],f=Object.assign(i8,{defaultVisitor:c,convertValue:u,isVisitable:Bm});function h(p,m){if(!ve.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),ve.forEach(p,function(v,y){(!(ve.isUndefined(v)||v===null)&&i.call(e,v,ve.isString(y)?y.trim():y,m,f))===!0&&h(v,m?m.concat(y):[y])}),d.pop()}}if(!ve.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Rb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Zv(t,e){this._pairs=[],t&&Wf(t,this,e)}const mx=Zv.prototype;mx.append=function(e,n){this._pairs.push([e,n])};mx.toString=function(e){const n=e?function(r){return e.call(this,r,Rb)}:Rb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function s8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gx(t,e,n){if(!e)return t;const r=n&&n.encode||s8,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ve.isURLSearchParams(e)?e.toString():new Zv(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Ob{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o8=typeof URLSearchParams<"u"?URLSearchParams:Zv,a8=typeof FormData<"u"?FormData:null,l8=typeof Blob<"u"?Blob:null,u8={isBrowser:!0,classes:{URLSearchParams:o8,FormData:a8,Blob:l8},protocols:["http","https","file","blob","url","data"]},ey=typeof window<"u"&&typeof document<"u",c8=(t=>ey&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),d8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",f8=ey&&window.location.href||"http://localhost",h8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ey,hasStandardBrowserEnv:c8,hasStandardBrowserWebWorkerEnv:d8,origin:f8},Symbol.toStringTag,{value:"Module"})),Fr={...h8,...u8};function p8(t,e){return Wf(t,new Fr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Fr.isNode&&ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function m8(t){return ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function g8(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function yx(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&ve.isArray(i)?i.length:o,l?(ve.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ve.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&ve.isArray(i[o])&&(i[o]=g8(i[o])),!a)}if(ve.isFormData(t)&&ve.isFunction(t.entries)){const n={};return ve.forEachEntry(t,(r,i)=>{e(m8(r),i,n,0)}),n}return null}function v8(t,e,n){if(ve.isString(t))try{return(e||JSON.parse)(t),ve.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Fu={transitional:vx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ve.isObject(e);if(s&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return i?JSON.stringify(yx(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return p8(e,this.formSerializer).toString();if((a=ve.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),v8(e)):e}],transformResponse:[function(e){const n=this.transitional||Fu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?tt.from(a,tt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fr.classes.FormData,Blob:Fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],t=>{Fu.headers[t]={}});const y8=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_8=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&y8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Pb=Symbol("internals");function il(t){return t&&String(t).trim().toLowerCase()}function qc(t){return t===!1||t==null?t:ve.isArray(t)?t.map(qc):String(t)}function b8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const w8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ip(t,e,n,r,i){if(ve.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ve.isString(e)){if(ve.isString(r))return e.indexOf(r)!==-1;if(ve.isRegExp(r))return r.test(e)}}function E8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function T8(t,e){const n=ve.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class ir{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=il(l);if(!c)throw new Error("header name must be a non-empty string");const d=ve.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=qc(a))}const o=(a,l)=>ve.forEach(a,(u,c)=>s(u,c,l));if(ve.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ve.isString(e)&&(e=e.trim())&&!w8(e))o(_8(e),n);else if(ve.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=il(e),e){const r=ve.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return b8(i);if(ve.isFunction(n))return n.call(this,i,r);if(ve.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=il(e),e){const r=ve.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ip(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=il(o),o){const a=ve.findKey(r,o);a&&(!n||Ip(r,r[a],a,n))&&(delete r[a],i=!0)}}return ve.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Ip(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ve.forEach(this,(i,s)=>{const o=ve.findKey(r,s);if(o){n[o]=qc(i),delete n[s];return}const a=e?E8(s):String(s).trim();a!==s&&delete n[s],n[a]=qc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ve.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Pb]=this[Pb]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=il(o);r[a]||(T8(i,o),r[a]=!0)}return ve.isArray(e)?e.forEach(s):s(e),this}}ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(ir.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ve.freezeMethods(ir);function Sp(t,e){const n=this||Fu,r=e||n,i=ir.from(r.headers);let s=r.data;return ve.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function _x(t){return!!(t&&t.__CANCEL__)}function ja(t,e,n){tt.call(this,t??"canceled",tt.ERR_CANCELED,e,n),this.name="CanceledError"}ve.inherits(ja,tt,{__CANCEL__:!0});function bx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new tt("Request failed with status code "+n.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function A8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function k8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function x8(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Id=(t,e,n=3)=>{let r=0;const i=k8(50,250);return x8(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null};d[e?"download":"upload"]=!0,t(d)},n)},I8=Fr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=ve.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),S8=Fr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];ve.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ve.isString(r)&&o.push("path="+r),ve.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function O8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wx(t,e){return t&&!R8(e)?O8(t,e):e}const Cb=t=>t instanceof ir?{...t}:t;function _o(t,e){e=e||{};const n={};function r(u,c,d){return ve.isPlainObject(u)&&ve.isPlainObject(c)?ve.merge.call({caseless:d},u,c):ve.isPlainObject(c)?ve.merge({},c):ve.isArray(c)?c.slice():c}function i(u,c,d){if(ve.isUndefined(c)){if(!ve.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!ve.isUndefined(c))return r(void 0,c)}function o(u,c){if(ve.isUndefined(c)){if(!ve.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(Cb(u),Cb(c),!0)};return ve.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,f=d(t[c],e[c],c);ve.isUndefined(f)&&d!==a||(n[c]=f)}),n}const Ex=t=>{const e=_o({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=ir.from(o),e.url=gx(wx(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ve.isFormData(n)){if(Fr.hasStandardBrowserEnv||Fr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Fr.hasStandardBrowserEnv&&(r&&ve.isFunction(r)&&(r=r(e)),r||r!==!1&&I8(e.url))){const u=i&&s&&S8.read(s);u&&o.set(i,u)}return e},P8=typeof XMLHttpRequest<"u",C8=P8&&function(t){return new Promise(function(n,r){const i=Ex(t);let s=i.data;const o=ir.from(i.headers).normalize();let{responseType:a}=i,l;function u(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout;function d(){if(!c)return;const h=ir.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:h,config:t,request:c};bx(function(v){n(v),u()},function(v){r(v),u()},m),c=null}"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new tt("Request aborted",tt.ECONNABORTED,i,c)),c=null)},c.onerror=function(){r(new tt("Network Error",tt.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let p=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const m=i.transitional||vx;i.timeoutErrorMessage&&(p=i.timeoutErrorMessage),r(new tt(p,m.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,i,c)),c=null},s===void 0&&o.setContentType(null),"setRequestHeader"in c&&ve.forEach(o.toJSON(),function(p,m){c.setRequestHeader(m,p)}),ve.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),a&&a!=="json"&&(c.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&c.addEventListener("progress",Id(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Id(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=h=>{c&&(r(!h||h.type?new ja(null,t,c):h),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const f=A8(i.url);if(f&&Fr.protocols.indexOf(f)===-1){r(new tt("Unsupported protocol "+f+":",tt.ERR_BAD_REQUEST,t));return}c.send(s||null)})},D8=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof tt?u:new ja(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new tt(`timeout ${e} of ms exceeded`,tt.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},N8=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},M8=async function*(t,e,n){for await(const r of t)yield*N8(ArrayBuffer.isView(r)?r:await n(String(r)),e)},Db=(t,e,n,r,i)=>{const s=M8(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await s.next();if(l){a.close(),r();return}let c=u.byteLength;n&&n(o+=c),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},Nb=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},Yf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tx=Yf&&typeof ReadableStream=="function",jm=Yf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),L8=Tx&&(()=>{let t=!1;const e=new Request(Fr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),Mb=64*1024,Um=Tx&&!!(()=>{try{return ve.isReadableStream(new Response("").body)}catch{}})(),Sd={stream:Um&&(t=>t.body)};Yf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sd[e]&&(Sd[e]=ve.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new tt(`Response type '${e}' is not supported`,tt.ERR_NOT_SUPPORT,r)})})})(new Response);const $8=async t=>{if(t==null)return 0;if(ve.isBlob(t))return t.size;if(ve.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(ve.isArrayBufferView(t))return t.byteLength;if(ve.isURLSearchParams(t)&&(t=t+""),ve.isString(t))return(await jm(t)).byteLength},V8=async(t,e)=>{const n=ve.toFiniteNumber(t.getContentLength());return n??$8(e)},F8=Yf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=Ex(t);u=u?(u+"").toLowerCase():"text";let[h,p]=i||s||o?D8([i,s],o):[],m,_;const v=()=>{!m&&setTimeout(()=>{h&&h.unsubscribe()}),m=!0};let y;try{if(l&&L8&&n!=="get"&&n!=="head"&&(y=await V8(c,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),k;ve.isFormData(r)&&(k=I.headers.get("content-type"))&&c.setContentType(k),I.body&&(r=Db(I.body,Mb,Nb(y,Id(l)),null,jm))}ve.isString(d)||(d=d?"cors":"omit"),_=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let b=await fetch(_);const g=Um&&(u==="stream"||u==="response");if(Um&&(a||g)){const I={};["status","statusText","headers"].forEach(R=>{I[R]=b[R]});const k=ve.toFiniteNumber(b.headers.get("content-length"));b=new Response(Db(b.body,Mb,a&&Nb(k,Id(a,!0)),g&&v,jm),I)}u=u||"text";let w=await Sd[ve.findKey(Sd,u)||"text"](b,t);return!g&&v(),p&&p(),await new Promise((I,k)=>{bx(I,k,{data:w,headers:ir.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:_})})}catch(b){throw v(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,t,_),{cause:b.cause||b}):tt.from(b,b&&b.code,t,_)}}),qm={http:n8,xhr:C8,fetch:F8};ve.forEach(qm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Lb=t=>`- ${t}`,B8=t=>ve.isFunction(t)||t===null||t===!1,Ax={getAdapter:t=>{t=ve.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!B8(n)&&(r=qm[(o=String(n)).toLowerCase()],r===void 0))throw new tt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Lb).join(`
`):" "+Lb(s[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:qm};function Rp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ja(null,t)}function $b(t){return Rp(t),t.headers=ir.from(t.headers),t.data=Sp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ax.getAdapter(t.adapter||Fu.adapter)(t).then(function(r){return Rp(t),r.data=Sp.call(t,t.transformResponse,r),r.headers=ir.from(r.headers),r},function(r){return _x(r)||(Rp(t),r&&r.response&&(r.response.data=Sp.call(t,t.transformResponse,r.response),r.response.headers=ir.from(r.response.headers))),Promise.reject(r)})}const kx="1.7.2",ty={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ty[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Vb={};ty.transitional=function(e,n,r){function i(s,o){return"[Axios v"+kx+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new tt(i(o," has been removed"+(n?" in "+n:"")),tt.ERR_DEPRECATED);return n&&!Vb[o]&&(Vb[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function j8(t,e,n){if(typeof t!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new tt("option "+s+" must be "+l,tt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tt("Unknown option "+s,tt.ERR_BAD_OPTION)}}const Hm={assertOptions:j8,validators:ty},ts=Hm.validators;class uo{constructor(e){this.defaults=e,this.interceptors={request:new Ob,response:new Ob}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_o(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Hm.assertOptions(r,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),i!=null&&(ve.isFunction(i)?n.paramsSerializer={serialize:i}:Hm.assertOptions(i,{encode:ts.function,serialize:ts.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ve.merge(s.common,s[n.method]);s&&ve.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=ir.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,f;if(!l){const p=[$b.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),f=p.length,c=Promise.resolve(n);d<f;)c=c.then(p[d++],p[d++]);return c}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(_){m.call(this,_);break}}try{c=$b.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=_o(this.defaults,e);const n=wx(e.baseURL,e.url);return gx(n,e.params,e.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(e){uo.prototype[e]=function(n,r){return this.request(_o(r||{},{method:e,url:n,data:(r||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(_o(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}uo.prototype[e]=n(),uo.prototype[e+"Form"]=n(!0)});class ny{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ja(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ny(function(i){e=i}),cancel:e}}}function U8(t){return function(n){return t.apply(null,n)}}function q8(t){return ve.isObject(t)&&t.isAxiosError===!0}const zm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zm).forEach(([t,e])=>{zm[e]=t});function xx(t){const e=new uo(t),n=ix(uo.prototype.request,e);return ve.extend(n,uo.prototype,e,{allOwnKeys:!0}),ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xx(_o(t,i))},n}const Zt=xx(Fu);Zt.Axios=uo;Zt.CanceledError=ja;Zt.CancelToken=ny;Zt.isCancel=_x;Zt.VERSION=kx;Zt.toFormData=Wf;Zt.AxiosError=tt;Zt.Cancel=Zt.CanceledError;Zt.all=function(e){return Promise.all(e)};Zt.spread=U8;Zt.isAxiosError=q8;Zt.mergeConfig=_o;Zt.AxiosHeaders=ir;Zt.formToJSON=t=>yx(ve.isHTMLForm(t)?new FormData(t):t);Zt.getAdapter=Ax.getAdapter;Zt.HttpStatusCode=zm;Zt.default=Zt;const Ki=t=>(Vd("data-v-faca53e5"),t=t(),Fd(),t),H8=Ki(()=>A("div",{class:"flex justify-between mb-4 items-start"},[A("h1",{class:"font-medium"},"Online Grmeler")],-1)),z8={action:"",class:"flex items-center mb-4"},K8={class:"relative w-full mr-2"},W8=Ki(()=>A("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1)),Y8={class:"flex"},G8={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},Q8=Ki(()=>A("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),X8=Ki(()=>A("p",{class:"text-sm font-medium text-gray-800"},"Grme stekleri",-1)),J8={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},Z8=Ki(()=>A("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),e7=Ki(()=>A("p",{class:"text-sm font-medium text-gray-800"},"Kabul Edilenler",-1)),t7={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},n7=Ki(()=>A("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),r7=Ki(()=>A("p",{class:"text-sm font-medium text-gray-800"},"Beklemede Olanlar",-1)),i7={key:0,class:"w-full mt-4 table-fixed"},s7=Ki(()=>A("thead",null,[A("tr",null,[A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Avukat "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danan "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danan Tel "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Tarih "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Saat "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Grme Tr "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Evrak "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," deme "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Durum ")])],-1)),o7={class:"py-2 px-4 border-b border-b-gray-200"},a7={class:"flex items-center"},l7={class:"text-gray-600 text-sm font-medium hover:text-blue-500"},u7={class:"py-2 px-4 border-b border-b-gray-200"},c7={class:"text-[13px] font-medium text-gray-600"},d7={class:"py-2 px-4 border-b border-b-gray-200"},f7={class:"text-[13px] font-medium text-gray-600"},h7={class:"py-2 px-4 border-b border-b-gray-200"},p7={class:"text-[13px] font-medium text-gray-600"},m7={class:"py-2 px-4 border-b border-b-gray-200"},g7={class:"text-[13px] font-medium text-gray-600"},v7={class:"py-2 border-b px-4 border-b-gray-200"},y7={class:"tooltip"},_7={class:"w-10 h-10 flex items-center justify-center bg-gray-600 text-white text-xl font-medium rounded-full ml-2 ring-0"},b7={class:"tooltiptext"},w7={class:"py-2 px-4 border-b border-b-gray-200"},E7=["onClick"],T7={class:"py-2 border-b px-4 border-b-gray-200"},A7={class:"tooltip"},k7={class:"tooltiptext"},x7={class:"py-2 px-4 border-b border-b-gray-200"},I7={class:"tooltip"},S7=["onClick"],R7={class:"tooltiptext"},O7={class:"pagination-container flex justify-end mt-4 w-full"},P7=["disabled"],C7=["disabled"],D7={__name:"OnlineMeetingsManagement",props:{showAll:Boolean,uid:String},emits:["goBack"],setup(t,{emit:e}){const n=Cs(),r=pe(()=>n.getters.userRole),i=t,s=e,o=he(null),a=he(!1),l=he(!1),u=he(!1),c=he(null),d=he([]),f=he({requests:!1,accepted:!1,pending:!1}),h=he(85),p=pe(()=>{const $={};return v.value.forEach(U=>{$[U.status]?$[U.status]++:$[U.status]=1}),$}),m=pe(()=>v.value.filter($=>$.status==="1").length),_=pe(()=>{const $={};return v.value.forEach(ue=>{$[ue.attorney_name]?$[ue.attorney_name]++:$[ue.attorney_name]=1}),Object.entries($).sort((ue,H)=>H[1]-ue[1]).map(([ue,H])=>({name:ue,meetings:H})).slice(0,3)}),v=he([]),y=au(Dr,"meetings"),b=pe(()=>v.value.length),g=he(1),w=he(10),I=he(""),k=()=>{s("goBack")},R=async($,U,ue)=>{const H=new Date($.seconds*1e3).toISOString().split(".")[0]+"Z";console.log("start_time_iso",H);try{const Y=await Zt.post("https://obscure-oasis-12313-0014f39ac81c.herokuapp.com/create-meeting",{start_time:H,owner_email:U,customer_email:ue});return console.log("response data",Y.data),console.log("Meeting created successfully"),Y.data.meetLink}catch(Y){Y.response?(console.error("Error response data:",Y.response.data),console.error("Error response status:",Y.response.status),console.error("Error response headers:",Y.response.headers)):Y.request?console.error("No response received:",Y.request):console.error("Error setting up the request:",Y.message)}};async function D(){v.value=await Promise.all(v.value.map(async $=>{if($.id===o.value.id){$.status="1",console.log("Meeting data to set meeting",$);try{const U=await R($.date_time,$.attorney_email,$.customer_email);$.meeting_url=U,await Q($),console.log("Meeting updated successfully:",$),o.value={}}catch(U){console.error("Failed to create meeting URL:",U)}}return $}))}function S($){v.value=v.value.map(U=>(U.id===o.value.id&&(U.status="3",U.reject_reason=$),U))}function T($,U){a.value=!0,c.value=$,d.value=U}function E($){l.value=!0,o.value=$,u.value=!0}const C=pe(()=>{let $=v.value;I.value&&($=$.filter(Y=>Y.customer_name.toLowerCase().includes(I.value.toLowerCase())));const{requests:U,accepted:ue,pending:H}=f.value;return(U||ue||H)&&($=$.filter(Y=>{let re=!1;return U&&Y.status==="0"&&(re=!0),ue&&Y.status==="1"&&(re=!0),H&&Y.status==="4"&&(re=!0),re})),$}),B=pe(()=>(g.value-1)*w.value),M=pe(()=>{if(C.value.length===0){const $=B.value,U=$+w.value;return v.value.slice($,U)}else return C.value.slice(B.value,B.value+w.value)}),F=pe(()=>C.value.length===0?Math.ceil(v.value.length/w.value):Math.ceil(C.value.length/w.value)),q=()=>{g.value<F.value&&g.value++},ne=()=>{g.value>1&&g.value--};he(null);const Z=$=>{switch($){case"0":return{color:"bg-blue-300 hover:bg-blue-400",text:"stek",icon:"ri-user-add-line"};case"1":return{color:"bg-green-300 hover:bg-green-400 ",text:"Kabul edildi",icon:"ri-calendar-check-line"};case"2":return{color:"bg-gray-300 hover:bg-gray-400 ",text:"Tamamland",icon:"ri-check-line"};case"3":return{color:"bg-red-300 hover:bg-red-400 ",text:"Reddedildi",icon:"ri-close-line"};case"4":return{color:"bg-orange-200",text:"Mteri onay",icon:"ri-time-line"};case"5":return{color:"bg-orange-200",text:"Avukat onay",icon:"ri-time-line"};case"6":return{color:"bg-gray-600 text-white hover:bg-gray-700 ",text:"ptal Edildi",icon:"ri-calendar-close-line"};default:return{color:"bg-gray-200",text:"Unknown status",icon:"ri-question-line"}}},K=$=>Z($).color,N=$=>Z($).icon,V=$=>Z($).text,O=$=>{switch($){case"0":return{class:"bg-orange-300",text:"Bekleniyor",icon:"ri-time-line"};case"1":return{class:"bg-green-300",text:"dendi",icon:"ri-check-double-line"};case"2":return{class:"bg-red-300",text:"denmedi",icon:"ri-close-line"};default:return{class:"bg-gray-200",text:"Bilinmiyor",icon:"ri-question-line"}}},G=$=>O($).class,J=$=>O($).icon,j=$=>O($).text,P=$=>{switch($){case"phone":return{class:"bg-orange-300",text:"Telefonla Grme",icon:"ri-phone-line"};case"video":return{class:"bg-green-300",text:"Online Video Grme",icon:"ri-video-on-line"};case"office":return{class:"bg-red-300",text:"Yzyze Grme",icon:"ri-user-line"};default:return{class:"bg-gray-200",icon:"ri-question-line"}}},X=$=>P($).icon,W=$=>P($).text;async function oe(){let $=[];return(await Td(y)).forEach(ue=>{$.push({id:ue.id,...ue.data()})}),$}async function ce(){try{const $=localStorage.getItem("cachedMeetings"),U=localStorage.getItem("cachedTimeMeetings"),ue=0*60*1e3;if($&&U&&new Date-new Date(parseInt(U))<ue)return JSON.parse($);{const H=await oe();return localStorage.setItem("cachedMeetings",JSON.stringify(H)),localStorage.setItem("cachedTimeMeetings",new Date().getTime().toString()),H}}catch($){return console.error("Error getting meetings:",$),[]}}async function Q($){console.log("Received updated meeting data:",$);try{console.log("Updating document with ID:",$.id),await Go(br(Dr,"meetings",$.id),$),localStorage.setItem("cachedMeetings",JSON.stringify(v.value))}catch(U){console.error("Error updating meeting document:",U)}}function L($){const U={1:1,0:2,4:3,5:3,2:4,3:5,6:6,7:7};return $.sort((ue,H)=>{const Y=U[ue.status]-U[H.status];if(Y!==0)return Y;{const re=new Date(ue.date_time.seconds*1e3),ie=new Date(H.date_time.seconds*1e3);return re-ie}})}return Et(async()=>{const $=await ce(),U=L($);i.showAll?v.value=U:v.value=U.filter(ue=>ue.attorney_id===i.uid),console.log("Meetings data:",v.value)}),($,U)=>(ee(),le("div",null,[r.value==="admin"?(ee(),le("button",{key:0,onClick:k,class:"bg-green-700 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dn ")):ge("",!0),qe(LU,{show:a.value,onClose:U[0]||(U[0]=ue=>a.value=!1),customerDocuments:d.value,customerNotes:c.value},null,8,["show","customerDocuments","customerNotes"]),l.value?(ee(),Ue(vq,{key:1,keepStatusModalOpen:u.value,meetingData:o.value,onSetMeeting:D,onRejectMeeting:S,onClose:U[1]||(U[1]=ue=>l.value=!1)},null,8,["keepStatusModalOpen","meetingData"])):ge("",!0),qe(rU,{totalMeetings:b.value,approvedMeetings:m.value,satisfactionRate:h.value,meetingStatusSummary:p.value,topAttorneys:_.value,showTopAttorneys:i.showAll,showAttorneySchedule:!i.showAll},null,8,["totalMeetings","approvedMeetings","satisfactionRate","meetingStatusSummary","topAttorneys","showTopAttorneys","showAttorneySchedule"]),qe(rx,{class:"p-6"},{default:ze(()=>{var ue;return[H8,A("form",z8,[A("div",K8,[bt(A("input",{"onUpdate:modelValue":U[2]||(U[2]=H=>I.value=H),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Mteri ismine gre ara..."},null,512),[[hi,I.value]]),W8])]),A("div",Y8,[A("label",G8,[bt(A("input",{"onUpdate:modelValue":U[3]||(U[3]=H=>f.value.requests=H),type:"checkbox",class:"sr-only peer"},null,512),[[ea,f.value.requests]]),Q8,X8]),A("label",J8,[bt(A("input",{"onUpdate:modelValue":U[4]||(U[4]=H=>f.value.accepted=H),type:"checkbox",class:"sr-only peer"},null,512),[[ea,f.value.accepted]]),Z8,e7]),A("label",t7,[bt(A("input",{"onUpdate:modelValue":U[5]||(U[5]=H=>f.value.pending=H),type:"checkbox",class:"sr-only peer"},null,512),[[ea,f.value.pending]]),n7,r7])]),(ue=v.value)!=null&&ue.length?(ee(),le("table",i7,[s7,A("tbody",null,[(ee(!0),le(Se,null,Qe(M.value,H=>(ee(),le("tr",{key:H.id},[A("td",o7,[A("div",a7,[A("span",l7,Ie(H.attorney_name),1)])]),A("td",u7,[A("span",c7,Ie(H.customer_name),1)]),A("td",d7,[A("span",f7,Ie(H.customer_phone),1)]),A("td",h7,[A("span",p7,Ie(ae(Vm)(H.date_time,$.format="date")),1)]),A("td",m7,[A("span",g7,Ie(ae(Vm)(H.date_time,$.format="time")),1)]),A("td",v7,[A("div",y7,[A("div",_7,[A("i",{class:We(X(H.type))},null,2),A("span",b7,Ie(W(H.type)),1)])])]),A("td",w7,[A("button",{onClick:Y=>T(H.notes,H.customer_documents),class:"ri-file-text-line flex items-center justify-center ml-2 text-lg bg-yellow-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,E7)]),A("td",T7,[A("div",A7,[A("div",{class:We(["w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0",G(H.payment_status)])},[A("i",{class:We(J(H.payment_status))},null,2),A("span",k7,Ie(j(H.payment_status)),1)],2)])]),A("td",x7,[A("div",I7,[A("button",{onClick:Y=>E(H),class:We([K(H.status),"w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0 focus:ring-[0.12rem] focus:ring-gray-600 focus:outline-none"])},[A("i",{class:We(N(H.status))},null,2)],10,S7),A("span",R7,Ie(V(H.status)),1)])])]))),128))])])):ge("",!0),A("div",O7,[A("button",{onClick:ne,disabled:g.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,P7),A("button",{onClick:q,disabled:g.value===F.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,C7)])]}),_:1})]))}},N7=Yr(D7,[["__scopeId","data-v-faca53e5"]]),Fb={__name:"OnlineMeetings",setup(t){const e=he(!0),n=Cs(),r=pe(()=>n.getters.userRole),i=pe(()=>n.getters.user?n.getters.user.uid:null),s=he("");r.value!=="admin"&&(s.value=i.value,e.value=!1);const o=a=>{s.value=a,e.value=!1};return(a,l)=>r.value==="admin"&&e.value?(ee(),Ue(oV,{key:0,onOptionSelected:o})):(ee(),Ue(N7,{key:1,showAll:s.value==="showAll",uid:s.value,onGoBack:l[0]||(l[0]=u=>e.value=!0)},null,8,["showAll","uid"]))}},M7={key:0,id:"deleteModal",class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},L7={class:"bg-white rounded-lg p-4 max-w-sm w-full"},$7=A("div",{class:"mb-4"},[A("p",{class:"text-gray-800 text-sm"},"Bu blog yazsn silmek istediinize emin misiniz?")],-1),V7={class:"flex justify-end"},F7={__name:"DeleteModal",props:{show:Boolean},setup(t){return(e,n)=>t.show?(ee(),le("div",M7,[A("div",L7,[$7,A("div",V7,[A("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),id:"cancelDelete",class:"bg-gray-300 text-gray-800 rounded px-4 py-2 mr-2"},"Hayr"),A("button",{onClick:n[1]||(n[1]=r=>e.$emit("delete")),id:"confirmDelete",class:"bg-red-600 text-white rounded px-4 py-2"},"Evet")])])])):ge("",!0)}};var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ix(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sx={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:En,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),u=i(46),c=i(47),d=i(48),f=i(49),h=i(12),p=i(32),m=i(33),_=i(31),v=i(1),y={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:f.default,Attributor:{Attribute:h.default,Class:p.default,Style:m.default,Store:_.default}};r.default=y},function(n,r,i){var s=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])};return function(v,y){_(v,y);function b(){this.constructor=v}v.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(_){s(v,_);function v(y){var b=this;return y="[Parchment] "+y,b=_.call(this,y)||this,b.message=y,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=o;var a={},l={},u={},c={};r.DATA_KEY="__blot";var d;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function f(_,v){var y=p(_);if(y==null)throw new o("Unable to create "+_+" blot");var b=y,g=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:b.create(v);return new b(g,v)}r.create=f;function h(_,v){return v===void 0&&(v=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:v?h(_.parentNode,v):null}r.find=h;function p(_,v){v===void 0&&(v=d.ANY);var y;if(typeof _=="string")y=c[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)y=c.text;else if(typeof _=="number")_&d.LEVEL&d.BLOCK?y=c.block:_&d.LEVEL&d.INLINE&&(y=c.inline);else if(_ instanceof HTMLElement){var b=(_.getAttribute("class")||"").split(/\s+/);for(var g in b)if(y=l[b[g]],y)break;y=y||u[_.tagName]}return y==null?null:v&d.LEVEL&y.scope&&v&d.TYPE&y.scope?y:null}r.query=p;function m(){for(var _=[],v=0;v<arguments.length;v++)_[v]=arguments[v];if(_.length>1)return _.map(function(g){return m(g)});var y=_[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new o("Invalid definition");if(y.blotName==="abstract")throw new o("Cannot register abstract class");if(c[y.blotName||y.attrName]=y,typeof y.keyName=="string")a[y.keyName]=y;else if(y.className!=null&&(l[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(g){return g.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var b=Array.isArray(y.tagName)?y.tagName:[y.tagName];b.forEach(function(g){(u[g]==null||y.className==null)&&(u[g]=y)})}return y}r.register=m},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),u="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,f){var h={};return d.length===0?this:(h.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,f){if(d<=0)return this;var h={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h)},c.prototype.push=function(d){var f=this.ops.length,h=this.ops[f-1];if(d=a(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[f-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(f-=1,h=this.ops[f-1],typeof h!="object"))return this.ops.unshift(d),this;if(o(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[f-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[f-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var f=[],h=[];return this.forEach(function(p){var m=d(p)?f:h;m.push(p)}),[f,h]},c.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},c.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+l.length(f):f.delete?d-f.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,f){return d+l.length(f)},0)},c.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var h=[],p=l.iterator(this.ops),m=0;m<f&&p.hasNext();){var _;m<d?_=p.next(d-m):(_=p.next(f-m),h.push(_)),m+=l.length(_)}return new c(h)},c.prototype.compose=function(d){var f=l.iterator(this.ops),h=l.iterator(d.ops),p=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var _=m.retain;f.peekType()==="insert"&&f.peekLength()<=_;)_-=f.peekLength(),p.push(f.next());m.retain-_>0&&h.next(m.retain-_)}for(var v=new c(p);f.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(f.peekType()==="delete")v.push(f.next());else{var y=Math.min(f.peekLength(),h.peekLength()),b=f.next(y),g=h.next(y);if(typeof g.retain=="number"){var w={};typeof b.retain=="number"?w.retain=y:w.insert=b.insert;var I=l.attributes.compose(b.attributes,g.attributes,typeof b.retain=="number");if(I&&(w.attributes=I),v.push(w),!h.hasNext()&&o(v.ops[v.ops.length-1],w)){var k=new c(f.rest());return v.concat(k).chop()}}else typeof g.delete=="number"&&typeof b.retain=="number"&&v.push(g)}return v.chop()},c.prototype.concat=function(d){var f=new c(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},c.prototype.diff=function(d,f){if(this.ops===d.ops)return new c;var h=[this,d].map(function(y){return y.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var g=y===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),p=new c,m=s(h[0],h[1],f),_=l.iterator(this.ops),v=l.iterator(d.ops);return m.forEach(function(y){for(var b=y[1].length;b>0;){var g=0;switch(y[0]){case s.INSERT:g=Math.min(v.peekLength(),b),p.push(v.next(g));break;case s.DELETE:g=Math.min(b,_.peekLength()),_.next(g),p.delete(g);break;case s.EQUAL:g=Math.min(_.peekLength(),v.peekLength(),b);var w=_.next(g),I=v.next(g);o(w.insert,I.insert)?p.retain(g,l.attributes.diff(w.attributes,I.attributes)):p.push(I).delete(g);break}b-=g}}),p.chop()},c.prototype.eachLine=function(d,f){f=f||`
`;for(var h=l.iterator(this.ops),p=new c,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var _=h.peek(),v=l.length(_)-h.peekLength(),y=typeof _.insert=="string"?_.insert.indexOf(f,v)-v:-1;if(y<0)p.push(h.next());else if(y>0)p.push(h.next(y));else{if(d(p,h.next(1).attributes||{},m)===!1)return;m+=1,p=new c}}p.length()>0&&d(p,{},m)},c.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var h=l.iterator(this.ops),p=l.iterator(d.ops),m=new c;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(f||p.peekType()!=="insert"))m.retain(l.length(h.next()));else if(p.peekType()==="insert")m.push(p.next());else{var _=Math.min(h.peekLength(),p.peekLength()),v=h.next(_),y=p.next(_);if(v.delete)continue;y.delete?m.push(y):m.retain(_,l.attributes.transform(v.attributes,y.attributes,f))}return m.chop()},c.prototype.transformPosition=function(d,f){f=!!f;for(var h=l.iterator(this.ops),p=0;h.hasNext()&&p<=d;){var m=h.peekLength(),_=h.peekType();if(h.next(),_==="delete"){d-=Math.min(m,d-p);continue}else _==="insert"&&(p<d||!f)&&(d+=m);p+=m}return d},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):s.call(h)==="[object Array]"},u=function(h){if(!h||s.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var _;for(_ in h);return typeof _>"u"||i.call(h,_)},c=function(h,p){o&&p.name==="__proto__"?o(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},d=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(a)return a(h,p).value}else return;return h[p]};n.exports=function f(){var h,p,m,_,v,y,b=arguments[0],g=1,w=arguments.length,I=!1;for(typeof b=="boolean"&&(I=b,b=arguments[1]||{},g=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});g<w;++g)if(h=arguments[g],h!=null)for(p in h)m=d(b,p),_=d(h,p),b!==_&&(I&&_&&(u(_)||(v=l(_)))?(v?(v=!1,y=m&&l(m)?m:[]):y=m&&u(m)?m:{},c(b,{name:p,newValue:f(I,y,_)})):typeof _<"u"&&c(b,{name:p,newValue:_}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function T(E,C){for(var B=0;B<C.length;B++){var M=C[B];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,C,B){return C&&T(E.prototype,C),B&&T(E,B),E}}(),o=function T(E,C,B){E===null&&(E=Function.prototype);var M=Object.getOwnPropertyDescriptor(E,C);if(M===void 0){var F=Object.getPrototypeOf(E);return F===null?void 0:T(F,C,B)}else{if("value"in M)return M.value;var q=M.get;return q===void 0?void 0:q.call(B)}},a=i(3),l=b(a),u=i(2),c=b(u),d=i(0),f=b(d),h=i(16),p=b(h),m=i(6),_=b(m),v=i(7),y=b(v);function b(T){return T&&T.__esModule?T:{default:T}}function g(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function w(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function I(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var k=1,R=function(T){I(E,T);function E(){return g(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"attach",value:function(){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(B,M){var F=f.default.query(B,f.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,M)}},{key:"formatAt",value:function(B,M,F,q){this.format(F,q)}},{key:"insertAt",value:function(B,M,F){if(typeof M=="string"&&M.endsWith(`
`)){var q=f.default.create(D.blotName);this.parent.insertBefore(q,B===0?this:this.next),q.insertAt(0,M.slice(0,-1))}else o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,B,M,F)}}]),E}(f.default.Embed);R.scope=f.default.Scope.BLOCK_BLOT;var D=function(T){I(E,T);function E(C){g(this,E);var B=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C));return B.cache={},B}return s(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(B,M){return M.length()===0?B:B.insert(M.value(),S(M))},new c.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(B,M){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,B,M),this.cache={}}},{key:"formatAt",value:function(B,M,F,q){M<=0||(f.default.query(F,f.default.Scope.BLOCK)?B+M===this.length()&&this.format(F,q):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,B,Math.min(M,this.length()-B-1),F,q),this.cache={})}},{key:"insertAt",value:function(B,M,F){if(F!=null)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,B,M,F);if(M.length!==0){var q=M.split(`
`),ne=q.shift();ne.length>0&&(B<this.length()-1||this.children.tail==null?o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(B,this.length()-1),ne):this.children.tail.insertAt(this.children.tail.length(),ne),this.cache={});var Z=this;q.reduce(function(K,N){return Z=Z.split(K,!0),Z.insertAt(0,N),N.length},B+ne.length)}}},{key:"insertBefore",value:function(B,M){var F=this.children.head;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,B,M),F instanceof p.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(B,M){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,B,M),this.cache={}}},{key:"optimize",value:function(B){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,B),this.cache={}}},{key:"path",value:function(B){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,B,!0)}},{key:"removeChild",value:function(B){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,B),this.cache={}}},{key:"split",value:function(B){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(B===0||B>=this.length()-k)){var F=this.clone();return B===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}else{var q=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,B,M);return this.cache={},q}}}]),E}(f.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[_.default,f.default.Embed,y.default];function S(T){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(E=(0,l.default)(E,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?E:S(T.parent,E)}r.bubbleFormats=S,r.BlockEmbed=R,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},o=function(){function Z(K,N){var V=[],O=!0,G=!1,J=void 0;try{for(var j=K[Symbol.iterator](),P;!(O=(P=j.next()).done)&&(V.push(P.value),!(N&&V.length===N));O=!0);}catch(X){G=!0,J=X}finally{try{!O&&j.return&&j.return()}finally{if(G)throw J}}return V}return function(K,N){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return Z(K,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(K,N){for(var V=0;V<N.length;V++){var O=N[V];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(K,O.key,O)}}return function(K,N,V){return N&&Z(K.prototype,N),V&&Z(K,V),K}}();i(50);var l=i(2),u=S(l),c=i(14),d=S(c),f=i(8),h=S(f),p=i(9),m=S(p),_=i(0),v=S(_),y=i(15),b=S(y),g=i(3),w=S(g),I=i(10),k=S(I),R=i(34),D=S(R);function S(Z){return Z&&Z.__esModule?Z:{default:Z}}function T(Z,K,N){return K in Z?Object.defineProperty(Z,K,{value:N,enumerable:!0,configurable:!0,writable:!0}):Z[K]=N,Z}function E(Z,K){if(!(Z instanceof K))throw new TypeError("Cannot call a class as a function")}var C=(0,k.default)("quill"),B=function(){a(Z,null,[{key:"debug",value:function(N){N===!0&&(N="log"),k.default.level(N)}},{key:"find",value:function(N){return N.__quill||v.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&C.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,V){var O=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var J=N.attrName||N.blotName;typeof J=="string"?this.register("formats/"+J,N,V):Object.keys(N).forEach(function(j){O.register(j,N[j],V)})}else this.imports[N]!=null&&!G&&C.warn("Overwriting "+N+" with",V),this.imports[N]=V,(N.startsWith("blots/")||N.startsWith("formats/"))&&V.blotName!=="abstract"?v.default.register(V):N.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function Z(K){var N=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,Z),this.options=M(K,V),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",K);this.options.debug&&Z.debug(this.options.debug);var O=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(J){J===h.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(J,j){var P=N.selection.lastRange,X=P&&P.length===0?P.index:void 0;F.call(N,function(){return N.editor.update(null,j,X)},J)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+O+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(Z,[{key:"addContainer",value:function(N){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var O=N;N=document.createElement("div"),N.classList.add(O)}return this.container.insertBefore(N,V),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,V,O){var G=this,J=q(N,V,O),j=o(J,4);return N=j[0],V=j[1],O=j[3],F.call(this,function(){return G.editor.deleteText(N,V)},O,N,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,V){var O=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return F.call(this,function(){var J=O.getSelection(!0),j=new u.default;if(J==null)return j;if(v.default.query(N,v.default.Scope.BLOCK))j=O.editor.formatLine(J.index,J.length,T({},N,V));else{if(J.length===0)return O.selection.format(N,V),j;j=O.editor.formatText(J.index,J.length,T({},N,V))}return O.setSelection(J,h.default.sources.SILENT),j},G)}},{key:"formatLine",value:function(N,V,O,G,J){var j=this,P=void 0,X=q(N,V,O,G,J),W=o(X,4);return N=W[0],V=W[1],P=W[2],J=W[3],F.call(this,function(){return j.editor.formatLine(N,V,P)},J,N,0)}},{key:"formatText",value:function(N,V,O,G,J){var j=this,P=void 0,X=q(N,V,O,G,J),W=o(X,4);return N=W[0],V=W[1],P=W[2],J=W[3],F.call(this,function(){return j.editor.formatText(N,V,P)},J,N,0)}},{key:"getBounds",value:function(N){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=void 0;typeof N=="number"?O=this.selection.getBounds(N,V):O=this.selection.getBounds(N.index,N.length);var G=this.container.getBoundingClientRect();return{bottom:O.bottom-G.top,height:O.height,left:O.left-G.left,right:O.right-G.left,top:O.top-G.top,width:O.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,O=q(N,V),G=o(O,2);return N=G[0],V=G[1],this.editor.getContents(N,V)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,V):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,V)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,O=q(N,V),G=o(O,2);return N=G[0],V=G[1],this.editor.getText(N,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,V,O){var G=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z.sources.API;return F.call(this,function(){return G.editor.insertEmbed(N,V,O)},J,N)}},{key:"insertText",value:function(N,V,O,G,J){var j=this,P=void 0,X=q(N,0,O,G,J),W=o(X,4);return N=W[0],P=W[2],J=W[3],F.call(this,function(){return j.editor.insertText(N,V,P)},J,N,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,V,O){this.clipboard.dangerouslyPasteHTML(N,V,O)}},{key:"removeFormat",value:function(N,V,O){var G=this,J=q(N,V,O),j=o(J,4);return N=j[0],V=j[1],O=j[3],F.call(this,function(){return G.editor.removeFormat(N,V)},O,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var V=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return F.call(this,function(){N=new u.default(N);var G=V.getLength(),J=V.editor.deleteText(0,G),j=V.editor.applyDelta(N),P=j.ops[j.ops.length-1];P!=null&&typeof P.insert=="string"&&P.insert[P.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),j.delete(1));var X=J.compose(j);return X},O)}},{key:"setSelection",value:function(N,V,O){if(N==null)this.selection.setRange(null,V||Z.sources.API);else{var G=q(N,V,O),J=o(G,4);N=J[0],V=J[1],O=J[3],this.selection.setRange(new y.Range(N,V),O),O!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,O=new u.default().insert(N);return this.setContents(O,V)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,V=this.scroll.update(N);return this.selection.update(N),V}},{key:"updateContents",value:function(N){var V=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return F.call(this,function(){return N=new u.default(N),V.editor.applyDelta(N,O)},O,!0)}}]),Z}();B.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},B.events=h.default.events,B.sources=h.default.sources,B.version="1.3.7",B.imports={delta:u.default,parchment:v.default,"core/module":m.default,"core/theme":D.default};function M(Z,K){if(K=(0,w.default)(!0,{container:Z,modules:{clipboard:!0,keyboard:!0,history:!0}},K),!K.theme||K.theme===B.DEFAULTS.theme)K.theme=D.default;else if(K.theme=B.import("themes/"+K.theme),K.theme==null)throw new Error("Invalid theme "+K.theme+". Did you register it?");var N=(0,w.default)(!0,{},K.theme.DEFAULTS);[N,K].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(J){G.modules[J]===!0&&(G.modules[J]={})})});var V=Object.keys(N.modules).concat(Object.keys(K.modules)),O=V.reduce(function(G,J){var j=B.import("modules/"+J);return j==null?C.error("Cannot load "+J+" module. Are you sure you registered it?"):G[J]=j.DEFAULTS||{},G},{});return K.modules!=null&&K.modules.toolbar&&K.modules.toolbar.constructor!==Object&&(K.modules.toolbar={container:K.modules.toolbar}),K=(0,w.default)(!0,{},B.DEFAULTS,{modules:O},N,K),["bounds","container","scrollingContainer"].forEach(function(G){typeof K[G]=="string"&&(K[G]=document.querySelector(K[G]))}),K.modules=Object.keys(K.modules).reduce(function(G,J){return K.modules[J]&&(G[J]=K.modules[J]),G},{}),K}function F(Z,K,N,V){if(this.options.strict&&!this.isEnabled()&&K===h.default.sources.USER)return new u.default;var O=N==null?null:this.getSelection(),G=this.editor.delta,J=Z();if(O!=null&&(N===!0&&(N=O.index),V==null?O=ne(O,J,K):V!==0&&(O=ne(O,N,V,K)),this.setSelection(O,h.default.sources.SILENT)),J.length()>0){var j,P=[h.default.events.TEXT_CHANGE,J,G,K];if((j=this.emitter).emit.apply(j,[h.default.events.EDITOR_CHANGE].concat(P)),K!==h.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,P)}}return J}function q(Z,K,N,V,O){var G={};return typeof Z.index=="number"&&typeof Z.length=="number"?typeof K!="number"?(O=V,V=N,N=K,K=Z.length,Z=Z.index):(K=Z.length,Z=Z.index):typeof K!="number"&&(O=V,V=N,N=K,K=0),(typeof N>"u"?"undefined":s(N))==="object"?(G=N,O=V):typeof N=="string"&&(V!=null?G[N]=V:O=N),O=O||h.default.sources.API,[Z,K,G,O]}function ne(Z,K,N,V){if(Z==null)return null;var O=void 0,G=void 0;if(K instanceof u.default){var J=[Z.index,Z.index+Z.length].map(function(W){return K.transformPosition(W,V!==h.default.sources.USER)}),j=o(J,2);O=j[0],G=j[1]}else{var P=[Z.index,Z.index+Z.length].map(function(W){return W<K||W===K&&V===h.default.sources.USER?W:N>=0?W+N:Math.max(K,W+N)}),X=o(P,2);O=X[0],G=X[1]}return new y.Range(O,G-O)}r.expandConfig=M,r.overload=q,r.default=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),o=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var I=g.get;return I===void 0?void 0:I.call(b)}},a=i(7),l=d(a),u=i(0),c=d(u);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function p(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){p(v,_);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"formatAt",value:function(b,g,w,I){if(v.compare(this.statics.blotName,w)<0&&c.default.query(w,c.default.Scope.BLOT)){var k=this.isolate(b,g);I&&k.wrap(w,I)}else o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,g,w,I)}},{key:"optimize",value:function(b){if(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(b,g){var w=v.order.indexOf(b),I=v.order.indexOf(g);return w>=0||I>=0?w-I:b===g?0:b<g?-1:1}}]),v}(c.default.Inline);m.allowedChildren=[m,c.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(b,g){for(var w=0;w<g.length;w++){var I=g[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,g,w){return g&&y(b.prototype,g),w&&y(b,w),b}}(),o=function y(b,g,w){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,g);if(I===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:y(k,g,w)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(w)}},a=i(54),l=d(a),u=i(10),c=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var m=(0,c.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(y){document.addEventListener(y,function(){for(var b=arguments.length,g=Array(b),w=0;w<b;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var k;(k=I.__quill.emitter).handleDOM.apply(k,g)}})})});var v=function(y){p(b,y);function b(){f(this,b);var g=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return g.listeners={},g.on("error",m.error),g}return s(b,[{key:"emit",value:function(){m.log.apply(m,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var I=arguments.length,k=Array(I>1?I-1:0),R=1;R<I;R++)k[R-1]=arguments[R];(this.listeners[w.type]||[]).forEach(function(D){var S=D.node,T=D.handler;(w.target===S||S.contains(w.target))&&T.apply(void 0,[w].concat(k))})}},{key:"listenDOM",value:function(w,I,k){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:I,handler:k})}}]),b}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(u){if(s.indexOf(u)<=s.indexOf(o)){for(var c,d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];(c=console)[u].apply(c,f)}}function l(u){return s.reduce(function(c,d){return c[d]=a.bind(console,d,u),c},{})}a.level=l.level=function(u){o=u},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(f,h,p){return p||(p={}),f===h?!0:f instanceof Date&&h instanceof Date?f.getTime()===h.getTime():!f||!h||typeof f!="object"&&typeof h!="object"?p.strict?f===h:f==h:d(f,h,p)};function u(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,h,p){var m,_;if(u(f)||u(h)||f.prototype!==h.prototype)return!1;if(a(f))return a(h)?(f=s.call(f),h=s.call(h),l(f,h,p)):!1;if(c(f)){if(!c(h)||f.length!==h.length)return!1;for(m=0;m<f.length;m++)if(f[m]!==h[m])return!1;return!0}try{var v=o(f),y=o(h)}catch{return!1}if(v.length!=y.length)return!1;for(v.sort(),y.sort(),m=v.length-1;m>=0;m--)if(v[m]!=y[m])return!1;for(m=v.length-1;m>=0;m--)if(_=v[m],!l(f[_],h[_],p))return!1;return typeof f==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var d=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|d:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function R(D,S){var T=[],E=!0,C=!1,B=void 0;try{for(var M=D[Symbol.iterator](),F;!(E=(F=M.next()).done)&&(T.push(F.value),!(S&&T.length===S));E=!0);}catch(q){C=!0,B=q}finally{try{!E&&M.return&&M.return()}finally{if(C)throw B}}return T}return function(D,S){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(D,S){for(var T=0;T<S.length;T++){var E=S[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(D,E.key,E)}}return function(D,S,T){return S&&R(D.prototype,S),T&&R(D,T),D}}(),a=function R(D,S,T){D===null&&(D=Function.prototype);var E=Object.getOwnPropertyDescriptor(D,S);if(E===void 0){var C=Object.getPrototypeOf(D);return C===null?void 0:R(C,S,T)}else{if("value"in E)return E.value;var B=E.get;return B===void 0?void 0:B.call(T)}},l=i(2),u=y(l),c=i(0),d=y(c),f=i(4),h=y(f),p=i(6),m=y(p),_=i(7),v=y(_);function y(R){return R&&R.__esModule?R:{default:R}}function b(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function g(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function w(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var I=function(R){w(D,R);function D(){return b(this,D),g(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(m.default);I.blotName="code",I.tagName="CODE";var k=function(R){w(D,R);function D(){return b(this,D),g(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return o(D,[{key:"delta",value:function(){var T=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(C,B){return C.insert(B).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,E){if(!(T===this.statics.blotName&&E)){var C=this.descendant(v.default,this.length()-1),B=s(C,1),M=B[0];M!=null&&M.deleteAt(M.length()-1,1),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,T,E)}}},{key:"formatAt",value:function(T,E,C,B){if(E!==0&&!(d.default.query(C,d.default.Scope.BLOCK)==null||C===this.statics.blotName&&B===this.statics.formats(this.domNode))){var M=this.newlineIndex(T);if(!(M<0||M>=T+E)){var F=this.newlineIndex(T,!0)+1,q=M-F+1,ne=this.isolate(F,q),Z=ne.next;ne.format(C,B),Z instanceof D&&Z.formatAt(0,T-F+E-q,C,B)}}}},{key:"insertAt",value:function(T,E,C){if(C==null){var B=this.descendant(v.default,T),M=s(B,2),F=M[0],q=M[1];F.insertAt(q,E)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var C=this.domNode.textContent.slice(T).indexOf(`
`);return C>-1?T+C:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,T);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(T),E.moveChildren(this),E.remove())}},{key:"replace",value:function(T){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var C=d.default.find(E);C==null?E.parentNode.removeChild(E):C instanceof d.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(T){var E=a(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,T);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),D}(h.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",r.Code=I,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},o=function(){function Z(K,N){var V=[],O=!0,G=!1,J=void 0;try{for(var j=K[Symbol.iterator](),P;!(O=(P=j.next()).done)&&(V.push(P.value),!(N&&V.length===N));O=!0);}catch(X){G=!0,J=X}finally{try{!O&&j.return&&j.return()}finally{if(G)throw J}}return V}return function(K,N){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return Z(K,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(K,N){for(var V=0;V<N.length;V++){var O=N[V];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(K,O.key,O)}}return function(K,N,V){return N&&Z(K.prototype,N),V&&Z(K,V),K}}(),l=i(2),u=E(l),c=i(20),d=E(c),f=i(0),h=E(f),p=i(13),m=E(p),_=i(24),v=E(_),y=i(4),b=E(y),g=i(16),w=E(g),I=i(21),k=E(I),R=i(11),D=E(R),S=i(3),T=E(S);function E(Z){return Z&&Z.__esModule?Z:{default:Z}}function C(Z,K,N){return K in Z?Object.defineProperty(Z,K,{value:N,enumerable:!0,configurable:!0,writable:!0}):Z[K]=N,Z}function B(Z,K){if(!(Z instanceof K))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,F=function(){function Z(K){B(this,Z),this.scroll=K,this.delta=this.getDelta()}return a(Z,[{key:"applyDelta",value:function(N){var V=this,O=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),N=ne(N),N.reduce(function(J,j){var P=j.retain||j.delete||j.insert.length||1,X=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var W=j.insert;W.endsWith(`
`)&&O&&(O=!1,W=W.slice(0,-1)),J>=G&&!W.endsWith(`
`)&&(O=!0),V.scroll.insertAt(J,W);var oe=V.scroll.line(J),ce=o(oe,2),Q=ce[0],L=ce[1],$=(0,T.default)({},(0,y.bubbleFormats)(Q));if(Q instanceof b.default){var U=Q.descendant(h.default.Leaf,L),ue=o(U,1),H=ue[0];$=(0,T.default)($,(0,y.bubbleFormats)(H))}X=d.default.attributes.diff($,X)||{}}else if(s(j.insert)==="object"){var Y=Object.keys(j.insert)[0];if(Y==null)return J;V.scroll.insertAt(J,Y,j.insert[Y])}G+=P}return Object.keys(X).forEach(function(re){V.scroll.formatAt(J,P,re,X[re])}),J+P},0),N.reduce(function(J,j){return typeof j.delete=="number"?(V.scroll.deleteAt(J,j.delete),J):J+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,V){return this.scroll.deleteAt(N,V),this.update(new u.default().retain(N).delete(V))}},{key:"formatLine",value:function(N,V){var O=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(J){if(!(O.scroll.whitelist!=null&&!O.scroll.whitelist[J])){var j=O.scroll.lines(N,Math.max(V,1)),P=V;j.forEach(function(X){var W=X.length();if(!(X instanceof m.default))X.format(J,G[J]);else{var oe=N-X.offset(O.scroll),ce=X.newlineIndex(oe+P)-oe+1;X.formatAt(oe,ce,J,G[J])}P-=W})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(V,(0,k.default)(G)))}},{key:"formatText",value:function(N,V){var O=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(J){O.scroll.formatAt(N,V,J,G[J])}),this.update(new u.default().retain(N).retain(V,(0,k.default)(G)))}},{key:"getContents",value:function(N,V){return this.delta.slice(N,N+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,V){return N.concat(V.delta())},new u.default)}},{key:"getFormat",value:function(N){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=[],G=[];V===0?this.scroll.path(N).forEach(function(j){var P=o(j,1),X=P[0];X instanceof b.default?O.push(X):X instanceof h.default.Leaf&&G.push(X)}):(O=this.scroll.lines(N,V),G=this.scroll.descendants(h.default.Leaf,N,V));var J=[O,G].map(function(j){if(j.length===0)return{};for(var P=(0,y.bubbleFormats)(j.shift());Object.keys(P).length>0;){var X=j.shift();if(X==null)return P;P=q((0,y.bubbleFormats)(X),P)}return P});return T.default.apply(T.default,J)}},{key:"getText",value:function(N,V){return this.getContents(N,V).filter(function(O){return typeof O.insert=="string"}).map(function(O){return O.insert}).join("")}},{key:"insertEmbed",value:function(N,V,O){return this.scroll.insertAt(N,V,O),this.update(new u.default().retain(N).insert(C({},V,O)))}},{key:"insertText",value:function(N,V){var O=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,V),Object.keys(G).forEach(function(J){O.scroll.formatAt(N,V.length,J,G[J])}),this.update(new u.default().retain(N).insert(V,(0,k.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==b.default.blotName||N.children.length>1?!1:N.children.head instanceof w.default}},{key:"removeFormat",value:function(N,V){var O=this.getText(N,V),G=this.scroll.line(N+V),J=o(G,2),j=J[0],P=J[1],X=0,W=new u.default;j!=null&&(j instanceof m.default?X=j.newlineIndex(P)-P+1:X=j.length()-P,W=j.delta().slice(P,P+X-1).insert(`
`));var oe=this.getContents(N,V+X),ce=oe.diff(new u.default().insert(O).concat(W)),Q=new u.default().retain(N).concat(ce);return this.applyDelta(Q)}},{key:"update",value:function(N){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(M)&&h.default.find(V[0].target)){var J=h.default.find(V[0].target),j=(0,y.bubbleFormats)(J),P=J.offset(this.scroll),X=V[0].oldValue.replace(v.default.CONTENTS,""),W=new u.default().insert(X),oe=new u.default().insert(J.value()),ce=new u.default().retain(P).concat(W.diff(oe,O));N=ce.reduce(function(Q,L){return L.insert?Q.insert(L.insert,j):Q.push(L)},new u.default),this.delta=G.compose(N)}else this.delta=this.getDelta(),(!N||!(0,D.default)(G.compose(N),this.delta))&&(N=G.diff(this.delta,O));return N}}]),Z}();function q(Z,K){return Object.keys(K).reduce(function(N,V){return Z[V]==null||(K[V]===Z[V]?N[V]=K[V]:Array.isArray(K[V])?K[V].indexOf(Z[V])<0&&(N[V]=K[V].concat([Z[V]])):N[V]=[K[V],Z[V]]),N},{})}function ne(Z){return Z.reduce(function(K,N){if(N.insert===1){var V=(0,k.default)(N.attributes);return delete V.image,K.insert({image:N.attributes.image},V)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,k.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var O=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return K.insert(O,N.attributes)}return K.push(N)},new u.default)}r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function R(D,S){var T=[],E=!0,C=!1,B=void 0;try{for(var M=D[Symbol.iterator](),F;!(E=(F=M.next()).done)&&(T.push(F.value),!(S&&T.length===S));E=!0);}catch(q){C=!0,B=q}finally{try{!E&&M.return&&M.return()}finally{if(C)throw B}}return T}return function(D,S){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function R(D,S){for(var T=0;T<S.length;T++){var E=S[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(D,E.key,E)}}return function(D,S,T){return S&&R(D.prototype,S),T&&R(D,T),D}}(),a=i(0),l=v(a),u=i(21),c=v(u),d=i(11),f=v(d),h=i(8),p=v(h),m=i(10),_=v(m);function v(R){return R&&R.__esModule?R:{default:R}}function y(R){if(Array.isArray(R)){for(var D=0,S=Array(R.length);D<R.length;D++)S[D]=R[D];return S}else return Array.from(R)}function b(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}var g=(0,_.default)("quill:selection"),w=function R(D){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,R),this.index=D,this.length=S},I=function(){function R(D,S){var T=this;b(this,R),this.emitter=S,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(E,C){E===p.default.events.TEXT_CHANGE&&C.length()>0&&T.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var E=T.getNativeRange();E!=null&&E.start.node!==T.cursor.textNode&&T.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(E,C){if(C.range){var B=C.range,M=B.startNode,F=B.startOffset,q=B.endNode,ne=B.endOffset;T.setNativeRange(M,F,q,ne)}}),this.update(p.default.sources.SILENT)}return o(R,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var T=S.cursor.restore();if(!T)return;setTimeout(function(){S.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||l.default.query(S,l.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var C=l.default.find(E.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var B=C.split(E.start.offset);C.parent.insertBefore(this.cursor,B)}else C.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(S,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();S=Math.min(S,E-1),T=Math.min(S+T,E-1)-S;var C=void 0,B=this.scroll.leaf(S),M=s(B,2),F=M[0],q=M[1];if(F==null)return null;var ne=F.position(q,!0),Z=s(ne,2);C=Z[0],q=Z[1];var K=document.createRange();if(T>0){K.setStart(C,q);var N=this.scroll.leaf(S+T),V=s(N,2);if(F=V[0],q=V[1],F==null)return null;var O=F.position(q,!0),G=s(O,2);return C=G[0],q=G[1],K.setEnd(C,q),K.getBoundingClientRect()}else{var J="left",j=void 0;return C instanceof Text?(q<C.data.length?(K.setStart(C,q),K.setEnd(C,q+1)):(K.setStart(C,q-1),K.setEnd(C,q),J="right"),j=K.getBoundingClientRect()):(j=F.domNode.getBoundingClientRect(),q>0&&(J="right")),{bottom:j.top+j.height,height:j.height,left:j[J],right:j[J],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var T=S.getRangeAt(0);if(T==null)return null;var E=this.normalizeNative(T);return g.info("getNativeRange",E),E}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var T=this.normalizedToRange(S);return[T,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var T=this,E=[[S.start.node,S.start.offset]];S.native.collapsed||E.push([S.end.node,S.end.offset]);var C=E.map(function(F){var q=s(F,2),ne=q[0],Z=q[1],K=l.default.find(ne,!0),N=K.offset(T.scroll);return Z===0?N:K instanceof l.default.Container?N+K.length():N+K.index(ne,Z)}),B=Math.min(Math.max.apply(Math,y(C)),this.scroll.length()-1),M=Math.min.apply(Math,[B].concat(y(C)));return new w(M,B-M)}},{key:"normalizeNative",value:function(S){if(!k(this.root,S.startContainer)||!S.collapsed&&!k(this.root,S.endContainer))return null;var T={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[T.start,T.end].forEach(function(E){for(var C=E.node,B=E.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>B)C=C.childNodes[B],B=0;else if(C.childNodes.length===B)C=C.lastChild,B=C instanceof Text?C.data.length:C.childNodes.length+1;else break;E.node=C,E.offset=B}),T}},{key:"rangeToNative",value:function(S){var T=this,E=S.collapsed?[S.index]:[S.index,S.index+S.length],C=[],B=this.scroll.length();return E.forEach(function(M,F){M=Math.min(B-1,M);var q=void 0,ne=T.scroll.leaf(M),Z=s(ne,2),K=Z[0],N=Z[1],V=K.position(N,F!==0),O=s(V,2);q=O[0],N=O[1],C.push(q,N)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(S){var T=this.lastRange;if(T!=null){var E=this.getBounds(T.index,T.length);if(E!=null){var C=this.scroll.length()-1,B=this.scroll.line(Math.min(T.index,C)),M=s(B,1),F=M[0],q=F;if(T.length>0){var ne=this.scroll.line(Math.min(T.index+T.length,C)),Z=s(ne,1);q=Z[0]}if(!(F==null||q==null)){var K=S.getBoundingClientRect();E.top<K.top?S.scrollTop-=K.top-E.top:E.bottom>K.bottom&&(S.scrollTop+=E.bottom-K.bottom)}}}}},{key:"setNativeRange",value:function(S,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,B=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",S,T,E,C),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||E.parentNode==null))){var M=document.getSelection();if(M!=null)if(S!=null){this.hasFocus()||this.root.focus();var F=(this.getNativeRange()||{}).native;if(F==null||B||S!==F.startContainer||T!==F.startOffset||E!==F.endContainer||C!==F.endOffset){S.tagName=="BR"&&(T=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),E.tagName=="BR"&&(C=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var q=document.createRange();q.setStart(S,T),q.setEnd(E,C),M.removeAllRanges(),M.addRange(q)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof T=="string"&&(E=T,T=!1),g.info("setRange",S),S!=null){var C=this.rangeToNative(S);this.setNativeRange.apply(this,y(C).concat([T]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,T=this.lastRange,E=this.getRange(),C=s(E,2),B=C[0],M=C[1];if(this.lastRange=B,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(T,this.lastRange)){var F;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var q=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(T),S];if((F=this.emitter).emit.apply(F,[p.default.events.EDITOR_CHANGE].concat(q)),S!==p.default.sources.SILENT){var ne;(ne=this.emitter).emit.apply(ne,q)}}}}]),R}();function k(R,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),R.contains(D)}r.Range=w,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),o=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(0),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"insertInto",value:function(v,y){v.children.length===0?o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,v,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),u=function(d){s(f,d);function f(h){var p=d.call(this,h)||this;return p.build(),p}return f.prototype.appendChild=function(h){this.insertBefore(h)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},f.prototype.build=function(){var h=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var m=c(p);h.insertBefore(m,h.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},f.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(m,_,v){m.deleteAt(_,v)})},f.prototype.descendant=function(h,p){var m=this.children.find(p),_=m[0],v=m[1];return h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h?[_,v]:_ instanceof f?_.descendant(h,v):[null,-1]},f.prototype.descendants=function(h,p,m){p===void 0&&(p=0),m===void 0&&(m=Number.MAX_VALUE);var _=[],v=m;return this.children.forEachAt(p,m,function(y,b,g){(h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h)&&_.push(y),y instanceof f&&(_=_.concat(y.descendants(h,b,v))),v-=g}),_},f.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(h,p,m,_){this.children.forEachAt(h,p,function(v,y,b){v.formatAt(y,b,m,_)})},f.prototype.insertAt=function(h,p,m){var _=this.children.find(h),v=_[0],y=_[1];if(v)v.insertAt(y,p,m);else{var b=m==null?l.create("text",p):l.create(p,m);this.appendChild(b)}},f.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},f.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},f.prototype.moveChildren=function(h,p){this.children.forEach(function(m){h.insertBefore(m,p)})},f.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=l.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},f.prototype.path=function(h,p){p===void 0&&(p=!1);var m=this.children.find(h,p),_=m[0],v=m[1],y=[[this,h]];return _ instanceof f?y.concat(_.path(v,p)):(_!=null&&y.push([_,v]),y)},f.prototype.removeChild=function(h){this.children.remove(h)},f.prototype.replace=function(h){h instanceof f&&h.moveChildren(this),d.prototype.replace.call(this,h)},f.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(_,v,y){_=_.split(v,p),m.appendChild(_)}),m},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(h,p){var m=this,_=[],v=[];h.forEach(function(y){y.target===m.domNode&&y.type==="childList"&&(_.push.apply(_,y.addedNodes),v.push.apply(v,y.removedNodes))}),v.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(y);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),_.filter(function(y){return y.parentNode==m.domNode}).sort(function(y,b){return y===b?0:y.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var b=null;y.nextSibling!=null&&(b=l.find(y.nextSibling));var g=c(y);(g.next!=b||g.next==null)&&(g.parent!=null&&g.parent.removeChild(m),m.insertBefore(g,b||void 0))})},f}(a.default);function c(d){var f=l.find(d);if(f==null)try{f=l.create(d)}catch{f=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){f.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),u=i(1),c=function(d){s(f,d);function f(h){var p=d.call(this,h)||this;return p.attributes=new a.default(p.domNode),p}return f.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},f.prototype.format=function(h,p){var m=u.query(h);m instanceof o.default?this.attributes.attribute(m,p):p&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},f.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},f.prototype.replaceWith=function(h,p){var m=d.prototype.replaceWith.call(this,h,p);return this.attributes.copy(m),m},f.prototype.update=function(h,p){var m=this;d.prototype.update.call(this,h,p),h.some(function(_){return _.target===m.domNode&&_.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(h,p){var m=d.prototype.wrap.call(this,h,p);return m instanceof f&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},f}(l.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},c.prototype.position=function(d,f){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(u,c,d){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=o(!0,{},c);d||(f=Object.keys(f).reduce(function(p,m){return f[m]!=null&&(p[m]=f[m]),p},{}));for(var h in u)u[h]!==void 0&&c[h]===void 0&&(f[h]=u[h]);return Object.keys(f).length>0?f:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=Object.keys(u).concat(Object.keys(c)).reduce(function(f,h){return s(u[h],c[h])||(f[h]=c[h]===void 0?null:c[h]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,c,d){if(typeof u!="object")return c;if(typeof c=="object"){if(!d)return c;var f=Object.keys(c).reduce(function(h,p){return u[p]===void 0&&(h[p]=c[p]),h},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var d=this.offset,f=a.length(c);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var h={};return c.attributes&&(h.attributes=c.attributes),typeof c.retain=="number"?h.retain=u:typeof c.insert=="string"?h.insert=c.insert.substr(d,u):h.insert=c.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=c,[d].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function s(m,_){return _!=null&&m instanceof _}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(m,_,v,y,b){typeof _=="object"&&(v=_.depth,y=_.prototype,b=_.includeNonEnumerable,_=_.circular);var g=[],w=[],I=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof v>"u"&&(v=1/0);function k(R,D){if(R===null)return null;if(D===0)return R;var S,T;if(typeof R!="object")return R;if(s(R,o))S=new o;else if(s(R,a))S=new a;else if(s(R,l))S=new l(function(K,N){R.then(function(V){K(k(V,D-1))},function(V){N(k(V,D-1))})});else if(u.__isArray(R))S=[];else if(u.__isRegExp(R))S=new RegExp(R.source,p(R)),R.lastIndex&&(S.lastIndex=R.lastIndex);else if(u.__isDate(R))S=new Date(R.getTime());else{if(I&&Buffer.isBuffer(R))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(R.length):S=new Buffer(R.length),R.copy(S),S;s(R,Error)?S=Object.create(R):typeof y>"u"?(T=Object.getPrototypeOf(R),S=Object.create(T)):(S=Object.create(y),T=y)}if(_){var E=g.indexOf(R);if(E!=-1)return w[E];g.push(R),w.push(S)}s(R,o)&&R.forEach(function(K,N){var V=k(N,D-1),O=k(K,D-1);S.set(V,O)}),s(R,a)&&R.forEach(function(K){var N=k(K,D-1);S.add(N)});for(var C in R){var B;T&&(B=Object.getOwnPropertyDescriptor(T,C)),!(B&&B.set==null)&&(S[C]=k(R[C],D-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(R),C=0;C<M.length;C++){var F=M[C],q=Object.getOwnPropertyDescriptor(R,F);q&&!q.enumerable&&!b||(S[F]=k(R[F],D-1),q.enumerable||Object.defineProperty(S,F,{enumerable:!1}))}if(b)for(var ne=Object.getOwnPropertyNames(R),C=0;C<ne.length;C++){var Z=ne[C],q=Object.getOwnPropertyDescriptor(R,Z);q&&q.enumerable||(S[Z]=k(R[Z],D-1),Object.defineProperty(S,Z,{enumerable:!1}))}return S}return k(m,v)}u.clonePrototype=function(_){if(_===null)return null;var v=function(){};return v.prototype=_,new v};function c(m){return Object.prototype.toString.call(m)}u.__objToStr=c;function d(m){return typeof m=="object"&&c(m)==="[object Date]"}u.__isDate=d;function f(m){return typeof m=="object"&&c(m)==="[object Array]"}u.__isArray=f;function h(m){return typeof m=="object"&&c(m)==="[object RegExp]"}u.__isRegExp=h;function p(m){var _="";return m.global&&(_+="g"),m.ignoreCase&&(_+="i"),m.multiline&&(_+="m"),_}return u.__getRegExpFlags=p,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function S(T,E){var C=[],B=!0,M=!1,F=void 0;try{for(var q=T[Symbol.iterator](),ne;!(B=(ne=q.next()).done)&&(C.push(ne.value),!(E&&C.length===E));B=!0);}catch(Z){M=!0,F=Z}finally{try{!B&&q.return&&q.return()}finally{if(M)throw F}}return C}return function(T,E){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function S(T,E){for(var C=0;C<E.length;C++){var B=E[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,B.key,B)}}return function(T,E,C){return E&&S(T.prototype,E),C&&S(T,C),T}}(),a=function S(T,E,C){T===null&&(T=Function.prototype);var B=Object.getOwnPropertyDescriptor(T,E);if(B===void 0){var M=Object.getPrototypeOf(T);return M===null?void 0:S(M,E,C)}else{if("value"in B)return B.value;var F=B.get;return F===void 0?void 0:F.call(C)}},l=i(0),u=g(l),c=i(8),d=g(c),f=i(4),h=g(f),p=i(16),m=g(p),_=i(13),v=g(_),y=i(25),b=g(y);function g(S){return S&&S.__esModule?S:{default:S}}function w(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function I(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function k(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}function R(S){return S instanceof h.default||S instanceof f.BlockEmbed}var D=function(S){k(T,S);function T(E,C){w(this,T);var B=I(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return B.emitter=C.emitter,Array.isArray(C.whitelist)&&(B.whitelist=C.whitelist.reduce(function(M,F){return M[F]=!0,M},{})),B.domNode.addEventListener("DOMNodeInserted",function(){}),B.optimize(),B.enable(),B}return o(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,B){var M=this.line(C),F=s(M,2),q=F[0],ne=F[1],Z=this.line(C+B),K=s(Z,1),N=K[0];if(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,C,B),N!=null&&q!==N&&ne>0){if(q instanceof f.BlockEmbed||N instanceof f.BlockEmbed){this.optimize();return}if(q instanceof v.default){var V=q.newlineIndex(q.length(),!0);if(V>-1&&(q=q.split(V+1),q===N)){this.optimize();return}}else if(N instanceof v.default){var O=N.newlineIndex(0);O>-1&&N.split(O+1)}var G=N.children.head instanceof m.default?null:N.children.head;q.moveChildren(N,G),q.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,B,M,F){this.whitelist!=null&&!this.whitelist[M]||(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,C,B,M,F),this.optimize())}},{key:"insertAt",value:function(C,B,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[B])){if(C>=this.length())if(M==null||u.default.query(B,u.default.Scope.BLOCK)==null){var F=u.default.create(this.statics.defaultChild);this.appendChild(F),M==null&&B.endsWith(`
`)&&(B=B.slice(0,-1)),F.insertAt(0,B,M)}else{var q=u.default.create(B,M);this.appendChild(q)}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,C,B,M);this.optimize()}}},{key:"insertBefore",value:function(C,B){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var M=u.default.create(this.statics.defaultChild);M.appendChild(C),C=M}a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,C,B)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(R,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function F(q,ne,Z){var K=[],N=Z;return q.children.forEachAt(ne,Z,function(V,O,G){R(V)?K.push(V):V instanceof u.default.Container&&(K=K.concat(F(V,O,N))),N-=G}),K};return M(this,C,B)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,C,B),C.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,C,B))}},{key:"path",value:function(C){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var B=d.default.sources.USER;typeof C=="string"&&(B=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,B,C),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,B,C)}}}]),T}(u.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[h.default,f.BlockEmbed,b.default],r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},o=function(){function j(P,X){var W=[],oe=!0,ce=!1,Q=void 0;try{for(var L=P[Symbol.iterator](),$;!(oe=($=L.next()).done)&&(W.push($.value),!(X&&W.length===X));oe=!0);}catch(U){ce=!0,Q=U}finally{try{!oe&&L.return&&L.return()}finally{if(ce)throw Q}}return W}return function(P,X){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return j(P,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(P,X){for(var W=0;W<X.length;W++){var oe=X[W];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(P,oe.key,oe)}}return function(P,X,W){return X&&j(P.prototype,X),W&&j(P,W),P}}(),l=i(21),u=S(l),c=i(11),d=S(c),f=i(3),h=S(f),p=i(2),m=S(p),_=i(20),v=S(_),y=i(0),b=S(y),g=i(5),w=S(g),I=i(10),k=S(I),R=i(9),D=S(R);function S(j){return j&&j.__esModule?j:{default:j}}function T(j,P,X){return P in j?Object.defineProperty(j,P,{value:X,enumerable:!0,configurable:!0,writable:!0}):j[P]=X,j}function E(j,P){if(!(j instanceof P))throw new TypeError("Cannot call a class as a function")}function C(j,P){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:j}function B(j,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);j.prototype=Object.create(P&&P.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(j,P):j.__proto__=P)}var M=(0,k.default)("quill:keyboard"),F=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(j){B(P,j),a(P,null,[{key:"match",value:function(W,oe){return oe=J(oe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ce){return!!oe[ce]!==W[ce]&&oe[ce]!==null})?!1:oe.key===(W.which||W.keyCode)}}]);function P(X,W){E(this,P);var oe=C(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,X,W));return oe.bindings={},Object.keys(oe.options.bindings).forEach(function(ce){ce==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||oe.options.bindings[ce]&&oe.addBinding(oe.options.bindings[ce])}),oe.addBinding({key:P.keys.ENTER,shiftKey:null},V),oe.addBinding({key:P.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(oe.addBinding({key:P.keys.BACKSPACE},{collapsed:!0},Z),oe.addBinding({key:P.keys.DELETE},{collapsed:!0},K)):(oe.addBinding({key:P.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Z),oe.addBinding({key:P.keys.DELETE},{collapsed:!0,suffix:/^.?$/},K)),oe.addBinding({key:P.keys.BACKSPACE},{collapsed:!1},N),oe.addBinding({key:P.keys.DELETE},{collapsed:!1},N),oe.addBinding({key:P.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Z),oe.listen(),oe}return a(P,[{key:"addBinding",value:function(W){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=J(W);if(Q==null||Q.key==null)return M.warn("Attempted to add invalid keyboard binding",Q);typeof oe=="function"&&(oe={handler:oe}),typeof ce=="function"&&(ce={handler:ce}),Q=(0,h.default)(Q,oe,ce),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(oe){if(!oe.defaultPrevented){var ce=oe.which||oe.keyCode,Q=(W.bindings[ce]||[]).filter(function(Ve){return P.match(oe,Ve)});if(Q.length!==0){var L=W.quill.getSelection();if(!(L==null||!W.quill.hasFocus())){var $=W.quill.getLine(L.index),U=o($,2),ue=U[0],H=U[1],Y=W.quill.getLeaf(L.index),re=o(Y,2),ie=re[0],fe=re[1],te=L.length===0?[ie,fe]:W.quill.getLeaf(L.index+L.length),_e=o(te,2),be=_e[0],Ee=_e[1],Oe=ie instanceof b.default.Text?ie.value().slice(0,fe):"",Le=be instanceof b.default.Text?be.value().slice(Ee):"",Ne={collapsed:L.length===0,empty:L.length===0&&ue.length()<=1,format:W.quill.getFormat(L),offset:H,prefix:Oe,suffix:Le},rt=Q.some(function(Ve){if(Ve.collapsed!=null&&Ve.collapsed!==Ne.collapsed||Ve.empty!=null&&Ve.empty!==Ne.empty||Ve.offset!=null&&Ve.offset!==Ne.offset)return!1;if(Array.isArray(Ve.format)){if(Ve.format.every(function(vt){return Ne.format[vt]==null}))return!1}else if(s(Ve.format)==="object"&&!Object.keys(Ve.format).every(function(vt){return Ve.format[vt]===!0?Ne.format[vt]!=null:Ve.format[vt]===!1?Ne.format[vt]==null:(0,d.default)(Ve.format[vt],Ne.format[vt])}))return!1;return Ve.prefix!=null&&!Ve.prefix.test(Ne.prefix)||Ve.suffix!=null&&!Ve.suffix.test(Ne.suffix)?!1:Ve.handler.call(W,L,Ne)!==!0});rt&&oe.preventDefault()}}}})}}]),P}(D.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(P,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(P,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(P,X){X.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(P){this.quill.deleteText(P.index-1,1,w.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(P){this.quill.history.cutoff();var X=new m.default().retain(P.index).delete(P.length).insert("	");this.quill.updateContents(X,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(P.index+1,w.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(P,X){this.quill.format("list",!1,w.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(P){var X=this.quill.getLine(P.index),W=o(X,2),oe=W[0],ce=W[1],Q=(0,h.default)({},oe.formats(),{list:"checked"}),L=new m.default().retain(P.index).insert(`
`,Q).retain(oe.length()-ce-1).retain(1,{list:"unchecked"});this.quill.updateContents(L,w.default.sources.USER),this.quill.setSelection(P.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(P,X){var W=this.quill.getLine(P.index),oe=o(W,2),ce=oe[0],Q=oe[1],L=new m.default().retain(P.index).insert(`
`,X.format).retain(ce.length()-Q-1).retain(1,{header:null});this.quill.updateContents(L,w.default.sources.USER),this.quill.setSelection(P.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(P,X){var W=X.prefix.length,oe=this.quill.getLine(P.index),ce=o(oe,2),Q=ce[0],L=ce[1];if(L>W)return!0;var $=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":$="unchecked";break;case"[x]":$="checked";break;case"-":case"*":$="bullet";break;default:$="ordered"}this.quill.insertText(P.index," ",w.default.sources.USER),this.quill.history.cutoff();var U=new m.default().retain(P.index-L).delete(W+1).retain(Q.length()-2-L).retain(1,{list:$});this.quill.updateContents(U,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(P.index-W,w.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(P){var X=this.quill.getLine(P.index),W=o(X,2),oe=W[0],ce=W[1],Q=new m.default().retain(P.index+oe.length()-ce-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,w.default.sources.USER)}},"embed left":ne(q.keys.LEFT,!1),"embed left shift":ne(q.keys.LEFT,!0),"embed right":ne(q.keys.RIGHT,!1),"embed right shift":ne(q.keys.RIGHT,!0)}};function ne(j,P){var X,W=j===q.keys.LEFT?"prefix":"suffix";return X={key:j,shiftKey:P,altKey:null},T(X,W,/^$/),T(X,"handler",function(ce){var Q=ce.index;j===q.keys.RIGHT&&(Q+=ce.length+1);var L=this.quill.getLeaf(Q),$=o(L,1),U=$[0];return U instanceof b.default.Embed?(j===q.keys.LEFT?P?this.quill.setSelection(ce.index-1,ce.length+1,w.default.sources.USER):this.quill.setSelection(ce.index-1,w.default.sources.USER):P?this.quill.setSelection(ce.index,ce.length+1,w.default.sources.USER):this.quill.setSelection(ce.index+ce.length+1,w.default.sources.USER),!1):!0}),X}function Z(j,P){if(!(j.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(j.index),W=o(X,1),oe=W[0],ce={};if(P.offset===0){var Q=this.quill.getLine(j.index-1),L=o(Q,1),$=L[0];if($!=null&&$.length()>1){var U=oe.formats(),ue=this.quill.getFormat(j.index-1,1);ce=v.default.attributes.diff(U,ue)||{}}}var H=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(P.prefix)?2:1;this.quill.deleteText(j.index-H,H,w.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(j.index-H,H,ce,w.default.sources.USER),this.quill.focus()}}function K(j,P){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(P.suffix)?2:1;if(!(j.index>=this.quill.getLength()-X)){var W={},oe=0,ce=this.quill.getLine(j.index),Q=o(ce,1),L=Q[0];if(P.offset>=L.length()-1){var $=this.quill.getLine(j.index+1),U=o($,1),ue=U[0];if(ue){var H=L.formats(),Y=this.quill.getFormat(j.index,1);W=v.default.attributes.diff(H,Y)||{},oe=ue.length()}}this.quill.deleteText(j.index,X,w.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(j.index+oe-1,X,W,w.default.sources.USER)}}function N(j){var P=this.quill.getLines(j),X={};if(P.length>1){var W=P[0].formats(),oe=P[P.length-1].formats();X=v.default.attributes.diff(oe,W)||{}}this.quill.deleteText(j,w.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(j.index,1,X,w.default.sources.USER),this.quill.setSelection(j.index,w.default.sources.SILENT),this.quill.focus()}function V(j,P){var X=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var W=Object.keys(P.format).reduce(function(oe,ce){return b.default.query(ce,b.default.Scope.BLOCK)&&!Array.isArray(P.format[ce])&&(oe[ce]=P.format[ce]),oe},{});this.quill.insertText(j.index,`
`,W,w.default.sources.USER),this.quill.setSelection(j.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(P.format).forEach(function(oe){W[oe]==null&&(Array.isArray(P.format[oe])||oe!=="link"&&X.quill.format(oe,P.format[oe],w.default.sources.USER))})}function O(j){return{key:q.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(X){var W=b.default.query("code-block"),oe=X.index,ce=X.length,Q=this.quill.scroll.descendant(W,oe),L=o(Q,2),$=L[0],U=L[1];if($!=null){var ue=this.quill.getIndex($),H=$.newlineIndex(U,!0)+1,Y=$.newlineIndex(ue+U+ce),re=$.domNode.textContent.slice(H,Y).split(`
`);U=0,re.forEach(function(ie,fe){j?($.insertAt(H+U,W.TAB),U+=W.TAB.length,fe===0?oe+=W.TAB.length:ce+=W.TAB.length):ie.startsWith(W.TAB)&&($.deleteAt(H+U,W.TAB.length),U-=W.TAB.length,fe===0?oe-=W.TAB.length:ce-=W.TAB.length),U+=ie.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(oe,ce,w.default.sources.SILENT)}}}}function G(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(X,W){this.quill.format(j,!W.format[j],w.default.sources.USER)}}}function J(j){if(typeof j=="string"||typeof j=="number")return J({key:j});if((typeof j>"u"?"undefined":s(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(q.keys[j.key.toUpperCase()]!=null)j.key=q.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[F]=j.shortKey,delete j.shortKey),j}r.default=q,r.SHORTKEY=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,b){var g=[],w=!0,I=!1,k=void 0;try{for(var R=y[Symbol.iterator](),D;!(w=(D=R.next()).done)&&(g.push(D.value),!(b&&g.length===b));w=!0);}catch(S){I=!0,k=S}finally{try{!w&&R.return&&R.return()}finally{if(I)throw k}}return g}return function(y,b){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return v(y,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function v(y,b,g){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:v(I,b,g)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(g)}},a=function(){function v(y,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,g){return b&&v(y.prototype,b),g&&v(y,g),y}}(),l=i(0),u=f(l),c=i(7),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function p(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var _=function(v){m(y,v),a(y,null,[{key:"value",value:function(){}}]);function y(b,g){h(this,y);var w=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return w.selection=g,w.textNode=document.createTextNode(y.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,g,w);for(var I=this,k=0;I!=null&&I.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=y.CONTENTS.length,I.optimize(),I.formatAt(k,y.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),I=void 0,k=void 0,R=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var D=[g,w.start.offset,w.end.offset];I=D[0],k=D[1],R=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var S=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof d.default?(I=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=y.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var T=[k,R].map(function(C){return Math.max(0,Math.min(I.data.length,C-1))}),E=s(T,2);return k=E[0],R=E[1],{startNode:I,startOffset:k,endNode:I,endOffset:R}}}}},{key:"update",value:function(g,w){var I=this;if(g.some(function(R){return R.type==="characterData"&&R.target===I.textNode})){var k=this.restore();k&&(w.range=k)}}},{key:"value",value:function(){return""}}]),y}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=u(s),a=i(4),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),o=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var I=g.get;return I===void 0?void 0:I.call(b)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var h=function(_){f(v,_);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"value",value:function(b){var g=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),v}(l.default.Attributor.Style),p=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=p,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function m(_,v){for(var y=0;y<v.length;y++){var b=v[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,v,y){return v&&m(_.prototype,v),y&&m(_,y),_}}(),o=function m(_,v,y){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,v);if(b===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:m(g,v,y)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(y)}},a=i(6),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function d(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var h=function(m){f(_,m);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(y,b){if(y!==this.statics.blotName||!b)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,y,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(y){var b=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,y);return y=this.sanitize(y),b.setAttribute("href",y),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return p(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),_}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(m,_){var v=document.createElement("a");v.href=m;var y=v.href.slice(0,v.href.indexOf(":"));return _.indexOf(y)>-1}r.default=h,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),a=i(23),l=d(a),u=i(107),c=d(u);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function p(_,v){_.setAttribute(v,_.getAttribute(v)!=="true")}var m=function(){function _(v){var y=this;f(this,_),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:y.togglePicker();break;case l.default.keys.ESCAPE:y.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var b=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),y.hasAttribute("value")&&g.setAttribute("data-value",y.getAttribute("value")),y.textContent&&g.setAttribute("data-label",y.textContent),g.addEventListener("click",function(){b.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=c.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(g){var w=y.buildItem(g);b.appendChild(w),g.selected===!0&&y.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(b){y.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(y!==g&&(g!=null&&g.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var g=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),_}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=M(s),a=i(5),l=M(a),u=i(4),c=M(u),d=i(16),f=M(d),h=i(25),p=M(h),m=i(24),_=M(m),v=i(35),y=M(v),b=i(6),g=M(b),w=i(22),I=M(w),k=i(7),R=M(k),D=i(55),S=M(D),T=i(42),E=M(T),C=i(23),B=M(C);function M(F){return F&&F.__esModule?F:{default:F}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":p.default,"blots/cursor":_.default,"blots/embed":y.default,"blots/inline":g.default,"blots/scroll":I.default,"blots/text":R.default,"modules/clipboard":S.default,"modules/history":E.default,"modules/keyboard":B.default}),o.default.register(c.default,f.default,_.default,g.default,I.default,R.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,d){var f=this.isolate(l,u);if(s.query(c,s.Scope.BLOT)!=null&&d)f.wrap(c,d);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var h=s.create(this.statics.scope);f.wrap(h),h.format(c,d)}},a.prototype.insertAt=function(l,u,c){var d=c==null?s.create("text",u):s.create(u,c),f=this.split(l);this.parent.insertBefore(d,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?s.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?s.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),u=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var f=s.default.keys(this.domNode),h=o.default.keys(this.domNode),p=a.default.keys(this.domNode);f.concat(h).concat(p).forEach(function(m){var _=l.query(m,l.Scope.ATTRIBUTE);_ instanceof s.default&&(d.attributes[_.attrName]=_)})},c.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(h){var p=f.attributes[h].value(f.domNode);d.format(h,p)})},c.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){f.attributes[h].remove(f.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,h){return f[h]=d.attributes[h].value(d.domNode),f},{})},c}();r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u,c){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(c+"-")===0})}var l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},c.prototype.remove=function(d){var f=a(d,this.keyName);f.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var f=a(d,this.keyName)[0]||"",h=f.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u){var c=u.split("-"),d=c.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return c[0]+d}var l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var h=f.split(":");return h[0].trim()})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[a(this.keyName)]=f,!0):!1},c.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var f=d.style[a(this.keyName)];return this.canAdd(d,f)?f:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return s(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(y,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,g){return b&&v(y.prototype,b),g&&v(y,g),y}}(),o=function v(y,b,g){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:v(I,b,g)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(g)}},a=i(0),l=d(a),u=i(7),c=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m="\uFEFF",_=function(v){p(y,v);function y(b){f(this,y);var g=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(m),g.rightGuard=document.createTextNode(m),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return s(y,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,I=void 0,k=g.data.split(m).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var R=this.prev.length();this.prev.insertAt(R,k),w={startNode:this.prev.domNode,startOffset:R+k.length}}else I=document.createTextNode(k),this.parent.insertBefore(l.default.create(I),this),w={startNode:I,startOffset:k.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,k),w={startNode:this.next.domNode,startOffset:k.length}):(I=document.createTextNode(k),this.parent.insertBefore(l.default.create(I),this.next),w={startNode:I,startOffset:k.length}));return g.data=m,w}},{key:"update",value:function(g,w){var I=this;g.forEach(function(k){if(k.type==="characterData"&&(k.target===I.leftGuard||k.target===I.rightGuard)){var R=I.restore(k.target);R&&(w.range=R)}})}}]),y}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),d=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),d=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function v(y,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,g){return b&&v(y.prototype,b),g&&v(y,g),y}}(),o=function v(y,b,g){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:v(I,b,g)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(g)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function f(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new l.default.Attributor.Class("font","ql-font",h),m=function(v){f(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"value",value:function(g){return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),y}(l.default.Attributor.Style),_=new m("font","font-family",h);r.FontStyle=_,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function b(g,w){for(var I=0;I<w.length;I++){var k=w[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,w,I){return w&&b(g.prototype,w),I&&b(g,I),g}}(),o=i(0),a=f(o),l=i(5),u=f(l),c=i(9),d=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function m(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var _=function(b){m(g,b);function g(w,I){h(this,g);var k=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,I));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(R,D,S,T){R!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||T===u.default.sources.USER?k.record(D,S):k.transform(D))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return s(g,[{key:"change",value:function(I,k){if(this.stack[I].length!==0){var R=this.stack[I].pop();this.stack[k].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[I],u.default.sources.USER),this.ignoreChange=!1;var D=y(R[I]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,k){if(I.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(k),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var S=this.stack.undo.pop();R=R.compose(S.undo),I=S.redo.compose(I)}else this.lastRecorded=D;this.stack.undo.push({redo:I,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(k){k.undo=I.transform(k.undo,!0),k.redo=I.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=I.transform(k.undo,!0),k.redo=I.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var g=b.ops[b.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function y(b){var g=b.reduce(function(I,k){return I+=k.delete||0,I},0),w=b.length()-g;return v(b)&&(w-=1),w}r.default=_,r.getLastChangeIndex=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function V(O,G){for(var J=0;J<G.length;J++){var j=G[J];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}return function(O,G,J){return G&&V(O.prototype,G),J&&V(O,J),O}}(),o=function V(O,G,J){O===null&&(O=Function.prototype);var j=Object.getOwnPropertyDescriptor(O,G);if(j===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:V(P,G,J)}else{if("value"in j)return j.value;var X=j.get;return X===void 0?void 0:X.call(J)}},a=i(3),l=D(a),u=i(2),c=D(u),d=i(8),f=D(d),h=i(23),p=D(h),m=i(34),_=D(m),v=i(59),y=D(v),b=i(60),g=D(b),w=i(28),I=D(w),k=i(61),R=D(k);function D(V){return V&&V.__esModule?V:{default:V}}function S(V,O){if(!(V instanceof O))throw new TypeError("Cannot call a class as a function")}function T(V,O){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:V}function E(V,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);V.prototype=Object.create(O&&O.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(V,O):V.__proto__=O)}var C=[!1,"center","right","justify"],B=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],F=["1","2","3",!1],q=["small",!1,"large","huge"],ne=function(V){E(O,V);function O(G,J){S(this,O);var j=T(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,G,J)),P=function X(W){if(!document.body.contains(G.root))return document.body.removeEventListener("click",X);j.tooltip!=null&&!j.tooltip.root.contains(W.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(oe){oe.container.contains(W.target)||oe.close()})};return G.emitter.listenDOM("click",document.body,P),j}return s(O,[{key:"addModule",value:function(J){var j=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(J,j){J.forEach(function(P){var X=P.getAttribute("class")||"";X.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),j[W]!=null))if(W==="direction")P.innerHTML=j[W][""]+j[W].rtl;else if(typeof j[W]=="string")P.innerHTML=j[W];else{var oe=P.value||"";oe!=null&&j[W][oe]&&(P.innerHTML=j[W][oe])}})})}},{key:"buildPickers",value:function(J,j){var P=this;this.pickers=J.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&N(W,C),new g.default(W,j.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var oe=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&N(W,B,oe==="background"?"#ffffff":"#000000"),new y.default(W,j[oe])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?N(W,M):W.classList.contains("ql-header")?N(W,F):W.classList.contains("ql-size")&&N(W,q)),new I.default(W)});var X=function(){P.pickers.forEach(function(oe){oe.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,X)}}]),O}(_.default);ne.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var O=this,G=this.container.querySelector("input.ql-image[type=file]");G==null&&(G=document.createElement("input"),G.setAttribute("type","file"),G.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),G.classList.add("ql-image"),G.addEventListener("change",function(){if(G.files!=null&&G.files[0]!=null){var J=new FileReader;J.onload=function(j){var P=O.quill.getSelection(!0);O.quill.updateContents(new c.default().retain(P.index).delete(P.length).insert({image:j.target.result}),f.default.sources.USER),O.quill.setSelection(P.index+1,f.default.sources.SILENT),G.value=""},J.readAsDataURL(G.files[0])}}),this.container.appendChild(G)),G.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Z=function(V){E(O,V);function O(G,J){S(this,O);var j=T(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,G,J));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return s(O,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(j){p.default.match(j,"enter")?(J.save(),j.preventDefault()):p.default.match(j,"escape")&&(J.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,f.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":J=K(J);case"formula":{if(!J)break;var P=this.quill.getSelection(!0);if(P!=null){var X=P.index+P.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),J,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",f.default.sources.USER),this.quill.setSelection(X+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),O}(R.default);function K(V){var O=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return O?(O[1]||"https")+"://www.youtube.com/embed/"+O[2]+"?showinfo=0":(O=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(O[1]||"https")+"://player.vimeo.com/video/"+O[2]+"/":V}function N(V,O){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;O.forEach(function(J){var j=document.createElement("option");J===G?j.setAttribute("selected","selected"):j.setAttribute("value",J),V.appendChild(j)})}r.BaseTooltip=Z,r.default=ne},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var d=u.length();if(a<d||l&&a===d&&(u.next==null||u.next.length()!==0))return[u,a];a-=d}return[null,0]},o.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},o.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),d=c[0],f=c[1],h,p=a-f,m=this.iterator(d);(h=m())&&p<a+l;){var _=h.length();a>p?u(h,a-p,Math.min(l,p+_-a)):u(h,0,Math.min(_,a+l-p)),p+=_}},o.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},o.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(d){s(f,d);function f(h){var p=d.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(m){p.update(m)}),p.observer.observe(p.domNode,l),p.attach(),p}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(m){m.remove()}):d.prototype.deleteAt.call(this,h,p)},f.prototype.formatAt=function(h,p,m,_){this.update(),d.prototype.formatAt.call(this,h,p,m,_)},f.prototype.insertAt=function(h,p,m){this.update(),d.prototype.insertAt.call(this,h,p,m)},f.prototype.optimize=function(h,p){var m=this;h===void 0&&(h=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)h.push(_.pop());for(var v=function(w,I){I===void 0&&(I=!0),!(w==null||w===m)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),I&&v(w.parent))},y=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof o.default&&w.children.forEach(y),w.optimize(p))},b=h,g=0;b.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var I=a.find(w.target,!0);I!=null&&(I.domNode===w.target&&(w.type==="childList"?(v(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(k){var R=a.find(k,!1);v(R,!1),R instanceof o.default&&R.children.forEach(function(D){v(D,!1)})})):w.type==="attributes"&&v(I.prev)),v(I))}),this.children.forEach(y),b=[].slice.call(this.observer.takeRecords()),_=b.slice();_.length>0;)h.push(_.pop())}},f.prototype.update=function(h,p){var m=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(_){var v=a.find(_.target,!0);return v==null?null:v.domNode[a.DATA_KEY].mutations==null?(v.domNode[a.DATA_KEY].mutations=[_],v):(v.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===m||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(h,p)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){c(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var f in c)if(c[f]!==d[f])return!1;return!0}var u=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return c.formats.call(this,f)},d.prototype.format=function(f,h){var p=this;f===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof o.default||(m=m.wrap(d.blotName,!0)),p.attributes.copy(m)}),this.unwrap()):c.prototype.format.call(this,f,h)},d.prototype.formatAt=function(f,h,p,m){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var _=this.isolate(f,h);_.format(p,m)}else c.prototype.formatAt.call(this,f,h,p,m)},d.prototype.optimize=function(f){c.prototype.optimize.call(this,f);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&l(h,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){var f=a.query(c.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},c.prototype.format=function(d,f){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(c.blotName):u.prototype.format.call(this,d,f))},c.prototype.formatAt=function(d,f,h,p){a.query(h,a.Scope.BLOCK)!=null?this.format(h,p):u.prototype.formatAt.call(this,d,f,h,p)},c.prototype.insertAt=function(d,f,h){if(h==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,h);else{var p=this.split(d),m=a.create(f,h);p.parent.insertBefore(m,p)}},c.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,d){l.prototype.formatAt.call(this,0,this.length(),c,d)},u.prototype.formatAt=function(c,d,f,h){c===0&&d===this.length()?this.format(f,h):l.prototype.formatAt.call(this,c,d,f,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(u){s(c,u);function c(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},c.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},c.prototype.index=function(d,f){return this.domNode===d?f:-1},c.prototype.insertAt=function(d,f,h){h==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,h)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,f){return[this.domNode,d]},c.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var h=a.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},c.prototype.update=function(d,f){var h=this;d.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,d=arguments[1],f,h=0;h<c;h++)if(f=u[h],l.call(d,f,h,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(g,w,I){if(g==w)return g?[[o,g]]:[];(I<0||g.length<I)&&(I=null);var k=d(g,w),R=g.substring(0,k);g=g.substring(k),w=w.substring(k),k=f(g,w);var D=g.substring(g.length-k);g=g.substring(0,g.length-k),w=w.substring(0,w.length-k);var S=l(g,w);return R&&S.unshift([o,R]),D&&S.push([o,D]),p(S),I!=null&&(S=v(S,I)),S=y(S),S}function l(g,w){var I;if(!g)return[[s,w]];if(!w)return[[i,g]];var k=g.length>w.length?g:w,R=g.length>w.length?w:g,D=k.indexOf(R);if(D!=-1)return I=[[s,k.substring(0,D)],[o,R],[s,k.substring(D+R.length)]],g.length>w.length&&(I[0][0]=I[2][0]=i),I;if(R.length==1)return[[i,g],[s,w]];var S=h(g,w);if(S){var T=S[0],E=S[1],C=S[2],B=S[3],M=S[4],F=a(T,C),q=a(E,B);return F.concat([[o,M]],q)}return u(g,w)}function u(g,w){for(var I=g.length,k=w.length,R=Math.ceil((I+k)/2),D=R,S=2*R,T=new Array(S),E=new Array(S),C=0;C<S;C++)T[C]=-1,E[C]=-1;T[D+1]=0,E[D+1]=0;for(var B=I-k,M=B%2!=0,F=0,q=0,ne=0,Z=0,K=0;K<R;K++){for(var N=-K+F;N<=K-q;N+=2){var V=D+N,O;N==-K||N!=K&&T[V-1]<T[V+1]?O=T[V+1]:O=T[V-1]+1;for(var G=O-N;O<I&&G<k&&g.charAt(O)==w.charAt(G);)O++,G++;if(T[V]=O,O>I)q+=2;else if(G>k)F+=2;else if(M){var J=D+B-N;if(J>=0&&J<S&&E[J]!=-1){var j=I-E[J];if(O>=j)return c(g,w,O,G)}}}for(var P=-K+ne;P<=K-Z;P+=2){var J=D+P,j;P==-K||P!=K&&E[J-1]<E[J+1]?j=E[J+1]:j=E[J-1]+1;for(var X=j-P;j<I&&X<k&&g.charAt(I-j-1)==w.charAt(k-X-1);)j++,X++;if(E[J]=j,j>I)Z+=2;else if(X>k)ne+=2;else if(!M){var V=D+B-P;if(V>=0&&V<S&&T[V]!=-1){var O=T[V],G=D+O-V;if(j=I-j,O>=j)return c(g,w,O,G)}}}}return[[i,g],[s,w]]}function c(g,w,I,k){var R=g.substring(0,I),D=w.substring(0,k),S=g.substring(I),T=w.substring(k),E=a(R,D),C=a(S,T);return E.concat(C)}function d(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var I=0,k=Math.min(g.length,w.length),R=k,D=0;I<R;)g.substring(D,R)==w.substring(D,R)?(I=R,D=I):k=R,R=Math.floor((k-I)/2+I);return R}function f(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var I=0,k=Math.min(g.length,w.length),R=k,D=0;I<R;)g.substring(g.length-R,g.length-D)==w.substring(w.length-R,w.length-D)?(I=R,D=I):k=R,R=Math.floor((k-I)/2+I);return R}function h(g,w){var I=g.length>w.length?g:w,k=g.length>w.length?w:g;if(I.length<4||k.length*2<I.length)return null;function R(q,ne,Z){for(var K=q.substring(Z,Z+Math.floor(q.length/4)),N=-1,V="",O,G,J,j;(N=ne.indexOf(K,N+1))!=-1;){var P=d(q.substring(Z),ne.substring(N)),X=f(q.substring(0,Z),ne.substring(0,N));V.length<X+P&&(V=ne.substring(N-X,N)+ne.substring(N,N+P),O=q.substring(0,Z-X),G=q.substring(Z+P),J=ne.substring(0,N-X),j=ne.substring(N+P))}return V.length*2>=q.length?[O,G,J,j,V]:null}var D=R(I,k,Math.ceil(I.length/4)),S=R(I,k,Math.ceil(I.length/2)),T;if(!D&&!S)return null;S?D?T=D[4].length>S[4].length?D:S:T=S:T=D;var E,C,B,M;g.length>w.length?(E=T[0],C=T[1],B=T[2],M=T[3]):(B=T[0],M=T[1],E=T[2],C=T[3]);var F=T[4];return[E,C,B,M,F]}function p(g){g.push([o,""]);for(var w=0,I=0,k=0,R="",D="",S;w<g.length;)switch(g[w][0]){case s:k++,D+=g[w][1],w++;break;case i:I++,R+=g[w][1],w++;break;case o:I+k>1?(I!==0&&k!==0&&(S=d(D,R),S!==0&&(w-I-k>0&&g[w-I-k-1][0]==o?g[w-I-k-1][1]+=D.substring(0,S):(g.splice(0,0,[o,D.substring(0,S)]),w++),D=D.substring(S),R=R.substring(S)),S=f(D,R),S!==0&&(g[w][1]=D.substring(D.length-S)+g[w][1],D=D.substring(0,D.length-S),R=R.substring(0,R.length-S))),I===0?g.splice(w-k,I+k,[s,D]):k===0?g.splice(w-I,I+k,[i,R]):g.splice(w-I-k,I+k,[i,R],[s,D]),w=w-I-k+(I?1:0)+(k?1:0)+1):w!==0&&g[w-1][0]==o?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,k=0,I=0,R="",D="";break}g[g.length-1][1]===""&&g.pop();var T=!1;for(w=1;w<g.length-1;)g[w-1][0]==o&&g[w+1][0]==o&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),T=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),T=!0)),w++;T&&p(g)}var m=a;m.INSERT=s,m.DELETE=i,m.EQUAL=o,n.exports=m;function _(g,w){if(w===0)return[o,g];for(var I=0,k=0;k<g.length;k++){var R=g[k];if(R[0]===i||R[0]===o){var D=I+R[1].length;if(w===D)return[k+1,g];if(w<D){g=g.slice();var S=w-I,T=[R[0],R[1].slice(0,S)],E=[R[0],R[1].slice(S)];return g.splice(k,1,T,E),[k+1,g]}else I=D}}throw new Error("cursor_pos is out of bounds!")}function v(g,w){var I=_(g,w),k=I[1],R=I[0],D=k[R],S=k[R+1];if(D==null)return g;if(D[0]!==o)return g;if(S!=null&&D[1]+S[1]===S[1]+D[1])return k.splice(R,2,S,D),b(k,R,2);if(S!=null&&S[1].indexOf(D[1])===0){k.splice(R,2,[S[0],D[1]],[0,D[1]]);var T=S[1].slice(D[1].length);return T.length>0&&k.splice(R+2,0,[S[0],T]),b(k,R,3)}else return g}function y(g){for(var w=!1,I=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},k=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},R=2;R<g.length;R+=1)g[R-2][0]===o&&k(g[R-2][1])&&g[R-1][0]===i&&I(g[R-1][1])&&g[R][0]===s&&I(g[R][1])&&(w=!0,g[R-1][1]=g[R-2][1].slice(-1)+g[R-1][1],g[R][1]=g[R-2][1].slice(-1)+g[R][1],g[R-2][1]=g[R-2][1].slice(0,-1));if(!w)return g;for(var D=[],R=0;R<g.length;R+=1)g[R][1].length>0&&D.push(g[R]);return D}function b(g,w,I){for(var k=w+I-1;k>=0&&k>=w-1;k--)if(k+1<g.length){var R=g[k],D=g[k+1];R[0]===D[1]&&g.splice(k,2,[R[0],R[1]+D[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)i.call(d,f)&&c.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c,d){var f=s?s+c:c,h=this._events[f];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,_=new Array(m);p<m;p++)_[p]=h[p].fn;return _},l.prototype.emit=function(c,d,f,h,p,m){var _=s?s+c:c;if(!this._events[_])return!1;var v=this._events[_],y=arguments.length,b,g;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(g=1,b=new Array(y-1);g<y;g++)b[g-1]=arguments[g];v.fn.apply(v.context,b)}else{var w=v.length,I;for(g=0;g<w;g++)switch(v[g].once&&this.removeListener(c,v[g].fn,void 0,!0),y){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,d);break;case 3:v[g].fn.call(v[g].context,d,f);break;case 4:v[g].fn.call(v[g].context,d,f,h);break;default:if(!b)for(I=1,b=new Array(y-1);I<y;I++)b[I-1]=arguments[I];v[g].fn.apply(v[g].context,b)}}return!0},l.prototype.on=function(c,d,f){var h=new a(d,f||this),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.once=function(c,d,f){var h=new a(d,f||this,!0),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.removeListener=function(c,d,f,h){var p=s?s+c:c;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var _=0,v=[],y=m.length;_<y;_++)(m[_].fn!==d||h&&!m[_].once||f&&m[_].context!==f)&&v.push(m[_]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=s?s+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},o=function(){function Y(re,ie){var fe=[],te=!0,_e=!1,be=void 0;try{for(var Ee=re[Symbol.iterator](),Oe;!(te=(Oe=Ee.next()).done)&&(fe.push(Oe.value),!(ie&&fe.length===ie));te=!0);}catch(Le){_e=!0,be=Le}finally{try{!te&&Ee.return&&Ee.return()}finally{if(_e)throw be}}return fe}return function(re,ie){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return Y(re,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Y(re,ie){for(var fe=0;fe<ie.length;fe++){var te=ie[fe];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(re,te.key,te)}}return function(re,ie,fe){return ie&&Y(re.prototype,ie),fe&&Y(re,fe),re}}(),l=i(3),u=E(l),c=i(2),d=E(c),f=i(0),h=E(f),p=i(5),m=E(p),_=i(10),v=E(_),y=i(9),b=E(y),g=i(36),w=i(37),I=i(13),k=E(I),R=i(26),D=i(38),S=i(39),T=i(40);function E(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,re,ie){return re in Y?Object.defineProperty(Y,re,{value:ie,enumerable:!0,configurable:!0,writable:!0}):Y[re]=ie,Y}function B(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}function M(Y,re){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:Y}function F(Y,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);Y.prototype=Object.create(re&&re.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,re):Y.__proto__=re)}var q=(0,v.default)("quill:clipboard"),ne="__ql-matcher",Z=[[Node.TEXT_NODE,H],[Node.TEXT_NODE,$],["br",ce],[Node.ELEMENT_NODE,$],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,ue],["li",L],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",Q]],K=[g.AlignAttribute,D.DirectionAttribute].reduce(function(Y,re){return Y[re.keyName]=re,Y},{}),N=[g.AlignStyle,w.BackgroundStyle,R.ColorStyle,D.DirectionStyle,S.FontStyle,T.SizeStyle].reduce(function(Y,re){return Y[re.keyName]=re,Y},{}),V=function(Y){F(re,Y);function re(ie,fe){B(this,re);var te=M(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,ie,fe));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],Z.concat(te.options.matchers).forEach(function(_e){var be=o(_e,2),Ee=be[0],Oe=be[1];!fe.matchVisual&&Oe===U||te.addMatcher(Ee,Oe)}),te}return a(re,[{key:"addMatcher",value:function(fe,te){this.matchers.push([fe,te])}},{key:"convert",value:function(fe){if(typeof fe=="string")return this.container.innerHTML=fe.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[k.default.blotName]){var _e=this.container.innerText;return this.container.innerHTML="",new d.default().insert(_e,C({},k.default.blotName,te[k.default.blotName]))}var be=this.prepareMatching(),Ee=o(be,2),Oe=Ee[0],Le=Ee[1],Ne=P(this.container,Oe,Le);return J(Ne,`
`)&&Ne.ops[Ne.ops.length-1].attributes==null&&(Ne=Ne.compose(new d.default().retain(Ne.length()-1).delete(1))),q.log("convert",this.container.innerHTML,Ne),this.container.innerHTML="",Ne}},{key:"dangerouslyPasteHTML",value:function(fe,te){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof fe=="string")this.quill.setContents(this.convert(fe),te),this.quill.setSelection(0,m.default.sources.SILENT);else{var be=this.convert(te);this.quill.updateContents(new d.default().retain(fe).concat(be),_e),this.quill.setSelection(fe+be.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(fe){var te=this;if(!(fe.defaultPrevented||!this.quill.isEnabled())){var _e=this.quill.getSelection(),be=new d.default().retain(_e.index),Ee=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){be=be.concat(te.convert()).delete(_e.length),te.quill.updateContents(be,m.default.sources.USER),te.quill.setSelection(be.length()-_e.length,m.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=Ee,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var fe=this,te=[],_e=[];return this.matchers.forEach(function(be){var Ee=o(be,2),Oe=Ee[0],Le=Ee[1];switch(Oe){case Node.TEXT_NODE:_e.push(Le);break;case Node.ELEMENT_NODE:te.push(Le);break;default:[].forEach.call(fe.container.querySelectorAll(Oe),function(Ne){Ne[ne]=Ne[ne]||[],Ne[ne].push(Le)});break}}),[te,_e]}}]),re}(b.default);V.DEFAULTS={matchers:[],matchVisual:!0};function O(Y,re,ie){return(typeof re>"u"?"undefined":s(re))==="object"?Object.keys(re).reduce(function(fe,te){return O(fe,te,re[te])},Y):Y.reduce(function(fe,te){return te.attributes&&te.attributes[re]?fe.push(te):fe.insert(te.insert,(0,u.default)({},C({},re,ie),te.attributes))},new d.default)}function G(Y){if(Y.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return Y[re]||(Y[re]=window.getComputedStyle(Y))}function J(Y,re){for(var ie="",fe=Y.ops.length-1;fe>=0&&ie.length<re.length;--fe){var te=Y.ops[fe];if(typeof te.insert!="string")break;ie=te.insert+ie}return ie.slice(-1*re.length)===re}function j(Y){if(Y.childNodes.length===0)return!1;var re=G(Y);return["block","list-item"].indexOf(re.display)>-1}function P(Y,re,ie){return Y.nodeType===Y.TEXT_NODE?ie.reduce(function(fe,te){return te(Y,fe)},new d.default):Y.nodeType===Y.ELEMENT_NODE?[].reduce.call(Y.childNodes||[],function(fe,te){var _e=P(te,re,ie);return te.nodeType===Y.ELEMENT_NODE&&(_e=re.reduce(function(be,Ee){return Ee(te,be)},_e),_e=(te[ne]||[]).reduce(function(be,Ee){return Ee(te,be)},_e)),fe.concat(_e)},new d.default):new d.default}function X(Y,re,ie){return O(ie,Y,!0)}function W(Y,re){var ie=h.default.Attributor.Attribute.keys(Y),fe=h.default.Attributor.Class.keys(Y),te=h.default.Attributor.Style.keys(Y),_e={};return ie.concat(fe).concat(te).forEach(function(be){var Ee=h.default.query(be,h.default.Scope.ATTRIBUTE);Ee!=null&&(_e[Ee.attrName]=Ee.value(Y),_e[Ee.attrName])||(Ee=K[be],Ee!=null&&(Ee.attrName===be||Ee.keyName===be)&&(_e[Ee.attrName]=Ee.value(Y)||void 0),Ee=N[be],Ee!=null&&(Ee.attrName===be||Ee.keyName===be)&&(Ee=N[be],_e[Ee.attrName]=Ee.value(Y)||void 0))}),Object.keys(_e).length>0&&(re=O(re,_e)),re}function oe(Y,re){var ie=h.default.query(Y);if(ie==null)return re;if(ie.prototype instanceof h.default.Embed){var fe={},te=ie.value(Y);te!=null&&(fe[ie.blotName]=te,re=new d.default().insert(fe,ie.formats(Y)))}else typeof ie.formats=="function"&&(re=O(re,ie.blotName,ie.formats(Y)));return re}function ce(Y,re){return J(re,`
`)||re.insert(`
`),re}function Q(){return new d.default}function L(Y,re){var ie=h.default.query(Y);if(ie==null||ie.blotName!=="list-item"||!J(re,`
`))return re;for(var fe=-1,te=Y.parentNode;!te.classList.contains("ql-clipboard");)(h.default.query(te)||{}).blotName==="list"&&(fe+=1),te=te.parentNode;return fe<=0?re:re.compose(new d.default().retain(re.length()-1).retain(1,{indent:fe}))}function $(Y,re){return J(re,`
`)||(j(Y)||re.length()>0&&Y.nextSibling&&j(Y.nextSibling))&&re.insert(`
`),re}function U(Y,re){if(j(Y)&&Y.nextElementSibling!=null&&!J(re,`

`)){var ie=Y.offsetHeight+parseFloat(G(Y).marginTop)+parseFloat(G(Y).marginBottom);Y.nextElementSibling.offsetTop>Y.offsetTop+ie*1.5&&re.insert(`
`)}return re}function ue(Y,re){var ie={},fe=Y.style||{};return fe.fontStyle&&G(Y).fontStyle==="italic"&&(ie.italic=!0),fe.fontWeight&&(G(Y).fontWeight.startsWith("bold")||parseInt(G(Y).fontWeight)>=700)&&(ie.bold=!0),Object.keys(ie).length>0&&(re=O(re,ie)),parseFloat(fe.textIndent||0)>0&&(re=new d.default().insert("	").concat(re)),re}function H(Y,re){var ie=Y.data;if(Y.parentNode.tagName==="O:P")return re.insert(ie.trim());if(ie.trim().length===0&&Y.parentNode.classList.contains("ql-clipboard"))return re;if(!G(Y.parentNode).whiteSpace.startsWith("pre")){var fe=function(_e,be){return be=be.replace(/[^\u00a0]/g,""),be.length<1&&_e?" ":be};ie=ie.replace(/\r\n/g," ").replace(/\n/g," "),ie=ie.replace(/\s\s+/g,fe.bind(fe,!0)),(Y.previousSibling==null&&j(Y.parentNode)||Y.previousSibling!=null&&j(Y.previousSibling))&&(ie=ie.replace(/^\s+/,fe.bind(fe,!1))),(Y.nextSibling==null&&j(Y.parentNode)||Y.nextSibling!=null&&j(Y.nextSibling))&&(ie=ie.replace(/\s+$/,fe.bind(fe,!1)))}return re.insert(ie)}r.default=V,r.matchAttributor=W,r.matchBlot=oe,r.matchNewline=$,r.matchSpacing=U,r.matchText=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),o=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"optimize",value:function(v){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function T(E,C){var B=[],M=!0,F=!1,q=void 0;try{for(var ne=E[Symbol.iterator](),Z;!(M=(Z=ne.next()).done)&&(B.push(Z.value),!(C&&B.length===C));M=!0);}catch(K){F=!0,q=K}finally{try{!M&&ne.return&&ne.return()}finally{if(F)throw q}}return B}return function(E,C){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return T(E,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(E,C){for(var B=0;B<C.length;B++){var M=C[B];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,C,B){return C&&T(E.prototype,C),B&&T(E,B),E}}(),a=i(2),l=v(a),u=i(0),c=v(u),d=i(5),f=v(d),h=i(10),p=v(h),m=i(9),_=v(m);function v(T){return T&&T.__esModule?T:{default:T}}function y(T,E,C){return E in T?Object.defineProperty(T,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[E]=C,T}function b(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function g(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function w(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var I=(0,p.default)("quill:toolbar"),k=function(T){w(E,T);function E(C,B){b(this,E);var M=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,B));if(Array.isArray(M.options.container)){var F=document.createElement("div");D(F,M.options.container),C.container.parentNode.insertBefore(F,C.container),M.container=F}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var q;return q=I.error("Container required for toolbar",M.options),g(M,q)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(ne){M.addHandler(ne,M.options.handlers[ne])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(ne){M.attach(ne)}),M.quill.on(f.default.events.EDITOR_CHANGE,function(ne,Z){ne===f.default.events.SELECTION_CHANGE&&M.update(Z)}),M.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var ne=M.quill.selection.getRange(),Z=s(ne,1),K=Z[0];M.update(K)}),M}return o(E,[{key:"addHandler",value:function(B,M){this.handlers[B]=M}},{key:"attach",value:function(B){var M=this,F=[].find.call(B.classList,function(ne){return ne.indexOf("ql-")===0});if(F){if(F=F.slice(3),B.tagName==="BUTTON"&&B.setAttribute("type","button"),this.handlers[F]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[F]==null){I.warn("ignoring attaching to disabled format",F,B);return}if(c.default.query(F)==null){I.warn("ignoring attaching to nonexistent format",F,B);return}}var q=B.tagName==="SELECT"?"change":"click";B.addEventListener(q,function(ne){var Z=void 0;if(B.tagName==="SELECT"){if(B.selectedIndex<0)return;var K=B.options[B.selectedIndex];K.hasAttribute("selected")?Z=!1:Z=K.value||!1}else B.classList.contains("ql-active")?Z=!1:Z=B.value||!B.hasAttribute("value"),ne.preventDefault();M.quill.focus();var N=M.quill.selection.getRange(),V=s(N,1),O=V[0];if(M.handlers[F]!=null)M.handlers[F].call(M,Z);else if(c.default.query(F).prototype instanceof c.default.Embed){if(Z=prompt("Enter "+F),!Z)return;M.quill.updateContents(new l.default().retain(O.index).delete(O.length).insert(y({},F,Z)),f.default.sources.USER)}else M.quill.format(F,Z,f.default.sources.USER);M.update(O)}),this.controls.push([F,B])}}},{key:"update",value:function(B){var M=B==null?{}:this.quill.getFormat(B);this.controls.forEach(function(F){var q=s(F,2),ne=q[0],Z=q[1];if(Z.tagName==="SELECT"){var K=void 0;if(B==null)K=null;else if(M[ne]==null)K=Z.querySelector("option[selected]");else if(!Array.isArray(M[ne])){var N=M[ne];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),K=Z.querySelector('option[value="'+N+'"]')}K==null?(Z.value="",Z.selectedIndex=-1):K.selected=!0}else if(B==null)Z.classList.remove("ql-active");else if(Z.hasAttribute("value")){var V=M[ne]===Z.getAttribute("value")||M[ne]!=null&&M[ne].toString()===Z.getAttribute("value")||M[ne]==null&&!Z.getAttribute("value");Z.classList.toggle("ql-active",V)}else Z.classList.toggle("ql-active",M[ne]!=null)})}}]),E}(_.default);k.DEFAULTS={};function R(T,E,C){var B=document.createElement("button");B.setAttribute("type","button"),B.classList.add("ql-"+E),C!=null&&(B.value=C),T.appendChild(B)}function D(T,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(C){var B=document.createElement("span");B.classList.add("ql-formats"),C.forEach(function(M){if(typeof M=="string")R(B,M);else{var F=Object.keys(M)[0],q=M[F];Array.isArray(q)?S(B,F,q):R(B,F,q)}}),T.appendChild(B)})}function S(T,E,C){var B=document.createElement("select");B.classList.add("ql-"+E),C.forEach(function(M){var F=document.createElement("option");M!==!1?F.setAttribute("value",M):F.setAttribute("selected","selected"),B.appendChild(F)}),T.appendChild(B)}k.DEFAULTS={container:null,handlers:{clean:function(){var E=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var B=this.quill.getFormat();Object.keys(B).forEach(function(M){c.default.query(M,c.default.Scope.INLINE)!=null&&E.quill.format(M,!1)})}else this.quill.removeFormat(C,f.default.sources.USER)},direction:function(E){var C=this.quill.getFormat().align;E==="rtl"&&C==null?this.quill.format("align","right",f.default.sources.USER):!E&&C==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",E,f.default.sources.USER)},indent:function(E){var C=this.quill.getSelection(),B=this.quill.getFormat(C),M=parseInt(B.indent||0);if(E==="+1"||E==="-1"){var F=E==="+1"?1:-1;B.direction==="rtl"&&(F*=-1),this.quill.format("indent",M+F,f.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,f.default.sources.USER)},list:function(E){var C=this.quill.getSelection(),B=this.quill.getFormat(C);E==="check"?B.list==="checked"||B.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",E,f.default.sources.USER)}}},r.default=k,r.addControls=D},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),o=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(_,v){c(this,m);var y=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return y.label.innerHTML=v,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),y}return s(m,[{key:"buildItem",value:function(v){var y=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,v);return y.style.backgroundColor=v.getAttribute("value")||"",y}},{key:"selectItem",value:function(v,y){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,y);var b=this.label.querySelector(".ql-color-label"),g=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=g:b.style.fill=g)}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),o=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(_,v){c(this,m);var y=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return s(m,[{key:"selectItem",value:function(v,y){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,y),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var d=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,f=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),m=0;if(p.right>h.right&&(m=h.right-p.right,this.root.style.left=d+m+"px"),p.left<h.left&&(m=h.left-p.left,this.root.style.left=d+m+"px"),p.bottom>h.bottom){var _=p.bottom-p.top,v=c.bottom-c.top+_;this.root.style.top=f-v+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function S(T,E){var C=[],B=!0,M=!1,F=void 0;try{for(var q=T[Symbol.iterator](),ne;!(B=(ne=q.next()).done)&&(C.push(ne.value),!(E&&C.length===E));B=!0);}catch(Z){M=!0,F=Z}finally{try{!B&&q.return&&q.return()}finally{if(M)throw F}}return C}return function(T,E){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return S(T,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function S(T,E,C){T===null&&(T=Function.prototype);var B=Object.getOwnPropertyDescriptor(T,E);if(B===void 0){var M=Object.getPrototypeOf(T);return M===null?void 0:S(M,E,C)}else{if("value"in B)return B.value;var F=B.get;return F===void 0?void 0:F.call(C)}},a=function(){function S(T,E){for(var C=0;C<E.length;C++){var B=E[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,B.key,B)}}return function(T,E,C){return E&&S(T.prototype,E),C&&S(T,C),T}}(),l=i(3),u=b(l),c=i(8),d=b(c),f=i(43),h=b(f),p=i(27),m=b(p),_=i(15),v=i(41),y=b(v);function b(S){return S&&S.__esModule?S:{default:S}}function g(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function w(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function I(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(S){I(T,S);function T(E,C){g(this,T),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=k);var B=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E,C));return B.quill.container.classList.add("ql-snow"),B}return a(T,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default),this.tooltip=new D(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(B,M){C.handlers.link.call(C,!M.format.link)})}}]),T}(h.default);R.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var E=this.quill.getSelection();if(E==null||E.length==0)return;var C=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var B=this.quill.theme.tooltip;B.edit("link",C)}else this.quill.format("link",!1)}}}}});var D=function(S){I(T,S);function T(E,C){g(this,T);var B=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E,C));return B.preview=B.root.querySelector("a.ql-preview"),B}return a(T,[{key:"listen",value:function(){var C=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(B){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),B.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(B){if(C.linkRange!=null){var M=C.linkRange;C.restoreFocus(),C.quill.formatText(M,"link",!1,d.default.sources.USER),delete C.linkRange}B.preventDefault(),C.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(B,M,F){if(B!=null){if(B.length===0&&F===d.default.sources.USER){var q=C.quill.scroll.descendant(m.default,B.index),ne=s(q,2),Z=ne[0],K=ne[1];if(Z!=null){C.linkRange=new _.Range(B.index-K,Z.length());var N=m.default.formats(Z.domNode);C.preview.textContent=N,C.preview.setAttribute("href",N),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(f.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=te(s),a=i(36),l=i(38),u=i(64),c=i(65),d=te(c),f=i(66),h=te(f),p=i(67),m=te(p),_=i(37),v=i(26),y=i(39),b=i(40),g=i(56),w=te(g),I=i(68),k=te(I),R=i(27),D=te(R),S=i(69),T=te(S),E=i(70),C=te(E),B=i(71),M=te(B),F=i(72),q=te(F),ne=i(73),Z=te(ne),K=i(13),N=te(K),V=i(74),O=te(V),G=i(75),J=te(G),j=i(57),P=te(j),X=i(41),W=te(X),oe=i(28),ce=te(oe),Q=i(59),L=te(Q),$=i(60),U=te($),ue=i(61),H=te(ue),Y=i(108),re=te(Y),ie=i(62),fe=te(ie);function te(_e){return _e&&_e.__esModule?_e:{default:_e}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":y.FontClass,"formats/size":b.SizeClass,"formats/blockquote":d.default,"formats/code-block":N.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":w.default,"formats/code":K.Code,"formats/italic":k.default,"formats/link":D.default,"formats/script":T.default,"formats/strike":C.default,"formats/underline":M.default,"formats/image":q.default,"formats/video":Z.default,"formats/list/item":p.ListItem,"modules/formula":O.default,"modules/syntax":J.default,"modules/toolbar":P.default,"themes/bubble":re.default,"themes/snow":fe.default,"ui/icons":W.default,"ui/picker":ce.default,"ui/icon-picker":U.default,"ui/color-picker":L.default,"ui/tooltip":H.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function m(_,v){for(var y=0;y<v.length;y++){var b=v[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,v,y){return v&&m(_.prototype,v),y&&m(_,y),_}}(),o=function m(_,v,y){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,v);if(b===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:m(g,v,y)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(y)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function d(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var h=function(m){f(_,m);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"add",value:function(y,b){if(b==="+1"||b==="-1"){var g=this.value(y)||0;b=b==="+1"?g+1:g-1}return b===0?(this.remove(y),!0):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,y,b)}},{key:"canAdd",value:function(y,b){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,y,b)||o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,y,parseInt(b))}},{key:"value",value:function(y){return parseInt(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,y))||void 0}}]),_}(l.default.Attributor.Class),p=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function h(p,m){for(var _=0;_<m.length;_++){var v=m[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,_){return m&&h(p.prototype,m),_&&h(p,_),p}}(),o=i(4),a=l(o);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),p}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function g(w,I){for(var k=0;k<I.length;k++){var R=I[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,I,k){return I&&g(w.prototype,I),k&&g(w,k),w}}(),o=function g(w,I,k){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,I);if(R===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:g(D,I,k)}else{if("value"in R)return R.value;var S=R.get;return S===void 0?void 0:S.call(k)}},a=i(0),l=h(a),u=i(4),c=h(u),d=i(25),f=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function p(g,w,I){return w in g?Object.defineProperty(g,w,{value:I,enumerable:!0,configurable:!0,writable:!0}):g[w]=I,g}function m(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function _(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function v(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var y=function(g){v(w,g);function w(){return m(this,w),_(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(k,R){k===b.blotName&&!R?this.replaceWith(l.default.create(this.statics.scope)):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,R){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,R),this):(this.parent.unwrap(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,k,R))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:o(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,k)}}]),w}(c.default);y.blotName="list-item",y.tagName="LI";var b=function(g){v(w,g),s(w,null,[{key:"create",value:function(k){var R=k==="ordered"?"OL":"UL",D=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,R);return(k==="checked"||k==="unchecked")&&D.setAttribute("data-checked",k==="checked"),D}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(I){m(this,w);var k=_(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I)),R=function(S){if(S.target.parentNode===I){var T=k.statics.formats(I),E=l.default.find(S.target);T==="checked"?E.format("list","unchecked"):T==="unchecked"&&E.format("list","checked")}};return I.addEventListener("touchstart",R),I.addEventListener("mousedown",R),k}return s(w,[{key:"format",value:function(k,R){this.children.length>0&&this.children.tail.format(k,R)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,R){if(k instanceof y)o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,k,R);else{var D=R==null?this.length():R.offset(this),S=this.split(D);S.parent.insertBefore(k,S)}}},{key:"optimize",value:function(k){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,k);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var R=l.default.create(this.statics.defaultChild);k.moveChildren(R),this.appendChild(R)}o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,k)}}]),w}(f.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[y],r.ListItem=y,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),o=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),m}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),o=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var I=g.get;return I===void 0?void 0:I.call(b)}},a=i(0),l=c(a),u=i(27);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function f(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function h(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=["alt","height","width"],m=function(_){h(v,_);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),o=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var I=g.get;return I===void 0?void 0:I.call(b)}},a=i(4),l=i(27),u=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function f(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function h(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=["height","width"],m=function(_){h(v,_);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function b(g,w){for(var I=0;I<w.length;I++){var k=w[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,w,I){return w&&b(g.prototype,w),I&&b(g,I),g}}(),o=function b(g,w,I){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,w);if(k===void 0){var R=Object.getPrototypeOf(g);return R===null?void 0:b(R,w,I)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(I)}},a=i(35),l=h(a),u=i(5),c=h(u),d=i(9),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function m(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function _(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var v=function(b){_(g,b);function g(){return p(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(I){var k=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",I)),k}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),g}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var y=function(b){_(g,b),s(g,null,[{key:"register",value:function(){c.default.register(v,!0)}}]);function g(){p(this,g);var w=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(f.default);r.FormulaBlot=v,r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function I(k,R){for(var D=0;D<R.length;D++){var S=R[D];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(k,S.key,S)}}return function(k,R,D){return R&&I(k.prototype,R),D&&I(k,D),k}}(),o=function I(k,R,D){k===null&&(k=Function.prototype);var S=Object.getOwnPropertyDescriptor(k,R);if(S===void 0){var T=Object.getPrototypeOf(k);return T===null?void 0:I(T,R,D)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(D)}},a=i(0),l=m(a),u=i(5),c=m(u),d=i(9),f=m(d),h=i(13),p=m(h);function m(I){return I&&I.__esModule?I:{default:I}}function _(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function v(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function y(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var b=function(I){y(k,I);function k(){return _(this,k),v(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),k}(p.default);b.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(I){y(k,I),s(k,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(b,!0)}}]);function k(R,D){_(this,k);var S=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,R,D));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return S.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){S.highlight(),T=null},S.options.interval)}),S.highlight(),S}return s(k,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(T){T.highlight(D.options.highlight)}),this.quill.update(c.default.sources.SILENT),S!=null&&this.quill.setSelection(S,c.default.sources.SILENT)}}}]),k}(f.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var k=window.hljs.highlightAuto(I);return k.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function k(R,D,S){R===null&&(R=Function.prototype);var T=Object.getOwnPropertyDescriptor(R,D);if(T===void 0){var E=Object.getPrototypeOf(R);return E===null?void 0:k(E,D,S)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(S)}},o=function(){function k(R,D){for(var S=0;S<D.length;S++){var T=D[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,D,S){return D&&k(R.prototype,D),S&&k(R,S),R}}(),a=i(3),l=_(a),u=i(8),c=_(u),d=i(43),f=_(d),h=i(15),p=i(41),m=_(p);function _(k){return k&&k.__esModule?k:{default:k}}function v(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function y(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:k}function b(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(k,R):k.__proto__=R)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(k){b(R,k);function R(D,S){v(this,R),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=g);var T=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,S));return T.quill.container.classList.add("ql-bubble"),T}return o(R,[{key:"extendToolbar",value:function(S){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),m.default)}}]),R}(f.default);w.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(k){b(R,k);function R(D,S){v(this,R);var T=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,S));return T.quill.on(c.default.events.EDITOR_CHANGE,function(E,C,B,M){if(E===c.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&M===c.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var F=T.quill.getLines(C.index,C.length);if(F.length===1)T.position(T.quill.getBounds(C));else{var q=F[F.length-1],ne=T.quill.getIndex(q),Z=Math.min(q.length()-1,C.index+C.length-ne),K=T.quill.getBounds(new h.Range(ne,Z));T.position(K)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return o(R,[{key:"listen",value:function(){var S=this;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var T=S.quill.getSelection();T!=null&&S.position(S.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var T=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,S),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",T===0)return T;E.style.marginLeft=-1*T-E.offsetWidth/2+"px"}}]),R}(d.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=I,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(Sx);var B7=Sx.exports;const Op=Ix(B7);var di=-1,Nr=1,Zn=0;function fu(t,e,n,r){if(t===e)return t?[[Zn,t]]:[];if(n!=null){var i=z7(t,e,n);if(i)return i}var s=ry(t,e),o=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=iy(t,e);var a=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var l=j7(t,e);return o&&l.unshift([Zn,o]),a&&l.push([Zn,a]),Rx(l,r),l}function j7(t,e){var n;if(!t)return[[Nr,e]];if(!e)return[[di,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=r.indexOf(i);if(s!==-1)return n=[[Nr,r.substring(0,s)],[Zn,i],[Nr,r.substring(s+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=di),n;if(i.length===1)return[[di,t],[Nr,e]];var o=q7(t,e);if(o){var a=o[0],l=o[1],u=o[2],c=o[3],d=o[4],f=fu(a,u),h=fu(l,c);return f.concat([[Zn,d]],h)}return U7(t,e)}function U7(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),l=new Array(o),u=0;u<o;u++)a[u]=-1,l[u]=-1;a[s+1]=0,l[s+1]=0;for(var c=n-r,d=c%2!==0,f=0,h=0,p=0,m=0,_=0;_<i;_++){for(var v=-_+f;v<=_-h;v+=2){var y=s+v,b;v===-_||v!==_&&a[y-1]<a[y+1]?b=a[y+1]:b=a[y-1]+1;for(var g=b-v;b<n&&g<r&&t.charAt(b)===e.charAt(g);)b++,g++;if(a[y]=b,b>n)h+=2;else if(g>r)f+=2;else if(d){var w=s+c-v;if(w>=0&&w<o&&l[w]!==-1){var I=n-l[w];if(b>=I)return Bb(t,e,b,g)}}}for(var k=-_+p;k<=_-m;k+=2){var w=s+k,I;k===-_||k!==_&&l[w-1]<l[w+1]?I=l[w+1]:I=l[w-1]+1;for(var R=I-k;I<n&&R<r&&t.charAt(n-I-1)===e.charAt(r-R-1);)I++,R++;if(l[w]=I,I>n)m+=2;else if(R>r)p+=2;else if(!d){var y=s+c-k;if(y>=0&&y<o&&a[y]!==-1){var b=a[y],g=s+b-y;if(I=n-I,b>=I)return Bb(t,e,b,g)}}}}return[[di,t],[Nr,e]]}function Bb(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),o=t.substring(n),a=e.substring(r),l=fu(i,s),u=fu(o,a);return l.concat(u)}function ry(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Ox(t.charCodeAt(i-1))&&i--,i}function iy(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Px(t.charCodeAt(t.length-i))&&i--,i}function q7(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,p,m){for(var _=h.substring(m,m+Math.floor(h.length/4)),v=-1,y="",b,g,w,I;(v=p.indexOf(_,v+1))!==-1;){var k=ry(h.substring(m),p.substring(v)),R=iy(h.substring(0,m),p.substring(0,v));y.length<R+k&&(y=p.substring(v-R,v)+p.substring(v,v+k),b=h.substring(0,m-R),g=h.substring(m+k),w=p.substring(0,v-R),I=p.substring(v+k))}return y.length*2>=h.length?[b,g,w,I,y]:null}var s=i(n,r,Math.ceil(n.length/4)),o=i(n,r,Math.ceil(n.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var l,u,c,d;t.length>e.length?(l=a[0],u=a[1],c=a[2],d=a[3]):(c=a[0],d=a[1],l=a[2],u=a[3]);var f=a[4];return[l,u,c,d,f]}function Rx(t,e){t.push([Zn,""]);for(var n=0,r=0,i=0,s="",o="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Nr:i++,o+=t[n][1],n++;break;case di:r++,s+=t[n][1],n++;break;case Zn:var l=n-i-r-1;if(e){if(l>=0&&Dx(t[l][1])){var u=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),s=u+s,o=u+o,!t[l][1]){t.splice(l,1),n--;var c=l-1;t[c]&&t[c][0]===Nr&&(i++,o=t[c][1]+o,c--),t[c]&&t[c][0]===di&&(r++,s=t[c][1]+s,c--),l=c}}if(Cx(t[n][1])){var u=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=u,o+=u}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=ry(o,s),a!==0&&(l>=0?t[l][1]+=o.substring(0,a):(t.splice(0,0,[Zn,o.substring(0,a)]),n++),o=o.substring(a),s=s.substring(a)),a=iy(o,s),a!==0&&(t[n][1]=o.substring(o.length-a)+t[n][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var d=i+r;s.length===0&&o.length===0?(t.splice(n-d,d),n=n-d):s.length===0?(t.splice(n-d,d,[Nr,o]),n=n-d+1):o.length===0?(t.splice(n-d,d,[di,s]),n=n-d+1):(t.splice(n-d,d,[di,s],[Nr,o]),n=n-d+2)}n!==0&&t[n-1][0]===Zn?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var f=!1;for(n=1;n<t.length-1;)t[n-1][0]===Zn&&t[n+1][0]===Zn&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),f=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),f=!0)),n++;f&&Rx(t,e)}function Ox(t){return t>=55296&&t<=56319}function Px(t){return t>=56320&&t<=57343}function Cx(t){return Px(t.charCodeAt(0))}function Dx(t){return Ox(t.charCodeAt(t.length-1))}function H7(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Pp(t,e,n,r){return Dx(t)||Cx(r)?null:H7([[Zn,t],[di,e],[Nr,n],[Zn,r]])}function z7(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,s=t.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),u=t.slice(a),c=i?i.index:null;e:{var d=a+o-s;if(c!==null&&c!==d||d<0||d>o)break e;var f=e.slice(0,d),h=e.slice(d);if(h!==u)break e;var p=Math.min(a,d),m=l.slice(0,p),_=f.slice(0,p);if(m!==_)break e;var v=l.slice(p),y=f.slice(p);return Pp(m,v,y,u)}e:{if(c!==null&&c!==a)break e;var b=a,f=e.slice(0,b),h=e.slice(b);if(f!==l)break e;var g=Math.min(s-b,o-b),w=u.slice(u.length-g),I=h.slice(h.length-g);if(w!==I)break e;var v=u.slice(0,u.length-g),y=h.slice(0,h.length-g);return Pp(l,v,y,w)}}if(r.length>0&&i&&i.length===0)e:{var m=t.slice(0,r.index),w=t.slice(r.index+r.length),p=m.length,g=w.length;if(o<p+g)break e;var _=e.slice(0,p),I=e.slice(o-g);if(m!==_||w!==I)break e;var v=t.slice(p,s-g),y=e.slice(p,o-g);return Pp(m,v,y,w)}return null}function Gf(t,e,n){return fu(t,e,n,!0)}Gf.INSERT=Nr;Gf.DELETE=di;Gf.EQUAL=Zn;var K7=Gf,Rd={exports:{}};Rd.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",_="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",g="[object WeakMap]",w="[object ArrayBuffer]",I="[object DataView]",k="[object Float32Array]",R="[object Float64Array]",D="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",B="[object Uint16Array]",M="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,ne=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,K={};K[s]=K[o]=K[w]=K[I]=K[a]=K[l]=K[k]=K[R]=K[D]=K[S]=K[T]=K[f]=K[h]=K[p]=K[_]=K[v]=K[y]=K[b]=K[E]=K[C]=K[B]=K[M]=!0,K[u]=K[c]=K[g]=!1;var N=typeof En=="object"&&En&&En.Object===Object&&En,V=typeof self=="object"&&self&&self.Object===Object&&self,O=N||V||Function("return this")(),G=e&&!e.nodeType&&e,J=G&&!0&&t&&!t.nodeType&&t,j=J&&J.exports===G;function P(x,z){return x.set(z[0],z[1]),x}function X(x,z){return x.add(z),x}function W(x,z){for(var se=-1,ye=x?x.length:0;++se<ye&&z(x[se],se,x)!==!1;);return x}function oe(x,z){for(var se=-1,ye=z.length,Ze=x.length;++se<ye;)x[Ze+se]=z[se];return x}function ce(x,z,se,ye){for(var Ze=-1,Fe=x?x.length:0;++Ze<Fe;)se=z(se,x[Ze],Ze,x);return se}function Q(x,z){for(var se=-1,ye=Array(x);++se<x;)ye[se]=z(se);return ye}function L(x,z){return x==null?void 0:x[z]}function $(x){var z=!1;if(x!=null&&typeof x.toString!="function")try{z=!!(x+"")}catch{}return z}function U(x){var z=-1,se=Array(x.size);return x.forEach(function(ye,Ze){se[++z]=[Ze,ye]}),se}function ue(x,z){return function(se){return x(z(se))}}function H(x){var z=-1,se=Array(x.size);return x.forEach(function(ye){se[++z]=ye}),se}var Y=Array.prototype,re=Function.prototype,ie=Object.prototype,fe=O["__core-js_shared__"],te=function(){var x=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),_e=re.toString,be=ie.hasOwnProperty,Ee=ie.toString,Oe=RegExp("^"+_e.call(be).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=j?O.Buffer:void 0,Ne=O.Symbol,rt=O.Uint8Array,Ve=ue(Object.getPrototypeOf,Object),vt=Object.create,Bn=ie.propertyIsEnumerable,Xr=Y.splice,jn=Object.getOwnPropertySymbols,ar=Le?Le.isBuffer:void 0,de=ue(Object.keys,Object),we=Sr(O,"DataView"),me=Sr(O,"Map"),ke=Sr(O,"Promise"),Re=Sr(O,"Set"),jt=Sr(O,"WeakMap"),Wt=Sr(Object,"create"),lr=Un(we),vr=Un(me),Ir=Un(ke),Gn=Un(Re),Ei=Un(jt),Jr=Ne?Ne.prototype:void 0,ju=Jr?Jr.valueOf:void 0;function Ti(x){var z=-1,se=x?x.length:0;for(this.clear();++z<se;){var ye=x[z];this.set(ye[0],ye[1])}}function Qf(){this.__data__=Wt?Wt(null):{}}function Xf(x){return this.has(x)&&delete this.__data__[x]}function Jf(x){var z=this.__data__;if(Wt){var se=z[x];return se===r?void 0:se}return be.call(z,x)?z[x]:void 0}function Uu(x){var z=this.__data__;return Wt?z[x]!==void 0:be.call(z,x)}function Ua(x,z){var se=this.__data__;return se[x]=Wt&&z===void 0?r:z,this}Ti.prototype.clear=Qf,Ti.prototype.delete=Xf,Ti.prototype.get=Jf,Ti.prototype.has=Uu,Ti.prototype.set=Ua;function mn(x){var z=-1,se=x?x.length:0;for(this.clear();++z<se;){var ye=x[z];this.set(ye[0],ye[1])}}function Zf(){this.__data__=[]}function eh(x){var z=this.__data__,se=Co(z,x);if(se<0)return!1;var ye=z.length-1;return se==ye?z.pop():Xr.call(z,se,1),!0}function th(x){var z=this.__data__,se=Co(z,x);return se<0?void 0:z[se][1]}function nh(x){return Co(this.__data__,x)>-1}function rh(x,z){var se=this.__data__,ye=Co(se,x);return ye<0?se.push([x,z]):se[ye][1]=z,this}mn.prototype.clear=Zf,mn.prototype.delete=eh,mn.prototype.get=th,mn.prototype.has=nh,mn.prototype.set=rh;function In(x){var z=-1,se=x?x.length:0;for(this.clear();++z<se;){var ye=x[z];this.set(ye[0],ye[1])}}function ih(){this.__data__={hash:new Ti,map:new(me||mn),string:new Ti}}function sh(x){return js(this,x).delete(x)}function oh(x){return js(this,x).get(x)}function ah(x){return js(this,x).has(x)}function lh(x,z){return js(this,x).set(x,z),this}In.prototype.clear=ih,In.prototype.delete=sh,In.prototype.get=oh,In.prototype.has=ah,In.prototype.set=lh;function Qn(x){this.__data__=new mn(x)}function uh(){this.__data__=new mn}function ch(x){return this.__data__.delete(x)}function dh(x){return this.__data__.get(x)}function fh(x){return this.__data__.has(x)}function hh(x,z){var se=this.__data__;if(se instanceof mn){var ye=se.__data__;if(!me||ye.length<n-1)return ye.push([x,z]),this;se=this.__data__=new In(ye)}return se.set(x,z),this}Qn.prototype.clear=uh,Qn.prototype.delete=ch,Qn.prototype.get=dh,Qn.prototype.has=fh,Qn.prototype.set=hh;function Po(x,z){var se=Ka(x)||No(x)?Q(x.length,String):[],ye=se.length,Ze=!!ye;for(var Fe in x)be.call(x,Fe)&&!(Ze&&(Fe=="length"||Ih(Fe,ye)))&&se.push(Fe);return se}function qu(x,z,se){var ye=x[z];(!(be.call(x,z)&&Yu(ye,se))||se===void 0&&!(z in x))&&(x[z]=se)}function Co(x,z){for(var se=x.length;se--;)if(Yu(x[se][0],z))return se;return-1}function Zr(x,z){return x&&za(z,Ya(z),x)}function qa(x,z,se,ye,Ze,Fe,dt){var ut;if(ye&&(ut=Fe?ye(x,Ze,Fe,dt):ye(x)),ut!==void 0)return ut;if(!ti(x))return x;var Yt=Ka(x);if(Yt){if(ut=kh(x),!z)return Eh(x,ut)}else{var gt=ki(x),Sn=gt==c||gt==d;if(Gu(x))return Do(x,z);if(gt==p||gt==s||Sn&&!Fe){if($(x))return Fe?x:{};if(ut=ei(Sn?{}:x),!z)return Th(x,Zr(ut,x))}else{if(!K[gt])return Fe?x:{};ut=xh(x,gt,qa,z)}}dt||(dt=new Qn);var Xn=dt.get(x);if(Xn)return Xn;if(dt.set(x,ut),!Yt)var en=se?Ah(x):Ya(x);return W(en||x,function(Rn,gn){en&&(gn=Rn,Rn=x[gn]),qu(ut,gn,qa(Rn,z,se,ye,gn,x,dt))}),ut}function ph(x){return ti(x)?vt(x):{}}function mh(x,z,se){var ye=z(x);return Ka(x)?ye:oe(ye,se(x))}function gh(x){return Ee.call(x)}function vh(x){if(!ti(x)||Rh(x))return!1;var z=Wa(x)||$(x)?Oe:ne;return z.test(Un(x))}function yh(x){if(!Ku(x))return de(x);var z=[];for(var se in Object(x))be.call(x,se)&&se!="constructor"&&z.push(se);return z}function Do(x,z){if(z)return x.slice();var se=new x.constructor(x.length);return x.copy(se),se}function Ha(x){var z=new x.constructor(x.byteLength);return new rt(z).set(new rt(x)),z}function Bs(x,z){var se=z?Ha(x.buffer):x.buffer;return new x.constructor(se,x.byteOffset,x.byteLength)}function Hu(x,z,se){var ye=z?se(U(x),!0):U(x);return ce(ye,P,new x.constructor)}function zu(x){var z=new x.constructor(x.source,q.exec(x));return z.lastIndex=x.lastIndex,z}function _h(x,z,se){var ye=z?se(H(x),!0):H(x);return ce(ye,X,new x.constructor)}function bh(x){return ju?Object(ju.call(x)):{}}function wh(x,z){var se=z?Ha(x.buffer):x.buffer;return new x.constructor(se,x.byteOffset,x.length)}function Eh(x,z){var se=-1,ye=x.length;for(z||(z=Array(ye));++se<ye;)z[se]=x[se];return z}function za(x,z,se,ye){se||(se={});for(var Ze=-1,Fe=z.length;++Ze<Fe;){var dt=z[Ze],ut=void 0;qu(se,dt,ut===void 0?x[dt]:ut)}return se}function Th(x,z){return za(x,Ai(x),z)}function Ah(x){return mh(x,Ya,Ai)}function js(x,z){var se=x.__data__;return Sh(z)?se[typeof z=="string"?"string":"hash"]:se.map}function Sr(x,z){var se=L(x,z);return vh(se)?se:void 0}var Ai=jn?ue(jn,Object):Ph,ki=gh;(we&&ki(new we(new ArrayBuffer(1)))!=I||me&&ki(new me)!=f||ke&&ki(ke.resolve())!=m||Re&&ki(new Re)!=v||jt&&ki(new jt)!=g)&&(ki=function(x){var z=Ee.call(x),se=z==p?x.constructor:void 0,ye=se?Un(se):void 0;if(ye)switch(ye){case lr:return I;case vr:return f;case Ir:return m;case Gn:return v;case Ei:return g}return z});function kh(x){var z=x.length,se=x.constructor(z);return z&&typeof x[0]=="string"&&be.call(x,"index")&&(se.index=x.index,se.input=x.input),se}function ei(x){return typeof x.constructor=="function"&&!Ku(x)?ph(Ve(x)):{}}function xh(x,z,se,ye){var Ze=x.constructor;switch(z){case w:return Ha(x);case a:case l:return new Ze(+x);case I:return Bs(x,ye);case k:case R:case D:case S:case T:case E:case C:case B:case M:return wh(x,ye);case f:return Hu(x,ye,se);case h:case y:return new Ze(x);case _:return zu(x);case v:return _h(x,ye,se);case b:return bh(x)}}function Ih(x,z){return z=z??i,!!z&&(typeof x=="number"||Z.test(x))&&x>-1&&x%1==0&&x<z}function Sh(x){var z=typeof x;return z=="string"||z=="number"||z=="symbol"||z=="boolean"?x!=="__proto__":x===null}function Rh(x){return!!te&&te in x}function Ku(x){var z=x&&x.constructor,se=typeof z=="function"&&z.prototype||ie;return x===se}function Un(x){if(x!=null){try{return _e.call(x)}catch{}try{return x+""}catch{}}return""}function Wu(x){return qa(x,!0,!0)}function Yu(x,z){return x===z||x!==x&&z!==z}function No(x){return Oh(x)&&be.call(x,"callee")&&(!Bn.call(x,"callee")||Ee.call(x)==s)}var Ka=Array.isArray;function Mo(x){return x!=null&&Qu(x.length)&&!Wa(x)}function Oh(x){return Xu(x)&&Mo(x)}var Gu=ar||Ch;function Wa(x){var z=ti(x)?Ee.call(x):"";return z==c||z==d}function Qu(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=i}function ti(x){var z=typeof x;return!!x&&(z=="object"||z=="function")}function Xu(x){return!!x&&typeof x=="object"}function Ya(x){return Mo(x)?Po(x):yh(x)}function Ph(){return[]}function Ch(){return!1}t.exports=Wu})(Rd,Rd.exports);var Nx=Rd.exports,Od={exports:{}};Od.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",_="[object Number]",v="[object Null]",y="[object Object]",b="[object Promise]",g="[object Proxy]",w="[object RegExp]",I="[object Set]",k="[object String]",R="[object Symbol]",D="[object Undefined]",S="[object WeakMap]",T="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",B="[object Float64Array]",M="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",ne="[object Uint8Array]",Z="[object Uint8ClampedArray]",K="[object Uint16Array]",N="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,J={};J[C]=J[B]=J[M]=J[F]=J[q]=J[ne]=J[Z]=J[K]=J[N]=!0,J[a]=J[l]=J[T]=J[c]=J[E]=J[d]=J[f]=J[h]=J[m]=J[_]=J[y]=J[w]=J[I]=J[k]=J[S]=!1;var j=typeof En=="object"&&En&&En.Object===Object&&En,P=typeof self=="object"&&self&&self.Object===Object&&self,X=j||P||Function("return this")(),W=e&&!e.nodeType&&e,oe=W&&!0&&t&&!t.nodeType&&t,ce=oe&&oe.exports===W,Q=ce&&j.process,L=function(){try{return Q&&Q.binding&&Q.binding("util")}catch{}}(),$=L&&L.isTypedArray;function U(x,z){for(var se=-1,ye=x==null?0:x.length,Ze=0,Fe=[];++se<ye;){var dt=x[se];z(dt,se,x)&&(Fe[Ze++]=dt)}return Fe}function ue(x,z){for(var se=-1,ye=z.length,Ze=x.length;++se<ye;)x[Ze+se]=z[se];return x}function H(x,z){for(var se=-1,ye=x==null?0:x.length;++se<ye;)if(z(x[se],se,x))return!0;return!1}function Y(x,z){for(var se=-1,ye=Array(x);++se<x;)ye[se]=z(se);return ye}function re(x){return function(z){return x(z)}}function ie(x,z){return x.has(z)}function fe(x,z){return x==null?void 0:x[z]}function te(x){var z=-1,se=Array(x.size);return x.forEach(function(ye,Ze){se[++z]=[Ze,ye]}),se}function _e(x,z){return function(se){return x(z(se))}}function be(x){var z=-1,se=Array(x.size);return x.forEach(function(ye){se[++z]=ye}),se}var Ee=Array.prototype,Oe=Function.prototype,Le=Object.prototype,Ne=X["__core-js_shared__"],rt=Oe.toString,Ve=Le.hasOwnProperty,vt=function(){var x=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Bn=Le.toString,Xr=RegExp("^"+rt.call(Ve).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jn=ce?X.Buffer:void 0,ar=X.Symbol,de=X.Uint8Array,we=Le.propertyIsEnumerable,me=Ee.splice,ke=ar?ar.toStringTag:void 0,Re=Object.getOwnPropertySymbols,jt=jn?jn.isBuffer:void 0,Wt=_e(Object.keys,Object),lr=Ai(X,"DataView"),vr=Ai(X,"Map"),Ir=Ai(X,"Promise"),Gn=Ai(X,"Set"),Ei=Ai(X,"WeakMap"),Jr=Ai(Object,"create"),ju=Un(lr),Ti=Un(vr),Qf=Un(Ir),Xf=Un(Gn),Jf=Un(Ei),Uu=ar?ar.prototype:void 0,Ua=Uu?Uu.valueOf:void 0;function mn(x){var z=-1,se=x==null?0:x.length;for(this.clear();++z<se;){var ye=x[z];this.set(ye[0],ye[1])}}function Zf(){this.__data__=Jr?Jr(null):{},this.size=0}function eh(x){var z=this.has(x)&&delete this.__data__[x];return this.size-=z?1:0,z}function th(x){var z=this.__data__;if(Jr){var se=z[x];return se===r?void 0:se}return Ve.call(z,x)?z[x]:void 0}function nh(x){var z=this.__data__;return Jr?z[x]!==void 0:Ve.call(z,x)}function rh(x,z){var se=this.__data__;return this.size+=this.has(x)?0:1,se[x]=Jr&&z===void 0?r:z,this}mn.prototype.clear=Zf,mn.prototype.delete=eh,mn.prototype.get=th,mn.prototype.has=nh,mn.prototype.set=rh;function In(x){var z=-1,se=x==null?0:x.length;for(this.clear();++z<se;){var ye=x[z];this.set(ye[0],ye[1])}}function ih(){this.__data__=[],this.size=0}function sh(x){var z=this.__data__,se=Do(z,x);if(se<0)return!1;var ye=z.length-1;return se==ye?z.pop():me.call(z,se,1),--this.size,!0}function oh(x){var z=this.__data__,se=Do(z,x);return se<0?void 0:z[se][1]}function ah(x){return Do(this.__data__,x)>-1}function lh(x,z){var se=this.__data__,ye=Do(se,x);return ye<0?(++this.size,se.push([x,z])):se[ye][1]=z,this}In.prototype.clear=ih,In.prototype.delete=sh,In.prototype.get=oh,In.prototype.has=ah,In.prototype.set=lh;function Qn(x){var z=-1,se=x==null?0:x.length;for(this.clear();++z<se;){var ye=x[z];this.set(ye[0],ye[1])}}function uh(){this.size=0,this.__data__={hash:new mn,map:new(vr||In),string:new mn}}function ch(x){var z=Sr(this,x).delete(x);return this.size-=z?1:0,z}function dh(x){return Sr(this,x).get(x)}function fh(x){return Sr(this,x).has(x)}function hh(x,z){var se=Sr(this,x),ye=se.size;return se.set(x,z),this.size+=se.size==ye?0:1,this}Qn.prototype.clear=uh,Qn.prototype.delete=ch,Qn.prototype.get=dh,Qn.prototype.has=fh,Qn.prototype.set=hh;function Po(x){var z=-1,se=x==null?0:x.length;for(this.__data__=new Qn;++z<se;)this.add(x[z])}function qu(x){return this.__data__.set(x,r),this}function Co(x){return this.__data__.has(x)}Po.prototype.add=Po.prototype.push=qu,Po.prototype.has=Co;function Zr(x){var z=this.__data__=new In(x);this.size=z.size}function qa(){this.__data__=new In,this.size=0}function ph(x){var z=this.__data__,se=z.delete(x);return this.size=z.size,se}function mh(x){return this.__data__.get(x)}function gh(x){return this.__data__.has(x)}function vh(x,z){var se=this.__data__;if(se instanceof In){var ye=se.__data__;if(!vr||ye.length<n-1)return ye.push([x,z]),this.size=++se.size,this;se=this.__data__=new Qn(ye)}return se.set(x,z),this.size=se.size,this}Zr.prototype.clear=qa,Zr.prototype.delete=ph,Zr.prototype.get=mh,Zr.prototype.has=gh,Zr.prototype.set=vh;function yh(x,z){var se=No(x),ye=!se&&Yu(x),Ze=!se&&!ye&&Mo(x),Fe=!se&&!ye&&!Ze&&Xu(x),dt=se||ye||Ze||Fe,ut=dt?Y(x.length,String):[],Yt=ut.length;for(var gt in x)Ve.call(x,gt)&&!(dt&&(gt=="length"||Ze&&(gt=="offset"||gt=="parent")||Fe&&(gt=="buffer"||gt=="byteLength"||gt=="byteOffset")||xh(gt,Yt)))&&ut.push(gt);return ut}function Do(x,z){for(var se=x.length;se--;)if(Wu(x[se][0],z))return se;return-1}function Ha(x,z,se){var ye=z(x);return No(x)?ye:ue(ye,se(x))}function Bs(x){return x==null?x===void 0?D:v:ke&&ke in Object(x)?ki(x):Ku(x)}function Hu(x){return ti(x)&&Bs(x)==a}function zu(x,z,se,ye,Ze){return x===z?!0:x==null||z==null||!ti(x)&&!ti(z)?x!==x&&z!==z:_h(x,z,se,ye,zu,Ze)}function _h(x,z,se,ye,Ze,Fe){var dt=No(x),ut=No(z),Yt=dt?l:ei(x),gt=ut?l:ei(z);Yt=Yt==a?y:Yt,gt=gt==a?y:gt;var Sn=Yt==y,Xn=gt==y,en=Yt==gt;if(en&&Mo(x)){if(!Mo(z))return!1;dt=!0,Sn=!1}if(en&&!Sn)return Fe||(Fe=new Zr),dt||Xu(x)?za(x,z,se,ye,Ze,Fe):Th(x,z,Yt,se,ye,Ze,Fe);if(!(se&i)){var Rn=Sn&&Ve.call(x,"__wrapped__"),gn=Xn&&Ve.call(z,"__wrapped__");if(Rn||gn){var Wi=Rn?x.value():x,xi=gn?z.value():z;return Fe||(Fe=new Zr),Ze(Wi,xi,se,ye,Fe)}}return en?(Fe||(Fe=new Zr),Ah(x,z,se,ye,Ze,Fe)):!1}function bh(x){if(!Qu(x)||Sh(x))return!1;var z=Gu(x)?Xr:O;return z.test(Un(x))}function wh(x){return ti(x)&&Wa(x.length)&&!!J[Bs(x)]}function Eh(x){if(!Rh(x))return Wt(x);var z=[];for(var se in Object(x))Ve.call(x,se)&&se!="constructor"&&z.push(se);return z}function za(x,z,se,ye,Ze,Fe){var dt=se&i,ut=x.length,Yt=z.length;if(ut!=Yt&&!(dt&&Yt>ut))return!1;var gt=Fe.get(x);if(gt&&Fe.get(z))return gt==z;var Sn=-1,Xn=!0,en=se&s?new Po:void 0;for(Fe.set(x,z),Fe.set(z,x);++Sn<ut;){var Rn=x[Sn],gn=z[Sn];if(ye)var Wi=dt?ye(gn,Rn,Sn,z,x,Fe):ye(Rn,gn,Sn,x,z,Fe);if(Wi!==void 0){if(Wi)continue;Xn=!1;break}if(en){if(!H(z,function(xi,Us){if(!ie(en,Us)&&(Rn===xi||Ze(Rn,xi,se,ye,Fe)))return en.push(Us)})){Xn=!1;break}}else if(!(Rn===gn||Ze(Rn,gn,se,ye,Fe))){Xn=!1;break}}return Fe.delete(x),Fe.delete(z),Xn}function Th(x,z,se,ye,Ze,Fe,dt){switch(se){case E:if(x.byteLength!=z.byteLength||x.byteOffset!=z.byteOffset)return!1;x=x.buffer,z=z.buffer;case T:return!(x.byteLength!=z.byteLength||!Fe(new de(x),new de(z)));case c:case d:case _:return Wu(+x,+z);case f:return x.name==z.name&&x.message==z.message;case w:case k:return x==z+"";case m:var ut=te;case I:var Yt=ye&i;if(ut||(ut=be),x.size!=z.size&&!Yt)return!1;var gt=dt.get(x);if(gt)return gt==z;ye|=s,dt.set(x,z);var Sn=za(ut(x),ut(z),ye,Ze,Fe,dt);return dt.delete(x),Sn;case R:if(Ua)return Ua.call(x)==Ua.call(z)}return!1}function Ah(x,z,se,ye,Ze,Fe){var dt=se&i,ut=js(x),Yt=ut.length,gt=js(z),Sn=gt.length;if(Yt!=Sn&&!dt)return!1;for(var Xn=Yt;Xn--;){var en=ut[Xn];if(!(dt?en in z:Ve.call(z,en)))return!1}var Rn=Fe.get(x);if(Rn&&Fe.get(z))return Rn==z;var gn=!0;Fe.set(x,z),Fe.set(z,x);for(var Wi=dt;++Xn<Yt;){en=ut[Xn];var xi=x[en],Us=z[en];if(ye)var fy=dt?ye(Us,xi,en,z,x,Fe):ye(xi,Us,en,x,z,Fe);if(!(fy===void 0?xi===Us||Ze(xi,Us,se,ye,Fe):fy)){gn=!1;break}Wi||(Wi=en=="constructor")}if(gn&&!Wi){var Ju=x.constructor,Zu=z.constructor;Ju!=Zu&&"constructor"in x&&"constructor"in z&&!(typeof Ju=="function"&&Ju instanceof Ju&&typeof Zu=="function"&&Zu instanceof Zu)&&(gn=!1)}return Fe.delete(x),Fe.delete(z),gn}function js(x){return Ha(x,Ya,kh)}function Sr(x,z){var se=x.__data__;return Ih(z)?se[typeof z=="string"?"string":"hash"]:se.map}function Ai(x,z){var se=fe(x,z);return bh(se)?se:void 0}function ki(x){var z=Ve.call(x,ke),se=x[ke];try{x[ke]=void 0;var ye=!0}catch{}var Ze=Bn.call(x);return ye&&(z?x[ke]=se:delete x[ke]),Ze}var kh=Re?function(x){return x==null?[]:(x=Object(x),U(Re(x),function(z){return we.call(x,z)}))}:Ph,ei=Bs;(lr&&ei(new lr(new ArrayBuffer(1)))!=E||vr&&ei(new vr)!=m||Ir&&ei(Ir.resolve())!=b||Gn&&ei(new Gn)!=I||Ei&&ei(new Ei)!=S)&&(ei=function(x){var z=Bs(x),se=z==y?x.constructor:void 0,ye=se?Un(se):"";if(ye)switch(ye){case ju:return E;case Ti:return m;case Qf:return b;case Xf:return I;case Jf:return S}return z});function xh(x,z){return z=z??o,!!z&&(typeof x=="number"||G.test(x))&&x>-1&&x%1==0&&x<z}function Ih(x){var z=typeof x;return z=="string"||z=="number"||z=="symbol"||z=="boolean"?x!=="__proto__":x===null}function Sh(x){return!!vt&&vt in x}function Rh(x){var z=x&&x.constructor,se=typeof z=="function"&&z.prototype||Le;return x===se}function Ku(x){return Bn.call(x)}function Un(x){if(x!=null){try{return rt.call(x)}catch{}try{return x+""}catch{}}return""}function Wu(x,z){return x===z||x!==x&&z!==z}var Yu=Hu(function(){return arguments}())?Hu:function(x){return ti(x)&&Ve.call(x,"callee")&&!we.call(x,"callee")},No=Array.isArray;function Ka(x){return x!=null&&Wa(x.length)&&!Gu(x)}var Mo=jt||Ch;function Oh(x,z){return zu(x,z)}function Gu(x){if(!Qu(x))return!1;var z=Bs(x);return z==h||z==p||z==u||z==g}function Wa(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=o}function Qu(x){var z=typeof x;return x!=null&&(z=="object"||z=="function")}function ti(x){return x!=null&&typeof x=="object"}var Xu=$?re($):wh;function Ya(x){return Ka(x)?yh(x):Eh(x)}function Ph(){return[]}function Ch(){return!1}t.exports=Oh})(Od,Od.exports);var Mx=Od.exports,sy={},Lx=En&&En.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sy,"__esModule",{value:!0});var W7=Lx(Nx),Y7=Lx(Mx),Km;(function(t){function e(s,o,a){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var l=W7.default(o);a||(l=Object.keys(l).reduce(function(c,d){return l[d]!=null&&(c[d]=l[d]),c},{}));for(var u in s)s[u]!==void 0&&o[u]===void 0&&(l[u]=s[u]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(s,o){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var a=Object.keys(s).concat(Object.keys(o)).reduce(function(l,u){return Y7.default(s[u],o[u])||(l[u]=o[u]===void 0?null:o[u]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(s,o){s===void 0&&(s={}),o===void 0&&(o={}),s=s||{};var a=Object.keys(o).reduce(function(l,u){return o[u]!==s[u]&&s[u]!==void 0&&(l[u]=o[u]),l},{});return Object.keys(s).reduce(function(l,u){return s[u]!==o[u]&&o[u]===void 0&&(l[u]=null),l},a)}t.invert=r;function i(s,o,a){if(a===void 0&&(a=!1),typeof s!="object")return o;if(typeof o=="object"){if(!a)return o;var l=Object.keys(o).reduce(function(u,c){return s[c]===void 0&&(u[c]=o[c]),u},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(Km||(Km={}));sy.default=Km;var _c={},bc={},jb;function G7(){if(jb)return bc;jb=1;var t=En&&En.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bc,"__esModule",{value:!0});var e=t($x()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var s=this.ops[this.index];if(s){var o=this.offset,a=e.default.length(s);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof s.delete=="number")return{delete:i};var l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=i:typeof s.insert=="string"?l.insert=s.insert.substr(o,i):l.insert=s.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,s=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=s,[o].concat(a)}else return[]},r}();return bc.default=n,bc}var Ub;function $x(){if(Ub)return _c;Ub=1;var t=En&&En.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_c,"__esModule",{value:!0});var e=t(G7()),n;return function(r){function i(o){return new e.default(o)}r.iterator=i;function s(o){return typeof o.delete=="number"?o.delete:typeof o.retain=="number"?o.retain:typeof o.insert=="string"?o.insert.length:1}r.length=s}(n||(n={})),_c.default=n,_c}var Bu=En&&En.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},wc=Bu(K7),Q7=Bu(Nx),Cp=Bu(Mx),sl=Bu(sy),vn=Bu($x()),X7="\0",J7=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=Q7.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(Cp.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var s=e(i)?n:r;s.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+vn.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+vn.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=vn.default.iterator(this.ops),s=0;s<n&&i.hasNext();){var o=void 0;s<e?o=i.next(e-s):(o=i.next(n-s),r.push(o)),s+=vn.default.length(o)}return new t(r)},t.prototype.compose=function(e){var n=vn.default.iterator(this.ops),r=vn.default.iterator(e.ops),i=[],s=r.peek();if(s!=null&&typeof s.retain=="number"&&s.attributes==null){for(var o=s.retain;n.peekType()==="insert"&&n.peekLength()<=o;)o-=n.peekLength(),i.push(n.next());s.retain-o>0&&r.next(s.retain-o)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),u=n.next(l),c=r.next(l);if(typeof c.retain=="number"){var d={};typeof u.retain=="number"?d.retain=l:d.insert=u.insert;var f=sl.default.compose(u.attributes,c.attributes,typeof u.retain=="number");if(f&&(d.attributes=f),a.push(d),!r.hasNext()&&Cp.default(a.ops[a.ops.length-1],d)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof c.delete=="number"&&typeof u.retain=="number"&&a.push(c)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:X7;var c=l===e?"on":"with";throw new Error("diff() called "+c+" non-document")}).join("")}),i=new t,s=wc.default(r[0],r[1],n),o=vn.default.iterator(this.ops),a=vn.default.iterator(e.ops);return s.forEach(function(l){for(var u=l[1].length;u>0;){var c=0;switch(l[0]){case wc.default.INSERT:c=Math.min(a.peekLength(),u),i.push(a.next(c));break;case wc.default.DELETE:c=Math.min(u,o.peekLength()),o.next(c),i.delete(c);break;case wc.default.EQUAL:c=Math.min(o.peekLength(),a.peekLength(),u);var d=o.next(c),f=a.next(c);Cp.default(d.insert,f.insert)?i.retain(c,sl.default.diff(d.attributes,f.attributes)):i.push(f).delete(c);break}u-=c}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=vn.default.iterator(this.ops),i=new t,s=0;r.hasNext();){if(r.peekType()!=="insert")return;var o=r.peek(),a=vn.default.length(o)-r.peekLength(),l=typeof o.insert=="string"?o.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},s)===!1)return;s+=1,i=new t}}i.length()>0&&e(i,{},s)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(vn.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var s=i.delete||i.retain,o=e.slice(r,r+s);return o.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(vn.default.length(a),sl.default.invert(i.attributes,a.attributes))}),r+s}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=vn.default.iterator(this.ops),s=vn.default.iterator(r.ops),o=new t;i.hasNext()||s.hasNext();)if(i.peekType()==="insert"&&(n||s.peekType()!=="insert"))o.retain(vn.default.length(i.next()));else if(s.peekType()==="insert")o.push(s.next());else{var a=Math.min(i.peekLength(),s.peekLength()),l=i.next(a),u=s.next(a);if(l.delete)continue;u.delete?o.push(u):o.retain(a,sl.default.transform(l.attributes,u.attributes,n))}return o.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=vn.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var s=r.peekLength(),o=r.peekType();if(r.next(),o==="delete"){e-=Math.min(s,e-i);continue}else o==="insert"&&(i<e||!n)&&(e+=s);i+=s}return e},t.Op=vn.default,t.AttributeMap=sl.default,t}(),Z7=J7;const eH=Ix(Z7);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const qb={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},Vx=Kt({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(qb).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{Et(()=>{s()}),ug(()=>{n=null});let n,r;const i=he(),s=()=>{var T;if(i.value){if(r=o(),t.modules)if(Array.isArray(t.modules))for(const E of t.modules)Op.register(`modules/${E.name}`,E.module);else Op.register(`modules/${t.modules.name}`,t.modules.module);n=new Op(i.value,r),b(t.content),n.on("text-change",d),n.on("selection-change",h),n.on("editor-change",p),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(T=n.getModule("toolbar"))===null||T===void 0||T.container.addEventListener("mousedown",E=>{E.preventDefault()}),e.emit("ready",n)}},o=()=>{const T={};if(t.theme!==""&&(T.theme=t.theme),t.readOnly&&(T.readOnly=t.readOnly),t.placeholder&&(T.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(T.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:qb[t.toolbar]})()}),t.modules){const E=(()=>{var C,B;const M={};if(Array.isArray(t.modules))for(const F of t.modules)M[F.name]=(C=F.options)!==null&&C!==void 0?C:{};else M[t.modules.name]=(B=t.modules.options)!==null&&B!==void 0?B:{};return M})();T.modules=Object.assign({},T.modules,E)}return Object.assign({},t.globalOptions,t.options,T)},a=T=>typeof T=="object"&&T?T.slice():T,l=T=>Object.values(T.ops).some(E=>!E.retain||Object.keys(E).length!==1);let u;const c=T=>{if(typeof u==typeof T){if(T===u)return!0;if(typeof T=="object"&&T&&typeof u=="object"&&u)return!l(u.diff(T))}return!1},d=(T,E,C)=>{u=a(y()),c(t.content)||e.emit("update:content",u),e.emit("textChange",{delta:T,oldContents:E,source:C})},f=he(),h=(T,E,C)=>{f.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:T,oldRange:E,source:C})};Xt(f,T=>{T?e.emit("focus",i):e.emit("blur",i)});const p=(...T)=>{T[0]==="text-change"&&e.emit("editorChange",{name:T[0],delta:T[1],oldContents:T[2],source:T[3]}),T[0]==="selection-change"&&e.emit("editorChange",{name:T[0],range:T[1],oldRange:T[2],source:T[3]})},m=()=>i.value,_=()=>{var T;return(T=n==null?void 0:n.getModule("toolbar"))===null||T===void 0?void 0:T.container},v=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},y=(T,E)=>t.contentType==="html"?I():t.contentType==="text"?g(T,E):n==null?void 0:n.getContents(T,E),b=(T,E="api")=>{const C=T||(t.contentType==="delta"?new eH:"");t.contentType==="html"?k(C):t.contentType==="text"?w(C,E):n==null||n.setContents(C,E),u=a(C)},g=(T,E)=>{var C;return(C=n==null?void 0:n.getText(T,E))!==null&&C!==void 0?C:""},w=(T,E="api")=>{n==null||n.setText(T,E)},I=()=>{var T;return(T=n==null?void 0:n.root.innerHTML)!==null&&T!==void 0?T:""},k=T=>{n&&(n.root.innerHTML=T)},R=(T,E="api")=>{const C=n==null?void 0:n.clipboard.convert(T);C&&(n==null||n.setContents(C,E))},D=()=>{n==null||n.focus()},S=()=>{kn(()=>{var T;!e.slots.toolbar&&n&&((T=n.getModule("toolbar"))===null||T===void 0||T.container.remove()),s()})};return Xt(()=>t.content,T=>{if(!n||!T||c(T))return;const E=n.getSelection();E&&kn(()=>n==null?void 0:n.setSelection(E)),b(T)},{deep:!0}),Xt(()=>t.enable,T=>{n&&n.enable(T)}),{editor:i,getEditor:m,getToolbar:_,getQuill:v,getContents:y,setContents:b,getHTML:I,setHTML:k,pasteHTML:R,focus:D,getText:g,setText:w,reinit:S}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),Ra("div",{ref:"editor",...this.$attrs})]}}),tH={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},nH={key:1,id:"add-blog-modal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},rH={class:"relative p-4 w-full max-w-4xl max-h-full"},iH={class:"relative bg-white rounded-lg shadow"},sH={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},oH=A("h3",{class:"text-lg font-semibold text-gray-900"}," Blog Yazsn Gncelle ",-1),aH=A("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),lH=A("span",{class:"sr-only"},"Close modal",-1),uH=[aH,lH],cH={class:"grid gap-4 mb-4 grid-cols-2"},dH={class:"col-span-2"},fH=A("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),hH={class:"col-span-2"},pH=A("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),mH=A("option",{value:"Hukuk"},"Hukuk",-1),gH=A("option",{value:"Haberler"},"Haberler",-1),vH=A("option",{value:"Son Dakika"},"Son Dakika",-1),yH=A("option",{value:"Blog Yazs"},"Blog Yazs",-1),_H=[mH,gH,vH,yH],bH={class:"col-span-2"},wH=A("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yaz erii",-1),EH={class:"bg-gray-100"},TH=A("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"Kaydet",-1),AH={__name:"BlogModalEdit",props:{show:Boolean,blogDataToUpdate:Object},emits:["close","updateBlog"],setup(t,{emit:e}){const n=e,r=t;pe(()=>{const o=r.blogDataToUpdate.image;return o.length<=20?o:`${o.substring(0,10)}...${o.substring(o.length-10)}`});const i=s=>{s.updated_date=new Date,n("updateBlog",s),n("close")};return(s,o)=>(ee(),le(Se,null,[t.show?(ee(),le("div",tH)):ge("",!0),t.show?(ee(),le("div",nH,[A("div",rH,[A("div",iH,[A("div",sH,[oH,A("button",{type:"button",onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},uH)]),A("form",{onSubmit:o[4]||(o[4]=Ar(a=>i(t.blogDataToUpdate),["prevent"])),class:"p-4 md:p-5"},[A("div",cH,[A("div",dH,[fH,bt(A("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.blogDataToUpdate.title=a),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},null,512),[[hi,t.blogDataToUpdate.title]])]),A("div",hH,[pH,bt(A("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.blogDataToUpdate.category=a),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},_H,512),[[ks,t.blogDataToUpdate.category]])]),A("div",bH,[wH,A("div",EH,[qe(ae(Vx),{content:t.blogDataToUpdate.content,"onUpdate:content":o[3]||(o[3]=a=>t.blogDataToUpdate.content=a),contentType:"html",id:"content",toolbar:"essential",theme:"snow",class:"h-64"},null,8,["content"])])])]),TH],32)])])])):ge("",!0)],64))}},kH={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},xH={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},IH={class:"flex justify-between items-center mb-4"},SH={class:"text-4xl font-bold text-gray-800"},RH=A("div",{class:"text-lg font-medium text-gray-500"},"Toplam Blog Yazs",-1),OH=A("div",{class:"text-gray-400"},[A("i",{class:"ri-group-line text-4xl"})],-1),PH={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},CH={class:"text-right text-sm font-medium text-gray-600 mt-2"},DH={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},NH={class:"flex justify-between items-center mb-4"},MH={class:"flex items-center mb-1"},LH={class:"text-4xl font-bold text-gray-800"},$H={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},VH=A("div",{class:"text-lg font-medium text-gray-500"},"Toplam Grntlenme",-1),FH=A("div",{class:"text-gray-400"},[A("i",{class:"ri-eye-line text-4xl"})],-1),BH=A("div",{class:"text-gray-600 font-medium"},"Gncel Durum:",-1),jH={class:"mt-2 flex flex-wrap"},UH={__name:"BlogCards",props:{totalBlogs:Number,totalBlogView:Number,blogsCategorySummary:Object},setup(t){const e=t,n={"Blog Yazs":"bg-blue-100 text-blue-700",Hukuk:"bg-green-100 text-green-700","Son Dakika":"bg-gray-100 text-gray-700",Haberler:"bg-red-100 text-red-700"},r=o=>{switch(o){case"Blog Yazs":return"Blog Yazs";case"Hukuk":return"Hukuk";case"Son Dakika":return"Son Dakika";case"Haberler":return"Haberler";default:return"Unknown"}},i=pe(()=>e.totalBlogs===0?0:(e.totalBlogView/e.totalBlogs*100).toFixed(2)),s=pe(()=>e.totalBlogs===0?0:(e.totalBlogs/100*100).toFixed(2));return(o,a)=>(ee(),le("div",kH,[A("div",xH,[A("div",IH,[A("div",null,[A("div",SH,Ie(t.totalBlogs),1),RH]),OH]),A("div",PH,[A("div",{class:"h-full bg-blue-600",style:cn({width:s.value+"%"})},null,4)]),A("div",CH,Ie(s.value)+"%",1)]),A("div",DH,[A("div",NH,[A("div",null,[A("div",MH,[A("div",LH,Ie(t.totalBlogView),1),A("div",$H," +"+Ie(i.value)+"% ",1)]),VH]),FH]),BH,A("div",jH,[(ee(!0),le(Se,null,Qe(t.blogsCategorySummary,(l,u)=>(ee(),le("span",{key:u,class:We([n[u],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ie(r(u))+": "+Ie(l),3))),128))])])]))}},qH={class:"flex justify-between mb-4 items-start"},HH=A("h1",{class:"font-medium"},"Blog Ynetimi",-1),zH={action:"",class:"flex items-center mb-4"},KH={class:"relative w-full mr-2"},WH=A("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1),YH={key:0,class:"w-full mt-4 table-fixed"},GH=A("thead",null,[A("tr",null,[A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Balk "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yazar "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yaratlma Tarihi "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Kategori "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Deitirilme Tarihi "),A("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Aksiyonlar ")])],-1),QH={class:"py-4 px-4 border-b border-b-gray-200"},XH={class:"flex items-center"},JH={href:"#",class:"text-gray-600 text-sm font-medium hover:text-blue-500 truncate"},ZH={class:"py-4 px-4 border-b border-b-gray-200"},ez={class:"text-[13px] font-medium text-gray-600"},tz={class:"py-4 px-4 border-b border-b-gray-200"},nz={class:"text-[13px] font-medium text-gray-600"},rz={class:"py-4 px-4 border-b border-b-gray-200"},iz={class:"flex space-x-5"},sz={class:"text-[13px] font-medium text-gray-600"},oz={class:"py-4 px-4 border-b border-b-gray-200"},az={class:"flex space-x-5"},lz={class:"text-[13px] font-medium text-gray-600"},uz={class:"py-4 px-4 border-b border-b-gray-200 flex justify-between"},cz={class:"button-container relative flex flex-row gap-1"},dz=["onClick"],fz=["onClick"],hz=["onClick"],pz={class:"pagination-container flex justify-end mt-4 w-full"},mz=["disabled"],gz=["disabled"],vz={__name:"BlogManagement",props:{blogsData:{type:Object,required:!0},blogRef:{type:Object,required:!0}},emits:["goAddBlog","deleteBlog","updateBlog"],setup(t,{emit:e}){const n=he(!1),r=he(!1);let i=null;const s=he(null),o=t;o.blogRef;const a=e;function l(D){n.value=!0,s.value=D,console.log(s.value.created_date),console.log("blog id to edit",D.id)}function u(D){i=D,r.value=!0}function c(){a("deleteBlog",i),r.value=!1}function d(D){a("updateBlog",D),n.value=!1}const f=pe(()=>o.blogsData.length),h=he(324),p=he(1),m=he(10),_=he(""),v=pe(()=>_.value?o.blogsData.filter(D=>D.title.toLowerCase().includes(_.value.toLowerCase())):o.blogsData),y=pe(()=>(p.value-1)*m.value),b=pe(()=>{if(v.value.length===0){const D=y.value,S=D+m.value;return o.blogsData.slice(D,S)}else return v.value.slice(y.value,y.value+m.value)}),g=pe(()=>v.value.length===0?Math.ceil(o.blogsData.length/m.value):Math.ceil(v.value.length/m.value)),w=pe(()=>{const D={};return o.blogsData.forEach(S=>{D[S.category]?D[S.category]++:D[S.category]=1}),D}),I=()=>{p.value>1&&p.value--},k=()=>{p.value<g.value&&p.value++},R=(D,S)=>{console.log("Opening blog URL:",D,S),window.open(`http://localhost:5173/blog/${D}/${S}`,"_blank")};return(D,S)=>(ee(),le("div",null,[qe(F7,{show:r.value,onClose:S[0]||(S[0]=T=>r.value=!1),onDelete:c},null,8,["show"]),qe(AH,{show:n.value,onClose:S[1]||(S[1]=T=>n.value=!1),onUpdateBlog:d,blogDataToUpdate:s.value},null,8,["show","blogDataToUpdate"]),qe(UH,{totalBlogs:f.value,totalBlogView:h.value,blogsCategorySummary:w.value},null,8,["totalBlogs","totalBlogView","blogsCategorySummary"]),qe(rx,{class:"p-6"},{default:ze(()=>{var T;return[A("div",qH,[HH,A("button",{onClick:S[2]||(S[2]=E=>a("goAddBlog")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded"}," + Ekle ")]),A("form",zH,[A("div",KH,[bt(A("input",{"onUpdate:modelValue":S[3]||(S[3]=E=>_.value=E),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full shadow-md shadow-black/5 outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Bala gre ara..."},null,512),[[hi,_.value]]),WH])]),(T=t.blogsData)!=null&&T.length?(ee(),le("table",YH,[GH,A("tbody",null,[(ee(!0),le(Se,null,Qe(b.value,E=>(ee(),le("tr",{key:E.id},[A("td",QH,[A("div",XH,[A("a",JH,Ie(E.title),1)])]),A("td",ZH,[A("span",ez,Ie(E.author||""),1)]),A("td",tz,[A("span",nz,Ie(E.created_date),1)]),A("td",rz,[A("div",iz,[A("span",sz,Ie(E.category),1)])]),A("td",oz,[A("div",az,[A("span",lz,Ie(E.updated_date),1)])]),A("td",uz,[A("div",cz,[A("button",{onClick:C=>l(E),class:"ri-edit-line text-lg bg-orange-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,dz),A("button",{onClick:C=>R(E.slug,E.id),class:"ri-eye-line text-lg bg-green-500 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,fz),A("button",{onClick:C=>u(E.id),id:"delete-blog-modal-button",class:"ri-delete-bin-6-line text-lg bg-red-700 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,hz)])])]))),128))])])):ge("",!0),A("div",pz,[A("button",{onClick:I,disabled:p.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,mz),A("button",{onClick:k,disabled:p.value===g.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,gz)])]}),_:1})]))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebasestorage.googleapis.com",Bx="storageBucket",yz=2*60*1e3,_z=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt extends xr{constructor(e,n,r=0){super(Dp(e),`Firebase Storage: ${n} (${Dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function Dp(t){return"storage/"+t}function oy(){const t="An unknown error occurred, please check the error payload for server response.";return new Bt(Ft.UNKNOWN,t)}function bz(t){return new Bt(Ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wz(t){return new Bt(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ez(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(Ft.UNAUTHENTICATED,t)}function Tz(){return new Bt(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Az(t){return new Bt(Ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kz(){return new Bt(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xz(){return new Bt(Ft.CANCELED,"User canceled the upload/download.")}function Iz(t){return new Bt(Ft.INVALID_URL,"Invalid URL '"+t+"'.")}function Sz(t){return new Bt(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Rz(){return new Bt(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Bx+"' property when initializing the app?")}function Oz(){return new Bt(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Pz(){return new Bt(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cz(t){return new Bt(Ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wm(t){return new Bt(Ft.INVALID_ARGUMENT,t)}function jx(){return new Bt(Ft.APP_DELETED,"The Firebase app was deleted.")}function Dz(t){return new Bt(Ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nl(t,e){return new Bt(Ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ol(t){throw new Bt(Ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hr.makeFromUrl(e,n)}catch{return new hr(e,"")}if(r.path==="")return r;throw Sz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===Fx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${_}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<b.length;g++){const w=b[g],I=w.regex.exec(e);if(I){const k=I[w.indices.bucket];let R=I[w.indices.path];R||(R=""),r=new hr(k,R),w.postModify(r);break}}if(r==null)throw Iz(e);return r}}class Nz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(h,l())},_)}function f(){s&&clearTimeout(s)}function h(_,...v){if(u){f();return}if(_){f(),c.call(null,_,...v);return}if(l()||o){f(),c.call(null,_,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let p=!1;function m(_){p||(p=!0,f(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Lz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t){return t!==void 0}function Vz(t){return typeof t=="object"&&!Array.isArray(t)}function ay(t){return typeof t=="string"||t instanceof String}function Hb(t){return ly()&&t instanceof Blob}function ly(){return typeof Blob<"u"}function zb(t,e,n,r){if(r<e)throw Wm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ux(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(co||(co={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ec(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===co.NO_ERROR,l=s.getStatus();if(!a||Fz(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===co.ABORT;r(!1,new Ec(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ec(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$z(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=oy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jx():xz();o(l)}else{const l=kz();o(l)}};this.canceled_?n(!1,new Ec(!1,null,!0)):this.backoffId_=Mz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ec{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Uz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zz(t,e,n,r,i,s,o=!0){const a=Ux(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return qz(u,e),jz(u,n),Uz(u,s),Hz(u,r),new Bz(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wz(...t){const e=Kz();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ly())return new Blob(t);throw new Bt(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Yz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){if(typeof atob>"u")throw Cz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Np{constructor(e,n){this.data=e,this.contentType=n||null}}function Qz(t,e){switch(t){case fi.RAW:return new Np(qx(e));case fi.BASE64:case fi.BASE64URL:return new Np(Hx(t,e));case fi.DATA_URL:return new Np(Jz(e),Zz(e))}throw oy()}function qx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Xz(t){let e;try{e=decodeURIComponent(t)}catch{throw Nl(fi.DATA_URL,"Malformed data URL.")}return qx(e)}function Hx(t,e){switch(t){case fi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Nl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Nl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gz(e)}catch(i){throw i.message.includes("polyfill")?i:Nl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nl(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jz(t){const e=new zx(t);return e.base64?Hx(fi.BASE64,e.rest):Xz(e.rest)}function Zz(t){return new zx(t).contentType}function eK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){let r=0,i="";Hb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Hb(this.data_)){const r=this.data_,i=Yz(r,e,n);return i===null?null:new fs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fs(r,!0)}}static getBlob(...e){if(ly()){const n=e.map(r=>r instanceof fs?r.data_:r);return new fs(Wz.apply(null,n))}else{const n=e.map(o=>ay(o)?Qz(fi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new fs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){let e;try{e=JSON.parse(t)}catch{return null}return Vz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Wx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t,e){return e}class qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rK}}let Tc=null;function iK(t){return!ay(t)||t.length<2?t:Wx(t)}function Yx(){if(Tc)return Tc;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(s,o){return iK(o)}const n=new qn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new qn("size");return i.xform=r,t.push(i),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),Tc=t,Tc}function sK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new hr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function oK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return sK(r,t),r}function Gx(t,e,n){const r=Kx(e);return r===null?null:oK(t,r,n)}function aK(t,e,n,r){const i=Kx(e);if(i===null||!ay(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=uy(f,n,r),p=Ux({alt:"media",token:u});return h+p})[0]}function lK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Qx{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){if(!t)throw oy()}function uK(t,e){function n(r,i){const s=Gx(t,i,e);return Xx(s!==null),s}return n}function cK(t,e){function n(r,i){const s=Gx(t,i,e);return Xx(s!==null),aK(s,i,t.host,t._protocol)}return n}function Jx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Tz():i=Ez():n.getStatus()===402?i=wz(t.bucket):n.getStatus()===403?i=Az(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dK(t){const e=Jx(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=bz(t.path)),s.serverResponse=i.serverResponse,s}return n}function fK(t,e,n){const r=e.fullServerUrl(),i=uy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Qx(i,s,cK(t,n),o);return a.errorHandler=dK(e),a}function hK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hK(null,e)),r}function mK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=pK(e,r,i),c=lK(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=fs.getBlob(d,r,f);if(h===null)throw Oz();const p={name:u.fullPath},m=uy(s,t.host,t._protocol),_="POST",v=t.maxUploadRetryTime,y=new Qx(m,_,uK(t,n),v);return y.urlParams=p,y.headers=o,y.body=h.uploadData(),y.errorHandler=Jx(e),y}class gK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=co.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=co.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=co.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ol("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ol("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ol("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ol("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ol("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vK extends gK{initXhr(){this.xhr_.responseType="text"}}function Zx(){return new vK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this._service=e,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bo(e,n)}get root(){const e=new hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wx(this._location.path)}get storage(){return this._service}get parent(){const e=tK(this._location.path);if(e===null)return null;const n=new hr(this._location.bucket,e);return new bo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Dz(e)}}function yK(t,e,n){t._throwIfRoot("uploadBytes");const r=mK(t.storage,t._location,Yx(),new fs(e,!0),n);return t.storage.makeRequestWithTokens(r,Zx).then(i=>({metadata:i,ref:t}))}function _K(t){t._throwIfRoot("getDownloadURL");const e=fK(t.storage,t._location,Yx());return t.storage.makeRequestWithTokens(e,Zx).then(n=>{if(n===null)throw Pz();return n})}function bK(t,e){const n=nK(t._location.path,e),r=new hr(t._location.bucket,n);return new bo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){return/^[A-Za-z]+:\/\//.test(t)}function EK(t,e){return new bo(t,e)}function eI(t,e){if(t instanceof cy){const n=t;if(n._bucket==null)throw Rz();const r=new bo(n,n._bucket);return e!=null?eI(r,e):r}else return e!==void 0?bK(t,e):t}function TK(t,e){if(e&&wK(e)){if(t instanceof cy)return EK(t,e);throw Wm("To use ref(service, url), the first argument must be a Storage instance.")}else return eI(t,e)}function Kb(t,e){const n=e==null?void 0:e[Bx];return n==null?null:hr.makeFromBucketSpec(n,t)}function AK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Fw(i,t.app.options.projectId))}class cy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Fx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yz,this._maxUploadRetryTime=_z,this._requests=new Set,i!=null?this._bucket=hr.makeFromBucketSpec(i,this._host):this._bucket=Kb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,e):this._bucket=Kb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Nz(jx());{const o=zz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Wb="@firebase/storage",Yb="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="storage";function kK(t,e,n){return t=Ot(t),yK(t,e,n)}function xK(t){return t=Ot(t),_K(t)}function IK(t,e){return t=Ot(t),TK(t,e)}function SK(t=Xd(),e){t=Ot(t);const r=Ds(t,tI).getImmediate({identifier:e}),i=Lw("storage");return i&&RK(r,...i),r}function RK(t,e,n,r={}){AK(t,e,n,r)}function OK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cy(n,r,i,e,ko)}function PK(){Ur(new kr(tI,OK,"PUBLIC").setMultipleInstances(!0)),nr(Wb,Yb,""),nr(Wb,Yb,"esm2017")}PK();const CK={key:0,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},DK={class:"bg-white rounded-lg p-4 max-w-sm w-full"},NK={class:"mt-1"},MK={class:"flex justify-end"},LK={class:"relative bg-white rounded-lg shadow border border-gray-200"},$K={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},VK=A("h3",{class:"text-lg font-semibold text-gray-900"},"Yeni Blog Yazs",-1),FK={class:"grid gap-4 mb-4 grid-cols-2"},BK={class:"col-span-2"},jK=A("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Balk",-1),UK={class:"col-span-2"},qK=A("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900"}," Aklama ",-1),HK={class:"col-span-2"},zK=A("label",{for:"tags",class:"block mb-2 text-sm font-medium text-gray-900"}," Etiketler ",-1),KK={class:"flex flex-wrap items-center border border-gray p-2 rounded-lg"},WK=["onClick"],YK=A("svg",{class:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[A("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L10 8.586 7.707 6.293a1 1 0 10-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 001.414 1.414L10 11.414l2.293 2.293a1 1 0 001.414-1.414L11.414 10l2.293-2.293z","clip-rule":"evenodd"})],-1),GK=[YK],QK=["onKeydown"],XK={class:"mt-2 text-gray-600"},JK={class:"col-span-2 sm:col-span-1"},ZK=A("label",{for:"file-input",class:"block mb-2 text-sm font-medium text-gray-900"},"Fotoraf Se",-1),eW={class:"col-span-2 sm:col-span-1"},tW=A("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),nW=A("option",{value:"Hukuk"},"Hukuk",-1),rW=A("option",{value:"Haberler"},"Haberler",-1),iW=A("option",{value:"Son Dakika"},"Son Dakika",-1),sW=A("option",{value:"Blog Yazs"},"Blog Yazs",-1),oW=[nW,rW,iW,sW],aW={class:"col-span-2"},lW=A("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yaz erii",-1),uW={class:"bg-gray-100"},cW=["disabled"],dW=10,fW={__name:"AddBlog",emits:["goBlogManagement","addBlog"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),s=he(["Hukuk","Haber","Ceza Hukuku","TCK"]),o=he(""),a=he(""),l=he(""),u=he(""),c=he("Blog Yazs"),d=he(null),f=he(null),h=he(null),p=()=>{o.value.trim()&&!s.value.includes(o.value.trim())&&(s.value.push(o.value.trim()),o.value="")},m=b=>{s.value.splice(b,1)},_=pe(()=>dW-s.value.length),v=b=>{const g=b.target.files[0];g&&g.type==="image/jpeg"?(f.value=g,h.value=g.name):(h.value=null,console.error("Please select a JPEG file."))},y=async()=>{if(r.value=!0,i.value=!0,!f.value){console.error("Please select an image file.");return}const b=SK(),g=IK(b,`images/${f.value.name}`);try{console.log("Uploading file..."),await kK(g,f.value);const w=await xK(g);console.log("File uploaded:",w);const I={author:"admin",created_date:new Date,updated_date:new Date,title:a.value,tags:s.value,description:l.value,slug:gq(a.value),image:w,content:u.value,category:c.value};console.log("Adding blog post:",I),n("addBlog",I),a.value="",u.value="",l.value="",c.value="Blog Yazs",f.value=null,h.value=null}catch(w){console.error("Error uploading file or saving blog post:",w)}finally{r.value=!1}};return Et(()=>{console.log("new date test",new Date)}),(b,g)=>(ee(),le("div",null,[i.value?(ee(),le("div",CK,[A("div",DK,[A("div",NK,[r.value?(ee(),Ue(lu,{key:0,text:"Blog Yazs Ykleniyor..."})):ge("",!0),an(" "+Ie(r.value?"":"Blog yazs yklendi."),1)]),A("div",MK,[r.value?ge("",!0):(ee(),le("button",{key:0,onClick:g[0]||(g[0]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dn "))])])])):ge("",!0),A("div",LK,[A("div",$K,[VK,A("button",{onClick:g[1]||(g[1]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dn ")]),A("form",{onSubmit:Ar(y,["prevent"]),class:"p-4 md:p-5"},[A("div",FK,[A("div",BK,[jK,bt(A("input",{"onUpdate:modelValue":g[2]||(g[2]=w=>a.value=w),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},null,512),[[hi,a.value]])]),A("div",UK,[qK,bt(A("textarea",{"onUpdate:modelValue":g[3]||(g[3]=w=>l.value=w),name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs aklamasn girin",required:"",rows:"3"},null,512),[[hi,l.value]])]),A("div",HK,[zK,A("div",KK,[(ee(!0),le(Se,null,Qe(s.value,(w,I)=>(ee(),le("span",{key:I,class:"flex items-center bg-gray-100 text-sm border border-gray-300 hover:bg-gray-300 text-gray-900 px-3 py-1 rounded-full mr-2 mb-2"},[an(Ie(w)+" ",1),A("button",{onClick:k=>m(I),class:"ml-2 focus:outline-none"},GK,8,WK)]))),128)),bt(A("input",{"onUpdate:modelValue":g[4]||(g[4]=w=>o.value=w),name:"tags",onKeydown:aw(Ar(p,["prevent"]),["enter"]),placeholder:"Yazdktan sonra Enter tuuna basarak etiketi ekleyin.",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},null,40,QK),[[hi,o.value]])]),A("p",XK,Ie(_.value)+" etiket daha ekleyebilirsiniz. ",1)]),A("div",JK,[ZK,A("input",{type:"file",id:"file_input",ref_key:"fileInput",ref:d,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",accept:"image/jpeg",onChange:v,required:""},null,544)]),A("div",eW,[tW,bt(A("select",{"onUpdate:modelValue":g[5]||(g[5]=w=>c.value=w),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},oW,512),[[ks,c.value]])]),A("div",aW,[lW,A("div",uW,[qe(ae(Vx),{content:u.value,"onUpdate:content":g[6]||(g[6]=w=>u.value=w),contentType:"html",toolbar:"essential",theme:"snow",class:"h-[30rem]",placeholder:"Yaz ierii girin...",required:""},null,8,["content"])])])]),A("button",{type:"submit",disabled:r.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-600"}," Blog Yazs Ekle ",8,cW)],32)])]))}},hW={key:0,class:"flex items-center justify-center min-h-screen"},pW={__name:"Blogs",setup(t){const e=he(!1),n=he(!1),r=au(Dr,"blogs"),i=he([]);function s(p){d(p)}function o(p){f(p)}function a(p){h(p)}function l(p){return p?p.seconds?new Date(p.seconds*1e3).toLocaleDateString("tr-TR"):typeof p=="string"?p:new Date(p).toLocaleDateString("tr-TR"):""}async function u(){let p=[];const m=await Td(r);for(const _ of m.docs){let v=_.data();v.id=_.id;const y=au(Dr,"blogs",_.id,"comments"),b=[];(await Td(y)).docs.forEach(w=>{b.push(w.data())}),v.comments=b,p.push(v)}return p=p.map(_=>({..._,created_date:l(_.created_date),updated_date:l(_.updated_date)})),p}async function c(){try{const p=localStorage.getItem("cachedBlogs"),m=localStorage.getItem("cachedTimeBlogs"),_=30*60*1e3;if(p&&m&&new Date-new Date(parseInt(m))<_)return JSON.parse(p);{const v=await u();return localStorage.setItem("cachedBlogs",JSON.stringify(v)),localStorage.setItem("cachedTimeBlogs",new Date().getTime().toString()),v}}catch(p){return console.error("Error getting blogs with comments:",p),[]}}async function d(p){console.log("Received new blog data:",p);try{const m=await x$(r,p),_={...p,id:m.id,created_date:l(p.created_date),updated_date:l(p.updated_date)};i.value=[_,...i.value],localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error adding document:",m)}}async function f(p){if(p)try{await k$(br(Dr,"blogs",p)),i.value=i.value.filter(m=>m.id!==p),localStorage.setItem("cachedBlogs",JSON.stringify(i.value)),console.log(`Blog with ID ${p} deleted successfully.`)}catch(m){console.error("Error deleting blog:",m)}}async function h(p){console.log("Received updated blog data:",p);try{await Go(br(Dr,"blogs",p.id),p);const m={...p,created_date:l(p.created_date),updated_date:l(p.updated_date)};i.value=i.value.map(_=>_.id===p.id?m:_),localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error updating document:",m)}}return Et(async()=>{let p=await c();p.sort(mq),i.value=p,e.value=!0}),(p,m)=>(ee(),le("div",null,[qe(Br,{name:"fade"},{default:ze(()=>[e.value&&!n.value?(ee(),Ue(vz,{key:0,onGoAddBlog:m[0]||(m[0]=_=>n.value=!0),onDeleteBlog:o,onUpdateBlog:a,blogsData:i.value,blogRef:ae(r)},null,8,["blogsData","blogRef"])):ge("",!0)]),_:1}),e.value?ge("",!0):(ee(),le("div",hW,[qe(lu,{text:"Blog Yazs Ykleniyor..."})])),qe(Br,{name:"fade"},{default:ze(()=>[n.value?(ee(),Ue(fW,{key:0,onGoBlogManagement:m[1]||(m[1]=_=>n.value=!1),onAddBlog:s})):ge("",!0)]),_:1})]))}},mW=Yr(pW,[["__scopeId","data-v-ae4ad521"]]),gW={__name:"Lawyers",setup(t){return(e,n)=>(ee(),le("h1",null,"Avukatlar"))}},vW={key:0},yW={key:1},Gb={__name:"Settings",setup(t){const e=Cs(),n=pe(()=>e.getters.userRole);return pe(()=>e.getters.user?e.getters.user.uid:null),(r,i)=>(ee(),le("div",null,[n.value==="attorney"?(ee(),le("div",vW," avukat ayarlar ")):(ee(),le("div",yW,"admin ayarlar deitirildi feat-11 "))]))}},_W={},bW={class:"bg-gray-800"},wW=hg('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">zgnm, bu sayfa mecvut deil.</p><div class="flex justify-center"><a href="/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),EW=[wW];function TW(t,e,n,r,i,s){return ee(),le("section",bW,EW)}const AW=Yr(_W,[["render",TW]]),kW={},xW={class:"bg-gray-800"},IW=hg('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">zgnm, bu sayfay grmek iin yetkiniz yok.</p><div class="flex justify-center"><a href="/main/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),SW=[IW];function RW(t,e,n,r,i,s){return ee(),le("section",xW,SW)}const OW=Yr(kW,[["render",RW]]),PW=A("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),CW={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},DW={class:"relative p-4 w-[30rem] max-h-full"},NW={class:"relative bg-white rounded-lg shadow"},MW={class:"flex items-center justify-between p-4 border-b rounded-t"},LW=A("h3",{class:"text-lg font-semibold text-gray-900"}," Uygun Olmayan Tarih ve Saat Araln Se ",-1),$W=A("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14","aria-hidden":"true"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),VW=A("span",{class:"sr-only"},"Close modal",-1),FW=[$W,VW],BW={class:"grid gap-4 mb-4 grid-cols-2"},jW={class:"col-span-2"},UW=A("label",{for:"date",class:"block mb-2 text-sm font-medium text-gray-900"},"Tarih",-1),qW={class:"col-span-1"},HW=A("label",{for:"start-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Balang",-1),zW=["value"],KW={class:"col-span-1"},WW=A("label",{for:"end-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Biti",-1),YW=["value"],GW={class:"col-span-2"},QW={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4 mt-4"},XW={class:"flex justify-between items-center mb-3"},JW=A("span",{class:"text-gray-900 text-base font-medium"},"Tekrarla",-1),ZW={class:"inline-flex items-center cursor-pointer"},eY=A("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),tY=A("div",{class:"flex items-center"},[A("p",{class:"text-sm text-gray-500 font-normal"}," Eer seiliyse, bu tarih ve saat aral haftalk olarak tekrarlanacaktr. ")],-1),nY=A("div",{class:"col-span-2"},[A("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),rY={__name:"WorkingHoursExceptionModal",emits:["close","save-exception"],setup(t,{emit:e}){const n=he(new Date),r=he("12:00"),i=he("13:00"),s=he(!1),o=e,a=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],l=()=>{const c={date:n.value?Vr(new Date(n.value),"dd/MM/yy"):"",startTime:r.value,endTime:i.value,repeat:s.value};o("save-exception",c),o("close")};return(u,c)=>(ee(),le(Se,null,[PW,A("div",CW,[A("div",DW,[A("div",NW,[A("div",MW,[LW,A("button",{onClick:c[0]||(c[0]=d=>u.$emit("close")),type:"button",class:"text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},FW)]),A("form",{onSubmit:Ar(l,["prevent"]),class:"p-4"},[A("div",BW,[A("div",jW,[UW,qe(ae($u),{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=d=>n.value=d),name:"date",class:"form-input","enable-time-picker":!1,required:""},null,8,["modelValue"])]),A("div",qW,[HW,bt(A("select",{"onUpdate:modelValue":c[2]||(c[2]=d=>r.value=d),required:"",id:"start-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ee(),le(Se,null,Qe(a,d=>A("option",{key:d,value:d},Ie(d),9,zW)),64))],512),[[ks,r.value]])]),A("div",KW,[WW,bt(A("select",{"onUpdate:modelValue":c[3]||(c[3]=d=>i.value=d),required:"",id:"end-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ee(),le(Se,null,Qe(a,d=>A("option",{key:d,value:d},Ie(d),9,YW)),64))],512),[[ks,i.value]])])]),A("div",GW,[A("div",QW,[A("div",XW,[JW,A("label",ZW,[bt(A("input",{"onUpdate:modelValue":c[4]||(c[4]=d=>s.value=d),type:"checkbox",class:"sr-only peer"},null,512),[[ea,s.value]]),eY])]),tY])]),nY],32)])])])],64))}},dy=t=>(Vd("data-v-2eae121c"),t=t(),Fd(),t),iY={key:0,class:"mb-4 mt-4"},sY={class:"flex justify-between items-center"},oY={class:"text-sm font-medium text-gray-900 dark:text-white"},aY={class:"text-sm text-gray-600 dark:text-gray-300"},lY={class:"text-sm text-gray-600 dark:text-gray-300"},uY={key:0,class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 rounded-lg focus:outline-none"},cY=dy(()=>A("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[A("path",{d:"M6 4H21C21.5523 4 22 4.44772 22 5V12H20V6H6V9L1 5L6 1V4ZM18 20H3C2.44772 20 2 19.5523 2 19V12H4V18H18V15L23 19L18 23V20Z"})],-1)),dY=[cY],fY=["onClick"],hY=dy(()=>A("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[A("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1)),pY=[hY],mY=dy(()=>A("svg",{class:"w-4 h-4 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1)),gY={__name:"WorkingHoursExceptioner",props:{exceptions:Array},emits:["add-exception","remove-exception"],setup(t,{emit:e}){const n=he(!1),r=e,i=o=>{r("add-exception",o)},s=o=>{r("remove-exception",o)};return(o,a)=>(ee(),le(Se,null,[t.exceptions.length?(ee(),le("div",iY,[(ee(!0),le(Se,null,Qe(t.exceptions,(l,u)=>(ee(),le("div",{key:u,class:"p-4 mb-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},[A("div",sY,[A("div",null,[A("p",oY," Tarih: "+Ie(l.date),1),A("p",aY," Balang: "+Ie(l.startTime),1),A("p",lY," Biti: "+Ie(l.endTime),1)]),A("div",null,[l.repeat?(ee(),le("button",uY,dY)):ge("",!0),A("button",{onClick:c=>s(u),class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 rounded-lg focus:outline-none"},pY,8,fY)])])]))),128))])):ge("",!0),A("button",{onClick:a[0]||(a[0]=l=>n.value=!0),type:"button",class:"inline-flex items-center justify-center w-full py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[mY,an(" Ekle ")]),n.value?(ee(),Ue(rY,{key:1,onClose:a[1]||(a[1]=l=>n.value=!1),onSaveException:i})):ge("",!0)],64))}},vY=Yr(gY,[["__scopeId","data-v-2eae121c"]]),yY={class:"max-w-xl mx-auto bg-white"},_Y={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},bY={class:"flex justify-between items-center mb-3"},wY=A("span",{class:"text-gray-900 text-base font-medium"},"alma Saatleri",-1),EY={class:"inline-flex items-center cursor-pointer"},TY=A("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),AY=A("span",{class:"sr-only"},"alma Saatleri",-1),kY=A("div",{class:"flex items-center"},[A("p",{class:"text-sm text-gray-500 font-normal"}," Tm haftalk alma gnleri iin i alma saatlerini etkinletir veya devre d brak ")],-1),xY={class:"flex items-center justify-between"},IY={class:"flex items-center"},SY={class:"inline-flex items-center cursor-pointer"},RY=["onUpdate:modelValue","id"],OY=A("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),PY=A("span",{class:"sr-only"},"alma Saatleri",-1),CY=["for"],DY=["onClick"],NY={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},MY=["d"],LY={key:0,class:"mt-4"},$Y=["onUpdate:modelValue"],VY=["value"],FY=A("span",null,"-",-1),BY=["onUpdate:modelValue"],jY=["value"],UY={key:0,class:"flex items-center"},qY=["onClick"],HY=A("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),zY=[HY],KY=["disabled","onClick"],WY=A("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[A("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),YY=[WY],GY=["onClick"],QY=A("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[A("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),XY=[QY],JY=A("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ",-1),ZY={__name:"WorkingHoursScheduler",props:{schedule:Object},emits:["save-schedule"],setup(t,{emit:e}){const n=t,r=e,i=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],s=Kr(Array(5).fill(!0));n.schedule.days.forEach((d,f)=>{Xt(()=>d.enabled,h=>{h||(s[f]=!0)})});const o=d=>{s[d]=!s[d]},a=d=>{n.schedule.days[d].intervals.push({start:"09:00",end:"17:00"})},l=(d,f)=>{n.schedule.days[d].intervals.splice(f,1)};function u(d){const[f,h]=d.split(":").map(Number);return f*60+h}const c=()=>{const d={isWorkingHoursEnabled:n.schedule.isWorkingHoursEnabled,days:n.schedule.days.map(f=>({name:f.name,enabled:f.enabled,intervals:f.intervals.map(h=>{const p=u(h.start),_=(u(h.end)-p)/60;return{start:h.start,end:h.end,length:_}})}))};r("save-schedule",d)};return(d,f)=>(ee(),le("div",yY,[A("form",{onSubmit:Ar(c,["prevent"])},[A("div",_Y,[A("div",bY,[wY,A("label",EY,[bt(A("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>n.schedule.isWorkingHoursEnabled=h),type:"checkbox",class:"sr-only peer"},null,512),[[ea,n.schedule.isWorkingHoursEnabled]]),TY,AY])]),kY]),(ee(!0),le(Se,null,Qe(t.schedule.days,(h,p)=>(ee(),le("div",{key:p,class:We(["border rounded-lg p-4 mb-4",{"border-gray-300":h.enabled,"opacity-50":!h.enabled}])},[A("div",xY,[A("div",IY,[A("label",SY,[bt(A("input",{"onUpdate:modelValue":m=>h.enabled=m,type:"checkbox",id:`toggle-${h.name}`,class:"sr-only peer"},null,8,RY),[[ea,h.enabled]]),OY,PY]),A("label",{for:`toggle-${h.name}`,class:"ml-2 p-1.5 text-sm font-medium text-gray-900"},Ie(h.name),9,CY)]),h.enabled?(ee(),le("div",{key:0,onClick:m=>o(p),class:"text-gray-500 p-1.5 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},[(ee(),le("svg",NY,[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s[p]?"M19 9l-7 7-7-7":"M19 15l-7-7-7 7"},null,8,MY)]))],8,DY)):ge("",!0)]),s[p]?ge("",!0):(ee(),le("div",LY,[(ee(!0),le(Se,null,Qe(h.intervals,(m,_)=>(ee(),le("div",{key:_,class:"flex items-center mb-2"},[bt(A("select",{"onUpdate:modelValue":v=>m.start=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ee(),le(Se,null,Qe(i,v=>A("option",{key:v,value:v},Ie(v),9,VY)),64))],8,$Y),[[ks,m.start]]),FY,bt(A("select",{"onUpdate:modelValue":v=>m.end=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 ml-2"},[(ee(),le(Se,null,Qe(i,v=>A("option",{key:v,value:v},Ie(v),9,jY)),64))],8,BY),[[ks,m.end]]),_===h.intervals.length-1?(ee(),le("div",UY,[A("button",{onClick:v=>a(p),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},zY,8,qY),A("button",{disabled:h.intervals.length===1,onClick:v=>l(p,_),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},YY,8,KY)])):(ee(),le("button",{key:1,onClick:v=>l(p,_),type:"button",class:"inline-flex items-center ml-2 mr-10 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},XY,8,GY))]))),128))]))],2))),128)),JY],32)]))}},eG={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},tG={class:"bg-white rounded-lg p-6 shadow-lg w-[32rem]"},nG={class:"flex items-center justify-between"},rG=A("div",{class:"flex items-center"},[A("svg",{class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),A("h3",{class:"text-lg font-semibold text-gray-900 ml-2"},"Baaryla Kaydedildi")],-1),iG={class:"pl-4"},sG=A("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[A("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),oG=A("span",{class:"sr-only"},"Close modal",-1),aG=[sG,oG],lG={class:"mt-4 text-gray-700"},Qb={__name:"SuccessModal",props:{contentText:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ee(),le("div",eG,[A("div",tG,[A("div",nG,[rG,A("div",iG,[A("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},aG)])]),A("p",lG,Ie(t.contentText),1),A("button",{onClick:r[1]||(r[1]=i=>n.$emit("close")),class:"mt-6 bg-green-500 text-white px-4 py-2 rounded-lg w-full"}," OK ")])]))}},uG={key:0},cG={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},dG={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},fG=A("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[A("span",{class:"mb-2"},"Periyodik alma Saatlerini Se")],-1),hG={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},pG=A("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[A("span",{class:"mb-2"},"stisnai alma Saatleri")],-1),mG={key:1},gG={__name:"AppointmentSettings",setup(t){const e=Cs(),n=he(!1),r=he(!1),i=pe(()=>e.getters.userRole),s=pe(()=>e.getters.user?e.getters.user.uid:null);he([]);const o=au(Dr,"attorneys"),a=he([]),l=he([{duration:"",price:"",type:""}]),u=he({isWorkingHoursEnabled:!0,days:[{name:"Pazartesi",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Sal",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"aramba",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Perembe",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Cuma",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]}]}),c=g=>{a.value.push(g),p(g),console.log("Saved Exception:",a.value)},d=g=>{a.value.splice(g,1),m(g)},f=g=>{u.value=g,_(g),console.log("Saved Schedule:",u.value),n.value=!0},h=g=>{l.value=g,v(),console.log("Saved Appointment Settings:",l.value),r.value=!0};async function p(g){try{const w=br(o,s.value);await Go(w,{exceptions:S$(g)}),console.log("Exception added successfully")}catch(w){console.error("Error adding exception:",w)}}async function m(g){try{const w=br(o,s.value),I=[...a.value];I.splice(g,1),await Go(w,{exceptions:I}),a.value=I,console.log("Exception removed successfully")}catch(w){console.error("Error removing exception:",w)}}async function _(g){try{const w=br(o,s.value);await Go(w,{schedule:g}),console.log("Schedule updated successfully")}catch(w){console.error("Error updating schedule:",w)}}async function v(){try{const g=br(o,s.value);await Go(g,{appointment_settings:l.value}),console.log("Appointment settings updated successfully")}catch(g){console.error("Error updating appointment settings:",g)}}async function y(){try{const g=await b(s.value);g.schedule&&(u.value=g.schedule),g.exceptions&&(a.value=g.exceptions),g.appointment_settings&&(l.value=g.appointment_settings),console.log("Schedule and exceptions fetched successfully")}catch(g){console.error("Error fetching schedule and exceptions:",g)}}async function b(g){const w=br(o,g),I=await Ed(w);if(I.exists())return{id:I.id,...I.data()};throw new Error("Attorney not found")}return Et(()=>{y()}),(g,w)=>i.value==="attorney"?(ee(),le("div",uG,[n.value?(ee(),Ue(Qb,{key:0,contentText:"Haftalk alma saatleri deiiklii baaryla kaydedildi. Bu randevu saatleri her hafta iin tekrarlanarak uygulanacaktr.",onClose:w[0]||(w[0]=I=>n.value=!1)})):ge("",!0),r.value?(ee(),Ue(Qb,{key:1,contentText:"Randevu seenek ayarlarnz baaryla kaydedildi.",onClose:w[1]||(w[1]=I=>r.value=!1)})):ge("",!0),A("div",cG,[A("div",dG,[fG,qe(ZY,{schedule:u.value,onSaveSchedule:f},null,8,["schedule"])]),A("div",hG,[pG,qe(vY,{exceptions:a.value,onAddException:c,onRemoveException:d},null,8,["exceptions"])])]),qe(mk,{appointmentSettings:l.value,onSaveAppointmentSettings:h},null,8,["appointmentSettings"])])):(ee(),le("div",mG,"admin"))}},vG=[{path:"/",name:"LoginPage",component:q$},{path:"/unauthorized",name:"Unauthorized",component:OW},{path:"/:pathMatch(.*)*",name:"NotFound",component:AW},{path:"/",component:I5,meta:{requiresAuth:!0},children:[{path:"home",name:"Home",component:tb,meta:{requiresAuth:!0}},{path:"home/:uid",name:"HomeWithUID",component:tb,meta:{requiresAuth:!0}},{path:"online-meetings",name:"OnlineMeetings",component:Fb,meta:{requiresAuth:!0,role:"admin"}},{path:"online-meetings/:uid",name:"OnlineMeetingsWithUID",component:Fb,meta:{requiresAuth:!0}},{path:"blogs",name:"Blogs",component:mW,meta:{requiresAuth:!0,role:"admin"}},{path:"lawyers",name:"Lawyers",component:gW,meta:{requiresAuth:!0,role:"admin"}},{path:"settings",name:"Settings",component:Gb,meta:{requiresAuth:!0}},{path:"settings/:uid",name:"SettingsWithUID",component:Gb,meta:{requiresAuth:!0}},{path:"appointment-settings/:uid",name:"AppointmentSettingsWithUID",component:gG,meta:{requiresAuth:!0}}]}],nI=UO({history:vO(),routes:vG,linkActiveClass:"bg-gray-950 text-white"});nI.beforeEach(async(t,e,n)=>{if(await Vc.dispatch("initializeAuth"),t.meta.requiresAuth&&!Vc.getters.isAuthenticated)n("/");else if(t.meta.requiresAuth){const r=Vc.getters.userRole;t.meta.role&&t.meta.role!==r?n(r==="attorney"?"/home":"/unauthorized"):n()}else n()});const yG={};function _G(t,e){const n=lg("router-view");return ee(),Ue(n)}const bG=Yr(yG,[["render",_G]]);OR(bG).use(nI).use(Vc).component("VueDatePicker",$u).mount("#app");
