var DA=Object.defineProperty;var NA=(t,e,n)=>e in t?DA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pe=(t,e,n)=>NA(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fm(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const At={},Bs=[],vr=()=>{},MA=()=>!1,dd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),hm=t=>t.startsWith("onUpdate:"),Qt=Object.assign,pm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},LA=Object.prototype.hasOwnProperty,lt=(t,e)=>LA.call(t,e),je=Array.isArray,Us=t=>Zl(t)==="[object Map]",va=t=>Zl(t)==="[object Set]",xv=t=>Zl(t)==="[object Date]",Ge=t=>typeof t=="function",Pt=t=>typeof t=="string",Oi=t=>typeof t=="symbol",_t=t=>t!==null&&typeof t=="object",X_=t=>(_t(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),J_=Object.prototype.toString,Zl=t=>J_.call(t),$A=t=>Zl(t).slice(8,-1),Z_=t=>Zl(t)==="[object Object]",mm=t=>Pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,nl=fm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},VA=/-(\w)/g,di=fd(t=>t.replace(VA,(e,n)=>n?n.toUpperCase():"")),FA=/\B([A-Z])/g,ds=fd(t=>t.replace(FA,"-$1").toLowerCase()),hd=fd(t=>t.charAt(0).toUpperCase()+t.slice(1)),lh=fd(t=>t?`on${hd(t)}`:""),mo=(t,e)=>!Object.is(t,e),lc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},eb=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},xc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},jA=t=>{const e=Pt(t)?Number(t):NaN;return isNaN(e)?t:e};let Iv;const tb=()=>Iv||(Iv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(t){if(je(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Pt(r)?HA(r):sn(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Pt(t)||_t(t))return t}const BA=/;(?![^(]*\))/g,UA=/:([^]+)/,qA=/\/\*[^]*?\*\//g;function HA(t){const e={};return t.replace(qA,"").split(BA).forEach(n=>{if(n){const r=n.split(UA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Je(t){let e="";if(Pt(t))e=t;else if(je(t))for(let n=0;n<t.length;n++){const r=Je(t[n]);r&&(e+=r+" ")}else if(_t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function an(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Pt(e)&&(t.class=Je(e)),n&&(t.style=sn(n)),t}const zA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",KA=fm(zA);function nb(t){return!!t||t===""}function YA(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=eu(t[r],e[r]);return n}function eu(t,e){if(t===e)return!0;let n=xv(t),r=xv(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Oi(t),r=Oi(e),n||r)return t===e;if(n=je(t),r=je(e),n||r)return n&&r?YA(t,e):!1;if(n=_t(t),r=_t(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!eu(t[s],e[s]))return!1}}return String(t)===String(e)}function gm(t,e){return t.findIndex(n=>eu(n,e))}const xe=t=>Pt(t)?t:t==null?"":je(t)||_t(t)&&(t.toString===J_||!Ge(t.toString))?JSON.stringify(t,rb,2):String(t),rb=(t,e)=>e&&e.__v_isRef?rb(t,e.value):Us(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[uh(r,o)+" =>"]=i,n),{})}:va(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>uh(n))}:Oi(e)?uh(e):_t(e)&&!je(e)&&!Z_(e)?String(e):e,uh=(t,e="")=>{var n;return Oi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let or;class ib{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=or,!e&&or&&(this.index=(or.scopes||(or.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=or;try{return or=this,e()}finally{or=n}}}on(){or=this}off(){or=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function WA(t){return new ib(t)}function GA(t,e=or){e&&e.active&&e.effects.push(t)}function ob(){return or}function QA(t){or&&or.cleanups.push(t)}let Xo;class vm{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,GA(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Eo();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(XA(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ko()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=so,n=Xo;try{return so=!0,Xo=this,this._runnings++,Sv(this),this.fn()}finally{Rv(this),this._runnings--,Xo=n,so=e}}stop(){this.active&&(Sv(this),Rv(this),this.onStop&&this.onStop(),this.active=!1)}}function XA(t){return t.value}function Sv(t){t._trackId++,t._depsLength=0}function Rv(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)sb(t.deps[e],t);t.deps.length=t._depsLength}}function sb(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let so=!0,sp=0;const ab=[];function Eo(){ab.push(so),so=!1}function ko(){const t=ab.pop();so=t===void 0?!0:t}function ym(){sp++}function _m(){for(sp--;!sp&&ap.length;)ap.shift()()}function lb(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&sb(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ap=[];function ub(t,e,n){ym();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ap.push(r.scheduler)))}_m()}const cb=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Ic=new WeakMap,Jo=Symbol(""),lp=Symbol("");function tr(t,e,n){if(so&&Xo){let r=Ic.get(t);r||Ic.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=cb(()=>r.delete(n))),lb(Xo,i)}}function Ii(t,e,n,r,i,o){const s=Ic.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&je(t)){const l=Number(r);s.forEach((u,c)=>{(c==="length"||!Oi(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":je(t)?mm(n)&&a.push(s.get("length")):(a.push(s.get(Jo)),Us(t)&&a.push(s.get(lp)));break;case"delete":je(t)||(a.push(s.get(Jo)),Us(t)&&a.push(s.get(lp)));break;case"set":Us(t)&&a.push(s.get(Jo));break}ym();for(const l of a)l&&ub(l,4);_m()}function JA(t,e){const n=Ic.get(t);return n&&n.get(e)}const ZA=fm("__proto__,__v_isRef,__isVue"),db=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Oi)),Ov=ex();function ex(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ct(this);for(let o=0,s=this.length;o<s;o++)tr(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ct)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Eo(),ym();const r=ct(this)[e].apply(this,n);return _m(),ko(),r}}),t}function tx(t){Oi(t)||(t=String(t));const e=ct(this);return tr(e,"has",t),e.hasOwnProperty(t)}class fb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?px:gb:o?mb:pb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=je(e);if(!i){if(s&&lt(Ov,n))return Reflect.get(Ov,n,r);if(n==="hasOwnProperty")return tx}const a=Reflect.get(e,n,r);return(Oi(n)?db.has(n):ZA(n))||(i||tr(e,"get",n),o)?a:ln(a)?s&&mm(n)?a:a.value:_t(a)?i?yb(a):jr(a):a}}class hb extends fb{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=Tl(o);if(!Sc(r)&&!Tl(r)&&(o=ct(o),r=ct(r)),!je(e)&&ln(o)&&!ln(r))return l?!1:(o.value=r,!0)}const s=je(e)&&mm(n)?Number(n)<e.length:lt(e,n),a=Reflect.set(e,n,r,i);return e===ct(i)&&(s?mo(r,o)&&Ii(e,"set",n,r):Ii(e,"add",n,r)),a}deleteProperty(e,n){const r=lt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ii(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Oi(n)||!db.has(n))&&tr(e,"has",n),r}ownKeys(e){return tr(e,"iterate",je(e)?"length":Jo),Reflect.ownKeys(e)}}class nx extends fb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const rx=new hb,ix=new nx,ox=new hb(!0);const bm=t=>t,pd=t=>Reflect.getPrototypeOf(t);function Vu(t,e,n=!1,r=!1){t=t.__v_raw;const i=ct(t),o=ct(e);n||(mo(e,o)&&tr(i,"get",e),tr(i,"get",o));const{has:s}=pd(i),a=r?bm:n?Em:El;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Fu(t,e=!1){const n=this.__v_raw,r=ct(n),i=ct(t);return e||(mo(t,i)&&tr(r,"has",t),tr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ju(t,e=!1){return t=t.__v_raw,!e&&tr(ct(t),"iterate",Jo),Reflect.get(t,"size",t)}function Pv(t){t=ct(t);const e=ct(this);return pd(e).has.call(e,t)||(e.add(t),Ii(e,"add",t,t)),this}function Cv(t,e){e=ct(e);const n=ct(this),{has:r,get:i}=pd(n);let o=r.call(n,t);o||(t=ct(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?mo(e,s)&&Ii(n,"set",t,e):Ii(n,"add",t,e),this}function Dv(t){const e=ct(this),{has:n,get:r}=pd(e);let i=n.call(e,t);i||(t=ct(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Ii(e,"delete",t,void 0),o}function Nv(){const t=ct(this),e=t.size!==0,n=t.clear();return e&&Ii(t,"clear",void 0,void 0),n}function Bu(t,e){return function(r,i){const o=this,s=o.__v_raw,a=ct(s),l=e?bm:t?Em:El;return!t&&tr(a,"iterate",Jo),s.forEach((u,c)=>r.call(i,l(u),l(c),o))}}function Uu(t,e,n){return function(...r){const i=this.__v_raw,o=ct(i),s=Us(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...r),c=n?bm:e?Em:El;return!e&&tr(o,"iterate",l?lp:Jo),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function ji(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function sx(){const t={get(o){return Vu(this,o)},get size(){return ju(this)},has:Fu,add:Pv,set:Cv,delete:Dv,clear:Nv,forEach:Bu(!1,!1)},e={get(o){return Vu(this,o,!1,!0)},get size(){return ju(this)},has:Fu,add:Pv,set:Cv,delete:Dv,clear:Nv,forEach:Bu(!1,!0)},n={get(o){return Vu(this,o,!0)},get size(){return ju(this,!0)},has(o){return Fu.call(this,o,!0)},add:ji("add"),set:ji("set"),delete:ji("delete"),clear:ji("clear"),forEach:Bu(!0,!1)},r={get(o){return Vu(this,o,!0,!0)},get size(){return ju(this,!0)},has(o){return Fu.call(this,o,!0)},add:ji("add"),set:ji("set"),delete:ji("delete"),clear:ji("clear"),forEach:Bu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Uu(o,!1,!1),n[o]=Uu(o,!0,!1),e[o]=Uu(o,!1,!0),r[o]=Uu(o,!0,!0)}),[t,n,e,r]}const[ax,lx,ux,cx]=sx();function wm(t,e){const n=e?t?cx:ux:t?lx:ax;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(lt(n,i)&&i in r?n:r,i,o)}const dx={get:wm(!1,!1)},fx={get:wm(!1,!0)},hx={get:wm(!0,!1)};const pb=new WeakMap,mb=new WeakMap,gb=new WeakMap,px=new WeakMap;function mx(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gx(t){return t.__v_skip||!Object.isExtensible(t)?0:mx($A(t))}function jr(t){return Tl(t)?t:Tm(t,!1,rx,dx,pb)}function vb(t){return Tm(t,!1,ox,fx,mb)}function yb(t){return Tm(t,!0,ix,hx,gb)}function Tm(t,e,n,r,i){if(!_t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=gx(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function rl(t){return Tl(t)?rl(t.__v_raw):!!(t&&t.__v_isReactive)}function Tl(t){return!!(t&&t.__v_isReadonly)}function Sc(t){return!!(t&&t.__v_isShallow)}function _b(t){return t?!!t.__v_raw:!1}function ct(t){const e=t&&t.__v_raw;return e?ct(e):t}function vx(t){return Object.isExtensible(t)&&eb(t,"__v_skip",!0),t}const El=t=>_t(t)?jr(t):t,Em=t=>_t(t)?yb(t):t;class bb{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new vm(()=>e(this._value),()=>uc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ct(this);return(!e._cacheable||e.effect.dirty)&&mo(e._value,e._value=e.effect.run())&&uc(e,4),wb(e),e.effect._dirtyLevel>=2&&uc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function yx(t,e,n=!1){let r,i;const o=Ge(t);return o?(r=t,i=vr):(r=t.get,i=t.set),new bb(r,i,o||!i,n)}function wb(t){var e;so&&Xo&&(t=ct(t),lb(Xo,(e=t.dep)!=null?e:t.dep=cb(()=>t.dep=void 0,t instanceof bb?t:void 0)))}function uc(t,e=4,n){t=ct(t);const r=t.dep;r&&ub(r,e)}function ln(t){return!!(t&&t.__v_isRef===!0)}function he(t){return Tb(t,!1)}function _x(t){return Tb(t,!0)}function Tb(t,e){return ln(t)?t:new bx(t,e)}class bx{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ct(e),this._value=n?e:El(e)}get value(){return wb(this),this._value}set value(e){const n=this.__v_isShallow||Sc(e)||Tl(e);e=n?e:ct(e),mo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:El(e),uc(this,4))}}function ae(t){return ln(t)?t.value:t}const wx={get:(t,e,n)=>ae(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ln(i)&&!ln(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Eb(t){return rl(t)?t:new Proxy(t,wx)}class Tx{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return JA(ct(this._object),this._key)}}class Ex{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function kl(t,e,n){return ln(t)?t:Ge(t)?new Ex(t):_t(t)&&arguments.length>1?kx(t,e,n):he(t)}function kx(t,e,n){const r=t[e];return ln(r)?r:new Tx(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ao(t,e,n,r){try{return r?t(...r):t()}catch(i){md(i,e,n)}}function yr(t,e,n,r){if(Ge(t)){const i=ao(t,e,n,r);return i&&X_(i)&&i.catch(o=>{md(o,e,n)}),i}if(je(t)){const i=[];for(let o=0;o<t.length;o++)i.push(yr(t[o],e,n,r));return i}}function md(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Eo(),ao(l,null,10,[t,s,a]),ko();return}}Ax(t,n,i,r)}function Ax(t,e,n,r=!0){console.error(t)}let Al=!1,up=!1;const Cn=[];let Xr=0;const qs=[];let Yi=null,qo=0;const kb=Promise.resolve();let km=null;function Tn(t){const e=km||kb;return t?e.then(this?t.bind(this):t):e}function xx(t){let e=Xr+1,n=Cn.length;for(;e<n;){const r=e+n>>>1,i=Cn[r],o=xl(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function Am(t){(!Cn.length||!Cn.includes(t,Al&&t.allowRecurse?Xr+1:Xr))&&(t.id==null?Cn.push(t):Cn.splice(xx(t.id),0,t),Ab())}function Ab(){!Al&&!up&&(up=!0,km=kb.then(Ib))}function Ix(t){const e=Cn.indexOf(t);e>Xr&&Cn.splice(e,1)}function Sx(t){je(t)?qs.push(...t):(!Yi||!Yi.includes(t,t.allowRecurse?qo+1:qo))&&qs.push(t),Ab()}function Mv(t,e,n=Al?Xr+1:0){for(;n<Cn.length;n++){const r=Cn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Cn.splice(n,1),n--,r()}}}function xb(t){if(qs.length){const e=[...new Set(qs)].sort((n,r)=>xl(n)-xl(r));if(qs.length=0,Yi){Yi.push(...e);return}for(Yi=e,qo=0;qo<Yi.length;qo++)Yi[qo]();Yi=null,qo=0}}const xl=t=>t.id==null?1/0:t.id,Rx=(t,e)=>{const n=xl(t)-xl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Ib(t){up=!1,Al=!0,Cn.sort(Rx);try{for(Xr=0;Xr<Cn.length;Xr++){const e=Cn[Xr];e&&e.active!==!1&&ao(e,null,14)}}finally{Xr=0,Cn.length=0,xb(),Al=!1,km=null,(Cn.length||qs.length)&&Ib()}}function Ox(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||At;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=r[c]||At;f&&(i=n.map(h=>Pt(h)?h.trim():h)),d&&(i=n.map(xc))}let a,l=r[a=lh(e)]||r[a=lh(di(e))];!l&&o&&(l=r[a=lh(ds(e))]),l&&yr(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,yr(u,t,6,i)}}function Sb(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Ge(t)){const l=u=>{const c=Sb(u,e,!0);c&&(a=!0,Qt(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(_t(t)&&r.set(t,null),null):(je(o)?o.forEach(l=>s[l]=null):Qt(s,o),_t(t)&&r.set(t,s),s)}function gd(t,e){return!t||!dd(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,ds(e))||lt(t,e))}let en=null,vd=null;function Rc(t){const e=en;return en=t,vd=t&&t.type.__scopeId||null,e}function yd(t){vd=t}function _d(){vd=null}function He(t,e=en,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Gv(-1);const o=Rc(e);let s;try{s=t(...i)}finally{Rc(o),r._d&&Gv(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function ch(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,_=Rc(t);let v,y;try{if(n.shapeFlag&4){const g=i||r,w=g;v=Qr(u.call(w,g,c,d,h,f,p)),y=a}else{const g=e;v=Qr(g.length>1?g(d,{attrs:a,slots:s,emit:l}):g(d,null)),y=e.props?a:Px(a)}}catch(g){ll.length=0,md(g,t,1),v=Ue(sr)}let b=v;if(y&&m!==!1){const g=Object.keys(y),{shapeFlag:w}=b;g.length&&w&7&&(o&&g.some(hm)&&(y=Cx(y,o)),b=go(b,y,!1,!0))}return n.dirs&&(b=go(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,Rc(_),v}const Px=t=>{let e;for(const n in t)(n==="class"||n==="style"||dd(n))&&((e||(e={}))[n]=t[n]);return e},Cx=(t,e)=>{const n={};for(const r in t)(!hm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Dx(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Lv(r,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(s[f]!==r[f]&&!gd(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Lv(r,s,u):!0:!!s;return!1}function Lv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!gd(n,o))return!0}return!1}function Nx({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Rb="components";function xm(t,e){return Pb(Rb,t,!0,e)||t}const Ob=Symbol.for("v-ndc");function bd(t){return Pt(t)?Pb(Rb,t,!1)||t:t||Ob}function Pb(t,e,n=!0,r=!1){const i=en||vn;if(i){const o=i.type;{const a=SI(o,!1);if(a&&(a===e||a===di(e)||a===hd(di(e))))return o}const s=$v(i[t]||o[t],e)||$v(i.appContext[t],e);return!s&&r?o:s}}function $v(t,e){return t&&(t[e]||t[di(e)]||t[hd(di(e))])}const Mx=t=>t.__isSuspense;function Lx(t,e){e&&e.pendingBranch?je(t)?e.effects.push(...t):e.effects.push(t):Sx(t)}const $x=Symbol.for("v-scx"),Vx=()=>Rr($x),qu={};function Gt(t,e,n){return Cb(t,e,n)}function Cb(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:a}=At){if(e&&o){const P=e;e=(...k)=>{P(...k),w()}}const l=vn,u=P=>r===!0?P:zo(P,r===!1?1:void 0);let c,d=!1,f=!1;if(ln(t)?(c=()=>t.value,d=Sc(t)):rl(t)?(c=()=>u(t),d=!0):je(t)?(f=!0,d=t.some(P=>rl(P)||Sc(P)),c=()=>t.map(P=>{if(ln(P))return P.value;if(rl(P))return u(P);if(Ge(P))return ao(P,l,2)})):Ge(t)?e?c=()=>ao(t,l,2):c=()=>(h&&h(),yr(t,l,3,[p])):c=vr,e&&r){const P=c;c=()=>zo(P())}let h,p=P=>{h=b.onStop=()=>{ao(P,l,4),h=b.onStop=void 0}},m;if(kd)if(p=vr,e?n&&yr(e,l,3,[c(),f?[]:void 0,p]):c(),i==="sync"){const P=Vx();m=P.__watcherHandles||(P.__watcherHandles=[])}else return vr;let _=f?new Array(t.length).fill(qu):qu;const v=()=>{if(!(!b.active||!b.dirty))if(e){const P=b.run();(r||d||(f?P.some((k,S)=>mo(k,_[S])):mo(P,_)))&&(h&&h(),yr(e,l,3,[P,_===qu?void 0:f&&_[0]===qu?[]:_,p]),_=P)}else b.run()};v.allowRecurse=!!e;let y;i==="sync"?y=v:i==="post"?y=()=>Gn(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),y=()=>Am(v));const b=new vm(c,vr,y),g=ob(),w=()=>{b.stop(),g&&pm(g.effects,b)};return e?n?v():_=b.run():i==="post"?Gn(b.run.bind(b),l&&l.suspense):b.run(),m&&m.push(w),w}function Fx(t,e,n){const r=this.proxy,i=Pt(t)?t.includes(".")?Db(r,t):()=>r[t]:t.bind(r,r);let o;Ge(e)?o=e:(o=e.handler,n=e);const s=tu(this),a=Cb(i,o.bind(r),n);return s(),a}function Db(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function zo(t,e=1/0,n){if(e<=0||!_t(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ln(t))zo(t.value,e,n);else if(je(t))for(let r=0;r<t.length;r++)zo(t[r],e,n);else if(va(t)||Us(t))t.forEach(r=>{zo(r,e,n)});else if(Z_(t))for(const r in t)zo(t[r],e,n);return t}function Tt(t,e){if(en===null)return t;const n=Ad(en)||en.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=At]=e[i];o&&(Ge(o)&&(o={mounted:o,updated:o}),o.deep&&zo(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Lo(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Eo(),yr(l,n,8,[t.el,a,t,e]),ko())}}const Wi=Symbol("_leaveCb"),Hu=Symbol("_enterCb");function jx(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bt(()=>{t.isMounted=!0}),Im(()=>{t.isUnmounting=!0}),t}const pr=[Function,Array],Nb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pr,onEnter:pr,onAfterEnter:pr,onEnterCancelled:pr,onBeforeLeave:pr,onLeave:pr,onAfterLeave:pr,onLeaveCancelled:pr,onBeforeAppear:pr,onAppear:pr,onAfterAppear:pr,onAppearCancelled:pr},Bx={name:"BaseTransition",props:Nb,setup(t,{slots:e}){const n=e1(),r=jx();return()=>{const i=e.default&&Lb(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const f of i)if(f.type!==sr){o=f;break}}const s=ct(t),{mode:a}=s;if(r.isLeaving)return dh(o);const l=Vv(o);if(!l)return dh(o);const u=cp(l,s,r,n);dp(l,u);const c=n.subTree,d=c&&Vv(c);if(d&&d.type!==sr&&!Ho(l,d)){const f=cp(d,s,r,n);if(dp(d,f),a==="out-in"&&l.type!==sr)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},dh(o);a==="in-out"&&l.type!==sr&&(f.delayLeave=(h,p,m)=>{const _=Mb(r,d);_[String(d.key)]=d,h[Wi]=()=>{p(),h[Wi]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return o}}},Ux=Bx;function Mb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function cp(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:_,onAfterAppear:v,onAppearCancelled:y}=e,b=String(t.key),g=Mb(n,t),w=(S,D)=>{S&&yr(S,r,9,D)},P=(S,D)=>{const O=D[1];w(S,D),je(S)?S.every(E=>E.length<=1)&&O():S.length<=1&&O()},k={mode:o,persisted:s,beforeEnter(S){let D=a;if(!n.isMounted)if(i)D=m||a;else return;S[Wi]&&S[Wi](!0);const O=g[b];O&&Ho(t,O)&&O.el[Wi]&&O.el[Wi](),w(D,[S])},enter(S){let D=l,O=u,E=c;if(!n.isMounted)if(i)D=_||l,O=v||u,E=y||c;else return;let T=!1;const C=S[Hu]=F=>{T||(T=!0,F?w(E,[S]):w(O,[S]),k.delayedLeave&&k.delayedLeave(),S[Hu]=void 0)};D?P(D,[S,C]):C()},leave(S,D){const O=String(t.key);if(S[Hu]&&S[Hu](!0),n.isUnmounting)return D();w(d,[S]);let E=!1;const T=S[Wi]=C=>{E||(E=!0,D(),C?w(p,[S]):w(h,[S]),S[Wi]=void 0,g[O]===t&&delete g[O])};g[O]=t,f?P(f,[S,T]):T()},clone(S){return cp(S,e,n,r)}};return k}function dh(t){if(wd(t))return t=go(t),t.children=null,t}function Vv(t){if(!wd(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ge(n.default))return n.default()}}function dp(t,e){t.shapeFlag&6&&t.component?dp(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Lb(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Se?(s.patchFlag&128&&i++,r=r.concat(Lb(s.children,e,a))):(e||s.type!==sr)&&r.push(a!=null?go(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ht(t,e){return Ge(t)?Qt({name:t.name},e,{setup:t}):t}const il=t=>!!t.type.__asyncLoader,wd=t=>t.type.__isKeepAlive;function qx(t,e){$b(t,"a",e)}function Hx(t,e){$b(t,"da",e)}function $b(t,e,n=vn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Td(e,r,n),n){let i=n.parent;for(;i&&i.parent;)wd(i.parent.vnode)&&zx(r,e,n,i),i=i.parent}}function zx(t,e,n,r){const i=Td(e,t,r,!0);ya(()=>{pm(r[e],i)},n)}function Td(t,e,n=vn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Eo();const a=tu(n),l=yr(e,n,t,s);return a(),ko(),l});return r?i.unshift(o):i.push(o),o}}const $i=t=>(e,n=vn)=>(!kd||t==="sp")&&Td(t,(...r)=>e(...r),n),Kx=$i("bm"),bt=$i("m"),Vb=$i("bu"),Yx=$i("u"),Im=$i("bum"),ya=$i("um"),Wx=$i("sp"),Gx=$i("rtg"),Qx=$i("rtc");function Xx(t,e=vn){Td("ec",t,e)}function Qe(t,e,n,r){let i;const o=n;if(je(t)||Pt(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o)}else if(_t(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=e(t[u],u,a,o)}}else i=[];return i}function Dn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(je(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Ce(t,e,n={},r,i){if(en.isCE||en.parent&&il(en.parent)&&en.parent.isCE)return e!=="default"&&(n.name=e),Ue("slot",n,r);let o=t[e];o&&o._c&&(o._d=!1),ee();const s=o&&Fb(o(n)),a=Be(Se,{key:n.key||s&&s.key||`_${e}`},s||[],s&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Fb(t){return t.some(e=>Pc(e)?!(e.type===sr||e.type===Se&&!Fb(e.children)):!0)?t:null}const fp=t=>t?t1(t)?Ad(t)||t.proxy:fp(t.parent):null,ol=Qt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fp(t.parent),$root:t=>fp(t.root),$emit:t=>t.emit,$options:t=>Sm(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Am(t.update)}),$nextTick:t=>t.n||(t.n=Tn.bind(t.proxy)),$watch:t=>Fx.bind(t)}),fh=(t,e)=>t!==At&&!t.__isScriptSetup&&lt(t,e),Jx={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(fh(r,e))return s[e]=1,r[e];if(i!==At&&lt(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&lt(u,e))return s[e]=3,o[e];if(n!==At&&lt(n,e))return s[e]=4,n[e];hp&&(s[e]=0)}}const c=ol[e];let d,f;if(c)return e==="$attrs"&&tr(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==At&&lt(n,e))return s[e]=4,n[e];if(f=l.config.globalProperties,lt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return fh(i,e)?(i[e]=n,!0):r!==At&&lt(r,e)?(r[e]=n,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==At&&lt(t,s)||fh(e,s)||(a=o[0])&&lt(a,s)||lt(r,s)||lt(ol,s)||lt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function fs(){return Zx().slots}function Zx(){const t=e1();return t.setupContext||(t.setupContext=r1(t))}function Fv(t){return je(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let hp=!0;function eI(t){const e=Sm(t),n=t.proxy,r=t.ctx;hp=!1,e.beforeCreate&&jv(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:g,render:w,renderTracked:P,renderTriggered:k,errorCaptured:S,serverPrefetch:D,expose:O,inheritAttrs:E,components:T,directives:C,filters:F}=e;if(u&&tI(u,r,null),s)for(const U in s){const re=s[U];Ge(re)&&(r[U]=re.bind(n))}if(i){const U=i.call(n,n);_t(U)&&(t.data=jr(U))}if(hp=!0,o)for(const U in o){const re=o[U],Z=Ge(re)?re.bind(n,n):Ge(re.get)?re.get.bind(n,n):vr,z=!Ge(re)&&Ge(re.set)?re.set.bind(n):vr,N=pe({get:Z,set:z});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>N.value,set:$=>N.value=$})}if(a)for(const U in a)jb(a[U],r,n,U);if(l){const U=Ge(l)?l.call(n):l;Reflect.ownKeys(U).forEach(re=>{cc(re,U[re])})}c&&jv(c,t,"c");function V(U,re){je(re)?re.forEach(Z=>U(Z.bind(n))):re&&U(re.bind(n))}if(V(Kx,d),V(bt,f),V(Vb,h),V(Yx,p),V(qx,m),V(Hx,_),V(Xx,S),V(Qx,P),V(Gx,k),V(Im,y),V(ya,g),V(Wx,D),je(O))if(O.length){const U=t.exposed||(t.exposed={});O.forEach(re=>{Object.defineProperty(U,re,{get:()=>n[re],set:Z=>n[re]=Z})})}else t.exposed||(t.exposed={});w&&t.render===vr&&(t.render=w),E!=null&&(t.inheritAttrs=E),T&&(t.components=T),C&&(t.directives=C)}function tI(t,e,n=vr){je(t)&&(t=pp(t));for(const r in t){const i=t[r];let o;_t(i)?"default"in i?o=Rr(i.from||r,i.default,!0):o=Rr(i.from||r):o=Rr(i),ln(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function jv(t,e,n){yr(je(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function jb(t,e,n,r){const i=r.includes(".")?Db(n,r):()=>n[r];if(Pt(t)){const o=e[t];Ge(o)&&Gt(i,o)}else if(Ge(t))Gt(i,t.bind(n));else if(_t(t))if(je(t))t.forEach(o=>jb(o,e,n,r));else{const o=Ge(t.handler)?t.handler.bind(n):e[t.handler];Ge(o)&&Gt(i,o,t)}}function Sm(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Oc(l,u,s,!0)),Oc(l,e,s)),_t(e)&&o.set(e,l),l}function Oc(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Oc(t,o,n,!0),i&&i.forEach(s=>Oc(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=nI[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const nI={data:Bv,props:Uv,emits:Uv,methods:Wa,computed:Wa,beforeCreate:Bn,created:Bn,beforeMount:Bn,mounted:Bn,beforeUpdate:Bn,updated:Bn,beforeDestroy:Bn,beforeUnmount:Bn,destroyed:Bn,unmounted:Bn,activated:Bn,deactivated:Bn,errorCaptured:Bn,serverPrefetch:Bn,components:Wa,directives:Wa,watch:iI,provide:Bv,inject:rI};function Bv(t,e){return e?t?function(){return Qt(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function rI(t,e){return Wa(pp(t),pp(e))}function pp(t){if(je(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Bn(t,e){return t?[...new Set([].concat(t,e))]:e}function Wa(t,e){return t?Qt(Object.create(null),t,e):e}function Uv(t,e){return t?je(t)&&je(e)?[...new Set([...t,...e])]:Qt(Object.create(null),Fv(t),Fv(e??{})):e}function iI(t,e){if(!t)return e;if(!e)return t;const n=Qt(Object.create(null),t);for(const r in e)n[r]=Bn(t[r],e[r]);return n}function Bb(){return{app:null,config:{isNativeTag:MA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let oI=0;function sI(t,e){return function(r,i=null){Ge(r)||(r=Qt({},r)),i!=null&&!_t(i)&&(i=null);const o=Bb(),s=new WeakSet;let a=!1;const l=o.app={_uid:oI++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:OI,get config(){return o.config},set config(u){},use(u,...c){return s.has(u)||(u&&Ge(u.install)?(s.add(u),u.install(l,...c)):Ge(u)&&(s.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!a){const f=Ue(r,i);return f.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,Ad(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l},runWithContext(u){const c=sl;sl=l;try{return u()}finally{sl=c}}};return l}}let sl=null;function cc(t,e){if(vn){let n=vn.provides;const r=vn.parent&&vn.parent.provides;r===n&&(n=vn.provides=Object.create(r)),n[t]=e}}function Rr(t,e,n=!1){const r=vn||en;if(r||sl){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:sl._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ge(e)?e.call(r&&r.proxy):e}}const Ub={},qb=()=>Object.create(Ub),Hb=t=>Object.getPrototypeOf(t)===Ub;function aI(t,e,n,r=!1){const i={},o=qb();t.propsDefaults=Object.create(null),zb(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:vb(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function lI(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ct(i),[l]=t.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(gd(t.emitsOptions,f))continue;const h=e[f];if(l)if(lt(o,f))h!==o[f]&&(o[f]=h,u=!0);else{const p=di(f);i[p]=mp(l,a,p,h,t,!1)}else h!==o[f]&&(o[f]=h,u=!0)}}}else{zb(t,e,i,o)&&(u=!0);let c;for(const d in a)(!e||!lt(e,d)&&((c=ds(d))===d||!lt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=mp(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!lt(e,d))&&(delete o[d],u=!0)}u&&Ii(t.attrs,"set","")}function zb(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(nl(l))continue;const u=e[l];let c;i&&lt(i,c=di(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:gd(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=ct(n),u=a||At;for(let c=0;c<o.length;c++){const d=o[c];n[d]=mp(i,l,d,u[d],t,!lt(u,d))}}return s}function mp(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=lt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ge(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=tu(i);r=u[n]=l.call(null,e),c()}}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===ds(n))&&(r=!0))}return r}function Kb(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Ge(t)){const c=d=>{l=!0;const[f,h]=Kb(d,e,!0);Qt(s,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return _t(t)&&r.set(t,Bs),Bs;if(je(o))for(let c=0;c<o.length;c++){const d=di(o[c]);qv(d)&&(s[d]=At)}else if(o)for(const c in o){const d=di(c);if(qv(d)){const f=o[c],h=s[d]=je(f)||Ge(f)?{type:f}:Qt({},f);if(h){const p=Kv(Boolean,h.type),m=Kv(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||lt(h,"default"))&&a.push(d)}}}const u=[s,a];return _t(t)&&r.set(t,u),u}function qv(t){return t[0]!=="$"&&!nl(t)}function Hv(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function zv(t,e){return Hv(t)===Hv(e)}function Kv(t,e){return je(e)?e.findIndex(n=>zv(n,t)):Ge(e)&&zv(e,t)?0:-1}const Yb=t=>t[0]==="_"||t==="$stable",Rm=t=>je(t)?t.map(Qr):[Qr(t)],uI=(t,e,n)=>{if(e._n)return e;const r=He((...i)=>Rm(e(...i)),n);return r._c=!1,r},Wb=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Yb(i))continue;const o=t[i];if(Ge(o))e[i]=uI(i,o,r);else if(o!=null){const s=Rm(o);e[i]=()=>s}}},Gb=(t,e)=>{const n=Rm(e);t.slots.default=()=>n},cI=(t,e)=>{const n=t.slots=qb();if(t.vnode.shapeFlag&32){const r=e._;r?(Qt(n,e),eb(n,"_",r,!0)):Wb(e,n)}else e&&Gb(t,e)},dI=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=At;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(Qt(i,e),!n&&a===1&&delete i._):(o=!e.$stable,Wb(e,i)),s=e}else e&&(Gb(t,e),s={default:1});if(o)for(const a in i)!Yb(a)&&s[a]==null&&delete i[a]};function gp(t,e,n,r,i=!1){if(je(t)){t.forEach((f,h)=>gp(f,e&&(je(e)?e[h]:e),n,r,i));return}if(il(r)&&!i)return;const o=r.shapeFlag&4?Ad(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===At?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Pt(u)?(c[u]=null,lt(d,u)&&(d[u]=null)):ln(u)&&(u.value=null)),Ge(l))ao(l,a,12,[s,c]);else{const f=Pt(l),h=ln(l);if(f||h){const p=()=>{if(t.f){const m=f?lt(d,l)?d[l]:c[l]:l.value;i?je(m)&&pm(m,o):je(m)?m.includes(o)||m.push(o):f?(c[l]=[o],lt(d,l)&&(d[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else f?(c[l]=s,lt(d,l)&&(d[l]=s)):h&&(l.value=s,t.k&&(c[t.k]=s))};s?(p.id=-1,Gn(p,n)):p()}}}const Gn=Lx;function fI(t){return hI(t)}function hI(t,e){const n=tb();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=vr,insertStaticContent:p}=t,m=(L,Y,K,de=null,X=null,G=null,ie=void 0,oe=null,fe=!!Y.dynamicChildren)=>{if(L===Y)return;L&&!Ho(L,Y)&&(de=A(L),$(L,X,G,!0),L=null),Y.patchFlag===-2&&(fe=!1,Y.dynamicChildren=null);const{type:te,ref:ye,shapeFlag:_e}=Y;switch(te){case Ed:_(L,Y,K,de);break;case sr:v(L,Y,K,de);break;case dc:L==null&&y(Y,K,de,ie);break;case Se:T(L,Y,K,de,X,G,ie,oe,fe);break;default:_e&1?w(L,Y,K,de,X,G,ie,oe,fe):_e&6?C(L,Y,K,de,X,G,ie,oe,fe):(_e&64||_e&128)&&te.process(L,Y,K,de,X,G,ie,oe,fe,ne)}ye!=null&&X&&gp(ye,L&&L.ref,G,Y||L,!Y)},_=(L,Y,K,de)=>{if(L==null)r(Y.el=a(Y.children),K,de);else{const X=Y.el=L.el;Y.children!==L.children&&u(X,Y.children)}},v=(L,Y,K,de)=>{L==null?r(Y.el=l(Y.children||""),K,de):Y.el=L.el},y=(L,Y,K,de)=>{[L.el,L.anchor]=p(L.children,Y,K,de,L.el,L.anchor)},b=({el:L,anchor:Y},K,de)=>{let X;for(;L&&L!==Y;)X=f(L),r(L,K,de),L=X;r(Y,K,de)},g=({el:L,anchor:Y})=>{let K;for(;L&&L!==Y;)K=f(L),i(L),L=K;i(Y)},w=(L,Y,K,de,X,G,ie,oe,fe)=>{Y.type==="svg"?ie="svg":Y.type==="math"&&(ie="mathml"),L==null?P(Y,K,de,X,G,ie,oe,fe):D(L,Y,X,G,ie,oe,fe)},P=(L,Y,K,de,X,G,ie,oe)=>{let fe,te;const{props:ye,shapeFlag:_e,transition:we,dirs:Re}=L;if(fe=L.el=s(L.type,G,ye&&ye.is,ye),_e&8?c(fe,L.children):_e&16&&S(L.children,fe,null,de,X,hh(L,G),ie,oe),Re&&Lo(L,null,de,"created"),k(fe,L,L.scopeId,ie,de),ye){for(const De in ye)De!=="value"&&!nl(De)&&o(fe,De,null,ye[De],G,L.children,de,X,j);"value"in ye&&o(fe,"value",null,ye.value,G),(te=ye.onVnodeBeforeMount)&&Gr(te,de,L)}Re&&Lo(L,null,de,"beforeMount");const Me=pI(X,we);Me&&we.beforeEnter(fe),r(fe,Y,K),((te=ye&&ye.onVnodeMounted)||Me||Re)&&Gn(()=>{te&&Gr(te,de,L),Me&&we.enter(fe),Re&&Lo(L,null,de,"mounted")},X)},k=(L,Y,K,de,X)=>{if(K&&h(L,K),de)for(let G=0;G<de.length;G++)h(L,de[G]);if(X){let G=X.subTree;if(Y===G){const ie=X.vnode;k(L,ie,ie.scopeId,ie.slotScopeIds,X.parent)}}},S=(L,Y,K,de,X,G,ie,oe,fe=0)=>{for(let te=fe;te<L.length;te++){const ye=L[te]=oe?Gi(L[te]):Qr(L[te]);m(null,ye,Y,K,de,X,G,ie,oe)}},D=(L,Y,K,de,X,G,ie)=>{const oe=Y.el=L.el;let{patchFlag:fe,dynamicChildren:te,dirs:ye}=Y;fe|=L.patchFlag&16;const _e=L.props||At,we=Y.props||At;let Re;if(K&&$o(K,!1),(Re=we.onVnodeBeforeUpdate)&&Gr(Re,K,Y,L),ye&&Lo(Y,L,K,"beforeUpdate"),K&&$o(K,!0),te?O(L.dynamicChildren,te,oe,K,de,hh(Y,X),G):ie||re(L,Y,oe,null,K,de,hh(Y,X),G,!1),fe>0){if(fe&16)E(oe,Y,_e,we,K,de,X);else if(fe&2&&_e.class!==we.class&&o(oe,"class",null,we.class,X),fe&4&&o(oe,"style",_e.style,we.style,X),fe&8){const Me=Y.dynamicProps;for(let De=0;De<Me.length;De++){const tt=Me[De],$e=_e[tt],mt=we[tt];(mt!==$e||tt==="value")&&o(oe,tt,$e,mt,X,L.children,K,de,j)}}fe&1&&L.children!==Y.children&&c(oe,Y.children)}else!ie&&te==null&&E(oe,Y,_e,we,K,de,X);((Re=we.onVnodeUpdated)||ye)&&Gn(()=>{Re&&Gr(Re,K,Y,L),ye&&Lo(Y,L,K,"updated")},de)},O=(L,Y,K,de,X,G,ie)=>{for(let oe=0;oe<Y.length;oe++){const fe=L[oe],te=Y[oe],ye=fe.el&&(fe.type===Se||!Ho(fe,te)||fe.shapeFlag&70)?d(fe.el):K;m(fe,te,ye,null,de,X,G,ie,!0)}},E=(L,Y,K,de,X,G,ie)=>{if(K!==de){if(K!==At)for(const oe in K)!nl(oe)&&!(oe in de)&&o(L,oe,K[oe],null,ie,Y.children,X,G,j);for(const oe in de){if(nl(oe))continue;const fe=de[oe],te=K[oe];fe!==te&&oe!=="value"&&o(L,oe,te,fe,ie,Y.children,X,G,j)}"value"in de&&o(L,"value",K.value,de.value,ie)}},T=(L,Y,K,de,X,G,ie,oe,fe)=>{const te=Y.el=L?L.el:a(""),ye=Y.anchor=L?L.anchor:a("");let{patchFlag:_e,dynamicChildren:we,slotScopeIds:Re}=Y;Re&&(oe=oe?oe.concat(Re):Re),L==null?(r(te,K,de),r(ye,K,de),S(Y.children||[],K,ye,X,G,ie,oe,fe)):_e>0&&_e&64&&we&&L.dynamicChildren?(O(L.dynamicChildren,we,K,X,G,ie,oe),(Y.key!=null||X&&Y===X.subTree)&&Om(L,Y,!0)):re(L,Y,K,ye,X,G,ie,oe,fe)},C=(L,Y,K,de,X,G,ie,oe,fe)=>{Y.slotScopeIds=oe,L==null?Y.shapeFlag&512?X.ctx.activate(Y,K,de,ie,fe):F(Y,K,de,X,G,ie,fe):M(L,Y,fe)},F=(L,Y,K,de,X,G,ie)=>{const oe=L.component=kI(L,de,X);if(wd(L)&&(oe.ctx.renderer=ne),AI(oe),oe.asyncDep){if(X&&X.registerDep(oe,V),!L.el){const fe=oe.subTree=Ue(sr);v(null,fe,Y,K)}}else V(oe,L,Y,K,X,G,ie)},M=(L,Y,K)=>{const de=Y.component=L.component;if(Dx(L,Y,K))if(de.asyncDep&&!de.asyncResolved){U(de,Y,K);return}else de.next=Y,Ix(de.update),de.effect.dirty=!0,de.update();else Y.el=L.el,de.vnode=Y},V=(L,Y,K,de,X,G,ie)=>{const oe=()=>{if(L.isMounted){let{next:ye,bu:_e,u:we,parent:Re,vnode:Me}=L;{const $n=Qb(L);if($n){ye&&(ye.el=Me.el,U(L,ye,ie)),$n.asyncDep.then(()=>{L.isUnmounted||oe()});return}}let De=ye,tt;$o(L,!1),ye?(ye.el=Me.el,U(L,ye,ie)):ye=Me,_e&&lc(_e),(tt=ye.props&&ye.props.onVnodeBeforeUpdate)&&Gr(tt,Re,ye,Me),$o(L,!0);const $e=ch(L),mt=L.subTree;L.subTree=$e,m(mt,$e,d(mt.el),A(mt),L,X,G),ye.el=$e.el,De===null&&Nx(L,$e.el),we&&Gn(we,X),(tt=ye.props&&ye.props.onVnodeUpdated)&&Gn(()=>Gr(tt,Re,ye,Me),X)}else{let ye;const{el:_e,props:we}=Y,{bm:Re,m:Me,parent:De}=L,tt=il(Y);if($o(L,!1),Re&&lc(Re),!tt&&(ye=we&&we.onVnodeBeforeMount)&&Gr(ye,De,Y),$o(L,!0),_e&&Q){const $e=()=>{L.subTree=ch(L),Q(_e,L.subTree,L,X,null)};tt?Y.type.__asyncLoader().then(()=>!L.isUnmounted&&$e()):$e()}else{const $e=L.subTree=ch(L);m(null,$e,K,de,L,X,G),Y.el=$e.el}if(Me&&Gn(Me,X),!tt&&(ye=we&&we.onVnodeMounted)){const $e=Y;Gn(()=>Gr(ye,De,$e),X)}(Y.shapeFlag&256||De&&il(De.vnode)&&De.vnode.shapeFlag&256)&&L.a&&Gn(L.a,X),L.isMounted=!0,Y=K=de=null}},fe=L.effect=new vm(oe,vr,()=>Am(te),L.scope),te=L.update=()=>{fe.dirty&&fe.run()};te.id=L.uid,$o(L,!0),te()},U=(L,Y,K)=>{Y.component=L;const de=L.vnode.props;L.vnode=Y,L.next=null,lI(L,Y.props,de,K),dI(L,Y.children,K),Eo(),Mv(L),ko()},re=(L,Y,K,de,X,G,ie,oe,fe=!1)=>{const te=L&&L.children,ye=L?L.shapeFlag:0,_e=Y.children,{patchFlag:we,shapeFlag:Re}=Y;if(we>0){if(we&128){z(te,_e,K,de,X,G,ie,oe,fe);return}else if(we&256){Z(te,_e,K,de,X,G,ie,oe,fe);return}}Re&8?(ye&16&&j(te,X,G),_e!==te&&c(K,_e)):ye&16?Re&16?z(te,_e,K,de,X,G,ie,oe,fe):j(te,X,G,!0):(ye&8&&c(K,""),Re&16&&S(_e,K,de,X,G,ie,oe,fe))},Z=(L,Y,K,de,X,G,ie,oe,fe)=>{L=L||Bs,Y=Y||Bs;const te=L.length,ye=Y.length,_e=Math.min(te,ye);let we;for(we=0;we<_e;we++){const Re=Y[we]=fe?Gi(Y[we]):Qr(Y[we]);m(L[we],Re,K,null,X,G,ie,oe,fe)}te>ye?j(L,X,G,!0,!1,_e):S(Y,K,de,X,G,ie,oe,fe,_e)},z=(L,Y,K,de,X,G,ie,oe,fe)=>{let te=0;const ye=Y.length;let _e=L.length-1,we=ye-1;for(;te<=_e&&te<=we;){const Re=L[te],Me=Y[te]=fe?Gi(Y[te]):Qr(Y[te]);if(Ho(Re,Me))m(Re,Me,K,null,X,G,ie,oe,fe);else break;te++}for(;te<=_e&&te<=we;){const Re=L[_e],Me=Y[we]=fe?Gi(Y[we]):Qr(Y[we]);if(Ho(Re,Me))m(Re,Me,K,null,X,G,ie,oe,fe);else break;_e--,we--}if(te>_e){if(te<=we){const Re=we+1,Me=Re<ye?Y[Re].el:de;for(;te<=we;)m(null,Y[te]=fe?Gi(Y[te]):Qr(Y[te]),K,Me,X,G,ie,oe,fe),te++}}else if(te>we)for(;te<=_e;)$(L[te],X,G,!0),te++;else{const Re=te,Me=te,De=new Map;for(te=Me;te<=we;te++){const ce=Y[te]=fe?Gi(Y[te]):Qr(Y[te]);ce.key!=null&&De.set(ce.key,te)}let tt,$e=0;const mt=we-Me+1;let $n=!1,Hr=0;const Vn=new Array(mt);for(te=0;te<mt;te++)Vn[te]=0;for(te=Re;te<=_e;te++){const ce=L[te];if($e>=mt){$(ce,X,G,!0);continue}let be;if(ce.key!=null)be=De.get(ce.key);else for(tt=Me;tt<=we;tt++)if(Vn[tt-Me]===0&&Ho(ce,Y[tt])){be=tt;break}be===void 0?$(ce,X,G,!0):(Vn[be-Me]=te+1,be>=Hr?Hr=be:$n=!0,m(ce,Y[be],K,null,X,G,ie,oe,fe),$e++)}const rr=$n?mI(Vn):Bs;for(tt=rr.length-1,te=mt-1;te>=0;te--){const ce=Me+te,be=Y[ce],me=ce+1<ye?Y[ce+1].el:de;Vn[te]===0?m(null,be,K,me,X,G,ie,oe,fe):$n&&(tt<0||te!==rr[tt]?N(be,K,me,2):tt--)}}},N=(L,Y,K,de,X=null)=>{const{el:G,type:ie,transition:oe,children:fe,shapeFlag:te}=L;if(te&6){N(L.component.subTree,Y,K,de);return}if(te&128){L.suspense.move(Y,K,de);return}if(te&64){ie.move(L,Y,K,ne);return}if(ie===Se){r(G,Y,K);for(let _e=0;_e<fe.length;_e++)N(fe[_e],Y,K,de);r(L.anchor,Y,K);return}if(ie===dc){b(L,Y,K);return}if(de!==2&&te&1&&oe)if(de===0)oe.beforeEnter(G),r(G,Y,K),Gn(()=>oe.enter(G),X);else{const{leave:_e,delayLeave:we,afterLeave:Re}=oe,Me=()=>r(G,Y,K),De=()=>{_e(G,()=>{Me(),Re&&Re()})};we?we(G,Me,De):De()}else r(G,Y,K)},$=(L,Y,K,de=!1,X=!1)=>{const{type:G,props:ie,ref:oe,children:fe,dynamicChildren:te,shapeFlag:ye,patchFlag:_e,dirs:we}=L;if(oe!=null&&gp(oe,null,K,L,!0),ye&256){Y.ctx.deactivate(L);return}const Re=ye&1&&we,Me=!il(L);let De;if(Me&&(De=ie&&ie.onVnodeBeforeUnmount)&&Gr(De,Y,L),ye&6)J(L.component,K,de);else{if(ye&128){L.suspense.unmount(K,de);return}Re&&Lo(L,null,Y,"beforeUnmount"),ye&64?L.type.remove(L,Y,K,X,ne,de):te&&(G!==Se||_e>0&&_e&64)?j(te,Y,K,!1,!0):(G===Se&&_e&384||!X&&ye&16)&&j(fe,Y,K),de&&R(L)}(Me&&(De=ie&&ie.onVnodeUnmounted)||Re)&&Gn(()=>{De&&Gr(De,Y,L),Re&&Lo(L,null,Y,"unmounted")},K)},R=L=>{const{type:Y,el:K,anchor:de,transition:X}=L;if(Y===Se){W(K,de);return}if(Y===dc){g(L);return}const G=()=>{i(K),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(L.shapeFlag&1&&X&&!X.persisted){const{leave:ie,delayLeave:oe}=X,fe=()=>ie(K,G);oe?oe(L.el,G,fe):fe()}else G()},W=(L,Y)=>{let K;for(;L!==Y;)K=f(L),i(L),L=K;i(Y)},J=(L,Y,K)=>{const{bum:de,scope:X,update:G,subTree:ie,um:oe}=L;de&&lc(de),X.stop(),G&&(G.active=!1,$(ie,L,Y,K)),oe&&Gn(oe,Y),Gn(()=>{L.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},j=(L,Y,K,de=!1,X=!1,G=0)=>{for(let ie=G;ie<L.length;ie++)$(L[ie],Y,K,de,X)},A=L=>L.shapeFlag&6?A(L.component.subTree):L.shapeFlag&128?L.suspense.next():f(L.anchor||L.el);let q=!1;const B=(L,Y,K)=>{L==null?Y._vnode&&$(Y._vnode,null,null,!0):m(Y._vnode||null,L,Y,null,null,null,K),q||(q=!0,Mv(),xb(),q=!1),Y._vnode=L},ne={p:m,um:$,m:N,r:R,mt:F,mc:S,pc:re,pbc:O,n:A,o:t};let ue,Q;return{render:B,hydrate:ue,createApp:sI(B,ue)}}function hh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $o({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function pI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Om(t,e,n=!1){const r=t.children,i=e.children;if(je(r)&&je(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Gi(i[o]),a.el=s.el),n||Om(s,a)),a.type===Ed&&(a.el=s.el)}}function mI(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function Qb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qb(e)}const gI=t=>t.__isTeleport,al=t=>t&&(t.disabled||t.disabled===""),Yv=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Wv=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,vp=(t,e)=>{const n=t&&t.to;return Pt(n)?e?e(n):null:n},vI={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:_}}=u,v=al(e.props);let{shapeFlag:y,children:b,dynamicChildren:g}=e;if(t==null){const w=e.el=m(""),P=e.anchor=m("");h(w,n,r),h(P,n,r);const k=e.target=vp(e.props,p),S=e.targetAnchor=m("");k&&(h(S,k),s==="svg"||Yv(k)?s="svg":(s==="mathml"||Wv(k))&&(s="mathml"));const D=(O,E)=>{y&16&&c(b,O,E,i,o,s,a,l)};v?D(n,P):k&&D(k,S)}else{e.el=t.el;const w=e.anchor=t.anchor,P=e.target=t.target,k=e.targetAnchor=t.targetAnchor,S=al(t.props),D=S?n:P,O=S?w:k;if(s==="svg"||Yv(P)?s="svg":(s==="mathml"||Wv(P))&&(s="mathml"),g?(f(t.dynamicChildren,g,D,i,o,s,a),Om(t,e,!0)):l||d(t,e,D,O,i,o,s,a,!1),v)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):zu(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const E=e.target=vp(e.props,p);E&&zu(e,E,null,u,0)}else S&&zu(e,P,k,u,1)}Xb(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&o(c),s&&o(u),a&16){const h=s||!al(f);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:zu,hydrate:yI};function zu(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,d=o===2;if(d&&r(s,e,n),(!d||al(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function yI(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=vp(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(al(e.props))e.anchor=u(s(t),e,a(t),n,r,i,o),e.targetAnchor=d;else{e.anchor=s(t);let f=d;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(d,e,c,n,r,i,o)}Xb(e)}return e.anchor&&s(e.anchor)}const _I=vI;function Xb(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Se=Symbol.for("v-fgt"),Ed=Symbol.for("v-txt"),sr=Symbol.for("v-cmt"),dc=Symbol.for("v-stc"),ll=[];let xr=null;function ee(t=!1){ll.push(xr=t?null:[])}function bI(){ll.pop(),xr=ll[ll.length-1]||null}let Il=1;function Gv(t){Il+=t}function Jb(t){return t.dynamicChildren=Il>0?xr||Bs:null,bI(),Il>0&&xr&&xr.push(t),t}function le(t,e,n,r,i,o){return Jb(I(t,e,n,r,i,o,!0))}function Be(t,e,n,r,i){return Jb(Ue(t,e,n,r,i,!0))}function Pc(t){return t?t.__v_isVNode===!0:!1}function Ho(t,e){return t.type===e.type&&t.key===e.key}const Zb=({key:t})=>t??null,fc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Pt(t)||ln(t)||Ge(t)?{i:en,r:t,k:e,f:!!n}:t:null);function I(t,e=null,n=null,r=0,i=null,o=t===Se?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zb(e),ref:e&&fc(e),scopeId:vd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:en};return a?(Cm(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Pt(n)?8:16),Il>0&&!s&&xr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&xr.push(l),l}const Ue=wI;function wI(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===Ob)&&(t=sr),Pc(t)){const a=go(t,e,!0);return n&&Cm(a,n),Il>0&&!o&&xr&&(a.shapeFlag&6?xr[xr.indexOf(t)]=a:xr.push(a)),a.patchFlag|=-2,a}if(RI(t)&&(t=t.__vccOpts),e){e=qn(e);let{class:a,style:l}=e;a&&!Pt(a)&&(e.class=Je(a)),_t(l)&&(_b(l)&&!je(l)&&(l=Qt({},l)),e.style=sn(l))}const s=Pt(t)?1:Mx(t)?128:gI(t)?64:_t(t)?4:Ge(t)?2:0;return I(t,e,n,r,i,s,o,!0)}function qn(t){return t?_b(t)||Hb(t)?Qt({},t):t:null}function go(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=t,u=e?tn(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Zb(u),ref:e&&e.ref?n&&o?je(o)?o.concat(fc(e)):[o,fc(e)]:fc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&go(t.ssContent),ssFallback:t.ssFallback&&go(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(c.transition=l.clone(c)),c}function un(t=" ",e=0){return Ue(Ed,null,t,e)}function Pm(t,e){const n=Ue(dc,null,t);return n.staticCount=e,n}function ge(t="",e=!1){return e?(ee(),Be(sr,null,t)):Ue(sr,null,t)}function Qr(t){return t==null||typeof t=="boolean"?Ue(sr):je(t)?Ue(Se,null,t.slice()):typeof t=="object"?Gi(t):Ue(Ed,null,String(t))}function Gi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:go(t)}function Cm(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(je(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Cm(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Hb(e)?e._ctx=en:i===3&&en&&(en.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:en},n=32):(e=String(e),r&64?(n=16,e=[un(e)]):n=8);t.children=e,t.shapeFlag|=n}function tn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Je([e.class,r.class]));else if(i==="style")e.style=sn([e.style,r.style]);else if(dd(i)){const o=e[i],s=r[i];s&&o!==s&&!(je(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Gr(t,e,n,r=null){yr(t,e,7,[n,r])}const TI=Bb();let EI=0;function kI(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||TI,o={uid:EI++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ib(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kb(r,i),emitsOptions:Sb(r,i),emit:null,emitted:null,propsDefaults:At,inheritAttrs:r.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Ox.bind(null,o),t.ce&&t.ce(o),o}let vn=null;const e1=()=>vn||en;let Cc,yp;{const t=tb(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Cc=e("__VUE_INSTANCE_SETTERS__",n=>vn=n),yp=e("__VUE_SSR_SETTERS__",n=>kd=n)}const tu=t=>{const e=vn;return Cc(t),t.scope.on(),()=>{t.scope.off(),Cc(e)}},Qv=()=>{vn&&vn.scope.off(),Cc(null)};function t1(t){return t.vnode.shapeFlag&4}let kd=!1;function AI(t,e=!1){e&&yp(e);const{props:n,children:r}=t.vnode,i=t1(t);aI(t,n,i,e),cI(t,r);const o=i?xI(t,e):void 0;return e&&yp(!1),o}function xI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Jx);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?r1(t):null,o=tu(t);Eo();const s=ao(r,t,0,[t.props,i]);if(ko(),o(),X_(s)){if(s.then(Qv,Qv),e)return s.then(a=>{Xv(t,a,e)}).catch(a=>{md(a,t,0)});t.asyncDep=s}else Xv(t,s,e)}else n1(t,e)}function Xv(t,e,n){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_t(e)&&(t.setupState=Eb(e)),n1(t,n)}let Jv;function n1(t,e,n){const r=t.type;if(!t.render){if(!e&&Jv&&!r.render){const i=r.template||Sm(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Qt(Qt({isCustomElement:o,delimiters:a},s),l);r.render=Jv(i,u)}}t.render=r.render||vr}{const i=tu(t);Eo();try{eI(t)}finally{ko(),i()}}}const II={get(t,e){return tr(t,"get",""),t[e]}};function r1(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,II),slots:t.slots,emit:t.emit,expose:e}}function Ad(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Eb(vx(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ol)return ol[n](t)},has(e,n){return n in e||n in ol}}))}function SI(t,e=!0){return Ge(t)?t.displayName||t.name:t.name||e&&t.__name}function RI(t){return Ge(t)&&"__vccOpts"in t}const pe=(t,e)=>yx(t,e,kd);function _a(t,e,n){const r=arguments.length;return r===2?_t(e)&&!je(e)?Pc(e)?Ue(t,null,[e]):Ue(t,e):Ue(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Pc(n)&&(n=[n]),Ue(t,e,n))}const OI="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const PI="http://www.w3.org/2000/svg",CI="http://www.w3.org/1998/Math/MathML",Qi=typeof document<"u"?document:null,Zv=Qi&&Qi.createElement("template"),DI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Qi.createElementNS(PI,t):e==="mathml"?Qi.createElementNS(CI,t):Qi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Qi.createTextNode(t),createComment:t=>Qi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Qi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Zv.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=Zv.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Bi="transition",$a="animation",Sl=Symbol("_vtc"),Dr=(t,{slots:e})=>_a(Ux,NI(t),e);Dr.displayName="Transition";const i1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Dr.props=Qt({},Nb,i1);const Vo=(t,e=[])=>{je(t)?t.forEach(n=>n(...e)):t&&t(...e)},ey=t=>t?je(t)?t.some(e=>e.length>1):t.length>1:!1;function NI(t){const e={};for(const T in t)T in i1||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=MI(i),m=p&&p[0],_=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:g,onLeaveCancelled:w,onBeforeAppear:P=v,onAppear:k=y,onAppearCancelled:S=b}=e,D=(T,C,F)=>{Fo(T,C?c:a),Fo(T,C?u:s),F&&F()},O=(T,C)=>{T._isLeaving=!1,Fo(T,d),Fo(T,h),Fo(T,f),C&&C()},E=T=>(C,F)=>{const M=T?k:y,V=()=>D(C,T,F);Vo(M,[C,V]),ty(()=>{Fo(C,T?l:o),Ui(C,T?c:a),ey(M)||ny(C,r,m,V)})};return Qt(e,{onBeforeEnter(T){Vo(v,[T]),Ui(T,o),Ui(T,s)},onBeforeAppear(T){Vo(P,[T]),Ui(T,l),Ui(T,u)},onEnter:E(!1),onAppear:E(!0),onLeave(T,C){T._isLeaving=!0;const F=()=>O(T,C);Ui(T,d),Ui(T,f),VI(),ty(()=>{T._isLeaving&&(Fo(T,d),Ui(T,h),ey(g)||ny(T,r,_,F))}),Vo(g,[T,F])},onEnterCancelled(T){D(T,!1),Vo(b,[T])},onAppearCancelled(T){D(T,!0),Vo(S,[T])},onLeaveCancelled(T){O(T),Vo(w,[T])}})}function MI(t){if(t==null)return null;if(_t(t))return[ph(t.enter),ph(t.leave)];{const e=ph(t);return[e,e]}}function ph(t){return jA(t)}function Ui(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Sl]||(t[Sl]=new Set)).add(e)}function Fo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Sl];n&&(n.delete(e),n.size||(t[Sl]=void 0))}function ty(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let LI=0;function ny(t,e,n,r){const i=t._endId=++LI,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=$I(t,e);if(!s)return r();const u=s+"end";let c=0;const d=()=>{t.removeEventListener(u,f),o()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function $I(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Bi}Delay`),o=r(`${Bi}Duration`),s=ry(i,o),a=r(`${$a}Delay`),l=r(`${$a}Duration`),u=ry(a,l);let c=null,d=0,f=0;e===Bi?s>0&&(c=Bi,d=s,f=o.length):e===$a?u>0&&(c=$a,d=u,f=l.length):(d=Math.max(s,u),c=d>0?s>u?Bi:$a:null,f=c?c===Bi?o.length:l.length:0);const h=c===Bi&&/\b(transform|all)(,|$)/.test(r(`${Bi}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function ry(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>iy(n)+iy(t[r])))}function iy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function VI(){return document.body.offsetHeight}function FI(t,e,n){const r=t[Sl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Dc=Symbol("_vod"),o1=Symbol("_vsh"),ul={beforeMount(t,{value:e},{transition:n}){t[Dc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Va(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Va(t,!0),r.enter(t)):r.leave(t,()=>{Va(t,!1)}):Va(t,e))},beforeUnmount(t,{value:e}){Va(t,e)}};function Va(t,e){t.style.display=e?t[Dc]:"none",t[o1]=!e}const jI=Symbol(""),BI=/(^|;)\s*display\s*:/;function UI(t,e,n){const r=t.style,i=Pt(n);let o=!1;if(n&&!i){if(e)if(Pt(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&hc(r,a,"")}else for(const s in e)n[s]==null&&hc(r,s,"");for(const s in n)s==="display"&&(o=!0),hc(r,s,n[s])}else if(i){if(e!==n){const s=r[jI];s&&(n+=";"+s),r.cssText=n,o=BI.test(n)}}else e&&t.removeAttribute("style");Dc in t&&(t[Dc]=o?r.display:"",t[o1]&&(r.display="none"))}const oy=/\s*!important$/;function hc(t,e,n){if(je(n))n.forEach(r=>hc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=qI(t,e);oy.test(n)?t.setProperty(ds(r),n.replace(oy,""),"important"):t[r]=n}}const sy=["Webkit","Moz","ms"],mh={};function qI(t,e){const n=mh[e];if(n)return n;let r=di(e);if(r!=="filter"&&r in t)return mh[e]=r;r=hd(r);for(let i=0;i<sy.length;i++){const o=sy[i]+r;if(o in t)return mh[e]=o}return e}const ay="http://www.w3.org/1999/xlink";function HI(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ay,e.slice(6,e.length)):t.setAttributeNS(ay,e,n);else{const o=KA(e);n==null||o&&!nb(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function zI(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=nb(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ji(t,e,n,r){t.addEventListener(e,n,r)}function KI(t,e,n,r){t.removeEventListener(e,n,r)}const ly=Symbol("_vei");function YI(t,e,n,r,i=null){const o=t[ly]||(t[ly]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=WI(e);if(r){const u=o[e]=XI(r,i);Ji(t,a,u,l)}else s&&(KI(t,a,s,l),o[e]=void 0)}}const uy=/(?:Once|Passive|Capture)$/;function WI(t){let e;if(uy.test(t)){e={};let r;for(;r=t.match(uy);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ds(t.slice(2)),e]}let gh=0;const GI=Promise.resolve(),QI=()=>gh||(GI.then(()=>gh=0),gh=Date.now());function XI(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;yr(JI(r,n.value),e,5,[r])};return n.value=t,n.attached=QI(),n}function JI(t,e){if(je(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const cy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ZI=(t,e,n,r,i,o,s,a,l)=>{const u=i==="svg";e==="class"?FI(t,r,u):e==="style"?UI(t,n,r):dd(e)?hm(e)||YI(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):eS(t,e,r,u))?zI(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),HI(t,e,r,u))};function eS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&cy(e)&&Ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return cy(e)&&Pt(n)?!1:e in t}const Xs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return je(e)?n=>lc(e,n):e};function tS(t){t.target.composing=!0}function dy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Si=Symbol("_assign"),vo={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Si]=Xs(i);const o=r||i.props&&i.props.type==="number";Ji(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=xc(a)),t[Si](a)}),n&&Ji(t,"change",()=>{t.value=t.value.trim()}),e||(Ji(t,"compositionstart",tS),Ji(t,"compositionend",dy),Ji(t,"change",dy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Si]=Xs(o),t.composing)return;const s=(i||t.type==="number")&&!/^0\d/.test(t.value)?xc(t.value):t.value,a=e??"";s!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},Hs={deep:!0,created(t,e,n){t[Si]=Xs(n),Ji(t,"change",()=>{const r=t._modelValue,i=Rl(t),o=t.checked,s=t[Si];if(je(r)){const a=gm(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(va(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(s1(t,o))})},mounted:fy,beforeUpdate(t,e,n){t[Si]=Xs(n),fy(t,e,n)}};function fy(t,{value:e,oldValue:n},r){t._modelValue=e,je(e)?t.checked=gm(e,r.props.value)>-1:va(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=eu(e,s1(t,!0)))}const yo={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=va(e);Ji(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?xc(Rl(s)):Rl(s));t[Si](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Tn(()=>{t._assigning=!1})}),t[Si]=Xs(r)},mounted(t,{value:e,modifiers:{number:n}}){hy(t,e)},beforeUpdate(t,e,n){t[Si]=Xs(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||hy(t,e)}};function hy(t,e,n){const r=t.multiple,i=je(e);if(!(r&&!i&&!va(e))){for(let o=0,s=t.options.length;o<s;o++){const a=t.options[o],l=Rl(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=gm(e,l)>-1}else a.selected=e.has(l);else if(eu(Rl(a),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Rl(t){return"_value"in t?t._value:t.value}function s1(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const nS=["ctrl","shift","alt","meta"],rS={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>nS.some(n=>t[`${n}Key`]&&!e.includes(n))},Nr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const a=rS[e[s]];if(a&&a(i,e))return}return t(i,...o)})},iS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},oS=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=ds(i.key);if(e.some(s=>s===o||iS[s]===o))return t(i)})},sS=Qt({patchProp:ZI},DI);let py;function a1(){return py||(py=fI(sS))}const my=(...t)=>{a1().render(...t)},aS=(...t)=>{const e=a1().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=uS(r);if(!i)return;const o=e._component;!Ge(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,lS(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function lS(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function uS(t){return Pt(t)?document.querySelector(t):t}function cS(){return l1().__VUE_DEVTOOLS_GLOBAL_HOOK__}function l1(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const dS=typeof Proxy=="function",fS="devtools-plugin:setup",hS="plugin:settings:set";let xs,_p;function pS(){var t;return xs!==void 0||(typeof window<"u"&&window.performance?(xs=!0,_p=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(xs=!0,_p=globalThis.perf_hooks.performance):xs=!1),xs}function mS(){return pS()?_p.now():Date.now()}class gS{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return mS()}},n&&n.on(hS,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function vS(t,e){const n=t,r=l1(),i=cS(),o=dS&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(fS,t,e);else{const s=o?new gS(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ps=typeof document<"u";function yS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const vt=Object.assign;function vh(t,e){const n={};for(const r in e){const i=e[r];n[r]=Mr(i)?i.map(t):t(i)}return n}const cl=()=>{},Mr=Array.isArray,u1=/#/g,_S=/&/g,bS=/\//g,wS=/=/g,TS=/\?/g,c1=/\+/g,ES=/%5B/g,kS=/%5D/g,d1=/%5E/g,AS=/%60/g,f1=/%7B/g,xS=/%7C/g,h1=/%7D/g,IS=/%20/g;function Dm(t){return encodeURI(""+t).replace(xS,"|").replace(ES,"[").replace(kS,"]")}function SS(t){return Dm(t).replace(f1,"{").replace(h1,"}").replace(d1,"^")}function bp(t){return Dm(t).replace(c1,"%2B").replace(IS,"+").replace(u1,"%23").replace(_S,"%26").replace(AS,"`").replace(f1,"{").replace(h1,"}").replace(d1,"^")}function RS(t){return bp(t).replace(wS,"%3D")}function OS(t){return Dm(t).replace(u1,"%23").replace(TS,"%3F")}function PS(t){return t==null?"":OS(t).replace(bS,"%2F")}function Ol(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const CS=/\/$/,DS=t=>t.replace(CS,"");function yh(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=$S(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Ol(s)}}function NS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function gy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function MS(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Js(e.matched[r],n.matched[i])&&p1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Js(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function p1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!LS(t[n],e[n]))return!1;return!0}function LS(t,e){return Mr(t)?vy(t,e):Mr(e)?vy(e,t):t===e}function vy(t,e){return Mr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function $S(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}var Pl;(function(t){t.pop="pop",t.push="push"})(Pl||(Pl={}));var dl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(dl||(dl={}));function VS(t){if(!t)if(Ps){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),DS(t)}const FS=/^[^#]+#/;function jS(t,e){return t.replace(FS,"#")+e}function BS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const xd=()=>({left:window.scrollX,top:window.scrollY});function US(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=BS(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function yy(t,e){return(history.state?history.state.position-e:-1)+t}const wp=new Map;function qS(t,e){wp.set(t,e)}function HS(t){const e=wp.get(t);return wp.delete(t),e}let zS=()=>location.protocol+"//"+location.host;function m1(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),gy(l,"")}return gy(n,t)+r+i}function KS(t,e,n,r){let i=[],o=[],s=null;const a=({state:f})=>{const h=m1(t,location),p=n.value,m=e.value;let _=0;if(f){if(n.value=h,e.value=f,s&&s===p){s=null;return}_=m?f.position-m.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:_,type:Pl.pop,direction:_?_>0?dl.forward:dl.back:dl.unknown})})};function l(){s=n.value}function u(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return o.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(vt({},f.state,{scroll:xd()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function _y(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?xd():null}}function YS(t){const{history:e,location:n}=window,r={value:m1(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:zS()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function s(l,u){const c=vt({},e.state,_y(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,u){const c=vt({},i.value,e.state,{forward:l,scroll:xd()});o(c.current,c,!0);const d=vt({},_y(r.value,l,null),{position:c.position+1},u);o(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function WS(t){t=VS(t);const e=YS(t),n=KS(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=vt({location:"",base:t,go:r,createHref:jS.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function GS(t){return typeof t=="string"||t&&typeof t=="object"}function g1(t){return typeof t=="string"||typeof t=="symbol"}const qi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},v1=Symbol("");var by;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(by||(by={}));function Zs(t,e){return vt(new Error,{type:t,[v1]:!0},e)}function _i(t,e){return t instanceof Error&&v1 in t&&(e==null||!!(t.type&e))}const wy="[^/]+?",QS={sensitive:!1,strict:!1,start:!0,end:!0},XS=/[.+*?^${}()[\]/\\]/g;function JS(t,e){const n=vt({},QS,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(XS,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:_,regexp:v}=f;o.push({name:p,repeatable:m,optional:_});const y=v||wy;if(y!==wy){h+=10;try{new RegExp(`(${y})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+g.message)}}let b=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(b=_&&u.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),i+=b,h+=20,_&&(h+=-8),m&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(s),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=o[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:_}=h,v=p in u?u[p]:"";if(Mr(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Mr(v)?v.join("/"):v;if(!y)if(_)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=y}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function ZS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function eR(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=ZS(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Ty(r))return 1;if(Ty(i))return-1}return i.length-r.length}function Ty(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tR={type:0,value:""},nR=/[a-zA-Z0-9_]/;function rR(t){if(!t)return[[]];if(t==="/")return[[tR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",c="";function d(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),s()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:nR.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),s(),i}function iR(t,e,n){const r=JS(rR(t.path),n),i=vt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function oR(t,e){const n=[],r=new Map;e=Ay({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function o(c,d,f){const h=!f,p=sR(c);p.aliasOf=f&&f.record;const m=Ay(e,c),_=[p];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const g of b)_.push(vt({},p,{components:f?f.record.components:p.components,path:g,aliasOf:f?f.record:p}))}let v,y;for(const b of _){const{path:g}=b;if(d&&g[0]!=="/"){const w=d.record.path,P=w[w.length-1]==="/"?"":"/";b.path=d.record.path+(g&&P+g)}if(v=iR(b,d,m),f?f.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),h&&c.name&&!ky(v)&&s(c.name)),p.children){const w=p.children;for(let P=0;P<w.length;P++)o(w[P],v,f&&f.children[P])}f=f||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return y?()=>{s(y)}:cl}function s(c){if(g1(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&eR(c,n[d])>=0&&(c.record.path!==n[d].record.path||!y1(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!ky(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,m;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Zs(1,{location:c});m=f.record.name,h=vt(Ey(d.params,f.keys.filter(y=>!y.optional).concat(f.parent?f.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),c.params&&Ey(c.params,f.keys.map(y=>y.name))),p=f.stringify(h)}else if(c.path!=null)p=c.path,f=n.find(y=>y.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!f)throw Zs(1,{location:c,currentLocation:d});m=f.record.name,h=vt({},d.params,c.params),p=f.stringify(h)}const _=[];let v=f;for(;v;)_.unshift(v.record),v=v.parent;return{name:m,path:p,params:h,matched:_,meta:lR(_)}}return t.forEach(c=>o(c)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function Ey(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function sR(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:aR(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function aR(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ky(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lR(t){return t.reduce((e,n)=>vt(e,n.meta),{})}function Ay(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function y1(t,e){return e.children.some(n=>n===t||y1(t,n))}function uR(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(c1," "),s=o.indexOf("="),a=Ol(s<0?o:o.slice(0,s)),l=s<0?null:Ol(o.slice(s+1));if(a in e){let u=e[a];Mr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function xy(t){let e="";for(let n in t){const r=t[n];if(n=RS(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Mr(r)?r.map(o=>o&&bp(o)):[r&&bp(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function cR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Mr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const dR=Symbol(""),Iy=Symbol(""),Id=Symbol(""),_1=Symbol(""),Tp=Symbol("");function Fa(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xi(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Zs(4,{from:n,to:e})):f instanceof Error?l(f):GS(f)?l(Zs(2,{from:e,to:f})):(s&&r.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),a())},c=o(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function _h(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(fR(l)){const c=(l.__vccOpts||l)[e];c&&o.push(Xi(c,n,r,s,a,i))}else{let u=l();o.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=yS(c)?c.default:c;s.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Xi(h,n,r,s,a,i)()}))}}return o}function fR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Sy(t){const e=Rr(Id),n=Rr(_1),r=pe(()=>{const l=ae(t.to);return e.resolve(l)}),i=pe(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Js.bind(null,c));if(f>-1)return f;const h=Ry(l[u-2]);return u>1&&Ry(c)===h&&d[d.length-1].path!==h?d.findIndex(Js.bind(null,l[u-2])):f}),o=pe(()=>i.value>-1&&gR(n.params,r.value.params)),s=pe(()=>i.value>-1&&i.value===n.matched.length-1&&p1(n.params,r.value.params));function a(l={}){return mR(l)?e[ae(t.replace)?"replace":"push"](ae(t.to)).catch(cl):Promise.resolve()}return{route:r,href:pe(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const hR=Ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Sy,setup(t,{slots:e}){const n=jr(Sy(t)),{options:r}=Rr(Id),i=pe(()=>({[Oy(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Oy(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:_a("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),pR=hR;function mR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gR(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Mr(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function Ry(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Oy=(t,e,n)=>t??e??n,vR=Ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Rr(Tp),i=pe(()=>t.route||r.value),o=Rr(Iy,0),s=pe(()=>{let u=ae(o);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=pe(()=>i.value.matched[s.value]);cc(Iy,pe(()=>s.value+1)),cc(dR,a),cc(Tp,i);const l=he();return Gt(()=>[l.value,a.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Js(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return Py(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,_=_a(f,vt({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Py(n.default,{Component:_,route:u})||_}}});function Py(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const yR=vR;function _R(t){const e=oR(t.routes,t),n=t.parseQuery||uR,r=t.stringifyQuery||xy,i=t.history,o=Fa(),s=Fa(),a=Fa(),l=_x(qi);let u=qi;Ps&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=vh.bind(null,A=>""+A),d=vh.bind(null,PS),f=vh.bind(null,Ol);function h(A,q){let B,ne;return g1(A)?(B=e.getRecordMatcher(A),ne=q):ne=A,e.addRoute(ne,B)}function p(A){const q=e.getRecordMatcher(A);q&&e.removeRoute(q)}function m(){return e.getRoutes().map(A=>A.record)}function _(A){return!!e.getRecordMatcher(A)}function v(A,q){if(q=vt({},q||l.value),typeof A=="string"){const Y=yh(n,A,q.path),K=e.resolve({path:Y.path},q),de=i.createHref(Y.fullPath);return vt(Y,K,{params:f(K.params),hash:Ol(Y.hash),redirectedFrom:void 0,href:de})}let B;if(A.path!=null)B=vt({},A,{path:yh(n,A.path,q.path).path});else{const Y=vt({},A.params);for(const K in Y)Y[K]==null&&delete Y[K];B=vt({},A,{params:d(Y)}),q.params=d(q.params)}const ne=e.resolve(B,q),ue=A.hash||"";ne.params=c(f(ne.params));const Q=NS(r,vt({},A,{hash:SS(ue),path:ne.path})),L=i.createHref(Q);return vt({fullPath:Q,hash:ue,query:r===xy?cR(A.query):A.query||{}},ne,{redirectedFrom:void 0,href:L})}function y(A){return typeof A=="string"?yh(n,A,l.value.path):vt({},A)}function b(A,q){if(u!==A)return Zs(8,{from:q,to:A})}function g(A){return k(A)}function w(A){return g(vt(y(A),{replace:!0}))}function P(A){const q=A.matched[A.matched.length-1];if(q&&q.redirect){const{redirect:B}=q;let ne=typeof B=="function"?B(A):B;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=y(ne):{path:ne},ne.params={}),vt({query:A.query,hash:A.hash,params:ne.path!=null?{}:A.params},ne)}}function k(A,q){const B=u=v(A),ne=l.value,ue=A.state,Q=A.force,L=A.replace===!0,Y=P(B);if(Y)return k(vt(y(Y),{state:typeof Y=="object"?vt({},ue,Y.state):ue,force:Q,replace:L}),q||B);const K=B;K.redirectedFrom=q;let de;return!Q&&MS(r,ne,B)&&(de=Zs(16,{to:K,from:ne}),N(ne,ne,!0,!1)),(de?Promise.resolve(de):O(K,ne)).catch(X=>_i(X)?_i(X,2)?X:z(X):re(X,K,ne)).then(X=>{if(X){if(_i(X,2))return k(vt({replace:L},y(X.to),{state:typeof X.to=="object"?vt({},ue,X.to.state):ue,force:Q}),q||K)}else X=T(K,ne,!0,L,ue);return E(K,ne,X),X})}function S(A,q){const B=b(A,q);return B?Promise.reject(B):Promise.resolve()}function D(A){const q=W.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(A):A()}function O(A,q){let B;const[ne,ue,Q]=bR(A,q);B=_h(ne.reverse(),"beforeRouteLeave",A,q);for(const Y of ne)Y.leaveGuards.forEach(K=>{B.push(Xi(K,A,q))});const L=S.bind(null,A,q);return B.push(L),j(B).then(()=>{B=[];for(const Y of o.list())B.push(Xi(Y,A,q));return B.push(L),j(B)}).then(()=>{B=_h(ue,"beforeRouteUpdate",A,q);for(const Y of ue)Y.updateGuards.forEach(K=>{B.push(Xi(K,A,q))});return B.push(L),j(B)}).then(()=>{B=[];for(const Y of Q)if(Y.beforeEnter)if(Mr(Y.beforeEnter))for(const K of Y.beforeEnter)B.push(Xi(K,A,q));else B.push(Xi(Y.beforeEnter,A,q));return B.push(L),j(B)}).then(()=>(A.matched.forEach(Y=>Y.enterCallbacks={}),B=_h(Q,"beforeRouteEnter",A,q,D),B.push(L),j(B))).then(()=>{B=[];for(const Y of s.list())B.push(Xi(Y,A,q));return B.push(L),j(B)}).catch(Y=>_i(Y,8)?Y:Promise.reject(Y))}function E(A,q,B){a.list().forEach(ne=>D(()=>ne(A,q,B)))}function T(A,q,B,ne,ue){const Q=b(A,q);if(Q)return Q;const L=q===qi,Y=Ps?history.state:{};B&&(ne||L?i.replace(A.fullPath,vt({scroll:L&&Y&&Y.scroll},ue)):i.push(A.fullPath,ue)),l.value=A,N(A,q,B,L),z()}let C;function F(){C||(C=i.listen((A,q,B)=>{if(!J.listening)return;const ne=v(A),ue=P(ne);if(ue){k(vt(ue,{replace:!0}),ne).catch(cl);return}u=ne;const Q=l.value;Ps&&qS(yy(Q.fullPath,B.delta),xd()),O(ne,Q).catch(L=>_i(L,12)?L:_i(L,2)?(k(L.to,ne).then(Y=>{_i(Y,20)&&!B.delta&&B.type===Pl.pop&&i.go(-1,!1)}).catch(cl),Promise.reject()):(B.delta&&i.go(-B.delta,!1),re(L,ne,Q))).then(L=>{L=L||T(ne,Q,!1),L&&(B.delta&&!_i(L,8)?i.go(-B.delta,!1):B.type===Pl.pop&&_i(L,20)&&i.go(-1,!1)),E(ne,Q,L)}).catch(cl)}))}let M=Fa(),V=Fa(),U;function re(A,q,B){z(A);const ne=V.list();return ne.length?ne.forEach(ue=>ue(A,q,B)):console.error(A),Promise.reject(A)}function Z(){return U&&l.value!==qi?Promise.resolve():new Promise((A,q)=>{M.add([A,q])})}function z(A){return U||(U=!A,F(),M.list().forEach(([q,B])=>A?B(A):q()),M.reset()),A}function N(A,q,B,ne){const{scrollBehavior:ue}=t;if(!Ps||!ue)return Promise.resolve();const Q=!B&&HS(yy(A.fullPath,0))||(ne||!B)&&history.state&&history.state.scroll||null;return Tn().then(()=>ue(A,q,Q)).then(L=>L&&US(L)).catch(L=>re(L,A,q))}const $=A=>i.go(A);let R;const W=new Set,J={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:_,getRoutes:m,resolve:v,options:t,push:g,replace:w,go:$,back:()=>$(-1),forward:()=>$(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:V.add,isReady:Z,install(A){const q=this;A.component("RouterLink",pR),A.component("RouterView",yR),A.config.globalProperties.$router=q,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),Ps&&!R&&l.value===qi&&(R=!0,g(i.location).catch(ue=>{}));const B={};for(const ue in qi)Object.defineProperty(B,ue,{get:()=>l.value[ue],enumerable:!0});A.provide(Id,q),A.provide(_1,vb(B)),A.provide(Tp,l);const ne=A.unmount;W.add(A),A.unmount=function(){W.delete(A),W.size<1&&(u=qi,C&&C(),C=null,l.value=qi,R=!1,U=!1),ne()}}};function j(A){return A.reduce((q,B)=>q.then(()=>D(B)),Promise.resolve())}return J}function bR(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(u=>Js(u,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(u=>Js(u,l))||i.push(l))}return[n,r,i]}function b1(){return Rr(Id)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var w1="store";function Ao(t){return t===void 0&&(t=null),Rr(t!==null?t:w1)}function ba(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function wR(t){return t!==null&&typeof t=="object"}function TR(t){return t&&typeof t.then=="function"}function ER(t,e){return function(){return t(e)}}function T1(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function E1(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Sd(t,n,[],t._modules.root,!0),Nm(t,n,e)}function Nm(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=WA(!0);l.run(function(){ba(o,function(u,c){s[c]=ER(u,t),a[c]=pe(function(){return s[c]()}),Object.defineProperty(t.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),t._state=jr({data:e}),t._scope=l,t.strict&&SR(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function Sd(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=Mm(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=kR(t,s,n);r.forEachMutation(function(c,d){var f=s+d;AR(t,f,c,u)}),r.forEachAction(function(c,d){var f=c.root?d:s+d,h=c.handler||c;xR(t,f,h,u)}),r.forEachGetter(function(c,d){var f=s+d;IR(t,f,c,u)}),r.forEachChild(function(c,d){Sd(t,e,n.concat(d),c,i)})}function kR(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(o,s,a){var l=Nc(o,s,a),u=l.payload,c=l.options,d=l.type;return(!c||!c.root)&&(d=e+d),t.dispatch(d,u)},commit:r?t.commit:function(o,s,a){var l=Nc(o,s,a),u=l.payload,c=l.options,d=l.type;(!c||!c.root)&&(d=e+d),t.commit(d,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return k1(t,e)}},state:{get:function(){return Mm(t.state,n)}}}),i}function k1(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function AR(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){n.call(t,r.state,s)})}function xR(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},s);return TR(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function IR(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function SR(t){Gt(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Mm(t,e){return e.reduce(function(n,r){return n[r]},t)}function Nc(t,e,n){return wR(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var RR="vuex bindings",Cy="vuex:mutations",bh="vuex:actions",Is="vuex",OR=0;function PR(t,e){vS({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[RR]},function(n){n.addTimelineLayer({id:Cy,label:"Vuex Mutations",color:Dy}),n.addTimelineLayer({id:bh,label:"Vuex Actions",color:Dy}),n.addInspector({id:Is,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Is)if(r.filter){var i=[];S1(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[I1(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Is){var i=r.nodeId;k1(e,i),r.state=NR(LR(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Is){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Is),n.sendInspectorState(Is),n.addTimelineEvent({layerId:Cy,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=OR++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:bh,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:bh,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var Dy=8702998,CR=6710886,DR=16777215,A1={label:"namespaced",textColor:DR,backgroundColor:CR};function x1(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function I1(t,e){return{id:e||"root",label:x1(e),tags:t.namespaced?[A1]:[],children:Object.keys(t._children).map(function(n){return I1(t._children[n],e+n+"/")})}}function S1(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[A1]:[]}),Object.keys(e._children).forEach(function(i){S1(t,e._children[i],n,r+i+"/")})}function NR(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(r.length){var o=MR(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?x1(s):s,editable:!1,value:Ep(function(){return o[s]})}})}return i}function MR(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=Ep(function(){return t[n]})}else e[n]=Ep(function(){return t[n]})}),e}function LR(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===n.length-1?s:s._children},e==="root"?t:t.root._children)}function Ep(t){try{return t()}catch(e){return e}}var Br=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},R1={namespaced:{configurable:!0}};R1.namespaced.get=function(){return!!this._rawModule.namespaced};Br.prototype.addChild=function(e,n){this._children[e]=n};Br.prototype.removeChild=function(e){delete this._children[e]};Br.prototype.getChild=function(e){return this._children[e]};Br.prototype.hasChild=function(e){return e in this._children};Br.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Br.prototype.forEachChild=function(e){ba(this._children,e)};Br.prototype.forEachGetter=function(e){this._rawModule.getters&&ba(this._rawModule.getters,e)};Br.prototype.forEachAction=function(e){this._rawModule.actions&&ba(this._rawModule.actions,e)};Br.prototype.forEachMutation=function(e){this._rawModule.mutations&&ba(this._rawModule.mutations,e)};Object.defineProperties(Br.prototype,R1);var hs=function(e){this.register([],e,!1)};hs.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};hs.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};hs.prototype.update=function(e){O1([],this.root,e)};hs.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var o=new Br(n,r);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}n.modules&&ba(n.modules,function(a,l){i.register(e.concat(l),a,r)})};hs.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};hs.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function O1(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;O1(t.concat(r),e.getChild(r),n.modules[r])}}function $R(t){return new nr(t)}var nr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new hs(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(f,h){return l.call(s,f,h)},this.commit=function(f,h,p){return u.call(s,f,h,p)},this.strict=i;var c=this._modules.root.state;Sd(this,c,[],this._modules.root),Nm(this,c),r.forEach(function(d){return d(n)})},Lm={state:{configurable:!0}};nr.prototype.install=function(e,n){e.provide(n||w1,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&PR(e,this)};Lm.state.get=function(){return this._state.data};Lm.state.set=function(t){};nr.prototype.commit=function(e,n,r){var i=this,o=Nc(e,n,r),s=o.type,a=o.payload,l={type:s,payload:a},u=this._mutations[s];u&&(this._withCommit(function(){u.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};nr.prototype.dispatch=function(e,n){var r=this,i=Nc(e,n),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(s)})):l[0](s);return new Promise(function(c,d){u.then(function(f){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,r.state)})}catch{}c(f)},function(f){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,r.state,f)})}catch{}d(f)})})}};nr.prototype.subscribe=function(e,n){return T1(e,this._subscribers,n)};nr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return T1(r,this._actionSubscribers,n)};nr.prototype.watch=function(e,n,r){var i=this;return Gt(function(){return e(i.state,i.getters)},n,Object.assign({},r))};nr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};nr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Sd(this,this.state,e,this._modules.get(e),r.preserveState),Nm(this,this.state)};nr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Mm(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),E1(this)};nr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};nr.prototype.hotUpdate=function(e){this._modules.update(e),E1(this,!0)};nr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(nr.prototype,Lm);var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new FR;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jR=function(t){const e=P1(t);return C1.encodeByteArray(e,!0)},Mc=function(t){return jR(t).replace(/\./g,"")},D1=function(t){try{return C1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=()=>BR().__FIREBASE_DEFAULTS__,qR=()=>{if(typeof process>"u"||typeof Ny>"u")return;const t=Ny.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D1(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return UR()||qR()||HR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N1=t=>{var e,n;return(n=(e=Rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M1=t=>{const e=N1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L1=()=>{var t;return(t=Rd())===null||t===void 0?void 0:t.config},$1=t=>{var e;return(e=Rd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mc(JSON.stringify(n)),Mc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function YR(){var t;const e=(t=Rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GR(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j1(){try{return typeof indexedDB=="object"}catch{return!1}}function B1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function XR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="FirebaseError";class br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JR,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ZR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new br(i,a,r)}}function ZR(t,e){return t.replace(eO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eO=/\{\$([^}]+)}/g;function tO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ea(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(My(o)&&My(s)){if(!ea(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function My(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nO(t,e){const n=new rO(t,e);return n.subscribe.bind(n)}class rO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wh),i.error===void 0&&(i.error=wh),i.complete===void 0&&(i.complete=wh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1e3,sO=2,aO=4*60*60*1e3,lO=.5;function Ly(t,e=oO,n=sO){const r=e*Math.pow(n,t),i=Math.round(lO*r*(Math.random()-.5)*2);return Math.min(aO,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class _r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dO(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cO(t){return t===jo?void 0:t}function dO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const hO={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},pO=ot.INFO,mO={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},gO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Od{constructor(e){this.name=e,this._logLevel=pO,this._logHandler=gO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const vO=(t,e)=>e.some(n=>t instanceof n);let $y,Vy;function yO(){return $y||($y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _O(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U1=new WeakMap,kp=new WeakMap,q1=new WeakMap,Th=new WeakMap,$m=new WeakMap;function bO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(lo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&U1.set(n,t)}).catch(()=>{}),$m.set(e,t),e}function wO(t){if(kp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kp.set(t,e)}let Ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TO(t){Ap=t(Ap)}function EO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eh(this),e,...n);return q1.set(r,e.sort?e.sort():[e]),lo(r)}:_O().includes(t)?function(...e){return t.apply(Eh(this),e),lo(U1.get(this))}:function(...e){return lo(t.apply(Eh(this),e))}}function kO(t){return typeof t=="function"?EO(t):(t instanceof IDBTransaction&&wO(t),vO(t,yO())?new Proxy(t,Ap):t)}function lo(t){if(t instanceof IDBRequest)return bO(t);if(Th.has(t))return Th.get(t);const e=kO(t);return e!==t&&(Th.set(t,e),$m.set(e,t)),e}const Eh=t=>$m.get(t);function H1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=lo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(lo(s.result),l.oldVersion,l.newVersion,lo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const AO=["get","getKey","getAll","getAllKeys","count"],xO=["put","add","delete","clear"],kh=new Map;function Fy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kh.get(e))return kh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AO.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return kh.set(e,o),o}TO(t=>({...t,get:(e,n,r)=>Fy(e,n)||t.get(e,n,r),has:(e,n)=>!!Fy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",jy="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Od("@firebase/app"),RO="@firebase/app-compat",OO="@firebase/analytics-compat",PO="@firebase/analytics",CO="@firebase/app-check-compat",DO="@firebase/app-check",NO="@firebase/auth",MO="@firebase/auth-compat",LO="@firebase/database",$O="@firebase/database-compat",VO="@firebase/functions",FO="@firebase/functions-compat",jO="@firebase/installations",BO="@firebase/installations-compat",UO="@firebase/messaging",qO="@firebase/messaging-compat",HO="@firebase/performance",zO="@firebase/performance-compat",KO="@firebase/remote-config",YO="@firebase/remote-config-compat",WO="@firebase/storage",GO="@firebase/storage-compat",QO="@firebase/firestore",XO="@firebase/firestore-compat",JO="firebase",ZO="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",e2={[xp]:"fire-core",[RO]:"fire-core-compat",[PO]:"fire-analytics",[OO]:"fire-analytics-compat",[DO]:"fire-app-check",[CO]:"fire-app-check-compat",[NO]:"fire-auth",[MO]:"fire-auth-compat",[LO]:"fire-rtdb",[$O]:"fire-rtdb-compat",[VO]:"fire-fn",[FO]:"fire-fn-compat",[jO]:"fire-iid",[BO]:"fire-iid-compat",[UO]:"fire-fcm",[qO]:"fire-fcm-compat",[HO]:"fire-perf",[zO]:"fire-perf-compat",[KO]:"fire-rc",[YO]:"fire-rc-compat",[WO]:"fire-gcs",[GO]:"fire-gcs-compat",[QO]:"fire-fst",[XO]:"fire-fst-compat","fire-js":"fire-js",[JO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,t2=new Map,Sp=new Map;function By(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){const e=t.name;if(Sp.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;Sp.set(e,t);for(const n of Lc.values())By(n,t);for(const n of t2.values())By(n,t);return!0}function xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ps("app","Firebase",n2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=ZO;function z1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw uo.create("bad-app-name",{appName:String(i)});if(n||(n=L1()),!n)throw uo.create("no-options");const o=Lc.get(i);if(o){if(ea(n,o.options)&&ea(r,o.config))return o;throw uo.create("duplicate-app",{appName:i})}const s=new fO(i);for(const l of Sp.values())s.addComponent(l);const a=new r2(n,r,s);return Lc.set(i,a),a}function Pd(t=Ip){const e=Lc.get(t);if(!e&&t===Ip&&L1())return z1();if(!e)throw uo.create("no-app",{appName:t});return e}function Zn(t,e,n){var r;let i=(r=e2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(a.join(" "));return}Lr(new _r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firebase-heartbeat-database",o2=1,Cl="firebase-heartbeat-store";let Ah=null;function K1(){return Ah||(Ah=H1(i2,o2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),Ah}async function s2(t){try{const n=(await K1()).transaction(Cl),r=await n.objectStore(Cl).get(Y1(t));return await n.done,r}catch(e){if(e instanceof br)rs.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function Uy(t,e){try{const r=(await K1()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(e,Y1(t)),await r.done}catch(n){if(n instanceof br)rs.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function Y1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=1024,l2=30*24*60*60*1e3;class u2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=l2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qy(),{heartbeatsToSend:r,unsentEntries:i}=c2(this._heartbeatsCache.heartbeats),o=Mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function qy(){return new Date().toISOString().substring(0,10)}function c2(t,e=a2){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Hy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j1()?B1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hy(t){return Mc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){Lr(new _r("platform-logger",e=>new IO(e),"PRIVATE")),Lr(new _r("heartbeat",e=>new u2(e),"PRIVATE")),Zn(xp,jy,t),Zn(xp,jy,"esm2017"),Zn("fire-js","")}f2("");var h2="firebase",p2="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(h2,p2,"app");const W1="@firebase/installations",Vm="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1e4,Q1=`w:${Vm}`,X1="FIS_v2",m2="https://firebaseinstallations.googleapis.com/v1",g2=60*60*1e3,v2="installations",y2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},is=new ps(v2,y2,_2);function J1(t){return t instanceof br&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1({projectId:t}){return`${m2}/projects/${t}/installations`}function ew(t){return{token:t.token,requestStatus:2,expiresIn:w2(t.expiresIn),creationTime:Date.now()}}async function tw(t,e){const r=(await e.json()).error;return is.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function b2(t,{refreshToken:e}){const n=nw(t);return n.append("Authorization",T2(e)),n}async function rw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function w2(t){return Number(t.replace("s","000"))}function T2(t){return`${X1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Z1(t),i=nw(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:X1,appId:t.appId,sdkVersion:Q1},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await rw(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:ew(u.authToken)}}else throw await tw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=/^[cdef][\w-]{21}$/,Rp="";function x2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=I2(t);return A2.test(n)?n:Rp}catch{return Rp}}function I2(t){return k2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;function sw(t,e){const n=Cd(t);aw(n,e),S2(n,e)}function aw(t,e){const n=ow.get(t);if(n)for(const r of n)r(e)}function S2(t,e){const n=R2();n&&n.postMessage({key:t,fid:e}),O2()}let Ko=null;function R2(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=t=>{aw(t.data.key,t.data.fid)}),Ko}function O2(){ow.size===0&&Ko&&(Ko.close(),Ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="firebase-installations-database",C2=1,os="firebase-installations-store";let xh=null;function Fm(){return xh||(xh=H1(P2,C2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(os)}}})),xh}async function $c(t,e){const n=Cd(t),i=(await Fm()).transaction(os,"readwrite"),o=i.objectStore(os),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&sw(t,e.fid),e}async function lw(t){const e=Cd(t),r=(await Fm()).transaction(os,"readwrite");await r.objectStore(os).delete(e),await r.done}async function Dd(t,e){const n=Cd(t),i=(await Fm()).transaction(os,"readwrite"),o=i.objectStore(os),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&sw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(t){let e;const n=await Dd(t.appConfig,r=>{const i=D2(r),o=N2(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Rp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function D2(t){const e=t||{fid:x2(),registrationStatus:0};return uw(e)}function N2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(is.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=M2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:L2(t)}:{installationEntry:e}}async function M2(t,e){try{const n=await E2(t,e);return $c(t.appConfig,n)}catch(n){throw J1(n)&&n.customData.serverCode===409?await lw(t.appConfig):await $c(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function L2(t){let e=await zy(t.appConfig);for(;e.registrationStatus===1;)await iw(100),e=await zy(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jm(t);return r||n}return e}function zy(t){return Dd(t,e=>{if(!e)throw is.create("installation-not-found");return uw(e)})}function uw(t){return $2(t)?{fid:t.fid,registrationStatus:0}:t}function $2(t){return t.registrationStatus===1&&t.registrationTime+G1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2({appConfig:t,heartbeatServiceProvider:e},n){const r=F2(t,n),i=b2(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:Q1,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await rw(()=>fetch(r,a));if(l.ok){const u=await l.json();return ew(u)}else throw await tw("Generate Auth Token",l)}function F2(t,{fid:e}){return`${Z1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(t,e=!1){let n;const r=await Dd(t.appConfig,o=>{if(!cw(o))throw is.create("not-registered");const s=o.authToken;if(!e&&U2(s))return o;if(s.requestStatus===1)return n=j2(t,e),o;{if(!navigator.onLine)throw is.create("app-offline");const a=H2(o);return n=B2(t,a),a}});return n?await n:r.authToken}async function j2(t,e){let n=await Ky(t.appConfig);for(;n.authToken.requestStatus===1;)await iw(100),n=await Ky(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bm(t,e):r}function Ky(t){return Dd(t,e=>{if(!cw(e))throw is.create("not-registered");const n=e.authToken;return z2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function B2(t,e){try{const n=await V2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await $c(t.appConfig,r),n}catch(n){if(J1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lw(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $c(t.appConfig,r)}throw n}}function cw(t){return t!==void 0&&t.registrationStatus===2}function U2(t){return t.requestStatus===2&&!q2(t)}function q2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+g2}function H2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function z2(t){return t.requestStatus===1&&t.requestTime+G1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(t){const e=t,{installationEntry:n,registrationPromise:r}=await jm(e);return r?r.catch(console.error):Bm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t,e=!1){const n=t;return await W2(n),(await Bm(n,e)).token}async function W2(t){const{registrationPromise:e}=await jm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){if(!t||!t.options)throw Ih("App Configuration");if(!t.name)throw Ih("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ih(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ih(t){return is.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="installations",Q2="installations-internal",X2=t=>{const e=t.getProvider("app").getImmediate(),n=G2(e),r=xo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},J2=t=>{const e=t.getProvider("app").getImmediate(),n=xo(e,dw).getImmediate();return{getId:()=>K2(n),getToken:i=>Y2(n,i)}};function Z2(){Lr(new _r(dw,X2,"PUBLIC")),Lr(new _r(Q2,J2,"PRIVATE"))}Z2();Zn(W1,Vm);Zn(W1,Vm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="analytics",eP="firebase_id",tP="origin",nP=60*1e3,rP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Um="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Od("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cr=new ps("analytics","Analytics",iP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){if(!t.startsWith(Um)){const e=cr.create("invalid-gtag-resource",{gtagURL:t});return er.warn(e.message),""}return t}function fw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function aP(t,e){const n=sP("firebase-js-sdk-policy",{createScriptURL:oP}),r=document.createElement("script"),i=`${Um}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function lP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uP(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await fw(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){er.error(a)}t("config",i,o)}async function cP(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await fw(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){er.error(o)}}function dP(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await cP(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await uP(t,e,n,r,a,l)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,l,u]=s;t("get",a,l,u)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){er.error(a)}}return i}function fP(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=dP(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function hP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Um)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=30,mP=1e3;class gP{constructor(e={},n=mP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hw=new gP;function vP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yP(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:vP(r)},o=rP.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function _P(t,e=hw,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw cr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw cr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TP;return setTimeout(async()=>{a.abort()},nP),pw({appId:r,apiKey:i,measurementId:o},s,a,e)}async function pw(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hw){var o;const{appId:s,measurementId:a}=t;try{await bP(r,e)}catch(l){if(a)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await yP(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!wP(u)){if(i.deleteThrottleMetadata(s),a)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?Ly(n,i.intervalMillis,pP):Ly(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),er.debug(`Calling attemptFetch again in ${c} millis`),pw(t,d,r,i)}}function bP(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wP(t){if(!(t instanceof br)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class TP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EP(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(){if(j1())try{await B1()}catch(t){return er.warn(cr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return er.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AP(t,e,n,r,i,o,s){var a;const l=_P(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>er.error(h)),e.push(l);const u=kP().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);hP(o)||aP(o,c.measurementId),i("js",new Date);const f=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return f[tP]="firebase",f.update=!0,d!=null&&(f[eP]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.app=e}_delete(){return delete fl[this.app.options.appId],Promise.resolve()}}let fl={},Yy=[];const Wy={};let Sh="dataLayer",IP="gtag",Gy,mw,Qy=!1;function SP(){const t=[];if(F1()&&t.push("This is a browser extension environment."),XR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=cr.create("invalid-analytics-context",{errorInfo:e});er.warn(n.message)}}function RP(t,e,n){SP();const r=t.options.appId;if(!r)throw cr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cr.create("no-api-key");if(fl[r]!=null)throw cr.create("already-exists",{id:r});if(!Qy){lP(Sh);const{wrappedGtag:o,gtagCore:s}=fP(fl,Yy,Wy,Sh,IP);mw=o,Gy=s,Qy=!0}return fl[r]=AP(t,Yy,Wy,e,Gy,Sh,n),new xP(t)}function OP(t=Pd()){t=St(t);const e=xo(t,Vc);return e.isInitialized()?e.getImmediate():PP(t)}function PP(t,e={}){const n=xo(t,Vc);if(n.isInitialized()){const i=n.getImmediate();if(ea(e,n.getOptions()))return i;throw cr.create("already-initialized")}return n.initialize({options:e})}function CP(t,e,n,r){t=St(t),EP(mw,fl[t.app.options.appId],e,n,r).catch(i=>er.error(i))}const Xy="@firebase/analytics",Jy="0.10.2";function DP(){Lr(new _r(Vc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return RP(r,i,n)},"PUBLIC")),Lr(new _r("analytics-internal",t,"PRIVATE")),Zn(Xy,Jy),Zn(Xy,Jy,"esm2017");function t(e){try{const n=e.getProvider(Vc).getImmediate();return{logEvent:(r,i,o)=>CP(n,r,i,o)}}catch(n){throw cr.create("interop-component-reg-failed",{reason:n})}}}DP();function qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NP=gw,vw=new ps("auth","Firebase",gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Od("@firebase/auth");function MP(t,...e){Fc.logLevel<=ot.WARN&&Fc.warn(`Auth (${ms}): ${t}`,...e)}function pc(t,...e){Fc.logLevel<=ot.ERROR&&Fc.error(`Auth (${ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw Hm(t,...e)}function si(t,...e){return Hm(t,...e)}function yw(t,e,n){const r=Object.assign(Object.assign({},NP()),{[e]:n});return new ps("auth","Firebase",r).create(e,{appName:t.name})}function co(t){return yw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vw.create(t,...e)}function ze(t,e,...n){if(!t)throw Hm(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pc(e),new Error(e)}function Pi(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LP(){return Zy()==="http:"||Zy()==="https:"}function Zy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LP()||F1()||"connection"in navigator)?navigator.onLine:!0}function VP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=KR()||WR()}get(){return $P()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new ru(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Io(t,e,n,r,i={}){return bw(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=nu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),_w.fetch()(ww(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function bw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FP),e);try{const i=new UP(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ku(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ku(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ku(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yw(t,c,u);$r(t,c)}}catch(i){if(i instanceof br)throw i;$r(t,"network-request-failed",{message:String(i)})}}async function Nd(t,e,n,r,i={}){const o=await Io(t,e,n,r,i);return"mfaPendingCredential"in o&&$r(t,"multi-factor-auth-required",{_serverResponse:o}),o}function ww(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zm(t.config,i):`${t.config.apiScheme}://${i}`}function BP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),jP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=si(t,e,r);return i.customData._tokenResponse=n,i}function e0(t){return t!==void 0&&t.enterprise!==void 0}class qP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HP(t,e){return Io(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){return Io(t,"POST","/v1/accounts:delete",e)}async function Tw(t,e){return Io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KP(t,e=!1){const n=St(t),r=await n.getIdToken(e),i=Km(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hl(Rh(i.auth_time)),issuedAtTime:hl(Rh(i.iat)),expirationTime:hl(Rh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Rh(t){return Number(t)*1e3}function Km(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const i=D1(n);return i?JSON.parse(i):(pc("Failed to decode base64 JWT payload"),null)}catch(i){return pc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t0(t){const e=Km(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof br&&YP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dl(t,Tw(n,{idToken:r}));ze(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ew(o.providerUserInfo):[],a=QP(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function GP(t){const e=St(t);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ew(t){return t.map(e=>{var{providerId:n}=e,r=qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){const n=await bw(t,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ww(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_w.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JP(t,e){return Io(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=t0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await XP(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new zs;return r&&(ze(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ze(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KP(this,e)}reload(){return GP(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(co(this.auth));const e=await this.getIdToken();return await Dl(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:g,isAnonymous:w,providerData:P,stsTokenManager:k}=n;ze(b&&k,e,"internal-error");const S=zs.fromJSON(this.name,k);ze(typeof b=="string",e,"internal-error"),Hi(d,e.name),Hi(f,e.name),ze(typeof g=="boolean",e,"internal-error"),ze(typeof w=="boolean",e,"internal-error"),Hi(h,e.name),Hi(p,e.name),Hi(m,e.name),Hi(_,e.name),Hi(v,e.name),Hi(y,e.name);const D=new Ei({uid:b,auth:e,email:f,emailVerified:g,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:S,createdAt:v,lastLoginAt:y});return P&&Array.isArray(P)&&(D.providerData=P.map(O=>Object.assign({},O))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const o=new Ei({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Ew(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new zs;a.updateFromIdToken(r);const l=new Ei({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;function ki(t){Pi(t instanceof Function,"Expected a class definition");let e=n0.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kw.type="NONE";const r0=kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=mc(this.userKey,i.apiKey,o),this.fullPersistenceKey=mc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ks(ki(r0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ki(r0);const s=mc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Ei._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ks(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ks(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rw(e))return"Blackberry";if(Ow(e))return"Webos";if(Ym(e))return"Safari";if((e.includes("chrome/")||xw(e))&&!e.includes("edge/"))return"Chrome";if(Sw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Aw(t=En()){return/firefox\//i.test(t)}function Ym(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xw(t=En()){return/crios\//i.test(t)}function Iw(t=En()){return/iemobile/i.test(t)}function Sw(t=En()){return/android/i.test(t)}function Rw(t=En()){return/blackberry/i.test(t)}function Ow(t=En()){return/webos/i.test(t)}function Md(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZP(t=En()){var e;return Md(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eC(){return GR()&&document.documentMode===10}function Pw(t=En()){return Md(t)||Sw(t)||Ow(t)||Rw(t)||/windows phone/i.test(t)||Iw(t)}function tC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e=[]){let n;switch(t){case"Browser":n=i0(En());break;case"Worker":n=`${i0(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e={}){return Io(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=6;class oC{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:iC,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new nC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tw(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject(co(this));const n=e?St(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject(co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rC(this),n=new oC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ps("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await JP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wa(t){return St(t)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nO(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(t){Ld=t}function Dw(t){return Ld.loadJS(t)}function lC(){return Ld.recaptchaEnterpriseScript}function uC(){return Ld.gapiScript}function cC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dC="recaptcha-enterprise",fC="NO_RECAPTCHA";class hC{constructor(e){this.type=dC,this.auth=wa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{HP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qP(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;e0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(fC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&e0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=lC();l.length!==0&&(l+=a),Dw(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function s0(t,e,n,r=!1){const i=new hC(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function a0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await s0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await s0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){const n=xo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ea(o,e??{}))return i;$r(i,"already-initialized")}return n.initialize({options:e})}function mC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function gC(t,e,n){const r=wa(t);ze(r._canInitEmulator,r,"emulator-config-failed"),ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Nw(e),{host:s,port:a}=vC(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),yC()}function Nw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vC(t){const e=Nw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:l0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:l0(s)}}}function l0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function _C(t,e){return Io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e){return Nd(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function TC(t,e){return Nd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Wm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,n,"signInWithPassword",bC);case"emailLink":return wC(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,r,"signUpPassword",_C);case"emailLink":return TC(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t,e){return Nd(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="http://localhost";class ss extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=qm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ss(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ys(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ys(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ys(e,n)}buildRequest(){const e={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AC(t){const e=Ga(Qa(t)).link,n=e?Ga(Qa(e)).deep_link_id:null,r=Ga(Qa(t)).deep_link_id;return(r?Ga(Qa(r)).link:null)||r||n||e||t}class Gm{constructor(e){var n,r,i,o,s,a;const l=Ga(Qa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=kC((i=l.mode)!==null&&i!==void 0?i:null);ze(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=AC(e);try{return new Gm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return Nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gm.parseLink(n);return ze(r,"argument-error"),Nl._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Mw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends iu{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends iu{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends iu{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ei._fromIdTokenResponse(e,r,i),s=u0(r);return new ta({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=u0(r);return new ta({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function u0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends br{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bc(e,n,r,i)}}function Lw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(t,o,e,r):o})}async function xC(t,e,n=!1){const r=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e,n=!1){const{auth:r}=t;if(wi(r.app))return Promise.reject(co(r));const i="reauthenticate";try{const o=await Dl(t,Lw(r,i,e,t),n);ze(o.idToken,r,"internal-error");const s=Km(o.idToken);ze(s,r,"internal-error");const{sub:a}=s;return ze(t.uid===a,r,"user-mismatch"),ta._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(t,e,n=!1){if(wi(t.app))return Promise.reject(co(t));const r="signIn",i=await Lw(t,r,e),o=await ta._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function SC(t,e){return $w(wa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t){const e=wa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function OC(t,e,n){return wi(t.app)?Promise.reject(co(t)):SC(St(t),Ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e){return St(t).setPersistence(e)}function PC(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function CC(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function DC(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function c0(t){return St(t).signOut()}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){const t=En();return Ym(t)||Md(t)}const MC=1e3,LC=10;class jw extends Fw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NC()&&tC(),this.fallbackToPolling=Pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);eC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LC):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jw.type="LOCAL";const Qm=jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Fw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bw.type="SESSION";const Uw=Bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await $C(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Xm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function FC(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function jC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UC(){return qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebaseLocalStorageDb",qC=1,qc="firebaseLocalStorage",zw="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([qc],e?"readwrite":"readonly").objectStore(qc)}function HC(){const t=indexedDB.deleteDatabase(Hw);return new ou(t).toPromise()}function Cp(){const t=indexedDB.open(Hw,qC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qc,{keyPath:zw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qc)?e(r):(r.close(),await HC(),e(await Cp()))})})}async function d0(t,e,n){const r=Vd(t,!0).put({[zw]:e,value:n});return new ou(r).toPromise()}async function zC(t,e){const n=Vd(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function f0(t,e){const n=Vd(t,!0).delete(e);return new ou(n).toPromise()}const KC=800,YC=3;class Kw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(UC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jC(),!this.activeServiceWorker)return;this.sender=new VC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cp();return await d0(e,Uc,"1"),await f0(e,Uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Vd(i,!1).getAll();return new ou(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kw.type="LOCAL";const WC=Kw;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e){return e?ki(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ys(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QC(t){return $w(t.auth,new Jm(t),t.bypassAuthState)}function XC(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),IC(n,new Jm(t),t.bypassAuthState)}async function JC(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),xC(n,new Jm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QC;case"linkViaPopup":case"linkViaRedirect":return JC;case"reauthViaPopup":case"reauthViaRedirect":return XC;default:$r(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new ru(2e3,1e4);class $s extends Yw{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZC.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="pendingRedirect",gc=new Map;class tD extends Yw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gc.get(this.auth._key());if(!e){try{const r=await nD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gc.set(this.auth._key(),e)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(t,e){const n=oD(e),r=iD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rD(t,e){gc.set(t._key(),e)}function iD(t){return ki(t._redirectPersistence)}function oD(t){return mc(eD,t.config.apiKey,t.name)}async function sD(t,e,n=!1){if(wi(t.app))return Promise.reject(co(t));const r=wa(t),i=GC(r,e),s=await new tD(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=10*60*1e3;class lD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ww(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aD&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ww({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ww(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e={}){return Io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function hD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cD(t);for(const n of e)try{if(pD(n))return}catch{}$r(t,"unauthorized-domain")}function pD(t){const e=Op(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!fD.test(n))return!1;if(dD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new ru(3e4,6e4);function p0(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gD(t){return new Promise((e,n)=>{var r,i,o;function s(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),n(si(t,"network-request-failed"))},timeout:mD.get()})}if(!((i=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)s();else{const a=cC("iframefcb");return ai()[a]=()=>{gapi.load?s():n(si(t,"network-request-failed"))},Dw(`${uC()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vc=null,e})}let vc=null;function vD(t){return vc=vc||gD(t),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new ru(5e3,15e3),_D="__/auth/iframe",bD="emulator/auth/iframe",wD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zm(e,bD):`https://${t.config.authDomain}/${_D}`,r={apiKey:e.apiKey,appName:t.name,v:ms},i=TD.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${nu(r).slice(1)}`}async function kD(t){const e=await vD(t),n=ai().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:ED(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=si(t,"network-request-failed"),a=ai().setTimeout(()=>{o(s)},yD.get());function l(){ai().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xD=500,ID=600,SD="_blank",RD="http://localhost";class m0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OD(t,e,n,r=xD,i=ID){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},AD),{width:r.toString(),height:i.toString(),top:o,left:s}),u=En().toLowerCase();n&&(a=xw(u)?SD:n),Aw(u)&&(e=e||RD,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(ZP(u)&&a!=="_self")return PD(e||"",a),new m0(null);const d=window.open(e||"",a,c);ze(d,t,"popup-blocked");try{d.focus()}catch{}return new m0(d)}function PD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__/auth/handler",DD="emulator/auth/handler",ND=encodeURIComponent("fac");async function g0(t,e,n,r,i,o){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ms,eventId:i};if(e instanceof Mw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",tO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof iu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${ND}=${encodeURIComponent(l)}`:"";return`${MD(t)}?${nu(a).slice(1)}${u}`}function MD({config:t}){return t.emulator?zm(t,DD):`https://${t.authDomain}/${CD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="webStorageSupport";class LD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uw,this._completeRedirectFn=sD,this._overrideRedirectResult=rD}async _openPopup(e,n,r,i){var o;Pi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await g0(e,n,r,Op(),i);return OD(e,s,Xm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await g0(e,n,r,Op(),i);return FC(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kD(e),r=new lD(e);return n.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Oh,{type:Oh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Oh];s!==void 0&&n(!!s),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pw()||Ym()||Md()}}const $D=LD;var v0="@firebase/auth",y0="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jD(t){Lr(new _r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ze(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cw(t)},u=new sC(r,i,o,l);return mC(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new _r("auth-internal",e=>{const n=wa(e.getProvider("auth").getImmediate());return(r=>new VD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(v0,y0,FD(t)),Zn(v0,y0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=5*60,UD=$1("authIdTokenMaxAge")||BD;let _0=null;const qD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UD)return;const i=n==null?void 0:n.token;_0!==i&&(_0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function HD(t=Pd()){const e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pC(t,{popupRedirectResolver:$D,persistence:[WC,Qm,Uw]}),r=$1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=qD(o.toString());CC(n,s,()=>s(n.currentUser)),PC(n,a=>s(a))}}const i=N1("auth");return i&&gC(n,`http://${i}`),n}function zD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=si("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",zD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jD("Browser");var KD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe,Zm=Zm||{},Ye=KD||self;function Fd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function YD(t){return Object.prototype.hasOwnProperty.call(t,Ph)&&t[Ph]||(t[Ph]=++WD)}var Ph="closure_uid_"+(1e9*Math.random()>>>0),WD=0;function GD(t,e,n){return t.call.apply(t.bind,arguments)}function QD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nn=GD:Nn=QD,Nn.apply(null,arguments)}function Yu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function So(){this.s=this.s,this.o=this.o}var XD=0;So.prototype.s=!1;So.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),XD!=0)&&YD(this)};So.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function eg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function b0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Fd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Mn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Mn.prototype.h=function(){this.defaultPrevented=!0};var JD=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ye.addEventListener("test",n,e),Ye.removeEventListener("test",n,e)}catch{}return t}();function Ml(t){return/^[\s\xa0]*$/.test(t)}function Bd(){var t=Ye.navigator;return t&&(t=t.userAgent)?t:""}function Jr(t){return Bd().indexOf(t)!=-1}function tg(t){return tg[" "](t),t}tg[" "]=function(){};function ZD(t,e){var n=KN;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var eN=Jr("Opera"),na=Jr("Trident")||Jr("MSIE"),Qw=Jr("Edge"),Dp=Qw||na,Xw=Jr("Gecko")&&!(Bd().toLowerCase().indexOf("webkit")!=-1&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),tN=Bd().toLowerCase().indexOf("webkit")!=-1&&!Jr("Edge");function Jw(){var t=Ye.document;return t?t.documentMode:void 0}var Np;e:{var Ch="",Dh=function(){var t=Bd();if(Xw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Qw)return/Edge\/([\d\.]+)/.exec(t);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tN)return/WebKit\/(\S+)/.exec(t);if(eN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Dh&&(Ch=Dh?Dh[1]:""),na){var Nh=Jw();if(Nh!=null&&Nh>parseFloat(Ch)){Np=String(Nh);break e}}Np=Ch}var Mp;if(Ye.document&&na){var w0=Jw();Mp=w0||parseInt(Np,10)||void 0}else Mp=void 0;var nN=Mp;function Ll(t,e){if(Mn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Xw){e:{try{tg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ll.$.h.call(this)}}dn(Ll,Mn);var rN={2:"touch",3:"pen",4:"mouse"};Ll.prototype.h=function(){Ll.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ud="closure_listenable_"+(1e6*Math.random()|0),iN=0;function oN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++iN,this.fa=this.ia=!1}function qd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ng(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Zw(t){const e={};for(const n in t)e[n]=t[n];return e}const T0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<T0.length;o++)n=T0[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hd(t){this.src=t,this.g={},this.h=0}Hd.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=$p(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new oN(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Lp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Gw(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(qd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $p(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var rg="closure_lm_"+(1e6*Math.random()|0),Mh={};function tT(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tT(t,e[o],n,r,i);return null}return n=iT(n),t&&t[Ud]?t.O(e,n,jd(r)?!!r.capture:!!r,i):aN(t,e,n,!1,r,i)}function aN(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=jd(i)?!!i.capture:!!i,a=og(t);if(a||(t[rg]=a=new Hd(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=lN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)JD||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lN(){function t(n){return e.call(t.src,t.listener,n)}const e=uN;return t}function nT(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nT(t,e[o],n,r,i);else r=jd(r)?!!r.capture:!!r,n=iT(n),t&&t[Ud]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=$p(o,n,r,i),-1<n&&(qd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=og(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$p(e,n,r,i)),(n=-1<t?e[t]:null)&&ig(n))}function ig(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ud])Lp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=og(e))?(Lp(n,t),n.h==0&&(n.src=null,e[rg]=null)):qd(t)}}}function rT(t){return t in Mh?Mh[t]:Mh[t]="on"+t}function uN(t,e){if(t.fa)t=!0;else{e=new Ll(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ig(t),t=n.call(r,e)}return t}function og(t){return t=t[rg],t instanceof Hd?t:null}var Lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function iT(t){return typeof t=="function"?t:(t[Lh]||(t[Lh]=function(e){return t.handleEvent(e)}),t[Lh])}function cn(){So.call(this),this.i=new Hd(this),this.S=this,this.J=null}dn(cn,So);cn.prototype[Ud]=!0;cn.prototype.removeEventListener=function(t,e,n,r){nT(this,t,e,n,r)};function bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Mn(e,t);else if(e instanceof Mn)e.target=e.target||t;else{var i=e;e=new Mn(r,t),eT(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Wu(s,r,!0,e)&&i}if(s=e.g=t,i=Wu(s,r,!0,e)&&i,i=Wu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Wu(s,r,!1,e)&&i}cn.prototype.N=function(){if(cn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qd(n[r]);delete t.g[e],t.h--}}this.J=null};cn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};cn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Lp(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var sg=Ye.JSON.stringify;class cN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function dN(){var t=ag;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class fN{constructor(){this.h=this.g=null}add(e,n){const r=oT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oT=new cN(()=>new hN,t=>t.reset());class hN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pN(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function mN(t){Ye.setTimeout(()=>{throw t},0)}let $l,Vl=!1,ag=new fN,sT=()=>{const t=Ye.Promise.resolve(void 0);$l=()=>{t.then(gN)}};var gN=()=>{for(var t;t=dN();){try{t.h.call(t.g)}catch(n){mN(n)}var e=oT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vl=!1};function zd(t,e){cn.call(this),this.h=t||1,this.g=e||Ye,this.j=Nn(this.qb,this),this.l=Date.now()}dn(zd,cn);Oe=zd.prototype;Oe.ga=!1;Oe.T=null;Oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bn(this,"tick"),this.ga&&(lg(this),this.start()))}};Oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Oe.N=function(){zd.$.N.call(this),lg(this),delete this.g};function ug(t,e,n){if(typeof t=="function")n&&(t=Nn(t,n));else if(t&&typeof t.handleEvent=="function")t=Nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function aT(t){t.g=ug(()=>{t.g=null,t.i&&(t.i=!1,aT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vN extends So{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aT(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fl(t){So.call(this),this.h=t,this.g={}}dn(Fl,So);var E0=[];function lT(t,e,n,r){Array.isArray(n)||(n&&(E0[0]=n.toString()),n=E0);for(var i=0;i<n.length;i++){var o=tT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function uT(t){ng(t.g,function(e,n){this.g.hasOwnProperty(n)&&ig(e)},t),t.g={}}Fl.prototype.N=function(){Fl.$.N.call(this),uT(this)};Fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kd(){this.g=!0}Kd.prototype.Ea=function(){this.g=!1};function yN(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function _N(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Vs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wN(t,n)+(r?" "+r:"")})}function bN(t,e){t.info(function(){return"TIMEOUT: "+e})}Kd.prototype.info=function(){};function wN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return sg(n)}catch{return e}}var vs={},k0=null;function Yd(){return k0=k0||new cn}vs.Ta="serverreachability";function cT(t){Mn.call(this,vs.Ta,t)}dn(cT,Mn);function jl(t){const e=Yd();bn(e,new cT(e))}vs.STAT_EVENT="statevent";function dT(t,e){Mn.call(this,vs.STAT_EVENT,t),this.stat=e}dn(dT,Mn);function Hn(t){const e=Yd();bn(e,new dT(e,t))}vs.Ua="timingevent";function fT(t,e){Mn.call(this,vs.Ua,t),this.size=e}dn(fT,Mn);function su(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}var Wd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cg(){}cg.prototype.h=null;function A0(t){return t.h||(t.h=t.i())}function pT(){}var au={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dg(){Mn.call(this,"d")}dn(dg,Mn);function fg(){Mn.call(this,"c")}dn(fg,Mn);var Vp;function Gd(){}dn(Gd,cg);Gd.prototype.g=function(){return new XMLHttpRequest};Gd.prototype.i=function(){return{}};Vp=new Gd;function lu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fl(this),this.P=TN,t=Dp?125:void 0,this.V=new zd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mT}function mT(){this.i=null,this.g="",this.h=!1}var TN=45e3,gT={},Fp={};Oe=lu.prototype;Oe.setTimeout=function(t){this.P=t};function jp(t,e,n){t.L=1,t.A=Xd(Ci(e)),t.u=n,t.S=!0,vT(t,null)}function vT(t,e){t.G=Date.now(),uu(t),t.B=Ci(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),AT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new mT,t.g=KT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vN(Nn(t.Pa,t,t.g),t.O)),lT(t.U,t.g,"readystatechange",t.nb),e=t.I?Zw(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),jl(),yN(t.j,t.v,t.B,t.m,t.W,t.u)}Oe.nb=function(t){t=t.target;const e=this.M;e&&ti(t)==3?e.l():this.Pa(t)};Oe.Pa=function(t){try{if(t==this.g)e:{const c=ti(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Dp||this.g&&(this.h.h||this.g.ja()||R0(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?jl(3):jl(2)),Qd(this);var n=this.g.da();this.ca=n;t:if(yT(this)){var r=R0(this.g);t="";var i=r.length,o=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),pl(this);var s="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,_N(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ml(a)){var u=a;break t}}u=null}if(n=u)Vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bp(this,n);else{this.i=!1,this.s=3,Hn(12),Yo(this),pl(this);break e}}this.S?(_T(this,c,s),Dp&&this.i&&c==3&&(lT(this.U,this.V,"tick",this.mb),this.V.start())):(Vs(this.j,this.m,s,null),Bp(this,s)),c==4&&Yo(this),this.i&&!this.J&&(c==4?UT(this.l,this):(this.i=!1,uu(this)))}else qN(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),Yo(this),pl(this)}}}catch{}finally{}};function yT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function _T(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=EN(t,n),i==Fp){e==4&&(t.s=4,Hn(14),r=!1),Vs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==gT){t.s=4,Hn(15),Vs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Vs(t.j,t.m,i,null),Bp(t,i);yT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yg(e),e.M=!0,Hn(11))):(Vs(t.j,t.m,n,"[Invalid Chunked Response]"),Yo(t),pl(t))}Oe.mb=function(){if(this.g){var t=ti(this.g),e=this.g.ja();this.o<e.length&&(Qd(this),_T(this,t,e),this.i&&t!=4&&uu(this))}};function EN(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Fp:(n=Number(e.substring(n,r)),isNaN(n)?gT:(r+=1,r+n>e.length?Fp:(e=e.slice(r,r+n),t.o=r+n,e)))}Oe.cancel=function(){this.J=!0,Yo(this)};function uu(t){t.Y=Date.now()+t.P,bT(t,t.P)}function bT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=su(Nn(t.lb,t),e)}function Qd(t){t.C&&(Ye.clearTimeout(t.C),t.C=null)}Oe.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(bN(this.j,this.B),this.L!=2&&(jl(),Hn(17)),Yo(this),this.s=2,pl(this)):bT(this,this.Y-t)};function pl(t){t.l.H==0||t.J||UT(t.l,t)}function Yo(t){Qd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lg(t.V),uT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Bp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Up(n.i,t))){if(!t.K&&Up(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Kc(n),ef(n);else break e;vg(n),Hn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=su(Nn(n.ib,n),6e3));if(1>=ST(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wo(n,11)}else if((t.K||n.g==t)&&Kc(n),!Ml(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(hg(o,o.h),o.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,xt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=zT(r,r.J?r.pa:null,r.Y),s.K){RT(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Qd(a),uu(a)),r.g=s}else jT(r);0<n.j.length&&tf(n)}else u[0]!="stop"&&u[0]!="close"||Wo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Wo(n,7):gg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}jl(4)}catch{}}function kN(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Fd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function AN(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function wT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Fd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=AN(t),r=kN(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var TT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zo){this.h=t.h,Hc(this,t.j),this.s=t.s,this.g=t.g,zc(this,t.m),this.l=t.l;var e=t.i,n=new Bl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),x0(this,n),this.o=t.o}else t&&(e=String(t).match(TT))?(this.h=!1,Hc(this,e[1]||"",!0),this.s=Xa(e[2]||""),this.g=Xa(e[3]||"",!0),zc(this,e[4]),this.l=Xa(e[5]||"",!0),x0(this,e[6]||"",!0),this.o=Xa(e[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}Zo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ja(e,I0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ja(e,I0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ja(n,n.charAt(0)=="/"?RN:SN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ja(n,PN)),t.join("")};function Ci(t){return new Zo(t)}function Hc(t,e,n){t.j=n?Xa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function x0(t,e,n){e instanceof Bl?(t.i=e,CN(t.i,t.h)):(n||(e=Ja(e,ON)),t.i=new Bl(e,t.h))}function xt(t,e,n){t.i.set(e,n)}function Xd(t){return xt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ja(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var I0=/[#\/\?@]/g,SN=/[#\?:]/g,RN=/[#\?]/g,ON=/[#\?@]/g,PN=/#/g;function Bl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ro(t){t.g||(t.g=new Map,t.h=0,t.i&&xN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Oe=Bl.prototype;Oe.add=function(t,e){Ro(this),this.i=null,t=Ea(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ET(t,e){Ro(t),e=Ea(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kT(t,e){return Ro(t),e=Ea(t,e),t.g.has(e)}Oe.forEach=function(t,e){Ro(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Oe.ta=function(){Ro(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Oe.Z=function(t){Ro(this);let e=[];if(typeof t=="string")kT(this,t)&&(e=e.concat(this.g.get(Ea(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Oe.set=function(t,e){return Ro(this),this.i=null,t=Ea(this,t),kT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function AT(t,e,n){ET(t,e),0<n.length&&(t.i=null,t.g.set(Ea(t,e),eg(n)),t.h+=n.length)}Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Ea(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function CN(t,e){e&&!t.j&&(Ro(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ET(this,r),AT(this,i,n))},t)),t.j=e}var DN=class{constructor(t,e){this.g=t,this.map=e}};function xT(t){this.l=t||NN,Ye.PerformanceNavigationTiming?(t=Ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NN=10;function IT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ST(t){return t.h?1:t.g?t.g.size:0}function Up(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hg(t,e){t.g?t.g.add(e):t.h=e}function RT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xT.prototype.cancel=function(){if(this.i=OT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return eg(t.i)}var MN=class{stringify(t){return Ye.JSON.stringify(t,void 0)}parse(t){return Ye.JSON.parse(t,void 0)}};function LN(){this.g=new MN}function $N(t,e,n){const r=n||"";try{wT(t,function(i,o){let s=i;jd(i)&&(s=sg(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function VN(t,e){const n=new Kd;if(Ye.Image){const r=new Image;r.onload=Yu(Gu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yu(Gu,n,r,"TestLoadImage: error",!1,e),r.onabort=Yu(Gu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yu(Gu,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cu(t){this.l=t.ec||null,this.j=t.ob||!1}dn(cu,cg);cu.prototype.g=function(){return new Jd(this.l,this.j)};cu.prototype.i=function(t){return function(){return t}}({});function Jd(t,e){cn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dn(Jd,cn);var pg=0;Oe=Jd.prototype;Oe.open=function(t,e){if(this.readyState!=pg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ul(this)};Oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,du(this)),this.readyState=pg};Oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function PT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?du(this):Ul(this),this.readyState==3&&PT(this)}};Oe.Za=function(t){this.g&&(this.response=this.responseText=t,du(this))};Oe.Ya=function(t){this.g&&(this.response=t,du(this))};Oe.ka=function(){this.g&&du(this)};function du(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ul(t)}Oe.setRequestHeader=function(t,e){this.v.append(t,e)};Oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ul(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FN=Ye.JSON.parse;function Mt(t){cn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CT,this.L=this.M=!1}dn(Mt,cn);var CT="",jN=/^https?$/i,BN=["POST","PUT"];Oe=Mt.prototype;Oe.Oa=function(t){this.M=t};Oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vp.g(),this.C=this.u?A0(this.u):A0(Vp),this.g.onreadystatechange=Nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){S0(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Ye.FormData&&t instanceof Ye.FormData,!(0<=Gw(BN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MT(this),0<this.B&&((this.L=UN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nn(this.ua,this)):this.A=ug(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){S0(this,o)}};function UN(t){return na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Oe.ua=function(){typeof Zm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bn(this,"timeout"),this.abort(8))};function S0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DT(t),Zd(t)}function DT(t){t.F||(t.F=!0,bn(t,"complete"),bn(t,"error"))}Oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bn(this,"complete"),bn(this,"abort"),Zd(this))};Oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zd(this,!0)),Mt.$.N.call(this)};Oe.La=function(){this.s||(this.G||this.v||this.l?NT(this):this.kb())};Oe.kb=function(){NT(this)};function NT(t){if(t.h&&typeof Zm<"u"&&(!t.C[1]||ti(t)!=4||t.da()!=2)){if(t.v&&ti(t)==4)ug(t.La,0,t);else if(bn(t,"readystatechange"),ti(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(TT)[1]||null;!i&&Ye.self&&Ye.self.location&&(i=Ye.self.location.protocol.slice(0,-1)),r=!jN.test(i?i.toLowerCase():"")}n=r}if(n)bn(t,"complete"),bn(t,"success");else{t.m=6;try{var o=2<ti(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",DT(t)}}finally{Zd(t)}}}}function Zd(t,e){if(t.g){MT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function MT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}Oe.isActive=function(){return!!this.g};function ti(t){return t.g?t.g.readyState:0}Oe.da=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}};Oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FN(e)}};function R0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qN(t){const e={};t=(t.g&&2<=ti(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ml(t[r]))continue;var n=pN(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}sN(e,function(r){return r.join(", ")})}Oe.Ia=function(){return this.m};Oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function LT(t){let e="";return ng(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xt(t,e,n))}function ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $T(t){this.Ga=0,this.j=[],this.l=new Kd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ja("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ja("baseRetryDelayMs",5e3,t),this.hb=ja("retryDelaySeedMs",1e4,t),this.eb=ja("forwardChannelMaxRetries",2,t),this.xa=ja("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new xT(t&&t.concurrentRequestLimit),this.Ja=new LN,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Oe=$T.prototype;Oe.ra=8;Oe.H=1;function gg(t){if(VT(t),t.H==3){var e=t.W++,n=Ci(t.I);if(xt(n,"SID",t.K),xt(n,"RID",e),xt(n,"TYPE","terminate"),fu(t,n),e=new lu(t,t.l,e),e.L=2,e.A=Xd(Ci(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{n=Ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=KT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),uu(e)}HT(t)}function ef(t){t.g&&(yg(t),t.g.cancel(),t.g=null)}function VT(t){ef(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),Kc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ye.clearTimeout(t.m),t.m=null)}function tf(t){if(!IT(t.i)&&!t.m){t.m=!0;var e=t.Na;$l||sT(),Vl||($l(),Vl=!0),ag.add(e,t),t.C=0}}function HN(t,e){return ST(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=su(Nn(t.Na,t,e),qT(t,t.C)),t.C++,!0)}Oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Zw(o),eT(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=FT(this,i,e),n=Ci(this.I),xt(n,"RID",t),xt(n,"CVER",22),this.F&&xt(n,"X-HTTP-Session-Id",this.F),fu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(LT(o)))+"&"+e:this.o&&mg(n,this.o,o)),hg(this.i,i),this.bb&&xt(n,"TYPE","init"),this.P?(xt(n,"$req",e),xt(n,"SID","null"),i.aa=!0,jp(i,n,null)):jp(i,n,e),this.H=2}}else this.H==3&&(t?O0(this,t):this.j.length==0||IT(this.i)||O0(this))};function O0(t,e){var n;e?n=e.m:n=t.W++;const r=Ci(t.I);xt(r,"SID",t.K),xt(r,"RID",n),xt(r,"AID",t.V),fu(t,r),t.o&&t.s&&mg(r,t.o,t.s),n=new lu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=FT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hg(t.i,n),jp(n,r,e)}function fu(t,e){t.na&&ng(t.na,function(n,r){xt(e,r,n)}),t.h&&wT({},function(n,r){xt(e,r,n)})}function FT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{$N(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function jT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$l||sT(),Vl||($l(),Vl=!0),ag.add(e,t),t.A=0}}function vg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=su(Nn(t.Ma,t),qT(t,t.A)),t.A++,!0)}Oe.Ma=function(){if(this.u=null,BT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=su(Nn(this.jb,this),t)}};Oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),ef(this),BT(this))};function yg(t){t.B!=null&&(Ye.clearTimeout(t.B),t.B=null)}function BT(t){t.g=new lu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ci(t.wa);xt(e,"RID","rpc"),xt(e,"SID",t.K),xt(e,"AID",t.V),xt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xt(e,"TO",t.qa),xt(e,"TYPE","xmlhttp"),fu(t,e),t.o&&t.s&&mg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Xd(Ci(e)),n.u=null,n.S=!0,vT(n,t)}Oe.ib=function(){this.v!=null&&(this.v=null,ef(this),vg(this),Hn(19))};function Kc(t){t.v!=null&&(Ye.clearTimeout(t.v),t.v=null)}function UT(t,e){var n=null;if(t.g==e){Kc(t),yg(t),t.g=null;var r=2}else if(Up(t.i,e))n=e.F,RT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Yd(),bn(r,new fT(r,n)),tf(t)}else jT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&HN(t,e)||r==2&&vg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wo(t,5);break;case 4:Wo(t,10);break;case 3:Wo(t,6);break;default:Wo(t,2)}}}function qT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nn(t.pb,t);n||(n=new Zo("//www.google.com/images/cleardot.gif"),Ye.location&&Ye.location.protocol=="http"||Hc(n,"https"),Xd(n)),VN(n.toString(),r)}else Hn(2);t.H=0,t.h&&t.h.za(e),HT(t),VT(t)}Oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))};function HT(t){if(t.H=0,t.ma=[],t.h){const e=OT(t.i);(e.length!=0||t.j.length!=0)&&(b0(t.ma,e),b0(t.ma,t.j),t.i.i.length=0,eg(t.j),t.j.length=0),t.h.ya()}}function zT(t,e,n){var r=n instanceof Zo?Ci(n):new Zo(n);if(r.g!="")e&&(r.g=e+"."+r.g),zc(r,r.m);else{var i=Ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Zo(null);r&&Hc(o,r),e&&(o.g=e),i&&zc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&xt(r,n,e),xt(r,"VER",t.ra),fu(t,r),r}function KT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Mt(new cu({ob:n})):new Mt(t.va),e.Oa(t.J),e}Oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function YT(){}Oe=YT.prototype;Oe.Ba=function(){};Oe.Aa=function(){};Oe.za=function(){};Oe.ya=function(){};Oe.isActive=function(){return!0};Oe.Va=function(){};function Yc(){if(na&&!(10<=Number(nN)))throw Error("Environmental error: no available transport.")}Yc.prototype.g=function(t,e){return new fr(t,e)};function fr(t,e){cn.call(this),this.g=new $T(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ml(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ml(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ka(this)}dn(fr,cn);fr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=zT(t,null,t.Y),tf(t)};fr.prototype.close=function(){gg(this.g)};fr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sg(t),t=n);e.j.push(new DN(e.fb++,t)),e.H==3&&tf(e)};fr.prototype.N=function(){this.g.h=null,delete this.j,gg(this.g),delete this.g,fr.$.N.call(this)};function WT(t){dg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dn(WT,dg);function GT(){fg.call(this),this.status=1}dn(GT,fg);function ka(t){this.g=t}dn(ka,YT);ka.prototype.Ba=function(){bn(this.g,"a")};ka.prototype.Aa=function(t){bn(this.g,new WT(t))};ka.prototype.za=function(t){bn(this.g,new GT)};ka.prototype.ya=function(){bn(this.g,"b")};function zN(){this.blockSize=-1}function Vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dn(Vr,zN);Vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $h(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Vr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)$h(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){$h(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){$h(this,r),i=0;break}}this.h=i,this.i+=e};Vr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function yt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var KN={};function _g(t){return-128<=t&&128>t?ZD(t,function(e){return new yt([e|0],0>e?-1:0)}):new yt([t|0],0>t?-1:0)}function ni(t){if(isNaN(t)||!isFinite(t))return Ws;if(0>t)return gn(ni(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qp;return new yt(e,0)}function QT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return gn(QT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ni(Math.pow(e,8)),r=Ws,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ni(Math.pow(e,o)),r=r.R(o).add(ni(s))):(r=r.R(n),r=r.add(ni(s)))}return r}var qp=4294967296,Ws=_g(0),Hp=_g(1),P0=_g(16777216);Oe=yt.prototype;Oe.ea=function(){if(mr(this))return-gn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qp+r)*e,e*=qp}return t};Oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ai(this))return"0";if(mr(this))return"-"+gn(this).toString(t);for(var e=ni(Math.pow(t,6)),n=this,r="";;){var i=Gc(n,e).g;n=Wc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ai(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ai(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function mr(t){return t.h==-1}Oe.X=function(t){return t=Wc(this,t),mr(t)?-1:Ai(t)?0:1};function gn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new yt(n,~t.h).add(Hp)}Oe.abs=function(){return mr(this)?gn(this):this};Oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new yt(n,n[n.length-1]&-2147483648?-1:0)};function Wc(t,e){return t.add(gn(e))}Oe.R=function(t){if(Ai(this)||Ai(t))return Ws;if(mr(this))return mr(t)?gn(this).R(gn(t)):gn(gn(this).R(t));if(mr(t))return gn(this.R(gn(t)));if(0>this.X(P0)&&0>t.X(P0))return ni(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Qu(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Qu(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Qu(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Qu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new yt(n,0)};function Qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ba(t,e){this.g=t,this.h=e}function Gc(t,e){if(Ai(e))throw Error("division by zero");if(Ai(t))return new Ba(Ws,Ws);if(mr(t))return e=Gc(gn(t),e),new Ba(gn(e.g),gn(e.h));if(mr(e))return e=Gc(t,gn(e)),new Ba(gn(e.g),e.h);if(30<t.g.length){if(mr(t)||mr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Hp,r=e;0>=r.X(t);)n=C0(n),r=C0(r);var i=Ss(n,1),o=Ss(r,1);for(r=Ss(r,2),n=Ss(n,2);!Ai(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ss(r,1),n=Ss(n,1)}return e=Wc(t,i.R(e)),new Ba(i,e)}for(i=Ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=ni(n),s=o.R(e);mr(s)||0<s.X(t);)n-=r,o=ni(n),s=o.R(e);Ai(o)&&(o=Hp),i=i.add(o),t=Wc(t,s)}return new Ba(i,t)}Oe.gb=function(t){return Gc(this,t).h};Oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new yt(n,this.h&t.h)};Oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new yt(n,this.h|t.h)};Oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new yt(n,this.h^t.h)};function C0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new yt(n,t.h)}function Ss(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new yt(i,t.h)}Yc.prototype.createWebChannel=Yc.prototype.g;fr.prototype.send=fr.prototype.u;fr.prototype.open=fr.prototype.m;fr.prototype.close=fr.prototype.close;Wd.NO_ERROR=0;Wd.TIMEOUT=8;Wd.HTTP_ERROR=6;hT.COMPLETE="complete";pT.EventType=au;au.OPEN="a";au.CLOSE="b";au.ERROR="c";au.MESSAGE="d";cn.prototype.listen=cn.prototype.O;Mt.prototype.listenOnce=Mt.prototype.P;Mt.prototype.getLastError=Mt.prototype.Sa;Mt.prototype.getLastErrorCode=Mt.prototype.Ia;Mt.prototype.getStatus=Mt.prototype.da;Mt.prototype.getResponseJson=Mt.prototype.Wa;Mt.prototype.getResponseText=Mt.prototype.ja;Mt.prototype.send=Mt.prototype.ha;Mt.prototype.setWithCredentials=Mt.prototype.Oa;Vr.prototype.digest=Vr.prototype.l;Vr.prototype.reset=Vr.prototype.reset;Vr.prototype.update=Vr.prototype.j;yt.prototype.add=yt.prototype.add;yt.prototype.multiply=yt.prototype.R;yt.prototype.modulo=yt.prototype.gb;yt.prototype.compare=yt.prototype.X;yt.prototype.toNumber=yt.prototype.ea;yt.prototype.toString=yt.prototype.toString;yt.prototype.getBits=yt.prototype.D;yt.fromNumber=ni;yt.fromString=QT;var YN=function(){return new Yc},WN=function(){return Yd()},Vh=Wd,GN=hT,QN=vs,D0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},XN=cu,Xu=pT,JN=Mt,ZN=Vr,Gs=yt;const N0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Od("@firebase/firestore");function Ua(){return as.logLevel}function Ne(t,...e){if(as.logLevel<=ot.DEBUG){const n=e.map(bg);as.debug(`Firestore (${Aa}): ${t}`,...n)}}function Di(t,...e){if(as.logLevel<=ot.ERROR){const n=e.map(bg);as.error(`Firestore (${Aa}): ${t}`,...n)}}function ra(t,...e){if(as.logLevel<=ot.WARN){const n=e.map(bg);as.warn(`Firestore (${Aa}): ${t}`,...n)}}function bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function Et(t,e){t||Ke()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class tM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nM{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ri,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ri)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new XT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Rn(e)}}class rM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new oM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.timestamp=e}static fromTimestamp(e){return new We(e)}static min(){return new We(new nn(0,0))}static max(){return new We(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class It extends ql{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const lM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ql{construct(e,n,r){return new yn(e,n,r)}static isValidIdentifier(e){return lM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Fe(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Fe(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(It.fromString(e))}static fromName(e){return new qe(It.fromString(e).popFirst(5))}static empty(){return new qe(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new It(e.slice()))}}function uM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new _o(i,qe.empty(),e)}function cM(t){return new _o(t.readTime,t.key,-1)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(We.min(),qe.empty(),-1)}static max(){return new _o(We.max(),qe.empty(),-1)}}function dM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==fM)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.reject(n)}static resolve(e){return new Ae((n,r)=>{n(e)})}static reject(e){return new Ae((n,r)=>{r(e)})}static waitFor(e){return new Ae((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next(i=>i?Ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ae((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Ae((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function pM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wg.oe=-1;function nf(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function mM(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??mn.RED,this.left=i??mn.EMPTY,this.right=o??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new mn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,i,o){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new wn(yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eE("Invalid base64 string: "+o):o}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(Et(!!t),typeof t=="string"){let e=0;const n=gM.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Eg(t){const e=t.mapValue.fields.__previous_value__;return Tg(e)?Eg(e):e}function Hl(t){const e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tg(t)?4:yM(t)?9007199254740991:10:Ke()}function fi(t,e){if(t===e)return!0;const n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=bo(i.timestampValue),a=bo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ls(i.bytesValue).isEqual(ls(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Wt(i.geoPointValue.latitude)===Wt(o.geoPointValue.latitude)&&Wt(i.geoPointValue.longitude)===Wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Wt(i.integerValue)===Wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Wt(i.doubleValue),a=Wt(o.doubleValue);return s===a?Qc(s)===Qc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(M0(s)!==M0(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!fi(s[l],a[l])))return!1;return!0}(t,e);default:return Ke()}}function Kl(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function oa(t,e){if(t===e)return 0;const n=us(t),r=us(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Wt(o.integerValue||o.doubleValue),l=Wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $0(t.timestampValue,e.timestampValue);case 4:return $0(Hl(t),Hl(e));case 5:return dt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ls(o),l=ls(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=dt(a[u],l[u]);if(c!==0)return c}return dt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=dt(Wt(o.latitude),Wt(s.latitude));return a!==0?a:dt(Wt(o.longitude),Wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=oa(a[u],l[u]);if(c)return c}return dt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Zu.mapValue&&s===Zu.mapValue)return 0;if(o===Zu.mapValue)return 1;if(s===Zu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=dt(l[d],c[d]);if(f!==0)return f;const h=oa(a[l[d]],u[c[d]]);if(h!==0)return h}return dt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function $0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=bo(t),r=bo(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function sa(t){return zp(t)}function zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=zp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${zp(n.fields[s])}`;return i+"}"}(t.mapValue):Ke()}function Kp(t){return!!t&&"integerValue"in t}function kg(t){return!!t&&"arrayValue"in t}function V0(t){return!!t&&"nullValue"in t}function F0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yc(t){return!!t&&"mapValue"in t}function ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(n)}setAll(e){let n=yn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ml(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ys(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xn(ml(this.value))}}function tE(t){const e=[];return ys(t.fields,(n,r)=>{const i=new yn([n]);if(yc(r)){const o=tE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Pn(e,0,We.min(),We.min(),We.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,We.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,We.min(),We.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,We.min(),We.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function j0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(s.referenceValue),n.key):r=oa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function B0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _M(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{}class Jt extends nE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wM(e,n,r):n==="array-contains"?new kM(e,r):n==="in"?new AM(e,r):n==="not-in"?new xM(e,r):n==="array-contains-any"?new IM(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TM(e,r):new EM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oa(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends nE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hi(e,n)}matches(e){return rE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rE(t){return t.op==="and"}function iE(t){return bM(t)&&rE(t)}function bM(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function Yp(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+sa(t.value);if(iE(t))return t.filters.map(e=>Yp(e)).join(",");{const e=t.filters.map(n=>Yp(n)).join(",");return`${t.op}(${e})`}}function oE(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&fi(r.value,i.value)}(t,e):t instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&oE(s,i.filters[a]),!0):!1}(t,e):void Ke()}function sE(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${sa(n.value)}`}(t):t instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(sE).join(" ,")+"}"}(t):"Filter"}class wM extends Jt{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class TM extends Jt{constructor(e,n){super(e,"in",n),this.keys=aE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EM extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=aE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class kM extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kg(n)&&Kl(n.arrayValue,this.value)}}class AM extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class xM extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}}class IM extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function U0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new SM(t,e,n,r,i,o,s)}function Ag(t){const e=Ze(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),e.ue=n}return e.ue}function xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_M(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B0(t.startAt,e.startAt)&&B0(t.endAt,e.endAt)}function Wp(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RM(t,e,n,r,i,o,s,a){return new rf(t,e,n,r,i,o,s,a)}function Ig(t){return new rf(t)}function q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OM(t){return t.collectionGroup!==null}function gl(t){const e=Ze(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wn(yn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Jc(o,r))}),n.has(yn.keyField().canonicalString())||e.ce.push(new Jc(yn.keyField(),r))}return e.ce}function li(t){const e=Ze(t);return e.le||(e.le=PM(e,gl(t))),e.le}function PM(t,e){if(t.limitType==="F")return U0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Jc(i.field,o)});const n=t.endAt?new Xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xc(t.startAt.position,t.startAt.inclusive):null;return U0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gp(t,e,n){return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function of(t,e){return xg(li(t),li(e))&&t.limitType===e.limitType}function lE(t){return`${Ag(li(t))}|lt:${t.limitType}`}function Cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sE(i)).join(", ")}]`),nf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sa(i)).join(",")),`Target(${r})`}(li(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of gl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=j0(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,gl(r),i)||r.endAt&&!function(s,a,l){const u=j0(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,gl(r),i))}(t,e)}function CM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uE(t){return(e,n)=>{let r=!1;for(const i of gl(t)){const o=DM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function DM(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?oa(l,u):Ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Ct(qe.comparator);function Ni(){return NM}const cE=new Ct(qe.comparator);function Za(...t){let e=cE;for(const n of t)e=e.insert(n.key,n);return e}function dE(t){let e=cE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Go(){return vl()}function fE(){return vl()}function vl(){return new xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const MM=new Ct(qe.comparator),LM=new wn(qe.comparator);function it(...t){let e=LM;for(const n of t)e=e.add(n);return e}const $M=new wn(dt);function VM(){return $M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function pE(t){return{integerValue:""+t}}function FM(t,e){return mM(e)?pE(e):hE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function jM(t,e,n){return t instanceof Zc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Tg(o)&&(o=Eg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof aa?gE(t,e):t instanceof Yl?vE(t,e):function(i,o){const s=mE(i,o),a=H0(s)+H0(i.Pe);return Kp(s)&&Kp(i.Pe)?pE(a):hE(i.serializer,a)}(t,e)}function BM(t,e,n){return t instanceof aa?gE(t,e):t instanceof Yl?vE(t,e):n}function mE(t,e){return t instanceof ed?function(r){return Kp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Zc extends af{}class aa extends af{constructor(e){super(),this.elements=e}}function gE(t,e){const n=yE(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yl extends af{constructor(e){super(),this.elements=e}}function vE(t,e){let n=yE(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class ed extends af{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function H0(t){return Wt(t.integerValue||t.doubleValue)}function yE(t){return kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.field=e,this.transform=n}}function qM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof aa&&i instanceof aa||r instanceof Yl&&i instanceof Yl?ia(r.elements,i.elements,fi):r instanceof ed&&i instanceof ed?fi(r.Pe,i.Pe):r instanceof Zc&&i instanceof Zc}(t.transform,e.transform)}class HM{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lf{}function _E(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sg(t.key,Or.none()):new mu(t.key,t.data,Or.none());{const n=t.data,r=Xn.empty();let i=new wn(yn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Oo(t.key,r,new ar(i.toArray()),Or.none())}}function zM(t,e,n){t instanceof mu?function(i,o,s){const a=i.value.clone(),l=K0(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(i,o,s){if(!_c(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=K0(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(bE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yl(t,e,n,r){return t instanceof mu?function(o,s,a,l){if(!_c(o.precondition,s))return a;const u=o.value.clone(),c=Y0(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(o,s,a,l){if(!_c(o.precondition,s))return a;const u=Y0(o.fieldTransforms,l,s),c=s.data;return c.setAll(bE(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return _c(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function KM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=mE(r.transform,i||null);o!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,o))}return n||null}function z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(o,s)=>qM(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends lf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends lf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K0(t,e,n){const r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,BM(s,a,n[i]))}return r}function Y0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,jM(o,s,e))}return r}class Sg extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YM extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=_E(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>z0(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>z0(n,r))}}class Rg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Et(e.mutations.length===r.length);let i=function(){return MM}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Rg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,st;function XM(t){switch(t){default:return Ke();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function wE(t){if(t===void 0)return Di("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case Yt.OK:return Ee.OK;case Yt.CANCELLED:return Ee.CANCELLED;case Yt.UNKNOWN:return Ee.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return Ee.INTERNAL;case Yt.UNAVAILABLE:return Ee.UNAVAILABLE;case Yt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Yt.NOT_FOUND:return Ee.NOT_FOUND;case Yt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Yt.ABORTED:return Ee.ABORTED;case Yt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Yt.DATA_LOSS:return Ee.DATA_LOSS;default:return Ke()}}(st=Yt||(Yt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new Gs([4294967295,4294967295],0);function W0(t){const e=JM().encode(t),n=new ZN;return n.update(e),new Uint8Array(n.digest())}function G0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gs([n,r],0),new Gs([i,o],0)]}class Og{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(r<0)throw new el(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gs.fromNumber(r)));return i.compare(ZM)===1&&(i=new Gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=W0(e),[r,i]=G0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Og(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=W0(e),[r,i]=G0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uf(We.min(),i,new Ct(dt),Ni(),it())}}class gu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gu(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class TE{constructor(e,n){this.targetId=e,this.me=n}}class EE{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Q0{constructor(){this.fe=0,this.ge=J0(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=it(),n=it(),r=it();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new gu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=J0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ni(),this.qe=X0(),this.Qe=new Ct(dt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Wp(o))if(r===0){const s=new qe(o.path);this.Ue(n,s,Pn.newNoDocument(s,We.min()))}else Et(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ls(r).toUint8Array()}catch(l){if(l instanceof eE)return ra("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Og(s,i,o)}catch(l){return ra(l instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Wp(a.target)){const l=new qe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Pn.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=it();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new uf(e,n,this.Qe,this.ke,r);return this.ke=Ni(),this.qe=X0(),this.Qe=new Ct(dt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Q0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wn(dt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Q0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X0(){return new Ct(qe.comparator)}function J0(){return new Ct(qe.comparator)}const tL={asc:"ASCENDING",desc:"DESCENDING"},nL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rL={and:"AND",or:"OR"};class iL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qp(t,e){return t.useProto3Json||nf(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oL(t,e){return td(t,e.toTimestamp())}function ui(t){return Et(!!t),We.fromTimestamp(function(n){const r=bo(n);return new nn(r.seconds,r.nanos)}(t))}function Pg(t,e){return Xp(t,e).canonicalString()}function Xp(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AE(t){const e=It.fromString(t);return Et(OE(e)),e}function Jp(t,e){return Pg(t.databaseId,e.path)}function Fh(t,e){const n=AE(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(IE(n))}function xE(t,e){return Pg(t.databaseId,e)}function sL(t){const e=AE(t);return e.length===4?It.emptyPath():IE(e)}function Zp(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IE(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z0(t,e,n){return{name:Jp(t,e),fields:n.value.mapValue.fields}}function aL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Et(c===void 0||typeof c=="string"),Ln.fromBase64String(c||"")):(Et(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ln.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Ee.UNKNOWN:wE(u.code);return new Fe(c,u.message||"")}(s);n=new EE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fh(t,r.document.name),o=ui(r.document.updateTime),s=r.document.createTime?ui(r.document.createTime):We.min(),a=new Xn({mapValue:{fields:r.document.fields}}),l=Pn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new bc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fh(t,r.document),o=r.readTime?ui(r.readTime):We.min(),s=Pn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new bc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fh(t,r.document),o=r.removedTargetIds||[];n=new bc([],o,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new QM(i,o),a=r.targetId;n=new TE(a,s)}}return n}function lL(t,e){let n;if(e instanceof mu)n={update:Z0(t,e.key,e.value)};else if(e instanceof Sg)n={delete:Jp(t,e.key)};else if(e instanceof Oo)n={update:Z0(t,e.key,e.data),updateMask:vL(e.fieldMask)};else{if(!(e instanceof YM))return Ke();n={verify:Jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Zc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ed)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ke()}(t,e.precondition)),n}function uL(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ui(i.updateTime):ui(o);return s.isEqual(We.min())&&(s=ui(o)),new HM(s,i.transformResults||[])}(n,e))):[]}function cL(t,e){return{documents:[xE(t,e.path)]}}function dL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xE(t,i);const o=function(u){if(u.length!==0)return RE(hi.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Ds(f.field),direction:pL(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Qp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function fL(t){let e=sL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Et(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=SE(d);return f instanceof hi&&iE(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new Jc(Ns(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,nf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new Xc(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new Xc(h,f)}(n.endAt)),RM(e,i,s,o,a,"F",l,u)}function hL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ns(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ns(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ns(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ns(n.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(r=>SE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(n.compositeFilter.op))}(t):Ke()}function pL(t){return tL[t]}function mL(t){return nL[t]}function gL(t){return rL[t]}function Ds(t){return{fieldPath:t.canonicalString()}}function Ns(t){return yn.fromServerFormat(t.fieldPath)}function RE(t){return t instanceof Jt?function(n){if(n.op==="=="){if(F0(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(V0(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F0(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(V0(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:mL(n.op),value:n.value}}}(t):t instanceof hi?function(n){const r=n.getFilters().map(i=>RE(i));return r.length===1?r[0]:{compositeFilter:{op:gL(n.op),filters:r}}}(t):Ke()}function vL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r,i,o=We.min(),s=We.min(),a=Ln.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.ut=e}}function _L(t){const e=fL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.on=new wL}addToCollectionParentIndex(e,n){return this.on.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(_o.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class wL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wn(It.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new la(0)}static Nn(){return new la(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yl(r.mutation,i,ar.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){const i=Go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Za();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ni();const s=vl(),a=function(){return vl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Oo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),yl(c.mutation,u,c.mutation.getFieldMask(),nn.now())):s.set(u.key,ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new EL(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vl();let i=new Ct((s,a)=>s-a),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ar.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||it()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=fE();c.forEach(f=>{if(!o.has(f)){const h=_E(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ae.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return qe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ae.resolve(Go());let a=-1,l=o;return s.next(u=>Ae.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Ae.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,it())).next(c=>({batchId:a,changes:dE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=Za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Za();return this.indexManager.getCollectionParents(e,o).next(a=>Ae.forEach(a,l=>{const u=function(d,f){return new rf(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Pn.newInvalidDocument(c)))});let a=Za();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&yl(c.mutation,u,ar.empty(),nn.now()),sf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:_L(i.bundledQuery),readTime:ui(i.readTime)}}(n)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.overlays=new Ct(qe.comparator),this.lr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return Ae.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=Go(),o=n.length+1,s=new qe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ct((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Go(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Go(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ae.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new GM(n,r));let o=this.lr.get(n);o===void 0&&(o=it(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.hr=new wn(on.Pr),this.Ir=new wn(on.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new on(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new on(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new qe(new It([])),r=new on(n,e),i=new on(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new qe(new It([])),r=new on(n,e),i=new on(n,e+1);let o=it();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new on(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return qe.comparator(e.key,n.key)||dt(e.gr,n.gr)}static Tr(e,n){return dt(e.gr,n.gr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wn(on.Pr)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new WM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new on(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ae.resolve(s)}lookupMutationBatch(e,n){return Ae.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return Ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),Ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(dt);return n.forEach(i=>{const o=new on(i,0),s=new on(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),Ae.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const s=new on(new qe(o),0);let a=new wn(dt);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),Ae.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Ae.forEach(n.mutations,i=>{const o=new on(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new on(n,0),i=this.yr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.Cr=e,this.docs=function(){return new Ct(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pn.newInvalidDocument(i))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ni();const s=n.path,a=new qe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||dM(cM(c),r)<=0||(i.has(c.key)||sf(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ke()}vr(e,n){return Ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RL(this)}getSize(e){return Ae.resolve(this.size)}}class RL extends TL{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),Ae.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.persistence=e,this.Fr=new xa(n=>Ag(n),xg),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Cg,this.targetCount=0,this.Nr=la.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Ae.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new la(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.kn(n),Ae.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ae.waitFor(o).next(()=>i)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.Lr={},this.overlays={},this.Br=new wg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new OL(this),this.indexManager=new bL,this.remoteDocumentCache=function(i){return new SL(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new yL(n),this.Kr=new AL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new IL(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new CL(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return Ae.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class CL extends hM{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Gr=new Cg,this.zr=null}static jr(e){return new Dg(e)}get Hr(){if(this.zr)return this.zr;throw Ke()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Hr,r=>{const i=qe.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,We.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Ae.or([()=>Ae.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=it(),i=it();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ng(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return QR()?8:pM(En())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new DL;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ua()<=ot.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ae.resolve()):(Ua()<=ot.DEBUG&&Ne("QueryEngine","Query:",Cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ua()<=ot.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):Ae.resolve())}zi(e,n){if(q0(n))return Ae.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gp(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=it(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(e,Gp(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return q0(n)||i.isEqual(We.min())?Ae.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?Ae.resolve(null):(Ua()<=ot.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(n)),this.Xi(e,s,n,uM(i,-1)).next(a=>a))})}Yi(e,n){let r=new wn(uE(e));return n.forEach((i,o)=>{sf(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ua()<=ot.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.Gi.getDocumentsMatchingQuery(e,n,_o.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ct(dt),this.ns=new xa(o=>Ag(o),xg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function LL(t,e,n,r){return new ML(t,e,n,r)}async function PE(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=it();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function $L(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=Ae.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(m=>{const _=u.docVersions.get(p);Et(_!==null),m.version.compareTo(_)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=it();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CE(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function VL(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Ln.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(m,_,v){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,h,c)&&a.push(n.qr.updateTargetData(o,h))});let l=Ni(),u=it();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(FL(o,s,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(We.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Ae.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function FL(t,e,n){let r=it(),i=it();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ni();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(We.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function jL(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BL(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,Ae.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new io(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function em(t,e,n){const r=Ze(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pu(s))throw s;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function e_(t,e,n){const r=Ze(t);let i=We.min(),o=it();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Ze(l),f=d.ns.get(c);return f!==void 0?Ae.resolve(d.ts.get(f)):d.qr.getTargetData(u,c)}(r,s,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:We.min(),n?o:it())).next(a=>(UL(r,CM(e),a),{documents:a,ls:o})))}function UL(t,e,n){let r=t.rs.get(e)||We.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class t_{constructor(){this.activeTargetIds=VM()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qL{constructor(){this.eo=new t_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new t_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function jh(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class YL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=jh(),l=this.Co(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,o,s),this.Fo(n,l,u,i).then(c=>(Ne("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ra("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=zL[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const o=jh();return new Promise((s,a)=>{const l=new JN;l.setWithCredentials(!0),l.listenOnce(GN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vh.NO_ERROR:const c=l.getResponseJson();Ne(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Vh.TIMEOUT:Ne(In,`RPC '${e}' ${o} timed out`),a(new Fe(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const d=l.getStatus();if(Ne(In,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(v)>=0?v:Ee.UNKNOWN}(h.status);a(new Fe(p,h.message))}else a(new Fe(Ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(Ee.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Ne(In,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Ne(In,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}xo(e,n,r){const i=jh(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YN(),a=WN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new XN({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Ne(In,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const p=new KL({co:_=>{h?Ne(In,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(Ne(In,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Ne(In,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),m=(_,v,y)=>{_.listen(v,b=>{try{y(b)}catch(g){setTimeout(()=>{throw g},0)}})};return m(d,Xu.EventType.OPEN,()=>{h||(Ne(In,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),m(d,Xu.EventType.CLOSE,()=>{h||(h=!0,Ne(In,`RPC '${e}' stream ${i} transport closed`),p.fo())}),m(d,Xu.EventType.ERROR,_=>{h||(h=!0,ra(In,`RPC '${e}' stream ${i} transport errored:`,_),p.fo(new Fe(Ee.UNAVAILABLE,"The operation could not be completed")))}),m(d,Xu.EventType.MESSAGE,_=>{var v;if(!h){const y=_.data[0];Et(!!y);const b=y,g=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(g){Ne(In,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let P=function(D){const O=Yt[D];if(O!==void 0)return wE(O)}(w),k=g.message;P===void 0&&(P=Ee.INTERNAL,k="Unknown error status: "+w+" with message "+g.message),h=!0,p.fo(new Fe(P,k)),d.close()}else Ne(In,`RPC '${e}' stream ${i} received:`,y),p.po(y)}}),m(a,QN.STAT_EVENT,_=>{_.stat===D0.PROXY?Ne(In,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===D0.NOPROXY&&Ne(In,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function Bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return new iL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new DE(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new Fe(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WL extends NE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=aL(this.serializer,e),r=function(o){if(!("targetChange"in o))return We.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?We.min():s.readTime?ui(s.readTime):We.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Zp(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Wp(l)?{documents:cL(o,l)}:{query:dL(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kE(o,s.resumeToken);const u=Qp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(We.min())>0){a.readTime=td(o,s.snapshotVersion.toTimestamp());const u=Qp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=hL(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.r_(n)}}class GL extends NE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=uL(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.d_(r,n)}return Et(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Zp(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lL(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,Xp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(Ee.UNKNOWN,o.toString())})}Mo(e,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Xp(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(Ee.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class XL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Di(n),this.y_=!1):Ne("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{_s(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ze(l);u.M_.add(4),await vu(u),u.N_.set("Unknown"),u.M_.delete(4),await df(u)}(this))})}),this.N_=new XL(r,i)}}async function df(t){if(_s(t))for(const e of t.x_)await e(!0)}async function vu(t){for(const e of t.x_)await e(!1)}function ME(t,e){const n=Ze(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Vg(n)?$g(n):Ia(n).Zo()&&Lg(n,e))}function Mg(t,e){const n=Ze(t),r=Ia(n);n.F_.delete(e),r.Zo()&&LE(n,e),n.F_.size===0&&(r.Zo()?r.t_():_s(n)&&n.N_.set("Unknown"))}function Lg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ia(t).h_(e)}function LE(t,e){t.L_.xe(e),Ia(t).P_(e)}function $g(t){t.L_=new eL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ia(t).start(),t.N_.w_()}function Vg(t){return _s(t)&&!Ia(t).Yo()&&t.F_.size>0}function _s(t){return Ze(t).M_.size===0}function $E(t){t.L_=void 0}async function ZL(t){t.N_.set("Online")}async function e4(t){t.F_.forEach((e,n)=>{Lg(t,e)})}async function t4(t,e){$E(t),Vg(t)?(t.N_.D_(e),$g(t)):t.N_.set("Unknown")}async function n4(t,e,n){if(t.N_.set("Online"),e instanceof EE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nd(t,r)}else if(e instanceof bc?t.L_.Ke(e):e instanceof TE?t.L_.He(e):t.L_.We(e),!n.isEqual(We.min()))try{const r=await CE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.F_.get(u);c&&o.F_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.F_.get(l);if(!c)return;o.F_.set(l,c.withResumeToken(Ln.EMPTY_BYTE_STRING,c.snapshotVersion)),LE(o,l);const d=new io(c.target,l,u,c.sequenceNumber);Lg(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await nd(t,r)}}async function nd(t,e,n){if(!pu(e))throw e;t.M_.add(1),await vu(t),t.N_.set("Offline"),n||(n=()=>CE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await df(t)})}function VE(t,e){return e().catch(n=>nd(t,n,e))}async function ff(t){const e=Ze(t),n=wo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;r4(e);)try{const i=await jL(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,i4(e,i)}catch(i){await nd(e,i)}FE(e)&&jE(e)}function r4(t){return _s(t)&&t.v_.length<10}function i4(t,e){t.v_.push(e);const n=wo(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function FE(t){return _s(t)&&!wo(t).Yo()&&t.v_.length>0}function jE(t){wo(t).start()}async function o4(t){wo(t).R_()}async function s4(t){const e=wo(t);for(const n of t.v_)e.E_(n.mutations)}async function a4(t,e,n){const r=t.v_.shift(),i=Rg.from(r,e,n);await VE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ff(t)}async function l4(t,e){e&&wo(t).T_&&await async function(r,i){if(function(s){return XM(s)&&s!==Ee.ABORTED}(i.code)){const o=r.v_.shift();wo(r).e_(),await VE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ff(r)}}(t,e),FE(t)&&jE(t)}async function r_(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=_s(n);n.M_.add(3),await vu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await df(n)}async function u4(t,e){const n=Ze(t);e?(n.M_.delete(2),await df(n)):e||(n.M_.add(2),await vu(n),n.N_.set("Unknown"))}function Ia(t){return t.B_||(t.B_=function(n,r,i){const o=Ze(n);return o.m_(),new WL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:ZL.bind(null,t),Io:e4.bind(null,t),Eo:t4.bind(null,t),l_:n4.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),Vg(t)?$g(t):t.N_.set("Unknown")):(await t.B_.stop(),$E(t))})),t.B_}function wo(t){return t.k_||(t.k_=function(n,r,i){const o=Ze(n);return o.m_(),new GL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:o4.bind(null,t),Eo:l4.bind(null,t),A_:s4.bind(null,t),d_:a4.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await ff(t)):(await t.k_.stop(),t.v_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Fg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jg(t,e){if(Di("AsyncQueue",`${e}: ${t}`),pu(t))return new Fe(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Za(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.q_=new Ct(qe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ke():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ua(e,n,Qs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class d4{constructor(){this.queries=new xa(e=>lE(e),of),this.onlineState="Unknown",this.z_=new Set}}async function BE(t,e){const n=Ze(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new c4,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=jg(s,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Bg(n)}async function UE(t,e){const n=Ze(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f4(t,e){const n=Ze(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Bg(n)}function h4(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Bg(t){t.z_.forEach(e=>{e.next()})}var tm,o_;(o_=tm||(tm={})).J_="default",o_.Cache="cache";class qE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class p4{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=it(),this.mutatedKeys=it(),this.Ia=uE(e),this.Ta=new Qs(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new i_,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=sf(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),_=!0):this.Ra(f,h)||(r.track({type:2,doc:h}),_=!0,(l&&this.Ia(h,l)>0||u&&this.Ia(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),_=!0):f&&!h&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(h?(s=s.add(h),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((c,d)=>function(h,p){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return m(h)-m(p)}(c.type,d.type)||this.Ia(c.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new ua(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new i_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=it(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new zE(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new HE(r))}),n}pa(e){this.la=e.ls,this.Pa=it();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ua.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class m4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g4{constructor(e){this.key=e,this.wa=!1}}class v4{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new xa(a=>lE(a),of),this.Da=new Map,this.Ca=new Set,this.va=new Ct(qe.comparator),this.Fa=new Map,this.Ma=new Cg,this.xa={},this.Oa=new Map,this.Na=la.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function y4(t,e,n=!0){const r=XE(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await KE(r,e,n,!0),i}async function _4(t,e){const n=XE(t);await KE(n,e,!0,!1)}async function KE(t,e,n,r){const i=await BL(t.localStore,li(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await b4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ME(t.remoteStore,i),a}async function b4(t,e,n,r,i){t.Ba=(d,f,h)=>async function(m,_,v,y){let b=_.view.da(v);b.Zi&&(b=await e_(m.localStore,_.query,!1).then(({documents:k})=>_.view.da(k,b)));const g=y&&y.targetChanges.get(_.targetId),w=y&&y.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(b,m.isPrimaryClient,g,w);return a_(m,_.targetId,P.fa),P.snapshot}(t,d,f,h);const o=await e_(t.localStore,e,!0),s=new p4(e,o.ls),a=s.da(o.documents),l=gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);a_(t,n,u.fa);const c=new m4(e,n,s);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function w4(t,e,n){const r=Ze(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!of(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await em(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mg(r.remoteStore,i.targetId),nm(r,i.targetId)}).catch(hu)):(nm(r,i.targetId),await em(r.localStore,i.targetId,!0))}async function T4(t,e){const n=Ze(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mg(n.remoteStore,r.targetId))}async function E4(t,e,n){const r=O4(t);try{const i=await function(s,a){const l=Ze(s),u=nn.now(),c=a.reduce((h,p)=>h.add(p.key),it());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ni(),m=it();return l.ss.getEntries(h,c).next(_=>{p=_,p.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(_=>{d=_;const v=[];for(const y of a){const b=KM(y,d.get(y.key).overlayedDocument);b!=null&&v.push(new Oo(y.key,b,tE(b.value.mapValue),Or.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,v,a)}).next(_=>{f=_;const v=_.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,_.batchId,v)})}).then(()=>({batchId:f.batchId,changes:dE(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new Ct(dt)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await yu(r,i.changes),await ff(r.remoteStore)}catch(i){const o=jg(i,"Failed to persist write");n.reject(o)}}async function YE(t,e){const n=Ze(t);try{const r=await VL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Et(s.wa):i.removedDocuments.size>0&&(Et(s.wa),s.wa=!1))}),await yu(n,r,e)}catch(r){await hu(r)}}function s_(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ze(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.U_)f.j_(a)&&(u=!0)}),u&&Bg(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k4(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ct(qe.comparator);s=s.insert(o,Pn.newNoDocument(o,We.min()));const a=it().add(o),l=new uf(We.min(),new Map,new Ct(dt),s,a);await YE(r,l),r.va=r.va.remove(o),r.Fa.delete(e),Ug(r)}else await em(r.localStore,e,!1).then(()=>nm(r,e,n)).catch(hu)}async function A4(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await $L(n.localStore,e);GE(n,r,null),WE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,i)}catch(i){await hu(i)}}async function x4(t,e,n){const r=Ze(t);try{const i=await function(s,a){const l=Ze(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Et(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);GE(r,e,n),WE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,i)}catch(i){await hu(i)}}function WE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function GE(t,e,n){const r=Ze(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||QE(t,r)})}function QE(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Mg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Ug(t))}function a_(t,e,n){for(const r of n)r instanceof HE?(t.Ma.addReference(r.key,e),I4(t,r)):r instanceof zE?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||QE(t,r.key)):Ke()}function I4(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Ug(t))}function Ug(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new qe(It.fromString(e)),r=t.Na.next();t.Fa.set(r,new g4(n)),t.va=t.va.insert(n,r),ME(t.remoteStore,new io(li(Ig(n.path)),r,"TargetPurposeLimboResolution",wg.oe))}}async function yu(t,e,n){const r=Ze(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Ng.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,u){const c=Ze(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ae.forEach(u,f=>Ae.forEach(f.ki,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>Ae.forEach(f.qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!pu(d))throw d;Ne("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ts.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(f,m)}}}(r.localStore,o))}async function S4(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await PE(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Fe(Ee.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r._s)}}function R4(t,e){const n=Ze(t),r=n.Fa.get(e);if(r&&r.wa)return it().add(r.key);{let i=it();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function XE(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k4.bind(null,e),e.Sa.l_=f4.bind(null,e.eventManager),e.Sa.ka=h4.bind(null,e.eventManager),e}function O4(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,e),e}class l_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return LL(this.persistence,new NL,e.initialUser,this.serializer)}createPersistence(e){return new PL(Dg.jr,this.serializer)}createSharedClientState(e){return new qL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class P4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S4.bind(null,this.syncEngine),await u4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d4}()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),r=function(o){return new YL(o)}(e.databaseInfo);return function(o,s,a,l){return new QL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new JL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>s_(this.syncEngine,n,0),function(){return n_.D()?new n_:new HL}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new v4(i,o,s,a,l,u);return c&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ze(r);Ne("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await vu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=JT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uh(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N4(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>r_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>r_(e.remoteStore,i)),t._onlineComponents=e}function D4(t){return t.name==="FirebaseError"?t.code===Ee.FAILED_PRECONDITION||t.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function N4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!D4(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Uh(t,new l_)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await Uh(t,new l_);return t._offlineComponents}async function ZE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await u_(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await u_(t,new P4))),t._onlineComponents}function M4(t){return ZE(t).then(e=>e.syncEngine)}async function ek(t){const e=await ZE(t),n=e.eventManager;return n.onListen=y4.bind(null,e.syncEngine),n.onUnlisten=w4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T4.bind(null,e.syncEngine),n}function L4(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new JE({next:f=>{s.enqueueAndForget(()=>UE(o,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new Fe(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new Fe(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new qE(Ig(a.path),c,{includeMetadataChanges:!0,ra:!0});return BE(o,d)}(await ek(t),t.asyncQueue,e,n,r)),r.promise}function $4(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new JE({next:f=>{s.enqueueAndForget(()=>UE(o,d)),f.fromCache&&l.source==="server"?u.reject(new Fe(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new qE(a,c,{includeMetadataChanges:!0,ra:!0});return BE(o,d)}(await ek(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e,n){if(!n)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V4(t,e,n,r){if(e===!0&&r===!0)throw new Fe(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d_(t){if(!qe.isDocumentKey(t))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(qe.isDocumentKey(t))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qg(t);throw new Fe(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Fe(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Fe(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Fe(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eM;switch(r.type){case"firstParty":return new iM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=c_.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),c_.delete(n),r.terminate())}(this),Promise.resolve()}}function F4(t,e,n,r={}){var i;const o=(t=Mi(t,hf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rn.MOCK_USER;else{a=V1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Fe(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rn(u)}t._authCredentials=new tM(new XT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pf(this.firestore,e,this._query)}}class dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class fo extends pf{constructor(e,n,r){super(e,n,Ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new qe(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Wl(t,e,...n){if(t=St(t),nk("collection","path",e),t instanceof hf){const r=It.fromString(e,...n);return f_(r),new fo(t,null,r)}{if(!(t instanceof dr||t instanceof fo))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return f_(r),new fo(t.firestore,null,r)}}function gr(t,e,...n){if(t=St(t),arguments.length===1&&(e=JT.newId()),nk("doc","path",e),t instanceof hf){const r=It.fromString(e,...n);return d_(r),new dr(t,null,new qe(r))}{if(!(t instanceof dr||t instanceof fo))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return d_(r),new dr(t.firestore,t instanceof fo?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new DE(this,"async_queue_retry"),this.hu=()=>{const n=Bh();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=Bh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ri;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!pu(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Fg.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Ke()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Sa extends hf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new j4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rk(this),this._firestoreClient.terminate()}}function B4(t,e){const n=typeof t=="object"?t:Pd(),r=typeof t=="string"?t:"(default)",i=xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=M1("firestore");o&&F4(i,...o)}return i}function Hg(t){return t._firestoreClient||rk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rk(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new vM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,tk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new C4(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(Ln.fromBase64String(e))}catch(n){throw new Fe(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ca(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=/^__.*__$/;class q4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class ik{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ok(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class vf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return rd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(ok(this.fu)&&U4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class H4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cf(e)}Fu(e,n,r,i=!1){return new vf({fu:e,methodName:n,vu:r,path:yn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sk(t){const e=t._freezeSettings(),n=cf(t._databaseId);return new H4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z4(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Yg("Data must be an object, but it was:",s,r);const a=ak(r,s);let l,u;if(o.merge)l=new ar(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=rm(e,d,n);if(!s.contains(f))throw new Fe(Ee.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);uk(c,f)||c.push(f)}l=new ar(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new q4(new Xn(a),l,u)}class yf extends gf{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function K4(t,e,n){return new vf({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kg extends gf{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=K4(this,e,!0),r=this.Mu.map(o=>_u(o,n)),i=new aa(r);return new UM(e.path,i)}isEqual(e){return e instanceof Kg&&ea(this.Mu,e.Mu)}}function Y4(t,e,n,r){const i=t.Fu(1,e,n);Yg("Data must be an object, but it was:",i,r);const o=[],s=Xn.empty();ys(r,(l,u)=>{const c=Wg(e,l,n);u=St(u);const d=i.Su(c);if(u instanceof yf)o.push(c);else{const f=_u(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new ar(o);return new ik(s,a,i.fieldTransforms)}function W4(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[rm(e,r,n)],l=[i];if(o.length%2!=0)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(rm(e,o[f])),l.push(o[f+1]);const u=[],c=Xn.empty();for(let f=a.length-1;f>=0;--f)if(!uk(u,a[f])){const h=a[f];let p=l[f];p=St(p);const m=s.Su(h);if(p instanceof yf)u.push(h);else{const _=_u(p,m);_!=null&&(u.push(h),c.set(h,_))}}const d=new ar(u);return new ik(c,d,s.fieldTransforms)}function _u(t,e){if(lk(t=St(t)))return Yg("Unsupported field value:",e,t),ak(t,e);if(t instanceof gf)return function(r,i){if(!ok(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=_u(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nn.fromDate(r);return{timestampValue:td(i.serializer,o)}}if(r instanceof nn){const o=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:td(i.serializer,o)}}if(r instanceof zg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:kE(i.serializer,r._byteString)};if(r instanceof dr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${qg(r)}`)}(t,e)}function ak(t,e){const n={};return ZT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,(r,i)=>{const o=_u(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof zg||t instanceof ca||t instanceof dr||t instanceof gf)}function Yg(t,e,n){if(!lk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function rm(t,e,n){if((e=St(e))instanceof mf)return e._internalPath;if(typeof e=="string")return Wg(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const G4=new RegExp("[~\\*/\\[\\]]");function Wg(t,e,n){if(e.search(G4)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mf(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Fe(Ee.INVALID_ARGUMENT,a+t+l)}function uk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q4 extends ck{data(){return super.data()}}function dk(t,e){return typeof e=="string"?Wg(t,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J4{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ys(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new zg(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=bo(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);Et(OE(r));const i=new zl(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fk extends ck{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wc extends fk{data(e={}){return super.data(e)}}class e3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wc(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new wc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:t3(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){t=Mi(t,dr);const e=Mi(t.firestore,Sa);return L4(Hg(e),t._key).then(n=>i3(e,t,n))}class hk extends J4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,n)}}function od(t){t=Mi(t,pf);const e=Mi(t.firestore,Sa),n=Hg(e),r=new hk(e);return X4(t._query),$4(n,t._query).then(i=>new e3(e,r,t,i))}function Fs(t,e,n,...r){t=Mi(t,dr);const i=Mi(t.firestore,Sa),o=sk(i);let s;return s=typeof(e=St(e))=="string"||e instanceof mf?W4(o,"updateDoc",t._key,e,n,r):Y4(o,"updateDoc",t._key,e),Gg(i,[s.toMutation(t._key,Or.exists(!0))])}function n3(t){return Gg(Mi(t.firestore,Sa),[new Sg(t._key,Or.none())])}function r3(t,e){const n=Mi(t.firestore,Sa),r=gr(t),i=Z4(t.converter,e);return Gg(n,[z4(sk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function Gg(t,e){return function(r,i){const o=new Ri;return r.asyncQueue.enqueueAndForget(async()=>E4(await M4(r),i,o)),o.promise}(Hg(t),e)}function i3(t,e,n){const r=n.docs.get(e._key),i=new hk(t);return new fk(t,i,e._key,r,new tl(n.hasPendingWrites,n.fromCache),e.converter)}function o3(...t){return new Kg("arrayUnion",t)}(function(e,n=!0){(function(i){Aa=i})(ms),Lr(new _r("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Sa(new nM(r.getProvider("auth-internal")),new sM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Fe(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Zn(N0,"4.6.1",e),Zn(N0,"4.6.1","esm2017")})();const s3={apiKey:"AIzaSyDvdTUs36DFXUIZ3S7EGZJlSeeDxXg1mGY",authDomain:"tiryaki-hukuk-admin-pane-9a3f2.firebaseapp.com",projectId:"tiryaki-hukuk-admin-pane-9a3f2",storageBucket:"tiryaki-hukuk-admin-pane-9a3f2.appspot.com",messagingSenderId:"432646173233",appId:"1:432646173233:web:1c8a7ad94bacb703781b10",measurementId:"G-0LMBJQ2524"},Qg=z1(s3);OP(Qg);const Ms=HD(Qg),Ir=B4(Qg);Vw(Ms,Qm).then(()=>{console.log("Firebase Auth persistence set to local.")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const Tc=$R({state:{isAuthenticated:!1,user:null,role:null,errorMessage:null},mutations:{login(t,{user:e,role:n}){t.isAuthenticated=!0,t.user=e,t.role=n},logout(t){t.isAuthenticated=!1,t.user=null,t.role=null,t.errorMessage=null},setError(t,e){t.errorMessage=e},setUser(t,e){t.user=e,t.isAuthenticated=!!e},setRole(t,e){t.role=e}},actions:{async login({commit:t},{username:e,password:n}){try{await Vw(Ms,Qm);const i=(await OC(Ms,e,n)).user,o=await id(gr(Ir,"attorneys",i.uid));let s=null;if(o.exists()?s=o.data().role:s="admin",s)t("login",{user:{email:i.email,uid:i.uid},role:s}),console.log("Login successful"),console.log("User role:",s);else throw await c0(Ms),console.error("User not authorized"),new Error("User not authorized")}catch(r){throw console.error("Login failed",r),t("setError",r.message),new Error("Invalid credentials or unauthorized access")}},async logout({commit:t}){try{await c0(Ms),t("logout"),console.log("Logout successful")}catch(e){throw console.error("Logout failed",e),new Error("Logout failed")}},async initializeAuth({commit:t}){return new Promise(e=>{DC(Ms,async n=>{if(n){t("setUser",{email:n.email,uid:n.uid});const r=await id(gr(Ir,"attorneys",n.uid));let i=null;r.exists()?i=r.data().role:i="admin",t("setRole",i)}else t("setUser",null),t("setRole",null);e(n)})})}},getters:{isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,userRole:t=>t.role,errorMessage:t=>t.errorMessage}}),a3={class:"flex items-center justify-center"},l3=I("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[I("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),I("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),Gl={__name:"Loading",props:{text:String},setup(t){const e=t;return(n,r)=>(ee(),le("div",a3,[l3,un(" "+xe(e.text),1)]))}},u3={class:"bg-gray-800"},c3={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},d3=I("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[I("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),un(" Tiryaki Hukuk Admin Panel ")],-1),f3={class:"w-full bg-gray-700 rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},h3={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},p3=I("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Email",-1),m3=I("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Şifre",-1),g3=Pm('<div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" aria-describedby="remember" type="checkbox" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for="remember" class="text-white dark:text-gray-300">Beni hatırla</label></div></div></div>',1),v3=["disabled"],y3={key:1},_3={key:0,class:"text-red-500 text-sm mt-2"},b3={__name:"LoginPage",setup(t){const e=Ao(),n=b1(),r=he(""),i=he(""),o=he(!1),s=he(""),a=async()=>{o.value=!0,s.value="";try{const l={username:r.value,password:i.value};await e.dispatch("login",l);const u=e.getters.userRole,c=e.getters.user?e.getters.user.uid:null;u==="attorney"&&c?n.push(`/online-meetings/${c}`):n.push("/online-meetings")}catch{s.value="Hesap isim veya şifre yanlış. Lütfen tekrar deneyin."}finally{o.value=!1}};return(l,u)=>(ee(),le("section",u3,[I("div",c3,[d3,I("div",f3,[I("div",h3,[I("form",{onSubmit:Nr(a,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[I("div",null,[p3,Tt(I("input",{"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[vo,r.value]])]),I("div",null,[m3,Tt(I("input",{"onUpdate:modelValue":u[1]||(u[1]=c=>i.value=c),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[vo,i.value]])]),g3,I("button",{id:"signin",disabled:o.value,class:"w-full inline-block text-white bg-gray-600 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},[o.value?(ee(),Be(Gl,{key:0,text:"Giriş Yapılıyor..."})):(ee(),le("span",y3,"Giriş Yap"))],8,v3),s.value?(ee(),le("div",_3,xe(s.value),1)):ge("",!0)],32)])])])]))}},w3={class:"h-screen min-w-[16rem] bg-gray-800 p-4 z-50 sidebar-menu ease-in-out delay-150 duration-300 transition-transform"},T3=I("a",{href:"#",class:"flex items-center pb-4 border-b border-b-gray-800"},[I("img",{src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"",class:"w-8 h-8 rounded object-cover"}),I("span",{class:"text-lg font-bold text-white ml-3"},"Admin Panel")],-1),E3={class:"mt-4"},k3={class:"text-lg"},A3=I("i",{class:"mr-3 text-lg ri-logout-box-line"},null,-1),x3=I("span",{class:"text-lg"},"Çıkış",-1),I3=[A3,x3],S3={__name:"Sidebar",emits:["titleChange"],setup(t,{emit:e}){const n=Ao(),r=b1(),i=pe(()=>n.getters.userRole),o=pe(()=>n.getters.user?n.getters.user.uid:null),s=()=>{n.dispatch("logout"),r.push("/")},a=e;function l(f){a("titleChange",f)}const u=[{title:"Online Görüşmeler",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Blog Yönetimi",icon:"ri-article-line",link:"/blogs"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],c=[{title:"Online Görüşmelerim",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Randevu Saatlerim",icon:"ri-settings-2-line",link:"/appointment-settings"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],d=pe(()=>i.value==="admin"?u:i.value==="attorney"?c.map(f=>({...f,link:`${f.link}/${o.value}`})):[]);return(f,h)=>{const p=xm("router-link");return ee(),le("div",w3,[T3,I("ul",E3,[(ee(!0),le(Se,null,Qe(d.value,m=>(ee(),le("li",{key:m.title,class:"mb-1 group"},[Ue(p,{to:m.link,onClick:_=>l(m.title),class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},{default:He(()=>[I("i",{class:Je([m.icon,"mr-3 text-lg"])},null,2),I("span",k3,xe(m.title),1)]),_:2},1032,["to","onClick"])]))),128)),I("li",null,[I("div",{onClick:s,class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},I3)])])])}}},Ur=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},R3=t=>(yd("data-v-2ea82558"),t=t(),_d(),t),O3={class:"relative"},P3=R3(()=>I("i",{class:"ri-notification-4-fill ri-2x"},null,-1)),C3=[P3],D3={class:"absolute right-0 mt-2 w-64 border border-gray-300 shadow-xl bg-white rounded-md z-50"},N3={class:"max-h-64 overflow-auto"},M3=["href"],L3={class:"text-sm font-medium text-gray-800"},$3={class:"text-xs text-gray-600"},V3={__name:"NotificationDropdown",setup(t){const e=he(!1),n=he([{id:1,title:"New order",message:"You have received a new order.",url:"#"},{id:2,title:"Payment received",message:"Your latest billing statement is ready.",url:"#"},{id:3,title:"System Update",message:"System updates will be performed tonight.",url:"#"},{id:4,title:"New Feature",message:"A new feature has been added to your dashboard.",url:"#"},{id:5,title:"Maintenance Scheduled",message:"Scheduled maintenance will occur this weekend.",url:"#"}]);function r(){e.value=!e.value}return(i,o)=>(ee(),le("div",O3,[I("button",{onClick:r,class:"flex items-center justify-center w-8 h-8 rounded hover:bg-gray-50"},C3),Tt(I("div",D3,[I("ul",N3,[(ee(!0),le(Se,null,Qe(n.value,s=>(ee(),le("li",{key:s.id,class:"border-b last:border-b-0"},[I("a",{href:s.url,class:"block hover:bg-gray-300 p-4"},[I("p",L3,xe(s.title),1),I("p",$3,xe(s.message),1)],8,M3)]))),128))])],512),[[ul,e.value]])]))}},F3=Ur(V3,[["__scopeId","data-v-2ea82558"]]),j3=t=>(yd("data-v-4aaf64ee"),t=t(),_d(),t),B3={class:"py-2 px-6 bg-white flex items-center shadow-md sticky top-0 left-0 z-30 justify-between"},U3={class:"flex items-center"},q3=j3(()=>I("i",{class:"ri-menu-line"},null,-1)),H3=[q3],z3={class:"flex items-center text-sm ml-4"},K3={class:"mr-2"},Y3={href:"#",class:"text-gray-500 hover:text-gray-800 font-medium"},W3={class:"flex items-center"},G3={__name:"Navbar",props:{currentTab:String},setup(t){return(e,n)=>(ee(),le("div",B3,[I("div",U3,[I("button",{onClick:n[0]||(n[0]=r=>e.$emit("toggleSidebar")),class:"text-lg text-gray-600 sidebar-toggle"},H3),I("ul",z3,[I("li",K3,[I("a",Y3,xe(t.currentTab),1)])])]),I("div",W3,[Ue(F3)])]))}},Q3=Ur(G3,[["__scopeId","data-v-4aaf64ee"]]),X3={},J3={class:"p-6"};function Z3(t,e){return ee(),le("section",J3,[Ce(t.$slots,"default")])}const e$=Ur(X3,[["render",Z3]]),t$={class:"flex flex-grow"},n$={class:"w-full h-screen overflow-y-scroll"},r$={__name:"MainPage",setup(t){const e=he(!0);he(!1);const n=he(localStorage.getItem("currentTab")||"");function r(o){n.value=o,localStorage.setItem("currentTab",o)}function i(){e.value=!e.value}return bt(()=>{n.value=localStorage.getItem("currentTab")||""}),(o,s)=>{const a=xm("RouterView");return ee(),le("div",t$,[e.value?(ee(),Be(S3,{key:0,onToggleSidebar:i,onTitleChange:r,class:"hidden lg:block"})):ge("",!0),I("main",n$,[Ue(Q3,{onToggleSidebar:i,"current-tab":n.value},null,8,["current-tab"]),Ue(e$,null,{default:He(()=>[Ue(Dr,{name:"fade"},{default:He(()=>[Ue(a)]),_:1})]),_:1})])])}}},i$=Ur(r$,[["__scopeId","data-v-6c5a0da2"]]),o$={class:"bg-white rounded-lg border border-gray-200 p-6 mb-4 shadow-lg"},s$=I("div",{class:"pb-4 border-b mb-4 border-gray-300 rounded-t flex justify-between"},[I("h3",{class:"text-lg font-semibold text-gray-900"},[I("span",{class:"mb-2"},"Randevu Ayarlarını Yap")]),I("button",{type:"submit",class:"text-white w-40 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),a$=["for"],l$=I("p",{class:"pl-2 text-gray-500"},"(dk)",-1),u$=["onUpdate:modelValue","id"],c$=["value"],d$=["for"],f$=["onUpdate:modelValue","id"],h$=["value"],p$=["for"],m$=I("p",{class:"pl-2 text-gray-500"},"(TL)",-1),g$=["onUpdate:modelValue","id"],v$={key:0,class:"flex items-center"},y$=I("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),_$=[y$],b$=["disabled","onClick"],w$=I("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[I("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),T$=[w$],E$=["onClick"],k$=I("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[I("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),A$=[k$],pk={__name:"WorkingHoursMeetingSetup",props:{appointmentSettings:Array},emits:["save-appointment-settings"],setup(t,{emit:e}){const n=t,r=e,i=[30,45,60],o=["Online Görüşme","Telefonla Görüşme","Ofiste Görüşme"],s=()=>{n.appointmentSettings.push({duration:"",price:"",type:""})},a=u=>{n.appointmentSettings.length>1&&n.appointmentSettings.splice(u,1)},l=()=>{r("save-appointment-settings",n.appointmentSettings)};return(u,c)=>(ee(),le("div",o$,[I("form",{onSubmit:Nr(l,["prevent"])},[s$,I("div",null,[(ee(!0),le(Se,null,Qe(t.appointmentSettings,(d,f)=>(ee(),le("div",{key:f,class:"flex mb-4 items-center space-x-3"},[I("div",null,[I("label",{for:"meeting-duration-"+f,class:"flex text-sm font-medium text-gray-900"},[un("Randevu Süresi"),l$],8,a$),Tt(I("select",{"onUpdate:modelValue":h=>d.duration=h,id:"meeting-duration-"+f,name:"meeting-duration",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ee(),le(Se,null,Qe(i,h=>I("option",{key:h,value:h},xe(h),9,c$)),64))],8,u$),[[yo,d.duration]])]),I("div",null,[I("label",{for:"meeting-type-"+f,class:"flex text-sm font-medium text-gray-900"},"Randevu Tipi",8,d$),Tt(I("select",{"onUpdate:modelValue":h=>d.type=h,id:"meeting-type-"+f,name:"meeting-type",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ee(),le(Se,null,Qe(o,h=>I("option",{key:h,value:h},xe(h),9,h$)),64))],8,f$),[[yo,d.type]])]),I("div",null,[I("label",{for:"meeting-price-"+f,class:"flex text-sm font-medium text-gray-900"},[un("Randevu Ücreti"),m$],8,p$),Tt(I("input",{type:"number","onUpdate:modelValue":h=>d.price=h,id:"meeting-price-"+f,name:"meeting-price",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,g$),[[vo,d.price]])]),f===t.appointmentSettings.length-1?(ee(),le("div",v$,[I("button",{onClick:s,type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},_$),I("button",{disabled:t.appointmentSettings.length===1,onClick:h=>a(f),type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},T$,8,b$)])):(ee(),le("button",{key:1,onClick:h=>a(f),type:"button",class:"inline-flex items-center p-1.5 mt-4 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},A$,8,E$))]))),128))])],32)]))}},x$=I("h1",{class:"font-bold text-4xl"},"Home",-1),I$={key:0},S$=I("p",null,"Welcome, Admin!",-1),R$={key:1},O$=I("p",null,null,-1),p_={__name:"Home",setup(t){const e=he([{duration:"",price:"",type:"",enabled:!0}]),n=Ao(),r=pe(()=>n.getters.userRole),i=pe(()=>n.getters.user?n.getters.user.uid:null),o=he(null),s=async a=>{const l=await id(gr(Ir,"attorneys",a));o.value=l.data()};return bt(()=>{s(i.value)}),(a,l)=>(ee(),le("div",null,[x$,r.value==="admin"?(ee(),le("div",I$,[S$,I("p",null,"Your data "+xe(o.value),1)])):r.value==="attorney"?(ee(),le("div",R$,[I("p",null,[un("Welcome, "),I("span",null,xe(r.value),1),un("!")]),O$])):ge("",!0),Ue(pk,{appointmentSettings:e.value},null,8,["appointmentSettings"])]))}},P$={class:"min-h-[88vh] flex items-center justify-center"},C$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},D$=I("div",{class:"flex flex-col items-center"},[I("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Tüm Görüşmeleri"),I("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Gör")],-1),N$=[D$],M$=["onClick"],L$={class:"w-full h-full flex items-center justify-center"},$$=["src"],V$={__name:"OnlineMeetingsMenu",emits:["optionSelected"],setup(t,{emit:e}){const n=e,r=he([]),i=Wl(Ir,"attorneys"),o=()=>n("optionSelected","showAll"),s=u=>n("optionSelected",u);async function a(){let u=[];return(await od(i)).forEach(d=>{u.push({id:d.id,...d.data()})}),u}async function l(){try{const u=localStorage.getItem("cachedAttorneys"),c=localStorage.getItem("cachedTimeAttorneys"),d=30*60*1e3;if(u&&c&&new Date-new Date(parseInt(c))<d)return JSON.parse(u);{const f=await a();return localStorage.setItem("cachedAttorneys",JSON.stringify(f)),localStorage.setItem("cachedTimeAttorneys",new Date().getTime().toString()),f}}catch(u){return console.error("Error getting meetings:",u),[]}}return bt(async()=>{let u=await l();u=u.filter(c=>c.mail!=="admin@gmail.com"),r.value=u}),(u,c)=>(ee(),le("section",P$,[I("div",C$,[I("button",{onClick:o,class:"bg-white rounded-lg border w-64 h-56 border-gray-200 shadow-lg flex items-center justify-center"},N$),(ee(!0),le(Se,null,Qe(r.value,d=>(ee(),le("button",{key:d.id,onClick:f=>s(d.id),class:"bg-white rounded-lg border w-64 h-56 border-gray-200 shadow-lg flex flex-col items-center justify-between p-2"},[I("div",L$,[I("img",{src:d.photo_url,alt:"Attorney Photo",class:"w-full h-full object-cover rounded-md"},null,8,$$)])],8,M$))),128))])]))}};function Le(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ft(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function kr(t,e){const n=Le(t);return isNaN(e)?ft(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Pr(t,e){const n=Le(t);if(isNaN(e))return ft(t,NaN);if(!e)return n;const r=n.getDate(),i=ft(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function mk(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,u=Le(t),c=r||n?Pr(u,r+n*12):u,d=o||i?kr(c,o+i*7):c,f=a+s*60,p=(l+f*60)*1e3;return ft(t,d.getTime()+p)}function F$(t,e){const n=+Le(t);return ft(t,n+e)}const gk=6048e5,j$=864e5,B$=6e4,vk=36e5,U$=1e3;function q$(t,e){return F$(t,e*vk)}let H$={};function bs(){return H$}function Fr(t,e){var a,l,u,c;const n=bs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Le(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function da(t){return Fr(t,{weekStartsOn:1})}function yk(t){const e=Le(t),n=e.getFullYear(),r=ft(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=da(r),o=ft(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=da(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function m_(t){const e=Le(t);return e.setHours(0,0,0,0),e}function sd(t){const e=Le(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _k(t,e){const n=m_(t),r=m_(e),i=+n-sd(n),o=+r-sd(r);return Math.round((i-o)/j$)}function z$(t){const e=yk(t),n=ft(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),da(n)}function K$(t,e){const n=e*3;return Pr(t,n)}function Xg(t,e){return Pr(t,e*12)}function g_(t,e){const n=Le(t),r=Le(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function bk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _l(t){if(!bk(t)&&typeof t!="number")return!1;const e=Le(t);return!isNaN(Number(e))}function v_(t){const e=Le(t);return Math.trunc(e.getMonth()/3)+1}function Y$(t,e){const n=Le(t),r=Le(e);return n.getFullYear()-r.getFullYear()}function W$(t,e){const n=Le(t),r=Le(e),i=g_(n,r),o=Math.abs(Y$(n,r));n.setFullYear(1584),r.setFullYear(1584);const s=g_(n,r)===-i,a=i*(o-+s);return a===0?0:a}function wk(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const o=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let a=1;const l=[];for(;+s<=o;)l.push(Le(s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return i?l.reverse():l}function Qo(t){const e=Le(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function G$(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const o=i?+Qo(n):+Qo(r);let s=Qo(i?r:n),a=1;const l=[];for(;+s<=o;)l.push(Le(s)),s=K$(s,a);return i?l.reverse():l}function Q$(t){const e=Le(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Tk(t){const e=Le(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Jg(t){const e=Le(t),n=ft(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ek(t,e){var a,l,u,c;const n=bs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Le(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function y_(t){const e=Le(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const X$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J$=(t,e,n)=>{let r;const i=X$[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Z$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},e5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},t5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},n5={date:qh({formats:Z$,defaultWidth:"full"}),time:qh({formats:e5,defaultWidth:"full"}),dateTime:qh({formats:t5,defaultWidth:"full"})},r5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i5=(t,e,n,r)=>r5[t];function qa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const o5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},f5={ordinalNumber:d5,era:qa({values:o5,defaultWidth:"wide"}),quarter:qa({values:s5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qa({values:a5,defaultWidth:"wide"}),day:qa({values:l5,defaultWidth:"wide"}),dayPeriod:qa({values:u5,defaultWidth:"wide",formattingValues:c5,defaultFormattingWidth:"wide"})};function Ha(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?p5(a,d=>d.test(s)):h5(a,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function h5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function p5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function m5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const g5=/^(\d+)(th|st|nd|rd)?/i,v5=/\d+/i,y5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_5={any:[/^b/i,/^(a|c)/i]},b5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w5={any:[/1/i,/2/i,/3/i,/4/i]},T5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},A5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},x5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},I5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S5={ordinalNumber:m5({matchPattern:g5,parsePattern:v5,valueCallback:t=>parseInt(t,10)}),era:Ha({matchPatterns:y5,defaultMatchWidth:"wide",parsePatterns:_5,defaultParseWidth:"any"}),quarter:Ha({matchPatterns:b5,defaultMatchWidth:"wide",parsePatterns:w5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ha({matchPatterns:T5,defaultMatchWidth:"wide",parsePatterns:E5,defaultParseWidth:"any"}),day:Ha({matchPatterns:k5,defaultMatchWidth:"wide",parsePatterns:A5,defaultParseWidth:"any"}),dayPeriod:Ha({matchPatterns:x5,defaultMatchWidth:"any",parsePatterns:I5,defaultParseWidth:"any"})},kk={code:"en-US",formatDistance:J$,formatLong:n5,formatRelative:i5,localize:f5,match:S5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function R5(t){const e=Le(t);return _k(e,Jg(e))+1}function Zg(t){const e=Le(t),n=+da(e)-+z$(e);return Math.round(n/gk)+1}function ev(t,e){var c,d,f,h;const n=Le(t),r=n.getFullYear(),i=bs(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=ft(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Fr(s,e),l=ft(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Fr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function O5(t,e){var a,l,u,c;const n=bs(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=ev(t,e),o=ft(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Fr(o,e)}function tv(t,e){const n=Le(t),r=+Fr(n,e)-+O5(n,e);return Math.round(r/gk)+1}function gt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const zi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return gt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):gt(n+1,2)},d(t,e){return gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return gt(t.getHours()%12||12,e.length)},H(t,e){return gt(t.getHours(),e.length)},m(t,e){return gt(t.getMinutes(),e.length)},s(t,e){return gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return gt(i,e.length)}},Rs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},__={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return zi.y(t,e)},Y:function(t,e,n,r){const i=ev(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return gt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):gt(o,e.length)},R:function(t,e){const n=yk(t);return gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return gt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return zi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=tv(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):gt(i,e.length)},I:function(t,e,n){const r=Zg(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zi.d(t,e)},D:function(t,e,n){const r=R5(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return gt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return gt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Rs.noon:r===0?i=Rs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Rs.evening:r>=12?i=Rs.afternoon:r>=4?i=Rs.morning:i=Rs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zi.s(t,e)},S:function(t,e){return zi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return w_(r);case"XXXX":case"XX":return Bo(r);case"XXXXX":case"XXX":default:return Bo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return w_(r);case"xxxx":case"xx":return Bo(r);case"xxxxx":case"xxx":default:return Bo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+b_(r,":");case"OOOO":default:return"GMT"+Bo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+b_(r,":");case"zzzz":default:return"GMT"+Bo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return gt(r,e.length)},T:function(t,e,n){const r=t.getTime();return gt(r,e.length)}};function b_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+gt(o,2)}function w_(t,e){return t%60===0?(t>0?"-":"+")+gt(Math.abs(t)/60,2):Bo(t,e)}function Bo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=gt(Math.trunc(r/60),2),o=gt(r%60,2);return n+i+e+o}const T_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ak=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},P5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return T_(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",T_(r,e)).replace("{{time}}",Ak(i,e))},im={p:Ak,P:P5},C5=/^D+$/,D5=/^Y+$/,N5=["D","DD","YY","YYYY"];function xk(t){return C5.test(t)}function Ik(t){return D5.test(t)}function om(t,e,n){const r=M5(t,e,n);if(console.warn(r),N5.includes(t))throw new RangeError(r)}function M5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const L5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V5=/^'([^]*?)'?$/,F5=/''/g,j5=/[a-zA-Z]/;function Cr(t,e,n){var c,d,f,h,p,m,_,v;const r=bs(),i=(n==null?void 0:n.locale)??r.locale??kk,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(_=r.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??0,a=Le(t);if(!_l(a))throw new RangeError("Invalid time value");let l=e.match($5).map(y=>{const b=y[0];if(b==="p"||b==="P"){const g=im[b];return g(y,i.formatLong)}return y}).join("").match(L5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:B5(y)};if(__[b])return{isToken:!0,value:y};if(b.match(j5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ik(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&xk(b))&&om(b,e,String(t));const g=__[b[0]];return g(a,b,i.localize,u)}).join("")}function B5(t){const e=t.match(V5);return e?e[1].replace(F5,"'"):t}function U5(t){return Le(t).getDay()}function q5(t){const e=Le(t),n=e.getFullYear(),r=e.getMonth(),i=ft(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function H5(){return Object.assign({},bs())}function Li(t){return Le(t).getHours()}function z5(t){let n=Le(t).getDay();return n===0&&(n=7),n}function To(t){return Le(t).getMinutes()}function nt(t){return Le(t).getMonth()}function fa(t){return Le(t).getSeconds()}function et(t){return Le(t).getFullYear()}function ha(t,e){const n=Le(t),r=Le(e);return n.getTime()>r.getTime()}function Ql(t,e){const n=Le(t),r=Le(e);return+n<+r}function js(t,e){const n=Le(t),r=Le(e);return+n==+r}function K5(t,e){const n=e instanceof Date?ft(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const Y5=10;class Sk{constructor(){Pe(this,"subPriority",0)}validate(e,n){return!0}}class W5 extends Sk{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class G5 extends Sk{constructor(){super(...arguments);Pe(this,"priority",Y5);Pe(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ft(n,K5(n,Date))}}class ht{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new W5(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class Q5 extends ht{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ut={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ot(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ei(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*vk+o*B$+s*U$),rest:e.slice(n[0].length)}}function Rk(t){return Ot(Ut.anyDigitsSigned,t)}function Lt(t,e){switch(t){case 1:return Ot(Ut.singleDigit,e);case 2:return Ot(Ut.twoDigits,e);case 3:return Ot(Ut.threeDigits,e);case 4:return Ot(Ut.fourDigits,e);default:return Ot(new RegExp("^\\d{1,"+t+"}"),e)}}function ad(t,e){switch(t){case 1:return Ot(Ut.singleDigitSigned,e);case 2:return Ot(Ut.twoDigitsSigned,e);case 3:return Ot(Ut.threeDigitsSigned,e);case 4:return Ot(Ut.fourDigitsSigned,e);default:return Ot(new RegExp("^-?\\d{1,"+t+"}"),e)}}function nv(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ok(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function Pk(t){return t%400===0||t%4===0&&t%100!==0}class X5 extends ht{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return qt(Lt(4,n),o);case"yo":return qt(i.ordinalNumber(n,{unit:"year"}),o);default:return qt(Lt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=Ok(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class J5 extends ht{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return qt(Lt(4,n),o);case"Yo":return qt(i.ordinalNumber(n,{unit:"year"}),o);default:return qt(Lt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=ev(n,o);if(i.isTwoDigitYear){const l=Ok(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Fr(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Fr(n,o)}}class Z5 extends ht{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return ad(r==="R"?4:r.length,n)}set(n,r,i){const o=ft(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),da(o)}}class eV extends ht{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return ad(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class tV extends ht{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Lt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class nV extends ht{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Lt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class rV extends ht{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return qt(Ot(Ut.month,n),o);case"MM":return qt(Lt(2,n),o);case"Mo":return qt(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class iV extends ht{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return qt(Ot(Ut.month,n),o);case"LL":return qt(Lt(2,n),o);case"Lo":return qt(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function oV(t,e,n){const r=Le(t),i=tv(r,n)-e;return r.setDate(r.getDate()-i*7),r}class sV extends ht{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ot(Ut.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return Fr(oV(n,i,o),o)}}function aV(t,e){const n=Le(t),r=Zg(n)-e;return n.setDate(n.getDate()-r*7),n}class lV extends ht{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ot(Ut.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return da(aV(n,i))}}const uV=[31,28,31,30,31,30,31,31,30,31,30,31],cV=[31,29,31,30,31,30,31,31,30,31,30,31];class dV extends ht{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ot(Ut.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Lt(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=Pk(i),s=n.getMonth();return o?r>=1&&r<=cV[s]:r>=1&&r<=uV[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class fV extends ht{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ot(Ut.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Lt(r.length,n)}}validate(n,r){const i=n.getFullYear();return Pk(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function rv(t,e,n){var d,f,h,p;const r=bs(),i=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Le(t),s=o.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(s+u)%7:(l+u)%7-(s+u)%7;return kr(o,c)}class hV extends ht{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=rv(n,i,o),n.setHours(0,0,0,0),n}}class pV extends ht{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return qt(Lt(r.length,n),s);case"eo":return qt(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=rv(n,i,o),n.setHours(0,0,0,0),n}}class mV extends ht{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return qt(Lt(r.length,n),s);case"co":return qt(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=rv(n,i,o),n.setHours(0,0,0,0),n}}function gV(t,e){const n=Le(t),r=z5(n),i=e-r;return kr(n,i)}class vV extends ht{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return Lt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return qt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return qt(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return qt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return qt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=gV(n,i),n.setHours(0,0,0,0),n}}class yV extends ht{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(nv(i),0,0,0),n}}class _V extends ht{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(nv(i),0,0,0),n}}class bV extends ht{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(nv(i),0,0,0),n}}class wV extends ht{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ot(Ut.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class TV extends ht{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ot(Ut.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class EV extends ht{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ot(Ut.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class kV extends ht{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ot(Ut.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class AV extends ht{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ot(Ut.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class xV extends ht{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ot(Ut.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class IV extends ht{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return qt(Lt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class SV extends ht{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return ei(Zr.basicOptionalMinutes,n);case"XX":return ei(Zr.basic,n);case"XXXX":return ei(Zr.basicOptionalSeconds,n);case"XXXXX":return ei(Zr.extendedOptionalSeconds,n);case"XXX":default:return ei(Zr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ft(n,n.getTime()-sd(n)-i)}}class RV extends ht{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return ei(Zr.basicOptionalMinutes,n);case"xx":return ei(Zr.basic,n);case"xxxx":return ei(Zr.basicOptionalSeconds,n);case"xxxxx":return ei(Zr.extendedOptionalSeconds,n);case"xxx":default:return ei(Zr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ft(n,n.getTime()-sd(n)-i)}}class OV extends ht{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(n){return Rk(n)}set(n,r,i){return[ft(n,i*1e3),{timestampIsSet:!0}]}}class PV extends ht{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(n){return Rk(n)}set(n,r,i){return[ft(n,i),{timestampIsSet:!0}]}}const CV={G:new Q5,y:new X5,Y:new J5,R:new Z5,u:new eV,Q:new tV,q:new nV,M:new rV,L:new iV,w:new sV,I:new lV,d:new dV,D:new fV,E:new hV,e:new pV,c:new mV,i:new vV,a:new yV,b:new _V,B:new bV,h:new wV,H:new TV,K:new EV,k:new kV,m:new AV,s:new xV,S:new IV,X:new SV,x:new RV,t:new OV,T:new PV},DV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MV=/^'([^]*?)'?$/,LV=/''/g,$V=/\S/,VV=/[a-zA-Z]/;function sm(t,e,n,r){var m,_,v,y,b,g,w,P;const i=H5(),o=(r==null?void 0:r.locale)??i.locale??kk,s=(r==null?void 0:r.firstWeekContainsDate)??((_=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(v=i.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((P=(w=i.locale)==null?void 0:w.options)==null?void 0:P.weekStartsOn)??0;if(e==="")return t===""?Le(n):ft(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},u=[new G5],c=e.match(NV).map(k=>{const S=k[0];if(S in im){const D=im[S];return D(k,o.formatLong)}return k}).join("").match(DV),d=[];for(let k of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&Ik(k)&&om(k,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&xk(k)&&om(k,e,t);const S=k[0],D=CV[S];if(D){const{incompatibleTokens:O}=D;if(Array.isArray(O)){const T=d.find(C=>O.includes(C.token)||C.token===S);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${k}\` at the same time`)}else if(D.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);d.push({token:S,fullToken:k});const E=D.run(t,k,o.match,l);if(!E)return ft(n,NaN);u.push(E.setter),t=E.rest}else{if(S.match(VV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(k==="''"?k="'":S==="'"&&(k=FV(k)),t.indexOf(k)===0)t=t.slice(k.length);else return ft(n,NaN)}}if(t.length>0&&$V.test(t))return ft(n,NaN);const f=u.map(k=>k.priority).sort((k,S)=>S-k).filter((k,S,D)=>D.indexOf(k)===S).map(k=>u.filter(S=>S.priority===k).sort((S,D)=>D.subPriority-S.subPriority)).map(k=>k[0]);let h=Le(n);if(isNaN(h.getTime()))return ft(n,NaN);const p={};for(const k of f){if(!k.validate(h,l))return ft(n,NaN);const S=k.set(h,p,l);Array.isArray(S)?(h=S[0],Object.assign(p,S[1])):h=S}return ft(n,h)}function FV(t){return t.match(MV)[1].replace(LV,"'")}function E_(t,e){const n=Qo(t),r=Qo(e);return+n==+r}function jV(t,e){return kr(t,-e)}function Ck(t,e){const n=Le(t),r=n.getFullYear(),i=n.getDate(),o=ft(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=q5(o);return n.setMonth(e,Math.min(i,s)),n}function wt(t,e){let n=Le(t);return isNaN(+n)?ft(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Ck(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function BV(t,e){const n=Le(t);return n.setHours(e),n}function Dk(t,e){const n=Le(t);return n.setMilliseconds(e),n}function UV(t,e){const n=Le(t);return n.setMinutes(e),n}function Nk(t,e){const n=Le(t);return n.setSeconds(e),n}function ri(t,e){const n=Le(t);return isNaN(+n)?ft(t,NaN):(n.setFullYear(e),n)}function pa(t,e){return Pr(t,-e)}function qV(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,u=pa(t,r+n*12),c=jV(u,o+i*7),d=a+s*60,h=(l+d*60)*1e3;return ft(t,c.getTime()-h)}function Mk(t,e){return Xg(t,-e)}function Ra(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),I("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),I("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),I("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ra.compatConfig={MODE:3};function Lk(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),I("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Lk.compatConfig={MODE:3};function iv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}iv.compatConfig={MODE:3};function ov(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ov.compatConfig={MODE:3};function sv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),I("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}sv.compatConfig={MODE:3};function av(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}av.compatConfig={MODE:3};function lv(){return ee(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[I("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}lv.compatConfig={MODE:3};const ci=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),uv=(t,e,n)=>am(t,e,n)||Te(),HV=(t,e,n)=>{const r=e.dateInTz?ci(new Date(t),e.dateInTz):Te(t);return n?zn(r,!0):r},am=(t,e,n)=>{if(!t)return null;const r=n?zn(Te(t),!0):Te(t);return e?e.exactMatch?HV(t,e,n):ci(r,e.timezone):r},zV=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Er=(t=>(t.month="month",t.year="year",t))(Er||{}),Uo=(t=>(t.top="top",t.bottom="bottom",t))(Uo||{}),es=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(es||{}),On=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(On||{});const KV=["timestamp","date","iso"];var Un=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Un||{}),Rt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Rt||{});function k_(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function YV(t){return e=>Cr(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const WV=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(YV(t))}catch{i=r.map(k_(e))}else i=r.map(k_(e));const o=i.slice(0,n),s=i.slice(n+1,i.length);return[i[n]].concat(...s).concat(...o)},cv=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:jk(i,e)});return n?r.reverse():r},$k=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const s=o<10?`0${o}`:o;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const o=n==="long"?"MMMM":"MMM";return r.map((s,a)=>{const l=Cr(ci(s,"UTC"),o,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((o,s)=>{const a=i.format(o);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:s}})},GV=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Zt=t=>{const e=ae(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},QV=t=>({type:"dot",...t??{}}),Vk=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,dv={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},rn=t=>t,A_=t=>t===0?t:!t||isNaN(+t)?null:+t,x_=t=>t===null,Fk=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},XV=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Xl=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const o=+n,s=+e;return r&&i?+t>o||+t<s:r?+t>o:i?+t<s:!1},ma=(t,e)=>XV(t).map(n=>n.map(r=>{const{active:i,disabled:o,isBetween:s,highlighted:a}=e(r);return{...r,active:i,disabled:o,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:o,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:o&&i,dp__cell_in_between:s,"dp--highlighted":a}}})),ho=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},JV=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function ZV(t,e){let n=[...document.querySelectorAll(JV())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const e6=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),jk=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),fv=t=>Cr(t,"dd-MM-yyyy"),Hh=t=>Array.isArray(t),ld=(t,e)=>e.get(fv(t)),t6=(t,e)=>t?e?e instanceof Map?!!ld(t,e):e(Te(t)):!1:!0,Jn=(t,e,n=!1)=>{if(t.key===Rt.enter||t.key===Rt.space)return n&&t.preventDefault(),e()},I_=(t,e,n,r,i,o)=>{const s=sm(t,e.slice(0,t.length),new Date,{locale:o});return _l(s)&&bk(s)?r||i?s:wt(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},n6=(t,e,n,r,i,o)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return I_(t,e,s,r,i,o);if(Array.isArray(e)){let a=null;for(const l of e)if(a=I_(t,l,s,r,i,o),a)break;return a}return typeof e=="function"?e(t):null},Te=t=>t?new Date(t):new Date,r6=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${o}T${s}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},zn=(t,e)=>{const n=Te(JSON.parse(JSON.stringify(t))),r=wt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?Q$(r):r},po=(t,e,n,r)=>{let i=t?Te(t):Te();return(e||e===0)&&(i=BV(i,+e)),(n||n===0)&&(i=UV(i,+n)),(r||r===0)&&(i=Nk(i,+r)),Dk(i,0)},Nt=(t,e)=>!t||!e?!1:Ql(zn(t),zn(e)),rt=(t,e)=>!t||!e?!1:js(zn(t),zn(e)),Bt=(t,e)=>!t||!e?!1:ha(zn(t),zn(e)),_f=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Bt(n,t[0])&&Nt(n,t[1]):t!=null&&t[0]&&e?Bt(n,t[0])&&Nt(n,e)||Nt(n,t[0])&&Bt(n,e):!1,Ar=t=>{const e=wt(new Date(t),{date:1});return zn(e)},zh=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ts=t=>({hours:Li(t),minutes:To(t),seconds:fa(t)}),Bk=(t,e)=>{if(e){const n=et(Te(e));if(n>t)return 12;if(n===t)return nt(Te(e))}},Uk=(t,e)=>{if(e){const n=et(Te(e));return n<t?-1:n===t?nt(Te(e)):void 0}},ga=t=>{if(t)return et(Te(t))},qk=(t,e)=>{const n=Bt(t,e)?e:t,r=Bt(e,t)?e:t;return wk({start:n,end:r})},i6=t=>{const e=Pr(t,1);return{month:nt(e),year:et(e)}},bi=(t,e)=>{const n=Fr(t,{weekStartsOn:+e}),r=Ek(t,{weekStartsOn:+e});return[n,r]},Hk=(t,e)=>{const n={hours:Li(Te()),minutes:To(Te()),seconds:e?fa(Te()):0};return Object.assign(n,t)},oo=(t,e,n)=>[wt(Te(t),{date:1}),wt(Te(),{month:e,year:n,date:1})],xi=(t,e,n)=>{let r=t?Te(t):Te();return(e||e===0)&&(r=Ck(r,e)),n&&(r=ri(r,n)),r},zk=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const o=i?Pr(t,1):pa(t,1),s=[nt(o),et(o)];return i?!s6(...s,e):!o6(...s,n)},o6=(t,e,n)=>Nt(...oo(n,t,e))||rt(...oo(n,t,e)),s6=(t,e,n)=>Bt(...oo(n,t,e))||rt(...oo(n,t,e)),Kk=(t,e,n,r,i,o,s)=>{if(typeof e=="function"&&!s)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Cr(t[0],o,a)}${i&&!t[1]?"":r}${t[1]?Cr(t[1],o,a):""}`:Cr(t,o,a)},Os=t=>{if(t)return null;throw new Error(dv.prop("partial-range"))},tc=(t,e)=>{if(e)return t();throw new Error(dv.prop("range"))},lm=t=>Array.isArray(t)?_l(t[0])&&(t[1]?_l(t[1]):!0):t?_l(t):!1,a6=(t,e)=>wt(e??Te(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Kh=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Ql(t,e):ha(t,e),o={seconds:0,milliseconds:0};return i||js(wt(t,o),wt(e,o))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Yh=(t,e,n)=>t?a6(t,e):Te(n??e),S_=(t,e,n,r,i)=>{if(Array.isArray(r)){const s=Yh(t,r[0],e),a=Yh(t,r[1],e);return Kh(r[0],s,n,!!e)&&Kh(r[1],a,n,!!e)&&i}const o=Yh(t,r,e);return Kh(r,o,n,!!e)&&i},Wh=t=>wt(Te(),ts(t)),l6=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>et(Te(n))===e).map(n=>nt(n)):[],Yk=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),hv=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Wk=t=>Cr(t,"yyyy-MM-dd"),za=jr({menuFocused:!1,shiftKeyInMenu:!1}),Gk=()=>{const t=n=>{za.menuFocused=n},e=n=>{za.shiftKeyInMenu!==n&&(za.shiftKeyInMenu=n)};return{control:pe(()=>({shiftKeyInMenu:za.shiftKeyInMenu,menuFocused:za.menuFocused})),setMenuFocused:t,setShiftKey:e}},kt=jr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Gh=he(null),nc=he(!1),Qh=he(!1),Xh=he(!1),Jh=he(!1),Sn=he(0),jt=he(0),Po=()=>{const t=pe(()=>nc.value?[...kt.selectionGrid,kt.actionRow].filter(d=>d.length):Qh.value?[...kt.timePicker[0],...kt.timePicker[1],Jh.value?[]:[Gh.value],kt.actionRow].filter(d=>d.length):Xh.value?[...kt.monthPicker,kt.actionRow]:[kt.monthYear,...kt.calendar,kt.time,kt.actionRow].filter(d=>d.length)),e=d=>{Sn.value=d?Sn.value+1:Sn.value-1;let f=null;t.value[jt.value]&&(f=t.value[jt.value][Sn.value]),!f&&t.value[jt.value+(d?1:-1)]?(jt.value=jt.value+(d?1:-1),Sn.value=d?0:t.value[jt.value].length-1):f||(Sn.value=d?Sn.value-1:Sn.value+1)},n=d=>{jt.value===0&&!d||jt.value===t.value.length&&d||(jt.value=d?jt.value+1:jt.value-1,t.value[jt.value]?t.value[jt.value]&&!t.value[jt.value][Sn.value]&&Sn.value!==0&&(Sn.value=t.value[jt.value].length-1):jt.value=d?jt.value-1:jt.value+1)},r=d=>{let f=null;t.value[jt.value]&&(f=t.value[jt.value][Sn.value]),f?f.focus({preventScroll:!nc.value}):Sn.value=d?Sn.value-1:Sn.value+1},i=()=>{e(!0),r(!0)},o=()=>{e(!1),r(!1)},s=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{kt[f]=d},u=(d,f)=>{kt[f]=d},c=()=>{Sn.value=0,jt.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{Gh.value=d},setSelectionGrid:d=>{nc.value=d,c(),d||(kt.selectionGrid=[])},setTimePicker:(d,f=!1)=>{Qh.value=d,Jh.value=f,c(),d||(kt.timePicker[0]=[],kt.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{kt.timePicker[f]=d},arrowRight:i,arrowLeft:o,arrowUp:s,arrowDown:a,clearArrowNav:()=>{kt.monthYear=[],kt.calendar=[],kt.time=[],kt.actionRow=[],kt.selectionGrid=[],kt.timePicker[0]=[],kt.timePicker[1]=[],nc.value=!1,Qh.value=!1,Jh.value=!1,Xh.value=!1,c(),Gh.value=null},setMonthPicker:d=>{Xh.value=d,c()},refSets:kt}},R_=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),u6=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),O_=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,c6=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:O_(!1)};const r=e?t:{},i=e?r.count??!0:t,o=O_(i);return Object.assign(n,r,{count:o})},d6=(t,e,n)=>t||(typeof n=="string"?n:e),f6=t=>typeof t=="boolean"?t?R_({}):!1:R_(t),h6=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},p6=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),m6=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),g6=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},v6=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),y6=t=>{const e={dates:Array.isArray(t)?t.map(n=>Te(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},_6=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},b6=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},w6=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Zh=(t,e,n)=>new Map(t.map(r=>{const i=uv(r,e,n);return[fv(i),i]})),T6=(t,e)=>t.length?new Map(t.map(n=>{const r=uv(n.date,e);return[fv(r),n]})):null,E6=t=>{var e;return{minDate:am(t.minDate,t.timezone,t.isSpecific),maxDate:am(t.maxDate,t.timezone,t.isSpecific),disabledDates:Hh(t.disabledDates)?Zh(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Hh(t.allowedDates)?Zh(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Hh((e=t.highlight)==null?void 0:e.dates)?Zh(t.highlight.dates,t.timezone):t.highlight,markers:T6(t.markers,t.timezone)}},k6=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Dt=t=>{const e=()=>{const w=t.enableSeconds?":ss":"",P=t.enableMinutes?":mm":"";return t.is24?`HH${P}${w}`:`hh${P}${w} aa`},n=()=>{var w;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((w=_.value)==null?void 0:w.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=w=>Hk(w,t.enableSeconds),i=()=>g.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,o=pe(()=>c6(t.multiCalendars)),s=pe(()=>i()),a=pe(()=>u6(t.ariaLabels)),l=pe(()=>p6(t.filters)),u=pe(()=>f6(t.transitions)),c=pe(()=>m6(t.actionRow)),d=pe(()=>d6(t.previewFormat,t.format,n())),f=pe(()=>h6(t.textInput)),h=pe(()=>g6(t.inline)),p=pe(()=>v6(t.config)),m=pe(()=>y6(t.highlight)),_=pe(()=>_6(t.weekNumbers)),v=pe(()=>w6(t.timezone,t.emitTimezone)),y=pe(()=>k6(t.multiDates,t.multiDatesLimit)),b=pe(()=>E6({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:m.value,markers:t.markers,timezone:v.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),g=pe(()=>b6(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:u,defaultedMultiCalendars:o,defaultedStartTime:s,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:_,defaultedRange:g,propDates:b,defaultedTz:v,defaultedMultiDates:y,getDefaultPattern:n,getDefaultStartTime:i}},A6=(t,e,n)=>{const r=he(),{defaultedTextInput:i,defaultedRange:o,defaultedTz:s,defaultedMultiDates:a,getDefaultPattern:l}=Dt(e),u=he(""),c=kl(e,"format"),d=kl(e,"formatLocale");Gt(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,j(!0))},{deep:!0}),Gt(o,(A,q)=>{A.enabled!==q.enabled&&(r.value=null)}),Gt(c,()=>{re()});const f=A=>s.value.timezone&&s.value.convertModel?ci(A,s.value.timezone):A,h=A=>{if(s.value.timezone&&s.value.convertModel){const q=zV(s.value.timezone);return q$(A,q)}return A},p=(A,q,B=!1)=>Kk(A,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,q??l(),B),m=A=>A?e.modelType?z(A):{hours:Li(A),minutes:To(A),seconds:e.enableSeconds?fa(A):0}:null,_=A=>e.modelType?z(A):{month:nt(A),year:et(A)},v=A=>Array.isArray(A)?a.value.enabled?A.map(q=>y(q,ri(Te(),q))):tc(()=>[ri(Te(),A[0]),A[1]?ri(Te(),A[1]):Os(o.value.partialRange)],o.value.enabled):ri(Te(),+A),y=(A,q)=>(typeof A=="string"||typeof A=="number")&&e.modelType?Z(A):q,b=A=>Array.isArray(A)?[y(A[0],po(null,+A[0].hours,+A[0].minutes,A[0].seconds)),y(A[1],po(null,+A[1].hours,+A[1].minutes,A[1].seconds))]:y(A,po(null,A.hours,A.minutes,A.seconds)),g=A=>{const q=wt(Te(),{date:1});return Array.isArray(A)?a.value.enabled?A.map(B=>y(B,xi(q,+B.month,+B.year))):tc(()=>[y(A[0],xi(q,+A[0].month,+A[0].year)),y(A[1],A[1]?xi(q,+A[1].month,+A[1].year):Os(o.value.partialRange))],o.value.enabled):y(A,xi(q,+A.month,+A.year))},w=A=>{if(Array.isArray(A))return A.map(q=>Z(q));throw new Error(dv.dateArr("multi-dates"))},P=A=>{if(Array.isArray(A)&&o.value.enabled){const q=A[0],B=A[1];return[Te(Array.isArray(q)?q[0]:null),Te(Array.isArray(B)?B[0]:null)]}return Te(A[0])},k=A=>e.modelAuto?Array.isArray(A)?[Z(A[0]),Z(A[1])]:e.autoApply?[Z(A)]:[Z(A),null]:Array.isArray(A)?tc(()=>A[1]?[Z(A[0]),A[1]?Z(A[1]):Os(o.value.partialRange)]:[Z(A[0])],o.value.enabled):Z(A),S=()=>{Array.isArray(r.value)&&o.value.enabled&&r.value.length===1&&r.value.push(Os(o.value.partialRange))},D=()=>{const A=r.value;return[z(A[0]),A[1]?z(A[1]):Os(o.value.partialRange)]},O=()=>r.value[1]?D():z(rn(r.value[0])),E=()=>(r.value||[]).map(A=>z(A)),T=(A=!1)=>(A||S(),e.modelAuto?O():a.value.enabled?E():Array.isArray(r.value)?tc(()=>D(),o.value.enabled):z(rn(r.value))),C=A=>!A||Array.isArray(A)&&!A.length?null:e.timePicker?b(rn(A)):e.monthPicker?g(rn(A)):e.yearPicker?v(rn(A)):a.value.enabled?w(rn(A)):e.weekPicker?P(rn(A)):k(rn(A)),F=A=>{const q=C(A);lm(rn(q))?(r.value=rn(q),re()):(r.value=null,u.value="")},M=()=>{const A=q=>Cr(q,i.value.format);return`${A(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?A(r.value[1]):""}`},V=()=>n.value&&r.value?Array.isArray(r.value)?M():Cr(r.value,i.value.format):p(r.value),U=()=>r.value?a.value.enabled?r.value.map(A=>p(A)).join("; "):i.value.enabled&&typeof i.value.format=="string"?V():p(r.value):"",re=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=U():u.value=e.format(r.value)},Z=A=>{if(e.utc){const q=new Date(A);return e.utc==="preserve"?new Date(q.getTime()+q.getTimezoneOffset()*6e4):q}return e.modelType?KV.includes(e.modelType)?f(new Date(A)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?f(sm(A,l(),new Date,{locale:d.value})):f(sm(A,e.modelType,new Date,{locale:d.value})):f(new Date(A))},z=A=>A?e.utc?r6(A,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(A):e.modelType==="iso"?h(A).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(A)):p(h(A),e.modelType,!0):h(A):"",N=(A,q=!1,B=!1)=>{if(B)return A;if(t("update:model-value",A),s.value.emitTimezone&&q){const ne=Array.isArray(A)?A.map(ue=>ci(rn(ue),s.value.emitTimezone)):ci(rn(A),s.value.emitTimezone);t("update:model-timezone-value",ne)}},$=A=>Array.isArray(r.value)?a.value.enabled?r.value.map(q=>A(q)):[A(r.value[0]),r.value[1]?A(r.value[1]):Os(o.value.partialRange)]:A(rn(r.value)),R=()=>{if(Array.isArray(r.value)){const A=bi(r.value[0],e.weekStart),q=r.value[1]?bi(r.value[1],e.weekStart):[];return[A.map(B=>Te(B)),q.map(B=>Te(B))]}return bi(r.value,e.weekStart).map(A=>Te(A))},W=(A,q)=>N(rn($(A)),!1,q),J=A=>{const q=R();return A?q:t("update:model-value",R())},j=(A=!1)=>(A||re(),e.monthPicker?W(_,A):e.timePicker?W(m,A):e.yearPicker?W(et,A):e.weekPicker?J(A):N(T(A),!0,A));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?o.value.enabled?o.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:F,formatInputValue:re,emitModelValue:j}},x6=(t,e)=>{const{defaultedFilters:n,propDates:r}=Dt(t),{validateMonthYearInRange:i}=Co(t),o=(c,d)=>{let f=c;return n.value.months.includes(nt(f))?(f=d?Pr(c,1):pa(c,1),o(f,d)):f},s=(c,d)=>{let f=c;return n.value.years.includes(et(f))?(f=d?Xg(c,1):Mk(c,1),s(f,d)):f},a=(c,d=!1)=>{const f=wt(Te(),{month:t.month,year:t.year});let h=c?Pr(f,1):pa(f,1);t.disableYearSelect&&(h=ri(h,t.year));let p=nt(h),m=et(h);n.value.months.includes(p)&&(h=o(h,c),p=nt(h),m=et(h)),n.value.years.includes(m)&&(h=s(h,c),m=et(h)),i(p,m,c,t.preventMinMaxNavigation)&&l(p,m,d)},l=(c,d,f)=>{e("update-month-year",{month:c,year:d,fromNav:f})},u=pe(()=>c=>zk(wt(Te(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:a,isDisabled:u,updateMonthYear:l}},bf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},qr={...bf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},I6=["title"],S6=["disabled"],R6=Ht({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...qr},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:o,defaultedMultiCalendars:s,defaultedTextInput:a,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=Dt(r),{isTimeValid:f,isMonthValid:h}=Co(r),{buildMatrix:p}=Po(),m=he(null),_=he(null),v=he(!1),y=he({}),b=he(null),g=he(null);bt(()=>{r.arrowNavigation&&p([Zt(m),Zt(_)],"actionRow"),w(),window.addEventListener("resize",w)}),ya(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var M,V;const U=(M=b.value)==null?void 0:M.getBoundingClientRect(),re=(V=g.value)==null?void 0:V.getBoundingClientRect();U&&re&&(y.value.maxWidth=`${re.width-U.width-20}px`),v.value=!0},0)},P=pe(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),k=pe(()=>!f.value(r.internalModelValue)||!h.value(r.internalModelValue)||!P.value),S=()=>{const M=o.value;return r.timePicker||r.monthPicker,M(rn(r.internalModelValue))},D=()=>{const M=r.internalModelValue;return s.value.count>0?`${O(M[0])} - ${O(M[1])}`:[O(M[0]),O(M[1])]},O=M=>Kk(M,o.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,d()),E=pe(()=>!r.internalModelValue||!r.menuMount?"":typeof o.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?D():c.value.enabled?r.internalModelValue.map(M=>`${O(M)}`):r.modelAuto?`${O(r.internalModelValue[0])}`:`${O(r.internalModelValue[0])} -`:O(r.internalModelValue):S()),T=()=>c.value.enabled?"; ":" - ",C=pe(()=>Array.isArray(E.value)?E.value.join(T()):E.value),F=()=>{f.value(r.internalModelValue)&&h.value(r.internalModelValue)&&P.value?n("select-date"):n("invalid-select")};return(M,V)=>(ee(),le("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[M.$slots["action-row"]?Ce(M.$slots,"action-row",an(tn({key:0},{internalModelValue:M.internalModelValue,disabled:k.value,selectDate:()=>M.$emit("select-date"),closePicker:()=>M.$emit("close-picker")}))):(ee(),le(Se,{key:1},[ae(i).showPreview?(ee(),le("div",{key:0,class:"dp__selection_preview",title:C.value,style:sn(y.value)},[M.$slots["action-preview"]&&v.value?Ce(M.$slots,"action-preview",{key:0,value:M.internalModelValue}):ge("",!0),!M.$slots["action-preview"]&&v.value?(ee(),le(Se,{key:1},[un(xe(C.value),1)],64)):ge("",!0)],12,I6)):ge("",!0),I("div",{ref_key:"actionBtnContainer",ref:b,class:"dp__action_buttons","data-dp-element":"action-row"},[M.$slots["action-buttons"]?Ce(M.$slots,"action-buttons",{key:0,value:M.internalModelValue}):ge("",!0),M.$slots["action-buttons"]?ge("",!0):(ee(),le(Se,{key:1},[!ae(l).enabled&&ae(i).showCancel?(ee(),le("button",{key:0,ref_key:"cancelButtonRef",ref:m,type:"button",class:"dp__action_button dp__action_cancel",onClick:V[0]||(V[0]=U=>M.$emit("close-picker")),onKeydown:V[1]||(V[1]=U=>ae(Jn)(U,()=>M.$emit("close-picker")))},xe(M.cancelText),545)):ge("",!0),ae(i).showNow?(ee(),le("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:V[2]||(V[2]=U=>M.$emit("select-now")),onKeydown:V[3]||(V[3]=U=>ae(Jn)(U,()=>M.$emit("select-now")))},xe(M.nowButtonLabel),33)):ge("",!0),ae(i).showSelect?(ee(),le("button",{key:2,ref_key:"selectButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_select",disabled:k.value,"data-test":"select-button",onKeydown:V[4]||(V[4]=U=>ae(Jn)(U,()=>F())),onClick:F},xe(M.selectText),41,S6)):ge("",!0)],64))],512)],64))],512))}}),O6={class:"dp__selection_grid_header"},P6=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],C6=["aria-label"],bu=Ht({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:o}=Po(),s=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Dt(a),{hideNavigationButtons:d}=Ef(),f=he(!1),h=he(null),p=he(null),m=he([]),_=he(),v=he(null),y=he(0),b=he(null);Vb(()=>{h.value=null}),bt(()=>{Tn().then(()=>E()),a.noOverlayFocus||w(),g(!0)}),ya(()=>g(!1));const g=$=>{var R;a.arrowNavigation&&((R=a.headerRefs)!=null&&R.length?o($):r($))},w=()=>{var $;const R=Zt(p);R&&(u.value.enabled||(h.value?($=h.value)==null||$.focus({preventScroll:!0}):R.focus({preventScroll:!0})),f.value=R.clientHeight<R.scrollHeight)},P=pe(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),k=pe(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),S=pe(()=>({dp__overlay_col:!0})),D=pe(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),O=pe(()=>{var $,R;return{dp__overlay_container:!0,dp__container_flex:(($=a.items)==null?void 0:$.length)<=6,dp__container_block:((R=a.items)==null?void 0:R.length)>6}});Gt(()=>a.items,()=>E(!1),{deep:!0});const E=($=!0)=>{Tn().then(()=>{const R=Zt(h),W=Zt(p),J=Zt(v),j=Zt(b),A=J?J.getBoundingClientRect().height:0;W&&(W.getBoundingClientRect().height?y.value=W.getBoundingClientRect().height-A:y.value=c.value.modeHeight-A),R&&j&&$&&(j.scrollTop=R.offsetTop-j.offsetTop-(y.value/2-R.getBoundingClientRect().height)-A)})},T=$=>{$.disabled||s("selected",$.value)},C=()=>{s("toggle"),s("reset-flow")},F=()=>{a.escClose&&C()},M=($,R,W,J)=>{$&&((R.active||R.value===a.focusValue)&&(h.value=$),a.arrowNavigation&&(Array.isArray(m.value[W])?m.value[W][J]=$:m.value[W]=[$],V()))},V=()=>{var $,R;const W=($=a.headerRefs)!=null&&$.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[v.value]]);i(rn(W),(R=a.headerRefs)!=null&&R.length?"monthPicker":"selectionGrid")},U=$=>{a.arrowNavigation||ho($,c.value,!0)},re=$=>{_.value=$,s("hover-value",$)},Z=()=>{if(C(),!a.isLast){const $=e6(a.menuWrapRef??null,"action-row");if($){const R=Fk($);R==null||R.focus()}}},z=$=>{switch($.key){case Rt.esc:return F();case Rt.arrowLeft:return U($);case Rt.arrowRight:return U($);case Rt.arrowUp:return U($);case Rt.arrowDown:return U($);default:return}},N=$=>{if($.key===Rt.enter)return C();if($.key===Rt.tab)return Z()};return e({focusGrid:w}),($,R)=>{var W;return ee(),le("div",{ref_key:"gridWrapRef",ref:p,class:Je(P.value),style:sn(k.value),role:"dialog",tabindex:"0",onKeydown:z,onClick:R[0]||(R[0]=Nr(()=>{},["prevent"]))},[I("div",{ref_key:"containerRef",ref:b,class:Je(O.value),role:"grid",style:sn({"--dp-overlay-height":`${y.value}px`})},[I("div",O6,[Ce($.$slots,"header")]),$.$slots.overlay?Ce($.$slots,"overlay",{key:0}):(ee(!0),le(Se,{key:1},Qe($.items,(J,j)=>(ee(),le("div",{key:j,class:Je(["dp__overlay_row",{dp__flex_row:$.items.length>=3}]),role:"row"},[(ee(!0),le(Se,null,Qe(J,(A,q)=>(ee(),le("div",{key:A.value,ref_for:!0,ref:B=>M(B,A,j,q),role:"gridcell",class:Je(S.value),"aria-selected":A.active||void 0,"aria-disabled":A.disabled||void 0,tabindex:"0","data-test":A.text,onClick:Nr(B=>T(A),["prevent"]),onKeydown:B=>ae(Jn)(B,()=>T(A),!0),onMouseover:B=>re(A.value)},[I("div",{class:Je(A.className)},[$.$slots.item?Ce($.$slots,"item",{key:0,item:A}):ge("",!0),$.$slots.item?ge("",!0):(ee(),le(Se,{key:1},[un(xe(A.text),1)],64))],2)],42,P6))),128))],2))),128))],6),$.$slots["button-icon"]?Tt((ee(),le("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(W=ae(l))==null?void 0:W.toggleOverlay,class:Je(D.value),tabindex:"0",onClick:C,onKeydown:N},[Ce($.$slots,"button-icon")],42,C6)),[[ul,!ae(d)($.hideNavigation,$.type)]]):ge("",!0)],38)}}}),wf=Ht({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=pe(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=pe(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,o)=>(ee(),le("div",{class:Je({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(ee(!0),le(Se,null,Qe(n.value,(s,a)=>(ee(),le("div",{key:s,class:Je(r.value)},[Ce(i.$slots,"default",{instance:s,index:a})],2))),128))],2))}}),D6=["aria-label","aria-disabled"],bl=Ht({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=he(null);return bt(()=>n("set-ref",r)),(i,o)=>(ee(),le("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:o[0]||(o[0]=s=>i.$emit("activate")),onKeydown:o[1]||(o[1]=s=>ae(Jn)(s,()=>i.$emit("activate"),!0))},[I("span",{class:Je(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Ce(i.$slots,"default")],2)],40,D6))}}),N6={class:"dp--year-mode-picker"},M6=["aria-label","data-test"],Qk=Ht({__name:"YearModePicker",props:{...qr,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:o}=Ef(),{defaultedConfig:s,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Dt(r),{showTransition:c,transitionName:d}=wu(u),f=(m=!1,_)=>{n("toggle-year-picker",{flow:m,show:_})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,_)=>{var v,y,b;return ee(),le("div",N6,[ae(o)(ae(a),t.instance)?(ee(),Be(bl,{key:0,ref:"mpPrevIconRef","aria-label":(v=ae(l))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:_[0]||(_[0]=g=>p(!1))},{default:He(()=>[m.$slots["arrow-left"]?Ce(m.$slots,"arrow-left",{key:0}):ge("",!0),m.$slots["arrow-left"]?ge("",!0):(ee(),Be(ae(iv),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),I("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(y=ae(l))==null?void 0:y.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:_[1]||(_[1]=()=>f(!1)),onKeydown:_[2]||(_[2]=oS(()=>f(!1),["enter"]))},[m.$slots.year?Ce(m.$slots,"year",{key:0,year:t.year}):ge("",!0),m.$slots.year?ge("",!0):(ee(),le(Se,{key:1},[un(xe(t.year),1)],64))],40,M6),ae(i)(ae(a),t.instance)?(ee(),Be(bl,{key:1,ref:"mpNextIconRef","aria-label":(b=ae(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:_[3]||(_[3]=g=>p(!0))},{default:He(()=>[m.$slots["arrow-right"]?Ce(m.$slots,"arrow-right",{key:0}):ge("",!0),m.$slots["arrow-right"]?ge("",!0):(ee(),Be(ae(ov),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),Ue(Dr,{name:ae(d)(t.showYearPicker),css:ae(c)},{default:He(()=>[t.showYearPicker?(ee(),Be(bu,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!ae(s).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,type:"year",onToggle:f,onSelected:_[4]||(_[4]=g=>h(g))},Dn({"button-icon":He(()=>[m.$slots["calendar-icon"]?Ce(m.$slots,"calendar-icon",{key:0}):ge("",!0),m.$slots["calendar-icon"]?ge("",!0):(ee(),Be(ae(Ra),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:He(({item:g})=>[Ce(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ge("",!0)]),_:3},8,["name","css"])])}}}),pv=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>rt(t,r))){const r=e.value.filter(i=>!rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},mv=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Nt(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},Tf=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},Xk=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>ci(Te(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=ci(Te(t.value),t.timezone))},Jk=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Bt(t,e.value[0])||rt(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Nt(t,e.value[1])||rt(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],Zk=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:o,props:s,filters:a,year:l,month:u,emit:c})=>{const d=pe(()=>cv(s.yearRange,s.locale,s.reverseYears)),f=he([!1]),h=pe(()=>(D,O)=>{const E=wt(Ar(new Date),{month:u.value(D),year:l.value(D)}),T=O?Tk(E):Jg(E);return zk(T,r.value.maxDate,r.value.minDate,s.preventMinMaxNavigation,O)}),p=()=>Array.isArray(o.value)&&t.value.solo&&o.value[1],m=()=>{for(let D=0;D<t.value.count;D++)if(D===0)i.value[D]=i.value[0];else if(D===t.value.count-1&&p())i.value[D]={month:nt(o.value[1]),year:et(o.value[1])};else{const O=wt(Te(),i.value[D-1]);i.value[D]={month:nt(O),year:et(Xg(O,1))}}},_=D=>{if(!D)return m();const O=wt(Te(),i.value[D]);return i.value[0].year=et(Mk(O,t.value.count-1)),m()},v=(D,O)=>{const E=W$(O,D);return e.value.showLastInRange&&E>1?O:D},y=D=>s.focusStartDate||t.value.solo?D[0]:D[1]?v(D[0],D[1]):D[0],b=()=>{if(o.value){const D=Array.isArray(o.value)?y(o.value):o.value;i.value[0]={month:nt(D),year:et(D)}}};bt(()=>{b(),t.value.count&&m()});const g=(D,O)=>{i.value[O].year=D,c("update-month-year",{instance:O,year:D,month:i.value[O].month}),t.value.count&&!t.value.solo&&_(O)},w=pe(()=>D=>ma(d.value,O=>{var E;const T=l.value(D)===O.value,C=Xl(O.value,ga(r.value.minDate),ga(r.value.maxDate))||((E=a.value.years)==null?void 0:E.includes(l.value(D))),F=hv(n.value,O.value);return{active:T,disabled:C,highlighted:F}})),P=(D,O)=>{g(D,O),S(O)},k=(D,O=!1)=>{if(!h.value(D,O)){const E=O?l.value(D)+1:l.value(D)-1;g(E,D)}},S=(D,O=!1,E)=>{O||c("reset-flow"),E!==void 0?f.value[D]=E:f.value[D]=!f.value[D],f.value[D]?c("overlay-toggle",{open:!0,overlay:On.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:On.year}))};return{isDisabled:h,groupedYears:w,showYearPicker:f,selectYear:g,toggleYearPicker:S,handleYearSelect:P,handleYear:k}},L6=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,defaultedRange:s,defaultedHighlight:a,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=Dt(t),{modelValue:f,year:h,month:p,calendars:m}=Tu(t,e),_=pe(()=>$k(t.formatLocale,t.locale,t.monthNameFormat)),v=he(null),{checkMinMaxRange:y}=Co(t),{selectYear:b,groupedYears:g,showYearPicker:w,toggleYearPicker:P,handleYearSelect:k,handleYear:S,isDisabled:D}=Zk({modelValue:f,multiCalendars:n,range:s,highlight:a,calendars:m,year:h,propDates:l,month:p,filters:c,props:t,emit:e});bt(()=>{t.startDate&&(f.value&&t.focusStartDate||!f.value)&&b(et(Te(t.startDate)),0)});const O=R=>R?{month:nt(R),year:et(R)}:{month:null,year:null},E=()=>f.value?Array.isArray(f.value)?f.value.map(R=>O(R)):O(f.value):O(),T=(R,W)=>{const J=m.value[R],j=E();return Array.isArray(j)?j.some(A=>A.year===(J==null?void 0:J.year)&&A.month===W):(J==null?void 0:J.year)===j.year&&W===j.month},C=(R,W,J)=>{var j,A;const q=E();return Array.isArray(q)?h.value(W)===((j=q[J])==null?void 0:j.year)&&R===((A=q[J])==null?void 0:A.month):!1},F=(R,W)=>{if(s.value.enabled){const J=E();if(Array.isArray(f.value)&&Array.isArray(J)){const j=C(R,W,0)||C(R,W,1),A=xi(Ar(Te()),R,h.value(W));return _f(f.value,v.value,A)&&!j}return!1}return!1},M=pe(()=>R=>ma(_.value,W=>{var J;const j=T(R,W.value),A=Xl(W.value,Bk(h.value(R),l.value.minDate),Uk(h.value(R),l.value.maxDate))||l6(l.value.disabledDates,h.value(R)).includes(W.value)||((J=c.value.months)==null?void 0:J.includes(W.value)),q=F(W.value,R),B=Yk(a.value,W.value,h.value(R));return{active:j,disabled:A,isBetween:q,highlighted:B}})),V=(R,W)=>xi(Ar(Te()),R,h.value(W)),U=(R,W)=>{const J=f.value?f.value:Ar(new Date);f.value=xi(J,R,h.value(W)),e("auto-apply"),e("update-flow-step")},re=(R,W)=>{const J=V(R,W);s.value.fixedEnd||s.value.fixedStart?f.value=Jk(J,f,e,s):f.value?y(J,f.value)&&(f.value=mv(f,V(R,W),e)):f.value=[V(R,W)],Tn().then(()=>{Tf(f.value,e,t.autoApply,t.modelAuto)})},Z=(R,W)=>{pv(V(R,W),f,d.value.limit),e("auto-apply",!0)},z=(R,W)=>(m.value[W].month=R,$(W,m.value[W].year,R),d.value.enabled?Z(R,W):s.value.enabled?re(R,W):U(R,W)),N=(R,W)=>{b(R,W),$(W,R,null)},$=(R,W,J)=>{let j=J;if(!j&&j!==0){const A=E();j=Array.isArray(A)?A[R].month:A.month}e("update-month-year",{instance:R,year:W,month:j})};return{groupedMonths:M,groupedYears:g,year:h,isDisabled:D,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,showYearPicker:w,modelValue:f,presetDate:(R,W)=>{Xk({value:R,modelValue:f,range:s.value.enabled,timezone:W?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(R,W)=>{v.value=V(R,W)},selectMonth:z,selectYear:N,toggleYearPicker:P,handleYearSelect:k,handleYear:S,getModelMonthYear:E}},$6=Ht({compatConfig:{MODE:3},__name:"MonthPicker",props:{...qr},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=fs(),o=lr(i,"yearMode"),s=t;bt(()=>{s.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:_,selectMonth:v,selectYear:y,toggleYearPicker:b,handleYearSelect:g,handleYear:w,getModelMonthYear:P}=L6(s,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:P,selectMonth:v,selectYear:y,handleYear:w}),presetDate:m,toggleYearPicker:k=>b(0,k)}),(k,S)=>(ee(),Be(wf,{"multi-calendars":ae(d).count,collapse:k.collapse,stretch:""},{default:He(({instance:D})=>[k.$slots["top-extra"]?Ce(k.$slots,"top-extra",{key:0,value:k.internalModelValue}):ge("",!0),k.$slots["month-year"]?Ce(k.$slots,"month-year",an(tn({key:1},{year:ae(u),months:ae(a)(D),years:ae(l)(D),selectMonth:ae(v),selectYear:ae(y),instance:D}))):(ee(),Be(bu,{key:2,items:ae(a)(D),"arrow-navigation":k.arrowNavigation,"is-last":k.autoApply&&!ae(f).keepActionRow,"esc-close":k.escClose,height:ae(f).modeHeight,config:k.config,"no-overlay-focus":!!(k.noOverlayFocus||k.textInput),"use-relative":"",type:"month",onSelected:O=>ae(v)(O,D),onHoverValue:O=>ae(_)(O,D)},Dn({header:He(()=>[Ue(Qk,tn(k.$props,{items:ae(l)(D),instance:D,"show-year-picker":ae(h)[D],year:ae(u)(D),"is-disabled":O=>ae(c)(D,O),onHandleYear:O=>ae(w)(D,O),onYearSelect:O=>ae(g)(O,D),onToggleYearPicker:O=>ae(b)(D,O==null?void 0:O.flow,O==null?void 0:O.show)}),Dn({_:2},[Qe(ae(o),(O,E)=>({name:O,fn:He(T=>[Ce(k.$slots,O,an(qn(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:He(({item:O})=>[Ce(k.$slots,"month-overlay-value",{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),V6=(t,e)=>{const{modelValue:n}=Tu(t,e),r=he(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:a,propDates:l}=Dt(t),u=he();bt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(u.value=et(Te(t.startDate)))});const c=p=>Array.isArray(n.value)?n.value.some(m=>et(m)===p):n.value?et(n.value)===p:!1,d=p=>a.value.enabled&&Array.isArray(n.value)?_f(n.value,r.value,h(p)):!1,f=pe(()=>ma(cv(t.yearRange,t.locale,t.reverseYears),p=>{const m=c(p.value),_=Xl(p.value,ga(l.value.minDate),ga(l.value.maxDate))||s.value.years.includes(p.value),v=d(p.value)&&!m,y=hv(i.value,p.value);return{active:m,disabled:_,isBetween:v,highlighted:y}})),h=p=>ri(Ar(new Date),p);return{groupedYears:f,modelValue:n,focusYear:u,setHoverValue:p=>{r.value=ri(Ar(new Date),p)},selectYear:p=>{var m;if(e("update-month-year",{instance:0,year:p}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((m=n.value)==null?void 0:m.map(_=>et(_))).includes(p)?n.value=n.value.filter(_=>et(_)!==p):n.value.push(ri(zn(Te()),p))):n.value=[ri(zn(Te()),p)],e("auto-apply",!0);a.value.enabled?(n.value=mv(n,h(p),e),Tn().then(()=>{Tf(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},F6=Ht({compatConfig:{MODE:3},__name:"YearPicker",props:{...qr},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:o,modelValue:s,focusYear:a,selectYear:l,setHoverValue:u}=V6(i,r),{defaultedConfig:c}=Dt(i);return e({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(d,f)=>(ee(),le("div",null,[d.$slots["top-extra"]?Ce(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):ge("",!0),d.$slots["month-year"]?Ce(d.$slots,"month-year",an(tn({key:1},{years:ae(o),selectYear:ae(l)}))):(ee(),Be(bu,{key:2,items:ae(o),"is-last":d.autoApply&&!ae(c).keepActionRow,height:ae(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":ae(a),type:"year","use-relative":"",onSelected:ae(l),onHoverValue:ae(u)},Dn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:He(({item:h})=>[Ce(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),j6={key:0,class:"dp__time_input"},B6=["data-test","aria-label","onKeydown","onClick","onMousedown"],U6=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),q6=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),H6=["aria-label","disabled","data-test","onKeydown","onClick"],z6=["data-test","aria-label","onKeydown","onClick","onMousedown"],K6=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Y6=I("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),W6={key:0},G6=["aria-label"],Q6=Ht({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...qr},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:o,setTimePickerBackRef:s}=Po(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=Dt(i),{transitionName:f,showTransition:h}=wu(l),p=jr({hours:!1,minutes:!1,seconds:!1}),m=he("AM"),_=he(null),v=he([]),y=he();bt(()=>{r("mounted")});const b=Q=>wt(new Date,{hours:Q.hours,minutes:Q.minutes,seconds:i.enableSeconds?Q.seconds:0,milliseconds:0}),g=pe(()=>Q=>V(Q,i[Q])||P(Q,i[Q])),w=pe(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),P=(Q,L)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(Q,L):!1,k=(Q,L)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const Y=L?+i[`${Q}Increment`]:-+i[`${Q}Increment`],K=i[Q]+Y;return!i.validateTime(Q,K)}return!1},S=pe(()=>Q=>!N(+i[Q]+ +i[`${Q}Increment`],Q)||k(Q,!0)),D=pe(()=>Q=>!N(+i[Q]-+i[`${Q}Increment`],Q)||k(Q,!1)),O=(Q,L)=>mk(wt(Te(),Q),L),E=(Q,L)=>qV(wt(Te(),Q),L),T=pe(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),C=pe(()=>{const Q=[{type:"hours"}];return i.enableMinutes&&Q.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Q.push({type:"",separator:!0},{type:"seconds"}),Q}),F=pe(()=>C.value.filter(Q=>!Q.separator)),M=pe(()=>Q=>{if(Q==="hours"){const L=A(+i.hours);return{text:L<10?`0${L}`:`${L}`,value:L}}return{text:i[Q]<10?`0${i[Q]}`:`${i[Q]}`,value:i[Q]}}),V=(Q,L)=>{var Y;if(!i.disabledTimesConfig)return!1;const K=i.disabledTimesConfig(i.order,Q==="hours"?L:void 0);return K[Q]?!!((Y=K[Q])!=null&&Y.includes(L)):!0},U=(Q,L)=>L!=="hours"||m.value==="AM"?Q:Q+12,re=Q=>{const L=i.is24?24:12,Y=Q==="hours"?L:60,K=+i[`${Q}GridIncrement`],de=Q==="hours"&&!i.is24?K:0,X=[];for(let G=de;G<Y;G+=K)X.push({value:i.is24?G:U(G,Q),text:G<10?`0${G}`:`${G}`});return Q==="hours"&&!i.is24&&X.unshift({value:m.value==="PM"?12:0,text:"12"}),ma(X,G=>({active:!1,disabled:u.value.times[Q].includes(G.value)||!N(G.value,Q)||V(Q,G.value)||P(Q,G.value)}))},Z=Q=>Q>=0?Q:59,z=Q=>Q>=0?Q:23,N=(Q,L)=>{const Y=i.minTime?b(zh(i.minTime)):null,K=i.maxTime?b(zh(i.maxTime)):null,de=b(zh(w.value,L,L==="minutes"||L==="seconds"?Z(Q):z(Q)));return Y&&K?(Ql(de,K)||js(de,K))&&(ha(de,Y)||js(de,Y)):Y?ha(de,Y)||js(de,Y):K?Ql(de,K)||js(de,K):!0},$=Q=>i[`no${Q[0].toUpperCase()+Q.slice(1)}Overlay`],R=Q=>{$(Q)||(p[Q]=!p[Q],p[Q]?r("overlay-opened",Q):r("overlay-closed",Q))},W=Q=>Q==="hours"?Li:Q==="minutes"?To:fa,J=()=>{y.value&&clearTimeout(y.value)},j=(Q,L=!0,Y)=>{const K=L?O:E,de=L?+i[`${Q}Increment`]:-+i[`${Q}Increment`];N(+i[Q]+de,Q)&&r(`update:${Q}`,W(Q)(K({[Q]:+i[Q]},{[Q]:+i[`${Q}Increment`]}))),!(Y!=null&&Y.keyboard)&&c.value.timeArrowHoldThreshold&&(y.value=setTimeout(()=>{j(Q,L)},c.value.timeArrowHoldThreshold))},A=Q=>i.is24?Q:(Q>=12?m.value="PM":m.value="AM",GV(Q)),q=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},B=Q=>{p[Q]=!0},ne=(Q,L,Y)=>{if(Q&&i.arrowNavigation){Array.isArray(v.value[L])?v.value[L][Y]=Q:v.value[L]=[Q];const K=v.value.reduce((de,X)=>X.map((G,ie)=>[...de[ie]||[],X[ie]]),[]);s(i.closeTimePickerBtn),_.value&&(K[1]=K[1].concat(_.value)),o(K,i.order)}},ue=(Q,L)=>(R(Q),r(`update:${Q}`,L));return e({openChildCmp:B}),(Q,L)=>{var Y;return Q.disabled?ge("",!0):(ee(),le("div",j6,[(ee(!0),le(Se,null,Qe(C.value,(K,de)=>{var X,G,ie;return ee(),le("div",{key:de,class:Je(T.value)},[K.separator?(ee(),le(Se,{key:0},[un(" : ")],64)):(ee(),le(Se,{key:1},[I("button",{ref_for:!0,ref:oe=>ne(oe,de,0),type:"button",class:Je({dp__btn:!0,dp__inc_dec_button:!Q.timePickerInline,dp__inc_dec_button_inline:Q.timePickerInline,dp__tp_inline_btn_top:Q.timePickerInline,dp__inc_dec_button_disabled:S.value(K.type)}),"data-test":`${K.type}-time-inc-btn-${i.order}`,"aria-label":(X=ae(a))==null?void 0:X.incrementValue(K.type),tabindex:"0",onKeydown:oe=>ae(Jn)(oe,()=>j(K.type,!0,{keyboard:!0}),!0),onClick:oe=>ae(c).timeArrowHoldThreshold?void 0:j(K.type,!0),onMousedown:oe=>ae(c).timeArrowHoldThreshold?j(K.type,!0):void 0,onMouseup:J},[i.timePickerInline?(ee(),le(Se,{key:1},[U6,q6],64)):(ee(),le(Se,{key:0},[Q.$slots["arrow-up"]?Ce(Q.$slots,"arrow-up",{key:0}):ge("",!0),Q.$slots["arrow-up"]?ge("",!0):(ee(),Be(ae(av),{key:1}))],64))],42,B6),I("button",{ref_for:!0,ref:oe=>ne(oe,de,1),type:"button","aria-label":(G=ae(a))==null?void 0:G.openTpOverlay(K.type),class:Je({dp__time_display:!0,dp__time_display_block:!Q.timePickerInline,dp__time_display_inline:Q.timePickerInline,"dp--time-invalid":g.value(K.type),"dp--time-overlay-btn":!g.value(K.type)}),disabled:$(K.type),tabindex:"0","data-test":`${K.type}-toggle-overlay-btn-${i.order}`,onKeydown:oe=>ae(Jn)(oe,()=>R(K.type),!0),onClick:oe=>R(K.type)},[Q.$slots[K.type]?Ce(Q.$slots,K.type,{key:0,text:M.value(K.type).text,value:M.value(K.type).value}):ge("",!0),Q.$slots[K.type]?ge("",!0):(ee(),le(Se,{key:1},[un(xe(M.value(K.type).text),1)],64))],42,H6),I("button",{ref_for:!0,ref:oe=>ne(oe,de,2),type:"button",class:Je({dp__btn:!0,dp__inc_dec_button:!Q.timePickerInline,dp__inc_dec_button_inline:Q.timePickerInline,dp__tp_inline_btn_bottom:Q.timePickerInline,dp__inc_dec_button_disabled:D.value(K.type)}),"data-test":`${K.type}-time-dec-btn-${i.order}`,"aria-label":(ie=ae(a))==null?void 0:ie.decrementValue(K.type),tabindex:"0",onKeydown:oe=>ae(Jn)(oe,()=>j(K.type,!1,{keyboard:!0}),!0),onClick:oe=>ae(c).timeArrowHoldThreshold?void 0:j(K.type,!1),onMousedown:oe=>ae(c).timeArrowHoldThreshold?j(K.type,!1):void 0,onMouseup:J},[i.timePickerInline?(ee(),le(Se,{key:1},[K6,Y6],64)):(ee(),le(Se,{key:0},[Q.$slots["arrow-down"]?Ce(Q.$slots,"arrow-down",{key:0}):ge("",!0),Q.$slots["arrow-down"]?ge("",!0):(ee(),Be(ae(lv),{key:1}))],64))],42,z6)],64))],2)}),128)),Q.is24?ge("",!0):(ee(),le("div",W6,[Q.$slots["am-pm-button"]?Ce(Q.$slots,"am-pm-button",{key:0,toggle:q,value:m.value}):ge("",!0),Q.$slots["am-pm-button"]?ge("",!0):(ee(),le("button",{key:1,ref_key:"amPmButton",ref:_,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Y=ae(a))==null?void 0:Y.amPmButton,tabindex:"0",onClick:q,onKeydown:L[0]||(L[0]=K=>ae(Jn)(K,()=>q(),!0))},xe(m.value),41,G6))])),(ee(!0),le(Se,null,Qe(F.value,(K,de)=>(ee(),Be(Dr,{key:de,name:ae(f)(p[K.type]),css:ae(h)},{default:He(()=>[p[K.type]?(ee(),Be(bu,{key:0,items:re(K.type),"is-last":Q.autoApply&&!ae(c).keepActionRow,"esc-close":Q.escClose,type:K.type,"text-input":Q.textInput,config:Q.config,"arrow-navigation":Q.arrowNavigation,"aria-labels":Q.ariaLabels,onSelected:X=>ue(K.type,X),onToggle:X=>R(K.type),onResetFlow:L[1]||(L[1]=X=>Q.$emit("reset-flow"))},Dn({"button-icon":He(()=>[Q.$slots["clock-icon"]?Ce(Q.$slots,"clock-icon",{key:0}):ge("",!0),Q.$slots["clock-icon"]?ge("",!0):(ee(),Be(bd(Q.timePickerInline?ae(Ra):ae(sv)),{key:1}))]),_:2},[Q.$slots[`${K.type}-overlay-value`]?{name:"item",fn:He(({item:X})=>[Ce(Q.$slots,`${K.type}-overlay-value`,{text:X.text,value:X.value})]),key:"0"}:void 0,Q.$slots[`${K.type}-overlay-header`]?{name:"header",fn:He(()=>[Ce(Q.$slots,`${K.type}-overlay-header`,{toggle:()=>R(K.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ge("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),X6={class:"dp--tp-wrap"},J6=["aria-label","tabindex"],Z6=["tabindex"],eF=["aria-label"],eA=Ht({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...qr},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:o,setTimePicker:s}=Po(),a=fs(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:f}=Dt(i),{transitionName:h,showTransition:p}=wu(l),{hideNavigationButtons:m}=Ef(),_=he(null),v=he(null),y=he([]),b=he(null);bt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?o([Zt(_.value)],"time"):s(!0,i.timePicker)});const g=pe(()=>f.value.enabled&&i.modelAuto?Vk(i.internalModelValue):!0),w=he(!1),P=U=>({hours:Array.isArray(i.hours)?i.hours[U]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[U]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[U]:i.seconds}),k=pe(()=>{const U=[];if(f.value.enabled)for(let re=0;re<2;re++)U.push(P(re));else U.push(P(0));return U}),S=(U,re=!1,Z="")=>{re||r("reset-flow"),w.value=U,r(U?"overlay-opened":"overlay-closed",On.time),i.arrowNavigation&&s(U),Tn(()=>{Z!==""&&y.value[0]&&y.value[0].openChildCmp(Z)})},D=pe(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),O=lr(a,"timePicker"),E=(U,re,Z)=>f.value.enabled?re===0?[U,k.value[1][Z]]:[k.value[0][Z],U]:U,T=U=>{r("update:hours",U)},C=U=>{r("update:minutes",U)},F=U=>{r("update:seconds",U)},M=()=>{if(b.value&&!c.value.enabled&&!i.noOverlayFocus){const U=Fk(b.value);U&&U.focus({preventScroll:!0})}},V=U=>{r("overlay-closed",U)};return e({toggleTimePicker:S}),(U,re)=>{var Z;return ee(),le("div",X6,[!U.timePicker&&!U.timePickerInline?Tt((ee(),le("button",{key:0,ref_key:"openTimePickerBtn",ref:_,type:"button",class:Je(D.value),"aria-label":(Z=ae(u))==null?void 0:Z.openTimePicker,tabindex:U.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:re[0]||(re[0]=z=>ae(Jn)(z,()=>S(!0))),onClick:re[1]||(re[1]=z=>S(!0))},[U.$slots["clock-icon"]?Ce(U.$slots,"clock-icon",{key:0}):ge("",!0),U.$slots["clock-icon"]?ge("",!0):(ee(),Be(ae(sv),{key:1}))],42,J6)),[[ul,!ae(m)(U.hideNavigation,"time")]]):ge("",!0),Ue(Dr,{name:ae(h)(w.value),css:ae(p)&&!U.timePickerInline},{default:He(()=>{var z;return[w.value||U.timePicker||U.timePickerInline?(ee(),le("div",{key:0,ref_key:"overlayRef",ref:b,class:Je({dp__overlay:!U.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!U.timePickerInline,"dp--overlay-relative":i.timePicker}),style:sn(U.timePicker?{height:`${ae(d).modeHeight}px`}:void 0),tabindex:U.timePickerInline?void 0:0},[I("div",{class:Je(U.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[U.$slots["time-picker-overlay"]?Ce(U.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:T,setMinutes:C,setSeconds:F}):ge("",!0),U.$slots["time-picker-overlay"]?ge("",!0):(ee(),le("div",{key:1,class:Je(U.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ee(!0),le(Se,null,Qe(k.value,(N,$)=>Tt((ee(),Be(Q6,tn({key:$,ref_for:!0},{...U.$props,order:$,hours:N.hours,minutes:N.minutes,seconds:N.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:$===0?U.fixedStart:U.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(R,W)=>t.validateTime(R,E(W,$,R)),"onUpdate:hours":R=>T(E(R,$,"hours")),"onUpdate:minutes":R=>C(E(R,$,"minutes")),"onUpdate:seconds":R=>F(E(R,$,"seconds")),onMounted:M,onOverlayClosed:V,onOverlayOpened:re[2]||(re[2]=R=>U.$emit("overlay-opened",R)),onAmPmChange:re[3]||(re[3]=R=>U.$emit("am-pm-change",R))}),Dn({_:2},[Qe(ae(O),(R,W)=>({name:R,fn:He(J=>[Ce(U.$slots,R,tn({ref_for:!0},J))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ul,$===0?!0:g.value]])),128))],2)),!U.timePicker&&!U.timePickerInline?Tt((ee(),le("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:Je(D.value),"aria-label":(z=ae(u))==null?void 0:z.closeTimePicker,tabindex:"0",onKeydown:re[4]||(re[4]=N=>ae(Jn)(N,()=>S(!1))),onClick:re[5]||(re[5]=N=>S(!1))},[U.$slots["calendar-icon"]?Ce(U.$slots,"calendar-icon",{key:0}):ge("",!0),U.$slots["calendar-icon"]?ge("",!0):(ee(),Be(ae(Ra),{key:1}))],42,eF)),[[ul,!ae(m)(U.hideNavigation,"time")]]):ge("",!0)],2)],14,Z6)):ge("",!0)]}),_:3},8,["name","css"])])}}}),tA=(t,e,n,r)=>{const{defaultedRange:i}=Dt(t),o=(b,g)=>Array.isArray(e[b])?e[b][g]:e[b],s=b=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[b]:e.seconds:0,a=(b,g)=>b?g!==void 0?po(b,o("hours",g),o("minutes",g),s(g)):po(b,e.hours,e.minutes,s()):Nk(Te(),s(g)),l=(b,g)=>{e[b]=g},u=pe(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),c=(b,g)=>{const w=Object.fromEntries(Object.keys(e).map(P=>P===b?[P,g]:[P,e[P]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const P=S=>n.value?po(n.value[S],w.hours[S],w.minutes[S],w.seconds[S]):null,k=S=>Dk(n.value[S],0);return!(rt(P(0),P(1))&&(ha(P(0),k(1))||Ql(P(1),k(0))))}return!0},d=(b,g)=>{c(b,g)&&(l(b,g),r&&r())},f=b=>{d("hours",b)},h=b=>{d("minutes",b)},p=b=>{d("seconds",b)},m=(b,g,w,P)=>{g&&f(b),!g&&!w&&h(b),w&&p(b),n.value&&P(n.value)},_=b=>{if(b){const g=Array.isArray(b),w=g?[+b[0].hours,+b[1].hours]:+b.hours,P=g?[+b[0].minutes,+b[1].minutes]:+b.minutes,k=g?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",w),l("minutes",P),t.enableSeconds&&l("seconds",k)}},v=(b,g)=>{const w={hours:Array.isArray(e.hours)?e.hours[b]:e.hours,disabledArr:[]};return(g||g===0)&&(w.hours=g),Array.isArray(t.disabledTimes)&&(w.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),w},y=pe(()=>(b,g)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:P,hours:k}=v(b,g),S=P.filter(D=>+D.hours===k);return((w=S[0])==null?void 0:w.minutes)==="*"?{hours:[k],minutes:void 0,seconds:void 0}:{hours:[],minutes:(S==null?void 0:S.map(D=>+D.minutes))??[],seconds:(S==null?void 0:S.map(D=>D.seconds?+D.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:f,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:m,getSecondsValue:s,assignStartTime:_,validateTime:c,disabledTimesConfig:y}},tF=(t,e)=>{const{modelValue:n,time:r}=Tu(t,e),{defaultedStartTime:i,defaultedRange:o}=Dt(t),{updateTimeValues:s,getSetDateTime:a,setTime:l,assignStartTime:u,disabledTimesConfig:c,validateTime:d}=tA(t,r,n,f);function f(){e("update-flow-step")}const h=g=>{const{hours:w,minutes:P,seconds:k}=g;return{hours:+w,minutes:+P,seconds:k?+k:0}},p=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),P=h(t.startTime[1]);return[wt(Te(),w),wt(Te(),P)]}const g=h(t.startTime);return wt(Te(),g)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[g,w]=p();n.value=[a(g,0),a(w,1)]}else n.value=a(p())},_=g=>Array.isArray(g)?[ts(Te(g[0])),ts(Te(g[1]))]:[ts(g??Te())],v=(g,w,P)=>{l("hours",g),l("minutes",w),l("seconds",t.enableSeconds?P:0)},y=()=>{const[g,w]=_(n.value);return o.value.enabled?v([g.hours,w.hours],[g.minutes,w.minutes],[g.seconds,w.seconds]):v(g.hours,g.minutes,g.seconds)};bt(()=>{if(!t.shadow)return u(i.value),n.value?y():m()});const b=()=>{Array.isArray(n.value)?n.value=n.value.map((g,w)=>g&&a(g,w)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:c,updateTime:(g,w=!0,P=!1)=>{s(g,w,P,b)},validateTime:d}},nF=Ht({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...qr},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=fs(),s=lr(o,"timePicker"),a=he(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:d,validateTime:f}=tF(i,r);return bt(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:u,time:l,updateTime:d}),toggleTimePicker:(h,p=!1,m="")=>{var _;(_=a.value)==null||_.toggleTimePicker(h,p,m)}}),(h,p)=>(ee(),Be(wf,{"multi-calendars":0,stretch:""},{default:He(()=>[Ue(eA,tn({ref_key:"tpRef",ref:a},h.$props,{hours:ae(l).hours,minutes:ae(l).minutes,seconds:ae(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":ae(c),"validate-time":ae(f),"onUpdate:hours":p[0]||(p[0]=m=>ae(d)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>ae(d)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>ae(d)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m)),onResetFlow:p[4]||(p[4]=m=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=m=>h.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:p[6]||(p[6]=m=>h.$emit("overlay-toggle",{open:!0,overlay:m}))}),Dn({_:2},[Qe(ae(s),(m,_)=>({name:m,fn:He(v=>[Ce(h.$slots,m,an(qn(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),rF={class:"dp--header-wrap"},iF={key:0,class:"dp__month_year_wrap"},oF={key:0},sF={class:"dp__month_year_wrap"},aF=["aria-label","data-test","onClick","onKeydown"],lF=Ht({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...qr},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:o,defaultedAriaLabels:s,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d}=Dt(i),{transitionName:f,showTransition:h}=wu(o),{buildMatrix:p}=Po(),{handleMonthYearChange:m,isDisabled:_,updateMonthYear:v}=x6(i,r),{showLeftIcon:y,showRightIcon:b}=Ef(),g=he(!1),w=he(!1),P=he([null,null,null,null]);bt(()=>{r("mount")});const k=N=>({get:()=>i[N],set:$=>{const R=N===Er.month?Er.year:Er.month;r("update-month-year",{[N]:$,[R]:i[R]}),N===Er.month?M(!0):V(!0)}}),S=pe(k(Er.month)),D=pe(k(Er.year)),O=pe(()=>N=>({month:i.month,year:i.year,items:N===Er.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:N===Er.month?M:V})),E=pe(()=>i.months.find($=>$.value===i.month)||{text:"",value:0}),T=pe(()=>ma(i.months,N=>{const $=i.month===N.value,R=Xl(N.value,Bk(i.year,d.value.minDate),Uk(i.year,d.value.maxDate))||l.value.months.includes(N.value),W=Yk(c.value,N.value,i.year);return{active:$,disabled:R,highlighted:W}})),C=pe(()=>ma(i.years,N=>{const $=i.year===N.value,R=Xl(N.value,ga(d.value.minDate),ga(d.value.maxDate))||l.value.years.includes(N.value),W=hv(c.value,N.value);return{active:$,disabled:R,highlighted:W}})),F=(N,$,R)=>{R!==void 0?N.value=R:N.value=!N.value,N.value?r("overlay-opened",$):r("overlay-closed",$)},M=(N=!1,$)=>{U(N),F(g,On.month,$)},V=(N=!1,$)=>{U(N),F(w,On.year,$)},U=N=>{N||r("reset-flow")},re=(N,$)=>{i.arrowNavigation&&(P.value[$]=Zt(N),p(P.value,"monthYear"))},Z=pe(()=>{var N,$;return[{type:Er.month,index:1,toggle:M,modelValue:S.value,updateModelValue:R=>S.value=R,text:E.value.text,showSelectionGrid:g.value,items:T.value,ariaLabel:(N=s.value)==null?void 0:N.openMonthsOverlay},{type:Er.year,index:2,toggle:V,modelValue:D.value,updateModelValue:R=>D.value=R,text:jk(i.year,i.locale),showSelectionGrid:w.value,items:C.value,ariaLabel:($=s.value)==null?void 0:$.openYearsOverlay}]}),z=pe(()=>i.disableYearSelect?[Z.value[0]]:i.yearFirst?[...Z.value].reverse():Z.value);return e({toggleMonthPicker:M,toggleYearPicker:V,handleMonthYearChange:m}),(N,$)=>{var R,W,J;return ee(),le("div",rF,[N.$slots["month-year"]?(ee(),le("div",iF,[Ce(N.$slots,"month-year",an(qn({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:ae(v),handleMonthYearChange:ae(m),instance:t.instance})))])):(ee(),le(Se,{key:1},[N.$slots["top-extra"]?(ee(),le("div",oF,[Ce(N.$slots,"top-extra",{value:N.internalModelValue})])):ge("",!0),I("div",sF,[ae(y)(ae(a),t.instance)&&!N.vertical?(ee(),Be(bl,{key:0,"aria-label":(R=ae(s))==null?void 0:R.prevMonth,disabled:ae(_)(!1),onActivate:$[0]||($[0]=j=>ae(m)(!1,!0)),onSetRef:$[1]||($[1]=j=>re(j,0))},{default:He(()=>[N.$slots["arrow-left"]?Ce(N.$slots,"arrow-left",{key:0}):ge("",!0),N.$slots["arrow-left"]?ge("",!0):(ee(),Be(ae(iv),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),I("div",{class:Je(["dp__month_year_wrap",{dp__year_disable_select:N.disableYearSelect}])},[(ee(!0),le(Se,null,Qe(z.value,(j,A)=>(ee(),le(Se,{key:j.type},[I("button",{ref_for:!0,ref:q=>re(q,A+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":j.ariaLabel,"data-test":`${j.type}-toggle-overlay-${t.instance}`,onClick:j.toggle,onKeydown:q=>ae(Jn)(q,()=>j.toggle(),!0)},[N.$slots[j.type]?Ce(N.$slots,j.type,{key:0,text:j.text,value:i[j.type]}):ge("",!0),N.$slots[j.type]?ge("",!0):(ee(),le(Se,{key:1},[un(xe(j.text),1)],64))],40,aF),Ue(Dr,{name:ae(f)(j.showSelectionGrid),css:ae(h)},{default:He(()=>[j.showSelectionGrid?(ee(),Be(bu,{key:0,items:j.items,"arrow-navigation":N.arrowNavigation,"hide-navigation":N.hideNavigation,"is-last":N.autoApply&&!ae(u).keepActionRow,"skip-button-ref":!1,config:N.config,type:j.type,"header-refs":[],"esc-close":N.escClose,"menu-wrap-ref":N.menuWrapRef,"text-input":N.textInput,"aria-labels":N.ariaLabels,onSelected:j.updateModelValue,onToggle:j.toggle},Dn({"button-icon":He(()=>[N.$slots["calendar-icon"]?Ce(N.$slots,"calendar-icon",{key:0}):ge("",!0),N.$slots["calendar-icon"]?ge("",!0):(ee(),Be(ae(Ra),{key:1}))]),_:2},[N.$slots[`${j.type}-overlay-value`]?{name:"item",fn:He(({item:q})=>[Ce(N.$slots,`${j.type}-overlay-value`,{text:q.text,value:q.value})]),key:"0"}:void 0,N.$slots[`${j.type}-overlay`]?{name:"overlay",fn:He(()=>[Ce(N.$slots,`${j.type}-overlay`,tn({ref_for:!0},O.value(j.type)))]),key:"1"}:void 0,N.$slots[`${j.type}-overlay-header`]?{name:"header",fn:He(()=>[Ce(N.$slots,`${j.type}-overlay-header`,{toggle:j.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ge("",!0)]),_:2},1032,["name","css"])],64))),128))],2),ae(y)(ae(a),t.instance)&&N.vertical?(ee(),Be(bl,{key:1,"aria-label":(W=ae(s))==null?void 0:W.prevMonth,disabled:ae(_)(!1),onActivate:$[2]||($[2]=j=>ae(m)(!1,!0))},{default:He(()=>[N.$slots["arrow-up"]?Ce(N.$slots,"arrow-up",{key:0}):ge("",!0),N.$slots["arrow-up"]?ge("",!0):(ee(),Be(ae(av),{key:1}))]),_:3},8,["aria-label","disabled"])):ge("",!0),ae(b)(ae(a),t.instance)?(ee(),Be(bl,{key:2,ref:"rightIcon",disabled:ae(_)(!0),"aria-label":(J=ae(s))==null?void 0:J.nextMonth,onActivate:$[3]||($[3]=j=>ae(m)(!0,!0)),onSetRef:$[4]||($[4]=j=>re(j,N.disableYearSelect?2:3))},{default:He(()=>[N.$slots[N.vertical?"arrow-down":"arrow-right"]?Ce(N.$slots,N.vertical?"arrow-down":"arrow-right",{key:0}):ge("",!0),N.$slots[N.vertical?"arrow-down":"arrow-right"]?ge("",!0):(ee(),Be(bd(N.vertical?ae(lv):ae(ov)),{key:1}))]),_:3},8,["disabled","aria-label"])):ge("",!0)])],64))])}}}),uF=["aria-label"],cF={class:"dp__calendar_header",role:"row"},dF={key:0,class:"dp__calendar_header_item",role:"gridcell"},fF=["aria-label"],hF=I("div",{class:"dp__calendar_header_separator"},null,-1),pF=["aria-label"],mF={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},gF={class:"dp__cell_inner"},vF=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],yF=Ht({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...qr},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:o}=Po(),{defaultedTransitions:s,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d}=Dt(i),f=he(null),h=he({bottom:"",left:"",transform:""}),p=he([]),m=he(null),_=he(!0),v=he(""),y=he({startX:0,endX:0,startY:0,endY:0}),b=he([]),g=he({left:"50%"}),w=he(!1),P=pe(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),k=pe(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):WV(i.formatLocale,i.locale,+i.weekStart));bt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",re,{passive:!1}),m.value.addEventListener("touchend",Z,{passive:!1}),m.value.addEventListener("touchmove",z,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",R,{passive:!1})});const S=B=>B?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",D=(B,ne)=>{if(i.transitions){const ue=zn(xi(Te(),i.month,i.year));v.value=Bt(zn(xi(Te(),B,ne)),ue)?s.value[S(!0)]:s.value[S(!1)],_.value=!1,Tn(()=>{_.value=!0})}},O=pe(()=>({[i.calendarClassName]:!!i.calendarClassName})),E=pe(()=>B=>{const ne=QV(B);return{dp__marker_dot:ne.type==="dot",dp__marker_line:ne.type==="line"}}),T=pe(()=>B=>rt(B,f.value)),C=pe(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),F=pe(()=>B=>i.hideOffsetDates?B.current:!0),M=async(B,ne,ue)=>{const Q=Zt(p.value[ne][ue]);if(Q){const{width:L,height:Y}=Q.getBoundingClientRect();f.value=B.value;let K={left:`${L/2}px`},de=-50;if(await Tn(),b.value[0]){const{left:X,width:G}=b.value[0].getBoundingClientRect();X<0&&(K={left:"0"},de=0,g.value.left=`${L/2}px`),window.innerWidth<X+G&&(K={right:"0"},de=0,g.value.left=`${G-L/2}px`)}h.value={bottom:`${Y}px`,...K,transform:`translateX(${de}%)`},r("tooltip-open",B.marker)}},V=async(B,ne,ue)=>{var Q,L;if(w.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",B);r("set-hover-date",B),(L=(Q=B.marker)==null?void 0:Q.tooltip)!=null&&L.length&&await M(B,ne,ue)},U=B=>{f.value&&(f.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",B.marker))},re=B=>{y.value.startX=B.changedTouches[0].screenX,y.value.startY=B.changedTouches[0].screenY},Z=B=>{y.value.endX=B.changedTouches[0].screenX,y.value.endY=B.changedTouches[0].screenY,N()},z=B=>{i.vertical&&!i.inline&&B.preventDefault()},N=()=>{const B=i.vertical?"Y":"X";Math.abs(y.value[`start${B}`]-y.value[`end${B}`])>10&&r("handle-swipe",y.value[`start${B}`]>y.value[`end${B}`]?"right":"left")},$=(B,ne,ue)=>{B&&(Array.isArray(p.value[ne])?p.value[ne][ue]=B:p.value[ne]=[B]),i.arrowNavigation&&o(p.value,"calendar")},R=B=>{i.monthChangeOnScroll&&(B.preventDefault(),r("handle-scroll",B))},W=B=>c.value.type==="local"?tv(B.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Zg(B.value):typeof c.value.type=="function"?c.value.type(B.value):"",J=B=>{const ne=B[0];return c.value.hideOnOffsetDates?B.some(ue=>ue.current)?W(ne):"":W(ne)},j=(B,ne)=>{d.value.enabled||(ho(B,a.value),r("select-date",ne))},A=B=>{ho(B,a.value)},q=B=>{d.value.enabled&&d.value.dragSelect?(w.value=!0,r("select-date",B)):d.value.enabled&&r("select-date",B)};return e({triggerTransition:D}),(B,ne)=>{var ue;return ee(),le("div",{class:Je(C.value)},[I("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:Je(O.value),"aria-label":(ue=ae(l))==null?void 0:ue.calendarWrap},[I("div",cF,[B.weekNumbers?(ee(),le("div",dF,xe(B.weekNumName),1)):ge("",!0),(ee(!0),le(Se,null,Qe(k.value,(Q,L)=>{var Y,K;return ee(),le("div",{key:L,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(K=(Y=ae(l))==null?void 0:Y.weekDay)==null?void 0:K.call(Y,L)},[B.$slots["calendar-header"]?Ce(B.$slots,"calendar-header",{key:0,day:Q,index:L}):ge("",!0),B.$slots["calendar-header"]?ge("",!0):(ee(),le(Se,{key:1},[un(xe(Q),1)],64))],8,fF)}),128))]),hF,Ue(Dr,{name:v.value,css:!!B.transitions},{default:He(()=>{var Q;return[_.value?(ee(),le("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Q=ae(l))==null?void 0:Q.calendarDays)||void 0,onMouseleave:ne[1]||(ne[1]=L=>w.value=!1)},[(ee(!0),le(Se,null,Qe(P.value,(L,Y)=>(ee(),le("div",{key:Y,class:"dp__calendar_row",role:"row"},[B.weekNumbers?(ee(),le("div",mF,[I("div",gF,xe(J(L.days)),1)])):ge("",!0),(ee(!0),le(Se,null,Qe(L.days,(K,de)=>{var X,G,ie;return ee(),le("div",{id:ae(Wk)(K.value),ref_for:!0,ref:oe=>$(oe,Y,de),key:de+Y,role:"gridcell",class:"dp__calendar_item","aria-selected":(K.classData.dp__active_date||K.classData.dp__range_start||K.classData.dp__range_start)??void 0,"aria-disabled":K.classData.dp__cell_disabled||void 0,"aria-label":(G=(X=ae(l))==null?void 0:X.day)==null?void 0:G.call(X,K),tabindex:"0","data-test":K.value,onClick:Nr(oe=>j(oe,K),["prevent"]),onKeydown:oe=>ae(Jn)(oe,()=>B.$emit("select-date",K)),onMouseenter:oe=>V(K,Y,de),onMouseleave:oe=>U(K),onMousedown:oe=>q(K),onMouseup:ne[0]||(ne[0]=oe=>w.value=!1)},[I("div",{class:Je(["dp__cell_inner",K.classData])},[B.$slots.day&&F.value(K)?Ce(B.$slots,"day",{key:0,day:+K.text,date:K.value}):ge("",!0),B.$slots.day?ge("",!0):(ee(),le(Se,{key:1},[un(xe(K.text),1)],64)),K.marker&&F.value(K)?(ee(),le(Se,{key:2},[B.$slots.marker?Ce(B.$slots,"marker",{key:0,marker:K.marker,day:+K.text,date:K.value}):(ee(),le("div",{key:1,class:Je(E.value(K.marker)),style:sn(K.marker.color?{backgroundColor:K.marker.color}:{})},null,6))],64)):ge("",!0),T.value(K.value)?(ee(),le("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:sn(h.value)},[(ie=K.marker)!=null&&ie.tooltip?(ee(),le("div",{key:0,class:"dp__tooltip_content",onClick:A},[(ee(!0),le(Se,null,Qe(K.marker.tooltip,(oe,fe)=>(ee(),le("div",{key:fe,class:"dp__tooltip_text"},[B.$slots["marker-tooltip"]?Ce(B.$slots,"marker-tooltip",{key:0,tooltip:oe,day:K.value}):ge("",!0),B.$slots["marker-tooltip"]?ge("",!0):(ee(),le(Se,{key:1},[I("div",{class:"dp__tooltip_mark",style:sn(oe.color?{backgroundColor:oe.color}:{})},null,4),I("div",null,xe(oe.text),1)],64))]))),128)),I("div",{class:"dp__arrow_bottom_tp",style:sn(g.value)},null,4)])):ge("",!0)],4)):ge("",!0)],2)],40,vF)}),128))]))),128))],40,pF)):ge("",!0)]}),_:3},8,["name","css"])],10,uF)],2)}}}),P_=t=>Array.isArray(t),_F=(t,e,n,r)=>{const i=he([]),o=he(new Date),s=he(),{modelValue:a,calendars:l,time:u,today:c}=Tu(t,e),{defaultedMultiCalendars:d,defaultedStartTime:f,defaultedRange:h,defaultedConfig:p,defaultedTz:m,propDates:_,defaultedMultiDates:v}=Dt(t),{validateMonthYearInRange:y,isDisabled:b,isDateRangeAllowed:g,checkMinMaxRange:w}=Co(t),{updateTimeValues:P,getSetDateTime:k,setTime:S,assignStartTime:D,validateTime:O,disabledTimesConfig:E}=tA(t,u,a,r),T=pe(()=>ce=>l.value[ce]?l.value[ce].month:0),C=pe(()=>ce=>l.value[ce]?l.value[ce].year:0),F=ce=>!p.value.keepViewOnOffsetClick||ce?!0:!s.value,M=(ce,be,me,ke=!1)=>{var Ie,Ft;F(ke)&&(l.value[ce]||(l.value[ce]={month:0,year:0}),l.value[ce].month=x_(be)?(Ie=l.value[ce])==null?void 0:Ie.month:be,l.value[ce].year=x_(me)?(Ft=l.value[ce])==null?void 0:Ft.year:me)},V=()=>{t.autoApply&&e("select-date")};Gt(a,(ce,be)=>{JSON.stringify(ce)!==JSON.stringify(be)&&Z()},{deep:!0}),bt(()=>{t.shadow||(a.value||(ne(),f.value&&D(f.value)),Z(!0),t.focusStartDate&&t.startDate&&ne())});const U=pe(()=>{var ce;return(ce=t.flow)!=null&&ce.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),re=()=>{t.autoApply&&U.value&&e("auto-apply")},Z=(ce=!1)=>{if(a.value)return Array.isArray(a.value)?(i.value=a.value,j(ce)):$(a.value,ce);if(d.value.count&&ce&&!t.startDate)return N(Te(),ce)},z=()=>Array.isArray(a.value)&&h.value.enabled?nt(a.value[0])===nt(a.value[1]??a.value[0]):!1,N=(ce,be=!1)=>{if((!d.value.count||!d.value.static||be)&&M(0,nt(ce),et(ce)),d.value.count&&(!d.value.solo||!a.value||z()))for(let me=1;me<d.value.count;me++){const ke=wt(Te(),{month:T.value(me-1),year:C.value(me-1)}),Ie=mk(ke,{months:1});l.value[me]={month:nt(Ie),year:et(Ie)}}},$=(ce,be)=>{N(ce),S("hours",Li(ce)),S("minutes",To(ce)),S("seconds",fa(ce)),d.value.count&&be&&B()},R=ce=>{if(d.value.count){if(d.value.solo)return 0;const be=nt(ce[0]),me=nt(ce[1]);return Math.abs(me-be)<d.value.count?0:1}return 1},W=(ce,be)=>{ce[1]&&h.value.showLastInRange?N(ce[R(ce)],be):N(ce[0],be);const me=(ke,Ie)=>[ke(ce[0]),ce[1]?ke(ce[1]):u[Ie][1]];S("hours",me(Li,"hours")),S("minutes",me(To,"minutes")),S("seconds",me(fa,"seconds"))},J=(ce,be)=>{if((h.value.enabled||t.weekPicker)&&!v.value.enabled)return W(ce,be);if(v.value.enabled&&be){const me=ce[ce.length-1];return $(me,be)}},j=ce=>{const be=a.value;J(be,ce),d.value.count&&d.value.solo&&B()},A=(ce,be)=>{const me=wt(Te(),{month:T.value(be),year:C.value(be)}),ke=ce<0?Pr(me,1):pa(me,1);y(nt(ke),et(ke),ce<0,t.preventMinMaxNavigation)&&(M(be,nt(ke),et(ke)),e("update-month-year",{instance:be,month:nt(ke),year:et(ke)}),d.value.count&&!d.value.solo&&q(be),n())},q=ce=>{for(let be=ce-1;be>=0;be--){const me=pa(wt(Te(),{month:T.value(be+1),year:C.value(be+1)}),1);M(be,nt(me),et(me))}for(let be=ce+1;be<=d.value.count-1;be++){const me=Pr(wt(Te(),{month:T.value(be-1),year:C.value(be-1)}),1);M(be,nt(me),et(me))}},B=()=>{if(Array.isArray(a.value)&&a.value.length===2){const ce=Te(Te(a.value[1]?a.value[1]:Pr(a.value[0],1))),[be,me]=[nt(a.value[0]),et(a.value[0])],[ke,Ie]=[nt(a.value[1]),et(a.value[1])];(be!==ke||be===ke&&me!==Ie)&&d.value.solo&&M(1,nt(ce),et(ce))}else a.value&&!Array.isArray(a.value)&&(M(0,nt(a.value),et(a.value)),N(Te()))},ne=()=>{t.startDate&&(M(0,nt(Te(t.startDate)),et(Te(t.startDate))),d.value.count&&q(0))},ue=(ce,be)=>{if(t.monthChangeOnScroll){const me=new Date().getTime()-o.value.getTime(),ke=Math.abs(ce.deltaY);let Ie=500;ke>1&&(Ie=100),ke>100&&(Ie=0),me>Ie&&(o.value=new Date,A(t.monthChangeOnScroll!=="inverse"?-ce.deltaY:ce.deltaY,be))}},Q=(ce,be,me=!1)=>{t.monthChangeOnArrows&&t.vertical===me&&L(ce,be)},L=(ce,be)=>{A(ce==="right"?-1:1,be)},Y=ce=>{if(_.value.markers)return ld(ce.value,_.value.markers)},K=(ce,be)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[ce==0,!0];case"fair":return[ce==0||be>ce,!0];case"append":return[!1,!1];default:return[!1,!1]}},de=(ce,be,me,ke)=>{if(t.sixWeeks&&ce.length<6){const Ie=6-ce.length,Ft=(be.getDay()+7-ke)%7,zt=6-(me.getDay()+7-ke)%7,[ir,hr]=K(Ft,zt);for(let wr=1;wr<=Ie;wr++)if(hr?!!(wr%2)==ir:ir){const Kn=ce[0].days[0],pi=X(kr(Kn.value,-7),nt(be));ce.unshift({days:pi})}else{const Kn=ce[ce.length-1],pi=Kn.days[Kn.days.length-1],zr=X(kr(pi.value,1),nt(be));ce.push({days:zr})}}return ce},X=(ce,be)=>{const me=Te(ce),ke=[];for(let Ie=0;Ie<7;Ie++){const Ft=kr(me,Ie),zt=nt(Ft)!==be;ke.push({text:t.hideOffsetDates&&zt?"":Ft.getDate(),value:Ft,current:!zt,classData:{}})}return ke},G=(ce,be)=>{const me=[],ke=new Date(be,ce),Ie=new Date(be,ce+1,0),Ft=t.weekStart,zt=Fr(ke,{weekStartsOn:Ft}),ir=hr=>{const wr=X(hr,ce);if(me.push({days:wr}),!me[me.length-1].days.some(Kn=>rt(zn(Kn.value),zn(Ie)))){const Kn=kr(hr,7);ir(Kn)}};return ir(zt),de(me,ke,Ie,Ft)},ie=ce=>{const be=po(Te(ce.value),u.hours,u.minutes,Re());e("date-update",be),v.value.enabled?pv(be,a,v.value.limit):a.value=be,r(),Tn().then(()=>{re()})},oe=ce=>h.value.noDisabledRange?qk(i.value[0],ce).some(be=>b(be)):!1,fe=()=>{i.value=a.value?a.value.slice():[],i.value.length===2&&!(h.value.fixedStart||h.value.fixedEnd)&&(i.value=[])},te=(ce,be)=>{const me=[Te(ce.value),kr(Te(ce.value),+h.value.autoRange)];g(me)?(be&&ye(ce.value),i.value=me):e("invalid-date",ce.value)},ye=ce=>{const be=nt(Te(ce)),me=et(Te(ce));if(M(0,be,me),d.value.count>0)for(let ke=1;ke<d.value.count;ke++){const Ie=i6(wt(Te(ce),{year:T.value(ke-1),month:C.value(ke-1)}));M(ke,Ie.month,Ie.year)}},_e=ce=>{if(oe(ce.value)||!w(ce.value,a.value,h.value.fixedStart?0:1))return e("invalid-date",ce.value);i.value=Jk(Te(ce.value),a,e,h)},we=(ce,be)=>{if(fe(),h.value.autoRange)return te(ce,be);if(h.value.fixedStart||h.value.fixedEnd)return _e(ce);i.value[0]?w(Te(ce.value),a.value)&&!oe(ce.value)?Nt(Te(ce.value),Te(i.value[0]))?(i.value.unshift(Te(ce.value)),e("range-end",i.value[0])):(i.value[1]=Te(ce.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",ce.value),e("invalid-date",ce.value)):(i.value[0]=Te(ce.value),e("range-start",i.value[0]))},Re=(ce=!0)=>t.enableSeconds?Array.isArray(u.seconds)?ce?u.seconds[0]:u.seconds[1]:u.seconds:0,Me=ce=>{i.value[ce]=po(i.value[ce],u.hours[ce],u.minutes[ce],Re(ce!==1))},De=()=>{var ce,be;i.value[0]&&i.value[1]&&+((ce=i.value)==null?void 0:ce[0])>+((be=i.value)==null?void 0:be[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},tt=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Me(0):(Me(0),Me(1),r()),De(),a.value=i.value.slice(),Tf(i.value,e,t.autoApply,t.modelAuto))},$e=(ce,be=!1)=>{if(b(ce.value)||!ce.current&&t.hideOffsetDates)return e("invalid-date",ce.value);if(s.value=JSON.parse(JSON.stringify(ce)),!h.value.enabled)return ie(ce);P_(u.hours)&&P_(u.minutes)&&!v.value.enabled&&(we(ce,be),tt())},mt=(ce,be)=>{var me;M(ce,be.month,be.year,!0),d.value.count&&!d.value.solo&&q(ce),e("update-month-year",{instance:ce,month:be.month,year:be.year}),n(d.value.solo?ce:void 0);const ke=(me=t.flow)!=null&&me.length?t.flow[t.flowStep]:void 0;!be.fromNav&&(ke===On.month||ke===On.year)&&r()},$n=(ce,be)=>{Xk({value:ce,modelValue:a,range:h.value.enabled,timezone:be?void 0:m.value.timezone}),V(),t.multiCalendars&&Tn().then(()=>Z(!0))},Hr=()=>{const ce=uv(Te(),m.value);h.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Nt(ce,a.value[0])?[ce,a.value[0]]:[a.value[0],ce]:a.value=[ce]:a.value=ce,V()},Vn=()=>{if(Array.isArray(a.value))if(v.value.enabled){const ce=rr();a.value[a.value.length-1]=k(ce)}else a.value=a.value.map((ce,be)=>ce&&k(ce,be));else a.value=k(a.value);e("time-update")},rr=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:l,modelValue:a,month:T,year:C,time:u,disabledTimesConfig:E,today:c,validateTime:O,getCalendarDays:G,getMarker:Y,handleScroll:ue,handleSwipe:L,handleArrow:Q,selectDate:$e,updateMonthYear:mt,presetDate:$n,selectCurrentDate:Hr,updateTime:(ce,be=!0,me=!1)=>{P(ce,be,me,Vn)}}},bF={key:0},wF=Ht({__name:"DatePicker",props:{...qr},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:o,month:s,year:a,modelValue:l,time:u,disabledTimesConfig:c,today:d,validateTime:f,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:_,handleSwipe:v,selectDate:y,updateMonthYear:b,presetDate:g,selectCurrentDate:w,updateTime:P}=_F(i,r,z,N),k=fs(),{setHoverDate:S,getDayClassData:D,clearHoverDate:O}=$F(l,i),{defaultedMultiCalendars:E}=Dt(i),T=he([]),C=he([]),F=he(null),M=lr(k,"calendar"),V=lr(k,"monthYear"),U=lr(k,"timePicker"),re=ue=>{i.shadow||r("mount",ue)};Gt(o,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const Z=pe(()=>ue=>h(s.value(ue),a.value(ue)).map(Q=>({...Q,days:Q.days.map(L=>(L.marker=p(L),L.classData=D(L),L))})));function z(ue){var Q;ue||ue===0?(Q=C.value[ue])==null||Q.triggerTransition(s.value(ue),a.value(ue)):C.value.forEach((L,Y)=>L.triggerTransition(s.value(Y),a.value(Y)))}function N(){r("update-flow-step")}const $=(ue,Q=!1)=>{y(ue,Q),i.spaceConfirm&&r("select-date")},R=(ue,Q,L=0)=>{var Y;(Y=T.value[L])==null||Y.toggleMonthPicker(ue,Q)},W=(ue,Q,L=0)=>{var Y;(Y=T.value[L])==null||Y.toggleYearPicker(ue,Q)},J=(ue,Q,L)=>{var Y;(Y=F.value)==null||Y.toggleTimePicker(ue,Q,L)},j=(ue,Q)=>{var L;if(!i.range){const Y=l.value?l.value:d,K=Q?new Date(Q):Y,de=ue?Fr(K,{weekStartsOn:1}):Ek(K,{weekStartsOn:1});y({value:de,current:nt(K)===s.value(0),text:"",classData:{}}),(L=document.getElementById(Wk(de)))==null||L.focus()}},A=ue=>{var Q;(Q=T.value[0])==null||Q.handleMonthYearChange(ue,!0)},q=ue=>{b(0,{month:s.value(0),year:a.value(0)+(ue?1:-1),fromNav:!0})},B=(ue,Q)=>{ue===On.time&&r(`time-picker-${Q?"open":"close"}`),r("overlay-toggle",{open:Q,overlay:ue})},ne=ue=>{r("overlay-toggle",{open:!1,overlay:ue}),r("focus-menu")};return e({clearHoverDate:O,presetDate:g,selectCurrentDate:w,toggleMonthPicker:R,toggleYearPicker:W,toggleTimePicker:J,handleArrow:m,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:s,year:a,time:u,updateTime:P,updateMonthYear:b,selectDate:y,presetDate:g}),changeMonth:A,changeYear:q,selectWeekDate:j}),(ue,Q)=>(ee(),le(Se,null,[Ue(wf,{"multi-calendars":ae(E).count,collapse:ue.collapse},{default:He(({instance:L,index:Y})=>[ue.disableMonthYearSelect?ge("",!0):(ee(),Be(lF,tn({key:0,ref:K=>{K&&(T.value[Y]=K)},months:ae($k)(ue.formatLocale,ue.locale,ue.monthNameFormat),years:ae(cv)(ue.yearRange,ue.locale,ue.reverseYears),month:ae(s)(L),year:ae(a)(L),instance:L},ue.$props,{onMount:Q[0]||(Q[0]=K=>re(ae(es).header)),onResetFlow:Q[1]||(Q[1]=K=>ue.$emit("reset-flow")),onUpdateMonthYear:K=>ae(b)(L,K),onOverlayClosed:ne,onOverlayOpened:Q[2]||(Q[2]=K=>ue.$emit("overlay-toggle",{open:!0,overlay:K}))}),Dn({_:2},[Qe(ae(V),(K,de)=>({name:K,fn:He(X=>[Ce(ue.$slots,K,an(qn(X)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ue(yF,tn({ref:K=>{K&&(C.value[Y]=K)},"mapped-dates":Z.value(L),month:ae(s)(L),year:ae(a)(L),instance:L},ue.$props,{onSelectDate:K=>ae(y)(K,L!==1),onHandleSpace:K=>$(K,L!==1),onSetHoverDate:Q[3]||(Q[3]=K=>ae(S)(K)),onHandleScroll:K=>ae(_)(K,L),onHandleSwipe:K=>ae(v)(K,L),onMount:Q[4]||(Q[4]=K=>re(ae(es).calendar)),onResetFlow:Q[5]||(Q[5]=K=>ue.$emit("reset-flow")),onTooltipOpen:Q[6]||(Q[6]=K=>ue.$emit("tooltip-open",K)),onTooltipClose:Q[7]||(Q[7]=K=>ue.$emit("tooltip-close",K))}),Dn({_:2},[Qe(ae(M),(K,de)=>({name:K,fn:He(X=>[Ce(ue.$slots,K,an(qn({...X})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),ue.enableTimePicker?(ee(),le("div",bF,[ue.$slots["time-picker"]?Ce(ue.$slots,"time-picker",an(tn({key:0},{time:ae(u),updateTime:ae(P)}))):(ee(),Be(eA,tn({key:1,ref_key:"timePickerRef",ref:F},ue.$props,{hours:ae(u).hours,minutes:ae(u).minutes,seconds:ae(u).seconds,"internal-model-value":ue.internalModelValue,"disabled-times-config":ae(c),"validate-time":ae(f),onMount:Q[8]||(Q[8]=L=>re(ae(es).timePicker)),"onUpdate:hours":Q[9]||(Q[9]=L=>ae(P)(L)),"onUpdate:minutes":Q[10]||(Q[10]=L=>ae(P)(L,!1)),"onUpdate:seconds":Q[11]||(Q[11]=L=>ae(P)(L,!1,!0)),onResetFlow:Q[12]||(Q[12]=L=>ue.$emit("reset-flow")),onOverlayClosed:Q[13]||(Q[13]=L=>B(L,!1)),onOverlayOpened:Q[14]||(Q[14]=L=>B(L,!0)),onAmPmChange:Q[15]||(Q[15]=L=>ue.$emit("am-pm-change",L))}),Dn({_:2},[Qe(ae(U),(L,Y)=>({name:L,fn:He(K=>[Ce(ue.$slots,L,an(qn(K)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ge("",!0)],64))}}),TF=(t,e)=>{const n=he(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:o,defaultedRange:s,propDates:a,defaultedFilters:l,defaultedMultiDates:u}=Dt(t),{modelValue:c,year:d,month:f,calendars:h}=Tu(t,e),{isDisabled:p}=Co(t),{selectYear:m,groupedYears:_,showYearPicker:v,isDisabled:y,toggleYearPicker:b,handleYearSelect:g,handleYear:w}=Zk({modelValue:c,multiCalendars:r,range:s,highlight:o,calendars:h,propDates:a,month:f,year:d,filters:l,props:t,emit:e}),P=(M,V)=>[M,V].map(U=>Cr(U,"MMMM",{locale:t.formatLocale})).join("-"),k=pe(()=>M=>c.value?Array.isArray(c.value)?c.value.some(V=>E_(M,V)):E_(c.value,M):!1),S=M=>{if(s.value.enabled){if(Array.isArray(c.value)){const V=rt(M,c.value[0])||rt(M,c.value[1]);return _f(c.value,n.value,M)&&!V}return!1}return!1},D=(M,V)=>M.quarter===v_(V)&&M.year===et(V),O=M=>typeof o.value=="function"?o.value({quarter:v_(M),year:et(M)}):!!o.value.quarters.find(V=>D(V,M)),E=pe(()=>M=>{const V=wt(new Date,{year:d.value(M)});return G$({start:Jg(V),end:Tk(V)}).map(U=>{const re=Qo(U),Z=y_(U),z=p(U),N=S(re),$=O(re);return{text:P(re,Z),value:re,active:k.value(re),highlighted:$,disabled:z,isBetween:N}})}),T=M=>{pv(M,c,u.value.limit),e("auto-apply",!0)},C=M=>{c.value=mv(c,M,e),Tf(c.value,e,t.autoApply,t.modelAuto)},F=M=>{c.value=M,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:_,year:d,isDisabled:y,quarters:E,showYearPicker:v,modelValue:c,setHoverDate:M=>{n.value=M},selectYear:m,selectQuarter:(M,V,U)=>{if(!U)return h.value[V].month=nt(y_(M)),u.value.enabled?T(M):s.value.enabled?C(M):F(M)},toggleYearPicker:b,handleYearSelect:g,handleYear:w}},EF={class:"dp--quarter-items"},kF=["data-test","disabled","onClick","onMouseover"],AF=Ht({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...qr},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=fs(),s=lr(o,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:_,toggleYearPicker:v,handleYearSelect:y,handleYear:b}=TF(i,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:_,handleYearSelect:y,handleYear:b})}),(g,w)=>(ee(),Be(wf,{"multi-calendars":ae(a).count,collapse:g.collapse,stretch:""},{default:He(({instance:P})=>[I("div",{class:"dp-quarter-picker-wrap",style:sn({minHeight:`${ae(l).modeHeight}px`})},[g.$slots["top-extra"]?Ce(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):ge("",!0),I("div",null,[Ue(Qk,tn(g.$props,{items:ae(u)(P),instance:P,"show-year-picker":ae(p)[P],year:ae(c)(P),"is-disabled":k=>ae(d)(P,k),onHandleYear:k=>ae(b)(P,k),onYearSelect:k=>ae(y)(k,P),onToggleYearPicker:k=>ae(v)(P,k==null?void 0:k.flow,k==null?void 0:k.show)}),Dn({_:2},[Qe(ae(s),(k,S)=>({name:k,fn:He(D=>[Ce(g.$slots,k,an(qn(D)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),I("div",EF,[(ee(!0),le(Se,null,Qe(ae(f)(P),(k,S)=>(ee(),le("div",{key:S},[I("button",{type:"button",class:Je(["dp--qr-btn",{"dp--qr-btn-active":k.active,"dp--qr-btn-between":k.isBetween,"dp--qr-btn-disabled":k.disabled,"dp--highlighted":k.highlighted}]),"data-test":k.value,disabled:k.disabled,onClick:D=>ae(_)(k.value,P,k.disabled),onMouseover:D=>ae(m)(k.value)},[g.$slots.quarter?Ce(g.$slots,"quarter",{key:0,value:k.value,text:k.text}):(ee(),le(Se,{key:1},[un(xe(k.text),1)],64))],42,kF)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),xF=["id","aria-label"],IF={key:0,class:"dp--menu-load-container"},SF=I("span",{class:"dp--menu-loader"},null,-1),RF=[SF],OF={key:0,class:"dp__sidebar_left"},PF=["data-test","onClick","onKeydown"],CF={key:2,class:"dp__sidebar_right"},DF={key:3,class:"dp__action_extra"},C_=Ht({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...bf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=he(null),s=pe(()=>{const{openOnTop:X,...G}=i;return{...G,flowStep:S.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:o.value}}),{setMenuFocused:a,setShiftKey:l,control:u}=Gk(),c=fs(),{defaultedTextInput:d,defaultedInline:f,defaultedConfig:h}=Dt(i),p=he(null),m=he(0),_=he(null),v=he(!1),y=he(null);bt(()=>{if(!i.shadow){v.value=!0,b(),window.addEventListener("resize",b);const X=Zt(o);if(X&&!d.value.enabled&&!f.value.enabled&&(a(!0),M()),X){const G=ie=>{h.value.allowPreventDefault&&ie.preventDefault(),ho(ie,h.value,!0)};X.addEventListener("pointerdown",G),X.addEventListener("mousedown",G)}}}),ya(()=>{window.removeEventListener("resize",b)});const b=()=>{const X=Zt(_);X&&(m.value=X.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:w,arrowDown:P,arrowUp:k}=Po(),{flowStep:S,updateFlowStep:D,childMount:O,resetFlow:E,handleFlow:T}=VF(i,r,y),C=pe(()=>i.monthPicker?$6:i.yearPicker?F6:i.timePicker?nF:i.quarterPicker?AF:wF),F=pe(()=>{var X;if(h.value.arrowLeft)return h.value.arrowLeft;const G=(X=o.value)==null?void 0:X.getBoundingClientRect(),ie=i.getInputRect();return ie.width<m.value&&ie.left<=((G==null?void 0:G.left)??0)?`${ie.width/2}px`:"50%"}),M=()=>{const X=Zt(o);X&&X.focus({preventScroll:!0})},V=pe(()=>{var X;return((X=y.value)==null?void 0:X.getSidebarProps())||{}}),U=()=>{i.openOnTop&&r("recalculate-position")},re=lr(c,"action"),Z=pe(()=>i.monthPicker||i.yearPicker?lr(c,"monthYear"):i.timePicker?lr(c,"timePicker"):lr(c,"shared")),z=pe(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),N=pe(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),$=pe(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[i.menuClassName]:!!i.menuClassName})),R=X=>{ho(X,h.value,!0)},W=()=>{i.escClose&&r("close-picker")},J=X=>{if(i.arrowNavigation){if(X===Un.up)return k();if(X===Un.down)return P();if(X===Un.left)return w();if(X===Un.right)return g()}else X===Un.left||X===Un.up?ne("handleArrow",Un.left,0,X===Un.up):ne("handleArrow",Un.right,0,X===Un.down)},j=X=>{l(X.shiftKey),!i.disableMonthYearSelect&&X.code===Rt.tab&&X.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(X.preventDefault(),ho(X,h.value,!0),r("close-picker"))},A=()=>{M(),r("time-picker-close")},q=X=>{var G,ie,oe;(G=y.value)==null||G.toggleTimePicker(!1,!1),(ie=y.value)==null||ie.toggleMonthPicker(!1,!1,X),(oe=y.value)==null||oe.toggleYearPicker(!1,!1,X)},B=(X,G=0)=>{var ie,oe,fe;return X==="month"?(ie=y.value)==null?void 0:ie.toggleMonthPicker(!1,!0,G):X==="year"?(oe=y.value)==null?void 0:oe.toggleYearPicker(!1,!0,G):X==="time"?(fe=y.value)==null?void 0:fe.toggleTimePicker(!0,!1):q(G)},ne=(X,...G)=>{var ie,oe;(ie=y.value)!=null&&ie[X]&&((oe=y.value)==null||oe[X](...G))},ue=()=>{ne("selectCurrentDate")},Q=(X,G)=>{ne("presetDate",X,G)},L=()=>{ne("clearHoverDate")},Y=(X,G)=>{ne("updateMonthYear",X,G)},K=(X,G)=>{X.preventDefault(),J(G)},de=X=>{var G;if(j(X),X.key===Rt.home||X.key===Rt.end)return ne("selectWeekDate",X.key===Rt.home,X.target.getAttribute("id"));switch((X.key===Rt.pageUp||X.key===Rt.pageDown)&&(X.shiftKey?ne("changeYear",X.key===Rt.pageUp):ne("changeMonth",X.key===Rt.pageUp),X.target.getAttribute("id")&&((G=o.value)==null||G.focus({preventScroll:!0}))),X.key){case Rt.esc:return W();case Rt.arrowLeft:return K(X,Un.left);case Rt.arrowRight:return K(X,Un.right);case Rt.arrowUp:return K(X,Un.up);case Rt.arrowDown:return K(X,Un.down);default:return}};return e({updateMonthYear:Y,switchView:B,handleFlow:T}),(X,G)=>{var ie,oe,fe;return ee(),le("div",{id:X.uid?`dp-menu-${X.uid}`:void 0,ref_key:"dpMenuRef",ref:o,tabindex:"0",role:"dialog","aria-label":(ie=X.ariaLabels)==null?void 0:ie.menu,class:Je($.value),style:sn({"--dp-arrow-left":F.value}),onMouseleave:L,onClick:R,onKeydown:de},[(X.disabled||X.readonly)&&ae(f).enabled||X.loading?(ee(),le("div",{key:0,class:Je(N.value)},[X.loading?(ee(),le("div",IF,RF)):ge("",!0)],2)):ge("",!0),!ae(f).enabled&&!X.teleportCenter?(ee(),le("div",{key:1,class:Je(z.value)},null,2)):ge("",!0),I("div",{ref_key:"innerMenuRef",ref:_,class:Je({dp__menu_content_wrapper:((oe=X.presetDates)==null?void 0:oe.length)||!!X.$slots["left-sidebar"]||!!X.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((fe=X.presetDates)==null?void 0:fe.length)||!!X.$slots["left-sidebar"]||!!X.$slots["right-sidebar"])}),style:sn({"--dp-menu-width":`${m.value}px`})},[X.$slots["left-sidebar"]?(ee(),le("div",OF,[Ce(X.$slots,"left-sidebar",an(qn(V.value)))])):ge("",!0),X.presetDates.length?(ee(),le("div",{key:1,class:Je({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ee(!0),le(Se,null,Qe(X.presetDates,(te,ye)=>(ee(),le(Se,{key:ye},[te.slot?Ce(X.$slots,te.slot,{key:0,presetDate:Q,label:te.label,value:te.value}):(ee(),le("button",{key:1,type:"button",style:sn(te.style||{}),class:Je(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":te.testId??void 0,onClick:Nr(_e=>Q(te.value,te.noTz),["prevent"]),onKeydown:_e=>ae(Jn)(_e,()=>Q(te.value,te.noTz),!0)},xe(te.label),47,PF))],64))),128))],2)):ge("",!0),I("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(ee(),Be(bd(C.value),tn({ref_key:"dynCmpRef",ref:y},s.value,{"flow-step":ae(S),onMount:ae(O),onUpdateFlowStep:ae(D),onResetFlow:ae(E),onFocusMenu:M,onSelectDate:G[0]||(G[0]=te=>X.$emit("select-date")),onDateUpdate:G[1]||(G[1]=te=>X.$emit("date-update",te)),onTooltipOpen:G[2]||(G[2]=te=>X.$emit("tooltip-open",te)),onTooltipClose:G[3]||(G[3]=te=>X.$emit("tooltip-close",te)),onAutoApply:G[4]||(G[4]=te=>X.$emit("auto-apply",te)),onRangeStart:G[5]||(G[5]=te=>X.$emit("range-start",te)),onRangeEnd:G[6]||(G[6]=te=>X.$emit("range-end",te)),onInvalidFixedRange:G[7]||(G[7]=te=>X.$emit("invalid-fixed-range",te)),onTimeUpdate:G[8]||(G[8]=te=>X.$emit("time-update")),onAmPmChange:G[9]||(G[9]=te=>X.$emit("am-pm-change",te)),onTimePickerOpen:G[10]||(G[10]=te=>X.$emit("time-picker-open",te)),onTimePickerClose:A,onRecalculatePosition:U,onUpdateMonthYear:G[11]||(G[11]=te=>X.$emit("update-month-year",te)),onAutoApplyInvalid:G[12]||(G[12]=te=>X.$emit("auto-apply-invalid",te)),onInvalidDate:G[13]||(G[13]=te=>X.$emit("invalid-date",te)),onOverlayToggle:G[14]||(G[14]=te=>X.$emit("overlay-toggle",te)),"onUpdate:internalModelValue":G[15]||(G[15]=te=>X.$emit("update:internal-model-value",te))}),Dn({_:2},[Qe(Z.value,(te,ye)=>({name:te,fn:He(_e=>[Ce(X.$slots,te,an(qn({..._e})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),X.$slots["right-sidebar"]?(ee(),le("div",CF,[Ce(X.$slots,"right-sidebar",an(qn(V.value)))])):ge("",!0),X.$slots["action-extra"]?(ee(),le("div",DF,[X.$slots["action-extra"]?Ce(X.$slots,"action-extra",{key:0,selectCurrentDate:ue}):ge("",!0)])):ge("",!0)],6),!X.autoApply||ae(h).keepActionRow?(ee(),Be(R6,tn({key:2,"menu-mount":v.value},s.value,{"calendar-width":m.value,onClosePicker:G[16]||(G[16]=te=>X.$emit("close-picker")),onSelectDate:G[17]||(G[17]=te=>X.$emit("select-date")),onInvalidSelect:G[18]||(G[18]=te=>X.$emit("invalid-select")),onSelectNow:ue}),Dn({_:2},[Qe(ae(re),(te,ye)=>({name:te,fn:He(_e=>[Ce(X.$slots,te,an(qn({..._e})))])}))]),1040,["menu-mount","calendar-width"])):ge("",!0)],46,xF)}}});var Ls=(t=>(t.center="center",t.left="left",t.right="right",t))(Ls||{});const NF=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:o,props:s,slots:a})=>{const l=he({}),u=he(!1),c=he({top:"0",left:"0"}),d=he(!1),f=kl(s,"teleportCenter");Gt(f,()=>{c.value=JSON.parse(JSON.stringify({})),g()});const h=M=>{if(s.teleport){const V=M.getBoundingClientRect();return{left:V.left+window.scrollX,top:V.top+window.scrollY}}return{top:0,left:0}},p=(M,V)=>{c.value.left=`${M+V-l.value.width}px`},m=M=>{c.value.left=`${M}px`},_=(M,V)=>{s.position===Ls.left&&m(M),s.position===Ls.right&&p(M,V),s.position===Ls.center&&(c.value.left=`${M+V/2-l.value.width/2}px`)},v=M=>{const{width:V,height:U}=M.getBoundingClientRect(),{top:re,left:Z}=s.altPosition?s.altPosition(M):h(M);return{top:+re,left:+Z,width:V,height:U}},y=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},b=()=>{const M=Zt(n),{top:V,left:U,transform:re}=s.altPosition(M);c.value={top:`${V}px`,left:`${U}px`,transform:re??""}},g=(M=!0)=>{var V;if(!i.value.enabled){if(f.value)return y();if(s.altPosition!==null)return b();if(M){const U=s.teleport?(V=e.value)==null?void 0:V.$el:t.value;U&&(l.value=U.getBoundingClientRect()),o("recalculate-position")}return E()}},w=({inputEl:M,left:V,width:U})=>{window.screen.width>768&&!u.value&&_(V,U),S(M)},P=M=>{const{top:V,left:U,height:re,width:Z}=v(M);c.value.top=`${re+V+ +s.offset}px`,d.value=!1,u.value||(c.value.left=`${U+Z/2-l.value.width/2}px`),w({inputEl:M,left:U,width:Z})},k=M=>{const{top:V,left:U,width:re}=v(M);c.value.top=`${V-+s.offset-l.value.height}px`,d.value=!0,w({inputEl:M,left:U,width:re})},S=M=>{if(s.autoPosition){const{left:V,width:U}=v(M),{left:re,right:Z}=l.value;if(!u.value){if(Math.abs(re)!==Math.abs(Z)){if(re<=0)return u.value=!0,m(V);if(Z>=document.documentElement.clientWidth)return u.value=!0,p(V,U)}return _(V,U)}}},D=()=>{const M=Zt(n);if(M){const{height:V}=l.value,{top:U,height:re}=M.getBoundingClientRect(),Z=window.innerHeight-U-re,z=U;return V<=Z?Uo.bottom:V>Z&&V<=z?Uo.top:Z>=z?Uo.bottom:Uo.top}return Uo.bottom},O=M=>D()===Uo.bottom?P(M):k(M),E=()=>{const M=Zt(n);if(M)return s.autoPosition?O(M):P(M)},T=function(M){if(M){const V=M.scrollHeight>M.clientHeight,U=window.getComputedStyle(M).overflowY.indexOf("hidden")!==-1;return V&&!U}return!0},C=function(M){return!M||M===document.body||M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:T(M)?M:C(M.assignedSlot?M.assignedSlot.parentNode:M.parentNode)},F=M=>{if(M)switch(s.position){case Ls.left:return{left:0,transform:"translateX(0)"};case Ls.right:return{left:`${M.width}px`,transform:"translateX(-100%)"};default:return{left:`${M.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:g,getScrollableParent:C,shadowRender:(M,V)=>{var U,re,Z;const z=document.createElement("div"),N=(U=Zt(n))==null?void 0:U.getBoundingClientRect();z.setAttribute("id","dp--temp-container");const $=(re=r.value)!=null&&re.clientWidth?r.value:document.body;$.append(z);const R=F(N),W=_a(M,{...V,shadow:!0,style:{opacity:0,position:"absolute",...R}},Object.fromEntries(Object.keys(a).filter(J=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(J)).map(J=>[J,a[J]])));my(W,z),l.value=(Z=W.el)==null?void 0:Z.getBoundingClientRect(),my(null,z),$.removeChild(z)}}},Ki=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],MF=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],LF={all:()=>Ki,monthYear:()=>Ki.filter(t=>t.use.includes("month-year")),input:()=>MF,timePicker:()=>Ki.filter(t=>t.use.includes("time")),action:()=>Ki.filter(t=>t.use.includes("action")),calendar:()=>Ki.filter(t=>t.use.includes("calendar")),menu:()=>Ki.filter(t=>t.use.includes("menu")),shared:()=>Ki.filter(t=>t.use.includes("shared")),yearMode:()=>Ki.filter(t=>t.use.includes("year-mode"))},lr=(t,e,n)=>{const r=[];return LF[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},wu=t=>{const e=pe(()=>r=>t.value?r?t.value.open:t.value.close:""),n=pe(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Tu=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=Dt(t),i=Te(ci(Te(),r.value.timezone)),o=he([{month:nt(i),year:et(i)}]),s=d=>{const f={hours:Li(i),minutes:To(i),seconds:0};return n.value.enabled?[f[d],f[d]]:f[d]},a=jr({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});Gt(n,(d,f)=>{d.enabled!==f.enabled&&(a.hours=s("hours"),a.minutes=s("minutes"),a.seconds=s("seconds"))},{deep:!0});const l=pe({get:()=>t.internalModelValue,set:d=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",d)}}),u=pe(()=>d=>o.value[d]?o.value[d].month:0),c=pe(()=>d=>o.value[d]?o.value[d].year:0);return{calendars:o,time:a,modelValue:l,month:u,year:c,today:i}},$F=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:a}=Dt(e),{isDisabled:l}=Co(e),u=he(null),c=he(ci(new Date,o.value.timezone)),d=R=>{!R.current&&e.hideOffsetDates||(u.value=R.value)},f=()=>{u.value=null},h=R=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&u.value?R?Bt(u.value,t.value[0]):Nt(u.value,t.value[0]):!0,p=(R,W)=>{const J=()=>t.value?W?t.value[0]||null:t.value[1]:null,j=t.value&&Array.isArray(t.value)?J():null;return rt(Te(R.value),j)},m=R=>{const W=Array.isArray(t.value)?t.value[0]:null;return R?!Nt(u.value??null,W):!0},_=(R,W=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!R.current?!1:rt(Te(R.value),t.value[W?0:1]):a.value.enabled?p(R,W)&&m(W)||rt(R.value,Array.isArray(t.value)?t.value[0]:null)&&h(W):!1,v=(R,W)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const J=rt(R.value,u.value);return W?Bt(t.value[0],R.value)&&J:Nt(t.value[0],R.value)&&J}return!1},y=R=>!t.value||e.hideOffsetDates&&!R.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?rt(R.value,t.value[0]?t.value[0]:c.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(W=>rt(W,R.value)):rt(R.value,t.value?t.value:c.value),b=R=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!R.current)return!1;const W=kr(u.value,+a.value.autoRange),J=bi(Te(u.value),e.weekStart);return e.weekPicker?rt(J[1],Te(R.value)):rt(W,Te(R.value))}return!1}return!1},g=R=>{if(a.value.autoRange||e.weekPicker){if(u.value){const W=kr(u.value,+a.value.autoRange);if(e.hideOffsetDates&&!R.current)return!1;const J=bi(Te(u.value),e.weekStart);return e.weekPicker?Bt(R.value,J[0])&&Nt(R.value,J[1]):Bt(R.value,u.value)&&Nt(R.value,W)}return!1}return!1},w=R=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!R.current)return!1;const W=bi(Te(u.value),e.weekStart);return e.weekPicker?rt(W[0],R.value):rt(u.value,R.value)}return!1}return!1},P=R=>_f(t.value,u.value,R.value),k=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,S=()=>e.modelAuto?Vk(e.internalModelValue):!0,D=R=>{if(e.weekPicker)return!1;const W=a.value.enabled?!_(R)&&!_(R,!1):!0;return!l(R.value)&&!y(R)&&!(!R.current&&e.hideOffsetDates)&&W},O=R=>a.value.enabled?e.modelAuto?k()&&y(R):!1:y(R),E=R=>i.value?t6(R.value,s.value.highlight):!1,T=R=>{const W=l(R.value);return W&&(typeof i.value=="function"?!i.value(R.value,W):!i.value.options.highlightDisabled)},C=R=>{var W;return typeof i.value=="function"?i.value(R.value):(W=i.value.weekdays)==null?void 0:W.includes(R.value.getDay())},F=R=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||R.current)&&S()&&!(!R.current&&e.hideOffsetDates)&&!y(R)?P(R):!1,M=R=>{const{isRangeStart:W,isRangeEnd:J}=Z(R),j=a.value.enabled?W||J:!1;return{dp__cell_offset:!R.current,dp__pointer:!e.disabled&&!(!R.current&&e.hideOffsetDates)&&!l(R.value),dp__cell_disabled:l(R.value),dp__cell_highlight:!T(R)&&(E(R)||C(R))&&!O(R)&&!j&&!w(R)&&!(F(R)&&e.weekPicker)&&!J,dp__cell_highlight_active:!T(R)&&(E(R)||C(R))&&O(R),dp__today:!e.noToday&&rt(R.value,c.value)&&R.current,"dp--past":Nt(R.value,c.value),"dp--future":Bt(R.value,c.value)}},V=R=>({dp__active_date:O(R),dp__date_hover:D(R)}),U=R=>{if(t.value&&!Array.isArray(t.value)){const W=bi(t.value,e.weekStart);return{...N(R),dp__range_start:rt(W[0],R.value),dp__range_end:rt(W[1],R.value),dp__range_between_week:Bt(R.value,W[0])&&Nt(R.value,W[1])}}return{...N(R)}},re=R=>{if(t.value&&Array.isArray(t.value)){const W=bi(t.value[0],e.weekStart),J=t.value[1]?bi(t.value[1],e.weekStart):[];return{...N(R),dp__range_start:rt(W[0],R.value)||rt(J[0],R.value),dp__range_end:rt(W[1],R.value)||rt(J[1],R.value),dp__range_between_week:Bt(R.value,W[0])&&Nt(R.value,W[1])||Bt(R.value,J[0])&&Nt(R.value,J[1]),dp__range_between:Bt(R.value,W[1])&&Nt(R.value,J[0])}}return{...N(R)}},Z=R=>{const W=n.value.count>0?R.current&&_(R)&&S():_(R)&&S(),J=n.value.count>0?R.current&&_(R,!1)&&S():_(R,!1)&&S();return{isRangeStart:W,isRangeEnd:J}},z=R=>{const{isRangeStart:W,isRangeEnd:J}=Z(R);return{dp__range_start:W,dp__range_end:J,dp__range_between:F(R),dp__date_hover:rt(R.value,u.value)&&!W&&!J&&!e.weekPicker,dp__date_hover_start:v(R,!0),dp__date_hover_end:v(R,!1)}},N=R=>({...z(R),dp__cell_auto_range:g(R),dp__cell_auto_range_start:w(R),dp__cell_auto_range_end:b(R)}),$=R=>a.value.enabled?a.value.autoRange?N(R):e.modelAuto?{...V(R),...z(R)}:e.weekPicker?re(R):z(R):e.weekPicker?U(R):V(R);return{setHoverDate:d,clearHoverDate:f,getDayClassData:R=>e.hideOffsetDates&&!R.current?{}:{...M(R),...$(R),[e.dayClass?e.dayClass(R.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Co=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=Dt(t),o=T=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Te(T)):!!ld(T,r.value.disabledDates):!1,s=T=>{const C=r.value.maxDate?Bt(T,r.value.maxDate):!1,F=r.value.minDate?Nt(T,r.value.minDate):!1,M=o(T),V=e.value.months.map(N=>+N).includes(nt(T)),U=t.disabledWeekDays.length?t.disabledWeekDays.some(N=>+N===U5(T)):!1,re=d(T),Z=et(T),z=Z<+t.yearRange[0]||Z>+t.yearRange[1];return!(C||F||M||V||z||U||re)},a=(T,C)=>Nt(...oo(r.value.minDate,T,C))||rt(...oo(r.value.minDate,T,C)),l=(T,C)=>Bt(...oo(r.value.maxDate,T,C))||rt(...oo(r.value.maxDate,T,C)),u=(T,C,F)=>{let M=!1;return r.value.maxDate&&F&&l(T,C)&&(M=!0),r.value.minDate&&!F&&a(T,C)&&(M=!0),M},c=(T,C,F,M)=>{let V=!1;return M?r.value.minDate&&r.value.maxDate?V=u(T,C,F):(r.value.minDate&&a(T,C)||r.value.maxDate&&l(T,C))&&(V=!0):V=!0,V},d=T=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!ld(T,r.value.allowedDates):!1,f=T=>!s(T),h=T=>n.value.noDisabledRange?!wk({start:T[0],end:T[1]}).some(C=>f(C)):!0,p=T=>{if(T){const C=et(T);return C>=+t.yearRange[0]&&C<=t.yearRange[1]}return!0},m=(T,C)=>!!(Array.isArray(T)&&T[C]&&(n.value.maxRange||n.value.minRange)&&p(T[C])),_=(T,C,F=0)=>{if(m(C,F)&&p(T)){const M=_k(T,C[F]),V=qk(C[F],T),U=V.length===1?0:V.filter(Z=>f(Z)).length,re=Math.abs(M)-(n.value.minMaxRawRange?0:U);if(n.value.minRange&&n.value.maxRange)return re>=+n.value.minRange&&re<=+n.value.maxRange;if(n.value.minRange)return re>=+n.value.minRange;if(n.value.maxRange)return re<=+n.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,y=T=>Array.isArray(T)?[T[0]?Wh(T[0]):null,T[1]?Wh(T[1]):null]:Wh(T),b=(T,C,F)=>T.find(M=>+M.hours===Li(C)&&M.minutes==="*"?!0:+M.minutes===To(C)&&+M.hours===Li(C))&&F,g=(T,C,F)=>{const[M,V]=T,[U,re]=C;return!b(M,U,F)&&!b(V,re,F)&&F},w=(T,C)=>{const F=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?g(t.disabledTimes,F,T):!F.some(M=>b(t.disabledTimes,M,T)):T},P=(T,C)=>{const F=Array.isArray(C)?[ts(C[0]),C[1]?ts(C[1]):void 0]:ts(C),M=!t.disabledTimes(F);return T&&M},k=(T,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?w(C,T):P(C,T):C,S=T=>{let C=!0;if(!T||v())return!0;const F=!r.value.minDate&&!r.value.maxDate?y(T):T;return(t.maxTime||r.value.maxDate)&&(C=S_(t.maxTime,r.value.maxDate,"max",rn(F),C)),(t.minTime||r.value.minDate)&&(C=S_(t.minTime,r.value.minDate,"min",rn(F),C)),k(T,C)},D=T=>{if(!t.monthPicker)return!0;let C=!0;const F=Te(Ar(T));if(r.value.minDate&&r.value.maxDate){const M=Te(Ar(r.value.minDate)),V=Te(Ar(r.value.maxDate));return Bt(F,M)&&Nt(F,V)||rt(F,M)||rt(F,V)}if(r.value.minDate){const M=Te(Ar(r.value.minDate));C=Bt(F,M)||rt(F,M)}if(r.value.maxDate){const M=Te(Ar(r.value.maxDate));C=Nt(F,M)||rt(F,M)}return C},O=pe(()=>T=>!t.enableTimePicker||t.ignoreTimeValidation?!0:S(T)),E=pe(()=>T=>t.monthPicker?Array.isArray(T)&&(n.value.enabled||i.value.enabled)?!T.filter(C=>!D(C)).length:D(T):!0);return{isDisabled:f,validateDate:s,validateMonthYearInRange:c,isDateRangeAllowed:h,checkMinMaxRange:_,isValidTime:S,isTimeValid:O,isMonthValid:E}},Ef=()=>{const t=pe(()=>(r,i)=>r==null?void 0:r.includes(i)),e=pe(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=pe(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},VF=(t,e,n)=>{const r=he(0),i=jr({[es.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[es.calendar]:!1,[es.header]:!1}),o=pe(()=>t.monthPicker||t.timePicker),s=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&o.value)return c();i[d]=!0,Object.keys(i).filter(h=>!i[h]).length||c()}},a=()=>{var d,f;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c()),((f=t.flow)==null?void 0:f.length)===r.value&&Tn().then(()=>l())},l=()=>{r.value=-1},u=(d,f,...h)=>{var p,m;t.flow[r.value]===d&&n.value&&((m=(p=n.value)[f])==null||m.call(p,...h))},c=(d=0)=>{d&&(r.value+=d),u(On.month,"toggleMonthPicker",!0),u(On.year,"toggleYearPicker",!0),u(On.calendar,"toggleTimePicker",!1,!0),u(On.time,"toggleTimePicker",!0,!0);const f=t.flow[r.value];(f===On.hours||f===On.minutes||f===On.seconds)&&u(f,"toggleTimePicker",!0,!0,f)};return{childMount:s,updateFlowStep:a,resetFlow:l,handleFlow:c,flowStep:r}},FF={key:1,class:"dp__input_wrap"},jF=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],BF={key:2,class:"dp__clear_icon"},UF=Ht({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...bf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:o,defaultedAriaLabels:s,defaultedInline:a,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d,getDefaultStartTime:f}=Dt(i),{checkMinMaxRange:h}=Co(i),p=he(),m=he(null),_=he(!1),v=he(!1),y=pe(()=>({dp__pointer:!i.disabled&&!i.readonly&&!o.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:_.value||i.isMenuOpen,dp__input_reg:!o.value.enabled,[i.inputClassName]:!!i.inputClassName})),b=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),p.value=null)},g=V=>{const U=f();return n6(V,o.value.format??d(),U??Hk({},i.enableSeconds),i.inputValue,v.value,i.formatLocale)},w=V=>{const{rangeSeparator:U}=o.value,[re,Z]=V.split(`${U}`);if(re){const z=g(re.trim()),N=Z?g(Z.trim()):null;if(ha(z,N))return;const $=z&&N?[z,N]:[z];h(N,$,0)&&(p.value=z?$:null)}},P=()=>{v.value=!0},k=V=>{if(u.value.enabled)w(V);else if(c.value.enabled){const U=V.split(";");p.value=U.map(re=>g(re.trim())).filter(re=>re)}else p.value=g(V)},S=V=>{var U;const re=typeof V=="string"?V:(U=V.target)==null?void 0:U.value;re!==""?(o.value.openMenu&&!i.isMenuOpen&&r("open"),k(re),r("set-input-date",p.value)):b(),v.value=!1,r("update:input-value",re)},D=V=>{o.value.enabled?(k(V.target.value),o.value.enterSubmit&&lm(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):o.value.enterSubmit&&i.inputValue===""&&(p.value=null,r("clear"))):T(V)},O=V=>{o.value.enabled&&o.value.tabSubmit&&k(V.target.value),o.value.tabSubmit&&lm(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):o.value.tabSubmit&&i.inputValue===""&&(p.value=null,r("clear",!0))},E=()=>{_.value=!0,r("focus"),Tn().then(()=>{var V;o.value.enabled&&o.value.selectOnFocus&&((V=m.value)==null||V.select())})},T=V=>{V.preventDefault(),ho(V,l.value,!0),o.value.enabled&&o.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):o.value.enabled||r("toggle")},C=()=>{r("real-blur"),_.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&o.value.enabled&&p.value&&!i.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},F=V=>{ho(V,l.value,!0),r("clear")},M=V=>{if(V.key==="Tab"&&O(V),V.key==="Enter"&&D(V),!o.value.enabled){if(V.code==="Tab")return;V.preventDefault()}};return e({focusInput:()=>{var V;(V=m.value)==null||V.focus({preventScroll:!0})},setParsedDate:V=>{p.value=V}}),(V,U)=>{var re;return ee(),le("div",{onClick:T},[V.$slots.trigger&&!V.$slots["dp-input"]&&!ae(a).enabled?Ce(V.$slots,"trigger",{key:0}):ge("",!0),!V.$slots.trigger&&(!ae(a).enabled||ae(a).input)?(ee(),le("div",FF,[V.$slots["dp-input"]&&!V.$slots.trigger&&(!ae(a).enabled||ae(a).enabled&&ae(a).input)?Ce(V.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:S,onEnter:D,onTab:O,onClear:F,onBlur:C,onKeypress:M,onPaste:P,onFocus:E,openMenu:()=>V.$emit("open"),closeMenu:()=>V.$emit("close"),toggleMenu:()=>V.$emit("toggle")}):ge("",!0),V.$slots["dp-input"]?ge("",!0):(ee(),le("input",{key:1,id:V.uid?`dp-input-${V.uid}`:void 0,ref_key:"inputRef",ref:m,"data-test":"dp-input",name:V.name,class:Je(y.value),inputmode:ae(o).enabled?"text":"none",placeholder:V.placeholder,disabled:V.disabled,readonly:V.readonly,required:V.required,value:t.inputValue,autocomplete:V.autocomplete,"aria-label":(re=ae(s))==null?void 0:re.input,"aria-disabled":V.disabled||void 0,"aria-invalid":V.state===!1?!0:void 0,onInput:S,onBlur:C,onFocus:E,onKeypress:M,onKeydown:M,onPaste:P},null,42,jF)),I("div",{onClick:U[2]||(U[2]=Z=>r("toggle"))},[V.$slots["input-icon"]&&!V.hideInputIcon?(ee(),le("span",{key:0,class:"dp__input_icon",onClick:U[0]||(U[0]=Z=>r("toggle"))},[Ce(V.$slots,"input-icon")])):ge("",!0),!V.$slots["input-icon"]&&!V.hideInputIcon&&!V.$slots["dp-input"]?(ee(),Be(ae(Ra),{key:1,class:"dp__input_icon dp__input_icons",onClick:U[1]||(U[1]=Z=>r("toggle"))})):ge("",!0)]),V.$slots["clear-icon"]&&t.inputValue&&V.clearable&&!V.disabled&&!V.readonly?(ee(),le("span",BF,[Ce(V.$slots,"clear-icon",{clear:F})])):ge("",!0),V.clearable&&!V.$slots["clear-icon"]&&t.inputValue&&!V.disabled&&!V.readonly?(ee(),Be(ae(Lk),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:U[3]||(U[3]=Nr(Z=>F(Z),["prevent"]))})):ge("",!0)])):ge("",!0)])}}}),qF=typeof window<"u"?window:void 0,ep=()=>{},HF=t=>ob()?(QA(t),!0):!1,zF=(t,e,n,r)=>{if(!t)return ep;let i=ep;const o=Gt(()=>ae(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=ep})},{immediate:!0,flush:"post"}),s=()=>{o(),i()};return HF(s),s},KF=(t,e,n,r={})=>{const{window:i=qF,event:o="pointerdown"}=r;return i?zF(i,o,s=>{const a=Zt(t),l=Zt(e);!a||!l||a===s.target||s.composedPath().includes(a)||s.composedPath().includes(l)||n(s)},{passive:!0}):void 0},YF=Ht({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...bf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=fs(),s=he(!1),a=kl(i,"modelValue"),l=kl(i,"timezone"),u=he(null),c=he(null),d=he(null),f=he(!1),h=he(null),p=he(!1),m=he(!1),_=he(!1),{setMenuFocused:v,setShiftKey:y}=Gk(),{clearArrowNav:b}=Po(),{validateDate:g,isValidTime:w}=Co(i),{defaultedTransitions:P,defaultedTextInput:k,defaultedInline:S,defaultedConfig:D,defaultedRange:O,defaultedMultiDates:E}=Dt(i),{menuTransition:T,showTransition:C}=wu(P);bt(()=>{W(i.modelValue),Tn().then(()=>{if(!S.value.enabled){const me=z(h.value);me==null||me.addEventListener("scroll",Y),window==null||window.addEventListener("resize",K)}}),S.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",de),window==null||window.addEventListener("keydown",X)}),ya(()=>{if(!S.value.enabled){const me=z(h.value);me==null||me.removeEventListener("scroll",Y),window==null||window.removeEventListener("resize",K)}window==null||window.removeEventListener("keyup",de),window==null||window.removeEventListener("keydown",X)});const F=lr(o,"all",i.presetDates),M=lr(o,"input");Gt([a,l],()=>{W(a.value)},{deep:!0});const{openOnTop:V,menuStyle:U,xCorrect:re,setMenuPosition:Z,getScrollableParent:z,shadowRender:N}=NF({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:S,emit:r,props:i,slots:o}),{inputValue:$,internalModelValue:R,parseExternalModelValue:W,emitModelValue:J,formatInputValue:j,checkBeforeEmit:A}=A6(r,i,f),q=pe(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:S.value.enabled,"dp--flex-display-collapsed":_.value,dp__flex_display_with_input:S.value.input})),B=pe(()=>i.dark?"dp__theme_dark":"dp__theme_light"),ne=pe(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||S.value.enabled}:{}),ue=pe(()=>({class:"dp__outer_menu_wrap"})),Q=pe(()=>S.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),L=()=>{var me,ke;return(ke=(me=d.value)==null?void 0:me.$el)==null?void 0:ke.getBoundingClientRect()},Y=()=>{s.value&&(D.value.closeOnScroll?Re():Z())},K=()=>{var me;s.value&&Z();const ke=(me=c.value)==null?void 0:me.$el.getBoundingClientRect().width;_.value=document.body.offsetWidth<=ke},de=me=>{me.key==="Tab"&&!S.value.enabled&&!i.teleport&&D.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Re()),m.value=me.shiftKey},X=me=>{m.value=me.shiftKey},G=()=>{!i.disabled&&!i.readonly&&(N(C_,i),Z(!1),s.value=!0,s.value&&r("open"),s.value||we(),W(i.modelValue))},ie=()=>{var me;$.value="",we(),(me=d.value)==null||me.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),D.value.closeOnClearValue&&Re()},oe=()=>{const me=R.value;return!me||!Array.isArray(me)&&g(me)?!0:Array.isArray(me)?E.value.enabled||me.length===2&&g(me[0])&&g(me[1])?!0:O.value.partialRange&&!i.timePicker?g(me[0]):!1:!1},fe=()=>{A()&&oe()?(J(),Re()):r("invalid-select",R.value)},te=me=>{ye(),J(),D.value.closeOnAutoApply&&!me&&Re()},ye=()=>{d.value&&k.value.enabled&&d.value.setParsedDate(R.value)},_e=(me=!1)=>{i.autoApply&&w(R.value)&&oe()&&(O.value.enabled&&Array.isArray(R.value)?(O.value.partialRange||R.value.length===2)&&te(me):te(me))},we=()=>{k.value.enabled||(R.value=null)},Re=()=>{S.value.enabled||(s.value&&(s.value=!1,re.value=!1,v(!1),y(!1),b(),r("closed"),$.value&&W(a.value)),we(),r("blur"))},Me=(me,ke,Ie=!1)=>{if(!me){R.value=null;return}const Ft=Array.isArray(me)?!me.some(ir=>!g(ir)):g(me),zt=w(me);Ft&&zt&&(R.value=me,ke&&(p.value=Ie,fe(),r("text-submit")))},De=()=>{i.autoApply&&w(R.value)&&J(),ye()},tt=()=>s.value?Re():G(),$e=me=>{R.value=me},mt=()=>{k.value.enabled&&(f.value=!0,j()),r("focus")},$n=()=>{if(k.value.enabled&&(f.value=!1,W(i.modelValue),p.value)){const me=ZV(h.value,m.value);me==null||me.focus()}r("blur")},Hr=me=>{c.value&&c.value.updateMonthYear(0,{month:A_(me.month),year:A_(me.year)})},Vn=me=>{W(me??i.modelValue)},rr=(me,ke)=>{var Ie;(Ie=c.value)==null||Ie.switchView(me,ke)},ce=me=>D.value.onClickOutside?D.value.onClickOutside(me):Re(),be=(me=0)=>{var ke;(ke=c.value)==null||ke.handleFlow(me)};return KF(u,d,()=>ce(oe)),e({closeMenu:Re,selectDate:fe,clearValue:ie,openMenu:G,onScroll:Y,formatInputValue:j,updateInternalModelValue:$e,setMonthYear:Hr,parseModel:Vn,switchView:rr,toggleMenu:tt,handleFlow:be}),(me,ke)=>(ee(),le("div",{ref_key:"pickerWrapperRef",ref:h,class:Je(q.value),"data-datepicker-instance":""},[Ue(UF,tn({ref_key:"inputRef",ref:d,"input-value":ae($),"onUpdate:inputValue":ke[0]||(ke[0]=Ie=>ln($)?$.value=Ie:null),"is-menu-open":s.value},me.$props,{onClear:ie,onOpen:G,onSetInputDate:Me,onSetEmptyDate:ae(J),onSelectDate:fe,onToggle:tt,onClose:Re,onFocus:mt,onBlur:$n,onRealBlur:ke[1]||(ke[1]=Ie=>f.value=!1)}),Dn({_:2},[Qe(ae(M),(Ie,Ft)=>({name:Ie,fn:He(zt=>[Ce(me.$slots,Ie,an(qn(zt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ee(),Be(bd(me.teleport?_I:"div"),an(qn(ne.value)),{default:He(()=>[Ue(Dr,{name:ae(T)(ae(V)),css:ae(C)&&!ae(S).enabled},{default:He(()=>[s.value?(ee(),le("div",tn({key:0,ref_key:"dpWrapMenuRef",ref:u},ue.value,{class:{"dp--menu-wrapper":!ae(S).enabled},style:ae(S).enabled?void 0:ae(U)}),[Ue(C_,tn({ref_key:"dpMenuRef",ref:c},me.$props,{"internal-model-value":ae(R),"onUpdate:internalModelValue":ke[2]||(ke[2]=Ie=>ln(R)?R.value=Ie:null),class:{[B.value]:!0,"dp--menu-wrapper":me.teleport},"open-on-top":ae(V),"no-overlay-focus":Q.value,collapse:_.value,"get-input-rect":L,onClosePicker:Re,onSelectDate:fe,onAutoApply:_e,onTimeUpdate:De,onFlowStep:ke[3]||(ke[3]=Ie=>me.$emit("flow-step",Ie)),onUpdateMonthYear:ke[4]||(ke[4]=Ie=>me.$emit("update-month-year",Ie)),onInvalidSelect:ke[5]||(ke[5]=Ie=>me.$emit("invalid-select",ae(R))),onAutoApplyInvalid:ke[6]||(ke[6]=Ie=>me.$emit("invalid-select",Ie)),onInvalidFixedRange:ke[7]||(ke[7]=Ie=>me.$emit("invalid-fixed-range",Ie)),onRecalculatePosition:ae(Z),onTooltipOpen:ke[8]||(ke[8]=Ie=>me.$emit("tooltip-open",Ie)),onTooltipClose:ke[9]||(ke[9]=Ie=>me.$emit("tooltip-close",Ie)),onTimePickerOpen:ke[10]||(ke[10]=Ie=>me.$emit("time-picker-open",Ie)),onTimePickerClose:ke[11]||(ke[11]=Ie=>me.$emit("time-picker-close",Ie)),onAmPmChange:ke[12]||(ke[12]=Ie=>me.$emit("am-pm-change",Ie)),onRangeStart:ke[13]||(ke[13]=Ie=>me.$emit("range-start",Ie)),onRangeEnd:ke[14]||(ke[14]=Ie=>me.$emit("range-end",Ie)),onDateUpdate:ke[15]||(ke[15]=Ie=>me.$emit("date-update",Ie)),onInvalidDate:ke[16]||(ke[16]=Ie=>me.$emit("invalid-date",Ie)),onOverlayToggle:ke[17]||(ke[17]=Ie=>me.$emit("overlay-toggle",Ie))}),Dn({_:2},[Qe(ae(F),(Ie,Ft)=>({name:Ie,fn:He(zt=>[Ce(me.$slots,Ie,an(qn({...zt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):ge("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Eu=(()=>{const t=YF;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),WF=Object.freeze(Object.defineProperty({__proto__:null,default:Eu},Symbol.toStringTag,{value:"Module"}));Object.entries(WF).forEach(([t,e])=>{t!=="default"&&(Eu[t]=e)});const GF=I("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),QF={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},XF={class:"relative p-4 max-w-2xl max-h-full"},JF={class:"relative bg-white rounded-lg shadow"},ZF={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},ej=I("h3",{class:"text-lg font-semibold text-black"}," Avukat Uygun Randevu Saatleri ",-1),tj=I("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),nj=I("span",{class:"sr-only"},"Close modal",-1),rj=[tj,nj],ij={class:"p-4 px-10 max-h-full flex items-center justify-center"},oj={id:"timetable",class:"pt-4 grid w-full grid-cols-3 gap-2 mb-5"},sj=["id"],aj=["for"],lj={__name:"AttorneyScheduleModal",emits:["close"],setup(t,{emit:e}){const n=he(new Date),r={Monday:["09:00","10:00","11:30","13:00","14:30","16:00"],Tuesday:["09:30","10:30","12:00","13:30","15:00","16:30"],Wednesday:["09:00","11:00","12:30","14:00","15:30","17:00"],Thursday:["08:30","10:00","11:30","13:00","14:30","16:00"],Friday:["09:00","10:30","12:00","13:30","15:00","16:30"],Saturday:["10:00","11:30","13:00","14:30","16:00","17:30"],Sunday:["09:30","11:00","12:30","14:00","15:30","17:00"]},i=pe(()=>{const o=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n.value);return r[o]});return bt(()=>{console.log("Component mounted")}),(o,s)=>(ee(),le(Se,null,[GF,I("div",QF,[I("div",XF,[I("div",JF,[I("div",ZF,[ej,I("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},rj)]),I("div",ij,[I("div",null,[Ue(ae(Eu),{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=a=>n.value=a),inline:"","auto-apply":"",name:"date",class:"form-input w-full","enable-time-picker":!1},null,8,["modelValue"]),I("ul",oj,[(ee(!0),le(Se,null,Qe(i.value,(a,l)=>(ee(),le("li",{key:l},[I("input",{type:"radio",id:"time-"+l,value:"",class:"hidden peer",name:"timetable"},null,8,sj),I("label",{for:"time-"+l,class:"inline-flex items-center justify-center w-full px-2 py-1 text-sm font-medium text-center hover:text-gray-900 dark:hover:text-white bg-white border rounded-lg cursor-pointer text-gray-500 border-gray-200 peer-checked:border-blue-700 peer-checked:bg-blue-50 peer-checked:text-blue-700 hover:bg-gray-50"},xe(a),9,aj)]))),128))])])])])])])],64))}},uj={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},cj={class:"flex justify-between items-center mb-4"},dj={class:"text-4xl font-bold text-gray-800"},fj=I("div",{class:"text-lg font-medium text-gray-500"},"Toplam Online Görüşmeler",-1),hj=I("div",{class:"text-gray-400"},[I("i",{class:"ri-group-line text-4xl"})],-1),pj={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},mj={class:"text-right text-sm font-medium text-gray-600 mt-2"},gj={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},vj={class:"flex justify-between items-center mb-4"},yj={class:"flex items-center mb-1"},_j={class:"text-4xl font-bold text-gray-800"},bj={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},wj=I("div",{class:"text-lg font-medium text-gray-500"},"Yaklaşan Görüşmeler",-1),Tj=I("div",{class:"text-gray-400"},[I("i",{class:"ri-calendar-check-line text-4xl"})],-1),Ej=I("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),kj={class:"mt-2 flex flex-wrap"},Aj={key:0,class:"flex items-center justify-center bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},xj=I("div",{class:"text-2xl font-bold text-gray-800 mb-4"},"Avukat Çizelgesi",-1),Ij={key:1,class:"bg-white border border-gray-200 rounded-lg p-6 shadow-lg"},Sj=I("div",{class:"flex justify-between items-center mb-4 bg-gray-800 p-2 rounded-t-lg"},[I("div",{class:"flex items-center p-2"},[I("i",{class:"ri-award-line text-2xl text-white"}),I("div",{class:"ml-2 text-lg font-bold text-white"},"En çok Görüşme Yapan Avukatlar")])],-1),Rj={class:"mt-2 space-y-2"},Oj={class:"flex items-center"},Pj={class:"bg-gray-800 text-white rounded-full h-8 w-8 flex items-center justify-center font-bold"},Cj={class:"pl-4 flex items-center justify-stretch"},Dj={class:"text-lg font-bold"},Nj={class:"text-xl border-l-2 border-gray-800 px-4"},Mj={__name:"MeetingCards",props:{totalMeetings:Number,approvedMeetings:Number,satisfactionRate:Number,meetingStatusSummary:Object,topAttorneys:Array,showTopAttorneys:Boolean,showAttorneySchedule:Boolean},setup(t){const e=Ao(),n=pe(()=>e.getters.userRole),r=he(!1),i=()=>n.value==="admin",o=t,s={0:"bg-blue-100 text-blue-700",1:"bg-green-100 text-green-700",2:"bg-gray-100 text-gray-700",3:"bg-red-100 text-red-700",4:"bg-orange-100 text-orange-700",5:"bg-orange-100 text-orange-700",6:"bg-black text-white",7:"bg-black text-white"},a=c=>{switch(c){case"0":return"İstek";case"1":return"Kabul Edildi";case"2":return"Tamamlandı";case"3":return"Reddedildi";case"4":return"Müşteri Onayı";case"5":return"Avukat Onayı";case"6":return"Geri Ödemeli İptal";case"7":return"Geri Ödemesiz İptal";default:return"Unknown"}},l=pe(()=>o.totalMeetings===0?0:(o.approvedMeetings/o.totalMeetings*100).toFixed(2)),u=pe(()=>o.totalMeetings===0?0:(o.totalMeetings/100*100).toFixed(2));return bt(()=>{console.log("isAdmin",i())}),(c,d)=>(ee(),le(Se,null,[r.value?(ee(),Be(lj,{key:0,onClose:d[0]||(d[0]=f=>r.value=!1)})):ge("",!0),I("div",{class:Je(["grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",{"lg:grid-cols-3":i()}])},[I("div",uj,[I("div",cj,[I("div",null,[I("div",dj,xe(t.totalMeetings),1),fj]),hj]),I("div",pj,[I("div",{class:"h-full bg-blue-600",style:sn({width:u.value+"%"})},null,4)]),I("div",mj,xe(u.value)+"%",1)]),I("div",gj,[I("div",vj,[I("div",null,[I("div",yj,[I("div",_j,xe(t.approvedMeetings),1),I("div",bj," +"+xe(l.value)+"% ",1)]),wj]),Tj]),Ej,I("div",kj,[(ee(!0),le(Se,null,Qe(t.meetingStatusSummary,(f,h)=>(ee(),le("span",{key:h,class:Je([s[h],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},xe(a(h))+": "+xe(f),3))),128))])]),t.showAttorneySchedule&&n.value==="admin"?(ee(),le("div",Aj,[I("div",null,[xj,I("button",{onClick:d[1]||(d[1]=f=>r.value=!0),class:"text-white w-full inline-flex items-center justify-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Çizelgeyi Görüntüle ")])])):ge("",!0),t.showTopAttorneys?(ee(),le("div",Ij,[Sj,I("ul",Rj,[(ee(!0),le(Se,null,Qe(t.topAttorneys,(f,h)=>(ee(),le("li",{key:h,class:"flex items-center justify-between text-lg font-medium text-black bg-gray-100 h-10 rounded-lg"},[I("div",Oj,[I("div",Pj,xe(h+1),1),I("div",Cj,[I("div",Dj,xe(f.name),1)])]),I("div",Nj,xe(f.meetings),1)]))),128))])])):ge("",!0)],2)],64))}},Lj={},$j={class:"bg-white border border-gray-200 shadow-md shadow-black/5 p-6 rounded-md"};function Vj(t,e){return ee(),le("section",$j,[Ce(t.$slots,"default")])}const nA=Ur(Lj,[["render",Vj]]),Fj={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},jj={key:1,tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},Bj={class:"relative p-4 w-full max-w-2xl max-h-full"},Uj={class:"relative bg-white rounded-lg shadow"},qj={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},Hj=I("h3",{class:"text-lg font-semibold text-black"}," Danışan Dökümanları ",-1),zj=I("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Kj=I("span",{class:"sr-only"},"Close modal",-1),Yj=[zj,Kj],Wj={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},Gj={class:"col-span-2"},Qj=I("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Notu",-1),Xj={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},Jj={class:"col-span-2"},Zj=I("label",{for:"documents",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Evrakları",-1),eB={key:0,class:"grid gap-4 grid-cols-1 md:grid-cols-2"},tB={class:"flex items-center justify-between"},nB={class:"flex items-center"},rB={class:"flex flex-col items-center justify-center mr-4"},iB=I("i",{class:"ri-file-fill text-3xl"},null,-1),oB={class:"text-sm text-gray-500"},sB={class:"text-sm text-gray-500"},aB=["onClick"],lB=I("i",{class:"ri-download-2-line text-2xl"},null,-1),uB=I("span",{class:"sr-only"},"Close modal",-1),cB=[lB,uB],dB={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 w-full flex items-center"},fB=I("p",{class:"text-sm text-gray-500 font-normal"}," Danışan herhangi bir evrak eklemedi. ",-1),hB=[fB],pB={__name:"DocumentsModal",props:{show:Boolean,customerNotes:String,customerDocuments:Array},emits:["close"],setup(t,{emit:e}){const n=r=>{window.open(r.file_url,"_blank")};return(r,i)=>(ee(),le(Se,null,[t.show?(ee(),le("div",Fj)):ge("",!0),t.show?(ee(),le("div",jj,[I("div",Bj,[I("div",Uj,[I("div",qj,[Hj,I("button",{type:"button",onClick:i[0]||(i[0]=o=>r.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Yj)]),I("div",Wj,[I("div",Gj,[Qj,I("p",Xj,xe(t.customerNotes),1)]),I("div",Jj,[Zj,t.customerDocuments.length!=0?(ee(),le("div",eB,[(ee(!0),le(Se,null,Qe(t.customerDocuments,o=>(ee(),le("div",{key:o.name,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},[I("div",tB,[I("div",nB,[I("div",rB,[iB,I("p",oB,xe(o.kind),1)]),I("div",null,[I("p",null,xe(o.name),1),I("p",sB,xe(o.size),1)])]),I("button",{type:"button",onClick:s=>n(o),class:"bg-transparent mt-1 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},cB,8,aB)])]))),128))])):(ee(),le("div",dB,hB))])])])])])):ge("",!0)],64))}},mB=I("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),gB={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},vB={class:"relative p-4 w-[32rem] max-h-full"},yB={class:"relative bg-white rounded-lg shadow"},_B={class:"flex items-center justify-between p-4 border-b rounded-t"},bB=I("h3",{class:"text-lg font-semibold text-black"}," Yeni Randevu İsteği ",-1),wB=I("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),TB=I("span",{class:"sr-only"},"Close modal",-1),EB=[wB,TB],kB={class:"px-6 py-4 w-full mx-auto bg-white rounded-xl space-y-4"},AB={class:"flex items-center justify-center space-x-4"},xB={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},IB={class:"text-sm"},SB={class:"text-4xl font-bold"},RB={class:"text-sm"},OB={class:"p-2"},PB=I("h2",{class:"text-xl font-bold"},"Onaylıyor musun?",-1),CB={class:"flex items-center text-gray-500 space-x-2"},DB=I("i",{class:"ri-time-line text-lg"},null,-1),NB={class:"flex space-x-2 mt-2"},MB={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},LB={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},$B={key:0,class:"bg-green-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},VB=I("p",{class:"text-sm text-gray-500 font-normal"}," Online görüşme başarıyla oluşturuldu. ",-1),FB=[VB],jB={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},BB=I("p",{class:"text-sm text-gray-500 font-normal"}," Randevu başarıyla reddedildi. ",-1),UB=[BB],qB={key:2,class:"bg-gray-50 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},HB=I("p",{class:"text-sm text-gray-500 font-normal"}," Randevuyu onaylarsanız, online görüşme oluşturulup ilgili avukat ve müvekkil mail bilgilendirilecektir. ",-1),zB=[HB],KB={key:3,class:"flex items-center justify-center space-x-4 mt-2"},YB={key:1},WB={key:4,class:"mb-2 rounded-lg"},GB=I("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},"Reddetme sebebi",-1),QB={class:"flex items-center justify-center space-x-4 mt-4"},XB={key:1},JB={__name:"Status0Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=he(!1),r=he(!1),i=he(!1),o=he(!1),s=he(""),a=e,l=()=>{n.value=!0,setTimeout(()=>{n.value=!1,r.value=!0,setTimeout(()=>{a("set-meeting")},700)},2e3)},u=()=>{n.value=!0,setTimeout(()=>{n.value=!1,o.value=!1,i.value=!0,setTimeout(()=>{a("reject-meeting",s.value)},700)},2e3)};return bt(()=>{console.log("status 0 modal mounted")}),(c,d)=>(ee(),le(Se,null,[mB,I("div",gB,[I("div",vB,[I("div",yB,[I("div",_B,[bB,I("button",{type:"button",onClick:d[0]||(d[0]=f=>c.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},EB)]),I("div",kB,[I("div",AB,[I("div",xB,[I("div",IB,xe(t.formattedDate.month),1),I("div",SB,xe(t.formattedDate.dayNumber),1),I("div",RB,xe(t.formattedDate.dayName),1)]),I("div",OB,[PB,I("div",CB,[DB,I("span",null,xe(t.formattedDate.time)+" -",1),I("span",null,xe(t.formattedDate.meetingTimeEnd),1)]),I("div",NB,[I("span",MB,xe(t.meetingData.attorney_name),1),I("span",LB,xe(t.meetingData.customer_name),1)])])]),I("div",null,[r.value?(ee(),le("div",$B,FB)):ge("",!0),i.value?(ee(),le("div",jB,UB)):ge("",!0),!r.value&&!i.value&&!o.value?(ee(),le("div",qB,zB)):ge("",!0),!r.value&&!i.value&&!o.value?(ee(),le("div",KB,[I("button",{onClick:l,class:"bg-green-600 text-white hover:bg-green-700 px-4 py-2 rounded-md"},[n.value?(ee(),Be(Gl,{key:0,text:"Oluşturuluyor"})):(ee(),le("span",YB,"Evet"))]),I("button",{onClick:d[1]||(d[1]=f=>o.value=!0),class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md"}," Hayır ")])):ge("",!0),o.value?(ee(),le("div",WB,[GB,Tt(I("textarea",{id:"reason","onUpdate:modelValue":d[2]||(d[2]=f=>s.value=f),rows:"3",class:"block w-full h-32 bg-gray-100 rounded-md border-gray-300 shadow-sm"},null,512),[[vo,s.value]]),I("div",QB,[I("button",{onClick:u,class:"bg-red-600 text-white hover:bg-red-700 px-4 py-2 rounded-md"},[n.value?(ee(),Be(Gl,{key:0,text:"Kaydediliyor"})):(ee(),le("span",XB,"Kaydet"))])])])):ge("",!0)])])])])])],64))}};/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const Ec=1e3,kc=60*Ec,Ac=60*kc,D_=24*Ac,N_="abort",M_="end",L_="progress",$_="start",V_="visibilitychange";var ZB=Ht({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[N_,M_,L_,$_],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/D_)},hours(){return Math.floor(this.totalMilliseconds%D_/Ac)},minutes(){return Math.floor(this.totalMilliseconds%Ac/kc)},seconds(){return Math.floor(this.totalMilliseconds%kc/Ec)},milliseconds(){return Math.floor(this.totalMilliseconds%Ec)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/Ac)},totalMinutes(){return Math.floor(this.totalMilliseconds/kc)},totalSeconds(){return Math.floor(this.totalMilliseconds/Ec)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(V_,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(V_,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit($_),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const r=i=>{e||(e=i),n||(n=i);const o=i-e;o>=t||o+(i-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(r),n=i};this.requestId=requestAnimationFrame(r)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(L_,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(N_))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(M_))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return _a(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const eU=I("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),tU={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},nU={class:"relative p-4 w-[36rem] max-h-full"},rU={class:"relative bg-white rounded-lg shadow"},iU={class:"flex items-center justify-between p-4 border-b rounded-t"},oU=I("h3",{class:"text-lg font-semibold text-black"}," Toplantı Detayları ",-1),sU=I("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),aU=I("span",{class:"sr-only"},"Close modal",-1),lU=[sU,aU],uU={class:"px-6 py-4"},cU={class:"flex items-center justify-center space-x-4"},dU={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},fU={class:"text-sm"},hU={class:"text-4xl font-bold"},pU={class:"text-sm"},mU={class:"p-2"},gU=I("h2",{class:"text-xl font-bold"},"Toplantı Detayları",-1),vU={class:"flex items-center text-gray-500 space-x-2"},yU=I("i",{class:"ri-time-line text-lg"},null,-1),_U={class:"flex space-x-2 mt-2"},bU={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},wU={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},TU={class:"mb-4"},EU=I("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Danışan Notları",-1),kU={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},AU={class:"mb-4"},xU={class:"bg-gray-50 border border-gray-300 rounded-lg flex flex-col items-center justify-center"},IU={class:"flex items-center space-x-2 text-gray-800 text-lg mx-3"},SU=I("div",{class:"mr-2"},"Kalan Süre:",-1),RU={key:0},OU={class:"flex items-center justify-center space-x-4 mt-2"},PU=["href"],CU={__name:"Status1Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=pe(()=>{if(n.meetingData.date_time&&n.meetingData.date_time.seconds){const a=new Date(n.meetingData.date_time.seconds*1e3)-new Date;return a>0?a:0}return 0});async function i(o){try{await navigator.clipboard.writeText(o)}catch{}}return(o,s)=>(ee(),le(Se,null,[eU,I("div",tU,[I("div",nU,[I("div",rU,[I("div",iU,[oU,I("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},lU)]),I("div",uU,[I("div",cU,[I("div",dU,[I("div",fU,xe(t.formattedDate.month),1),I("div",hU,xe(t.formattedDate.dayNumber),1),I("div",pU,xe(t.formattedDate.dayName),1)]),I("div",mU,[gU,I("div",vU,[yU,I("span",null,xe(t.formattedDate.time)+" -",1),I("span",null,xe(t.formattedDate.meetingTimeEnd),1)]),I("div",_U,[I("span",bU,xe(t.meetingData.attorney_name),1),I("span",wU,xe(t.meetingData.customer_name),1)])])]),I("div",TU,[EU,I("p",kU,xe(t.meetingData.notes),1)]),I("div",AU,[I("div",xU,[Ue(ae(ZB),{class:"text-lg font-bold p-4",time:r.value},{default:He(({days:a,hours:l,minutes:u,seconds:c})=>[I("div",IU,[SU,a>1?(ee(),le("span",RU,xe(a)+" gün",1)):ge("",!0),I("span",null,xe(l)+" saat",1),I("span",null,xe(u)+" dakika",1),I("span",null,xe(c)+" saniye",1)])]),_:1},8,["time"])])]),I("div",OU,[I("a",{href:t.meetingData.meeting_url,target:"_blank",class:"text-white w-32 bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Katıl ",8,PU),I("button",{onClick:s[1]||(s[1]=a=>i(t.meetingData.meeting_url)),class:"bg-gray-200 text-xl ri-clipboard-line hover:bg-gray-300 px-2 py-2 rounded-md"})])])])])])],64))}},DU=I("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),NU={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},MU={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},LU={class:"relative bg-white rounded-lg shadow"},$U={class:"flex items-center justify-between p-4 border-b rounded-t"},VU=I("h3",{class:"text-lg font-semibold text-black"}," İptal Edilme Sebebi ",-1),FU=I("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),jU=I("span",{class:"sr-only"},"Close modal",-1),BU=[FU,jU],UU={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},qU={class:"col-span-2"},HU=I("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),zU={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},KU={__name:"Status3Modal",props:{rejectReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ee(),le(Se,null,[DU,I("div",NU,[I("div",MU,[I("div",LU,[I("div",$U,[VU,I("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},BU)]),I("div",UU,[I("div",qU,[HU,I("p",zU,xe(t.rejectReason),1)])])])])])],64))}};function YU(t,e){var n=new Date(t.created_date.split(".").reverse().join(".")),r=new Date(e.created_date.split(".").reverse().join("."));return r-n}function um(t,e="all"){if(!t)return"";if(t.seconds){const n=new Date(t.seconds*1e3),r=n.toLocaleDateString("tr-TR"),i=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),s=`${i}:${o}`,a=n.toLocaleDateString("tr-TR",{month:"short"}).toUpperCase(),l=n.getDate(),u=n.toLocaleDateString("tr-TR",{weekday:"long"});switch(e){case"date":return r;case"time":return s;case"month":return a;case"day-number":return l;case"day-name":return u;case"all":default:return{date:r,time:s,month:a,dayNumber:l,dayName:u}}}}const WU={__name:"StatusActionModalHandler",props:{meetingData:{type:Object,required:!0},keepStatusModalOpen:{type:Boolean,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=e,r=t;function i(a){const l=new Date(a*1e3);l.setHours(l.getHours()+1);const u=l.getHours().toString().padStart(2,"0"),c=l.getMinutes().toString().padStart(2,"0");return`${u}:${c}`}const o=pe(()=>{const a=r.meetingData.date_time,l=um(a,"all");return l.meetingTimeEnd=i(a),l}),s=a=>{n("reject-meeting",a)};return(a,l)=>(ee(),le(Se,null,[t.meetingData.status==="0"&&t.keepStatusModalOpen?(ee(),Be(JB,{key:0,onClose:l[0]||(l[0]=u=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value,onSetMeeting:l[1]||(l[1]=u=>a.$emit("set-meeting")),onRejectMeeting:s},null,8,["meetingData","formattedDate"])):ge("",!0),t.meetingData.status==="1"&&t.keepStatusModalOpen?(ee(),Be(CU,{key:1,onClose:l[2]||(l[2]=u=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value},null,8,["meetingData","formattedDate"])):ge("",!0),t.meetingData.status==="3"&&t.keepStatusModalOpen?(ee(),Be(KU,{key:2,onClose:l[3]||(l[3]=u=>a.$emit("close")),rejectReason:t.meetingData.reject_reason},null,8,["rejectReason"])):ge("",!0)],64))}},Vi=t=>(yd("data-v-3c36911e"),t=t(),_d(),t),GU=Vi(()=>I("div",{class:"flex justify-between mb-4 items-start"},[I("h1",{class:"font-medium"},"Online Görüşmeler")],-1)),QU={action:"",class:"flex items-center mb-4"},XU={class:"relative w-full mr-2"},JU=Vi(()=>I("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1)),ZU={class:"flex"},e9={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},t9=Vi(()=>I("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),n9=Vi(()=>I("p",{class:"text-sm font-medium text-gray-800"},"Görüşme İstekleri",-1)),r9={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},i9=Vi(()=>I("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),o9=Vi(()=>I("p",{class:"text-sm font-medium text-gray-800"},"Kabul Edilenler",-1)),s9={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},a9=Vi(()=>I("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),l9=Vi(()=>I("p",{class:"text-sm font-medium text-gray-800"},"Beklemede Olanlar",-1)),u9={key:0,class:"w-full mt-4 table-fixed"},c9=Vi(()=>I("thead",null,[I("tr",null,[I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Avukat "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan Tel "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Tarih "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Saat "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Evrak "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Kategori "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Durum ")])],-1)),d9={class:"py-2 px-4 border-b border-b-gray-200"},f9={class:"flex items-center"},h9={class:"text-gray-600 text-sm font-medium hover:text-blue-500"},p9={class:"py-2 px-4 border-b border-b-gray-200"},m9={class:"text-[13px] font-medium text-gray-600"},g9={class:"py-2 px-4 border-b border-b-gray-200"},v9={class:"text-[13px] font-medium text-gray-600"},y9={class:"py-2 px-4 border-b border-b-gray-200"},_9={class:"text-[13px] font-medium text-gray-600"},b9={class:"py-2 px-4 border-b border-b-gray-200"},w9={class:"text-[13px] font-medium text-gray-600"},T9={class:"py-2 px-4 border-b border-b-gray-200"},E9=["onClick"],k9={class:"py-2 px-4 border-b border-b-gray-200"},A9={class:"text-[13px] font-medium text-gray-600"},x9={class:"py-2 px-4 border-b border-b-gray-200"},I9={class:"tooltip"},S9=["onClick"],R9={class:"tooltiptext"},O9={class:"pagination-container flex justify-end mt-4 w-full"},P9=["disabled"],C9=["disabled"],D9={__name:"OnlineMeetingsManagement",props:{showAll:Boolean,uid:String},emits:["goBack"],setup(t,{emit:e}){const n=Ao(),r=pe(()=>n.getters.userRole),i=t,o=e,s=he(null),a=he(!1),l=he(!1),u=he(!1),c=he(null),d=he([]),f=he({requests:!1,accepted:!1,pending:!1}),h=he(85),p=pe(()=>{const A={};return v.value.forEach(q=>{A[q.status]?A[q.status]++:A[q.status]=1}),A}),m=pe(()=>v.value.filter(A=>A.status==="1").length),_=pe(()=>{const A={};return v.value.forEach(B=>{A[B.attorney_name]?A[B.attorney_name]++:A[B.attorney_name]=1}),Object.entries(A).sort((B,ne)=>ne[1]-B[1]).map(([B,ne])=>({name:B,meetings:ne})).slice(0,3)}),v=he([]),y=Wl(Ir,"meetings"),b=pe(()=>v.value.length),g=he(1),w=he(10),P=he(""),k=()=>{o("goBack")};function S(A){return`https://meet.google.com/${A}`}function D(){v.value=v.value.map(A=>(A.id===s.value.id&&(A.status="1",A.meeting_url=S(A.id),J(A),s.value={}),A))}function O(A){v.value=v.value.map(q=>(q.id===s.value.id&&(q.status="3",q.reject_reason=A),q))}function E(A,q){a.value=!0,c.value=A,d.value=q}function T(A){l.value=!0,s.value=A,u.value=!0}const C=pe(()=>{let A=v.value;P.value&&(A=A.filter(ue=>ue.customer_name.toLowerCase().includes(P.value.toLowerCase())));const{requests:q,accepted:B,pending:ne}=f.value;return(q||B||ne)&&(A=A.filter(ue=>{let Q=!1;return q&&ue.status==="0"&&(Q=!0),B&&ue.status==="1"&&(Q=!0),ne&&ue.status==="4"&&(Q=!0),Q})),A}),F=pe(()=>(g.value-1)*w.value),M=pe(()=>{if(C.value.length===0){const A=F.value,q=A+w.value;return v.value.slice(A,q)}else return C.value.slice(F.value,F.value+w.value)}),V=pe(()=>C.value.length===0?Math.ceil(v.value.length/w.value):Math.ceil(C.value.length/w.value)),U=()=>{g.value<V.value&&g.value++},re=()=>{g.value>1&&g.value--};he(null);const Z=A=>{switch(A){case"0":return{color:"bg-blue-300 hover:bg-blue-400 ",text:"İstek",icon:"ri-user-add-line"};case"1":return{color:"bg-green-300 hover:bg-green-400 ",text:"Kabul edildi",icon:"ri-calendar-check-line"};case"2":return{color:"bg-gray-300 hover:bg-gray-400 ",text:"Tamamlandı",icon:"ri-check-line"};case"3":return{color:"bg-red-300 hover:bg-red-400 ",text:"Reddedildi",icon:"ri-close-line"};case"4":return{color:"bg-orange-200",text:"Müşteri onayı",icon:"ri-time-line"};case"5":return{color:"bg-orange-200",text:"Avukat onayı",icon:"ri-time-line"};case"6":return{color:"bg-gray-700 text-white hover:bg-gray-800 ",text:"Geri ödemeli iptal",icon:"ri-calendar-close-line"};case"7":return{color:"bg-black text-white",text:"Geri ödemesiz iptal",icon:"ri-calendar-close-line"};default:return{color:"bg-gray-200",text:"Unknown status",icon:"ri-question-line"}}},z=A=>Z(A).color,N=A=>Z(A).icon,$=A=>Z(A).text;async function R(){let A=[];return(await od(y)).forEach(B=>{A.push({id:B.id,...B.data()})}),A}async function W(){try{const A=localStorage.getItem("cachedMeetings"),q=localStorage.getItem("cachedTimeMeetings"),B=0*60*1e3;if(A&&q&&new Date-new Date(parseInt(q))<B)return JSON.parse(A);{const ne=await R();return localStorage.setItem("cachedMeetings",JSON.stringify(ne)),localStorage.setItem("cachedTimeMeetings",new Date().getTime().toString()),ne}}catch(A){return console.error("Error getting meetings:",A),[]}}async function J(A){console.log("Received updated blog data:",A);try{console.log("Updating document with ID:",A.id),await Fs(gr(Ir,"meetings",A.id),A),localStorage.setItem("cachedMeetings",JSON.stringify(v.value))}catch(q){console.error("Error updating meeting document:",q)}}function j(A){const q={1:1,0:2,4:3,5:3,2:4,3:5,6:6,7:7};return A.sort((B,ne)=>{const ue=q[B.status]-q[ne.status];if(ue!==0)return ue;{const Q=new Date(B.date_time.seconds*1e3),L=new Date(ne.date_time.seconds*1e3);return Q-L}})}return bt(async()=>{const A=await W(),q=j(A);i.showAll?v.value=q:v.value=q.filter(B=>B.attorney_id===i.uid)}),(A,q)=>(ee(),le("div",null,[r.value==="admin"?(ee(),le("button",{key:0,onClick:k,class:"bg-green-700 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön ")):ge("",!0),Ue(pB,{show:a.value,onClose:q[0]||(q[0]=B=>a.value=!1),customerDocuments:d.value,customerNotes:c.value},null,8,["show","customerDocuments","customerNotes"]),l.value?(ee(),Be(WU,{key:1,keepStatusModalOpen:u.value,meetingData:s.value,onSetMeeting:D,onRejectMeeting:O,onClose:q[1]||(q[1]=B=>l.value=!1)},null,8,["keepStatusModalOpen","meetingData"])):ge("",!0),Ue(Mj,{totalMeetings:b.value,approvedMeetings:m.value,satisfactionRate:h.value,meetingStatusSummary:p.value,topAttorneys:_.value,showTopAttorneys:i.showAll,showAttorneySchedule:!i.showAll},null,8,["totalMeetings","approvedMeetings","satisfactionRate","meetingStatusSummary","topAttorneys","showTopAttorneys","showAttorneySchedule"]),Ue(nA,{class:"p-6"},{default:He(()=>{var B;return[GU,I("form",QU,[I("div",XU,[Tt(I("input",{"onUpdate:modelValue":q[2]||(q[2]=ne=>P.value=ne),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Müşteri ismine göre ara..."},null,512),[[vo,P.value]]),JU])]),I("div",ZU,[I("label",e9,[Tt(I("input",{"onUpdate:modelValue":q[3]||(q[3]=ne=>f.value.requests=ne),type:"checkbox",class:"sr-only peer"},null,512),[[Hs,f.value.requests]]),t9,n9]),I("label",r9,[Tt(I("input",{"onUpdate:modelValue":q[4]||(q[4]=ne=>f.value.accepted=ne),type:"checkbox",class:"sr-only peer"},null,512),[[Hs,f.value.accepted]]),i9,o9]),I("label",s9,[Tt(I("input",{"onUpdate:modelValue":q[5]||(q[5]=ne=>f.value.pending=ne),type:"checkbox",class:"sr-only peer"},null,512),[[Hs,f.value.pending]]),a9,l9])]),(B=v.value)!=null&&B.length?(ee(),le("table",u9,[c9,I("tbody",null,[(ee(!0),le(Se,null,Qe(M.value,ne=>(ee(),le("tr",{key:ne.id},[I("td",d9,[I("div",f9,[I("span",h9,xe(ne.attorney_name),1)])]),I("td",p9,[I("span",m9,xe(ne.customer_name),1)]),I("td",g9,[I("span",v9,xe(ne.customer_phone),1)]),I("td",y9,[I("span",_9,xe(ae(um)(ne.date_time,A.format="date")),1)]),I("td",b9,[I("span",w9,xe(ae(um)(ne.date_time,A.format="time")),1)]),I("td",T9,[I("button",{onClick:ue=>E(ne.notes,ne.customer_documents),class:"ri-file-text-line flex items-center justify-center ml-2 text-lg bg-yellow-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,E9)]),I("td",k9,[I("span",A9,xe(ne.category),1)]),I("td",x9,[I("div",I9,[I("button",{onClick:ue=>T(ne),class:Je([z(ne.status),"w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0 focus:ring-[0.12rem] focus:ring-gray-600 focus:outline-none"])},[I("i",{class:Je(N(ne.status))},null,2)],10,S9),I("span",R9,xe($(ne.status)),1)])])]))),128))])])):ge("",!0),I("div",O9,[I("button",{onClick:re,disabled:g.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,P9),I("button",{onClick:U,disabled:g.value===V.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,C9)])]}),_:1})]))}},N9=Ur(D9,[["__scopeId","data-v-3c36911e"]]),F_={__name:"OnlineMeetings",setup(t){const e=he(!0),n=Ao(),r=pe(()=>n.getters.userRole),i=pe(()=>n.getters.user?n.getters.user.uid:null),o=he("");r.value!=="admin"&&(o.value=i.value,e.value=!1);const s=a=>{o.value=a,e.value=!1};return(a,l)=>r.value==="admin"&&e.value?(ee(),Be(V$,{key:0,onOptionSelected:s})):(ee(),Be(N9,{key:1,showAll:o.value==="showAll",uid:o.value,onGoBack:l[0]||(l[0]=u=>e.value=!0)},null,8,["showAll","uid"]))}},M9={key:0,id:"deleteModal",class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},L9={class:"bg-white rounded-lg p-4 max-w-sm w-full"},$9=I("div",{class:"mb-4"},[I("p",{class:"text-gray-800 text-sm"},"Bu blog yazısını silmek istediğinize emin misiniz?")],-1),V9={class:"flex justify-end"},F9={__name:"DeleteModal",props:{show:Boolean},setup(t){return(e,n)=>t.show?(ee(),le("div",M9,[I("div",L9,[$9,I("div",V9,[I("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),id:"cancelDelete",class:"bg-gray-300 text-gray-800 rounded px-4 py-2 mr-2"},"Hayır"),I("button",{onClick:n[1]||(n[1]=r=>e.$emit("delete")),id:"confirmDelete",class:"bg-red-600 text-white rounded px-4 py-2"},"Evet")])])])):ge("",!0)}};var _n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iA={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:_n,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),d=i(48),f=i(49),h=i(12),p=i(32),m=i(33),_=i(31),v=i(1),y={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:f.default,Attributor:{Attribute:h.default,Class:p.default,Style:m.default,Store:_.default}};r.default=y},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])};return function(v,y){_(v,y);function b(){this.constructor=v}v.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(v,_);function v(y){var b=this;return y="[Parchment] "+y,b=_.call(this,y)||this,b.message=y,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var d;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function f(_,v){var y=p(_);if(y==null)throw new s("Unable to create "+_+" blot");var b=y,g=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:b.create(v);return new b(g,v)}r.create=f;function h(_,v){return v===void 0&&(v=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:v?h(_.parentNode,v):null}r.find=h;function p(_,v){v===void 0&&(v=d.ANY);var y;if(typeof _=="string")y=c[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)y=c.text;else if(typeof _=="number")_&d.LEVEL&d.BLOCK?y=c.block:_&d.LEVEL&d.INLINE&&(y=c.inline);else if(_ instanceof HTMLElement){var b=(_.getAttribute("class")||"").split(/\s+/);for(var g in b)if(y=l[b[g]],y)break;y=y||u[_.tagName]}return y==null?null:v&d.LEVEL&y.scope&&v&d.TYPE&y.scope?y:null}r.query=p;function m(){for(var _=[],v=0;v<arguments.length;v++)_[v]=arguments[v];if(_.length>1)return _.map(function(g){return m(g)});var y=_[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new s("Invalid definition");if(y.blotName==="abstract")throw new s("Cannot register abstract class");if(c[y.blotName||y.attrName]=y,typeof y.keyName=="string")a[y.keyName]=y;else if(y.className!=null&&(l[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(g){return g.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var b=Array.isArray(y.tagName)?y.tagName:[y.tagName];b.forEach(function(g){(u[g]==null||y.className==null)&&(u[g]=y)})}return y}r.register=m},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,f){var h={};return d.length===0?this:(h.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,f){if(d<=0)return this;var h={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h)},c.prototype.push=function(d){var f=this.ops.length,h=this.ops[f-1];if(d=a(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[f-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(f-=1,h=this.ops[f-1],typeof h!="object"))return this.ops.unshift(d),this;if(s(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[f-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[f-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var f=[],h=[];return this.forEach(function(p){var m=d(p)?f:h;m.push(p)}),[f,h]},c.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},c.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+l.length(f):f.delete?d-f.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,f){return d+l.length(f)},0)},c.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var h=[],p=l.iterator(this.ops),m=0;m<f&&p.hasNext();){var _;m<d?_=p.next(d-m):(_=p.next(f-m),h.push(_)),m+=l.length(_)}return new c(h)},c.prototype.compose=function(d){var f=l.iterator(this.ops),h=l.iterator(d.ops),p=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var _=m.retain;f.peekType()==="insert"&&f.peekLength()<=_;)_-=f.peekLength(),p.push(f.next());m.retain-_>0&&h.next(m.retain-_)}for(var v=new c(p);f.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(f.peekType()==="delete")v.push(f.next());else{var y=Math.min(f.peekLength(),h.peekLength()),b=f.next(y),g=h.next(y);if(typeof g.retain=="number"){var w={};typeof b.retain=="number"?w.retain=y:w.insert=b.insert;var P=l.attributes.compose(b.attributes,g.attributes,typeof b.retain=="number");if(P&&(w.attributes=P),v.push(w),!h.hasNext()&&s(v.ops[v.ops.length-1],w)){var k=new c(f.rest());return v.concat(k).chop()}}else typeof g.delete=="number"&&typeof b.retain=="number"&&v.push(g)}return v.chop()},c.prototype.concat=function(d){var f=new c(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},c.prototype.diff=function(d,f){if(this.ops===d.ops)return new c;var h=[this,d].map(function(y){return y.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var g=y===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),p=new c,m=o(h[0],h[1],f),_=l.iterator(this.ops),v=l.iterator(d.ops);return m.forEach(function(y){for(var b=y[1].length;b>0;){var g=0;switch(y[0]){case o.INSERT:g=Math.min(v.peekLength(),b),p.push(v.next(g));break;case o.DELETE:g=Math.min(b,_.peekLength()),_.next(g),p.delete(g);break;case o.EQUAL:g=Math.min(_.peekLength(),v.peekLength(),b);var w=_.next(g),P=v.next(g);s(w.insert,P.insert)?p.retain(g,l.attributes.diff(w.attributes,P.attributes)):p.push(P).delete(g);break}b-=g}}),p.chop()},c.prototype.eachLine=function(d,f){f=f||`
`;for(var h=l.iterator(this.ops),p=new c,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var _=h.peek(),v=l.length(_)-h.peekLength(),y=typeof _.insert=="string"?_.insert.indexOf(f,v)-v:-1;if(y<0)p.push(h.next());else if(y>0)p.push(h.next(y));else{if(d(p,h.next(1).attributes||{},m)===!1)return;m+=1,p=new c}}p.length()>0&&d(p,{},m)},c.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var h=l.iterator(this.ops),p=l.iterator(d.ops),m=new c;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(f||p.peekType()!=="insert"))m.retain(l.length(h.next()));else if(p.peekType()==="insert")m.push(p.next());else{var _=Math.min(h.peekLength(),p.peekLength()),v=h.next(_),y=p.next(_);if(v.delete)continue;y.delete?m.push(y):m.retain(_,l.attributes.transform(v.attributes,y.attributes,f))}return m.chop()},c.prototype.transformPosition=function(d,f){f=!!f;for(var h=l.iterator(this.ops),p=0;h.hasNext()&&p<=d;){var m=h.peekLength(),_=h.peekType();if(h.next(),_==="delete"){d-=Math.min(m,d-p);continue}else _==="insert"&&(p<d||!f)&&(d+=m);p+=m}return d},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var _;for(_ in h);return typeof _>"u"||i.call(h,_)},c=function(h,p){s&&p.name==="__proto__"?s(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},d=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(a)return a(h,p).value}else return;return h[p]};n.exports=function f(){var h,p,m,_,v,y,b=arguments[0],g=1,w=arguments.length,P=!1;for(typeof b=="boolean"&&(P=b,b=arguments[1]||{},g=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});g<w;++g)if(h=arguments[g],h!=null)for(p in h)m=d(b,p),_=d(h,p),b!==_&&(P&&_&&(u(_)||(v=l(_)))?(v?(v=!1,y=m&&l(m)?m:[]):y=m&&u(m)?m:{},c(b,{name:p,newValue:f(P,y,_)})):typeof _<"u"&&c(b,{name:p,newValue:_}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function E(T,C){for(var F=0;F<C.length;F++){var M=C[F];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,C,F){return C&&E(T.prototype,C),F&&E(T,F),T}}(),s=function E(T,C,F){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,C);if(M===void 0){var V=Object.getPrototypeOf(T);return V===null?void 0:E(V,C,F)}else{if("value"in M)return M.value;var U=M.get;return U===void 0?void 0:U.call(F)}},a=i(3),l=b(a),u=i(2),c=b(u),d=i(0),f=b(d),h=i(16),p=b(h),m=i(6),_=b(m),v=i(7),y=b(v);function b(E){return E&&E.__esModule?E:{default:E}}function g(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function w(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function P(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var k=1,S=function(E){P(T,E);function T(){return g(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"attach",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,M){var V=f.default.query(F,f.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,M)}},{key:"formatAt",value:function(F,M,V,U){this.format(V,U)}},{key:"insertAt",value:function(F,M,V){if(typeof M=="string"&&M.endsWith(`
`)){var U=f.default.create(D.blotName);this.parent.insertBefore(U,F===0?this:this.next),U.insertAt(0,M.slice(0,-1))}else s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,F,M,V)}}]),T}(f.default.Embed);S.scope=f.default.Scope.BLOCK_BLOT;var D=function(E){P(T,E);function T(C){g(this,T);var F=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,C));return F.cache={},F}return o(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(F,M){return M.length()===0?F:F.insert(M.value(),O(M))},new c.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(F,M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,F,M),this.cache={}}},{key:"formatAt",value:function(F,M,V,U){M<=0||(f.default.query(V,f.default.Scope.BLOCK)?F+M===this.length()&&this.format(V,U):s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,F,Math.min(M,this.length()-F-1),V,U),this.cache={})}},{key:"insertAt",value:function(F,M,V){if(V!=null)return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,F,M,V);if(M.length!==0){var U=M.split(`
`),re=U.shift();re.length>0&&(F<this.length()-1||this.children.tail==null?s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var Z=this;U.reduce(function(z,N){return Z=Z.split(z,!0),Z.insertAt(0,N),N.length},F+re.length)}}},{key:"insertBefore",value:function(F,M){var V=this.children.head;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,F,M),V instanceof p.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(F,M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,F,M),this.cache={}}},{key:"optimize",value:function(F){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(F===0||F>=this.length()-k)){var V=this.clone();return F===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var U=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,F,M);return this.cache={},U}}}]),T}(f.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[_.default,f.default.Embed,y.default];function O(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(T=(0,l.default)(T,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?T:O(E.parent,T)}r.bubbleFormats=O,r.BlockEmbed=S,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(z,N){var $=[],R=!0,W=!1,J=void 0;try{for(var j=z[Symbol.iterator](),A;!(R=(A=j.next()).done)&&($.push(A.value),!(N&&$.length===N));R=!0);}catch(q){W=!0,J=q}finally{try{!R&&j.return&&j.return()}finally{if(W)throw J}}return $}return function(z,N){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return Z(z,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(z,N){for(var $=0;$<N.length;$++){var R=N[$];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(z,R.key,R)}}return function(z,N,$){return N&&Z(z.prototype,N),$&&Z(z,$),z}}();i(50);var l=i(2),u=O(l),c=i(14),d=O(c),f=i(8),h=O(f),p=i(9),m=O(p),_=i(0),v=O(_),y=i(15),b=O(y),g=i(3),w=O(g),P=i(10),k=O(P),S=i(34),D=O(S);function O(Z){return Z&&Z.__esModule?Z:{default:Z}}function E(Z,z,N){return z in Z?Object.defineProperty(Z,z,{value:N,enumerable:!0,configurable:!0,writable:!0}):Z[z]=N,Z}function T(Z,z){if(!(Z instanceof z))throw new TypeError("Cannot call a class as a function")}var C=(0,k.default)("quill"),F=function(){a(Z,null,[{key:"debug",value:function(N){N===!0&&(N="log"),k.default.level(N)}},{key:"find",value:function(N){return N.__quill||v.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&C.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,$){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var J=N.attrName||N.blotName;typeof J=="string"?this.register("formats/"+J,N,$):Object.keys(N).forEach(function(j){R.register(j,N[j],$)})}else this.imports[N]!=null&&!W&&C.warn("Overwriting "+N+" with",$),this.imports[N]=$,(N.startsWith("blots/")||N.startsWith("formats/"))&&$.blotName!=="abstract"?v.default.register($):N.startsWith("modules")&&typeof $.register=="function"&&$.register()}}]);function Z(z){var N=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,Z),this.options=M(z,$),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",z);this.options.debug&&Z.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(J){J===h.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(J,j){var A=N.selection.lastRange,q=A&&A.length===0?A.index:void 0;V.call(N,function(){return N.editor.update(null,j,q)},J)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(Z,[{key:"addContainer",value:function(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var R=N;N=document.createElement("div"),N.classList.add(R)}return this.container.insertBefore(N,$),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,$,R){var W=this,J=U(N,$,R),j=s(J,4);return N=j[0],$=j[1],R=j[3],V.call(this,function(){return W.editor.deleteText(N,$)},R,N,-1*$)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,$){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return V.call(this,function(){var J=R.getSelection(!0),j=new u.default;if(J==null)return j;if(v.default.query(N,v.default.Scope.BLOCK))j=R.editor.formatLine(J.index,J.length,E({},N,$));else{if(J.length===0)return R.selection.format(N,$),j;j=R.editor.formatText(J.index,J.length,E({},N,$))}return R.setSelection(J,h.default.sources.SILENT),j},W)}},{key:"formatLine",value:function(N,$,R,W,J){var j=this,A=void 0,q=U(N,$,R,W,J),B=s(q,4);return N=B[0],$=B[1],A=B[2],J=B[3],V.call(this,function(){return j.editor.formatLine(N,$,A)},J,N,0)}},{key:"formatText",value:function(N,$,R,W,J){var j=this,A=void 0,q=U(N,$,R,W,J),B=s(q,4);return N=B[0],$=B[1],A=B[2],J=B[3],V.call(this,function(){return j.editor.formatText(N,$,A)},J,N,0)}},{key:"getBounds",value:function(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof N=="number"?R=this.selection.getBounds(N,$):R=this.selection.getBounds(N.index,N.length);var W=this.container.getBoundingClientRect();return{bottom:R.bottom-W.top,height:R.height,left:R.left-W.left,right:R.right-W.left,top:R.top-W.top,width:R.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,R=U(N,$),W=s(R,2);return N=W[0],$=W[1],this.editor.getContents(N,$)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,$):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,$)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,R=U(N,$),W=s(R,2);return N=W[0],$=W[1],this.editor.getText(N,$)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,$,R){var W=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z.sources.API;return V.call(this,function(){return W.editor.insertEmbed(N,$,R)},J,N)}},{key:"insertText",value:function(N,$,R,W,J){var j=this,A=void 0,q=U(N,0,R,W,J),B=s(q,4);return N=B[0],A=B[2],J=B[3],V.call(this,function(){return j.editor.insertText(N,$,A)},J,N,$.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,$,R){this.clipboard.dangerouslyPasteHTML(N,$,R)}},{key:"removeFormat",value:function(N,$,R){var W=this,J=U(N,$,R),j=s(J,4);return N=j[0],$=j[1],R=j[3],V.call(this,function(){return W.editor.removeFormat(N,$)},R,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var $=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return V.call(this,function(){N=new u.default(N);var W=$.getLength(),J=$.editor.deleteText(0,W),j=$.editor.applyDelta(N),A=j.ops[j.ops.length-1];A!=null&&typeof A.insert=="string"&&A.insert[A.insert.length-1]===`
`&&($.editor.deleteText($.getLength()-1,1),j.delete(1));var q=J.compose(j);return q},R)}},{key:"setSelection",value:function(N,$,R){if(N==null)this.selection.setRange(null,$||Z.sources.API);else{var W=U(N,$,R),J=s(W,4);N=J[0],$=J[1],R=J[3],this.selection.setRange(new y.Range(N,$),R),R!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,R=new u.default().insert(N);return this.setContents(R,$)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,$=this.scroll.update(N);return this.selection.update(N),$}},{key:"updateContents",value:function(N){var $=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return V.call(this,function(){return N=new u.default(N),$.editor.applyDelta(N,R)},R,!0)}}]),Z}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=h.default.events,F.sources=h.default.sources,F.version="1.3.7",F.imports={delta:u.default,parchment:v.default,"core/module":m.default,"core/theme":D.default};function M(Z,z){if(z=(0,w.default)(!0,{container:Z,modules:{clipboard:!0,keyboard:!0,history:!0}},z),!z.theme||z.theme===F.DEFAULTS.theme)z.theme=D.default;else if(z.theme=F.import("themes/"+z.theme),z.theme==null)throw new Error("Invalid theme "+z.theme+". Did you register it?");var N=(0,w.default)(!0,{},z.theme.DEFAULTS);[N,z].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(J){W.modules[J]===!0&&(W.modules[J]={})})});var $=Object.keys(N.modules).concat(Object.keys(z.modules)),R=$.reduce(function(W,J){var j=F.import("modules/"+J);return j==null?C.error("Cannot load "+J+" module. Are you sure you registered it?"):W[J]=j.DEFAULTS||{},W},{});return z.modules!=null&&z.modules.toolbar&&z.modules.toolbar.constructor!==Object&&(z.modules.toolbar={container:z.modules.toolbar}),z=(0,w.default)(!0,{},F.DEFAULTS,{modules:R},N,z),["bounds","container","scrollingContainer"].forEach(function(W){typeof z[W]=="string"&&(z[W]=document.querySelector(z[W]))}),z.modules=Object.keys(z.modules).reduce(function(W,J){return z.modules[J]&&(W[J]=z.modules[J]),W},{}),z}function V(Z,z,N,$){if(this.options.strict&&!this.isEnabled()&&z===h.default.sources.USER)return new u.default;var R=N==null?null:this.getSelection(),W=this.editor.delta,J=Z();if(R!=null&&(N===!0&&(N=R.index),$==null?R=re(R,J,z):$!==0&&(R=re(R,N,$,z)),this.setSelection(R,h.default.sources.SILENT)),J.length()>0){var j,A=[h.default.events.TEXT_CHANGE,J,W,z];if((j=this.emitter).emit.apply(j,[h.default.events.EDITOR_CHANGE].concat(A)),z!==h.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,A)}}return J}function U(Z,z,N,$,R){var W={};return typeof Z.index=="number"&&typeof Z.length=="number"?typeof z!="number"?(R=$,$=N,N=z,z=Z.length,Z=Z.index):(z=Z.length,Z=Z.index):typeof z!="number"&&(R=$,$=N,N=z,z=0),(typeof N>"u"?"undefined":o(N))==="object"?(W=N,R=$):typeof N=="string"&&($!=null?W[N]=$:R=N),R=R||h.default.sources.API,[Z,z,W,R]}function re(Z,z,N,$){if(Z==null)return null;var R=void 0,W=void 0;if(z instanceof u.default){var J=[Z.index,Z.index+Z.length].map(function(B){return z.transformPosition(B,$!==h.default.sources.USER)}),j=s(J,2);R=j[0],W=j[1]}else{var A=[Z.index,Z.index+Z.length].map(function(B){return B<z||B===z&&$===h.default.sources.USER?B:N>=0?B+N:Math.max(z,B+N)}),q=s(A,2);R=q[0],W=q[1]}return new y.Range(R,W-R)}r.expandConfig=M,r.overload=U,r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),s=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var P=g.get;return P===void 0?void 0:P.call(b)}},a=i(7),l=d(a),u=i(0),c=d(u);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function p(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){p(v,_);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"formatAt",value:function(b,g,w,P){if(v.compare(this.statics.blotName,w)<0&&c.default.query(w,c.default.Scope.BLOT)){var k=this.isolate(b,g);P&&k.wrap(w,P)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,g,w,P)}},{key:"optimize",value:function(b){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(b,g){var w=v.order.indexOf(b),P=v.order.indexOf(g);return w>=0||P>=0?w-P:b===g?0:b<g?-1:1}}]),v}(c.default.Inline);m.allowedChildren=[m,c.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(b,g){for(var w=0;w<g.length;w++){var P=g[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,g,w){return g&&y(b.prototype,g),w&&y(b,w),b}}(),s=function y(b,g,w){b===null&&(b=Function.prototype);var P=Object.getOwnPropertyDescriptor(b,g);if(P===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:y(k,g,w)}else{if("value"in P)return P.value;var S=P.get;return S===void 0?void 0:S.call(w)}},a=i(54),l=d(a),u=i(10),c=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function h(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function p(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var m=(0,c.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(y){document.addEventListener(y,function(){for(var b=arguments.length,g=Array(b),w=0;w<b;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(P){if(P.__quill&&P.__quill.emitter){var k;(k=P.__quill.emitter).handleDOM.apply(k,g)}})})});var v=function(y){p(b,y);function b(){f(this,b);var g=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return g.listeners={},g.on("error",m.error),g}return o(b,[{key:"emit",value:function(){m.log.apply(m,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var P=arguments.length,k=Array(P>1?P-1:0),S=1;S<P;S++)k[S-1]=arguments[S];(this.listeners[w.type]||[]).forEach(function(D){var O=D.node,E=D.handler;(w.target===O||O.contains(w.target))&&E.apply(void 0,[w].concat(k))})}},{key:"listenDOM",value:function(w,P,k){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:P,handler:k})}}]),b}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];(c=console)[u].apply(c,f)}}function l(u){return o.reduce(function(c,d){return c[d]=a.bind(console,d,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,h,p){return p||(p={}),f===h?!0:f instanceof Date&&h instanceof Date?f.getTime()===h.getTime():!f||!h||typeof f!="object"&&typeof h!="object"?p.strict?f===h:f==h:d(f,h,p)};function u(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,h,p){var m,_;if(u(f)||u(h)||f.prototype!==h.prototype)return!1;if(a(f))return a(h)?(f=o.call(f),h=o.call(h),l(f,h,p)):!1;if(c(f)){if(!c(h)||f.length!==h.length)return!1;for(m=0;m<f.length;m++)if(f[m]!==h[m])return!1;return!0}try{var v=s(f),y=s(h)}catch{return!1}if(v.length!=y.length)return!1;for(v.sort(),y.sort(),m=v.length-1;m>=0;m--)if(v[m]!=y[m])return!1;for(m=v.length-1;m>=0;m--)if(_=v[m],!l(f[_],h[_],p))return!1;return typeof f==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function S(D,O){var E=[],T=!0,C=!1,F=void 0;try{for(var M=D[Symbol.iterator](),V;!(T=(V=M.next()).done)&&(E.push(V.value),!(O&&E.length===O));T=!0);}catch(U){C=!0,F=U}finally{try{!T&&M.return&&M.return()}finally{if(C)throw F}}return E}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return S(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(D,O){for(var E=0;E<O.length;E++){var T=O[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(D,T.key,T)}}return function(D,O,E){return O&&S(D.prototype,O),E&&S(D,E),D}}(),a=function S(D,O,E){D===null&&(D=Function.prototype);var T=Object.getOwnPropertyDescriptor(D,O);if(T===void 0){var C=Object.getPrototypeOf(D);return C===null?void 0:S(C,O,E)}else{if("value"in T)return T.value;var F=T.get;return F===void 0?void 0:F.call(E)}},l=i(2),u=y(l),c=i(0),d=y(c),f=i(4),h=y(f),p=i(6),m=y(p),_=i(7),v=y(_);function y(S){return S&&S.__esModule?S:{default:S}}function b(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")}function g(S,D){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:S}function w(S,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);S.prototype=Object.create(D&&D.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(S,D):S.__proto__=D)}var P=function(S){w(D,S);function D(){return b(this,D),g(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(m.default);P.blotName="code",P.tagName="CODE";var k=function(S){w(D,S);function D(){return b(this,D),g(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return s(D,[{key:"delta",value:function(){var E=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(C,F){return C.insert(F).insert(`
`,E.formats())},new u.default)}},{key:"format",value:function(E,T){if(!(E===this.statics.blotName&&T)){var C=this.descendant(v.default,this.length()-1),F=o(C,1),M=F[0];M!=null&&M.deleteAt(M.length()-1,1),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,E,T)}}},{key:"formatAt",value:function(E,T,C,F){if(T!==0&&!(d.default.query(C,d.default.Scope.BLOCK)==null||C===this.statics.blotName&&F===this.statics.formats(this.domNode))){var M=this.newlineIndex(E);if(!(M<0||M>=E+T)){var V=this.newlineIndex(E,!0)+1,U=M-V+1,re=this.isolate(V,U),Z=re.next;re.format(C,F),Z instanceof D&&Z.formatAt(0,E-V+T-U,C,F)}}}},{key:"insertAt",value:function(E,T,C){if(C==null){var F=this.descendant(v.default,E),M=o(F,2),V=M[0],U=M[1];V.insertAt(U,T)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var C=this.domNode.textContent.slice(E).indexOf(`
`);return C>-1?E+C:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,E);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(E),T.moveChildren(this),T.remove())}},{key:"replace",value:function(E){a(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var C=d.default.find(T);C==null?T.parentNode.removeChild(T):C instanceof d.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(E){var T=a(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,E);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),D}(h.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",r.Code=P,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s=function(){function Z(z,N){var $=[],R=!0,W=!1,J=void 0;try{for(var j=z[Symbol.iterator](),A;!(R=(A=j.next()).done)&&($.push(A.value),!(N&&$.length===N));R=!0);}catch(q){W=!0,J=q}finally{try{!R&&j.return&&j.return()}finally{if(W)throw J}}return $}return function(z,N){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return Z(z,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Z(z,N){for(var $=0;$<N.length;$++){var R=N[$];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(z,R.key,R)}}return function(z,N,$){return N&&Z(z.prototype,N),$&&Z(z,$),z}}(),l=i(2),u=T(l),c=i(20),d=T(c),f=i(0),h=T(f),p=i(13),m=T(p),_=i(24),v=T(_),y=i(4),b=T(y),g=i(16),w=T(g),P=i(21),k=T(P),S=i(11),D=T(S),O=i(3),E=T(O);function T(Z){return Z&&Z.__esModule?Z:{default:Z}}function C(Z,z,N){return z in Z?Object.defineProperty(Z,z,{value:N,enumerable:!0,configurable:!0,writable:!0}):Z[z]=N,Z}function F(Z,z){if(!(Z instanceof z))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,V=function(){function Z(z){F(this,Z),this.scroll=z,this.delta=this.getDelta()}return a(Z,[{key:"applyDelta",value:function(N){var $=this,R=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),N=re(N),N.reduce(function(J,j){var A=j.retain||j.delete||j.insert.length||1,q=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var B=j.insert;B.endsWith(`
`)&&R&&(R=!1,B=B.slice(0,-1)),J>=W&&!B.endsWith(`
`)&&(R=!0),$.scroll.insertAt(J,B);var ne=$.scroll.line(J),ue=s(ne,2),Q=ue[0],L=ue[1],Y=(0,E.default)({},(0,y.bubbleFormats)(Q));if(Q instanceof b.default){var K=Q.descendant(h.default.Leaf,L),de=s(K,1),X=de[0];Y=(0,E.default)(Y,(0,y.bubbleFormats)(X))}q=d.default.attributes.diff(Y,q)||{}}else if(o(j.insert)==="object"){var G=Object.keys(j.insert)[0];if(G==null)return J;$.scroll.insertAt(J,G,j.insert[G])}W+=A}return Object.keys(q).forEach(function(ie){$.scroll.formatAt(J,A,ie,q[ie])}),J+A},0),N.reduce(function(J,j){return typeof j.delete=="number"?($.scroll.deleteAt(J,j.delete),J):J+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,$){return this.scroll.deleteAt(N,$),this.update(new u.default().retain(N).delete($))}},{key:"formatLine",value:function(N,$){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(J){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[J])){var j=R.scroll.lines(N,Math.max($,1)),A=$;j.forEach(function(q){var B=q.length();if(!(q instanceof m.default))q.format(J,W[J]);else{var ne=N-q.offset(R.scroll),ue=q.newlineIndex(ne+A)-ne+1;q.formatAt(ne,ue,J,W[J])}A-=B})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain($,(0,k.default)(W)))}},{key:"formatText",value:function(N,$){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(J){R.scroll.formatAt(N,$,J,W[J])}),this.update(new u.default().retain(N).retain($,(0,k.default)(W)))}},{key:"getContents",value:function(N,$){return this.delta.slice(N,N+$)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,$){return N.concat($.delta())},new u.default)}},{key:"getFormat",value:function(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],W=[];$===0?this.scroll.path(N).forEach(function(j){var A=s(j,1),q=A[0];q instanceof b.default?R.push(q):q instanceof h.default.Leaf&&W.push(q)}):(R=this.scroll.lines(N,$),W=this.scroll.descendants(h.default.Leaf,N,$));var J=[R,W].map(function(j){if(j.length===0)return{};for(var A=(0,y.bubbleFormats)(j.shift());Object.keys(A).length>0;){var q=j.shift();if(q==null)return A;A=U((0,y.bubbleFormats)(q),A)}return A});return E.default.apply(E.default,J)}},{key:"getText",value:function(N,$){return this.getContents(N,$).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(N,$,R){return this.scroll.insertAt(N,$,R),this.update(new u.default().retain(N).insert(C({},$,R)))}},{key:"insertText",value:function(N,$){var R=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,$),Object.keys(W).forEach(function(J){R.scroll.formatAt(N,$.length,J,W[J])}),this.update(new u.default().retain(N).insert($,(0,k.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==b.default.blotName||N.children.length>1?!1:N.children.head instanceof w.default}},{key:"removeFormat",value:function(N,$){var R=this.getText(N,$),W=this.scroll.line(N+$),J=s(W,2),j=J[0],A=J[1],q=0,B=new u.default;j!=null&&(j instanceof m.default?q=j.newlineIndex(A)-A+1:q=j.length()-A,B=j.delta().slice(A,A+q-1).insert(`
`));var ne=this.getContents(N,$+q),ue=ne.diff(new u.default().insert(R).concat(B)),Q=new u.default().retain(N).concat(ue);return this.applyDelta(Q)}},{key:"update",value:function(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(M)&&h.default.find($[0].target)){var J=h.default.find($[0].target),j=(0,y.bubbleFormats)(J),A=J.offset(this.scroll),q=$[0].oldValue.replace(v.default.CONTENTS,""),B=new u.default().insert(q),ne=new u.default().insert(J.value()),ue=new u.default().retain(A).concat(B.diff(ne,R));N=ue.reduce(function(Q,L){return L.insert?Q.insert(L.insert,j):Q.push(L)},new u.default),this.delta=W.compose(N)}else this.delta=this.getDelta(),(!N||!(0,D.default)(W.compose(N),this.delta))&&(N=W.diff(this.delta,R));return N}}]),Z}();function U(Z,z){return Object.keys(z).reduce(function(N,$){return Z[$]==null||(z[$]===Z[$]?N[$]=z[$]:Array.isArray(z[$])?z[$].indexOf(Z[$])<0&&(N[$]=z[$].concat([Z[$]])):N[$]=[z[$],Z[$]]),N},{})}function re(Z){return Z.reduce(function(z,N){if(N.insert===1){var $=(0,k.default)(N.attributes);return delete $.image,z.insert({image:N.attributes.image},$)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,k.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var R=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return z.insert(R,N.attributes)}return z.push(N)},new u.default)}r.default=V},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function S(D,O){var E=[],T=!0,C=!1,F=void 0;try{for(var M=D[Symbol.iterator](),V;!(T=(V=M.next()).done)&&(E.push(V.value),!(O&&E.length===O));T=!0);}catch(U){C=!0,F=U}finally{try{!T&&M.return&&M.return()}finally{if(C)throw F}}return E}return function(D,O){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return S(D,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(D,O){for(var E=0;E<O.length;E++){var T=O[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(D,T.key,T)}}return function(D,O,E){return O&&S(D.prototype,O),E&&S(D,E),D}}(),a=i(0),l=v(a),u=i(21),c=v(u),d=i(11),f=v(d),h=i(8),p=v(h),m=i(10),_=v(m);function v(S){return S&&S.__esModule?S:{default:S}}function y(S){if(Array.isArray(S)){for(var D=0,O=Array(S.length);D<S.length;D++)O[D]=S[D];return O}else return Array.from(S)}function b(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")}var g=(0,_.default)("quill:selection"),w=function S(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,S),this.index=D,this.length=O},P=function(){function S(D,O){var E=this;b(this,S),this.emitter=O,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(T,C){T===p.default.events.TEXT_CHANGE&&C.length()>0&&E.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var T=E.getNativeRange();T!=null&&T.start.node!==E.cursor.textNode&&E.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(T,C){if(C.range){var F=C.range,M=F.startNode,V=F.startOffset,U=F.endNode,re=F.endOffset;E.setNativeRange(M,V,U,re)}}),this.update(p.default.sources.SILENT)}return s(S,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var E=O.cursor.restore();if(!E)return;setTimeout(function(){O.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||l.default.query(O,l.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var C=l.default.find(T.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var F=C.split(T.start.offset);C.parent.insertBefore(this.cursor,F)}else C.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(O,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();O=Math.min(O,T-1),E=Math.min(O+E,T-1)-O;var C=void 0,F=this.scroll.leaf(O),M=o(F,2),V=M[0],U=M[1];if(V==null)return null;var re=V.position(U,!0),Z=o(re,2);C=Z[0],U=Z[1];var z=document.createRange();if(E>0){z.setStart(C,U);var N=this.scroll.leaf(O+E),$=o(N,2);if(V=$[0],U=$[1],V==null)return null;var R=V.position(U,!0),W=o(R,2);return C=W[0],U=W[1],z.setEnd(C,U),z.getBoundingClientRect()}else{var J="left",j=void 0;return C instanceof Text?(U<C.data.length?(z.setStart(C,U),z.setEnd(C,U+1)):(z.setStart(C,U-1),z.setEnd(C,U),J="right"),j=z.getBoundingClientRect()):(j=V.domNode.getBoundingClientRect(),U>0&&(J="right")),{bottom:j.top+j.height,height:j.height,left:j[J],right:j[J],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var E=O.getRangeAt(0);if(E==null)return null;var T=this.normalizeNative(E);return g.info("getNativeRange",T),T}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var E=this.normalizedToRange(O);return[E,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var E=this,T=[[O.start.node,O.start.offset]];O.native.collapsed||T.push([O.end.node,O.end.offset]);var C=T.map(function(V){var U=o(V,2),re=U[0],Z=U[1],z=l.default.find(re,!0),N=z.offset(E.scroll);return Z===0?N:z instanceof l.default.Container?N+z.length():N+z.index(re,Z)}),F=Math.min(Math.max.apply(Math,y(C)),this.scroll.length()-1),M=Math.min.apply(Math,[F].concat(y(C)));return new w(M,F-M)}},{key:"normalizeNative",value:function(O){if(!k(this.root,O.startContainer)||!O.collapsed&&!k(this.root,O.endContainer))return null;var E={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[E.start,E.end].forEach(function(T){for(var C=T.node,F=T.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>F)C=C.childNodes[F],F=0;else if(C.childNodes.length===F)C=C.lastChild,F=C instanceof Text?C.data.length:C.childNodes.length+1;else break;T.node=C,T.offset=F}),E}},{key:"rangeToNative",value:function(O){var E=this,T=O.collapsed?[O.index]:[O.index,O.index+O.length],C=[],F=this.scroll.length();return T.forEach(function(M,V){M=Math.min(F-1,M);var U=void 0,re=E.scroll.leaf(M),Z=o(re,2),z=Z[0],N=Z[1],$=z.position(N,V!==0),R=o($,2);U=R[0],N=R[1],C.push(U,N)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(O){var E=this.lastRange;if(E!=null){var T=this.getBounds(E.index,E.length);if(T!=null){var C=this.scroll.length()-1,F=this.scroll.line(Math.min(E.index,C)),M=o(F,1),V=M[0],U=V;if(E.length>0){var re=this.scroll.line(Math.min(E.index+E.length,C)),Z=o(re,1);U=Z[0]}if(!(V==null||U==null)){var z=O.getBoundingClientRect();T.top<z.top?O.scrollTop-=z.top-T.top:T.bottom>z.bottom&&(O.scrollTop+=T.bottom-z.bottom)}}}}},{key:"setNativeRange",value:function(O,E){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",O,E,T,C),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||T.parentNode==null))){var M=document.getSelection();if(M!=null)if(O!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||F||O!==V.startContainer||E!==V.startOffset||T!==V.endContainer||C!==V.endOffset){O.tagName=="BR"&&(E=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),T.tagName=="BR"&&(C=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var U=document.createRange();U.setStart(O,E),U.setEnd(T,C),M.removeAllRanges(),M.addRange(U)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof E=="string"&&(T=E,E=!1),g.info("setRange",O),O!=null){var C=this.rangeToNative(O);this.setNativeRange.apply(this,y(C).concat([E]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,E=this.lastRange,T=this.getRange(),C=o(T,2),F=C[0],M=C[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(E,this.lastRange)){var V;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(E),O];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat(U)),O!==p.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,U)}}}}]),S}();function k(S,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),S.contains(D)}r.Range=w,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),s=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(0),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"insertInto",value:function(v,y){v.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,v,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(d){o(f,d);function f(h){var p=d.call(this,h)||this;return p.build(),p}return f.prototype.appendChild=function(h){this.insertBefore(h)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},f.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var m=c(p);h.insertBefore(m,h.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},f.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(m,_,v){m.deleteAt(_,v)})},f.prototype.descendant=function(h,p){var m=this.children.find(p),_=m[0],v=m[1];return h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h?[_,v]:_ instanceof f?_.descendant(h,v):[null,-1]},f.prototype.descendants=function(h,p,m){p===void 0&&(p=0),m===void 0&&(m=Number.MAX_VALUE);var _=[],v=m;return this.children.forEachAt(p,m,function(y,b,g){(h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h)&&_.push(y),y instanceof f&&(_=_.concat(y.descendants(h,b,v))),v-=g}),_},f.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(h,p,m,_){this.children.forEachAt(h,p,function(v,y,b){v.formatAt(y,b,m,_)})},f.prototype.insertAt=function(h,p,m){var _=this.children.find(h),v=_[0],y=_[1];if(v)v.insertAt(y,p,m);else{var b=m==null?l.create("text",p):l.create(p,m);this.appendChild(b)}},f.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},f.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},f.prototype.moveChildren=function(h,p){this.children.forEach(function(m){h.insertBefore(m,p)})},f.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=l.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},f.prototype.path=function(h,p){p===void 0&&(p=!1);var m=this.children.find(h,p),_=m[0],v=m[1],y=[[this,h]];return _ instanceof f?y.concat(_.path(v,p)):(_!=null&&y.push([_,v]),y)},f.prototype.removeChild=function(h){this.children.remove(h)},f.prototype.replace=function(h){h instanceof f&&h.moveChildren(this),d.prototype.replace.call(this,h)},f.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(_,v,y){_=_.split(v,p),m.appendChild(_)}),m},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(h,p){var m=this,_=[],v=[];h.forEach(function(y){y.target===m.domNode&&y.type==="childList"&&(_.push.apply(_,y.addedNodes),v.push.apply(v,y.removedNodes))}),v.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(y);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),_.filter(function(y){return y.parentNode==m.domNode}).sort(function(y,b){return y===b?0:y.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var b=null;y.nextSibling!=null&&(b=l.find(y.nextSibling));var g=c(y);(g.next!=b||g.next==null)&&(g.parent!=null&&g.parent.removeChild(m),m.insertBefore(g,b||void 0))})},f}(a.default);function c(d){var f=l.find(d);if(f==null)try{f=l.create(d)}catch{f=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){f.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(d){o(f,d);function f(h){var p=d.call(this,h)||this;return p.attributes=new a.default(p.domNode),p}return f.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},f.prototype.format=function(h,p){var m=u.query(h);m instanceof s.default?this.attributes.attribute(m,p):p&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},f.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},f.prototype.replaceWith=function(h,p){var m=d.prototype.replaceWith.call(this,h,p);return this.attributes.copy(m),m},f.prototype.update=function(h,p){var m=this;d.prototype.update.call(this,h,p),h.some(function(_){return _.target===m.domNode&&_.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(h,p){var m=d.prototype.wrap.call(this,h,p);return m instanceof f&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},f}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},c.prototype.position=function(d,f){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,d){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=s(!0,{},c);d||(f=Object.keys(f).reduce(function(p,m){return f[m]!=null&&(p[m]=f[m]),p},{}));for(var h in u)u[h]!==void 0&&c[h]===void 0&&(f[h]=u[h]);return Object.keys(f).length>0?f:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=Object.keys(u).concat(Object.keys(c)).reduce(function(f,h){return o(u[h],c[h])||(f[h]=c[h]===void 0?null:c[h]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,c,d){if(typeof u!="object")return c;if(typeof c=="object"){if(!d)return c;var f=Object.keys(c).reduce(function(h,p){return u[p]===void 0&&(h[p]=c[p]),h},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var d=this.offset,f=a.length(c);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var h={};return c.attributes&&(h.attributes=c.attributes),typeof c.retain=="number"?h.retain=u:typeof c.insert=="string"?h.insert=c.insert.substr(d,u):h.insert=c.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=c,[d].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(m,_){return _!=null&&m instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(m,_,v,y,b){typeof _=="object"&&(v=_.depth,y=_.prototype,b=_.includeNonEnumerable,_=_.circular);var g=[],w=[],P=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof v>"u"&&(v=1/0);function k(S,D){if(S===null)return null;if(D===0)return S;var O,E;if(typeof S!="object")return S;if(o(S,s))O=new s;else if(o(S,a))O=new a;else if(o(S,l))O=new l(function(z,N){S.then(function($){z(k($,D-1))},function($){N(k($,D-1))})});else if(u.__isArray(S))O=[];else if(u.__isRegExp(S))O=new RegExp(S.source,p(S)),S.lastIndex&&(O.lastIndex=S.lastIndex);else if(u.__isDate(S))O=new Date(S.getTime());else{if(P&&Buffer.isBuffer(S))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(S.length):O=new Buffer(S.length),S.copy(O),O;o(S,Error)?O=Object.create(S):typeof y>"u"?(E=Object.getPrototypeOf(S),O=Object.create(E)):(O=Object.create(y),E=y)}if(_){var T=g.indexOf(S);if(T!=-1)return w[T];g.push(S),w.push(O)}o(S,s)&&S.forEach(function(z,N){var $=k(N,D-1),R=k(z,D-1);O.set($,R)}),o(S,a)&&S.forEach(function(z){var N=k(z,D-1);O.add(N)});for(var C in S){var F;E&&(F=Object.getOwnPropertyDescriptor(E,C)),!(F&&F.set==null)&&(O[C]=k(S[C],D-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(S),C=0;C<M.length;C++){var V=M[C],U=Object.getOwnPropertyDescriptor(S,V);U&&!U.enumerable&&!b||(O[V]=k(S[V],D-1),U.enumerable||Object.defineProperty(O,V,{enumerable:!1}))}if(b)for(var re=Object.getOwnPropertyNames(S),C=0;C<re.length;C++){var Z=re[C],U=Object.getOwnPropertyDescriptor(S,Z);U&&U.enumerable||(O[Z]=k(S[Z],D-1),Object.defineProperty(O,Z,{enumerable:!1}))}return O}return k(m,v)}u.clonePrototype=function(_){if(_===null)return null;var v=function(){};return v.prototype=_,new v};function c(m){return Object.prototype.toString.call(m)}u.__objToStr=c;function d(m){return typeof m=="object"&&c(m)==="[object Date]"}u.__isDate=d;function f(m){return typeof m=="object"&&c(m)==="[object Array]"}u.__isArray=f;function h(m){return typeof m=="object"&&c(m)==="[object RegExp]"}u.__isRegExp=h;function p(m){var _="";return m.global&&(_+="g"),m.ignoreCase&&(_+="i"),m.multiline&&(_+="m"),_}return u.__getRegExpFlags=p,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function O(E,T){var C=[],F=!0,M=!1,V=void 0;try{for(var U=E[Symbol.iterator](),re;!(F=(re=U.next()).done)&&(C.push(re.value),!(T&&C.length===T));F=!0);}catch(Z){M=!0,V=Z}finally{try{!F&&U.return&&U.return()}finally{if(M)throw V}}return C}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return O(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(E,T){for(var C=0;C<T.length;C++){var F=T[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}}return function(E,T,C){return T&&O(E.prototype,T),C&&O(E,C),E}}(),a=function O(E,T,C){E===null&&(E=Function.prototype);var F=Object.getOwnPropertyDescriptor(E,T);if(F===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:O(M,T,C)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(C)}},l=i(0),u=g(l),c=i(8),d=g(c),f=i(4),h=g(f),p=i(16),m=g(p),_=i(13),v=g(_),y=i(25),b=g(y);function g(O){return O&&O.__esModule?O:{default:O}}function w(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}function P(O,E){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:O}function k(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(O,E):O.__proto__=E)}function S(O){return O instanceof h.default||O instanceof f.BlockEmbed}var D=function(O){k(E,O);function E(T,C){w(this,E);var F=P(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T));return F.emitter=C.emitter,Array.isArray(C.whitelist)&&(F.whitelist=C.whitelist.reduce(function(M,V){return M[V]=!0,M},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return s(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,F){var M=this.line(C),V=o(M,2),U=V[0],re=V[1],Z=this.line(C+F),z=o(Z,1),N=z[0];if(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,C,F),N!=null&&U!==N&&re>0){if(U instanceof f.BlockEmbed||N instanceof f.BlockEmbed){this.optimize();return}if(U instanceof v.default){var $=U.newlineIndex(U.length(),!0);if($>-1&&(U=U.split($+1),U===N)){this.optimize();return}}else if(N instanceof v.default){var R=N.newlineIndex(0);R>-1&&N.split(R+1)}var W=N.children.head instanceof m.default?null:N.children.head;U.moveChildren(N,W),U.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,F,M,V){this.whitelist!=null&&!this.whitelist[M]||(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,C,F,M,V),this.optimize())}},{key:"insertAt",value:function(C,F,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[F])){if(C>=this.length())if(M==null||u.default.query(F,u.default.Scope.BLOCK)==null){var V=u.default.create(this.statics.defaultChild);this.appendChild(V),M==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),V.insertAt(0,F,M)}else{var U=u.default.create(F,M);this.appendChild(U)}else a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,C,F,M);this.optimize()}}},{key:"insertBefore",value:function(C,F){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var M=u.default.create(this.statics.defaultChild);M.appendChild(C),C=M}a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,C,F)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(S,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function V(U,re,Z){var z=[],N=Z;return U.children.forEachAt(re,Z,function($,R,W){S($)?z.push($):$ instanceof u.default.Container&&(z=z.concat(V($,R,N))),N-=W}),z};return M(this,C,F)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,C,F),C.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,C,F))}},{key:"path",value:function(C){return a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var F=d.default.sources.USER;typeof C=="string"&&(F=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,F,C),a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,F,C)}}}]),E}(u.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[h.default,f.BlockEmbed,b.default],r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(A,q){var B=[],ne=!0,ue=!1,Q=void 0;try{for(var L=A[Symbol.iterator](),Y;!(ne=(Y=L.next()).done)&&(B.push(Y.value),!(q&&B.length===q));ne=!0);}catch(K){ue=!0,Q=K}finally{try{!ne&&L.return&&L.return()}finally{if(ue)throw Q}}return B}return function(A,q){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return j(A,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(A,q){for(var B=0;B<q.length;B++){var ne=q[B];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(A,ne.key,ne)}}return function(A,q,B){return q&&j(A.prototype,q),B&&j(A,B),A}}(),l=i(21),u=O(l),c=i(11),d=O(c),f=i(3),h=O(f),p=i(2),m=O(p),_=i(20),v=O(_),y=i(0),b=O(y),g=i(5),w=O(g),P=i(10),k=O(P),S=i(9),D=O(S);function O(j){return j&&j.__esModule?j:{default:j}}function E(j,A,q){return A in j?Object.defineProperty(j,A,{value:q,enumerable:!0,configurable:!0,writable:!0}):j[A]=q,j}function T(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}function C(j,A){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:j}function F(j,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);j.prototype=Object.create(A&&A.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(j,A):j.__proto__=A)}var M=(0,k.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(j){F(A,j),a(A,null,[{key:"match",value:function(B,ne){return ne=J(ne),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!ne[ue]!==B[ue]&&ne[ue]!==null})?!1:ne.key===(B.which||B.keyCode)}}]);function A(q,B){T(this,A);var ne=C(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,q,B));return ne.bindings={},Object.keys(ne.options.bindings).forEach(function(ue){ue==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||ne.options.bindings[ue]&&ne.addBinding(ne.options.bindings[ue])}),ne.addBinding({key:A.keys.ENTER,shiftKey:null},$),ne.addBinding({key:A.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ne.addBinding({key:A.keys.BACKSPACE},{collapsed:!0},Z),ne.addBinding({key:A.keys.DELETE},{collapsed:!0},z)):(ne.addBinding({key:A.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Z),ne.addBinding({key:A.keys.DELETE},{collapsed:!0,suffix:/^.?$/},z)),ne.addBinding({key:A.keys.BACKSPACE},{collapsed:!1},N),ne.addBinding({key:A.keys.DELETE},{collapsed:!1},N),ne.addBinding({key:A.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Z),ne.listen(),ne}return a(A,[{key:"addBinding",value:function(B){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=J(B);if(Q==null||Q.key==null)return M.warn("Attempted to add invalid keyboard binding",Q);typeof ne=="function"&&(ne={handler:ne}),typeof ue=="function"&&(ue={handler:ue}),Q=(0,h.default)(Q,ne,ue),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var B=this;this.quill.root.addEventListener("keydown",function(ne){if(!ne.defaultPrevented){var ue=ne.which||ne.keyCode,Q=(B.bindings[ue]||[]).filter(function($e){return A.match(ne,$e)});if(Q.length!==0){var L=B.quill.getSelection();if(!(L==null||!B.quill.hasFocus())){var Y=B.quill.getLine(L.index),K=s(Y,2),de=K[0],X=K[1],G=B.quill.getLeaf(L.index),ie=s(G,2),oe=ie[0],fe=ie[1],te=L.length===0?[oe,fe]:B.quill.getLeaf(L.index+L.length),ye=s(te,2),_e=ye[0],we=ye[1],Re=oe instanceof b.default.Text?oe.value().slice(0,fe):"",Me=_e instanceof b.default.Text?_e.value().slice(we):"",De={collapsed:L.length===0,empty:L.length===0&&de.length()<=1,format:B.quill.getFormat(L),offset:X,prefix:Re,suffix:Me},tt=Q.some(function($e){if($e.collapsed!=null&&$e.collapsed!==De.collapsed||$e.empty!=null&&$e.empty!==De.empty||$e.offset!=null&&$e.offset!==De.offset)return!1;if(Array.isArray($e.format)){if($e.format.every(function(mt){return De.format[mt]==null}))return!1}else if(o($e.format)==="object"&&!Object.keys($e.format).every(function(mt){return $e.format[mt]===!0?De.format[mt]!=null:$e.format[mt]===!1?De.format[mt]==null:(0,d.default)($e.format[mt],De.format[mt])}))return!1;return $e.prefix!=null&&!$e.prefix.test(De.prefix)||$e.suffix!=null&&!$e.suffix.test(De.suffix)?!1:$e.handler.call(B,L,De)!==!0});tt&&ne.preventDefault()}}}})}}]),A}(D.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(A,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(A,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(A,q){q.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(A){this.quill.deleteText(A.index-1,1,w.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(A){this.quill.history.cutoff();var q=new m.default().retain(A.index).delete(A.length).insert("	");this.quill.updateContents(q,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(A.index+1,w.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(A,q){this.quill.format("list",!1,w.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(A){var q=this.quill.getLine(A.index),B=s(q,2),ne=B[0],ue=B[1],Q=(0,h.default)({},ne.formats(),{list:"checked"}),L=new m.default().retain(A.index).insert(`
`,Q).retain(ne.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(L,w.default.sources.USER),this.quill.setSelection(A.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(A,q){var B=this.quill.getLine(A.index),ne=s(B,2),ue=ne[0],Q=ne[1],L=new m.default().retain(A.index).insert(`
`,q.format).retain(ue.length()-Q-1).retain(1,{header:null});this.quill.updateContents(L,w.default.sources.USER),this.quill.setSelection(A.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(A,q){var B=q.prefix.length,ne=this.quill.getLine(A.index),ue=s(ne,2),Q=ue[0],L=ue[1];if(L>B)return!0;var Y=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":Y="unchecked";break;case"[x]":Y="checked";break;case"-":case"*":Y="bullet";break;default:Y="ordered"}this.quill.insertText(A.index," ",w.default.sources.USER),this.quill.history.cutoff();var K=new m.default().retain(A.index-L).delete(B+1).retain(Q.length()-2-L).retain(1,{list:Y});this.quill.updateContents(K,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(A.index-B,w.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(A){var q=this.quill.getLine(A.index),B=s(q,2),ne=B[0],ue=B[1],Q=new m.default().retain(A.index+ne.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,w.default.sources.USER)}},"embed left":re(U.keys.LEFT,!1),"embed left shift":re(U.keys.LEFT,!0),"embed right":re(U.keys.RIGHT,!1),"embed right shift":re(U.keys.RIGHT,!0)}};function re(j,A){var q,B=j===U.keys.LEFT?"prefix":"suffix";return q={key:j,shiftKey:A,altKey:null},E(q,B,/^$/),E(q,"handler",function(ue){var Q=ue.index;j===U.keys.RIGHT&&(Q+=ue.length+1);var L=this.quill.getLeaf(Q),Y=s(L,1),K=Y[0];return K instanceof b.default.Embed?(j===U.keys.LEFT?A?this.quill.setSelection(ue.index-1,ue.length+1,w.default.sources.USER):this.quill.setSelection(ue.index-1,w.default.sources.USER):A?this.quill.setSelection(ue.index,ue.length+1,w.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,w.default.sources.USER),!1):!0}),q}function Z(j,A){if(!(j.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(j.index),B=s(q,1),ne=B[0],ue={};if(A.offset===0){var Q=this.quill.getLine(j.index-1),L=s(Q,1),Y=L[0];if(Y!=null&&Y.length()>1){var K=ne.formats(),de=this.quill.getFormat(j.index-1,1);ue=v.default.attributes.diff(K,de)||{}}}var X=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(A.prefix)?2:1;this.quill.deleteText(j.index-X,X,w.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(j.index-X,X,ue,w.default.sources.USER),this.quill.focus()}}function z(j,A){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(A.suffix)?2:1;if(!(j.index>=this.quill.getLength()-q)){var B={},ne=0,ue=this.quill.getLine(j.index),Q=s(ue,1),L=Q[0];if(A.offset>=L.length()-1){var Y=this.quill.getLine(j.index+1),K=s(Y,1),de=K[0];if(de){var X=L.formats(),G=this.quill.getFormat(j.index,1);B=v.default.attributes.diff(X,G)||{},ne=de.length()}}this.quill.deleteText(j.index,q,w.default.sources.USER),Object.keys(B).length>0&&this.quill.formatLine(j.index+ne-1,q,B,w.default.sources.USER)}}function N(j){var A=this.quill.getLines(j),q={};if(A.length>1){var B=A[0].formats(),ne=A[A.length-1].formats();q=v.default.attributes.diff(ne,B)||{}}this.quill.deleteText(j,w.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(j.index,1,q,w.default.sources.USER),this.quill.setSelection(j.index,w.default.sources.SILENT),this.quill.focus()}function $(j,A){var q=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var B=Object.keys(A.format).reduce(function(ne,ue){return b.default.query(ue,b.default.Scope.BLOCK)&&!Array.isArray(A.format[ue])&&(ne[ue]=A.format[ue]),ne},{});this.quill.insertText(j.index,`
`,B,w.default.sources.USER),this.quill.setSelection(j.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(A.format).forEach(function(ne){B[ne]==null&&(Array.isArray(A.format[ne])||ne!=="link"&&q.quill.format(ne,A.format[ne],w.default.sources.USER))})}function R(j){return{key:U.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(q){var B=b.default.query("code-block"),ne=q.index,ue=q.length,Q=this.quill.scroll.descendant(B,ne),L=s(Q,2),Y=L[0],K=L[1];if(Y!=null){var de=this.quill.getIndex(Y),X=Y.newlineIndex(K,!0)+1,G=Y.newlineIndex(de+K+ue),ie=Y.domNode.textContent.slice(X,G).split(`
`);K=0,ie.forEach(function(oe,fe){j?(Y.insertAt(X+K,B.TAB),K+=B.TAB.length,fe===0?ne+=B.TAB.length:ue+=B.TAB.length):oe.startsWith(B.TAB)&&(Y.deleteAt(X+K,B.TAB.length),K-=B.TAB.length,fe===0?ne-=B.TAB.length:ue-=B.TAB.length),K+=oe.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(ne,ue,w.default.sources.SILENT)}}}}function W(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(q,B){this.quill.format(j,!B.format[j],w.default.sources.USER)}}}function J(j){if(typeof j=="string"||typeof j=="number")return J({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(U.keys[j.key.toUpperCase()]!=null)j.key=U.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[V]=j.shortKey,delete j.shortKey),j}r.default=U,r.SHORTKEY=V},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,b){var g=[],w=!0,P=!1,k=void 0;try{for(var S=y[Symbol.iterator](),D;!(w=(D=S.next()).done)&&(g.push(D.value),!(b&&g.length===b));w=!0);}catch(O){P=!0,k=O}finally{try{!w&&S.return&&S.return()}finally{if(P)throw k}}return g}return function(y,b){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return v(y,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(y,b,g){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var P=Object.getPrototypeOf(y);return P===null?void 0:v(P,b,g)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(g)}},a=function(){function v(y,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,g){return b&&v(y.prototype,b),g&&v(y,g),y}}(),l=i(0),u=f(l),c=i(7),d=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function p(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var _=function(v){m(y,v),a(y,null,[{key:"value",value:function(){}}]);function y(b,g){h(this,y);var w=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return w.selection=g,w.textNode=document.createTextNode(y.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,g,w);for(var P=this,k=0;P!=null&&P.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=P.offset(P.parent),P=P.parent;P!=null&&(this._length=y.CONTENTS.length,P.optimize(),P.formatAt(k,y.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),P=void 0,k=void 0,S=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var D=[g,w.start.offset,w.end.offset];P=D[0],k=D[1],S=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var O=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof d.default?(P=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=y.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var E=[k,S].map(function(C){return Math.max(0,Math.min(P.data.length,C-1))}),T=o(E,2);return k=T[0],S=T[1],{startNode:P,startOffset:k,endNode:P,endOffset:S}}}}},{key:"update",value:function(g,w){var P=this;if(g.some(function(S){return S.type==="characterData"&&S.target===P.textNode})){var k=this.restore();k&&(w.range=k)}}},{key:"value",value:function(){return""}}]),y}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),s=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var P=g.get;return P===void 0?void 0:P.call(b)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function d(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function f(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var h=function(_){f(v,_);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(b){var g=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),v}(l.default.Attributor.Style),p=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=p,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function m(_,v){for(var y=0;y<v.length;y++){var b=v[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,v,y){return v&&m(_.prototype,v),y&&m(_,y),_}}(),s=function m(_,v,y){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,v);if(b===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:m(g,v,y)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(y)}},a=i(6),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function d(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var h=function(m){f(_,m);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(y,b){if(y!==this.statics.blotName||!b)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,y,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(y){var b=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,y);return y=this.sanitize(y),b.setAttribute("href",y),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return p(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),_}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(m,_){var v=document.createElement("a");v.href=m;var y=v.href.slice(0,v.href.indexOf(":"));return _.indexOf(y)>-1}r.default=h,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),a=i(23),l=d(a),u=i(107),c=d(u);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function p(_,v){_.setAttribute(v,_.getAttribute(v)!=="true")}var m=function(){function _(v){var y=this;f(this,_),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:y.togglePicker();break;case l.default.keys.ESCAPE:y.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var b=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),y.hasAttribute("value")&&g.setAttribute("data-value",y.getAttribute("value")),y.textContent&&g.setAttribute("data-label",y.textContent),g.addEventListener("click",function(){b.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=c.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(g){var w=y.buildItem(g);b.appendChild(w),g.selected===!0&&y.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(b){y.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(y!==g&&(g!=null&&g.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var g=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),_}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=M(o),a=i(5),l=M(a),u=i(4),c=M(u),d=i(16),f=M(d),h=i(25),p=M(h),m=i(24),_=M(m),v=i(35),y=M(v),b=i(6),g=M(b),w=i(22),P=M(w),k=i(7),S=M(k),D=i(55),O=M(D),E=i(42),T=M(E),C=i(23),F=M(C);function M(V){return V&&V.__esModule?V:{default:V}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":p.default,"blots/cursor":_.default,"blots/embed":y.default,"blots/inline":g.default,"blots/scroll":P.default,"blots/text":S.default,"modules/clipboard":O.default,"modules/history":T.default,"modules/keyboard":F.default}),s.default.register(c.default,f.default,_.default,g.default,P.default,S.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,d){var f=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&d)f.wrap(c,d);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);f.wrap(h),h.format(c,d)}},a.prototype.insertAt=function(l,u,c){var d=c==null?o.create("text",u):o.create(u,c),f=this.split(l);this.parent.insertBefore(d,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var f=o.default.keys(this.domNode),h=s.default.keys(this.domNode),p=a.default.keys(this.domNode);f.concat(h).concat(p).forEach(function(m){var _=l.query(m,l.Scope.ATTRIBUTE);_ instanceof o.default&&(d.attributes[_.attrName]=_)})},c.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(h){var p=f.attributes[h].value(f.domNode);d.format(h,p)})},c.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){f.attributes[h].remove(f.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,h){return f[h]=d.attributes[h].value(d.domNode),f},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},c.prototype.remove=function(d){var f=a(d,this.keyName);f.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var f=a(d,this.keyName)[0]||"",h=f.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),d=c.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return c[0]+d}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var h=f.split(":");return h[0].trim()})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[a(this.keyName)]=f,!0):!1},c.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var f=d.style[a(this.keyName)];return this.canAdd(d,f)?f:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,g){return b&&v(y.prototype,b),g&&v(y,g),y}}(),s=function v(y,b,g){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var P=Object.getPrototypeOf(y);return P===null?void 0:v(P,b,g)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(g)}},a=i(0),l=d(a),u=i(7),c=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function p(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m="\uFEFF",_=function(v){p(y,v);function y(b){f(this,y);var g=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(m),g.rightGuard=document.createTextNode(m),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(y,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,P=void 0,k=g.data.split(m).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var S=this.prev.length();this.prev.insertAt(S,k),w={startNode:this.prev.domNode,startOffset:S+k.length}}else P=document.createTextNode(k),this.parent.insertBefore(l.default.create(P),this),w={startNode:P,startOffset:k.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,k),w={startNode:this.next.domNode,startOffset:k.length}):(P=document.createTextNode(k),this.parent.insertBefore(l.default.create(P),this.next),w={startNode:P,startOffset:k.length}));return g.data=m,w}},{key:"update",value:function(g,w){var P=this;g.forEach(function(k){if(k.type==="characterData"&&(k.target===P.leftGuard||k.target===P.rightGuard)){var S=P.restore(k.target);S&&(w.range=S)}})}}]),y}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function v(y,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,b,g){return b&&v(y.prototype,b),g&&v(y,g),y}}(),s=function v(y,b,g){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,b);if(w===void 0){var P=Object.getPrototypeOf(y);return P===null?void 0:v(P,b,g)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(g)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function f(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new l.default.Attributor.Class("font","ql-font",h),m=function(v){f(y,v);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"value",value:function(g){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),y}(l.default.Attributor.Style),_=new m("font","font-family",h);r.FontStyle=_,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(g,w){for(var P=0;P<w.length;P++){var k=w[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,w,P){return w&&b(g.prototype,w),P&&b(g,P),g}}(),s=i(0),a=f(s),l=i(5),u=f(l),c=i(9),d=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function m(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var _=function(b){m(g,b);function g(w,P){h(this,g);var k=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,P));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(S,D,O,E){S!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||E===u.default.sources.USER?k.record(D,O):k.transform(D))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return o(g,[{key:"change",value:function(P,k){if(this.stack[P].length!==0){var S=this.stack[P].pop();this.stack[k].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[P],u.default.sources.USER),this.ignoreChange=!1;var D=y(S[P]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(P,k){if(P.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(k),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var O=this.stack.undo.pop();S=S.compose(O.undo),P=O.redo.compose(P)}else this.lastRecorded=D;this.stack.undo.push({redo:P,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(P){this.stack.undo.forEach(function(k){k.undo=P.transform(k.undo,!0),k.redo=P.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=P.transform(k.undo,!0),k.redo=P.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var g=b.ops[b.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function y(b){var g=b.reduce(function(P,k){return P+=k.delete||0,P},0),w=b.length()-g;return v(b)&&(w-=1),w}r.default=_,r.getLastChangeIndex=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function $(R,W){for(var J=0;J<W.length;J++){var j=W[J];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(R,j.key,j)}}return function(R,W,J){return W&&$(R.prototype,W),J&&$(R,J),R}}(),s=function $(R,W,J){R===null&&(R=Function.prototype);var j=Object.getOwnPropertyDescriptor(R,W);if(j===void 0){var A=Object.getPrototypeOf(R);return A===null?void 0:$(A,W,J)}else{if("value"in j)return j.value;var q=j.get;return q===void 0?void 0:q.call(J)}},a=i(3),l=D(a),u=i(2),c=D(u),d=i(8),f=D(d),h=i(23),p=D(h),m=i(34),_=D(m),v=i(59),y=D(v),b=i(60),g=D(b),w=i(28),P=D(w),k=i(61),S=D(k);function D($){return $&&$.__esModule?$:{default:$}}function O($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:$}function T($,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}var C=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],V=["1","2","3",!1],U=["small",!1,"large","huge"],re=function($){T(R,$);function R(W,J){O(this,R);var j=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,W,J)),A=function q(B){if(!document.body.contains(W.root))return document.body.removeEventListener("click",q);j.tooltip!=null&&!j.tooltip.root.contains(B.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(ne){ne.container.contains(B.target)||ne.close()})};return W.emitter.listenDOM("click",document.body,A),j}return o(R,[{key:"addModule",value:function(J){var j=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(J,j){J.forEach(function(A){var q=A.getAttribute("class")||"";q.split(/\s+/).forEach(function(B){if(B.startsWith("ql-")&&(B=B.slice(3),j[B]!=null))if(B==="direction")A.innerHTML=j[B][""]+j[B].rtl;else if(typeof j[B]=="string")A.innerHTML=j[B];else{var ne=A.value||"";ne!=null&&j[B][ne]&&(A.innerHTML=j[B][ne])}})})}},{key:"buildPickers",value:function(J,j){var A=this;this.pickers=J.map(function(B){if(B.classList.contains("ql-align"))return B.querySelector("option")==null&&N(B,C),new g.default(B,j.align);if(B.classList.contains("ql-background")||B.classList.contains("ql-color")){var ne=B.classList.contains("ql-background")?"background":"color";return B.querySelector("option")==null&&N(B,F,ne==="background"?"#ffffff":"#000000"),new y.default(B,j[ne])}else return B.querySelector("option")==null&&(B.classList.contains("ql-font")?N(B,M):B.classList.contains("ql-header")?N(B,V):B.classList.contains("ql-size")&&N(B,U)),new P.default(B)});var q=function(){A.pickers.forEach(function(ne){ne.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,q)}}]),R}(_.default);re.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var J=new FileReader;J.onload=function(j){var A=R.quill.getSelection(!0);R.quill.updateContents(new c.default().retain(A.index).delete(A.length).insert({image:j.target.result}),f.default.sources.USER),R.quill.setSelection(A.index+1,f.default.sources.SILENT),W.value=""},J.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Z=function($){T(R,$);function R(W,J){O(this,R);var j=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,W,J));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(R,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(j){p.default.match(j,"enter")?(J.save(),j.preventDefault()):p.default.match(j,"escape")&&(J.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,f.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":J=z(J);case"formula":{if(!J)break;var A=this.quill.getSelection(!0);if(A!=null){var q=A.index+A.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),J,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",f.default.sources.USER),this.quill.setSelection(q+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(S.default);function z($){var R=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":$}function N($,R){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(J){var j=document.createElement("option");J===W?j.setAttribute("selected","selected"):j.setAttribute("value",J),$.appendChild(j)})}r.BaseTooltip=Z,r.default=re},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var d=u.length();if(a<d||l&&a===d&&(u.next==null||u.next.length()!==0))return[u,a];a-=d}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),d=c[0],f=c[1],h,p=a-f,m=this.iterator(d);(h=m())&&p<a+l;){var _=h.length();a>p?u(h,a-p,Math.min(l,p+_-a)):u(h,0,Math.min(_,a+l-p)),p+=_}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(d){o(f,d);function f(h){var p=d.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(m){p.update(m)}),p.observer.observe(p.domNode,l),p.attach(),p}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(m){m.remove()}):d.prototype.deleteAt.call(this,h,p)},f.prototype.formatAt=function(h,p,m,_){this.update(),d.prototype.formatAt.call(this,h,p,m,_)},f.prototype.insertAt=function(h,p,m){this.update(),d.prototype.insertAt.call(this,h,p,m)},f.prototype.optimize=function(h,p){var m=this;h===void 0&&(h=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)h.push(_.pop());for(var v=function(w,P){P===void 0&&(P=!0),!(w==null||w===m)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),P&&v(w.parent))},y=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof s.default&&w.children.forEach(y),w.optimize(p))},b=h,g=0;b.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var P=a.find(w.target,!0);P!=null&&(P.domNode===w.target&&(w.type==="childList"?(v(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(k){var S=a.find(k,!1);v(S,!1),S instanceof s.default&&S.children.forEach(function(D){v(D,!1)})})):w.type==="attributes"&&v(P.prev)),v(P))}),this.children.forEach(y),b=[].slice.call(this.observer.takeRecords()),_=b.slice();_.length>0;)h.push(_.pop())}},f.prototype.update=function(h,p){var m=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(_){var v=a.find(_.target,!0);return v==null?null:v.domNode[a.DATA_KEY].mutations==null?(v.domNode[a.DATA_KEY].mutations=[_],v):(v.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===m||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(h,p)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){c(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var f in c)if(c[f]!==d[f])return!1;return!0}var u=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return c.formats.call(this,f)},d.prototype.format=function(f,h){var p=this;f===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(d.blotName,!0)),p.attributes.copy(m)}),this.unwrap()):c.prototype.format.call(this,f,h)},d.prototype.formatAt=function(f,h,p,m){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var _=this.isolate(f,h);_.format(p,m)}else c.prototype.formatAt.call(this,f,h,p,m)},d.prototype.optimize=function(f){c.prototype.optimize.call(this,f);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&l(h,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){var f=a.query(c.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},c.prototype.format=function(d,f){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(c.blotName):u.prototype.format.call(this,d,f))},c.prototype.formatAt=function(d,f,h,p){a.query(h,a.Scope.BLOCK)!=null?this.format(h,p):u.prototype.formatAt.call(this,d,f,h,p)},c.prototype.insertAt=function(d,f,h){if(h==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,h);else{var p=this.split(d),m=a.create(f,h);p.parent.insertBefore(m,p)}},c.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,d){l.prototype.formatAt.call(this,0,this.length(),c,d)},u.prototype.formatAt=function(c,d,f,h){c===0&&d===this.length()?this.format(f,h):l.prototype.formatAt.call(this,c,d,f,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},c.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},c.prototype.index=function(d,f){return this.domNode===d?f:-1},c.prototype.insertAt=function(d,f,h){h==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,h)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,f){return[this.domNode,d]},c.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var h=a.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},c.prototype.update=function(d,f){var h=this;d.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,d=arguments[1],f,h=0;h<c;h++)if(f=u[h],l.call(d,f,h,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,w,P){if(g==w)return g?[[s,g]]:[];(P<0||g.length<P)&&(P=null);var k=d(g,w),S=g.substring(0,k);g=g.substring(k),w=w.substring(k),k=f(g,w);var D=g.substring(g.length-k);g=g.substring(0,g.length-k),w=w.substring(0,w.length-k);var O=l(g,w);return S&&O.unshift([s,S]),D&&O.push([s,D]),p(O),P!=null&&(O=v(O,P)),O=y(O),O}function l(g,w){var P;if(!g)return[[o,w]];if(!w)return[[i,g]];var k=g.length>w.length?g:w,S=g.length>w.length?w:g,D=k.indexOf(S);if(D!=-1)return P=[[o,k.substring(0,D)],[s,S],[o,k.substring(D+S.length)]],g.length>w.length&&(P[0][0]=P[2][0]=i),P;if(S.length==1)return[[i,g],[o,w]];var O=h(g,w);if(O){var E=O[0],T=O[1],C=O[2],F=O[3],M=O[4],V=a(E,C),U=a(T,F);return V.concat([[s,M]],U)}return u(g,w)}function u(g,w){for(var P=g.length,k=w.length,S=Math.ceil((P+k)/2),D=S,O=2*S,E=new Array(O),T=new Array(O),C=0;C<O;C++)E[C]=-1,T[C]=-1;E[D+1]=0,T[D+1]=0;for(var F=P-k,M=F%2!=0,V=0,U=0,re=0,Z=0,z=0;z<S;z++){for(var N=-z+V;N<=z-U;N+=2){var $=D+N,R;N==-z||N!=z&&E[$-1]<E[$+1]?R=E[$+1]:R=E[$-1]+1;for(var W=R-N;R<P&&W<k&&g.charAt(R)==w.charAt(W);)R++,W++;if(E[$]=R,R>P)U+=2;else if(W>k)V+=2;else if(M){var J=D+F-N;if(J>=0&&J<O&&T[J]!=-1){var j=P-T[J];if(R>=j)return c(g,w,R,W)}}}for(var A=-z+re;A<=z-Z;A+=2){var J=D+A,j;A==-z||A!=z&&T[J-1]<T[J+1]?j=T[J+1]:j=T[J-1]+1;for(var q=j-A;j<P&&q<k&&g.charAt(P-j-1)==w.charAt(k-q-1);)j++,q++;if(T[J]=j,j>P)Z+=2;else if(q>k)re+=2;else if(!M){var $=D+F-A;if($>=0&&$<O&&E[$]!=-1){var R=E[$],W=D+R-$;if(j=P-j,R>=j)return c(g,w,R,W)}}}}return[[i,g],[o,w]]}function c(g,w,P,k){var S=g.substring(0,P),D=w.substring(0,k),O=g.substring(P),E=w.substring(k),T=a(S,D),C=a(O,E);return T.concat(C)}function d(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var P=0,k=Math.min(g.length,w.length),S=k,D=0;P<S;)g.substring(D,S)==w.substring(D,S)?(P=S,D=P):k=S,S=Math.floor((k-P)/2+P);return S}function f(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var P=0,k=Math.min(g.length,w.length),S=k,D=0;P<S;)g.substring(g.length-S,g.length-D)==w.substring(w.length-S,w.length-D)?(P=S,D=P):k=S,S=Math.floor((k-P)/2+P);return S}function h(g,w){var P=g.length>w.length?g:w,k=g.length>w.length?w:g;if(P.length<4||k.length*2<P.length)return null;function S(U,re,Z){for(var z=U.substring(Z,Z+Math.floor(U.length/4)),N=-1,$="",R,W,J,j;(N=re.indexOf(z,N+1))!=-1;){var A=d(U.substring(Z),re.substring(N)),q=f(U.substring(0,Z),re.substring(0,N));$.length<q+A&&($=re.substring(N-q,N)+re.substring(N,N+A),R=U.substring(0,Z-q),W=U.substring(Z+A),J=re.substring(0,N-q),j=re.substring(N+A))}return $.length*2>=U.length?[R,W,J,j,$]:null}var D=S(P,k,Math.ceil(P.length/4)),O=S(P,k,Math.ceil(P.length/2)),E;if(!D&&!O)return null;O?D?E=D[4].length>O[4].length?D:O:E=O:E=D;var T,C,F,M;g.length>w.length?(T=E[0],C=E[1],F=E[2],M=E[3]):(F=E[0],M=E[1],T=E[2],C=E[3]);var V=E[4];return[T,C,F,M,V]}function p(g){g.push([s,""]);for(var w=0,P=0,k=0,S="",D="",O;w<g.length;)switch(g[w][0]){case o:k++,D+=g[w][1],w++;break;case i:P++,S+=g[w][1],w++;break;case s:P+k>1?(P!==0&&k!==0&&(O=d(D,S),O!==0&&(w-P-k>0&&g[w-P-k-1][0]==s?g[w-P-k-1][1]+=D.substring(0,O):(g.splice(0,0,[s,D.substring(0,O)]),w++),D=D.substring(O),S=S.substring(O)),O=f(D,S),O!==0&&(g[w][1]=D.substring(D.length-O)+g[w][1],D=D.substring(0,D.length-O),S=S.substring(0,S.length-O))),P===0?g.splice(w-k,P+k,[o,D]):k===0?g.splice(w-P,P+k,[i,S]):g.splice(w-P-k,P+k,[i,S],[o,D]),w=w-P-k+(P?1:0)+(k?1:0)+1):w!==0&&g[w-1][0]==s?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,k=0,P=0,S="",D="";break}g[g.length-1][1]===""&&g.pop();var E=!1;for(w=1;w<g.length-1;)g[w-1][0]==s&&g[w+1][0]==s&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),E=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),E=!0)),w++;E&&p(g)}var m=a;m.INSERT=o,m.DELETE=i,m.EQUAL=s,n.exports=m;function _(g,w){if(w===0)return[s,g];for(var P=0,k=0;k<g.length;k++){var S=g[k];if(S[0]===i||S[0]===s){var D=P+S[1].length;if(w===D)return[k+1,g];if(w<D){g=g.slice();var O=w-P,E=[S[0],S[1].slice(0,O)],T=[S[0],S[1].slice(O)];return g.splice(k,1,E,T),[k+1,g]}else P=D}}throw new Error("cursor_pos is out of bounds!")}function v(g,w){var P=_(g,w),k=P[1],S=P[0],D=k[S],O=k[S+1];if(D==null)return g;if(D[0]!==s)return g;if(O!=null&&D[1]+O[1]===O[1]+D[1])return k.splice(S,2,O,D),b(k,S,2);if(O!=null&&O[1].indexOf(D[1])===0){k.splice(S,2,[O[0],D[1]],[0,D[1]]);var E=O[1].slice(D[1].length);return E.length>0&&k.splice(S+2,0,[O[0],E]),b(k,S,3)}else return g}function y(g){for(var w=!1,P=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},k=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},S=2;S<g.length;S+=1)g[S-2][0]===s&&k(g[S-2][1])&&g[S-1][0]===i&&P(g[S-1][1])&&g[S][0]===o&&P(g[S][1])&&(w=!0,g[S-1][1]=g[S-2][1].slice(-1)+g[S-1][1],g[S][1]=g[S-2][1].slice(-1)+g[S][1],g[S-2][1]=g[S-2][1].slice(0,-1));if(!w)return g;for(var D=[],S=0;S<g.length;S+=1)g[S][1].length>0&&D.push(g[S]);return D}function b(g,w,P){for(var k=w+P-1;k>=0&&k>=w-1;k--)if(k+1<g.length){var S=g[k],D=g[k+1];S[0]===D[1]&&g.splice(k,2,[S[0],S[1]+D[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)i.call(d,f)&&c.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c,d){var f=o?o+c:c,h=this._events[f];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,_=new Array(m);p<m;p++)_[p]=h[p].fn;return _},l.prototype.emit=function(c,d,f,h,p,m){var _=o?o+c:c;if(!this._events[_])return!1;var v=this._events[_],y=arguments.length,b,g;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(g=1,b=new Array(y-1);g<y;g++)b[g-1]=arguments[g];v.fn.apply(v.context,b)}else{var w=v.length,P;for(g=0;g<w;g++)switch(v[g].once&&this.removeListener(c,v[g].fn,void 0,!0),y){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,d);break;case 3:v[g].fn.call(v[g].context,d,f);break;case 4:v[g].fn.call(v[g].context,d,f,h);break;default:if(!b)for(P=1,b=new Array(y-1);P<y;P++)b[P-1]=arguments[P];v[g].fn.apply(v[g].context,b)}}return!0},l.prototype.on=function(c,d,f){var h=new a(d,f||this),p=o?o+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.once=function(c,d,f){var h=new a(d,f||this,!0),p=o?o+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.removeListener=function(c,d,f,h){var p=o?o+c:c;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[p],this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[p]);else{for(var _=0,v=[],y=m.length;_<y;_++)(m[_].fn!==d||h&&!m[_].once||f&&m[_].context!==f)&&v.push(m[_]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[p]}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=o?o+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(ie,oe){var fe=[],te=!0,ye=!1,_e=void 0;try{for(var we=ie[Symbol.iterator](),Re;!(te=(Re=we.next()).done)&&(fe.push(Re.value),!(oe&&fe.length===oe));te=!0);}catch(Me){ye=!0,_e=Me}finally{try{!te&&we.return&&we.return()}finally{if(ye)throw _e}}return fe}return function(ie,oe){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return G(ie,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(ie,oe){for(var fe=0;fe<oe.length;fe++){var te=oe[fe];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(ie,te.key,te)}}return function(ie,oe,fe){return oe&&G(ie.prototype,oe),fe&&G(ie,fe),ie}}(),l=i(3),u=T(l),c=i(2),d=T(c),f=i(0),h=T(f),p=i(5),m=T(p),_=i(10),v=T(_),y=i(9),b=T(y),g=i(36),w=i(37),P=i(13),k=T(P),S=i(26),D=i(38),O=i(39),E=i(40);function T(G){return G&&G.__esModule?G:{default:G}}function C(G,ie,oe){return ie in G?Object.defineProperty(G,ie,{value:oe,enumerable:!0,configurable:!0,writable:!0}):G[ie]=oe,G}function F(G,ie){if(!(G instanceof ie))throw new TypeError("Cannot call a class as a function")}function M(G,ie){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:G}function V(G,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);G.prototype=Object.create(ie&&ie.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(G,ie):G.__proto__=ie)}var U=(0,v.default)("quill:clipboard"),re="__ql-matcher",Z=[[Node.TEXT_NODE,X],[Node.TEXT_NODE,Y],["br",ue],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,de],["li",L],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",Q]],z=[g.AlignAttribute,D.DirectionAttribute].reduce(function(G,ie){return G[ie.keyName]=ie,G},{}),N=[g.AlignStyle,w.BackgroundStyle,S.ColorStyle,D.DirectionStyle,O.FontStyle,E.SizeStyle].reduce(function(G,ie){return G[ie.keyName]=ie,G},{}),$=function(G){V(ie,G);function ie(oe,fe){F(this,ie);var te=M(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,oe,fe));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],Z.concat(te.options.matchers).forEach(function(ye){var _e=s(ye,2),we=_e[0],Re=_e[1];!fe.matchVisual&&Re===K||te.addMatcher(we,Re)}),te}return a(ie,[{key:"addMatcher",value:function(fe,te){this.matchers.push([fe,te])}},{key:"convert",value:function(fe){if(typeof fe=="string")return this.container.innerHTML=fe.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[k.default.blotName]){var ye=this.container.innerText;return this.container.innerHTML="",new d.default().insert(ye,C({},k.default.blotName,te[k.default.blotName]))}var _e=this.prepareMatching(),we=s(_e,2),Re=we[0],Me=we[1],De=A(this.container,Re,Me);return J(De,`
`)&&De.ops[De.ops.length-1].attributes==null&&(De=De.compose(new d.default().retain(De.length()-1).delete(1))),U.log("convert",this.container.innerHTML,De),this.container.innerHTML="",De}},{key:"dangerouslyPasteHTML",value:function(fe,te){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof fe=="string")this.quill.setContents(this.convert(fe),te),this.quill.setSelection(0,m.default.sources.SILENT);else{var _e=this.convert(te);this.quill.updateContents(new d.default().retain(fe).concat(_e),ye),this.quill.setSelection(fe+_e.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(fe){var te=this;if(!(fe.defaultPrevented||!this.quill.isEnabled())){var ye=this.quill.getSelection(),_e=new d.default().retain(ye.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){_e=_e.concat(te.convert()).delete(ye.length),te.quill.updateContents(_e,m.default.sources.USER),te.quill.setSelection(_e.length()-ye.length,m.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=we,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var fe=this,te=[],ye=[];return this.matchers.forEach(function(_e){var we=s(_e,2),Re=we[0],Me=we[1];switch(Re){case Node.TEXT_NODE:ye.push(Me);break;case Node.ELEMENT_NODE:te.push(Me);break;default:[].forEach.call(fe.container.querySelectorAll(Re),function(De){De[re]=De[re]||[],De[re].push(Me)});break}}),[te,ye]}}]),ie}(b.default);$.DEFAULTS={matchers:[],matchVisual:!0};function R(G,ie,oe){return(typeof ie>"u"?"undefined":o(ie))==="object"?Object.keys(ie).reduce(function(fe,te){return R(fe,te,ie[te])},G):G.reduce(function(fe,te){return te.attributes&&te.attributes[ie]?fe.push(te):fe.insert(te.insert,(0,u.default)({},C({},ie,oe),te.attributes))},new d.default)}function W(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var ie="__ql-computed-style";return G[ie]||(G[ie]=window.getComputedStyle(G))}function J(G,ie){for(var oe="",fe=G.ops.length-1;fe>=0&&oe.length<ie.length;--fe){var te=G.ops[fe];if(typeof te.insert!="string")break;oe=te.insert+oe}return oe.slice(-1*ie.length)===ie}function j(G){if(G.childNodes.length===0)return!1;var ie=W(G);return["block","list-item"].indexOf(ie.display)>-1}function A(G,ie,oe){return G.nodeType===G.TEXT_NODE?oe.reduce(function(fe,te){return te(G,fe)},new d.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(fe,te){var ye=A(te,ie,oe);return te.nodeType===G.ELEMENT_NODE&&(ye=ie.reduce(function(_e,we){return we(te,_e)},ye),ye=(te[re]||[]).reduce(function(_e,we){return we(te,_e)},ye)),fe.concat(ye)},new d.default):new d.default}function q(G,ie,oe){return R(oe,G,!0)}function B(G,ie){var oe=h.default.Attributor.Attribute.keys(G),fe=h.default.Attributor.Class.keys(G),te=h.default.Attributor.Style.keys(G),ye={};return oe.concat(fe).concat(te).forEach(function(_e){var we=h.default.query(_e,h.default.Scope.ATTRIBUTE);we!=null&&(ye[we.attrName]=we.value(G),ye[we.attrName])||(we=z[_e],we!=null&&(we.attrName===_e||we.keyName===_e)&&(ye[we.attrName]=we.value(G)||void 0),we=N[_e],we!=null&&(we.attrName===_e||we.keyName===_e)&&(we=N[_e],ye[we.attrName]=we.value(G)||void 0))}),Object.keys(ye).length>0&&(ie=R(ie,ye)),ie}function ne(G,ie){var oe=h.default.query(G);if(oe==null)return ie;if(oe.prototype instanceof h.default.Embed){var fe={},te=oe.value(G);te!=null&&(fe[oe.blotName]=te,ie=new d.default().insert(fe,oe.formats(G)))}else typeof oe.formats=="function"&&(ie=R(ie,oe.blotName,oe.formats(G)));return ie}function ue(G,ie){return J(ie,`
`)||ie.insert(`
`),ie}function Q(){return new d.default}function L(G,ie){var oe=h.default.query(G);if(oe==null||oe.blotName!=="list-item"||!J(ie,`
`))return ie;for(var fe=-1,te=G.parentNode;!te.classList.contains("ql-clipboard");)(h.default.query(te)||{}).blotName==="list"&&(fe+=1),te=te.parentNode;return fe<=0?ie:ie.compose(new d.default().retain(ie.length()-1).retain(1,{indent:fe}))}function Y(G,ie){return J(ie,`
`)||(j(G)||ie.length()>0&&G.nextSibling&&j(G.nextSibling))&&ie.insert(`
`),ie}function K(G,ie){if(j(G)&&G.nextElementSibling!=null&&!J(ie,`

`)){var oe=G.offsetHeight+parseFloat(W(G).marginTop)+parseFloat(W(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+oe*1.5&&ie.insert(`
`)}return ie}function de(G,ie){var oe={},fe=G.style||{};return fe.fontStyle&&W(G).fontStyle==="italic"&&(oe.italic=!0),fe.fontWeight&&(W(G).fontWeight.startsWith("bold")||parseInt(W(G).fontWeight)>=700)&&(oe.bold=!0),Object.keys(oe).length>0&&(ie=R(ie,oe)),parseFloat(fe.textIndent||0)>0&&(ie=new d.default().insert("	").concat(ie)),ie}function X(G,ie){var oe=G.data;if(G.parentNode.tagName==="O:P")return ie.insert(oe.trim());if(oe.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return ie;if(!W(G.parentNode).whiteSpace.startsWith("pre")){var fe=function(ye,_e){return _e=_e.replace(/[^\u00a0]/g,""),_e.length<1&&ye?" ":_e};oe=oe.replace(/\r\n/g," ").replace(/\n/g," "),oe=oe.replace(/\s\s+/g,fe.bind(fe,!0)),(G.previousSibling==null&&j(G.parentNode)||G.previousSibling!=null&&j(G.previousSibling))&&(oe=oe.replace(/^\s+/,fe.bind(fe,!1))),(G.nextSibling==null&&j(G.parentNode)||G.nextSibling!=null&&j(G.nextSibling))&&(oe=oe.replace(/\s+$/,fe.bind(fe,!1)))}return ie.insert(oe)}r.default=$,r.matchAttributor=B,r.matchBlot=ne,r.matchNewline=Y,r.matchSpacing=K,r.matchText=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),s=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"optimize",value:function(v){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function E(T,C){var F=[],M=!0,V=!1,U=void 0;try{for(var re=T[Symbol.iterator](),Z;!(M=(Z=re.next()).done)&&(F.push(Z.value),!(C&&F.length===C));M=!0);}catch(z){V=!0,U=z}finally{try{!M&&re.return&&re.return()}finally{if(V)throw U}}return F}return function(T,C){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(T,C){for(var F=0;F<C.length;F++){var M=C[F];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,C,F){return C&&E(T.prototype,C),F&&E(T,F),T}}(),a=i(2),l=v(a),u=i(0),c=v(u),d=i(5),f=v(d),h=i(10),p=v(h),m=i(9),_=v(m);function v(E){return E&&E.__esModule?E:{default:E}}function y(E,T,C){return T in E?Object.defineProperty(E,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[T]=C,E}function b(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function g(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function w(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var P=(0,p.default)("quill:toolbar"),k=function(E){w(T,E);function T(C,F){b(this,T);var M=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,C,F));if(Array.isArray(M.options.container)){var V=document.createElement("div");D(V,M.options.container),C.container.parentNode.insertBefore(V,C.container),M.container=V}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var U;return U=P.error("Container required for toolbar",M.options),g(M,U)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(re){M.addHandler(re,M.options.handlers[re])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(re){M.attach(re)}),M.quill.on(f.default.events.EDITOR_CHANGE,function(re,Z){re===f.default.events.SELECTION_CHANGE&&M.update(Z)}),M.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var re=M.quill.selection.getRange(),Z=o(re,1),z=Z[0];M.update(z)}),M}return s(T,[{key:"addHandler",value:function(F,M){this.handlers[F]=M}},{key:"attach",value:function(F){var M=this,V=[].find.call(F.classList,function(re){return re.indexOf("ql-")===0});if(V){if(V=V.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){P.warn("ignoring attaching to disabled format",V,F);return}if(c.default.query(V)==null){P.warn("ignoring attaching to nonexistent format",V,F);return}}var U=F.tagName==="SELECT"?"change":"click";F.addEventListener(U,function(re){var Z=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var z=F.options[F.selectedIndex];z.hasAttribute("selected")?Z=!1:Z=z.value||!1}else F.classList.contains("ql-active")?Z=!1:Z=F.value||!F.hasAttribute("value"),re.preventDefault();M.quill.focus();var N=M.quill.selection.getRange(),$=o(N,1),R=$[0];if(M.handlers[V]!=null)M.handlers[V].call(M,Z);else if(c.default.query(V).prototype instanceof c.default.Embed){if(Z=prompt("Enter "+V),!Z)return;M.quill.updateContents(new l.default().retain(R.index).delete(R.length).insert(y({},V,Z)),f.default.sources.USER)}else M.quill.format(V,Z,f.default.sources.USER);M.update(R)}),this.controls.push([V,F])}}},{key:"update",value:function(F){var M=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(V){var U=o(V,2),re=U[0],Z=U[1];if(Z.tagName==="SELECT"){var z=void 0;if(F==null)z=null;else if(M[re]==null)z=Z.querySelector("option[selected]");else if(!Array.isArray(M[re])){var N=M[re];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),z=Z.querySelector('option[value="'+N+'"]')}z==null?(Z.value="",Z.selectedIndex=-1):z.selected=!0}else if(F==null)Z.classList.remove("ql-active");else if(Z.hasAttribute("value")){var $=M[re]===Z.getAttribute("value")||M[re]!=null&&M[re].toString()===Z.getAttribute("value")||M[re]==null&&!Z.getAttribute("value");Z.classList.toggle("ql-active",$)}else Z.classList.toggle("ql-active",M[re]!=null)})}}]),T}(_.default);k.DEFAULTS={};function S(E,T,C){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+T),C!=null&&(F.value=C),E.appendChild(F)}function D(E,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(C){var F=document.createElement("span");F.classList.add("ql-formats"),C.forEach(function(M){if(typeof M=="string")S(F,M);else{var V=Object.keys(M)[0],U=M[V];Array.isArray(U)?O(F,V,U):S(F,V,U)}}),E.appendChild(F)})}function O(E,T,C){var F=document.createElement("select");F.classList.add("ql-"+T),C.forEach(function(M){var V=document.createElement("option");M!==!1?V.setAttribute("value",M):V.setAttribute("selected","selected"),F.appendChild(V)}),E.appendChild(F)}k.DEFAULTS={container:null,handlers:{clean:function(){var T=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(M){c.default.query(M,c.default.Scope.INLINE)!=null&&T.quill.format(M,!1)})}else this.quill.removeFormat(C,f.default.sources.USER)},direction:function(T){var C=this.quill.getFormat().align;T==="rtl"&&C==null?this.quill.format("align","right",f.default.sources.USER):!T&&C==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",T,f.default.sources.USER)},indent:function(T){var C=this.quill.getSelection(),F=this.quill.getFormat(C),M=parseInt(F.indent||0);if(T==="+1"||T==="-1"){var V=T==="+1"?1:-1;F.direction==="rtl"&&(V*=-1),this.quill.format("indent",M+V,f.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,f.default.sources.USER)},list:function(T){var C=this.quill.getSelection(),F=this.quill.getFormat(C);T==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",T,f.default.sources.USER)}}},r.default=k,r.addControls=D},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),s=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(_,v){c(this,m);var y=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return y.label.innerHTML=v,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),y}return o(m,[{key:"buildItem",value:function(v){var y=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,v);return y.style.backgroundColor=v.getAttribute("value")||"",y}},{key:"selectItem",value:function(v,y){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,y);var b=this.label.querySelector(".ql-color-label"),g=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=g:b.style.fill=g)}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),s=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(_,v){c(this,m);var y=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return o(m,[{key:"selectItem",value:function(v,y){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,y),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var d=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,f=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),m=0;if(p.right>h.right&&(m=h.right-p.right,this.root.style.left=d+m+"px"),p.left<h.left&&(m=h.left-p.left,this.root.style.left=d+m+"px"),p.bottom>h.bottom){var _=p.bottom-p.top,v=c.bottom-c.top+_;this.root.style.top=f-v+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function O(E,T){var C=[],F=!0,M=!1,V=void 0;try{for(var U=E[Symbol.iterator](),re;!(F=(re=U.next()).done)&&(C.push(re.value),!(T&&C.length===T));F=!0);}catch(Z){M=!0,V=Z}finally{try{!F&&U.return&&U.return()}finally{if(M)throw V}}return C}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return O(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function O(E,T,C){E===null&&(E=Function.prototype);var F=Object.getOwnPropertyDescriptor(E,T);if(F===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:O(M,T,C)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(C)}},a=function(){function O(E,T){for(var C=0;C<T.length;C++){var F=T[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}}return function(E,T,C){return T&&O(E.prototype,T),C&&O(E,C),E}}(),l=i(3),u=b(l),c=i(8),d=b(c),f=i(43),h=b(f),p=i(27),m=b(p),_=i(15),v=i(41),y=b(v);function b(O){return O&&O.__esModule?O:{default:O}}function g(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}function w(O,E){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:O}function P(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(O,E):O.__proto__=E)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(O){P(E,O);function E(T,C){g(this,E),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=k);var F=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,C));return F.quill.container.classList.add("ql-snow"),F}return a(E,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default),this.tooltip=new D(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,M){C.handlers.link.call(C,!M.format.link)})}}]),E}(h.default);S.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var T=this.quill.getSelection();if(T==null||T.length==0)return;var C=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var F=this.quill.theme.tooltip;F.edit("link",C)}else this.quill.format("link",!1)}}}}});var D=function(O){P(E,O);function E(T,C){g(this,E);var F=w(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,T,C));return F.preview=F.root.querySelector("a.ql-preview"),F}return a(E,[{key:"listen",value:function(){var C=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(C.linkRange!=null){var M=C.linkRange;C.restoreFocus(),C.quill.formatText(M,"link",!1,d.default.sources.USER),delete C.linkRange}F.preventDefault(),C.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(F,M,V){if(F!=null){if(F.length===0&&V===d.default.sources.USER){var U=C.quill.scroll.descendant(m.default,F.index),re=o(U,2),Z=re[0],z=re[1];if(Z!=null){C.linkRange=new _.Range(F.index-z,Z.length());var N=m.default.formats(Z.domNode);C.preview.textContent=N,C.preview.setAttribute("href",N),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(f.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=te(o),a=i(36),l=i(38),u=i(64),c=i(65),d=te(c),f=i(66),h=te(f),p=i(67),m=te(p),_=i(37),v=i(26),y=i(39),b=i(40),g=i(56),w=te(g),P=i(68),k=te(P),S=i(27),D=te(S),O=i(69),E=te(O),T=i(70),C=te(T),F=i(71),M=te(F),V=i(72),U=te(V),re=i(73),Z=te(re),z=i(13),N=te(z),$=i(74),R=te($),W=i(75),J=te(W),j=i(57),A=te(j),q=i(41),B=te(q),ne=i(28),ue=te(ne),Q=i(59),L=te(Q),Y=i(60),K=te(Y),de=i(61),X=te(de),G=i(108),ie=te(G),oe=i(62),fe=te(oe);function te(ye){return ye&&ye.__esModule?ye:{default:ye}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":y.FontClass,"formats/size":b.SizeClass,"formats/blockquote":d.default,"formats/code-block":N.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":w.default,"formats/code":z.Code,"formats/italic":k.default,"formats/link":D.default,"formats/script":E.default,"formats/strike":C.default,"formats/underline":M.default,"formats/image":U.default,"formats/video":Z.default,"formats/list/item":p.ListItem,"modules/formula":R.default,"modules/syntax":J.default,"modules/toolbar":A.default,"themes/bubble":ie.default,"themes/snow":fe.default,"ui/icons":B.default,"ui/picker":ue.default,"ui/icon-picker":K.default,"ui/color-picker":L.default,"ui/tooltip":X.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function m(_,v){for(var y=0;y<v.length;y++){var b=v[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,v,y){return v&&m(_.prototype,v),y&&m(_,y),_}}(),s=function m(_,v,y){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,v);if(b===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:m(g,v,y)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(y)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function d(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var h=function(m){f(_,m);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(y,b){if(b==="+1"||b==="-1"){var g=this.value(y)||0;b=b==="+1"?g+1:g-1}return b===0?(this.remove(y),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,y,b)}},{key:"canAdd",value:function(y,b){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,y,b)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,y,parseInt(b))}},{key:"value",value:function(y){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,y))||void 0}}]),_}(l.default.Attributor.Class),p=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(p,m){for(var _=0;_<m.length;_++){var v=m[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,_){return m&&h(p.prototype,m),_&&h(p,_),p}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),p}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(w,P){for(var k=0;k<P.length;k++){var S=P[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,P,k){return P&&g(w.prototype,P),k&&g(w,k),w}}(),s=function g(w,P,k){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,P);if(S===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:g(D,P,k)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(k)}},a=i(0),l=h(a),u=i(4),c=h(u),d=i(25),f=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function p(g,w,P){return w in g?Object.defineProperty(g,w,{value:P,enumerable:!0,configurable:!0,writable:!0}):g[w]=P,g}function m(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function _(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function v(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var y=function(g){v(w,g);function w(){return m(this,w),_(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(k,S){k===b.blotName&&!S?this.replaceWith(l.default.create(this.statics.scope)):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,S){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,S),this):(this.parent.unwrap(),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,k,S))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:s(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,k)}}]),w}(c.default);y.blotName="list-item",y.tagName="LI";var b=function(g){v(w,g),o(w,null,[{key:"create",value:function(k){var S=k==="ordered"?"OL":"UL",D=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,S);return(k==="checked"||k==="unchecked")&&D.setAttribute("data-checked",k==="checked"),D}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(P){m(this,w);var k=_(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,P)),S=function(O){if(O.target.parentNode===P){var E=k.statics.formats(P),T=l.default.find(O.target);E==="checked"?T.format("list","unchecked"):E==="unchecked"&&T.format("list","checked")}};return P.addEventListener("touchstart",S),P.addEventListener("mousedown",S),k}return o(w,[{key:"format",value:function(k,S){this.children.length>0&&this.children.tail.format(k,S)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,S){if(k instanceof y)s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,k,S);else{var D=S==null?this.length():S.offset(this),O=this.split(D);O.parent.insertBefore(k,O)}}},{key:"optimize",value:function(k){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,k);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var S=l.default.create(this.statics.defaultChild);k.moveChildren(S),this.appendChild(S)}s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,k)}}]),w}(f.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[y],r.ListItem=y,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,_,v){return _&&p(m.prototype,_),v&&p(m,v),m}}(),s=function p(m,_,v){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,_);if(y===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,_,v)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),m}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),s=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var P=g.get;return P===void 0?void 0:P.call(b)}},a=i(0),l=c(a),u=i(27);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function f(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function h(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=["alt","height","width"],m=function(_){h(v,_);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,y,b){return y&&_(v.prototype,y),b&&_(v,b),v}}(),s=function _(v,y,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,y);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:_(w,y,b)}else{if("value"in g)return g.value;var P=g.get;return P===void 0?void 0:P.call(b)}},a=i(4),l=i(27),u=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function f(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function h(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p=["height","width"],m=function(_){h(v,_);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(g,w){for(var P=0;P<w.length;P++){var k=w[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,w,P){return w&&b(g.prototype,w),P&&b(g,P),g}}(),s=function b(g,w,P){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,w);if(k===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:b(S,w,P)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(P)}},a=i(35),l=h(a),u=i(5),c=h(u),d=i(9),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function m(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function _(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var v=function(b){_(g,b);function g(){return p(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(P){var k=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,P);return typeof P=="string"&&(window.katex.render(P,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",P)),k}},{key:"value",value:function(P){return P.getAttribute("data-value")}}]),g}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var y=function(b){_(g,b),o(g,null,[{key:"register",value:function(){c.default.register(v,!0)}}]);function g(){p(this,g);var w=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(f.default);r.FormulaBlot=v,r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function P(k,S){for(var D=0;D<S.length;D++){var O=S[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,S,D){return S&&P(k.prototype,S),D&&P(k,D),k}}(),s=function P(k,S,D){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,S);if(O===void 0){var E=Object.getPrototypeOf(k);return E===null?void 0:P(E,S,D)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(D)}},a=i(0),l=m(a),u=i(5),c=m(u),d=i(9),f=m(d),h=i(13),p=m(h);function m(P){return P&&P.__esModule?P:{default:P}}function _(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function v(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:P}function y(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}var b=function(P){y(k,P);function k(){return _(this,k),v(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),k}(p.default);b.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(P){y(k,P),o(k,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(b,!0)}}]);function k(S,D){_(this,k);var O=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,S,D));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return O.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){O.highlight(),E=null},O.options.interval)}),O.highlight(),O}return o(k,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(E){E.highlight(D.options.highlight)}),this.quill.update(c.default.sources.SILENT),O!=null&&this.quill.setSelection(O,c.default.sources.SILENT)}}}]),k}(f.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(P){var k=window.hljs.highlightAuto(P);return k.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function k(S,D,O){S===null&&(S=Function.prototype);var E=Object.getOwnPropertyDescriptor(S,D);if(E===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:k(T,D,O)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(O)}},s=function(){function k(S,D){for(var O=0;O<D.length;O++){var E=D[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,D,O){return D&&k(S.prototype,D),O&&k(S,O),S}}(),a=i(3),l=_(a),u=i(8),c=_(u),d=i(43),f=_(d),h=i(15),p=i(41),m=_(p);function _(k){return k&&k.__esModule?k:{default:k}}function v(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function y(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function b(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(k){b(S,k);function S(D,O){v(this,S),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=g);var E=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,D,O));return E.quill.container.classList.add("ql-bubble"),E}return s(S,[{key:"extendToolbar",value:function(O){this.tooltip=new P(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),m.default)}}]),S}(f.default);w.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var P=function(k){b(S,k);function S(D,O){v(this,S);var E=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,D,O));return E.quill.on(c.default.events.EDITOR_CHANGE,function(T,C,F,M){if(T===c.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&M===c.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var V=E.quill.getLines(C.index,C.length);if(V.length===1)E.position(E.quill.getBounds(C));else{var U=V[V.length-1],re=E.quill.getIndex(U),Z=Math.min(U.length()-1,C.index+C.length-re),z=E.quill.getBounds(new h.Range(re,Z));E.position(z)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return s(S,[{key:"listen",value:function(){var O=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var E=O.quill.getSelection();E!=null&&O.position(O.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var E=o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,O),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",E===0)return E;T.style.marginLeft=-1*E-T.offsetWidth/2+"px"}}]),S}(d.BaseTooltip);P.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=P,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(iA);var j9=iA.exports;const tp=rA(j9);var ii=-1,Sr=1,Qn=0;function Jl(t,e,n,r){if(t===e)return t?[[Qn,t]]:[];if(n!=null){var i=z9(t,e,n);if(i)return i}var o=gv(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=vv(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var l=B9(t,e);return s&&l.unshift([Qn,s]),a&&l.push([Qn,a]),oA(l,r),l}function B9(t,e){var n;if(!t)return[[Sr,e]];if(!e)return[[ii,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=r.indexOf(i);if(o!==-1)return n=[[Sr,r.substring(0,o)],[Qn,i],[Sr,r.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=ii),n;if(i.length===1)return[[ii,t],[Sr,e]];var s=q9(t,e);if(s){var a=s[0],l=s[1],u=s[2],c=s[3],d=s[4],f=Jl(a,u),h=Jl(l,c);return f.concat([[Qn,d]],h)}return U9(t,e)}function U9(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=i,s=2*i,a=new Array(s),l=new Array(s),u=0;u<s;u++)a[u]=-1,l[u]=-1;a[o+1]=0,l[o+1]=0;for(var c=n-r,d=c%2!==0,f=0,h=0,p=0,m=0,_=0;_<i;_++){for(var v=-_+f;v<=_-h;v+=2){var y=o+v,b;v===-_||v!==_&&a[y-1]<a[y+1]?b=a[y+1]:b=a[y-1]+1;for(var g=b-v;b<n&&g<r&&t.charAt(b)===e.charAt(g);)b++,g++;if(a[y]=b,b>n)h+=2;else if(g>r)f+=2;else if(d){var w=o+c-v;if(w>=0&&w<s&&l[w]!==-1){var P=n-l[w];if(b>=P)return j_(t,e,b,g)}}}for(var k=-_+p;k<=_-m;k+=2){var w=o+k,P;k===-_||k!==_&&l[w-1]<l[w+1]?P=l[w+1]:P=l[w-1]+1;for(var S=P-k;P<n&&S<r&&t.charAt(n-P-1)===e.charAt(r-S-1);)P++,S++;if(l[w]=P,P>n)m+=2;else if(S>r)p+=2;else if(!d){var y=o+c-k;if(y>=0&&y<s&&a[y]!==-1){var b=a[y],g=o+b-y;if(P=n-P,b>=P)return j_(t,e,b,g)}}}}return[[ii,t],[Sr,e]]}function j_(t,e,n,r){var i=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),a=e.substring(r),l=Jl(i,o),u=Jl(s,a);return l.concat(u)}function gv(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return sA(t.charCodeAt(i-1))&&i--,i}function vv(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return aA(t.charCodeAt(t.length-i))&&i--,i}function q9(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,p,m){for(var _=h.substring(m,m+Math.floor(h.length/4)),v=-1,y="",b,g,w,P;(v=p.indexOf(_,v+1))!==-1;){var k=gv(h.substring(m),p.substring(v)),S=vv(h.substring(0,m),p.substring(0,v));y.length<S+k&&(y=p.substring(v-S,v)+p.substring(v,v+k),b=h.substring(0,m-S),g=h.substring(m+k),w=p.substring(0,v-S),P=p.substring(v+k))}return y.length*2>=h.length?[b,g,w,P,y]:null}var o=i(n,r,Math.ceil(n.length/4)),s=i(n,r,Math.ceil(n.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var l,u,c,d;t.length>e.length?(l=a[0],u=a[1],c=a[2],d=a[3]):(c=a[0],d=a[1],l=a[2],u=a[3]);var f=a[4];return[l,u,c,d,f]}function oA(t,e){t.push([Qn,""]);for(var n=0,r=0,i=0,o="",s="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Sr:i++,s+=t[n][1],n++;break;case ii:r++,o+=t[n][1],n++;break;case Qn:var l=n-i-r-1;if(e){if(l>=0&&uA(t[l][1])){var u=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=u+o,s=u+s,!t[l][1]){t.splice(l,1),n--;var c=l-1;t[c]&&t[c][0]===Sr&&(i++,s=t[c][1]+s,c--),t[c]&&t[c][0]===ii&&(r++,o=t[c][1]+o,c--),l=c}}if(lA(t[n][1])){var u=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=u,s+=u}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=gv(s,o),a!==0&&(l>=0?t[l][1]+=s.substring(0,a):(t.splice(0,0,[Qn,s.substring(0,a)]),n++),s=s.substring(a),o=o.substring(a)),a=vv(s,o),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var d=i+r;o.length===0&&s.length===0?(t.splice(n-d,d),n=n-d):o.length===0?(t.splice(n-d,d,[Sr,s]),n=n-d+1):s.length===0?(t.splice(n-d,d,[ii,o]),n=n-d+1):(t.splice(n-d,d,[ii,o],[Sr,s]),n=n-d+2)}n!==0&&t[n-1][0]===Qn?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var f=!1;for(n=1;n<t.length-1;)t[n-1][0]===Qn&&t[n+1][0]===Qn&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),f=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),f=!0)),n++;f&&oA(t,e)}function sA(t){return t>=55296&&t<=56319}function aA(t){return t>=56320&&t<=57343}function lA(t){return aA(t.charCodeAt(0))}function uA(t){return sA(t.charCodeAt(t.length-1))}function H9(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function np(t,e,n,r){return uA(t)||lA(r)?null:H9([[Qn,t],[ii,e],[Sr,n],[Qn,r]])}function z9(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,s=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),u=t.slice(a),c=i?i.index:null;e:{var d=a+s-o;if(c!==null&&c!==d||d<0||d>s)break e;var f=e.slice(0,d),h=e.slice(d);if(h!==u)break e;var p=Math.min(a,d),m=l.slice(0,p),_=f.slice(0,p);if(m!==_)break e;var v=l.slice(p),y=f.slice(p);return np(m,v,y,u)}e:{if(c!==null&&c!==a)break e;var b=a,f=e.slice(0,b),h=e.slice(b);if(f!==l)break e;var g=Math.min(o-b,s-b),w=u.slice(u.length-g),P=h.slice(h.length-g);if(w!==P)break e;var v=u.slice(0,u.length-g),y=h.slice(0,h.length-g);return np(l,v,y,w)}}if(r.length>0&&i&&i.length===0)e:{var m=t.slice(0,r.index),w=t.slice(r.index+r.length),p=m.length,g=w.length;if(s<p+g)break e;var _=e.slice(0,p),P=e.slice(s-g);if(m!==_||w!==P)break e;var v=t.slice(p,o-g),y=e.slice(p,s-g);return np(m,v,y,w)}return null}function kf(t,e,n){return Jl(t,e,n,!0)}kf.INSERT=Sr;kf.DELETE=ii;kf.EQUAL=Qn;var K9=kf,ud={exports:{}};ud.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",_="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",g="[object WeakMap]",w="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",D="[object Int8Array]",O="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",F="[object Uint16Array]",M="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,U=/\w*$/,re=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,z={};z[o]=z[s]=z[w]=z[P]=z[a]=z[l]=z[k]=z[S]=z[D]=z[O]=z[E]=z[f]=z[h]=z[p]=z[_]=z[v]=z[y]=z[b]=z[T]=z[C]=z[F]=z[M]=!0,z[u]=z[c]=z[g]=!1;var N=typeof _n=="object"&&_n&&_n.Object===Object&&_n,$=typeof self=="object"&&self&&self.Object===Object&&self,R=N||$||Function("return this")(),W=e&&!e.nodeType&&e,J=W&&!0&&t&&!t.nodeType&&t,j=J&&J.exports===W;function A(x,H){return x.set(H[0],H[1]),x}function q(x,H){return x.add(H),x}function B(x,H){for(var se=-1,ve=x?x.length:0;++se<ve&&H(x[se],se,x)!==!1;);return x}function ne(x,H){for(var se=-1,ve=H.length,Xe=x.length;++se<ve;)x[Xe+se]=H[se];return x}function ue(x,H,se,ve){for(var Xe=-1,Ve=x?x.length:0;++Xe<Ve;)se=H(se,x[Xe],Xe,x);return se}function Q(x,H){for(var se=-1,ve=Array(x);++se<x;)ve[se]=H(se);return ve}function L(x,H){return x==null?void 0:x[H]}function Y(x){var H=!1;if(x!=null&&typeof x.toString!="function")try{H=!!(x+"")}catch{}return H}function K(x){var H=-1,se=Array(x.size);return x.forEach(function(ve,Xe){se[++H]=[Xe,ve]}),se}function de(x,H){return function(se){return x(H(se))}}function X(x){var H=-1,se=Array(x.size);return x.forEach(function(ve){se[++H]=ve}),se}var G=Array.prototype,ie=Function.prototype,oe=Object.prototype,fe=R["__core-js_shared__"],te=function(){var x=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),ye=ie.toString,_e=oe.hasOwnProperty,we=oe.toString,Re=RegExp("^"+ye.call(_e).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=j?R.Buffer:void 0,De=R.Symbol,tt=R.Uint8Array,$e=de(Object.getPrototypeOf,Object),mt=Object.create,$n=oe.propertyIsEnumerable,Hr=G.splice,Vn=Object.getOwnPropertySymbols,rr=Me?Me.isBuffer:void 0,ce=de(Object.keys,Object),be=Tr(R,"DataView"),me=Tr(R,"Map"),ke=Tr(R,"Promise"),Ie=Tr(R,"Set"),Ft=Tr(R,"WeakMap"),zt=Tr(Object,"create"),ir=Fn(be),hr=Fn(me),wr=Fn(ke),Kn=Fn(Ie),pi=Fn(Ft),zr=De?De.prototype:void 0,Au=zr?zr.valueOf:void 0;function mi(x){var H=-1,se=x?x.length:0;for(this.clear();++H<se;){var ve=x[H];this.set(ve[0],ve[1])}}function Af(){this.__data__=zt?zt(null):{}}function xf(x){return this.has(x)&&delete this.__data__[x]}function If(x){var H=this.__data__;if(zt){var se=H[x];return se===r?void 0:se}return _e.call(H,x)?H[x]:void 0}function xu(x){var H=this.__data__;return zt?H[x]!==void 0:_e.call(H,x)}function Oa(x,H){var se=this.__data__;return se[x]=zt&&H===void 0?r:H,this}mi.prototype.clear=Af,mi.prototype.delete=xf,mi.prototype.get=If,mi.prototype.has=xu,mi.prototype.set=Oa;function fn(x){var H=-1,se=x?x.length:0;for(this.clear();++H<se;){var ve=x[H];this.set(ve[0],ve[1])}}function Sf(){this.__data__=[]}function Rf(x){var H=this.__data__,se=Ts(H,x);if(se<0)return!1;var ve=H.length-1;return se==ve?H.pop():Hr.call(H,se,1),!0}function Of(x){var H=this.__data__,se=Ts(H,x);return se<0?void 0:H[se][1]}function Pf(x){return Ts(this.__data__,x)>-1}function Cf(x,H){var se=this.__data__,ve=Ts(se,x);return ve<0?se.push([x,H]):se[ve][1]=H,this}fn.prototype.clear=Sf,fn.prototype.delete=Rf,fn.prototype.get=Of,fn.prototype.has=Pf,fn.prototype.set=Cf;function kn(x){var H=-1,se=x?x.length:0;for(this.clear();++H<se;){var ve=x[H];this.set(ve[0],ve[1])}}function Df(){this.__data__={hash:new mi,map:new(me||fn),string:new mi}}function Nf(x){return No(this,x).delete(x)}function Mf(x){return No(this,x).get(x)}function Lf(x){return No(this,x).has(x)}function $f(x,H){return No(this,x).set(x,H),this}kn.prototype.clear=Df,kn.prototype.delete=Nf,kn.prototype.get=Mf,kn.prototype.has=Lf,kn.prototype.set=$f;function Yn(x){this.__data__=new fn(x)}function Vf(){this.__data__=new fn}function Ff(x){return this.__data__.delete(x)}function jf(x){return this.__data__.get(x)}function Bf(x){return this.__data__.has(x)}function Uf(x,H){var se=this.__data__;if(se instanceof fn){var ve=se.__data__;if(!me||ve.length<n-1)return ve.push([x,H]),this;se=this.__data__=new kn(ve)}return se.set(x,H),this}Yn.prototype.clear=Vf,Yn.prototype.delete=Ff,Yn.prototype.get=jf,Yn.prototype.has=Bf,Yn.prototype.set=Uf;function ws(x,H){var se=Na(x)||ks(x)?Q(x.length,String):[],ve=se.length,Xe=!!ve;for(var Ve in x)_e.call(x,Ve)&&!(Xe&&(Ve=="length"||nh(Ve,ve)))&&se.push(Ve);return se}function Iu(x,H,se){var ve=x[H];(!(_e.call(x,H)&&Cu(ve,se))||se===void 0&&!(H in x))&&(x[H]=se)}function Ts(x,H){for(var se=x.length;se--;)if(Cu(x[se][0],H))return se;return-1}function Kr(x,H){return x&&Da(H,La(H),x)}function Pa(x,H,se,ve,Xe,Ve,ut){var at;if(ve&&(at=Ve?ve(x,Xe,Ve,ut):ve(x)),at!==void 0)return at;if(!Wr(x))return x;var Kt=Na(x);if(Kt){if(at=eh(x),!H)return Xf(x,at)}else{var pt=vi(x),An=pt==c||pt==d;if(Du(x))return Es(x,H);if(pt==p||pt==o||An&&!Ve){if(Y(x))return Ve?x:{};if(at=Yr(An?{}:x),!H)return Jf(x,Kr(at,x))}else{if(!z[pt])return Ve?x:{};at=th(x,pt,Pa,H)}}ut||(ut=new Yn);var Wn=ut.get(x);if(Wn)return Wn;if(ut.set(x,at),!Kt)var Xt=se?Zf(x):La(x);return B(Xt||x,function(xn,hn){Xt&&(hn=xn,xn=x[hn]),Iu(at,hn,Pa(xn,H,se,ve,hn,x,ut))}),at}function qf(x){return Wr(x)?mt(x):{}}function Hf(x,H,se){var ve=H(x);return Na(x)?ve:ne(ve,se(x))}function zf(x){return we.call(x)}function Kf(x){if(!Wr(x)||ih(x))return!1;var H=Ma(x)||Y(x)?Re:re;return H.test(Fn(x))}function Yf(x){if(!Ou(x))return ce(x);var H=[];for(var se in Object(x))_e.call(x,se)&&se!="constructor"&&H.push(se);return H}function Es(x,H){if(H)return x.slice();var se=new x.constructor(x.length);return x.copy(se),se}function Ca(x){var H=new x.constructor(x.byteLength);return new tt(H).set(new tt(x)),H}function Do(x,H){var se=H?Ca(x.buffer):x.buffer;return new x.constructor(se,x.byteOffset,x.byteLength)}function Su(x,H,se){var ve=H?se(K(x),!0):K(x);return ue(ve,A,new x.constructor)}function Ru(x){var H=new x.constructor(x.source,U.exec(x));return H.lastIndex=x.lastIndex,H}function Wf(x,H,se){var ve=H?se(X(x),!0):X(x);return ue(ve,q,new x.constructor)}function Gf(x){return Au?Object(Au.call(x)):{}}function Qf(x,H){var se=H?Ca(x.buffer):x.buffer;return new x.constructor(se,x.byteOffset,x.length)}function Xf(x,H){var se=-1,ve=x.length;for(H||(H=Array(ve));++se<ve;)H[se]=x[se];return H}function Da(x,H,se,ve){se||(se={});for(var Xe=-1,Ve=H.length;++Xe<Ve;){var ut=H[Xe],at=void 0;Iu(se,ut,at===void 0?x[ut]:at)}return se}function Jf(x,H){return Da(x,gi(x),H)}function Zf(x){return Hf(x,La,gi)}function No(x,H){var se=x.__data__;return rh(H)?se[typeof H=="string"?"string":"hash"]:se.map}function Tr(x,H){var se=L(x,H);return Kf(se)?se:void 0}var gi=Vn?de(Vn,Object):sh,vi=zf;(be&&vi(new be(new ArrayBuffer(1)))!=P||me&&vi(new me)!=f||ke&&vi(ke.resolve())!=m||Ie&&vi(new Ie)!=v||Ft&&vi(new Ft)!=g)&&(vi=function(x){var H=we.call(x),se=H==p?x.constructor:void 0,ve=se?Fn(se):void 0;if(ve)switch(ve){case ir:return P;case hr:return f;case wr:return m;case Kn:return v;case pi:return g}return H});function eh(x){var H=x.length,se=x.constructor(H);return H&&typeof x[0]=="string"&&_e.call(x,"index")&&(se.index=x.index,se.input=x.input),se}function Yr(x){return typeof x.constructor=="function"&&!Ou(x)?qf($e(x)):{}}function th(x,H,se,ve){var Xe=x.constructor;switch(H){case w:return Ca(x);case a:case l:return new Xe(+x);case P:return Do(x,ve);case k:case S:case D:case O:case E:case T:case C:case F:case M:return Qf(x,ve);case f:return Su(x,ve,se);case h:case y:return new Xe(x);case _:return Ru(x);case v:return Wf(x,ve,se);case b:return Gf(x)}}function nh(x,H){return H=H??i,!!H&&(typeof x=="number"||Z.test(x))&&x>-1&&x%1==0&&x<H}function rh(x){var H=typeof x;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?x!=="__proto__":x===null}function ih(x){return!!te&&te in x}function Ou(x){var H=x&&x.constructor,se=typeof H=="function"&&H.prototype||oe;return x===se}function Fn(x){if(x!=null){try{return ye.call(x)}catch{}try{return x+""}catch{}}return""}function Pu(x){return Pa(x,!0,!0)}function Cu(x,H){return x===H||x!==x&&H!==H}function ks(x){return oh(x)&&_e.call(x,"callee")&&(!$n.call(x,"callee")||we.call(x)==o)}var Na=Array.isArray;function As(x){return x!=null&&Nu(x.length)&&!Ma(x)}function oh(x){return Mu(x)&&As(x)}var Du=rr||ah;function Ma(x){var H=Wr(x)?we.call(x):"";return H==c||H==d}function Nu(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=i}function Wr(x){var H=typeof x;return!!x&&(H=="object"||H=="function")}function Mu(x){return!!x&&typeof x=="object"}function La(x){return As(x)?ws(x):Yf(x)}function sh(){return[]}function ah(){return!1}t.exports=Pu})(ud,ud.exports);var cA=ud.exports,cd={exports:{}};cd.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",_="[object Number]",v="[object Null]",y="[object Object]",b="[object Promise]",g="[object Proxy]",w="[object RegExp]",P="[object Set]",k="[object String]",S="[object Symbol]",D="[object Undefined]",O="[object WeakMap]",E="[object ArrayBuffer]",T="[object DataView]",C="[object Float32Array]",F="[object Float64Array]",M="[object Int8Array]",V="[object Int16Array]",U="[object Int32Array]",re="[object Uint8Array]",Z="[object Uint8ClampedArray]",z="[object Uint16Array]",N="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,R=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,J={};J[C]=J[F]=J[M]=J[V]=J[U]=J[re]=J[Z]=J[z]=J[N]=!0,J[a]=J[l]=J[E]=J[c]=J[T]=J[d]=J[f]=J[h]=J[m]=J[_]=J[y]=J[w]=J[P]=J[k]=J[O]=!1;var j=typeof _n=="object"&&_n&&_n.Object===Object&&_n,A=typeof self=="object"&&self&&self.Object===Object&&self,q=j||A||Function("return this")(),B=e&&!e.nodeType&&e,ne=B&&!0&&t&&!t.nodeType&&t,ue=ne&&ne.exports===B,Q=ue&&j.process,L=function(){try{return Q&&Q.binding&&Q.binding("util")}catch{}}(),Y=L&&L.isTypedArray;function K(x,H){for(var se=-1,ve=x==null?0:x.length,Xe=0,Ve=[];++se<ve;){var ut=x[se];H(ut,se,x)&&(Ve[Xe++]=ut)}return Ve}function de(x,H){for(var se=-1,ve=H.length,Xe=x.length;++se<ve;)x[Xe+se]=H[se];return x}function X(x,H){for(var se=-1,ve=x==null?0:x.length;++se<ve;)if(H(x[se],se,x))return!0;return!1}function G(x,H){for(var se=-1,ve=Array(x);++se<x;)ve[se]=H(se);return ve}function ie(x){return function(H){return x(H)}}function oe(x,H){return x.has(H)}function fe(x,H){return x==null?void 0:x[H]}function te(x){var H=-1,se=Array(x.size);return x.forEach(function(ve,Xe){se[++H]=[Xe,ve]}),se}function ye(x,H){return function(se){return x(H(se))}}function _e(x){var H=-1,se=Array(x.size);return x.forEach(function(ve){se[++H]=ve}),se}var we=Array.prototype,Re=Function.prototype,Me=Object.prototype,De=q["__core-js_shared__"],tt=Re.toString,$e=Me.hasOwnProperty,mt=function(){var x=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),$n=Me.toString,Hr=RegExp("^"+tt.call($e).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vn=ue?q.Buffer:void 0,rr=q.Symbol,ce=q.Uint8Array,be=Me.propertyIsEnumerable,me=we.splice,ke=rr?rr.toStringTag:void 0,Ie=Object.getOwnPropertySymbols,Ft=Vn?Vn.isBuffer:void 0,zt=ye(Object.keys,Object),ir=gi(q,"DataView"),hr=gi(q,"Map"),wr=gi(q,"Promise"),Kn=gi(q,"Set"),pi=gi(q,"WeakMap"),zr=gi(Object,"create"),Au=Fn(ir),mi=Fn(hr),Af=Fn(wr),xf=Fn(Kn),If=Fn(pi),xu=rr?rr.prototype:void 0,Oa=xu?xu.valueOf:void 0;function fn(x){var H=-1,se=x==null?0:x.length;for(this.clear();++H<se;){var ve=x[H];this.set(ve[0],ve[1])}}function Sf(){this.__data__=zr?zr(null):{},this.size=0}function Rf(x){var H=this.has(x)&&delete this.__data__[x];return this.size-=H?1:0,H}function Of(x){var H=this.__data__;if(zr){var se=H[x];return se===r?void 0:se}return $e.call(H,x)?H[x]:void 0}function Pf(x){var H=this.__data__;return zr?H[x]!==void 0:$e.call(H,x)}function Cf(x,H){var se=this.__data__;return this.size+=this.has(x)?0:1,se[x]=zr&&H===void 0?r:H,this}fn.prototype.clear=Sf,fn.prototype.delete=Rf,fn.prototype.get=Of,fn.prototype.has=Pf,fn.prototype.set=Cf;function kn(x){var H=-1,se=x==null?0:x.length;for(this.clear();++H<se;){var ve=x[H];this.set(ve[0],ve[1])}}function Df(){this.__data__=[],this.size=0}function Nf(x){var H=this.__data__,se=Es(H,x);if(se<0)return!1;var ve=H.length-1;return se==ve?H.pop():me.call(H,se,1),--this.size,!0}function Mf(x){var H=this.__data__,se=Es(H,x);return se<0?void 0:H[se][1]}function Lf(x){return Es(this.__data__,x)>-1}function $f(x,H){var se=this.__data__,ve=Es(se,x);return ve<0?(++this.size,se.push([x,H])):se[ve][1]=H,this}kn.prototype.clear=Df,kn.prototype.delete=Nf,kn.prototype.get=Mf,kn.prototype.has=Lf,kn.prototype.set=$f;function Yn(x){var H=-1,se=x==null?0:x.length;for(this.clear();++H<se;){var ve=x[H];this.set(ve[0],ve[1])}}function Vf(){this.size=0,this.__data__={hash:new fn,map:new(hr||kn),string:new fn}}function Ff(x){var H=Tr(this,x).delete(x);return this.size-=H?1:0,H}function jf(x){return Tr(this,x).get(x)}function Bf(x){return Tr(this,x).has(x)}function Uf(x,H){var se=Tr(this,x),ve=se.size;return se.set(x,H),this.size+=se.size==ve?0:1,this}Yn.prototype.clear=Vf,Yn.prototype.delete=Ff,Yn.prototype.get=jf,Yn.prototype.has=Bf,Yn.prototype.set=Uf;function ws(x){var H=-1,se=x==null?0:x.length;for(this.__data__=new Yn;++H<se;)this.add(x[H])}function Iu(x){return this.__data__.set(x,r),this}function Ts(x){return this.__data__.has(x)}ws.prototype.add=ws.prototype.push=Iu,ws.prototype.has=Ts;function Kr(x){var H=this.__data__=new kn(x);this.size=H.size}function Pa(){this.__data__=new kn,this.size=0}function qf(x){var H=this.__data__,se=H.delete(x);return this.size=H.size,se}function Hf(x){return this.__data__.get(x)}function zf(x){return this.__data__.has(x)}function Kf(x,H){var se=this.__data__;if(se instanceof kn){var ve=se.__data__;if(!hr||ve.length<n-1)return ve.push([x,H]),this.size=++se.size,this;se=this.__data__=new Yn(ve)}return se.set(x,H),this.size=se.size,this}Kr.prototype.clear=Pa,Kr.prototype.delete=qf,Kr.prototype.get=Hf,Kr.prototype.has=zf,Kr.prototype.set=Kf;function Yf(x,H){var se=ks(x),ve=!se&&Cu(x),Xe=!se&&!ve&&As(x),Ve=!se&&!ve&&!Xe&&Mu(x),ut=se||ve||Xe||Ve,at=ut?G(x.length,String):[],Kt=at.length;for(var pt in x)$e.call(x,pt)&&!(ut&&(pt=="length"||Xe&&(pt=="offset"||pt=="parent")||Ve&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||th(pt,Kt)))&&at.push(pt);return at}function Es(x,H){for(var se=x.length;se--;)if(Pu(x[se][0],H))return se;return-1}function Ca(x,H,se){var ve=H(x);return ks(x)?ve:de(ve,se(x))}function Do(x){return x==null?x===void 0?D:v:ke&&ke in Object(x)?vi(x):Ou(x)}function Su(x){return Wr(x)&&Do(x)==a}function Ru(x,H,se,ve,Xe){return x===H?!0:x==null||H==null||!Wr(x)&&!Wr(H)?x!==x&&H!==H:Wf(x,H,se,ve,Ru,Xe)}function Wf(x,H,se,ve,Xe,Ve){var ut=ks(x),at=ks(H),Kt=ut?l:Yr(x),pt=at?l:Yr(H);Kt=Kt==a?y:Kt,pt=pt==a?y:pt;var An=Kt==y,Wn=pt==y,Xt=Kt==pt;if(Xt&&As(x)){if(!As(H))return!1;ut=!0,An=!1}if(Xt&&!An)return Ve||(Ve=new Kr),ut||Mu(x)?Da(x,H,se,ve,Xe,Ve):Jf(x,H,Kt,se,ve,Xe,Ve);if(!(se&i)){var xn=An&&$e.call(x,"__wrapped__"),hn=Wn&&$e.call(H,"__wrapped__");if(xn||hn){var Fi=xn?x.value():x,yi=hn?H.value():H;return Ve||(Ve=new Kr),Xe(Fi,yi,se,ve,Ve)}}return Xt?(Ve||(Ve=new Kr),Zf(x,H,se,ve,Xe,Ve)):!1}function Gf(x){if(!Nu(x)||rh(x))return!1;var H=Du(x)?Hr:R;return H.test(Fn(x))}function Qf(x){return Wr(x)&&Ma(x.length)&&!!J[Do(x)]}function Xf(x){if(!ih(x))return zt(x);var H=[];for(var se in Object(x))$e.call(x,se)&&se!="constructor"&&H.push(se);return H}function Da(x,H,se,ve,Xe,Ve){var ut=se&i,at=x.length,Kt=H.length;if(at!=Kt&&!(ut&&Kt>at))return!1;var pt=Ve.get(x);if(pt&&Ve.get(H))return pt==H;var An=-1,Wn=!0,Xt=se&o?new ws:void 0;for(Ve.set(x,H),Ve.set(H,x);++An<at;){var xn=x[An],hn=H[An];if(ve)var Fi=ut?ve(hn,xn,An,H,x,Ve):ve(xn,hn,An,x,H,Ve);if(Fi!==void 0){if(Fi)continue;Wn=!1;break}if(Xt){if(!X(H,function(yi,Mo){if(!oe(Xt,Mo)&&(xn===yi||Xe(xn,yi,se,ve,Ve)))return Xt.push(Mo)})){Wn=!1;break}}else if(!(xn===hn||Xe(xn,hn,se,ve,Ve))){Wn=!1;break}}return Ve.delete(x),Ve.delete(H),Wn}function Jf(x,H,se,ve,Xe,Ve,ut){switch(se){case T:if(x.byteLength!=H.byteLength||x.byteOffset!=H.byteOffset)return!1;x=x.buffer,H=H.buffer;case E:return!(x.byteLength!=H.byteLength||!Ve(new ce(x),new ce(H)));case c:case d:case _:return Pu(+x,+H);case f:return x.name==H.name&&x.message==H.message;case w:case k:return x==H+"";case m:var at=te;case P:var Kt=ve&i;if(at||(at=_e),x.size!=H.size&&!Kt)return!1;var pt=ut.get(x);if(pt)return pt==H;ve|=o,ut.set(x,H);var An=Da(at(x),at(H),ve,Xe,Ve,ut);return ut.delete(x),An;case S:if(Oa)return Oa.call(x)==Oa.call(H)}return!1}function Zf(x,H,se,ve,Xe,Ve){var ut=se&i,at=No(x),Kt=at.length,pt=No(H),An=pt.length;if(Kt!=An&&!ut)return!1;for(var Wn=Kt;Wn--;){var Xt=at[Wn];if(!(ut?Xt in H:$e.call(H,Xt)))return!1}var xn=Ve.get(x);if(xn&&Ve.get(H))return xn==H;var hn=!0;Ve.set(x,H),Ve.set(H,x);for(var Fi=ut;++Wn<Kt;){Xt=at[Wn];var yi=x[Xt],Mo=H[Xt];if(ve)var Av=ut?ve(Mo,yi,Xt,H,x,Ve):ve(yi,Mo,Xt,x,H,Ve);if(!(Av===void 0?yi===Mo||Xe(yi,Mo,se,ve,Ve):Av)){hn=!1;break}Fi||(Fi=Xt=="constructor")}if(hn&&!Fi){var Lu=x.constructor,$u=H.constructor;Lu!=$u&&"constructor"in x&&"constructor"in H&&!(typeof Lu=="function"&&Lu instanceof Lu&&typeof $u=="function"&&$u instanceof $u)&&(hn=!1)}return Ve.delete(x),Ve.delete(H),hn}function No(x){return Ca(x,La,eh)}function Tr(x,H){var se=x.__data__;return nh(H)?se[typeof H=="string"?"string":"hash"]:se.map}function gi(x,H){var se=fe(x,H);return Gf(se)?se:void 0}function vi(x){var H=$e.call(x,ke),se=x[ke];try{x[ke]=void 0;var ve=!0}catch{}var Xe=$n.call(x);return ve&&(H?x[ke]=se:delete x[ke]),Xe}var eh=Ie?function(x){return x==null?[]:(x=Object(x),K(Ie(x),function(H){return be.call(x,H)}))}:sh,Yr=Do;(ir&&Yr(new ir(new ArrayBuffer(1)))!=T||hr&&Yr(new hr)!=m||wr&&Yr(wr.resolve())!=b||Kn&&Yr(new Kn)!=P||pi&&Yr(new pi)!=O)&&(Yr=function(x){var H=Do(x),se=H==y?x.constructor:void 0,ve=se?Fn(se):"";if(ve)switch(ve){case Au:return T;case mi:return m;case Af:return b;case xf:return P;case If:return O}return H});function th(x,H){return H=H??s,!!H&&(typeof x=="number"||W.test(x))&&x>-1&&x%1==0&&x<H}function nh(x){var H=typeof x;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?x!=="__proto__":x===null}function rh(x){return!!mt&&mt in x}function ih(x){var H=x&&x.constructor,se=typeof H=="function"&&H.prototype||Me;return x===se}function Ou(x){return $n.call(x)}function Fn(x){if(x!=null){try{return tt.call(x)}catch{}try{return x+""}catch{}}return""}function Pu(x,H){return x===H||x!==x&&H!==H}var Cu=Su(function(){return arguments}())?Su:function(x){return Wr(x)&&$e.call(x,"callee")&&!be.call(x,"callee")},ks=Array.isArray;function Na(x){return x!=null&&Ma(x.length)&&!Du(x)}var As=Ft||ah;function oh(x,H){return Ru(x,H)}function Du(x){if(!Nu(x))return!1;var H=Do(x);return H==h||H==p||H==u||H==g}function Ma(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=s}function Nu(x){var H=typeof x;return x!=null&&(H=="object"||H=="function")}function Wr(x){return x!=null&&typeof x=="object"}var Mu=Y?ie(Y):Qf;function La(x){return Na(x)?Yf(x):Xf(x)}function sh(){return[]}function ah(){return!1}t.exports=oh})(cd,cd.exports);var dA=cd.exports,yv={},fA=_n&&_n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yv,"__esModule",{value:!0});var Y9=fA(cA),W9=fA(dA),cm;(function(t){function e(o,s,a){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var l=Y9.default(s);a||(l=Object.keys(l).reduce(function(c,d){return l[d]!=null&&(c[d]=l[d]),c},{}));for(var u in o)o[u]!==void 0&&s[u]===void 0&&(l[u]=o[u]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o,s){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var a=Object.keys(o).concat(Object.keys(s)).reduce(function(l,u){return W9.default(o[u],s[u])||(l[u]=s[u]===void 0?null:s[u]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(o,s){o===void 0&&(o={}),s===void 0&&(s={}),o=o||{};var a=Object.keys(s).reduce(function(l,u){return s[u]!==o[u]&&o[u]!==void 0&&(l[u]=s[u]),l},{});return Object.keys(o).reduce(function(l,u){return o[u]!==s[u]&&s[u]===void 0&&(l[u]=null),l},a)}t.invert=r;function i(o,s,a){if(a===void 0&&(a=!1),typeof o!="object")return s;if(typeof s=="object"){if(!a)return s;var l=Object.keys(s).reduce(function(u,c){return o[c]===void 0&&(u[c]=s[c]),u},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(cm||(cm={}));yv.default=cm;var rc={},ic={},B_;function G9(){if(B_)return ic;B_=1;var t=_n&&_n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ic,"__esModule",{value:!0});var e=t(hA()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var o=this.ops[this.index];if(o){var s=this.offset,a=e.default.length(o);if(i>=a-s?(i=a-s,this.index+=1,this.offset=0):this.offset+=i,typeof o.delete=="number")return{delete:i};var l={};return o.attributes&&(l.attributes=o.attributes),typeof o.retain=="number"?l.retain=i:typeof o.insert=="string"?l.insert=o.insert.substr(s,i):l.insert=o.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,o=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=o,[s].concat(a)}else return[]},r}();return ic.default=n,ic}var U_;function hA(){if(U_)return rc;U_=1;var t=_n&&_n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rc,"__esModule",{value:!0});var e=t(G9()),n;return function(r){function i(s){return new e.default(s)}r.iterator=i;function o(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}r.length=o}(n||(n={})),rc.default=n,rc}var ku=_n&&_n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},oc=ku(K9),Q9=ku(cA),rp=ku(dA),Ka=ku(yv),pn=ku(hA()),X9="\0",J9=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=Q9.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(rp.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var o=e(i)?n:r;o.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+pn.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+pn.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=pn.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=pn.default.length(s)}return new t(r)},t.prototype.compose=function(e){var n=pn.default.iterator(this.ops),r=pn.default.iterator(e.ops),i=[],o=r.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var s=o.retain;n.peekType()==="insert"&&n.peekLength()<=s;)s-=n.peekLength(),i.push(n.next());o.retain-s>0&&r.next(o.retain-s)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),u=n.next(l),c=r.next(l);if(typeof c.retain=="number"){var d={};typeof u.retain=="number"?d.retain=l:d.insert=u.insert;var f=Ka.default.compose(u.attributes,c.attributes,typeof u.retain=="number");if(f&&(d.attributes=f),a.push(d),!r.hasNext()&&rp.default(a.ops[a.ops.length-1],d)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof c.delete=="number"&&typeof u.retain=="number"&&a.push(c)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:X9;var c=l===e?"on":"with";throw new Error("diff() called "+c+" non-document")}).join("")}),i=new t,o=oc.default(r[0],r[1],n),s=pn.default.iterator(this.ops),a=pn.default.iterator(e.ops);return o.forEach(function(l){for(var u=l[1].length;u>0;){var c=0;switch(l[0]){case oc.default.INSERT:c=Math.min(a.peekLength(),u),i.push(a.next(c));break;case oc.default.DELETE:c=Math.min(u,s.peekLength()),s.next(c),i.delete(c);break;case oc.default.EQUAL:c=Math.min(s.peekLength(),a.peekLength(),u);var d=s.next(c),f=a.next(c);rp.default(d.insert,f.insert)?i.retain(c,Ka.default.diff(d.attributes,f.attributes)):i.push(f).delete(c);break}u-=c}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=pn.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if(r.peekType()!=="insert")return;var s=r.peek(),a=pn.default.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},o)===!1)return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(pn.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var o=i.delete||i.retain,s=e.slice(r,r+o);return s.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(pn.default.length(a),Ka.default.invert(i.attributes,a.attributes))}),r+o}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=pn.default.iterator(this.ops),o=pn.default.iterator(r.ops),s=new t;i.hasNext()||o.hasNext();)if(i.peekType()==="insert"&&(n||o.peekType()!=="insert"))s.retain(pn.default.length(i.next()));else if(o.peekType()==="insert")s.push(o.next());else{var a=Math.min(i.peekLength(),o.peekLength()),l=i.next(a),u=o.next(a);if(l.delete)continue;u.delete?s.push(u):s.retain(a,Ka.default.transform(l.attributes,u.attributes,n))}return s.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=pn.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var o=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(o,e-i);continue}else s==="insert"&&(i<e||!n)&&(e+=o);i+=o}return e},t.Op=pn.default,t.AttributeMap=Ka.default,t}(),Z9=J9;const eq=rA(Z9);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const q_={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},pA=Ht({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(q_).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{bt(()=>{o()}),Im(()=>{n=null});let n,r;const i=he(),o=()=>{var E;if(i.value){if(r=s(),t.modules)if(Array.isArray(t.modules))for(const T of t.modules)tp.register(`modules/${T.name}`,T.module);else tp.register(`modules/${t.modules.name}`,t.modules.module);n=new tp(i.value,r),b(t.content),n.on("text-change",d),n.on("selection-change",h),n.on("editor-change",p),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(E=n.getModule("toolbar"))===null||E===void 0||E.container.addEventListener("mousedown",T=>{T.preventDefault()}),e.emit("ready",n)}},s=()=>{const E={};if(t.theme!==""&&(E.theme=t.theme),t.readOnly&&(E.readOnly=t.readOnly),t.placeholder&&(E.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(E.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:q_[t.toolbar]})()}),t.modules){const T=(()=>{var C,F;const M={};if(Array.isArray(t.modules))for(const V of t.modules)M[V.name]=(C=V.options)!==null&&C!==void 0?C:{};else M[t.modules.name]=(F=t.modules.options)!==null&&F!==void 0?F:{};return M})();E.modules=Object.assign({},E.modules,T)}return Object.assign({},t.globalOptions,t.options,E)},a=E=>typeof E=="object"&&E?E.slice():E,l=E=>Object.values(E.ops).some(T=>!T.retain||Object.keys(T).length!==1);let u;const c=E=>{if(typeof u==typeof E){if(E===u)return!0;if(typeof E=="object"&&E&&typeof u=="object"&&u)return!l(u.diff(E))}return!1},d=(E,T,C)=>{u=a(y()),c(t.content)||e.emit("update:content",u),e.emit("textChange",{delta:E,oldContents:T,source:C})},f=he(),h=(E,T,C)=>{f.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:E,oldRange:T,source:C})};Gt(f,E=>{E?e.emit("focus",i):e.emit("blur",i)});const p=(...E)=>{E[0]==="text-change"&&e.emit("editorChange",{name:E[0],delta:E[1],oldContents:E[2],source:E[3]}),E[0]==="selection-change"&&e.emit("editorChange",{name:E[0],range:E[1],oldRange:E[2],source:E[3]})},m=()=>i.value,_=()=>{var E;return(E=n==null?void 0:n.getModule("toolbar"))===null||E===void 0?void 0:E.container},v=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},y=(E,T)=>t.contentType==="html"?P():t.contentType==="text"?g(E,T):n==null?void 0:n.getContents(E,T),b=(E,T="api")=>{const C=E||(t.contentType==="delta"?new eq:"");t.contentType==="html"?k(C):t.contentType==="text"?w(C,T):n==null||n.setContents(C,T),u=a(C)},g=(E,T)=>{var C;return(C=n==null?void 0:n.getText(E,T))!==null&&C!==void 0?C:""},w=(E,T="api")=>{n==null||n.setText(E,T)},P=()=>{var E;return(E=n==null?void 0:n.root.innerHTML)!==null&&E!==void 0?E:""},k=E=>{n&&(n.root.innerHTML=E)},S=(E,T="api")=>{const C=n==null?void 0:n.clipboard.convert(E);C&&(n==null||n.setContents(C,T))},D=()=>{n==null||n.focus()},O=()=>{Tn(()=>{var E;!e.slots.toolbar&&n&&((E=n.getModule("toolbar"))===null||E===void 0||E.container.remove()),o()})};return Gt(()=>t.content,E=>{if(!n||!E||c(E))return;const T=n.getSelection();T&&Tn(()=>n==null?void 0:n.setSelection(T)),b(E)},{deep:!0}),Gt(()=>t.enable,E=>{n&&n.enable(E)}),{editor:i,getEditor:m,getToolbar:_,getQuill:v,getContents:y,setContents:b,getHTML:P,setHTML:k,pasteHTML:S,focus:D,getText:g,setText:w,reinit:O}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),_a("div",{ref:"editor",...this.$attrs})]}}),tq={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},nq={key:1,id:"add-blog-modal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},rq={class:"relative p-4 w-full max-w-4xl max-h-full"},iq={class:"relative bg-white rounded-lg shadow"},oq={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},sq=I("h3",{class:"text-lg font-semibold text-gray-900"}," Blog Yazısını Güncelle ",-1),aq=I("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),lq=I("span",{class:"sr-only"},"Close modal",-1),uq=[aq,lq],cq={class:"grid gap-4 mb-4 grid-cols-2"},dq={class:"col-span-2"},fq=I("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),hq={class:"col-span-2"},pq=I("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),mq=I("option",{value:"Hukuk"},"Hukuk",-1),gq=I("option",{value:"Haberler"},"Haberler",-1),vq=I("option",{value:"Son Dakika"},"Son Dakika",-1),yq=I("option",{value:"Blog Yazısı"},"Blog Yazısı",-1),_q=[mq,gq,vq,yq],bq={class:"col-span-2"},wq=I("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),Tq={class:"bg-gray-100"},Eq=I("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"Kaydet",-1),kq={__name:"BlogModalEdit",props:{show:Boolean,blogDataToUpdate:Object},emits:["close","updateBlog"],setup(t,{emit:e}){const n=e,r=t;pe(()=>{const s=r.blogDataToUpdate.image;return s.length<=20?s:`${s.substring(0,10)}...${s.substring(s.length-10)}`});const i=o=>{o.updated_date=new Date,n("updateBlog",o),n("close")};return(o,s)=>(ee(),le(Se,null,[t.show?(ee(),le("div",tq)):ge("",!0),t.show?(ee(),le("div",nq,[I("div",rq,[I("div",iq,[I("div",oq,[sq,I("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},uq)]),I("form",{onSubmit:s[4]||(s[4]=Nr(a=>i(t.blogDataToUpdate),["prevent"])),class:"p-4 md:p-5"},[I("div",cq,[I("div",dq,[fq,Tt(I("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.blogDataToUpdate.title=a),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[vo,t.blogDataToUpdate.title]])]),I("div",hq,[pq,Tt(I("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>t.blogDataToUpdate.category=a),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},_q,512),[[yo,t.blogDataToUpdate.category]])]),I("div",bq,[wq,I("div",Tq,[Ue(ae(pA),{content:t.blogDataToUpdate.content,"onUpdate:content":s[3]||(s[3]=a=>t.blogDataToUpdate.content=a),contentType:"html",id:"content",toolbar:"essential",theme:"snow",class:"h-64"},null,8,["content"])])])]),Eq],32)])])])):ge("",!0)],64))}},Aq={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},xq={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Iq={class:"flex justify-between items-center mb-4"},Sq={class:"text-4xl font-bold text-gray-800"},Rq=I("div",{class:"text-lg font-medium text-gray-500"},"Toplam Blog Yazısı",-1),Oq=I("div",{class:"text-gray-400"},[I("i",{class:"ri-group-line text-4xl"})],-1),Pq={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},Cq={class:"text-right text-sm font-medium text-gray-600 mt-2"},Dq={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Nq={class:"flex justify-between items-center mb-4"},Mq={class:"flex items-center mb-1"},Lq={class:"text-4xl font-bold text-gray-800"},$q={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},Vq=I("div",{class:"text-lg font-medium text-gray-500"},"Toplam Görüntülenme",-1),Fq=I("div",{class:"text-gray-400"},[I("i",{class:"ri-eye-line text-4xl"})],-1),jq=I("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),Bq={class:"mt-2 flex flex-wrap"},Uq={__name:"BlogCards",props:{totalBlogs:Number,totalBlogView:Number,blogsCategorySummary:Object},setup(t){const e=t,n={"Blog Yazısı":"bg-blue-100 text-blue-700",Hukuk:"bg-green-100 text-green-700","Son Dakika":"bg-gray-100 text-gray-700",Haberler:"bg-red-100 text-red-700"},r=s=>{switch(s){case"Blog Yazısı":return"Blog Yazısı";case"Hukuk":return"Hukuk";case"Son Dakika":return"Son Dakika";case"Haberler":return"Haberler";default:return"Unknown"}},i=pe(()=>e.totalBlogs===0?0:(e.totalBlogView/e.totalBlogs*100).toFixed(2)),o=pe(()=>e.totalBlogs===0?0:(e.totalBlogs/100*100).toFixed(2));return(s,a)=>(ee(),le("div",Aq,[I("div",xq,[I("div",Iq,[I("div",null,[I("div",Sq,xe(t.totalBlogs),1),Rq]),Oq]),I("div",Pq,[I("div",{class:"h-full bg-blue-600",style:sn({width:o.value+"%"})},null,4)]),I("div",Cq,xe(o.value)+"%",1)]),I("div",Dq,[I("div",Nq,[I("div",null,[I("div",Mq,[I("div",Lq,xe(t.totalBlogView),1),I("div",$q," +"+xe(i.value)+"% ",1)]),Vq]),Fq]),jq,I("div",Bq,[(ee(!0),le(Se,null,Qe(t.blogsCategorySummary,(l,u)=>(ee(),le("span",{key:u,class:Je([n[u],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},xe(r(u))+": "+xe(l),3))),128))])])]))}},qq={class:"flex justify-between mb-4 items-start"},Hq=I("h1",{class:"font-medium"},"Blog Yönetimi",-1),zq={action:"",class:"flex items-center mb-4"},Kq={class:"relative w-full mr-2"},Yq=I("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1),Wq={key:0,class:"w-full mt-4 table-fixed"},Gq=I("thead",null,[I("tr",null,[I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Başlık "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yazar "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yaratılma Tarihi "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Kategori "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Değiştirilme Tarihi "),I("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Aksiyonlar ")])],-1),Qq={class:"py-4 px-4 border-b border-b-gray-200"},Xq={class:"flex items-center"},Jq={href:"#",class:"text-gray-600 text-sm font-medium hover:text-blue-500 truncate"},Zq={class:"py-4 px-4 border-b border-b-gray-200"},e8={class:"text-[13px] font-medium text-gray-600"},t8={class:"py-4 px-4 border-b border-b-gray-200"},n8={class:"text-[13px] font-medium text-gray-600"},r8={class:"py-4 px-4 border-b border-b-gray-200"},i8={class:"flex space-x-5"},o8={class:"text-[13px] font-medium text-gray-600"},s8={class:"py-4 px-4 border-b border-b-gray-200"},a8={class:"flex space-x-5"},l8={class:"text-[13px] font-medium text-gray-600"},u8={class:"py-4 px-4 border-b border-b-gray-200 flex justify-between"},c8={class:"button-container relative flex flex-row gap-1"},d8=["onClick"],f8=["onClick"],h8=["onClick"],p8={class:"pagination-container flex justify-end mt-4 w-full"},m8=["disabled"],g8=["disabled"],v8={__name:"BlogManagement",props:{blogsData:{type:Object,required:!0},blogRef:{type:Object,required:!0}},emits:["goAddBlog","deleteBlog","updateBlog"],setup(t,{emit:e}){const n=he(!1),r=he(!1);let i=null;const o=he(null),s=t;s.blogRef;const a=e;function l(S){n.value=!0,o.value=S,console.log(o.value.created_date),console.log("blog id to edit",S.id)}function u(S){i=S,r.value=!0}function c(){a("deleteBlog",i),r.value=!1}function d(S){a("updateBlog",S),n.value=!1}const f=pe(()=>s.blogsData.length),h=he(324),p=he(1),m=he(10),_=he(""),v=pe(()=>_.value?s.blogsData.filter(S=>S.title.toLowerCase().includes(_.value.toLowerCase())):s.blogsData),y=pe(()=>(p.value-1)*m.value),b=pe(()=>{if(v.value.length===0){const S=y.value,D=S+m.value;return s.blogsData.slice(S,D)}else return v.value.slice(y.value,y.value+m.value)}),g=pe(()=>v.value.length===0?Math.ceil(s.blogsData.length/m.value):Math.ceil(v.value.length/m.value)),w=pe(()=>{const S={};return s.blogsData.forEach(D=>{S[D.category]?S[D.category]++:S[D.category]=1}),S}),P=()=>{p.value>1&&p.value--},k=()=>{p.value<g.value&&p.value++};return(S,D)=>(ee(),le("div",null,[Ue(F9,{show:r.value,onClose:D[0]||(D[0]=O=>r.value=!1),onDelete:c},null,8,["show"]),Ue(kq,{show:n.value,onClose:D[1]||(D[1]=O=>n.value=!1),onUpdateBlog:d,blogDataToUpdate:o.value},null,8,["show","blogDataToUpdate"]),Ue(Uq,{totalBlogs:f.value,totalBlogView:h.value,blogsCategorySummary:w.value},null,8,["totalBlogs","totalBlogView","blogsCategorySummary"]),Ue(nA,{class:"p-6"},{default:He(()=>{var O;return[I("div",qq,[Hq,I("button",{onClick:D[2]||(D[2]=E=>a("goAddBlog")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded"}," + Ekle ")]),I("form",zq,[I("div",Kq,[Tt(I("input",{"onUpdate:modelValue":D[3]||(D[3]=E=>_.value=E),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full shadow-md shadow-black/5 outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Başlığa göre ara..."},null,512),[[vo,_.value]]),Yq])]),(O=t.blogsData)!=null&&O.length?(ee(),le("table",Wq,[Gq,I("tbody",null,[(ee(!0),le(Se,null,Qe(b.value,E=>(ee(),le("tr",{key:E.id},[I("td",Qq,[I("div",Xq,[I("a",Jq,xe(E.title),1)])]),I("td",Zq,[I("span",e8,xe(E.author||""),1)]),I("td",t8,[I("span",n8,xe(E.created_date),1)]),I("td",r8,[I("div",i8,[I("span",o8,xe(E.category),1)])]),I("td",s8,[I("div",a8,[I("span",l8,xe(E.updated_date),1)])]),I("td",u8,[I("div",c8,[I("button",{onClick:T=>l(E),class:"ri-edit-line text-lg bg-orange-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,d8),I("button",{onClick:T=>S.openURL(E.url),class:"ri-eye-line text-lg bg-green-500 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,f8),I("button",{onClick:T=>u(E.id),id:"delete-blog-modal-button",class:"ri-delete-bin-6-line text-lg bg-red-700 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,h8)])])]))),128))])])):ge("",!0),I("div",p8,[I("button",{onClick:P,disabled:p.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,m8),I("button",{onClick:k,disabled:p.value===g.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,g8)])]}),_:1})]))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebasestorage.googleapis.com",gA="storageBucket",y8=2*60*1e3,_8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends br{constructor(e,n,r=0){super(ip(e),`Firebase Storage: ${n} (${ip(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ip(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($t||($t={}));function ip(t){return"storage/"+t}function _v(){const t="An unknown error occurred, please check the error payload for server response.";return new Vt($t.UNKNOWN,t)}function b8(t){return new Vt($t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function w8(t){return new Vt($t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function T8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt($t.UNAUTHENTICATED,t)}function E8(){return new Vt($t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k8(t){return new Vt($t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A8(){return new Vt($t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x8(){return new Vt($t.CANCELED,"User canceled the upload/download.")}function I8(t){return new Vt($t.INVALID_URL,"Invalid URL '"+t+"'.")}function S8(t){return new Vt($t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function R8(){return new Vt($t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gA+"' property when initializing the app?")}function O8(){return new Vt($t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P8(){return new Vt($t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C8(t){return new Vt($t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dm(t){return new Vt($t.INVALID_ARGUMENT,t)}function vA(){return new Vt($t.APP_DELETED,"The Firebase app was deleted.")}function D8(t){return new Vt($t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wl(t,e){return new Vt($t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ya(t){throw new Vt($t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ur.makeFromUrl(e,n)}catch{return new ur(e,"")}if(r.path==="")return r;throw S8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===mA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${_}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<b.length;g++){const w=b[g],P=w.regex.exec(e);if(P){const k=P[w.indices.bucket];let S=P[w.indices.path];S||(S=""),r=new ur(k,S),w.postModify(r);break}}if(r==null)throw I8(e);return r}}class N8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(h,l())},_)}function f(){o&&clearTimeout(o)}function h(_,...v){if(u){f();return}if(_){f(),c.call(null,_,...v);return}if(l()||s){f(),c.call(null,_,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let p=!1;function m(_){p||(p=!0,f(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function L8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){return t!==void 0}function V8(t){return typeof t=="object"&&!Array.isArray(t)}function bv(t){return typeof t=="string"||t instanceof String}function H_(t){return wv()&&t instanceof Blob}function wv(){return typeof Blob<"u"}function z_(t,e,n,r){if(r<e)throw dm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ns||(ns={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,n,r,i,o,s,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new sc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ns.NO_ERROR,l=o.getStatus();if(!a||F8(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===ns.ABORT;r(!1,new sc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new sc(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$8(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=_v();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?vA():x8();s(l)}else{const l=A8();s(l)}};this.canceled_?n(!1,new sc(!1,null,!0)):this.backoffId_=M8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&L8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function B8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function U8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function z8(t,e,n,r,i,o,s=!0){const a=yA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return q8(u,e),B8(u,n),U8(u,o),H8(u,r),new j8(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Y8(...t){const e=K8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wv())return new Blob(t);throw new Vt($t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function W8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){if(typeof atob>"u")throw C8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class op{constructor(e,n){this.data=e,this.contentType=n||null}}function Q8(t,e){switch(t){case oi.RAW:return new op(_A(e));case oi.BASE64:case oi.BASE64URL:return new op(bA(t,e));case oi.DATA_URL:return new op(J8(e),Z8(e))}throw _v()}function _A(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function X8(t){let e;try{e=decodeURIComponent(t)}catch{throw wl(oi.DATA_URL,"Malformed data URL.")}return _A(e)}function bA(t,e){switch(t){case oi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw wl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case oi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw wl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=G8(e)}catch(i){throw i.message.includes("polyfill")?i:wl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class wA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wl(oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=e7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function J8(t){const e=new wA(t);return e.base64?bA(oi.BASE64,e.rest):X8(e.rest)}function Z8(t){return new wA(t).contentType}function e7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){let r=0,i="";H_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(H_(this.data_)){const r=this.data_,i=W8(r,e,n);return i===null?null:new ro(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ro(r,!0)}}static getBlob(...e){if(wv()){const n=e.map(r=>r instanceof ro?r.data_:r);return new ro(Y8.apply(null,n))}else{const n=e.map(s=>bv(s)?Q8(oi.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new ro(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){let e;try{e=JSON.parse(t)}catch{return null}return V8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e){return e}class jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||r7}}let ac=null;function i7(t){return!bv(t)||t.length<2?t:EA(t)}function kA(){if(ac)return ac;const t=[];t.push(new jn("bucket")),t.push(new jn("generation")),t.push(new jn("metageneration")),t.push(new jn("name","fullPath",!0));function e(o,s){return i7(s)}const n=new jn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new jn("size");return i.xform=r,t.push(i),t.push(new jn("timeCreated")),t.push(new jn("updated")),t.push(new jn("md5Hash",null,!0)),t.push(new jn("cacheControl",null,!0)),t.push(new jn("contentDisposition",null,!0)),t.push(new jn("contentEncoding",null,!0)),t.push(new jn("contentLanguage",null,!0)),t.push(new jn("contentType",null,!0)),t.push(new jn("metadata","customMetadata",!0)),ac=t,ac}function o7(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ur(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function s7(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return o7(r,t),r}function AA(t,e,n){const r=TA(e);return r===null?null:s7(t,r,n)}function a7(t,e,n,r){const i=TA(e);if(i===null||!bv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+s(c)+"/o/"+s(d),h=Tv(f,n,r),p=yA({alt:"media",token:u});return h+p})[0]}function l7(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class xA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){if(!t)throw _v()}function u7(t,e){function n(r,i){const o=AA(t,i,e);return IA(o!==null),o}return n}function c7(t,e){function n(r,i){const o=AA(t,i,e);return IA(o!==null),a7(o,i,t.host,t._protocol)}return n}function SA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=E8():i=T8():n.getStatus()===402?i=w8(t.bucket):n.getStatus()===403?i=k8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function d7(t){const e=SA(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=b8(t.path)),o.serverResponse=i.serverResponse,o}return n}function f7(t,e,n){const r=e.fullServerUrl(),i=Tv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new xA(i,o,c7(t,n),s);return a.errorHandler=d7(e),a}function h7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=h7(null,e)),r}function m7(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=p7(e,r,i),c=l7(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=ro.getBlob(d,r,f);if(h===null)throw O8();const p={name:u.fullPath},m=Tv(o,t.host,t._protocol),_="POST",v=t.maxUploadRetryTime,y=new xA(m,_,u7(t,n),v);return y.urlParams=p,y.headers=s,y.body=h.uploadData(),y.errorHandler=SA(e),y}class g7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ns.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ns.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ns.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ya("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class v7 extends g7{initXhr(){this.xhr_.responseType="text"}}function RA(){return new v7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this._service=e,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cs(e,n)}get root(){const e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EA(this._location.path)}get storage(){return this._service}get parent(){const e=t7(this._location.path);if(e===null)return null;const n=new ur(this._location.bucket,e);return new cs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D8(e)}}function y7(t,e,n){t._throwIfRoot("uploadBytes");const r=m7(t.storage,t._location,kA(),new ro(e,!0),n);return t.storage.makeRequestWithTokens(r,RA).then(i=>({metadata:i,ref:t}))}function _7(t){t._throwIfRoot("getDownloadURL");const e=f7(t.storage,t._location,kA());return t.storage.makeRequestWithTokens(e,RA).then(n=>{if(n===null)throw P8();return n})}function b7(t,e){const n=n7(t._location.path,e),r=new ur(t._location.bucket,n);return new cs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t){return/^[A-Za-z]+:\/\//.test(t)}function T7(t,e){return new cs(t,e)}function OA(t,e){if(t instanceof Ev){const n=t;if(n._bucket==null)throw R8();const r=new cs(n,n._bucket);return e!=null?OA(r,e):r}else return e!==void 0?b7(t,e):t}function E7(t,e){if(e&&w7(e)){if(t instanceof Ev)return T7(t,e);throw dm("To use ref(service, url), the first argument must be a Storage instance.")}else return OA(t,e)}function K_(t,e){const n=e==null?void 0:e[gA];return n==null?null:ur.makeFromBucketSpec(n,t)}function k7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:V1(i,t.app.options.projectId))}class Ev{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=mA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y8,this._maxUploadRetryTime=_8,this._requests=new Set,i!=null?this._bucket=ur.makeFromBucketSpec(i,this._host):this._bucket=K_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=K_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cs(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new N8(vA());{const s=z8(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Y_="@firebase/storage",W_="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="storage";function A7(t,e,n){return t=St(t),y7(t,e,n)}function x7(t){return t=St(t),_7(t)}function I7(t,e){return t=St(t),E7(t,e)}function S7(t=Pd(),e){t=St(t);const r=xo(t,PA).getImmediate({identifier:e}),i=M1("storage");return i&&R7(r,...i),r}function R7(t,e,n,r={}){k7(t,e,n,r)}function O7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ev(n,r,i,e,ms)}function P7(){Lr(new _r(PA,O7,"PUBLIC").setMultipleInstances(!0)),Zn(Y_,W_,""),Zn(Y_,W_,"esm2017")}P7();const C7={key:0,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},D7={class:"bg-white rounded-lg p-4 max-w-sm w-full"},N7={class:"mt-1"},M7={class:"flex justify-end"},L7={class:"relative bg-white rounded-lg shadow border border-gray-200"},$7={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},V7=I("h3",{class:"text-lg font-semibold text-gray-900"},"Yeni Blog Yazısı",-1),F7={class:"grid gap-4 mb-4 grid-cols-2"},j7={class:"col-span-2"},B7=I("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},null,-1),U7={class:"col-span-2 sm:col-span-1"},q7=I("label",{for:"file-input",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Fotoğraf Seç",-1),H7={class:"col-span-2 sm:col-span-1"},z7=I("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kategori",-1),K7=I("option",{value:"Hukuk"},"Hukuk",-1),Y7=I("option",{value:"Haberler"},"Haberler",-1),W7=I("option",{value:"Son Dakika"},"Son Dakika",-1),G7=I("option",{value:"Blog Yazısı"},"Blog Yazısı",-1),Q7=[K7,Y7,W7,G7],X7={class:"col-span-2"},J7=I("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Yazı İçeriği",-1),Z7={class:"bg-gray-100"},eH=["disabled"],tH={__name:"AddBlog",emits:["goBlogManagement","addBlog"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),o=he(""),s=he(""),a=he("Blog Yazısı"),l=he(null),u=he(null),c=he(null),d=h=>{const p=h.target.files[0];p&&p.type==="image/jpeg"?(u.value=p,c.value=p.name):(c.value=null,console.error("Please select a JPEG file."))},f=async()=>{if(r.value=!0,i.value=!0,!u.value){console.error("Please select an image file.");return}const h=S7(),p=I7(h,`images/${u.value.name}`);try{console.log("Uploading file..."),await A7(p,u.value);const m=await x7(p);console.log("File uploaded:",m);const _={author:"admin",created_date:new Date,updated_date:new Date,url:"https://konect-software-solutions.github.io/tiryaki-hukuk-web-project/blog-single.html",title:o.value,image:m,content:s.value,category:a.value};console.log("Adding blog post:",_),n("addBlog",_),o.value="",s.value="",a.value="Blog Yazısı",u.value=null,c.value=null}catch(m){console.error("Error uploading file or saving blog post:",m)}finally{r.value=!1}};return(h,p)=>(ee(),le("div",null,[i.value?(ee(),le("div",C7,[I("div",D7,[I("div",N7,[r.value?(ee(),Be(Gl,{key:0,text:"Blog Yazısı Yükleniyor..."})):ge("",!0),un(" "+xe(r.value?"":"Blog yazısı yüklendi."),1)]),I("div",M7,[r.value?ge("",!0):(ee(),le("button",{key:0,onClick:p[0]||(p[0]=m=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dön "))])])])):ge("",!0),I("div",L7,[I("div",$7,[V7,I("button",{onClick:p[1]||(p[1]=m=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön ")]),I("form",{onSubmit:Nr(f,["prevent"]),class:"p-4 md:p-5"},[I("div",F7,[I("div",j7,[B7,Tt(I("input",{"onUpdate:modelValue":p[2]||(p[2]=m=>o.value=m),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[vo,o.value]])]),I("div",U7,[q7,I("input",{type:"file",id:"file_input",ref_key:"fileInput",ref:l,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",accept:"image/jpeg",onChange:d,required:""},null,544)]),I("div",H7,[z7,Tt(I("select",{"onUpdate:modelValue":p[3]||(p[3]=m=>a.value=m),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},Q7,512),[[yo,a.value]])]),I("div",X7,[J7,I("div",Z7,[Ue(ae(pA),{content:s.value,"onUpdate:content":p[4]||(p[4]=m=>s.value=m),contentType:"html",toolbar:"essential",theme:"snow",class:"h-[30rem]",placeholder:"Yazı içeriği girin...",required:""},null,8,["content"])])])]),I("button",{type:"submit",disabled:r.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-600"}," Blog Yazısı Ekle ",8,eH)],32)])]))}},nH={key:0,class:"flex items-center justify-center min-h-screen"},rH={__name:"Blogs",setup(t){const e=he(!1),n=he(!1),r=Wl(Ir,"blogs"),i=he([]);function o(p){d(p)}function s(p){f(p)}function a(p){h(p)}function l(p){return p?p.seconds?new Date(p.seconds*1e3).toLocaleDateString("tr-TR"):typeof p=="string"?p:new Date(p).toLocaleDateString("tr-TR"):""}async function u(){let p=[];const m=await od(r);for(const _ of m.docs){let v=_.data();v.id=_.id;const y=Wl(Ir,"blogs",_.id,"comments"),b=[];(await od(y)).docs.forEach(w=>{b.push(w.data())}),v.comments=b,p.push(v)}return p=p.map(_=>({..._,created_date:l(_.created_date),updated_date:l(_.updated_date)})),p}async function c(){try{const p=localStorage.getItem("cachedBlogs"),m=localStorage.getItem("cachedTimeBlogs"),_=30*60*1e3;if(p&&m&&new Date-new Date(parseInt(m))<_)return JSON.parse(p);{const v=await u();return localStorage.setItem("cachedBlogs",JSON.stringify(v)),localStorage.setItem("cachedTimeBlogs",new Date().getTime().toString()),v}}catch(p){return console.error("Error getting blogs with comments:",p),[]}}async function d(p){console.log("Received new blog data:",p);try{const m=await r3(r,p),_={...p,id:m.id,created_date:l(p.created_date),updated_date:l(p.updated_date)};i.value=[_,...i.value],localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error adding document:",m)}}async function f(p){if(p)try{await n3(gr(Ir,"blogs",p)),i.value=i.value.filter(m=>m.id!==p),localStorage.setItem("cachedBlogs",JSON.stringify(i.value)),console.log(`Blog with ID ${p} deleted successfully.`)}catch(m){console.error("Error deleting blog:",m)}}async function h(p){console.log("Received updated blog data:",p);try{await Fs(gr(Ir,"blogs",p.id),p);const m={...p,created_date:l(p.created_date),updated_date:l(p.updated_date)};i.value=i.value.map(_=>_.id===p.id?m:_),localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error updating document:",m)}}return bt(async()=>{let p=await c();p.sort(YU),i.value=p,e.value=!0}),(p,m)=>(ee(),le("div",null,[Ue(Dr,{name:"fade"},{default:He(()=>[e.value&&!n.value?(ee(),Be(v8,{key:0,onGoAddBlog:m[0]||(m[0]=_=>n.value=!0),onDeleteBlog:s,onUpdateBlog:a,blogsData:i.value,blogRef:ae(r)},null,8,["blogsData","blogRef"])):ge("",!0)]),_:1}),e.value?ge("",!0):(ee(),le("div",nH,[Ue(Gl,{text:"Blog Yazısı Yükleniyor..."})])),Ue(Dr,{name:"fade"},{default:He(()=>[n.value?(ee(),Be(tH,{key:0,onGoBlogManagement:m[1]||(m[1]=_=>n.value=!1),onAddBlog:o})):ge("",!0)]),_:1})]))}},iH=Ur(rH,[["__scopeId","data-v-ae4ad521"]]),oH={__name:"Lawyers",setup(t){return(e,n)=>(ee(),le("h1",null,"Avukatlar"))}},sH={key:0},aH={key:1},G_={__name:"Settings",setup(t){const e=Ao(),n=pe(()=>e.getters.userRole);return pe(()=>e.getters.user?e.getters.user.uid:null),(r,i)=>n.value==="attorney"?(ee(),le("div",sH," avukat ayarları ")):(ee(),le("div",aH,"admin ayarları"))}},lH={},uH={class:"bg-gray-800"},cH=Pm('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfa mecvut değil.</p><div class="flex justify-center"><a href="/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),dH=[cH];function fH(t,e,n,r,i,o){return ee(),le("section",uH,dH)}const hH=Ur(lH,[["render",fH]]),pH={},mH={class:"bg-gray-800"},gH=Pm('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfayı görmek için yetkiniz yok.</p><div class="flex justify-center"><a href="/main/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),vH=[gH];function yH(t,e,n,r,i,o){return ee(),le("section",mH,vH)}const _H=Ur(pH,[["render",yH]]),bH=I("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),wH={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},TH={class:"relative p-4 w-[30rem] max-h-full"},EH={class:"relative bg-white rounded-lg shadow"},kH={class:"flex items-center justify-between p-4 border-b rounded-t"},AH=I("h3",{class:"text-lg font-semibold text-gray-900"}," Uygun Olmayan Tarih ve Saat Aralığını Seç ",-1),xH=I("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14","aria-hidden":"true"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),IH=I("span",{class:"sr-only"},"Close modal",-1),SH=[xH,IH],RH={class:"grid gap-4 mb-4 grid-cols-2"},OH={class:"col-span-2"},PH=I("label",{for:"date",class:"block mb-2 text-sm font-medium text-gray-900"},"Tarih",-1),CH={class:"col-span-1"},DH=I("label",{for:"start-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Başlangıç",-1),NH=["value"],MH={class:"col-span-1"},LH=I("label",{for:"end-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Bitiş",-1),$H=["value"],VH={class:"col-span-2"},FH={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4 mt-4"},jH={class:"flex justify-between items-center mb-3"},BH=I("span",{class:"text-gray-900 text-base font-medium"},"Tekrarla",-1),UH={class:"inline-flex items-center cursor-pointer"},qH=I("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),HH=I("div",{class:"flex items-center"},[I("p",{class:"text-sm text-gray-500 font-normal"}," Eğer seçiliyse, bu tarih ve saat aralığı haftalık olarak tekrarlanacaktır. ")],-1),zH=I("div",{class:"col-span-2"},[I("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),KH={__name:"WorkingHoursExceptionModal",emits:["close","save-exception"],setup(t,{emit:e}){const n=he(new Date),r=he("12:00"),i=he("13:00"),o=he(!1),s=e,a=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],l=()=>{const c={date:n.value?Cr(new Date(n.value),"dd/MM/yy"):"",startTime:r.value,endTime:i.value,repeat:o.value};s("save-exception",c),s("close")};return(u,c)=>(ee(),le(Se,null,[bH,I("div",wH,[I("div",TH,[I("div",EH,[I("div",kH,[AH,I("button",{onClick:c[0]||(c[0]=d=>u.$emit("close")),type:"button",class:"text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},SH)]),I("form",{onSubmit:Nr(l,["prevent"]),class:"p-4"},[I("div",RH,[I("div",OH,[PH,Ue(ae(Eu),{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=d=>n.value=d),name:"date",class:"form-input","enable-time-picker":!1,required:""},null,8,["modelValue"])]),I("div",CH,[DH,Tt(I("select",{"onUpdate:modelValue":c[2]||(c[2]=d=>r.value=d),required:"",id:"start-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ee(),le(Se,null,Qe(a,d=>I("option",{key:d,value:d},xe(d),9,NH)),64))],512),[[yo,r.value]])]),I("div",MH,[LH,Tt(I("select",{"onUpdate:modelValue":c[3]||(c[3]=d=>i.value=d),required:"",id:"end-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ee(),le(Se,null,Qe(a,d=>I("option",{key:d,value:d},xe(d),9,$H)),64))],512),[[yo,i.value]])])]),I("div",VH,[I("div",FH,[I("div",jH,[BH,I("label",UH,[Tt(I("input",{"onUpdate:modelValue":c[4]||(c[4]=d=>o.value=d),type:"checkbox",class:"sr-only peer"},null,512),[[Hs,o.value]]),qH])]),HH])]),zH],32)])])])],64))}},kv=t=>(yd("data-v-2eae121c"),t=t(),_d(),t),YH={key:0,class:"mb-4 mt-4"},WH={class:"flex justify-between items-center"},GH={class:"text-sm font-medium text-gray-900 dark:text-white"},QH={class:"text-sm text-gray-600 dark:text-gray-300"},XH={class:"text-sm text-gray-600 dark:text-gray-300"},JH={key:0,class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 rounded-lg focus:outline-none"},ZH=kv(()=>I("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[I("path",{d:"M6 4H21C21.5523 4 22 4.44772 22 5V12H20V6H6V9L1 5L6 1V4ZM18 20H3C2.44772 20 2 19.5523 2 19V12H4V18H18V15L23 19L18 23V20Z"})],-1)),ez=[ZH],tz=["onClick"],nz=kv(()=>I("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[I("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1)),rz=[nz],iz=kv(()=>I("svg",{class:"w-4 h-4 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1)),oz={__name:"WorkingHoursExceptioner",props:{exceptions:Array},emits:["add-exception","remove-exception"],setup(t,{emit:e}){const n=he(!1),r=e,i=s=>{r("add-exception",s)},o=s=>{r("remove-exception",s)};return(s,a)=>(ee(),le(Se,null,[t.exceptions.length?(ee(),le("div",YH,[(ee(!0),le(Se,null,Qe(t.exceptions,(l,u)=>(ee(),le("div",{key:u,class:"p-4 mb-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},[I("div",WH,[I("div",null,[I("p",GH," Tarih: "+xe(l.date),1),I("p",QH," Başlangıç: "+xe(l.startTime),1),I("p",XH," Bitiş: "+xe(l.endTime),1)]),I("div",null,[l.repeat?(ee(),le("button",JH,ez)):ge("",!0),I("button",{onClick:c=>o(u),class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 rounded-lg focus:outline-none"},rz,8,tz)])])]))),128))])):ge("",!0),I("button",{onClick:a[0]||(a[0]=l=>n.value=!0),type:"button",class:"inline-flex items-center justify-center w-full py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[iz,un(" Ekle ")]),n.value?(ee(),Be(KH,{key:1,onClose:a[1]||(a[1]=l=>n.value=!1),onSaveException:i})):ge("",!0)],64))}},sz=Ur(oz,[["__scopeId","data-v-2eae121c"]]),az={class:"max-w-xl mx-auto bg-white"},lz={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},uz={class:"flex justify-between items-center mb-3"},cz=I("span",{class:"text-gray-900 text-base font-medium"},"Çalışma Saatleri",-1),dz={class:"inline-flex items-center cursor-pointer"},fz=I("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),hz=I("span",{class:"sr-only"},"Çalışma Saatleri",-1),pz=I("div",{class:"flex items-center"},[I("p",{class:"text-sm text-gray-500 font-normal"}," Tüm haftalık çalışma günleri için iş çalışma saatlerini etkinleştir veya devre dışı bırak ")],-1),mz={class:"flex items-center justify-between"},gz={class:"flex items-center"},vz={class:"inline-flex items-center cursor-pointer"},yz=["onUpdate:modelValue","id"],_z=I("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),bz=I("span",{class:"sr-only"},"Çalışma Saatleri",-1),wz=["for"],Tz=["onClick"],Ez={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},kz=["d"],Az={key:0,class:"mt-4"},xz=["onUpdate:modelValue"],Iz=["value"],Sz=I("span",null,"-",-1),Rz=["onUpdate:modelValue"],Oz=["value"],Pz={key:0,class:"flex items-center"},Cz=["onClick"],Dz=I("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Nz=[Dz],Mz=["disabled","onClick"],Lz=I("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[I("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),$z=[Lz],Vz=["onClick"],Fz=I("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[I("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),jz=[Fz],Bz=I("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ",-1),Uz={__name:"WorkingHoursScheduler",props:{schedule:Object},emits:["save-schedule"],setup(t,{emit:e}){const n=t,r=e,i=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],o=jr(Array(5).fill(!0));n.schedule.days.forEach((d,f)=>{Gt(()=>d.enabled,h=>{h||(o[f]=!0)})});const s=d=>{o[d]=!o[d]},a=d=>{n.schedule.days[d].intervals.push({start:"09:00",end:"17:00"})},l=(d,f)=>{n.schedule.days[d].intervals.splice(f,1)};function u(d){const[f,h]=d.split(":").map(Number);return f*60+h}const c=()=>{const d={isWorkingHoursEnabled:n.schedule.isWorkingHoursEnabled,days:n.schedule.days.map(f=>({name:f.name,enabled:f.enabled,intervals:f.intervals.map(h=>{const p=u(h.start),_=(u(h.end)-p)/60;return{start:h.start,end:h.end,length:_}})}))};r("save-schedule",d)};return(d,f)=>(ee(),le("div",az,[I("form",{onSubmit:Nr(c,["prevent"])},[I("div",lz,[I("div",uz,[cz,I("label",dz,[Tt(I("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>n.schedule.isWorkingHoursEnabled=h),type:"checkbox",class:"sr-only peer"},null,512),[[Hs,n.schedule.isWorkingHoursEnabled]]),fz,hz])]),pz]),(ee(!0),le(Se,null,Qe(t.schedule.days,(h,p)=>(ee(),le("div",{key:p,class:Je(["border rounded-lg p-4 mb-4",{"border-gray-300":h.enabled,"opacity-50":!h.enabled}])},[I("div",mz,[I("div",gz,[I("label",vz,[Tt(I("input",{"onUpdate:modelValue":m=>h.enabled=m,type:"checkbox",id:`toggle-${h.name}`,class:"sr-only peer"},null,8,yz),[[Hs,h.enabled]]),_z,bz]),I("label",{for:`toggle-${h.name}`,class:"ml-2 p-1.5 text-sm font-medium text-gray-900"},xe(h.name),9,wz)]),h.enabled?(ee(),le("div",{key:0,onClick:m=>s(p),class:"text-gray-500 p-1.5 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},[(ee(),le("svg",Ez,[I("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o[p]?"M19 9l-7 7-7-7":"M19 15l-7-7-7 7"},null,8,kz)]))],8,Tz)):ge("",!0)]),o[p]?ge("",!0):(ee(),le("div",Az,[(ee(!0),le(Se,null,Qe(h.intervals,(m,_)=>(ee(),le("div",{key:_,class:"flex items-center mb-2"},[Tt(I("select",{"onUpdate:modelValue":v=>m.start=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ee(),le(Se,null,Qe(i,v=>I("option",{key:v,value:v},xe(v),9,Iz)),64))],8,xz),[[yo,m.start]]),Sz,Tt(I("select",{"onUpdate:modelValue":v=>m.end=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 ml-2"},[(ee(),le(Se,null,Qe(i,v=>I("option",{key:v,value:v},xe(v),9,Oz)),64))],8,Rz),[[yo,m.end]]),_===h.intervals.length-1?(ee(),le("div",Pz,[I("button",{onClick:v=>a(p),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},Nz,8,Cz),I("button",{disabled:h.intervals.length===1,onClick:v=>l(p,_),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},$z,8,Mz)])):(ee(),le("button",{key:1,onClick:v=>l(p,_),type:"button",class:"inline-flex items-center ml-2 mr-10 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},jz,8,Vz))]))),128))]))],2))),128)),Bz],32)]))}},qz={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Hz={class:"bg-white rounded-lg p-6 shadow-lg w-[32rem]"},zz={class:"flex items-center justify-between"},Kz=I("div",{class:"flex items-center"},[I("svg",{class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),I("h3",{class:"text-lg font-semibold text-gray-900 ml-2"},"Başarıyla Kaydedildi")],-1),Yz={class:"pl-4"},Wz=I("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[I("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Gz=I("span",{class:"sr-only"},"Close modal",-1),Qz=[Wz,Gz],Xz={class:"mt-4 text-gray-700"},Q_={__name:"SuccessModal",props:{contentText:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ee(),le("div",qz,[I("div",Hz,[I("div",zz,[Kz,I("div",Yz,[I("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Qz)])]),I("p",Xz,xe(t.contentText),1),I("button",{onClick:r[1]||(r[1]=i=>n.$emit("close")),class:"mt-6 bg-green-500 text-white px-4 py-2 rounded-lg w-full"}," OK ")])]))}},Jz={key:0},Zz={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},eK={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},tK=I("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[I("span",{class:"mb-2"},"Periyodik Çalışma Saatlerini Seç")],-1),nK={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},rK=I("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[I("span",{class:"mb-2"},"İstisnai Çalışma Saatleri")],-1),iK={key:1},oK={__name:"AppointmentSettings",setup(t){const e=Ao(),n=he(!1),r=he(!1),i=pe(()=>e.getters.userRole),o=pe(()=>e.getters.user?e.getters.user.uid:null);he([]);const s=Wl(Ir,"attorneys"),a=he([]),l=he({isWorkingHoursEnabled:!1,days:[]}),u=he([{duration:"",price:"",type:""}]),c=g=>{a.value.push(g),p(g),console.log("Saved Exception:",a.value)},d=g=>{a.value.splice(g,1),m(g)},f=g=>{l.value=g,_(g),console.log("Saved Schedule:",l.value),n.value=!0},h=g=>{u.value=g,v(),console.log("Saved Appointment Settings:",u.value),r.value=!0};async function p(g){try{const w=gr(s,o.value);await Fs(w,{exceptions:o3(g)}),console.log("Exception added successfully")}catch(w){console.error("Error adding exception:",w)}}async function m(g){try{const w=gr(s,o.value),P=[...a.value];P.splice(g,1),await Fs(w,{exceptions:P}),a.value=P,console.log("Exception removed successfully")}catch(w){console.error("Error removing exception:",w)}}async function _(g){try{const w=gr(s,o.value);await Fs(w,{schedule:g}),console.log("Schedule updated successfully")}catch(w){console.error("Error updating schedule:",w)}}async function v(){try{const g=gr(s,o.value);await Fs(g,{appointment_settings:u.value}),console.log("Appointment settings updated successfully")}catch(g){console.error("Error updating appointment settings:",g)}}async function y(){try{const g=await b(o.value);g.schedule&&(l.value=g.schedule),g.exceptions&&(a.value=g.exceptions),g.appointment_settings&&(u.value=g.appointment_settings),console.log("Schedule and exceptions fetched successfully")}catch(g){console.error("Error fetching schedule and exceptions:",g)}}async function b(g){const w=gr(s,g),P=await id(w);if(P.exists())return{id:P.id,...P.data()};throw new Error("Attorney not found")}return bt(()=>{y()}),(g,w)=>i.value==="attorney"?(ee(),le("div",Jz,[n.value?(ee(),Be(Q_,{key:0,contentText:"Haftalık çalışma saatleri değişikliği başarıyla kaydedildi. Bu randevu saatleri her hafta için tekrarlanarak uygulanacaktır.",onClose:w[0]||(w[0]=P=>n.value=!1)})):ge("",!0),r.value?(ee(),Be(Q_,{key:1,contentText:"Randevu seçenek ayarlarınız başarıyla kaydedildi.",onClose:w[1]||(w[1]=P=>r.value=!1)})):ge("",!0),Ue(pk,{appointmentSettings:u.value,onSaveAppointmentSettings:h},null,8,["appointmentSettings"]),I("div",Zz,[I("div",eK,[tK,Ue(Uz,{schedule:l.value,onSaveSchedule:f},null,8,["schedule"])]),I("div",nK,[rK,Ue(sz,{exceptions:a.value,onAddException:c,onRemoveException:d},null,8,["exceptions"])])])])):(ee(),le("div",iK,"admin"))}},sK=[{path:"/",name:"LoginPage",component:b3},{path:"/unauthorized",name:"Unauthorized",component:_H},{path:"/:pathMatch(.*)*",name:"NotFound",component:hH},{path:"/",component:i$,meta:{requiresAuth:!0},children:[{path:"home",name:"Home",component:p_,meta:{requiresAuth:!0}},{path:"home/:uid",name:"HomeWithUID",component:p_,meta:{requiresAuth:!0}},{path:"online-meetings",name:"OnlineMeetings",component:F_,meta:{requiresAuth:!0,role:"admin"}},{path:"online-meetings/:uid",name:"OnlineMeetingsWithUID",component:F_,meta:{requiresAuth:!0}},{path:"blogs",name:"Blogs",component:iH,meta:{requiresAuth:!0,role:"admin"}},{path:"lawyers",name:"Lawyers",component:oH,meta:{requiresAuth:!0,role:"admin"}},{path:"settings",name:"Settings",component:G_,meta:{requiresAuth:!0}},{path:"settings/:uid",name:"SettingsWithUID",component:G_,meta:{requiresAuth:!0}},{path:"appointment-settings/:uid",name:"AppointmentSettingsWithUID",component:oK,meta:{requiresAuth:!0}}]}],CA=_R({history:WS(),routes:sK,linkActiveClass:"bg-gray-950 text-white"});CA.beforeEach(async(t,e,n)=>{if(await Tc.dispatch("initializeAuth"),t.meta.requiresAuth&&!Tc.getters.isAuthenticated)n("/");else if(t.meta.requiresAuth){const r=Tc.getters.userRole;t.meta.role&&t.meta.role!==r?n(r==="attorney"?"/home":"/unauthorized"):n()}else n()});const aK={};function lK(t,e){const n=xm("router-view");return ee(),Be(n)}const uK=Ur(aK,[["render",lK]]);aS(uK).use(CA).use(Tc).component("VueDatePicker",Eu).mount("#app");
