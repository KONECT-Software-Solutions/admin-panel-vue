var Yx=Object.defineProperty;var Gx=(t,e,n)=>e in t?Yx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Me=(t,e,n)=>Gx(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hg(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Ot={},oa=[],Sr=()=>{},Qx=()=>!1,Bd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pg=t=>t.startsWith("onUpdate:"),on=Object.assign,mg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Xx=Object.prototype.hasOwnProperty,dt=(t,e)=>Xx.call(t,e),je=Array.isArray,sa=t=>_u(t)==="[object Map]",Na=t=>_u(t)==="[object Set]",Ny=t=>_u(t)==="[object Date]",Ze=t=>typeof t=="function",$t=t=>typeof t=="string",qi=t=>typeof t=="symbol",kt=t=>t!==null&&typeof t=="object",Ab=t=>(kt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),kb=Object.prototype.toString,_u=t=>kb.call(t),Jx=t=>_u(t).slice(8,-1),xb=t=>_u(t)==="[object Object]",gg=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Tl=hg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Zx=/-(\w)/g,Ai=jd(t=>t.replace(Zx,(e,n)=>n?n.toUpperCase():"")),eI=/\B([A-Z])/g,Rs=jd(t=>t.replace(eI,"-$1").toLowerCase()),qd=jd(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wh=jd(t=>t?`on${qd(t)}`:""),Ro=(t,e)=>!Object.is(t,e),Pc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ib=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Jc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},tI=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let Ly;const Sb=()=>Ly||(Ly=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vn(t){if(je(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=$t(r)?oI(r):vn(r);if(i)for(const o in i)e[o]=i[o]}return e}else if($t(t)||kt(t))return t}const nI=/;(?![^(]*\))/g,rI=/:([^]+)/,iI=/\/\*[^]*?\*\//g;function oI(t){const e={};return t.replace(iI,"").split(nI).forEach(n=>{if(n){const r=n.split(rI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ge(t){let e="";if($t(t))e=t;else if(je(t))for(let n=0;n<t.length;n++){const r=Ge(t[n]);r&&(e+=r+" ")}else if(kt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function yn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!$t(e)&&(t.class=Ge(e)),n&&(t.style=vn(n)),t}const sI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aI=hg(sI);function Rb(t){return!!t||t===""}function lI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=bu(t[r],e[r]);return n}function bu(t,e){if(t===e)return!0;let n=Ny(t),r=Ny(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=qi(t),r=qi(e),n||r)return t===e;if(n=je(t),r=je(e),n||r)return n&&r?lI(t,e):!1;if(n=kt(t),r=kt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!bu(t[s],e[s]))return!1}}return String(t)===String(e)}function vg(t,e){return t.findIndex(n=>bu(n,e))}const Ie=t=>$t(t)?t:t==null?"":je(t)||kt(t)&&(t.toString===kb||!Ze(t.toString))?JSON.stringify(t,Ob,2):String(t),Ob=(t,e)=>e&&e.__v_isRef?Ob(t,e.value):sa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[Yh(r,o)+" =>"]=i,n),{})}:Na(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Yh(n))}:qi(e)?Yh(e):kt(e)&&!je(e)&&!xb(e)?String(e):e,Yh=(t,e="")=>{var n;return qi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vr;class Pb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vr,!e&&vr&&(this.index=(vr.scopes||(vr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=vr;try{return vr=this,e()}finally{vr=n}}}on(){vr=this}off(){vr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function uI(t){return new Pb(t)}function cI(t,e=vr){e&&e.active&&e.effects.push(t)}function Cb(){return vr}function dI(t){vr&&vr.cleanups.push(t)}let ds;class yg{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,cI(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Lo();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(fI(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),$o()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=wo,n=ds;try{return wo=!0,ds=this,this._runnings++,$y(this),this.fn()}finally{Vy(this),this._runnings--,ds=n,wo=e}}stop(){this.active&&($y(this),Vy(this),this.onStop&&this.onStop(),this.active=!1)}}function fI(t){return t.value}function $y(t){t._trackId++,t._depsLength=0}function Vy(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Db(t.deps[e],t);t.deps.length=t._depsLength}}function Db(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let wo=!0,Zp=0;const Mb=[];function Lo(){Mb.push(wo),wo=!1}function $o(){const t=Mb.pop();wo=t===void 0?!0:t}function _g(){Zp++}function bg(){for(Zp--;!Zp&&em.length;)em.shift()()}function Nb(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Db(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const em=[];function Lb(t,e,n){_g();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&em.push(r.scheduler)))}bg()}const $b=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Zc=new WeakMap,fs=Symbol(""),tm=Symbol("");function mr(t,e,n){if(wo&&ds){let r=Zc.get(t);r||Zc.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=$b(()=>r.delete(n))),Nb(ds,i)}}function Ui(t,e,n,r,i,o){const s=Zc.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&je(t)){const l=Number(r);s.forEach((f,u)=>{(u==="length"||!qi(u)&&u>=l)&&a.push(f)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":je(t)?gg(n)&&a.push(s.get("length")):(a.push(s.get(fs)),sa(t)&&a.push(s.get(tm)));break;case"delete":je(t)||(a.push(s.get(fs)),sa(t)&&a.push(s.get(tm)));break;case"set":sa(t)&&a.push(s.get(fs));break}_g();for(const l of a)l&&Lb(l,4);bg()}function hI(t,e){const n=Zc.get(t);return n&&n.get(e)}const pI=hg("__proto__,__v_isRef,__isVue"),Vb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qi)),Fy=mI();function mI(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ht(this);for(let o=0,s=this.length;o<s;o++)mr(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ht)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Lo(),_g();const r=ht(this)[e].apply(this,n);return bg(),$o(),r}}),t}function gI(t){qi(t)||(t=String(t));const e=ht(this);return mr(e,"has",t),e.hasOwnProperty(t)}class Fb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?RI:qb:o?jb:Bb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=je(e);if(!i){if(s&&dt(Fy,n))return Reflect.get(Fy,n,r);if(n==="hasOwnProperty")return gI}const a=Reflect.get(e,n,r);return(qi(n)?Vb.has(n):pI(n))||(i||mr(e,"get",n),o)?a:_n(a)?s&&gg(n)?a:a.value:kt(a)?i?zb(a):Dr(a):a}}class Ub extends Fb{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=ql(o);if(!ed(r)&&!ql(r)&&(o=ht(o),r=ht(r)),!je(e)&&_n(o)&&!_n(r))return l?!1:(o.value=r,!0)}const s=je(e)&&gg(n)?Number(n)<e.length:dt(e,n),a=Reflect.set(e,n,r,i);return e===ht(i)&&(s?Ro(r,o)&&Ui(e,"set",n,r):Ui(e,"add",n,r)),a}deleteProperty(e,n){const r=dt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ui(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!qi(n)||!Vb.has(n))&&mr(e,"has",n),r}ownKeys(e){return mr(e,"iterate",je(e)?"length":fs),Reflect.ownKeys(e)}}class vI extends Fb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const yI=new Ub,_I=new vI,bI=new Ub(!0);const wg=t=>t,Hd=t=>Reflect.getPrototypeOf(t);function sc(t,e,n=!1,r=!1){t=t.__v_raw;const i=ht(t),o=ht(e);n||(Ro(e,o)&&mr(i,"get",e),mr(i,"get",o));const{has:s}=Hd(i),a=r?wg:n?Ag:Hl;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function ac(t,e=!1){const n=this.__v_raw,r=ht(n),i=ht(t);return e||(Ro(t,i)&&mr(r,"has",t),mr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function lc(t,e=!1){return t=t.__v_raw,!e&&mr(ht(t),"iterate",fs),Reflect.get(t,"size",t)}function Uy(t){t=ht(t);const e=ht(this);return Hd(e).has.call(e,t)||(e.add(t),Ui(e,"add",t,t)),this}function By(t,e){e=ht(e);const n=ht(this),{has:r,get:i}=Hd(n);let o=r.call(n,t);o||(t=ht(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Ro(e,s)&&Ui(n,"set",t,e):Ui(n,"add",t,e),this}function jy(t){const e=ht(this),{has:n,get:r}=Hd(e);let i=n.call(e,t);i||(t=ht(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Ui(e,"delete",t,void 0),o}function qy(){const t=ht(this),e=t.size!==0,n=t.clear();return e&&Ui(t,"clear",void 0,void 0),n}function uc(t,e){return function(r,i){const o=this,s=o.__v_raw,a=ht(s),l=e?wg:t?Ag:Hl;return!t&&mr(a,"iterate",fs),s.forEach((f,u)=>r.call(i,l(f),l(u),o))}}function cc(t,e,n){return function(...r){const i=this.__v_raw,o=ht(i),s=sa(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,f=i[t](...r),u=n?wg:e?Ag:Hl;return!e&&mr(o,"iterate",l?tm:fs),{next(){const{value:c,done:d}=f.next();return d?{value:c,done:d}:{value:a?[u(c[0]),u(c[1])]:u(c),done:d}},[Symbol.iterator](){return this}}}}function Zi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function wI(){const t={get(o){return sc(this,o)},get size(){return lc(this)},has:ac,add:Uy,set:By,delete:jy,clear:qy,forEach:uc(!1,!1)},e={get(o){return sc(this,o,!1,!0)},get size(){return lc(this)},has:ac,add:Uy,set:By,delete:jy,clear:qy,forEach:uc(!1,!0)},n={get(o){return sc(this,o,!0)},get size(){return lc(this,!0)},has(o){return ac.call(this,o,!0)},add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear"),forEach:uc(!0,!1)},r={get(o){return sc(this,o,!0,!0)},get size(){return lc(this,!0)},has(o){return ac.call(this,o,!0)},add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear"),forEach:uc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=cc(o,!1,!1),n[o]=cc(o,!0,!1),e[o]=cc(o,!1,!0),r[o]=cc(o,!0,!0)}),[t,n,e,r]}const[EI,TI,AI,kI]=wI();function Eg(t,e){const n=e?t?kI:AI:t?TI:EI;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(dt(n,i)&&i in r?n:r,i,o)}const xI={get:Eg(!1,!1)},II={get:Eg(!1,!0)},SI={get:Eg(!0,!1)};const Bb=new WeakMap,jb=new WeakMap,qb=new WeakMap,RI=new WeakMap;function OI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PI(t){return t.__v_skip||!Object.isExtensible(t)?0:OI(Jx(t))}function Dr(t){return ql(t)?t:Tg(t,!1,yI,xI,Bb)}function Hb(t){return Tg(t,!1,bI,II,jb)}function zb(t){return Tg(t,!0,_I,SI,qb)}function Tg(t,e,n,r,i){if(!kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=PI(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Al(t){return ql(t)?Al(t.__v_raw):!!(t&&t.__v_isReactive)}function ql(t){return!!(t&&t.__v_isReadonly)}function ed(t){return!!(t&&t.__v_isShallow)}function Kb(t){return t?!!t.__v_raw:!1}function ht(t){const e=t&&t.__v_raw;return e?ht(e):t}function CI(t){return Object.isExtensible(t)&&Ib(t,"__v_skip",!0),t}const Hl=t=>kt(t)?Dr(t):t,Ag=t=>kt(t)?zb(t):t;class Wb{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new yg(()=>e(this._value),()=>Cc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ht(this);return(!e._cacheable||e.effect.dirty)&&Ro(e._value,e._value=e.effect.run())&&Cc(e,4),Yb(e),e.effect._dirtyLevel>=2&&Cc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function DI(t,e,n=!1){let r,i;const o=Ze(t);return o?(r=t,i=Sr):(r=t.get,i=t.set),new Wb(r,i,o||!i,n)}function Yb(t){var e;wo&&ds&&(t=ht(t),Nb(ds,(e=t.dep)!=null?e:t.dep=$b(()=>t.dep=void 0,t instanceof Wb?t:void 0)))}function Cc(t,e=4,n){t=ht(t);const r=t.dep;r&&Lb(r,e)}function _n(t){return!!(t&&t.__v_isRef===!0)}function he(t){return Gb(t,!1)}function MI(t){return Gb(t,!0)}function Gb(t,e){return _n(t)?t:new NI(t,e)}class NI{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ht(e),this._value=n?e:Hl(e)}get value(){return Yb(this),this._value}set value(e){const n=this.__v_isShallow||ed(e)||ql(e);e=n?e:ht(e),Ro(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Hl(e),Cc(this,4))}}function le(t){return _n(t)?t.value:t}const LI={get:(t,e,n)=>le(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return _n(i)&&!_n(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Qb(t){return Al(t)?t:new Proxy(t,LI)}class $I{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hI(ht(this._object),this._key)}}class VI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function zl(t,e,n){return _n(t)?t:Ze(t)?new VI(t):kt(t)&&arguments.length>1?FI(t,e,n):he(t)}function FI(t,e,n){const r=t[e];return _n(r)?r:new $I(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Eo(t,e,n,r){try{return r?t(...r):t()}catch(i){zd(i,e,n)}}function Rr(t,e,n,r){if(Ze(t)){const i=Eo(t,e,n,r);return i&&Ab(i)&&i.catch(o=>{zd(o,e,n)}),i}if(je(t)){const i=[];for(let o=0;o<t.length;o++)i.push(Rr(t[o],e,n,r));return i}}function zd(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Lo(),Eo(l,null,10,[t,s,a]),$o();return}}UI(t,n,i,r)}function UI(t,e,n,r=!0){console.error(t)}let Kl=!1,nm=!1;const Kn=[];let ui=0;const aa=[];let ao=null,ns=0;const Xb=Promise.resolve();let kg=null;function Nn(t){const e=kg||Xb;return t?e.then(this?t.bind(this):t):e}function BI(t){let e=ui+1,n=Kn.length;for(;e<n;){const r=e+n>>>1,i=Kn[r],o=Wl(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function xg(t){(!Kn.length||!Kn.includes(t,Kl&&t.allowRecurse?ui+1:ui))&&(t.id==null?Kn.push(t):Kn.splice(BI(t.id),0,t),Jb())}function Jb(){!Kl&&!nm&&(nm=!0,kg=Xb.then(ew))}function jI(t){const e=Kn.indexOf(t);e>ui&&Kn.splice(e,1)}function qI(t){je(t)?aa.push(...t):(!ao||!ao.includes(t,t.allowRecurse?ns+1:ns))&&aa.push(t),Jb()}function Hy(t,e,n=Kl?ui+1:0){for(;n<Kn.length;n++){const r=Kn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Kn.splice(n,1),n--,r()}}}function Zb(t){if(aa.length){const e=[...new Set(aa)].sort((n,r)=>Wl(n)-Wl(r));if(aa.length=0,ao){ao.push(...e);return}for(ao=e,ns=0;ns<ao.length;ns++)ao[ns]();ao=null,ns=0}}const Wl=t=>t.id==null?1/0:t.id,HI=(t,e)=>{const n=Wl(t)-Wl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function ew(t){nm=!1,Kl=!0,Kn.sort(HI);try{for(ui=0;ui<Kn.length;ui++){const e=Kn[ui];e&&e.active!==!1&&Eo(e,null,14)}}finally{ui=0,Kn.length=0,Zb(),Kl=!1,kg=null,(Kn.length||aa.length)&&ew()}}function zI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ot;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:d}=r[u]||Ot;d&&(i=n.map(h=>$t(h)?h.trim():h)),c&&(i=n.map(Jc))}let a,l=r[a=Wh(e)]||r[a=Wh(Ai(e))];!l&&o&&(l=r[a=Wh(Rs(e))]),l&&Rr(l,t,6,i);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Rr(f,t,6,i)}}function tw(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Ze(t)){const l=f=>{const u=tw(f,e,!0);u&&(a=!0,on(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(kt(t)&&r.set(t,null),null):(je(o)?o.forEach(l=>s[l]=null):on(s,o),kt(t)&&r.set(t,s),s)}function Kd(t,e){return!t||!Bd(e)?!1:(e=e.slice(2).replace(/Once$/,""),dt(t,e[0].toLowerCase()+e.slice(1))||dt(t,Rs(e))||dt(t,e))}let cn=null,Wd=null;function td(t){const e=cn;return cn=t,Wd=t&&t.type.__scopeId||null,e}function Yd(t){Wd=t}function Gd(){Wd=null}function ze(t,e=cn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&i0(-1);const o=td(e);let s;try{s=t(...i)}finally{td(o),r._d&&i0(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Gh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:f,renderCache:u,props:c,data:d,setupState:h,ctx:p,inheritAttrs:m}=t,y=td(t);let v,_;try{if(n.shapeFlag&4){const g=i||r,w=g;v=ai(f.call(w,g,u,c,h,d,p)),_=a}else{const g=e;v=ai(g.length>1?g(c,{attrs:a,slots:s,emit:l}):g(c,null)),_=e.props?a:KI(a)}}catch(g){Rl.length=0,zd(g,t,1),v=qe(_r)}let b=v;if(_&&m!==!1){const g=Object.keys(_),{shapeFlag:w}=b;g.length&&w&7&&(o&&g.some(pg)&&(_=WI(_,o)),b=Oo(b,_,!1,!0))}return n.dirs&&(b=Oo(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,td(y),v}const KI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Bd(n))&&((e||(e={}))[n]=t[n]);return e},WI=(t,e)=>{const n={};for(const r in t)(!pg(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function YI(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?zy(r,s,f):!!s;if(l&8){const u=e.dynamicProps;for(let c=0;c<u.length;c++){const d=u[c];if(s[d]!==r[d]&&!Kd(f,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?zy(r,s,f):!0:!!s;return!1}function zy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Kd(n,o))return!0}return!1}function GI({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const nw="components";function Ig(t,e){return iw(nw,t,!0,e)||t}const rw=Symbol.for("v-ndc");function Qd(t){return $t(t)?iw(nw,t,!1)||t:t||rw}function iw(t,e,n=!0,r=!1){const i=cn||On;if(i){const o=i.type;{const a=qS(o,!1);if(a&&(a===e||a===Ai(e)||a===qd(Ai(e))))return o}const s=Ky(i[t]||o[t],e)||Ky(i.appContext[t],e);return!s&&r?o:s}}function Ky(t,e){return t&&(t[e]||t[Ai(e)]||t[qd(Ai(e))])}const QI=t=>t.__isSuspense;function XI(t,e){e&&e.pendingBranch?je(t)?e.effects.push(...t):e.effects.push(t):qI(t)}const JI=Symbol.for("v-scx"),ZI=()=>qr(JI),dc={};function rn(t,e,n){return ow(t,e,n)}function ow(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:a}=Ot){if(e&&o){const k=e;e=(...S)=>{k(...S),w()}}const l=On,f=k=>r===!0?k:is(k,r===!1?1:void 0);let u,c=!1,d=!1;if(_n(t)?(u=()=>t.value,c=ed(t)):Al(t)?(u=()=>f(t),c=!0):je(t)?(d=!0,c=t.some(k=>Al(k)||ed(k)),u=()=>t.map(k=>{if(_n(k))return k.value;if(Al(k))return f(k);if(Ze(k))return Eo(k,l,2)})):Ze(t)?e?u=()=>Eo(t,l,2):u=()=>(h&&h(),Rr(t,l,3,[p])):u=Sr,e&&r){const k=u;u=()=>is(k())}let h,p=k=>{h=b.onStop=()=>{Eo(k,l,4),h=b.onStop=void 0}},m;if(ef)if(p=Sr,e?n&&Rr(e,l,3,[u(),d?[]:void 0,p]):u(),i==="sync"){const k=ZI();m=k.__watcherHandles||(k.__watcherHandles=[])}else return Sr;let y=d?new Array(t.length).fill(dc):dc;const v=()=>{if(!(!b.active||!b.dirty))if(e){const k=b.run();(r||c||(d?k.some((S,E)=>Ro(S,y[E])):Ro(k,y)))&&(h&&h(),Rr(e,l,3,[k,y===dc?void 0:d&&y[0]===dc?[]:y,p]),y=k)}else b.run()};v.allowRecurse=!!e;let _;i==="sync"?_=v:i==="post"?_=()=>ar(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),_=()=>xg(v));const b=new yg(u,Sr,_),g=Cb(),w=()=>{b.stop(),g&&mg(g.effects,b)};return e?n?v():y=b.run():i==="post"?ar(b.run.bind(b),l&&l.suspense):b.run(),m&&m.push(w),w}function eS(t,e,n){const r=this.proxy,i=$t(t)?t.includes(".")?sw(r,t):()=>r[t]:t.bind(r,r);let o;Ze(e)?o=e:(o=e.handler,n=e);const s=wu(this),a=ow(i,o.bind(r),n);return s(),a}function sw(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function is(t,e=1/0,n){if(e<=0||!kt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,_n(t))is(t.value,e,n);else if(je(t))for(let r=0;r<t.length;r++)is(t[r],e,n);else if(Na(t)||sa(t))t.forEach(r=>{is(r,e,n)});else if(xb(t))for(const r in t)is(t[r],e,n);return t}function Et(t,e){if(cn===null)return t;const n=tf(cn)||cn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=Ot]=e[i];o&&(Ze(o)&&(o={mounted:o,updated:o}),o.deep&&is(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Go(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Lo(),Rr(l,n,8,[t.el,a,t,e]),$o())}}const lo=Symbol("_leaveCb"),fc=Symbol("_enterCb");function tS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yt(()=>{t.isMounted=!0}),Sg(()=>{t.isUnmounting=!0}),t}const xr=[Function,Array],aw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xr,onEnter:xr,onAfterEnter:xr,onEnterCancelled:xr,onBeforeLeave:xr,onLeave:xr,onAfterLeave:xr,onLeaveCancelled:xr,onBeforeAppear:xr,onAppear:xr,onAfterAppear:xr,onAppearCancelled:xr},nS={name:"BaseTransition",props:aw,setup(t,{slots:e}){const n=Sw(),r=tS();return()=>{const i=e.default&&uw(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const d of i)if(d.type!==_r){o=d;break}}const s=ht(t),{mode:a}=s;if(r.isLeaving)return Qh(o);const l=Wy(o);if(!l)return Qh(o);const f=rm(l,s,r,n);im(l,f);const u=n.subTree,c=u&&Wy(u);if(c&&c.type!==_r&&!rs(l,c)){const d=rm(c,s,r,n);if(im(c,d),a==="out-in"&&l.type!==_r)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Qh(o);a==="in-out"&&l.type!==_r&&(d.delayLeave=(h,p,m)=>{const y=lw(r,c);y[String(c.key)]=c,h[lo]=()=>{p(),h[lo]=void 0,delete f.delayedLeave},f.delayedLeave=m})}return o}}},rS=nS;function lw(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function rm(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:u,onBeforeLeave:c,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:_}=e,b=String(t.key),g=lw(n,t),w=(E,I)=>{E&&Rr(E,r,9,I)},k=(E,I)=>{const x=I[1];w(E,I),je(E)?E.every(A=>A.length<=1)&&x():E.length<=1&&x()},S={mode:o,persisted:s,beforeEnter(E){let I=a;if(!n.isMounted)if(i)I=m||a;else return;E[lo]&&E[lo](!0);const x=g[b];x&&rs(t,x)&&x.el[lo]&&x.el[lo](),w(I,[E])},enter(E){let I=l,x=f,A=u;if(!n.isMounted)if(i)I=y||l,x=v||f,A=_||u;else return;let T=!1;const R=E[fc]=N=>{T||(T=!0,N?w(A,[E]):w(x,[E]),S.delayedLeave&&S.delayedLeave(),E[fc]=void 0)};I?k(I,[E,R]):R()},leave(E,I){const x=String(t.key);if(E[fc]&&E[fc](!0),n.isUnmounting)return I();w(c,[E]);let A=!1;const T=E[lo]=R=>{A||(A=!0,I(),R?w(p,[E]):w(h,[E]),E[lo]=void 0,g[x]===t&&delete g[x])};g[x]=t,d?k(d,[E,T]):T()},clone(E){return rm(E,e,n,r)}};return S}function Qh(t){if(Xd(t))return t=Oo(t),t.children=null,t}function Wy(t){if(!Xd(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function im(t,e){t.shapeFlag&6&&t.component?im(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function uw(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Pe?(s.patchFlag&128&&i++,r=r.concat(uw(s.children,e,a))):(e||s.type!==_r)&&r.push(a!=null?Oo(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Jt(t,e){return Ze(t)?on({name:t.name},e,{setup:t}):t}const kl=t=>!!t.type.__asyncLoader,Xd=t=>t.type.__isKeepAlive;function iS(t,e){cw(t,"a",e)}function oS(t,e){cw(t,"da",e)}function cw(t,e,n=On){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Jd(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Xd(i.parent.vnode)&&sS(r,e,n,i),i=i.parent}}function sS(t,e,n,r){const i=Jd(e,t,r,!0);La(()=>{mg(r[e],i)},n)}function Jd(t,e,n=On,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Lo();const a=wu(n),l=Rr(e,n,t,s);return a(),$o(),l});return r?i.unshift(o):i.push(o),o}}const Qi=t=>(e,n=On)=>(!ef||t==="sp")&&Jd(t,(...r)=>e(...r),n),aS=Qi("bm"),yt=Qi("m"),dw=Qi("bu"),lS=Qi("u"),Sg=Qi("bum"),La=Qi("um"),uS=Qi("sp"),cS=Qi("rtg"),dS=Qi("rtc");function fS(t,e=On){Jd("ec",t,e)}function Xe(t,e,n,r){let i;const o=n;if(je(t)||$t(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o)}else if(kt(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const f=s[a];i[a]=e(t[f],f,a,o)}}else i=[];return i}function Wn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(je(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Ne(t,e,n={},r,i){if(cn.isCE||cn.parent&&kl(cn.parent)&&cn.parent.isCE)return e!=="default"&&(n.name=e),qe("slot",n,r);let o=t[e];o&&o._c&&(o._d=!1),ie();const s=o&&fw(o(n)),a=Ue(Pe,{key:n.key||s&&s.key||`_${e}`},s||[],s&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function fw(t){return t.some(e=>rd(e)?!(e.type===_r||e.type===Pe&&!fw(e.children)):!0)?t:null}const om=t=>t?Rw(t)?tf(t)||t.proxy:om(t.parent):null,xl=on(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>om(t.parent),$root:t=>om(t.root),$emit:t=>t.emit,$options:t=>Rg(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,xg(t.update)}),$nextTick:t=>t.n||(t.n=Nn.bind(t.proxy)),$watch:t=>eS.bind(t)}),Xh=(t,e)=>t!==Ot&&!t.__isScriptSetup&&dt(t,e),hS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Xh(r,e))return s[e]=1,r[e];if(i!==Ot&&dt(i,e))return s[e]=2,i[e];if((f=t.propsOptions[0])&&dt(f,e))return s[e]=3,o[e];if(n!==Ot&&dt(n,e))return s[e]=4,n[e];sm&&(s[e]=0)}}const u=xl[e];let c,d;if(u)return e==="$attrs"&&mr(t.attrs,"get",""),u(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==Ot&&dt(n,e))return s[e]=4,n[e];if(d=l.config.globalProperties,dt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Xh(i,e)?(i[e]=n,!0):r!==Ot&&dt(r,e)?(r[e]=n,!0):dt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==Ot&&dt(t,s)||Xh(e,s)||(a=o[0])&&dt(a,s)||dt(r,s)||dt(xl,s)||dt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:dt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Os(){return pS().slots}function pS(){const t=Sw();return t.setupContext||(t.setupContext=Pw(t))}function Yy(t){return je(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let sm=!0;function mS(t){const e=Rg(t),n=t.proxy,r=t.ctx;sm=!1,e.beforeCreate&&Gy(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:f,created:u,beforeMount:c,mounted:d,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:_,destroyed:b,unmounted:g,render:w,renderTracked:k,renderTriggered:S,errorCaptured:E,serverPrefetch:I,expose:x,inheritAttrs:A,components:T,directives:R,filters:N}=e;if(f&&gS(f,r,null),s)for(const P in s){const Q=s[P];Ze(Q)&&(r[P]=Q.bind(n))}if(i){const P=i.call(n,n);kt(P)&&(t.data=Dr(P))}if(sm=!0,o)for(const P in o){const Q=o[P],H=Ze(Q)?Q.bind(n,n):Ze(Q.get)?Q.get.bind(n,n):Sr,B=!Ze(Q)&&Ze(Q.set)?Q.set.bind(n):Sr,$=ge({get:H,set:B});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>$.value,set:F=>$.value=F})}if(a)for(const P in a)hw(a[P],r,n,P);if(l){const P=Ze(l)?l.call(n):l;Reflect.ownKeys(P).forEach(Q=>{Dc(Q,P[Q])})}u&&Gy(u,t,"c");function O(P,Q){je(Q)?Q.forEach(H=>P(H.bind(n))):Q&&P(Q.bind(n))}if(O(aS,c),O(yt,d),O(dw,h),O(lS,p),O(iS,m),O(oS,y),O(fS,E),O(dS,k),O(cS,S),O(Sg,_),O(La,g),O(uS,I),je(x))if(x.length){const P=t.exposed||(t.exposed={});x.forEach(Q=>{Object.defineProperty(P,Q,{get:()=>n[Q],set:H=>n[Q]=H})})}else t.exposed||(t.exposed={});w&&t.render===Sr&&(t.render=w),A!=null&&(t.inheritAttrs=A),T&&(t.components=T),R&&(t.directives=R)}function gS(t,e,n=Sr){je(t)&&(t=am(t));for(const r in t){const i=t[r];let o;kt(i)?"default"in i?o=qr(i.from||r,i.default,!0):o=qr(i.from||r):o=qr(i),_n(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function Gy(t,e,n){Rr(je(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function hw(t,e,n,r){const i=r.includes(".")?sw(n,r):()=>n[r];if($t(t)){const o=e[t];Ze(o)&&rn(i,o)}else if(Ze(t))rn(i,t.bind(n));else if(kt(t))if(je(t))t.forEach(o=>hw(o,e,n,r));else{const o=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(o)&&rn(i,o,t)}}function Rg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(f=>nd(l,f,s,!0)),nd(l,e,s)),kt(e)&&o.set(e,l),l}function nd(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&nd(t,o,n,!0),i&&i.forEach(s=>nd(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=vS[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const vS={data:Qy,props:Xy,emits:Xy,methods:ml,computed:ml,beforeCreate:Zn,created:Zn,beforeMount:Zn,mounted:Zn,beforeUpdate:Zn,updated:Zn,beforeDestroy:Zn,beforeUnmount:Zn,destroyed:Zn,unmounted:Zn,activated:Zn,deactivated:Zn,errorCaptured:Zn,serverPrefetch:Zn,components:ml,directives:ml,watch:_S,provide:Qy,inject:yS};function Qy(t,e){return e?t?function(){return on(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function yS(t,e){return ml(am(t),am(e))}function am(t){if(je(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Zn(t,e){return t?[...new Set([].concat(t,e))]:e}function ml(t,e){return t?on(Object.create(null),t,e):e}function Xy(t,e){return t?je(t)&&je(e)?[...new Set([...t,...e])]:on(Object.create(null),Yy(t),Yy(e??{})):e}function _S(t,e){if(!t)return e;if(!e)return t;const n=on(Object.create(null),t);for(const r in e)n[r]=Zn(t[r],e[r]);return n}function pw(){return{app:null,config:{isNativeTag:Qx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bS=0;function wS(t,e){return function(r,i=null){Ze(r)||(r=on({},r)),i!=null&&!kt(i)&&(i=null);const o=pw(),s=new WeakSet;let a=!1;const l=o.app={_uid:bS++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:zS,get config(){return o.config},set config(f){},use(f,...u){return s.has(f)||(f&&Ze(f.install)?(s.add(f),f.install(l,...u)):Ze(f)&&(s.add(f),f(l,...u))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,u){return u?(o.components[f]=u,l):o.components[f]},directive(f,u){return u?(o.directives[f]=u,l):o.directives[f]},mount(f,u,c){if(!a){const d=qe(r,i);return d.appContext=o,c===!0?c="svg":c===!1&&(c=void 0),u&&e?e(d,f):t(d,f,c),a=!0,l._container=f,f.__vue_app__=l,tf(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(f,u){return o.provides[f]=u,l},runWithContext(f){const u=Il;Il=l;try{return f()}finally{Il=u}}};return l}}let Il=null;function Dc(t,e){if(On){let n=On.provides;const r=On.parent&&On.parent.provides;r===n&&(n=On.provides=Object.create(r)),n[t]=e}}function qr(t,e,n=!1){const r=On||cn;if(r||Il){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Il._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}const mw={},gw=()=>Object.create(mw),vw=t=>Object.getPrototypeOf(t)===mw;function ES(t,e,n,r=!1){const i={},o=gw();t.propsDefaults=Object.create(null),yw(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:Hb(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function TS(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ht(i),[l]=t.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let c=0;c<u.length;c++){let d=u[c];if(Kd(t.emitsOptions,d))continue;const h=e[d];if(l)if(dt(o,d))h!==o[d]&&(o[d]=h,f=!0);else{const p=Ai(d);i[p]=lm(l,a,p,h,t,!1)}else h!==o[d]&&(o[d]=h,f=!0)}}}else{yw(t,e,i,o)&&(f=!0);let u;for(const c in a)(!e||!dt(e,c)&&((u=Rs(c))===c||!dt(e,u)))&&(l?n&&(n[c]!==void 0||n[u]!==void 0)&&(i[c]=lm(l,a,c,void 0,t,!0)):delete i[c]);if(o!==a)for(const c in o)(!e||!dt(e,c))&&(delete o[c],f=!0)}f&&Ui(t.attrs,"set","")}function yw(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Tl(l))continue;const f=e[l];let u;i&&dt(i,u=Ai(l))?!o||!o.includes(u)?n[u]=f:(a||(a={}))[u]=f:Kd(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,s=!0)}if(o){const l=ht(n),f=a||Ot;for(let u=0;u<o.length;u++){const c=o[u];n[c]=lm(i,l,c,f[c],t,!dt(f,c))}}return s}function lm(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=dt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ze(l)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const u=wu(i);r=f[n]=l.call(null,e),u()}}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===Rs(n))&&(r=!0))}return r}function _w(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Ze(t)){const u=c=>{l=!0;const[d,h]=_w(c,e,!0);on(s,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return kt(t)&&r.set(t,oa),oa;if(je(o))for(let u=0;u<o.length;u++){const c=Ai(o[u]);Jy(c)&&(s[c]=Ot)}else if(o)for(const u in o){const c=Ai(u);if(Jy(c)){const d=o[u],h=s[c]=je(d)||Ze(d)?{type:d}:on({},d);if(h){const p=t0(Boolean,h.type),m=t0(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||dt(h,"default"))&&a.push(c)}}}const f=[s,a];return kt(t)&&r.set(t,f),f}function Jy(t){return t[0]!=="$"&&!Tl(t)}function Zy(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function e0(t,e){return Zy(t)===Zy(e)}function t0(t,e){return je(e)?e.findIndex(n=>e0(n,t)):Ze(e)&&e0(e,t)?0:-1}const bw=t=>t[0]==="_"||t==="$stable",Og=t=>je(t)?t.map(ai):[ai(t)],AS=(t,e,n)=>{if(e._n)return e;const r=ze((...i)=>Og(e(...i)),n);return r._c=!1,r},ww=(t,e,n)=>{const r=t._ctx;for(const i in t){if(bw(i))continue;const o=t[i];if(Ze(o))e[i]=AS(i,o,r);else if(o!=null){const s=Og(o);e[i]=()=>s}}},Ew=(t,e)=>{const n=Og(e);t.slots.default=()=>n},kS=(t,e)=>{const n=t.slots=gw();if(t.vnode.shapeFlag&32){const r=e._;r?(on(n,e),Ib(n,"_",r,!0)):ww(e,n)}else e&&Ew(t,e)},xS=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Ot;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(on(i,e),!n&&a===1&&delete i._):(o=!e.$stable,ww(e,i)),s=e}else e&&(Ew(t,e),s={default:1});if(o)for(const a in i)!bw(a)&&s[a]==null&&delete i[a]};function um(t,e,n,r,i=!1){if(je(t)){t.forEach((d,h)=>um(d,e&&(je(e)?e[h]:e),n,r,i));return}if(kl(r)&&!i)return;const o=r.shapeFlag&4?tf(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t,f=e&&e.r,u=a.refs===Ot?a.refs={}:a.refs,c=a.setupState;if(f!=null&&f!==l&&($t(f)?(u[f]=null,dt(c,f)&&(c[f]=null)):_n(f)&&(f.value=null)),Ze(l))Eo(l,a,12,[s,u]);else{const d=$t(l),h=_n(l);if(d||h){const p=()=>{if(t.f){const m=d?dt(c,l)?c[l]:u[l]:l.value;i?je(m)&&mg(m,o):je(m)?m.includes(o)||m.push(o):d?(u[l]=[o],dt(c,l)&&(c[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else d?(u[l]=s,dt(c,l)&&(c[l]=s)):h&&(l.value=s,t.k&&(u[t.k]=s))};s?(p.id=-1,ar(p,n)):p()}}}const ar=XI;function IS(t){return SS(t)}function SS(t,e){const n=Sb();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:f,setElementText:u,parentNode:c,nextSibling:d,setScopeId:h=Sr,insertStaticContent:p}=t,m=(q,G,Y,de=null,ee=null,U=null,te=void 0,re=null,se=!!G.dynamicChildren)=>{if(q===G)return;q&&!rs(q,G)&&(de=V(q),F(q,ee,U,!0),q=null),G.patchFlag===-2&&(se=!1,G.dynamicChildren=null);const{type:ne,ref:pe,shapeFlag:ve}=G;switch(ne){case Zd:y(q,G,Y,de);break;case _r:v(q,G,Y,de);break;case Mc:q==null&&_(G,Y,de,te);break;case Pe:T(q,G,Y,de,ee,U,te,re,se);break;default:ve&1?w(q,G,Y,de,ee,U,te,re,se):ve&6?R(q,G,Y,de,ee,U,te,re,se):(ve&64||ve&128)&&ne.process(q,G,Y,de,ee,U,te,re,se,oe)}pe!=null&&ee&&um(pe,q&&q.ref,U,G||q,!G)},y=(q,G,Y,de)=>{if(q==null)r(G.el=a(G.children),Y,de);else{const ee=G.el=q.el;G.children!==q.children&&f(ee,G.children)}},v=(q,G,Y,de)=>{q==null?r(G.el=l(G.children||""),Y,de):G.el=q.el},_=(q,G,Y,de)=>{[q.el,q.anchor]=p(q.children,G,Y,de,q.el,q.anchor)},b=({el:q,anchor:G},Y,de)=>{let ee;for(;q&&q!==G;)ee=d(q),r(q,Y,de),q=ee;r(G,Y,de)},g=({el:q,anchor:G})=>{let Y;for(;q&&q!==G;)Y=d(q),i(q),q=Y;i(G)},w=(q,G,Y,de,ee,U,te,re,se)=>{G.type==="svg"?te="svg":G.type==="math"&&(te="mathml"),q==null?k(G,Y,de,ee,U,te,re,se):I(q,G,ee,U,te,re,se)},k=(q,G,Y,de,ee,U,te,re)=>{let se,ne;const{props:pe,shapeFlag:ve,transition:we,dirs:Se}=q;if(se=q.el=s(q.type,U,pe&&pe.is,pe),ve&8?u(se,q.children):ve&16&&E(q.children,se,null,de,ee,Jh(q,U),te,re),Se&&Go(q,null,de,"created"),S(se,q,q.scopeId,te,de),pe){for(const Oe in pe)Oe!=="value"&&!Tl(Oe)&&o(se,Oe,null,pe[Oe],U,q.children,de,ee,j);"value"in pe&&o(se,"value",null,pe.value,U),(ne=pe.onVnodeBeforeMount)&&si(ne,de,q)}Se&&Go(q,null,de,"beforeMount");const Le=RS(ee,we);Le&&we.beforeEnter(se),r(se,G,Y),((ne=pe&&pe.onVnodeMounted)||Le||Se)&&ar(()=>{ne&&si(ne,de,q),Le&&we.enter(se),Se&&Go(q,null,de,"mounted")},ee)},S=(q,G,Y,de,ee)=>{if(Y&&h(q,Y),de)for(let U=0;U<de.length;U++)h(q,de[U]);if(ee){let U=ee.subTree;if(G===U){const te=ee.vnode;S(q,te,te.scopeId,te.slotScopeIds,ee.parent)}}},E=(q,G,Y,de,ee,U,te,re,se=0)=>{for(let ne=se;ne<q.length;ne++){const pe=q[ne]=re?uo(q[ne]):ai(q[ne]);m(null,pe,G,Y,de,ee,U,te,re)}},I=(q,G,Y,de,ee,U,te)=>{const re=G.el=q.el;let{patchFlag:se,dynamicChildren:ne,dirs:pe}=G;se|=q.patchFlag&16;const ve=q.props||Ot,we=G.props||Ot;let Se;if(Y&&Qo(Y,!1),(Se=we.onVnodeBeforeUpdate)&&si(Se,Y,G,q),pe&&Go(G,q,Y,"beforeUpdate"),Y&&Qo(Y,!0),ne?x(q.dynamicChildren,ne,re,Y,de,Jh(G,ee),U):te||Q(q,G,re,null,Y,de,Jh(G,ee),U,!1),se>0){if(se&16)A(re,G,ve,we,Y,de,ee);else if(se&2&&ve.class!==we.class&&o(re,"class",null,we.class,ee),se&4&&o(re,"style",ve.style,we.style,ee),se&8){const Le=G.dynamicProps;for(let Oe=0;Oe<Le.length;Oe++){const Ye=Le[Oe],De=ve[Ye],rt=we[Ye];(rt!==De||Ye==="value")&&o(re,Ye,De,rt,ee,q.children,Y,de,j)}}se&1&&q.children!==G.children&&u(re,G.children)}else!te&&ne==null&&A(re,G,ve,we,Y,de,ee);((Se=we.onVnodeUpdated)||pe)&&ar(()=>{Se&&si(Se,Y,G,q),pe&&Go(G,q,Y,"updated")},de)},x=(q,G,Y,de,ee,U,te)=>{for(let re=0;re<G.length;re++){const se=q[re],ne=G[re],pe=se.el&&(se.type===Pe||!rs(se,ne)||se.shapeFlag&70)?c(se.el):Y;m(se,ne,pe,null,de,ee,U,te,!0)}},A=(q,G,Y,de,ee,U,te)=>{if(Y!==de){if(Y!==Ot)for(const re in Y)!Tl(re)&&!(re in de)&&o(q,re,Y[re],null,te,G.children,ee,U,j);for(const re in de){if(Tl(re))continue;const se=de[re],ne=Y[re];se!==ne&&re!=="value"&&o(q,re,ne,se,te,G.children,ee,U,j)}"value"in de&&o(q,"value",Y.value,de.value,te)}},T=(q,G,Y,de,ee,U,te,re,se)=>{const ne=G.el=q?q.el:a(""),pe=G.anchor=q?q.anchor:a("");let{patchFlag:ve,dynamicChildren:we,slotScopeIds:Se}=G;Se&&(re=re?re.concat(Se):Se),q==null?(r(ne,Y,de),r(pe,Y,de),E(G.children||[],Y,pe,ee,U,te,re,se)):ve>0&&ve&64&&we&&q.dynamicChildren?(x(q.dynamicChildren,we,Y,ee,U,te,re),(G.key!=null||ee&&G===ee.subTree)&&Pg(q,G,!0)):Q(q,G,Y,pe,ee,U,te,re,se)},R=(q,G,Y,de,ee,U,te,re,se)=>{G.slotScopeIds=re,q==null?G.shapeFlag&512?ee.ctx.activate(G,Y,de,te,se):N(G,Y,de,ee,U,te,se):M(q,G,se)},N=(q,G,Y,de,ee,U,te)=>{const re=q.component=FS(q,de,ee);if(Xd(q)&&(re.ctx.renderer=oe),US(re),re.asyncDep){if(ee&&ee.registerDep(re,O),!q.el){const se=re.subTree=qe(_r);v(null,se,G,Y)}}else O(re,q,G,Y,ee,U,te)},M=(q,G,Y)=>{const de=G.component=q.component;if(YI(q,G,Y))if(de.asyncDep&&!de.asyncResolved){P(de,G,Y);return}else de.next=G,jI(de.update),de.effect.dirty=!0,de.update();else G.el=q.el,de.vnode=G},O=(q,G,Y,de,ee,U,te)=>{const re=()=>{if(q.isMounted){let{next:pe,bu:ve,u:we,parent:Se,vnode:Le}=q;{const At=Tw(q);if(At){pe&&(pe.el=Le.el,P(q,pe,te)),At.asyncDep.then(()=>{q.isUnmounted||re()});return}}let Oe=pe,Ye;Qo(q,!1),pe?(pe.el=Le.el,P(q,pe,te)):pe=Le,ve&&Pc(ve),(Ye=pe.props&&pe.props.onVnodeBeforeUpdate)&&si(Ye,Se,pe,Le),Qo(q,!0);const De=Gh(q),rt=q.subTree;q.subTree=De,m(rt,De,c(rt.el),V(rt),q,ee,U),pe.el=De.el,Oe===null&&GI(q,De.el),we&&ar(we,ee),(Ye=pe.props&&pe.props.onVnodeUpdated)&&ar(()=>si(Ye,Se,pe,Le),ee)}else{let pe;const{el:ve,props:we}=G,{bm:Se,m:Le,parent:Oe}=q,Ye=kl(G);if(Qo(q,!1),Se&&Pc(Se),!Ye&&(pe=we&&we.onVnodeBeforeMount)&&si(pe,Oe,G),Qo(q,!0),ve&&Z){const De=()=>{q.subTree=Gh(q),Z(ve,q.subTree,q,ee,null)};Ye?G.type.__asyncLoader().then(()=>!q.isUnmounted&&De()):De()}else{const De=q.subTree=Gh(q);m(null,De,Y,de,q,ee,U),G.el=De.el}if(Le&&ar(Le,ee),!Ye&&(pe=we&&we.onVnodeMounted)){const De=G;ar(()=>si(pe,Oe,De),ee)}(G.shapeFlag&256||Oe&&kl(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&q.a&&ar(q.a,ee),q.isMounted=!0,G=Y=de=null}},se=q.effect=new yg(re,Sr,()=>xg(ne),q.scope),ne=q.update=()=>{se.dirty&&se.run()};ne.id=q.uid,Qo(q,!0),ne()},P=(q,G,Y)=>{G.component=q;const de=q.vnode.props;q.vnode=G,q.next=null,TS(q,G.props,de,Y),xS(q,G.children,Y),Lo(),Hy(q),$o()},Q=(q,G,Y,de,ee,U,te,re,se=!1)=>{const ne=q&&q.children,pe=q?q.shapeFlag:0,ve=G.children,{patchFlag:we,shapeFlag:Se}=G;if(we>0){if(we&128){B(ne,ve,Y,de,ee,U,te,re,se);return}else if(we&256){H(ne,ve,Y,de,ee,U,te,re,se);return}}Se&8?(pe&16&&j(ne,ee,U),ve!==ne&&u(Y,ve)):pe&16?Se&16?B(ne,ve,Y,de,ee,U,te,re,se):j(ne,ee,U,!0):(pe&8&&u(Y,""),Se&16&&E(ve,Y,de,ee,U,te,re,se))},H=(q,G,Y,de,ee,U,te,re,se)=>{q=q||oa,G=G||oa;const ne=q.length,pe=G.length,ve=Math.min(ne,pe);let we;for(we=0;we<ve;we++){const Se=G[we]=se?uo(G[we]):ai(G[we]);m(q[we],Se,Y,null,ee,U,te,re,se)}ne>pe?j(q,ee,U,!0,!1,ve):E(G,Y,de,ee,U,te,re,se,ve)},B=(q,G,Y,de,ee,U,te,re,se)=>{let ne=0;const pe=G.length;let ve=q.length-1,we=pe-1;for(;ne<=ve&&ne<=we;){const Se=q[ne],Le=G[ne]=se?uo(G[ne]):ai(G[ne]);if(rs(Se,Le))m(Se,Le,Y,null,ee,U,te,re,se);else break;ne++}for(;ne<=ve&&ne<=we;){const Se=q[ve],Le=G[we]=se?uo(G[we]):ai(G[we]);if(rs(Se,Le))m(Se,Le,Y,null,ee,U,te,re,se);else break;ve--,we--}if(ne>ve){if(ne<=we){const Se=we+1,Le=Se<pe?G[Se].el:de;for(;ne<=we;)m(null,G[ne]=se?uo(G[ne]):ai(G[ne]),Y,Le,ee,U,te,re,se),ne++}}else if(ne>we)for(;ne<=ve;)F(q[ne],ee,U,!0),ne++;else{const Se=ne,Le=ne,Oe=new Map;for(ne=Le;ne<=we;ne++){const fe=G[ne]=se?uo(G[ne]):ai(G[ne]);fe.key!=null&&Oe.set(fe.key,ne)}let Ye,De=0;const rt=we-Le+1;let At=!1,Zt=0;const It=new Array(rt);for(ne=0;ne<rt;ne++)It[ne]=0;for(ne=Se;ne<=ve;ne++){const fe=q[ne];if(De>=rt){F(fe,ee,U,!0);continue}let Ee;if(fe.key!=null)Ee=Oe.get(fe.key);else for(Ye=Le;Ye<=we;Ye++)if(It[Ye-Le]===0&&rs(fe,G[Ye])){Ee=Ye;break}Ee===void 0?F(fe,ee,U,!0):(It[Ee-Le]=ne+1,Ee>=Zt?Zt=Ee:At=!0,m(fe,G[Ee],Y,null,ee,U,te,re,se),De++)}const Kt=At?OS(It):oa;for(Ye=Kt.length-1,ne=rt-1;ne>=0;ne--){const fe=Le+ne,Ee=G[fe],me=fe+1<pe?G[fe+1].el:de;It[ne]===0?m(null,Ee,Y,me,ee,U,te,re,se):At&&(Ye<0||ne!==Kt[Ye]?$(Ee,Y,me,2):Ye--)}}},$=(q,G,Y,de,ee=null)=>{const{el:U,type:te,transition:re,children:se,shapeFlag:ne}=q;if(ne&6){$(q.component.subTree,G,Y,de);return}if(ne&128){q.suspense.move(G,Y,de);return}if(ne&64){te.move(q,G,Y,oe);return}if(te===Pe){r(U,G,Y);for(let ve=0;ve<se.length;ve++)$(se[ve],G,Y,de);r(q.anchor,G,Y);return}if(te===Mc){b(q,G,Y);return}if(de!==2&&ne&1&&re)if(de===0)re.beforeEnter(U),r(U,G,Y),ar(()=>re.enter(U),ee);else{const{leave:ve,delayLeave:we,afterLeave:Se}=re,Le=()=>r(U,G,Y),Oe=()=>{ve(U,()=>{Le(),Se&&Se()})};we?we(U,Le,Oe):Oe()}else r(U,G,Y)},F=(q,G,Y,de=!1,ee=!1)=>{const{type:U,props:te,ref:re,children:se,dynamicChildren:ne,shapeFlag:pe,patchFlag:ve,dirs:we}=q;if(re!=null&&um(re,null,Y,q,!0),pe&256){G.ctx.deactivate(q);return}const Se=pe&1&&we,Le=!kl(q);let Oe;if(Le&&(Oe=te&&te.onVnodeBeforeUnmount)&&si(Oe,G,q),pe&6)z(q.component,Y,de);else{if(pe&128){q.suspense.unmount(Y,de);return}Se&&Go(q,null,G,"beforeUnmount"),pe&64?q.type.remove(q,G,Y,ee,oe,de):ne&&(U!==Pe||ve>0&&ve&64)?j(ne,G,Y,!1,!0):(U===Pe&&ve&384||!ee&&pe&16)&&j(se,G,Y),de&&D(q)}(Le&&(Oe=te&&te.onVnodeUnmounted)||Se)&&ar(()=>{Oe&&si(Oe,G,q),Se&&Go(q,null,G,"unmounted")},Y)},D=q=>{const{type:G,el:Y,anchor:de,transition:ee}=q;if(G===Pe){K(Y,de);return}if(G===Mc){g(q);return}const U=()=>{i(Y),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(q.shapeFlag&1&&ee&&!ee.persisted){const{leave:te,delayLeave:re}=ee,se=()=>te(Y,U);re?re(q.el,U,se):se()}else U()},K=(q,G)=>{let Y;for(;q!==G;)Y=d(q),i(q),q=Y;i(G)},z=(q,G,Y)=>{const{bum:de,scope:ee,update:U,subTree:te,um:re}=q;de&&Pc(de),ee.stop(),U&&(U.active=!1,F(te,q,G,Y)),re&&ar(re,G),ar(()=>{q.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},j=(q,G,Y,de=!1,ee=!1,U=0)=>{for(let te=U;te<q.length;te++)F(q[te],G,Y,de,ee)},V=q=>q.shapeFlag&6?V(q.component.subTree):q.shapeFlag&128?q.suspense.next():d(q.anchor||q.el);let J=!1;const W=(q,G,Y)=>{q==null?G._vnode&&F(G._vnode,null,null,!0):m(G._vnode||null,q,G,null,null,null,Y),J||(J=!0,Hy(),Zb(),J=!1),G._vnode=q},oe={p:m,um:F,m:$,r:D,mt:N,mc:E,pc:Q,pbc:x,n:V,o:t};let ce,Z;return{render:W,hydrate:ce,createApp:wS(W,ce)}}function Jh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Qo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function RS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pg(t,e,n=!1){const r=t.children,i=e.children;if(je(r)&&je(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=uo(i[o]),a.el=s.el),n||Pg(s,a)),a.type===Zd&&(a.el=s.el)}}function OS(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<f?o=a+1:s=a;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function Tw(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Tw(e)}const PS=t=>t.__isTeleport,Sl=t=>t&&(t.disabled||t.disabled===""),n0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,r0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,cm=(t,e)=>{const n=t&&t.to;return $t(n)?e?e(n):null:n},CS={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,f){const{mc:u,pc:c,pbc:d,o:{insert:h,querySelector:p,createText:m,createComment:y}}=f,v=Sl(e.props);let{shapeFlag:_,children:b,dynamicChildren:g}=e;if(t==null){const w=e.el=m(""),k=e.anchor=m("");h(w,n,r),h(k,n,r);const S=e.target=cm(e.props,p),E=e.targetAnchor=m("");S&&(h(E,S),s==="svg"||n0(S)?s="svg":(s==="mathml"||r0(S))&&(s="mathml"));const I=(x,A)=>{_&16&&u(b,x,A,i,o,s,a,l)};v?I(n,k):S&&I(S,E)}else{e.el=t.el;const w=e.anchor=t.anchor,k=e.target=t.target,S=e.targetAnchor=t.targetAnchor,E=Sl(t.props),I=E?n:k,x=E?w:S;if(s==="svg"||n0(k)?s="svg":(s==="mathml"||r0(k))&&(s="mathml"),g?(d(t.dynamicChildren,g,I,i,o,s,a),Pg(t,e,!0)):l||c(t,e,I,x,i,o,s,a,!1),v)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):hc(e,n,w,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=cm(e.props,p);A&&hc(e,A,null,f,0)}else E&&hc(e,k,S,f,1)}Aw(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:f,targetAnchor:u,target:c,props:d}=t;if(c&&o(u),s&&o(f),a&16){const h=s||!Sl(d);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:hc,hydrate:DS};function hc(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:f,props:u}=t,c=o===2;if(c&&r(s,e,n),(!c||Sl(u))&&l&16)for(let d=0;d<f.length;d++)i(f[d],e,n,2);c&&r(a,e,n)}function DS(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},f){const u=e.target=cm(e.props,l);if(u){const c=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Sl(e.props))e.anchor=f(s(t),e,a(t),n,r,i,o),e.targetAnchor=c;else{e.anchor=s(t);let d=c;for(;d;)if(d=s(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(c,e,u,n,r,i,o)}Aw(e)}return e.anchor&&s(e.anchor)}const MS=CS;function Aw(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Pe=Symbol.for("v-fgt"),Zd=Symbol.for("v-txt"),_r=Symbol.for("v-cmt"),Mc=Symbol.for("v-stc"),Rl=[];let Br=null;function ie(t=!1){Rl.push(Br=t?null:[])}function NS(){Rl.pop(),Br=Rl[Rl.length-1]||null}let Yl=1;function i0(t){Yl+=t}function kw(t){return t.dynamicChildren=Yl>0?Br||oa:null,NS(),Yl>0&&Br&&Br.push(t),t}function ue(t,e,n,r,i,o){return kw(C(t,e,n,r,i,o,!0))}function Ue(t,e,n,r,i){return kw(qe(t,e,n,r,i,!0))}function rd(t){return t?t.__v_isVNode===!0:!1}function rs(t,e){return t.type===e.type&&t.key===e.key}const xw=({key:t})=>t??null,Nc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||_n(t)||Ze(t)?{i:cn,r:t,k:e,f:!!n}:t:null);function C(t,e=null,n=null,r=0,i=null,o=t===Pe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xw(e),ref:e&&Nc(e),scopeId:Wd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:cn};return a?(Cg(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),Yl>0&&!s&&Br&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Br.push(l),l}const qe=LS;function LS(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===rw)&&(t=_r),rd(t)){const a=Oo(t,e,!0);return n&&Cg(a,n),Yl>0&&!o&&Br&&(a.shapeFlag&6?Br[Br.indexOf(t)]=a:Br.push(a)),a.patchFlag|=-2,a}if(HS(t)&&(t=t.__vccOpts),e){e=nr(e);let{class:a,style:l}=e;a&&!$t(a)&&(e.class=Ge(a)),kt(l)&&(Kb(l)&&!je(l)&&(l=on({},l)),e.style=vn(l))}const s=$t(t)?1:QI(t)?128:PS(t)?64:kt(t)?4:Ze(t)?2:0;return C(t,e,n,r,i,s,o,!0)}function nr(t){return t?Kb(t)||vw(t)?on({},t):t:null}function Oo(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=t,f=e?dn(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&xw(f),ref:e&&e.ref?n&&o?je(o)?o.concat(Nc(e)):[o,Nc(e)]:Nc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Oo(t.ssContent),ssFallback:t.ssFallback&&Oo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(u.transition=l.clone(u)),u}function hn(t=" ",e=0){return qe(Zd,null,t,e)}function Iw(t,e){const n=qe(Mc,null,t);return n.staticCount=e,n}function ye(t="",e=!1){return e?(ie(),Ue(_r,null,t)):qe(_r,null,t)}function ai(t){return t==null||typeof t=="boolean"?qe(_r):je(t)?qe(Pe,null,t.slice()):typeof t=="object"?uo(t):qe(Zd,null,String(t))}function uo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Oo(t)}function Cg(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(je(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Cg(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!vw(e)?e._ctx=cn:i===3&&cn&&(cn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:cn},n=32):(e=String(e),r&64?(n=16,e=[hn(e)]):n=8);t.children=e,t.shapeFlag|=n}function dn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ge([e.class,r.class]));else if(i==="style")e.style=vn([e.style,r.style]);else if(Bd(i)){const o=e[i],s=r[i];s&&o!==s&&!(je(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function si(t,e,n,r=null){Rr(t,e,7,[n,r])}const $S=pw();let VS=0;function FS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||$S,o={uid:VS++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_w(r,i),emitsOptions:tw(r,i),emit:null,emitted:null,propsDefaults:Ot,inheritAttrs:r.inheritAttrs,ctx:Ot,data:Ot,props:Ot,attrs:Ot,slots:Ot,refs:Ot,setupState:Ot,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=zI.bind(null,o),t.ce&&t.ce(o),o}let On=null;const Sw=()=>On||cn;let id,dm;{const t=Sb(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};id=e("__VUE_INSTANCE_SETTERS__",n=>On=n),dm=e("__VUE_SSR_SETTERS__",n=>ef=n)}const wu=t=>{const e=On;return id(t),t.scope.on(),()=>{t.scope.off(),id(e)}},o0=()=>{On&&On.scope.off(),id(null)};function Rw(t){return t.vnode.shapeFlag&4}let ef=!1;function US(t,e=!1){e&&dm(e);const{props:n,children:r}=t.vnode,i=Rw(t);ES(t,n,i,e),kS(t,r);const o=i?BS(t,e):void 0;return e&&dm(!1),o}function BS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,hS);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Pw(t):null,o=wu(t);Lo();const s=Eo(r,t,0,[t.props,i]);if($o(),o(),Ab(s)){if(s.then(o0,o0),e)return s.then(a=>{s0(t,a,e)}).catch(a=>{zd(a,t,0)});t.asyncDep=s}else s0(t,s,e)}else Ow(t,e)}function s0(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:kt(e)&&(t.setupState=Qb(e)),Ow(t,n)}let a0;function Ow(t,e,n){const r=t.type;if(!t.render){if(!e&&a0&&!r.render){const i=r.template||Rg(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,f=on(on({isCustomElement:o,delimiters:a},s),l);r.render=a0(i,f)}}t.render=r.render||Sr}{const i=wu(t);Lo();try{mS(t)}finally{$o(),i()}}}const jS={get(t,e){return mr(t,"get",""),t[e]}};function Pw(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,jS),slots:t.slots,emit:t.emit,expose:e}}function tf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Qb(CI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in xl)return xl[n](t)},has(e,n){return n in e||n in xl}}))}function qS(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function HS(t){return Ze(t)&&"__vccOpts"in t}const ge=(t,e)=>DI(t,e,ef);function $a(t,e,n){const r=arguments.length;return r===2?kt(e)&&!je(e)?rd(e)?qe(t,null,[e]):qe(t,e):qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&rd(n)&&(n=[n]),qe(t,e,n))}const zS="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const KS="http://www.w3.org/2000/svg",WS="http://www.w3.org/1998/Math/MathML",co=typeof document<"u"?document:null,l0=co&&co.createElement("template"),YS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?co.createElementNS(KS,t):e==="mathml"?co.createElementNS(WS,t):co.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>co.createTextNode(t),createComment:t=>co.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>co.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{l0.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=l0.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},eo="transition",rl="animation",Gl=Symbol("_vtc"),Yr=(t,{slots:e})=>$a(rS,GS(t),e);Yr.displayName="Transition";const Cw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Yr.props=on({},aw,Cw);const Xo=(t,e=[])=>{je(t)?t.forEach(n=>n(...e)):t&&t(...e)},u0=t=>t?je(t)?t.some(e=>e.length>1):t.length>1:!1;function GS(t){const e={};for(const T in t)T in Cw||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:f=s,appearToClass:u=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=QS(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:b,onLeave:g,onLeaveCancelled:w,onBeforeAppear:k=v,onAppear:S=_,onAppearCancelled:E=b}=e,I=(T,R,N)=>{Jo(T,R?u:a),Jo(T,R?f:s),N&&N()},x=(T,R)=>{T._isLeaving=!1,Jo(T,c),Jo(T,h),Jo(T,d),R&&R()},A=T=>(R,N)=>{const M=T?S:_,O=()=>I(R,T,N);Xo(M,[R,O]),c0(()=>{Jo(R,T?l:o),to(R,T?u:a),u0(M)||d0(R,r,m,O)})};return on(e,{onBeforeEnter(T){Xo(v,[T]),to(T,o),to(T,s)},onBeforeAppear(T){Xo(k,[T]),to(T,l),to(T,f)},onEnter:A(!1),onAppear:A(!0),onLeave(T,R){T._isLeaving=!0;const N=()=>x(T,R);to(T,c),to(T,d),ZS(),c0(()=>{T._isLeaving&&(Jo(T,c),to(T,h),u0(g)||d0(T,r,y,N))}),Xo(g,[T,N])},onEnterCancelled(T){I(T,!1),Xo(b,[T])},onAppearCancelled(T){I(T,!0),Xo(E,[T])},onLeaveCancelled(T){x(T),Xo(w,[T])}})}function QS(t){if(t==null)return null;if(kt(t))return[Zh(t.enter),Zh(t.leave)];{const e=Zh(t);return[e,e]}}function Zh(t){return tI(t)}function to(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Gl]||(t[Gl]=new Set)).add(e)}function Jo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Gl];n&&(n.delete(e),n.size||(t[Gl]=void 0))}function c0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let XS=0;function d0(t,e,n,r){const i=t._endId=++XS,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=JS(t,e);if(!s)return r();const f=s+"end";let u=0;const c=()=>{t.removeEventListener(f,d),o()},d=h=>{h.target===t&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},a+1),t.addEventListener(f,d)}function JS(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${eo}Delay`),o=r(`${eo}Duration`),s=f0(i,o),a=r(`${rl}Delay`),l=r(`${rl}Duration`),f=f0(a,l);let u=null,c=0,d=0;e===eo?s>0&&(u=eo,c=s,d=o.length):e===rl?f>0&&(u=rl,c=f,d=l.length):(c=Math.max(s,f),u=c>0?s>f?eo:rl:null,d=u?u===eo?o.length:l.length:0);const h=u===eo&&/\b(transform|all)(,|$)/.test(r(`${eo}Property`).toString());return{type:u,timeout:c,propCount:d,hasTransform:h}}function f0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>h0(n)+h0(t[r])))}function h0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ZS(){return document.body.offsetHeight}function eR(t,e,n){const r=t[Gl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const od=Symbol("_vod"),Dw=Symbol("_vsh"),Ol={beforeMount(t,{value:e},{transition:n}){t[od]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):il(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),il(t,!0),r.enter(t)):r.leave(t,()=>{il(t,!1)}):il(t,e))},beforeUnmount(t,{value:e}){il(t,e)}};function il(t,e){t.style.display=e?t[od]:"none",t[Dw]=!e}const tR=Symbol(""),nR=/(^|;)\s*display\s*:/;function rR(t,e,n){const r=t.style,i=$t(n);let o=!1;if(n&&!i){if(e)if($t(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Lc(r,a,"")}else for(const s in e)n[s]==null&&Lc(r,s,"");for(const s in n)s==="display"&&(o=!0),Lc(r,s,n[s])}else if(i){if(e!==n){const s=r[tR];s&&(n+=";"+s),r.cssText=n,o=nR.test(n)}}else e&&t.removeAttribute("style");od in t&&(t[od]=o?r.display:"",t[Dw]&&(r.display="none"))}const p0=/\s*!important$/;function Lc(t,e,n){if(je(n))n.forEach(r=>Lc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=iR(t,e);p0.test(n)?t.setProperty(Rs(r),n.replace(p0,""),"important"):t[r]=n}}const m0=["Webkit","Moz","ms"],ep={};function iR(t,e){const n=ep[e];if(n)return n;let r=Ai(e);if(r!=="filter"&&r in t)return ep[e]=r;r=qd(r);for(let i=0;i<m0.length;i++){const o=m0[i]+r;if(o in t)return ep[e]=o}return e}const g0="http://www.w3.org/1999/xlink";function oR(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(g0,e.slice(6,e.length)):t.setAttributeNS(g0,e,n);else{const o=aI(e);n==null||o&&!Rb(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function sR(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(f!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=Rb(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ho(t,e,n,r){t.addEventListener(e,n,r)}function aR(t,e,n,r){t.removeEventListener(e,n,r)}const v0=Symbol("_vei");function lR(t,e,n,r,i=null){const o=t[v0]||(t[v0]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=uR(e);if(r){const f=o[e]=fR(r,i);ho(t,a,f,l)}else s&&(aR(t,a,s,l),o[e]=void 0)}}const y0=/(?:Once|Passive|Capture)$/;function uR(t){let e;if(y0.test(t)){e={};let r;for(;r=t.match(y0);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rs(t.slice(2)),e]}let tp=0;const cR=Promise.resolve(),dR=()=>tp||(cR.then(()=>tp=0),tp=Date.now());function fR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Rr(hR(r,n.value),e,5,[r])};return n.value=t,n.attached=dR(),n}function hR(t,e){if(je(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const _0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,pR=(t,e,n,r,i,o,s,a,l)=>{const f=i==="svg";e==="class"?eR(t,r,f):e==="style"?rR(t,n,r):Bd(e)?pg(e)||lR(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):mR(t,e,r,f))?sR(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),oR(t,e,r,f))};function mR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&_0(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return _0(e)&&$t(n)?!1:e in t}const ma=t=>{const e=t.props["onUpdate:modelValue"]||!1;return je(e)?n=>Pc(e,n):e};function gR(t){t.target.composing=!0}function b0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Bi=Symbol("_assign"),yi={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Bi]=ma(i);const o=r||i.props&&i.props.type==="number";ho(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Jc(a)),t[Bi](a)}),n&&ho(t,"change",()=>{t.value=t.value.trim()}),e||(ho(t,"compositionstart",gR),ho(t,"compositionend",b0),ho(t,"change",b0))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Bi]=ma(o),t.composing)return;const s=(i||t.type==="number")&&!/^0\d/.test(t.value)?Jc(t.value):t.value,a=e??"";s!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},la={deep:!0,created(t,e,n){t[Bi]=ma(n),ho(t,"change",()=>{const r=t._modelValue,i=Ql(t),o=t.checked,s=t[Bi];if(je(r)){const a=vg(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const f=[...r];f.splice(a,1),s(f)}}else if(Na(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Mw(t,o))})},mounted:w0,beforeUpdate(t,e,n){t[Bi]=ma(n),w0(t,e,n)}};function w0(t,{value:e,oldValue:n},r){t._modelValue=e,je(e)?t.checked=vg(e,r.props.value)>-1:Na(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=bu(e,Mw(t,!0)))}const Po={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Na(e);ho(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?Jc(Ql(s)):Ql(s));t[Bi](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Nn(()=>{t._assigning=!1})}),t[Bi]=ma(r)},mounted(t,{value:e,modifiers:{number:n}}){E0(t,e)},beforeUpdate(t,e,n){t[Bi]=ma(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||E0(t,e)}};function E0(t,e,n){const r=t.multiple,i=je(e);if(!(r&&!i&&!Na(e))){for(let o=0,s=t.options.length;o<s;o++){const a=t.options[o],l=Ql(a);if(r)if(i){const f=typeof l;f==="string"||f==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=vg(e,l)>-1}else a.selected=e.has(l);else if(bu(Ql(a),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ql(t){return"_value"in t?t._value:t.value}function Mw(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const vR=["ctrl","shift","alt","meta"],yR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vR.some(n=>t[`${n}Key`]&&!e.includes(n))},Pr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const a=yR[e[s]];if(a&&a(i,e))return}return t(i,...o)})},_R={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Nw=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=Rs(i.key);if(e.some(s=>s===o||_R[s]===o))return t(i)})},bR=on({patchProp:pR},YS);let T0;function Lw(){return T0||(T0=IS(bR))}const A0=(...t)=>{Lw().render(...t)},wR=(...t)=>{const e=Lw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=TR(r);if(!i)return;const o=e._component;!Ze(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,ER(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function ER(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function TR(t){return $t(t)?document.querySelector(t):t}function AR(){return $w().__VUE_DEVTOOLS_GLOBAL_HOOK__}function $w(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const kR=typeof Proxy=="function",xR="devtools-plugin:setup",IR="plugin:settings:set";let Hs,fm;function SR(){var t;return Hs!==void 0||(typeof window<"u"&&window.performance?(Hs=!0,fm=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Hs=!0,fm=globalThis.perf_hooks.performance):Hs=!1),Hs}function RR(){return SR()?fm.now():Date.now()}class OR{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return RR()}},n&&n.on(IR,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(f=>{this.targetQueue.push({method:a,args:l,resolve:f})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function PR(t,e){const n=t,r=$w(),i=AR(),o=kR&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(xR,t,e);else{const s=o?new OR(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Gs=typeof document<"u";function CR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const wt=Object.assign;function np(t,e){const n={};for(const r in e){const i=e[r];n[r]=Gr(i)?i.map(t):t(i)}return n}const Pl=()=>{},Gr=Array.isArray,Vw=/#/g,DR=/&/g,MR=/\//g,NR=/=/g,LR=/\?/g,Fw=/\+/g,$R=/%5B/g,VR=/%5D/g,Uw=/%5E/g,FR=/%60/g,Bw=/%7B/g,UR=/%7C/g,jw=/%7D/g,BR=/%20/g;function Dg(t){return encodeURI(""+t).replace(UR,"|").replace($R,"[").replace(VR,"]")}function jR(t){return Dg(t).replace(Bw,"{").replace(jw,"}").replace(Uw,"^")}function hm(t){return Dg(t).replace(Fw,"%2B").replace(BR,"+").replace(Vw,"%23").replace(DR,"%26").replace(FR,"`").replace(Bw,"{").replace(jw,"}").replace(Uw,"^")}function qR(t){return hm(t).replace(NR,"%3D")}function HR(t){return Dg(t).replace(Vw,"%23").replace(LR,"%3F")}function zR(t){return t==null?"":HR(t).replace(MR,"%2F")}function Xl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const KR=/\/$/,WR=t=>t.replace(KR,"");function rp(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=XR(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Xl(s)}}function YR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function k0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function GR(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ga(e.matched[r],n.matched[i])&&qw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ga(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function qw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!QR(t[n],e[n]))return!1;return!0}function QR(t,e){return Gr(t)?x0(t,e):Gr(e)?x0(e,t):t===e}function x0(t,e){return Gr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function XR(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}var Jl;(function(t){t.pop="pop",t.push="push"})(Jl||(Jl={}));var Cl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Cl||(Cl={}));function JR(t){if(!t)if(Gs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),WR(t)}const ZR=/^[^#]+#/;function eO(t,e){return t.replace(ZR,"#")+e}function tO(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const nf=()=>({left:window.scrollX,top:window.scrollY});function nO(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=tO(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function I0(t,e){return(history.state?history.state.position-e:-1)+t}const pm=new Map;function rO(t,e){pm.set(t,e)}function iO(t){const e=pm.get(t);return pm.delete(t),e}let oO=()=>location.protocol+"//"+location.host;function Hw(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),k0(l,"")}return k0(n,t)+r+i}function sO(t,e,n,r){let i=[],o=[],s=null;const a=({state:d})=>{const h=Hw(t,location),p=n.value,m=e.value;let y=0;if(d){if(n.value=h,e.value=d,s&&s===p){s=null;return}y=m?d.position-m.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:y,type:Jl.pop,direction:y?y>0?Cl.forward:Cl.back:Cl.unknown})})};function l(){s=n.value}function f(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(wt({},d.state,{scroll:nf()}),"")}function c(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:f,destroy:c}}function S0(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?nf():null}}function aO(t){const{history:e,location:n}=window,r={value:Hw(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,f,u){const c=t.indexOf("#"),d=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+l:oO()+t+l;try{e[u?"replaceState":"pushState"](f,"",d),i.value=f}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function s(l,f){const u=wt({},e.state,S0(i.value.back,l,i.value.forward,!0),f,{position:i.value.position});o(l,u,!0),r.value=l}function a(l,f){const u=wt({},i.value,e.state,{forward:l,scroll:nf()});o(u.current,u,!0);const c=wt({},S0(r.value,l,null),{position:u.position+1},f);o(l,c,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function lO(t){t=JR(t);const e=aO(t),n=sO(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=wt({location:"",base:t,go:r,createHref:eO.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function uO(t){return typeof t=="string"||t&&typeof t=="object"}function zw(t){return typeof t=="string"||typeof t=="symbol"}const no={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Kw=Symbol("");var R0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(R0||(R0={}));function va(t,e){return wt(new Error,{type:t,[Kw]:!0},e)}function Pi(t,e){return t instanceof Error&&Kw in t&&(e==null||!!(t.type&e))}const O0="[^/]+?",cO={sensitive:!1,strict:!1,start:!0,end:!0},dO=/[.+*?^${}()[\]/\\]/g;function fO(t,e){const n=wt({},cO,e),r=[];let i=n.start?"^":"";const o=[];for(const f of t){const u=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let c=0;c<f.length;c++){const d=f[c];let h=40+(n.sensitive?.25:0);if(d.type===0)c||(i+="/"),i+=d.value.replace(dO,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:m,optional:y,regexp:v}=d;o.push({name:p,repeatable:m,optional:y});const _=v||O0;if(_!==O0){h+=10;try{new RegExp(`(${_})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+g.message)}}let b=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;c||(b=y&&f.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),i+=b,h+=20,y&&(h+=-8),m&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(f){const u=f.match(s),c={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=o[d-1];c[p.name]=h&&p.repeatable?h.split("/"):h}return c}function l(f){let u="",c=!1;for(const d of t){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,v=p in f?f[p]:"";if(Gr(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Gr(v)?v.join("/"):v;if(!_)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);u+=_}}return u||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function hO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function pO(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=hO(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(P0(r))return 1;if(P0(i))return-1}return i.length-r.length}function P0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const mO={type:0,value:""},gO=/[a-zA-Z0-9_]/;function vO(t){if(!t)return[[]];if(t==="/")return[[mO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${f}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,f="",u="";function c(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function d(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&c(),s()):l===":"?(c(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:gO.test(l)?d():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),c(),s(),i}function yO(t,e,n){const r=fO(vO(t.path),n),i=wt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function _O(t,e){const n=[],r=new Map;e=M0({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function o(u,c,d){const h=!d,p=bO(u);p.aliasOf=d&&d.record;const m=M0(e,u),y=[p];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const g of b)y.push(wt({},p,{components:d?d.record.components:p.components,path:g,aliasOf:d?d.record:p}))}let v,_;for(const b of y){const{path:g}=b;if(c&&g[0]!=="/"){const w=c.record.path,k=w[w.length-1]==="/"?"":"/";b.path=c.record.path+(g&&k+g)}if(v=yO(b,c,m),d?d.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),h&&u.name&&!D0(v)&&s(u.name)),p.children){const w=p.children;for(let k=0;k<w.length;k++)o(w[k],v,d&&d.children[k])}d=d||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return _?()=>{s(_)}:Pl}function s(u){if(zw(u)){const c=r.get(u);c&&(r.delete(u),n.splice(n.indexOf(c),1),c.children.forEach(s),c.alias.forEach(s))}else{const c=n.indexOf(u);c>-1&&(n.splice(c,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return n}function l(u){let c=0;for(;c<n.length&&pO(u,n[c])>=0&&(u.record.path!==n[c].record.path||!Ww(u,n[c]));)c++;n.splice(c,0,u),u.record.name&&!D0(u)&&r.set(u.record.name,u)}function f(u,c){let d,h={},p,m;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw va(1,{location:u});m=d.record.name,h=wt(C0(c.params,d.keys.filter(_=>!_.optional).concat(d.parent?d.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),u.params&&C0(u.params,d.keys.map(_=>_.name))),p=d.stringify(h)}else if(u.path!=null)p=u.path,d=n.find(_=>_.re.test(p)),d&&(h=d.parse(p),m=d.record.name);else{if(d=c.name?r.get(c.name):n.find(_=>_.re.test(c.path)),!d)throw va(1,{location:u,currentLocation:c});m=d.record.name,h=wt({},c.params,u.params),p=d.stringify(h)}const y=[];let v=d;for(;v;)y.unshift(v.record),v=v.parent;return{name:m,path:p,params:h,matched:y,meta:EO(y)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:f,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function C0(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function bO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:wO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function wO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function D0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function EO(t){return t.reduce((e,n)=>wt(e,n.meta),{})}function M0(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ww(t,e){return e.children.some(n=>n===t||Ww(t,n))}function TO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Fw," "),s=o.indexOf("="),a=Xl(s<0?o:o.slice(0,s)),l=s<0?null:Xl(o.slice(s+1));if(a in e){let f=e[a];Gr(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function N0(t){let e="";for(let n in t){const r=t[n];if(n=qR(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Gr(r)?r.map(o=>o&&hm(o)):[r&&hm(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function AO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Gr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const kO=Symbol(""),L0=Symbol(""),rf=Symbol(""),Yw=Symbol(""),mm=Symbol("");function ol(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function fo(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const f=d=>{d===!1?l(va(4,{from:n,to:e})):d instanceof Error?l(d):uO(d)?l(va(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),a())},u=o(()=>t.call(r&&r.instances[i],e,n,f));let c=Promise.resolve(u);t.length<3&&(c=c.then(f)),c.catch(d=>l(d))})}function ip(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(xO(l)){const u=(l.__vccOpts||l)[e];u&&o.push(fo(u,n,r,s,a,i))}else{let f=l();o.push(()=>f.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const c=CR(u)?u.default:u;s.components[a]=c;const h=(c.__vccOpts||c)[e];return h&&fo(h,n,r,s,a,i)()}))}}return o}function xO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $0(t){const e=qr(rf),n=qr(Yw),r=ge(()=>{const l=le(t.to);return e.resolve(l)}),i=ge(()=>{const{matched:l}=r.value,{length:f}=l,u=l[f-1],c=n.matched;if(!u||!c.length)return-1;const d=c.findIndex(ga.bind(null,u));if(d>-1)return d;const h=V0(l[f-2]);return f>1&&V0(u)===h&&c[c.length-1].path!==h?c.findIndex(ga.bind(null,l[f-2])):d}),o=ge(()=>i.value>-1&&OO(n.params,r.value.params)),s=ge(()=>i.value>-1&&i.value===n.matched.length-1&&qw(n.params,r.value.params));function a(l={}){return RO(l)?e[le(t.replace)?"replace":"push"](le(t.to)).catch(Pl):Promise.resolve()}return{route:r,href:ge(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const IO=Jt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$0,setup(t,{slots:e}){const n=Dr($0(t)),{options:r}=qr(rf),i=ge(()=>({[F0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[F0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:$a("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),SO=IO;function RO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function OO(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Gr(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function V0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const F0=(t,e,n)=>t??e??n,PO=Jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=qr(mm),i=ge(()=>t.route||r.value),o=qr(L0,0),s=ge(()=>{let f=le(o);const{matched:u}=i.value;let c;for(;(c=u[f])&&!c.components;)f++;return f}),a=ge(()=>i.value.matched[s.value]);Dc(L0,ge(()=>s.value+1)),Dc(kO,a),Dc(mm,i);const l=he();return rn(()=>[l.value,a.value,t.name],([f,u,c],[d,h,p])=>{u&&(u.instances[c]=f,h&&h!==u&&f&&f===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),f&&u&&(!h||!ga(u,h)||!d)&&(u.enterCallbacks[c]||[]).forEach(m=>m(f))},{flush:"post"}),()=>{const f=i.value,u=t.name,c=a.value,d=c&&c.components[u];if(!d)return U0(n.default,{Component:d,route:f});const h=c.props[u],p=h?h===!0?f.params:typeof h=="function"?h(f):h:null,y=$a(d,wt({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[u]=null)},ref:l}));return U0(n.default,{Component:y,route:f})||y}}});function U0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const CO=PO;function DO(t){const e=_O(t.routes,t),n=t.parseQuery||TO,r=t.stringifyQuery||N0,i=t.history,o=ol(),s=ol(),a=ol(),l=MI(no);let f=no;Gs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=np.bind(null,V=>""+V),c=np.bind(null,zR),d=np.bind(null,Xl);function h(V,J){let W,oe;return zw(V)?(W=e.getRecordMatcher(V),oe=J):oe=V,e.addRoute(oe,W)}function p(V){const J=e.getRecordMatcher(V);J&&e.removeRoute(J)}function m(){return e.getRoutes().map(V=>V.record)}function y(V){return!!e.getRecordMatcher(V)}function v(V,J){if(J=wt({},J||l.value),typeof V=="string"){const G=rp(n,V,J.path),Y=e.resolve({path:G.path},J),de=i.createHref(G.fullPath);return wt(G,Y,{params:d(Y.params),hash:Xl(G.hash),redirectedFrom:void 0,href:de})}let W;if(V.path!=null)W=wt({},V,{path:rp(n,V.path,J.path).path});else{const G=wt({},V.params);for(const Y in G)G[Y]==null&&delete G[Y];W=wt({},V,{params:c(G)}),J.params=c(J.params)}const oe=e.resolve(W,J),ce=V.hash||"";oe.params=u(d(oe.params));const Z=YR(r,wt({},V,{hash:jR(ce),path:oe.path})),q=i.createHref(Z);return wt({fullPath:Z,hash:ce,query:r===N0?AO(V.query):V.query||{}},oe,{redirectedFrom:void 0,href:q})}function _(V){return typeof V=="string"?rp(n,V,l.value.path):wt({},V)}function b(V,J){if(f!==V)return va(8,{from:J,to:V})}function g(V){return S(V)}function w(V){return g(wt(_(V),{replace:!0}))}function k(V){const J=V.matched[V.matched.length-1];if(J&&J.redirect){const{redirect:W}=J;let oe=typeof W=="function"?W(V):W;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=_(oe):{path:oe},oe.params={}),wt({query:V.query,hash:V.hash,params:oe.path!=null?{}:V.params},oe)}}function S(V,J){const W=f=v(V),oe=l.value,ce=V.state,Z=V.force,q=V.replace===!0,G=k(W);if(G)return S(wt(_(G),{state:typeof G=="object"?wt({},ce,G.state):ce,force:Z,replace:q}),J||W);const Y=W;Y.redirectedFrom=J;let de;return!Z&&GR(r,oe,W)&&(de=va(16,{to:Y,from:oe}),$(oe,oe,!0,!1)),(de?Promise.resolve(de):x(Y,oe)).catch(ee=>Pi(ee)?Pi(ee,2)?ee:B(ee):Q(ee,Y,oe)).then(ee=>{if(ee){if(Pi(ee,2))return S(wt({replace:q},_(ee.to),{state:typeof ee.to=="object"?wt({},ce,ee.to.state):ce,force:Z}),J||Y)}else ee=T(Y,oe,!0,q,ce);return A(Y,oe,ee),ee})}function E(V,J){const W=b(V,J);return W?Promise.reject(W):Promise.resolve()}function I(V){const J=K.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(V):V()}function x(V,J){let W;const[oe,ce,Z]=MO(V,J);W=ip(oe.reverse(),"beforeRouteLeave",V,J);for(const G of oe)G.leaveGuards.forEach(Y=>{W.push(fo(Y,V,J))});const q=E.bind(null,V,J);return W.push(q),j(W).then(()=>{W=[];for(const G of o.list())W.push(fo(G,V,J));return W.push(q),j(W)}).then(()=>{W=ip(ce,"beforeRouteUpdate",V,J);for(const G of ce)G.updateGuards.forEach(Y=>{W.push(fo(Y,V,J))});return W.push(q),j(W)}).then(()=>{W=[];for(const G of Z)if(G.beforeEnter)if(Gr(G.beforeEnter))for(const Y of G.beforeEnter)W.push(fo(Y,V,J));else W.push(fo(G.beforeEnter,V,J));return W.push(q),j(W)}).then(()=>(V.matched.forEach(G=>G.enterCallbacks={}),W=ip(Z,"beforeRouteEnter",V,J,I),W.push(q),j(W))).then(()=>{W=[];for(const G of s.list())W.push(fo(G,V,J));return W.push(q),j(W)}).catch(G=>Pi(G,8)?G:Promise.reject(G))}function A(V,J,W){a.list().forEach(oe=>I(()=>oe(V,J,W)))}function T(V,J,W,oe,ce){const Z=b(V,J);if(Z)return Z;const q=J===no,G=Gs?history.state:{};W&&(oe||q?i.replace(V.fullPath,wt({scroll:q&&G&&G.scroll},ce)):i.push(V.fullPath,ce)),l.value=V,$(V,J,W,q),B()}let R;function N(){R||(R=i.listen((V,J,W)=>{if(!z.listening)return;const oe=v(V),ce=k(oe);if(ce){S(wt(ce,{replace:!0}),oe).catch(Pl);return}f=oe;const Z=l.value;Gs&&rO(I0(Z.fullPath,W.delta),nf()),x(oe,Z).catch(q=>Pi(q,12)?q:Pi(q,2)?(S(q.to,oe).then(G=>{Pi(G,20)&&!W.delta&&W.type===Jl.pop&&i.go(-1,!1)}).catch(Pl),Promise.reject()):(W.delta&&i.go(-W.delta,!1),Q(q,oe,Z))).then(q=>{q=q||T(oe,Z,!1),q&&(W.delta&&!Pi(q,8)?i.go(-W.delta,!1):W.type===Jl.pop&&Pi(q,20)&&i.go(-1,!1)),A(oe,Z,q)}).catch(Pl)}))}let M=ol(),O=ol(),P;function Q(V,J,W){B(V);const oe=O.list();return oe.length?oe.forEach(ce=>ce(V,J,W)):console.error(V),Promise.reject(V)}function H(){return P&&l.value!==no?Promise.resolve():new Promise((V,J)=>{M.add([V,J])})}function B(V){return P||(P=!V,N(),M.list().forEach(([J,W])=>V?W(V):J()),M.reset()),V}function $(V,J,W,oe){const{scrollBehavior:ce}=t;if(!Gs||!ce)return Promise.resolve();const Z=!W&&iO(I0(V.fullPath,0))||(oe||!W)&&history.state&&history.state.scroll||null;return Nn().then(()=>ce(V,J,Z)).then(q=>q&&nO(q)).catch(q=>Q(q,V,J))}const F=V=>i.go(V);let D;const K=new Set,z={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:y,getRoutes:m,resolve:v,options:t,push:g,replace:w,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:O.add,isReady:H,install(V){const J=this;V.component("RouterLink",SO),V.component("RouterView",CO),V.config.globalProperties.$router=J,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>le(l)}),Gs&&!D&&l.value===no&&(D=!0,g(i.location).catch(ce=>{}));const W={};for(const ce in no)Object.defineProperty(W,ce,{get:()=>l.value[ce],enumerable:!0});V.provide(rf,J),V.provide(Yw,Hb(W)),V.provide(mm,l);const oe=V.unmount;K.add(V),V.unmount=function(){K.delete(V),K.size<1&&(f=no,R&&R(),R=null,l.value=no,D=!1,P=!1),oe()}}};function j(V){return V.reduce((J,W)=>J.then(()=>I(W)),Promise.resolve())}return z}function MO(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(f=>ga(f,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(f=>ga(f,l))||i.push(l))}return[n,r,i]}function Gw(){return qr(rf)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Qw="store";function Vo(t){return t===void 0&&(t=null),qr(t!==null?t:Qw)}function Va(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function NO(t){return t!==null&&typeof t=="object"}function LO(t){return t&&typeof t.then=="function"}function $O(t,e){return function(){return t(e)}}function Xw(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Jw(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;of(t,n,[],t._modules.root,!0),Mg(t,n,e)}function Mg(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=uI(!0);l.run(function(){Va(o,function(f,u){s[u]=$O(f,t),a[u]=ge(function(){return s[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=Dr({data:e}),t._scope=l,t.strict&&jO(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function of(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=Ng(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var f=r.context=VO(t,s,n);r.forEachMutation(function(u,c){var d=s+c;FO(t,d,u,f)}),r.forEachAction(function(u,c){var d=u.root?c:s+c,h=u.handler||u;UO(t,d,h,f)}),r.forEachGetter(function(u,c){var d=s+c;BO(t,d,u,f)}),r.forEachChild(function(u,c){of(t,e,n.concat(c),u,i)})}function VO(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(o,s,a){var l=sd(o,s,a),f=l.payload,u=l.options,c=l.type;return(!u||!u.root)&&(c=e+c),t.dispatch(c,f)},commit:r?t.commit:function(o,s,a){var l=sd(o,s,a),f=l.payload,u=l.options,c=l.type;(!u||!u.root)&&(c=e+c),t.commit(c,f,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return Zw(t,e)}},state:{get:function(){return Ng(t.state,n)}}}),i}function Zw(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function FO(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){n.call(t,r.state,s)})}function UO(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},s);return LO(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function BO(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function jO(t){rn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Ng(t,e){return e.reduce(function(n,r){return n[r]},t)}function sd(t,e,n){return NO(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var qO="vuex bindings",B0="vuex:mutations",op="vuex:actions",zs="vuex",HO=0;function zO(t,e){PR({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[qO]},function(n){n.addTimelineLayer({id:B0,label:"Vuex Mutations",color:j0}),n.addTimelineLayer({id:op,label:"Vuex Actions",color:j0}),n.addInspector({id:zs,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===zs)if(r.filter){var i=[];rE(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[nE(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===zs){var i=r.nodeId;Zw(e,i),r.state=YO(QO(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===zs){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(zs),n.sendInspectorState(zs),n.addTimelineEvent({layerId:B0,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=HO++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:op,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:op,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var j0=8702998,KO=6710886,WO=16777215,eE={label:"namespaced",textColor:WO,backgroundColor:KO};function tE(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function nE(t,e){return{id:e||"root",label:tE(e),tags:t.namespaced?[eE]:[],children:Object.keys(t._children).map(function(n){return nE(t._children[n],e+n+"/")})}}function rE(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[eE]:[]}),Object.keys(e._children).forEach(function(i){rE(t,e._children[i],n,r+i+"/")})}function YO(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(r.length){var o=GO(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?tE(s):s,editable:!1,value:gm(function(){return o[s]})}})}return i}function GO(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=gm(function(){return t[n]})}else e[n]=gm(function(){return t[n]})}),e}function QO(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===n.length-1?s:s._children},e==="root"?t:t.root._children)}function gm(t){try{return t()}catch(e){return e}}var ei=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},iE={namespaced:{configurable:!0}};iE.namespaced.get=function(){return!!this._rawModule.namespaced};ei.prototype.addChild=function(e,n){this._children[e]=n};ei.prototype.removeChild=function(e){delete this._children[e]};ei.prototype.getChild=function(e){return this._children[e]};ei.prototype.hasChild=function(e){return e in this._children};ei.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};ei.prototype.forEachChild=function(e){Va(this._children,e)};ei.prototype.forEachGetter=function(e){this._rawModule.getters&&Va(this._rawModule.getters,e)};ei.prototype.forEachAction=function(e){this._rawModule.actions&&Va(this._rawModule.actions,e)};ei.prototype.forEachMutation=function(e){this._rawModule.mutations&&Va(this._rawModule.mutations,e)};Object.defineProperties(ei.prototype,iE);var Ps=function(e){this.register([],e,!1)};Ps.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ps.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ps.prototype.update=function(e){oE([],this.root,e)};Ps.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var o=new ei(n,r);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}n.modules&&Va(n.modules,function(a,l){i.register(e.concat(l),a,r)})};Ps.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ps.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function oE(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;oE(t.concat(r),e.getChild(r),n.modules[r])}}function XO(t){return new gr(t)}var gr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ps(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,f=a.commit;this.dispatch=function(d,h){return l.call(s,d,h)},this.commit=function(d,h,p){return f.call(s,d,h,p)},this.strict=i;var u=this._modules.root.state;of(this,u,[],this._modules.root),Mg(this,u),r.forEach(function(c){return c(n)})},Lg={state:{configurable:!0}};gr.prototype.install=function(e,n){e.provide(n||Qw,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&zO(e,this)};Lg.state.get=function(){return this._state.data};Lg.state.set=function(t){};gr.prototype.commit=function(e,n,r){var i=this,o=sd(e,n,r),s=o.type,a=o.payload,l={type:s,payload:a},f=this._mutations[s];f&&(this._withCommit(function(){f.forEach(function(c){c(a)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};gr.prototype.dispatch=function(e,n){var r=this,i=sd(e,n),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var f=l.length>1?Promise.all(l.map(function(u){return u(s)})):l[0](s);return new Promise(function(u,c){f.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,r.state,d)})}catch{}c(d)})})}};gr.prototype.subscribe=function(e,n){return Xw(e,this._subscribers,n)};gr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Xw(r,this._actionSubscribers,n)};gr.prototype.watch=function(e,n,r){var i=this;return rn(function(){return e(i.state,i.getters)},n,Object.assign({},r))};gr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};gr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),of(this,this.state,e,this._modules.get(e),r.preserveState),Mg(this,this.state)};gr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Ng(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Jw(this)};gr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};gr.prototype.hotUpdate=function(e){this._modules.update(e),Jw(this,!0)};gr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(gr.prototype,Lg);var q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,u=o>>2,c=(o&3)<<4|a>>4;let d=(a&15)<<2|f>>6,h=f&63;l||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||f==null||c==null)throw new ZO;const d=o<<2|a>>4;if(r.push(d),f!==64){const h=a<<4&240|f>>2;if(r.push(h),c!==64){const p=f<<6&192|c;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eP=function(t){const e=sE(t);return aE.encodeByteArray(e,!0)},ad=function(t){return eP(t).replace(/\./g,"")},lE=function(t){try{return aE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=()=>tP().__FIREBASE_DEFAULTS__,rP=()=>{if(typeof process>"u"||typeof q0>"u")return;const t=q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lE(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return nP()||rP()||iP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uE=t=>{var e,n;return(n=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cE=t=>{const e=uE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dE=()=>{var t;return(t=sf())===null||t===void 0?void 0:t.config},fE=t=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ad(JSON.stringify(n)),ad(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function aP(){var t;const e=(t=sf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uP(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cP(){return!aP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mE(){try{return typeof indexedDB=="object"}catch{return!1}}function gE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function dP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fP,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cs.prototype.create)}}class Cs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mr(i,a,r)}}function hP(t,e){return t.replace(pP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pP=/\{\$([^}]+)}/g;function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(H0(o)&&H0(s)){if(!ya(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gP(t,e){const n=new vP(t,e);return n.subscribe.bind(n)}class vP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sp),i.error===void 0&&(i.error=sp),i.complete===void 0&&(i.complete=sp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1e3,bP=2,wP=4*60*60*1e3,EP=.5;function z0(t,e=_P,n=bP){const r=e*Math.pow(n,t),i=Math.round(EP*r*(Math.random()-.5)*2);return Math.min(wP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kP(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AP(t){return t===Zo?void 0:t}function kP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const IP={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},SP=lt.INFO,RP={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},OP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class af{constructor(e){this.name=e,this._logLevel=SP,this._logHandler=OP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const PP=(t,e)=>e.some(n=>t instanceof n);let K0,W0;function CP(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DP(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,vm=new WeakMap,yE=new WeakMap,ap=new WeakMap,$g=new WeakMap;function MP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(To(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,t)}).catch(()=>{}),$g.set(e,t),e}function NP(t){if(vm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vm.set(t,e)}let ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LP(t){ym=t(ym)}function $P(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lp(this),e,...n);return yE.set(r,e.sort?e.sort():[e]),To(r)}:DP().includes(t)?function(...e){return t.apply(lp(this),e),To(vE.get(this))}:function(...e){return To(t.apply(lp(this),e))}}function VP(t){return typeof t=="function"?$P(t):(t instanceof IDBTransaction&&NP(t),PP(t,CP())?new Proxy(t,ym):t)}function To(t){if(t instanceof IDBRequest)return MP(t);if(ap.has(t))return ap.get(t);const e=VP(t);return e!==t&&(ap.set(t,e),$g.set(e,t)),e}const lp=t=>$g.get(t);function _E(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=To(s);return r&&s.addEventListener("upgradeneeded",l=>{r(To(s.result),l.oldVersion,l.newVersion,To(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const FP=["get","getKey","getAll","getAllKeys","count"],UP=["put","add","delete","clear"],up=new Map;function Y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FP.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),i&&l.done]))[0]};return up.set(e,o),o}LP(t=>({...t,get:(e,n,r)=>Y0(e,n)||t.get(e,n,r),has:(e,n)=>!!Y0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",G0="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new af("@firebase/app"),qP="@firebase/app-compat",HP="@firebase/analytics-compat",zP="@firebase/analytics",KP="@firebase/app-check-compat",WP="@firebase/app-check",YP="@firebase/auth",GP="@firebase/auth-compat",QP="@firebase/database",XP="@firebase/database-compat",JP="@firebase/functions",ZP="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",rC="@firebase/messaging-compat",iC="@firebase/performance",oC="@firebase/performance-compat",sC="@firebase/remote-config",aC="@firebase/remote-config-compat",lC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",dC="@firebase/firestore-compat",fC="firebase",hC="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",pC={[_m]:"fire-core",[qP]:"fire-core-compat",[zP]:"fire-analytics",[HP]:"fire-analytics-compat",[WP]:"fire-app-check",[KP]:"fire-app-check-compat",[YP]:"fire-auth",[GP]:"fire-auth-compat",[QP]:"fire-rtdb",[XP]:"fire-rtdb-compat",[JP]:"fire-fn",[ZP]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[rC]:"fire-fcm-compat",[iC]:"fire-perf",[oC]:"fire-perf-compat",[sC]:"fire-rc",[aC]:"fire-rc-compat",[lC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[dC]:"fire-fst-compat","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,mC=new Map,wm=new Map;function Q0(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(wm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,t);for(const n of ld.values())Q0(n,t);for(const n of mC.values())Q0(n,t);return!0}function Fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Di(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Cs("app","Firebase",gC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=hC;function bE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ao.create("bad-app-name",{appName:String(i)});if(n||(n=dE()),!n)throw Ao.create("no-options");const o=ld.get(i);if(o){if(ya(n,o.options)&&ya(r,o.config))return o;throw Ao.create("duplicate-app",{appName:i})}const s=new xP(i);for(const l of wm.values())s.addComponent(l);const a=new vC(n,r,s);return ld.set(i,a),a}function lf(t=bm){const e=ld.get(t);if(!e&&t===bm&&dE())return bE();if(!e)throw Ao.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let i=(r=pC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(a.join(" "));return}Qr(new Cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebase-heartbeat-database",_C=1,Zl="firebase-heartbeat-store";let cp=null;function wE(){return cp||(cp=_E(yC,_C,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),cp}async function bC(t){try{const n=(await wE()).transaction(Zl),r=await n.objectStore(Zl).get(EE(t));return await n.done,r}catch(e){if(e instanceof Mr)ys.warn(e.message);else{const n=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function X0(t,e){try{const r=(await wE()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,EE(t)),await r.done}catch(n){if(n instanceof Mr)ys.warn(n.message);else{const r=Ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(r.message)}}}function EE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1024,EC=30*24*60*60*1e3;class TC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=J0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=EC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J0(),{heartbeatsToSend:r,unsentEntries:i}=AC(this._heartbeatsCache.heartbeats),o=ad(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function J0(){return new Date().toISOString().substring(0,10)}function AC(t,e=wC){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Z0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Z0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mE()?gE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Z0(t){return ad(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){Qr(new Cr("platform-logger",e=>new BP(e),"PRIVATE")),Qr(new Cr("heartbeat",e=>new TC(e),"PRIVATE")),fr(_m,G0,t),fr(_m,G0,"esm2017"),fr("fire-js","")}xC("");var IC="firebase",SC="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(IC,SC,"app");const TE="@firebase/installations",Vg="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=1e4,kE=`w:${Vg}`,xE="FIS_v2",RC="https://firebaseinstallations.googleapis.com/v1",OC=60*60*1e3,PC="installations",CC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_s=new Cs(PC,CC,DC);function IE(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE({projectId:t}){return`${RC}/projects/${t}/installations`}function RE(t){return{token:t.token,requestStatus:2,expiresIn:NC(t.expiresIn),creationTime:Date.now()}}async function OE(t,e){const r=(await e.json()).error;return _s.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function PE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MC(t,{refreshToken:e}){const n=PE(t);return n.append("Authorization",LC(e)),n}async function CE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function NC(t){return Number(t.replace("s","000"))}function LC(t){return`${xE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=SE(t),i=PE(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:xE,appId:t.appId,sdkVersion:kE},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await CE(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:RE(f.authToken)}}else throw await OE("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^[cdef][\w-]{21}$/,Em="";function UC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=BC(t);return FC.test(n)?n:Em}catch{return Em}}function BC(t){return VC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function NE(t,e){const n=uf(t);LE(n,e),jC(n,e)}function LE(t,e){const n=ME.get(t);if(n)for(const r of n)r(e)}function jC(t,e){const n=qC();n&&n.postMessage({key:t,fid:e}),HC()}let os=null;function qC(){return!os&&"BroadcastChannel"in self&&(os=new BroadcastChannel("[Firebase] FID Change"),os.onmessage=t=>{LE(t.data.key,t.data.fid)}),os}function HC(){ME.size===0&&os&&(os.close(),os=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebase-installations-database",KC=1,bs="firebase-installations-store";let dp=null;function Fg(){return dp||(dp=_E(zC,KC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bs)}}})),dp}async function ud(t,e){const n=uf(t),i=(await Fg()).transaction(bs,"readwrite"),o=i.objectStore(bs),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&NE(t,e.fid),e}async function $E(t){const e=uf(t),r=(await Fg()).transaction(bs,"readwrite");await r.objectStore(bs).delete(e),await r.done}async function cf(t,e){const n=uf(t),i=(await Fg()).transaction(bs,"readwrite"),o=i.objectStore(bs),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&NE(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t){let e;const n=await cf(t.appConfig,r=>{const i=WC(r),o=YC(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Em?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function WC(t){const e=t||{fid:UC(),registrationStatus:0};return VE(e)}function YC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(_s.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=GC(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QC(t)}:{installationEntry:e}}async function GC(t,e){try{const n=await $C(t,e);return ud(t.appConfig,n)}catch(n){throw IE(n)&&n.customData.serverCode===409?await $E(t.appConfig):await ud(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function QC(t){let e=await e_(t.appConfig);for(;e.registrationStatus===1;)await DE(100),e=await e_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ug(t);return r||n}return e}function e_(t){return cf(t,e=>{if(!e)throw _s.create("installation-not-found");return VE(e)})}function VE(t){return XC(t)?{fid:t.fid,registrationStatus:0}:t}function XC(t){return t.registrationStatus===1&&t.registrationTime+AE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC({appConfig:t,heartbeatServiceProvider:e},n){const r=ZC(t,n),i=MC(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:kE,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await CE(()=>fetch(r,a));if(l.ok){const f=await l.json();return RE(f)}else throw await OE("Generate Auth Token",l)}function ZC(t,{fid:e}){return`${SE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e=!1){let n;const r=await cf(t.appConfig,o=>{if(!FE(o))throw _s.create("not-registered");const s=o.authToken;if(!e&&nD(s))return o;if(s.requestStatus===1)return n=eD(t,e),o;{if(!navigator.onLine)throw _s.create("app-offline");const a=iD(o);return n=tD(t,a),a}});return n?await n:r.authToken}async function eD(t,e){let n=await t_(t.appConfig);for(;n.authToken.requestStatus===1;)await DE(100),n=await t_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Bg(t,e):r}function t_(t){return cf(t,e=>{if(!FE(e))throw _s.create("not-registered");const n=e.authToken;return oD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tD(t,e){try{const n=await JC(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ud(t.appConfig,r),n}catch(n){if(IE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $E(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ud(t.appConfig,r)}throw n}}function FE(t){return t!==void 0&&t.registrationStatus===2}function nD(t){return t.requestStatus===2&&!rD(t)}function rD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+OC}function iD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oD(t){return t.requestStatus===1&&t.requestTime+AE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ug(e);return r?r.catch(console.error):Bg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e=!1){const n=t;return await lD(n),(await Bg(n,e)).token}async function lD(t){const{registrationPromise:e}=await Ug(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){if(!t||!t.options)throw fp("App Configuration");if(!t.name)throw fp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fp(t){return _s.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="installations",cD="installations-internal",dD=t=>{const e=t.getProvider("app").getImmediate(),n=uD(e),r=Fo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fD=t=>{const e=t.getProvider("app").getImmediate(),n=Fo(e,UE).getImmediate();return{getId:()=>sD(n),getToken:i=>aD(n,i)}};function hD(){Qr(new Cr(UE,dD,"PUBLIC")),Qr(new Cr(cD,fD,"PRIVATE"))}hD();fr(TE,Vg);fr(TE,Vg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="analytics",pD="firebase_id",mD="origin",gD=60*1e3,vD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new af("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tr=new Cs("analytics","Analytics",yD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){if(!t.startsWith(jg)){const e=Tr.create("invalid-gtag-resource",{gtagURL:t});return hr.warn(e.message),""}return t}function BE(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function wD(t,e){const n=bD("firebase-js-sdk-policy",{createScriptURL:_D}),r=document.createElement("script"),i=`${jg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ED(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function TD(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await BE(n)).find(f=>f.measurementId===i);l&&await e[l.appId]}}catch(a){hr.error(a)}t("config",i,o)}async function AD(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await BE(n);for(const l of s){const f=a.find(c=>c.measurementId===l),u=f&&e[f.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){hr.error(o)}}function kD(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await AD(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await TD(t,e,n,r,a,l)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,l,f]=s;t("get",a,l,f)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){hr.error(a)}}return i}function xD(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=kD(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function ID(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=30,RD=1e3;class OD{constructor(e={},n=RD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jE=new OD;function PD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function CD(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:PD(r)},o=vD.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Tr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function DD(t,e=jE,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Tr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Tr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new LD;return setTimeout(async()=>{a.abort()},gD),qE({appId:r,apiKey:i,measurementId:o},s,a,e)}async function qE(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=jE){var o;const{appId:s,measurementId:a}=t;try{await MD(r,e)}catch(l){if(a)return hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await CD(t);return i.deleteThrottleMetadata(s),l}catch(l){const f=l;if(!ND(f)){if(i.deleteThrottleMetadata(s),a)return hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:a};throw l}const u=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?z0(n,i.intervalMillis,SD):z0(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),hr.debug(`Calling attemptFetch again in ${u} millis`),qE(t,c,r,i)}}function MD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ND(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class LD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $D(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(){if(mE())try{await gE()}catch(t){return hr.warn(Tr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hr.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FD(t,e,n,r,i,o,s){var a;const l=DD(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&hr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>hr.error(h)),e.push(l);const f=VD().then(h=>{if(h)return r.getId()}),[u,c]=await Promise.all([l,f]);ID(o)||wD(o,u.measurementId),i("js",new Date);const d=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return d[mD]="firebase",d.update=!0,c!=null&&(d[pD]=c),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.app=e}_delete(){return delete Dl[this.app.options.appId],Promise.resolve()}}let Dl={},n_=[];const r_={};let hp="dataLayer",BD="gtag",i_,HE,o_=!1;function jD(){const t=[];if(pE()&&t.push("This is a browser extension environment."),dP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tr.create("invalid-analytics-context",{errorInfo:e});hr.warn(n.message)}}function qD(t,e,n){jD();const r=t.options.appId;if(!r)throw Tr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tr.create("no-api-key");if(Dl[r]!=null)throw Tr.create("already-exists",{id:r});if(!o_){ED(hp);const{wrappedGtag:o,gtagCore:s}=xD(Dl,n_,r_,hp,BD);HE=o,i_=s,o_=!0}return Dl[r]=FD(t,n_,r_,e,i_,hp,n),new UD(t)}function HD(t=lf()){t=Ct(t);const e=Fo(t,cd);return e.isInitialized()?e.getImmediate():zD(t)}function zD(t,e={}){const n=Fo(t,cd);if(n.isInitialized()){const i=n.getImmediate();if(ya(e,n.getOptions()))return i;throw Tr.create("already-initialized")}return n.initialize({options:e})}function KD(t,e,n,r){t=Ct(t),$D(HE,Dl[t.app.options.appId],e,n,r).catch(i=>hr.error(i))}const s_="@firebase/analytics",a_="0.10.2";function WD(){Qr(new Cr(cd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return qD(r,i,n)},"PUBLIC")),Qr(new Cr("analytics-internal",t,"PRIVATE")),fr(s_,a_),fr(s_,a_,"esm2017");function t(e){try{const n=e.getProvider(cd).getImmediate();return{logEvent:(r,i,o)=>KD(n,r,i,o)}}catch(n){throw Tr.create("interop-component-reg-failed",{reason:n})}}}WD();function qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YD=zE,KE=new Cs("auth","Firebase",zE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new af("@firebase/auth");function GD(t,...e){dd.logLevel<=lt.WARN&&dd.warn(`Auth (${Ds}): ${t}`,...e)}function $c(t,...e){dd.logLevel<=lt.ERROR&&dd.error(`Auth (${Ds}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,...e){throw Hg(t,...e)}function _i(t,...e){return Hg(t,...e)}function WE(t,e,n){const r=Object.assign(Object.assign({},YD()),{[e]:n});return new Cs("auth","Firebase",r).create(e,{appName:t.name})}function ko(t){return WE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KE.create(t,...e)}function Ke(t,e,...n){if(!t)throw Hg(e,...n)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $c(e),new Error(e)}function Hi(t,e){t||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QD(){return l_()==="http:"||l_()==="https:"}function l_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QD()||pE()||"connection"in navigator)?navigator.onLine:!0}function JD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=sP()||lP()}get(){return XD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Tu(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Uo(t,e,n,r,i={}){return GE(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Eu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),YE.fetch()(QE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function GE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZD),e);try{const i=new nM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw pc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw pc(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw WE(t,u,f);Xr(t,u)}}catch(i){if(i instanceof Mr)throw i;Xr(t,"network-request-failed",{message:String(i)})}}async function df(t,e,n,r,i={}){const o=await Uo(t,e,n,r,i);return"mfaPendingCredential"in o&&Xr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function QE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zg(t.config,i):`${t.config.apiScheme}://${i}`}function tM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),eM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_i(t,e,r);return i.customData._tokenResponse=n,i}function u_(t){return t!==void 0&&t.enterprise!==void 0}class rM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function iM(t,e){return Uo(t,"GET","/v2/recaptchaConfig",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){return Uo(t,"POST","/v1/accounts:delete",e)}async function XE(t,e){return Uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sM(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=Kg(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ml(pp(i.auth_time)),issuedAtTime:Ml(pp(i.iat)),expirationTime:Ml(pp(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function pp(t){return Number(t)*1e3}function Kg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const i=lE(n);return i?JSON.parse(i):($c("Failed to decode base64 JWT payload"),null)}catch(i){return $c("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c_(t){const e=Kg(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&aM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await eu(t,XE(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JE(o.providerUserInfo):[],a=cM(t.providerData,s),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?f:!1,c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function uM(t){const e=Ct(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JE(t){return t.map(e=>{var{providerId:n}=e,r=qg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){const n=await GE(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=QE(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YE.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fM(t,e){return Uo(t,"POST","/v2/accounts:revokeToken",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=c_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await dM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ua;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ke(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sM(this,e)}reload(){return uM(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(ko(this.auth));const e=await this.getIdToken();return await eu(this,oM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,f,u;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(f=n.createdAt)!==null&&f!==void 0?f:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:g,isAnonymous:w,providerData:k,stsTokenManager:S}=n;Ke(b&&S,e,"internal-error");const E=ua.fromJSON(this.name,S);Ke(typeof b=="string",e,"internal-error"),ro(c,e.name),ro(d,e.name),Ke(typeof g=="boolean",e,"internal-error"),Ke(typeof w=="boolean",e,"internal-error"),ro(h,e.name),ro(p,e.name),ro(m,e.name),ro(y,e.name),ro(v,e.name),ro(_,e.name);const I=new Ni({uid:b,auth:e,email:d,emailVerified:g,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:_});return k&&Array.isArray(k)&&(I.providerData=k.map(x=>Object.assign({},x))),y&&(I._redirectEventId=y),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ua;i.updateFromServerResponse(n);const o=new Ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?JE(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ua;a.updateFromIdToken(r);const l=new Ni({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Am(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function Li(t){Hi(t instanceof Function,"Expected a class definition");let e=d_.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZE.type="NONE";const f_=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t,e,n){return`firebase:${t}:${e}:${n}`}class ca{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ca(Li(f_),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Li(f_);const s=Vc(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const u=await f._get(s);if(u){const c=Ni._fromJSON(e,u);f!==o&&(a=c),o=f;break}}catch{}const l=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ca(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new ca(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iT(e))return"Blackberry";if(oT(e))return"Webos";if(Wg(e))return"Safari";if((e.includes("chrome/")||tT(e))&&!e.includes("edge/"))return"Chrome";if(rT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eT(t=Ln()){return/firefox\//i.test(t)}function Wg(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tT(t=Ln()){return/crios\//i.test(t)}function nT(t=Ln()){return/iemobile/i.test(t)}function rT(t=Ln()){return/android/i.test(t)}function iT(t=Ln()){return/blackberry/i.test(t)}function oT(t=Ln()){return/webos/i.test(t)}function ff(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hM(t=Ln()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pM(){return uP()&&document.documentMode===10}function sT(t=Ln()){return ff(t)||rT(t)||oT(t)||iT(t)||/windows phone/i.test(t)||nT(t)}function mM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e=[]){let n;switch(t){case"Browser":n=h_(Ln());break;case"Worker":n=`${h_(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ds}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e={}){return Uo(t,"GET","/v2/passwordPolicy",Ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=6;class _M{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:yM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p_(this),this.idTokenSubscription=new p_(this),this.beforeStateQueue=new gM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ca.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XE(this,{idToken:e}),r=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Di(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Di(this.app))return Promise.reject(ko(this));const n=e?Ct(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Di(this.app)?Promise.reject(ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vM(this),n=new _M(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await ca.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fa(t){return Ct(t)}class p_{constructor(e){this.auth=e,this.observer=null,this.addObserver=gP(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wM(t){hf=t}function lT(t){return hf.loadJS(t)}function EM(){return hf.recaptchaEnterpriseScript}function TM(){return hf.gapiScript}function AM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kM="recaptcha-enterprise",xM="NO_RECAPTCHA";class IM{constructor(e){this.type=kM,this.auth=Fa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{iM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const f=new rM(l);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;u_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(xM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&u_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=EM();l.length!==0&&(l+=a),lT(l).then(()=>{i(a,o,s)}).catch(f=>{s(f)})}}).catch(a=>{s(a)})})}}async function m_(t,e,n,r=!1){const i=new IM(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function g_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await m_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await m_(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e){const n=Fo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ya(o,e??{}))return i;Xr(i,"already-initialized")}return n.initialize({options:e})}function RM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OM(t,e,n){const r=Fa(t);Ke(r._canInitEmulator,r,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=uT(e),{host:s,port:a}=PM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),CM()}function uT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PM(t){const e=uT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:v_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:v_(s)}}}function v_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function DM(t,e){return Uo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return df(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e){return df(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function LM(t,e){return df(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Yg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g_(e,n,"signInWithPassword",MM);case"emailLink":return NM(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g_(e,r,"signUpPassword",DM);case"emailLink":return LM(e,{idToken:n,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t,e){return df(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="http://localhost";class ws extends Yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=qg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ws(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return da(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,da(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,da(e,n)}buildRequest(){const e={requestUri:$M,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FM(t){const e=gl(vl(t)).link,n=e?gl(vl(e)).deep_link_id:null,r=gl(vl(t)).deep_link_id;return(r?gl(vl(r)).link:null)||r||n||e||t}class Gg{constructor(e){var n,r,i,o,s,a;const l=gl(vl(e)),f=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,c=VM((i=l.mode)!==null&&i!==void 0?i:null);Ke(f&&u&&c,"argument-error"),this.apiKey=f,this.operation=c,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FM(e);try{return new Gg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gg.parseLink(n);return Ke(r,"argument-error"),tu._fromEmailAndCode(e,r.code,r.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends cT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Au{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ws._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mo.credential(n,r)}catch{return null}}}mo.GOOGLE_SIGN_IN_METHOD="google.com";mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Au{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Au{constructor(){super("twitter.com")}static credential(e,n){return ws._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ni._fromIdTokenResponse(e,r,i),s=y_(r);return new _a({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y_(r);return new _a({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hd(e,n,r,i)}}function dT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,o,e,r):o})}async function UM(t,e,n=!1){const r=await eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e,n=!1){const{auth:r}=t;if(Di(r.app))return Promise.reject(ko(r));const i="reauthenticate";try{const o=await eu(t,dT(r,i,e,t),n);Ke(o.idToken,r,"internal-error");const s=Kg(o.idToken);Ke(s,r,"internal-error");const{sub:a}=s;return Ke(t.uid===a,r,"user-mismatch"),_a._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Xr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t,e,n=!1){if(Di(t.app))return Promise.reject(ko(t));const r="signIn",i=await dT(t,r,e),o=await _a._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function jM(t,e){return fT(Fa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t){const e=Fa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HM(t,e,n){return Di(t.app)?Promise.reject(ko(t)):jM(Ct(t),Ua.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e){return Ct(t).setPersistence(e)}function zM(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function KM(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function WM(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function __(t){return Ct(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){const t=Ln();return Wg(t)||ff(t)}const GM=1e3,QM=10;class mT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=YM()&&mM(),this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);pM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const Qg=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const vT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async f=>f(n.origin,o)),l=await XM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const f=Xg("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(c){const d=c;if(d.data.eventId===f)switch(d.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function ZM(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function eN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nN(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",rN=1,md="firebaseLocalStorage",bT="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function iN(){const t=indexedDB.deleteDatabase(_T);return new ku(t).toPromise()}function km(){const t=indexedDB.open(_T,rN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(md,{keyPath:bT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(md)?e(r):(r.close(),await iN(),e(await km()))})})}async function b_(t,e,n){const r=mf(t,!0).put({[bT]:e,value:n});return new ku(r).toPromise()}async function oN(t,e){const n=mf(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function w_(t,e){const n=mf(t,!0).delete(e);return new ku(n).toPromise()}const sN=800,aN=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(nN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new JM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await b_(e,pd,"1"),await w_(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=mf(i,!1).getAll();return new ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const lN=wT;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e){return e?Li(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cN(t){return fT(t.auth,new Jg(t),t.bypassAuthState)}function dN(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),BM(n,new Jg(t),t.bypassAuthState)}async function fN(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),UM(n,new Jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return dN;default:Xr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Tu(2e3,1e4);class ta extends ET{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hN.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="pendingRedirect",Fc=new Map;class mN extends ET{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const r=await gN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gN(t,e){const n=_N(e),r=yN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vN(t,e){Fc.set(t._key(),e)}function yN(t){return Li(t._redirectPersistence)}function _N(t){return Vc(pN,t.config.apiKey,t.name)}async function bN(t,e,n=!1){if(Di(t.app))return Promise.reject(ko(t));const r=Fa(t),i=uN(r,e),s=await new mN(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=10*60*1e3;class EN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(e))}saveEventToCache(e){this.cachedEventUids.add(E_(e)),this.lastProcessedEventTime=Date.now()}}function E_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e={}){return Uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xN=/^https?/;async function IN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AN(t);for(const n of e)try{if(SN(n))return}catch{}Xr(t,"unauthorized-domain")}function SN(t){const e=Tm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!xN.test(n))return!1;if(kN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Tu(3e4,6e4);function T_(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ON(t){return new Promise((e,n)=>{var r,i,o;function s(){T_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T_(),n(_i(t,"network-request-failed"))},timeout:RN.get()})}if(!((i=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=bi().gapi)===null||o===void 0)&&o.load)s();else{const a=AM("iframefcb");return bi()[a]=()=>{gapi.load?s():n(_i(t,"network-request-failed"))},lT(`${TM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function PN(t){return Uc=Uc||ON(t),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Tu(5e3,15e3),DN="__/auth/iframe",MN="emulator/auth/iframe",NN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zg(e,MN):`https://${t.config.authDomain}/${DN}`,r={apiKey:e.apiKey,appName:t.name,v:Ds},i=LN.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Eu(r).slice(1)}`}async function VN(t){const e=await PN(t),n=bi().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:$N(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=_i(t,"network-request-failed"),a=bi().setTimeout(()=>{o(s)},CN.get());function l(){bi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UN=500,BN=600,jN="_blank",qN="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HN(t,e,n,r=UN,i=BN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},FN),{width:r.toString(),height:i.toString(),top:o,left:s}),f=Ln().toLowerCase();n&&(a=tT(f)?jN:n),eT(f)&&(e=e||qN,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(hM(f)&&a!=="_self")return zN(e||"",a),new A_(null);const c=window.open(e||"",a,u);Ke(c,t,"popup-blocked");try{c.focus()}catch{}return new A_(c)}function zN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="__/auth/handler",WN="emulator/auth/handler",YN=encodeURIComponent("fac");async function k_(t,e,n,r,i,o){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ds,eventId:i};if(e instanceof cT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",mP(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries({}))s[u]=c}if(e instanceof Au){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),f=l?`#${YN}=${encodeURIComponent(l)}`:"";return`${GN(t)}?${Eu(a).slice(1)}${f}`}function GN({config:t}){return t.emulator?zg(t,WN):`https://${t.authDomain}/${KN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=bN,this._overrideRedirectResult=vN}async _openPopup(e,n,r,i){var o;Hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await k_(e,n,r,Tm(),i);return HN(e,s,Xg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await k_(e,n,r,Tm(),i);return ZM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VN(e),r=new EN(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mp,{type:mp},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[mp];s!==void 0&&n(!!s),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||Wg()||ff()}}const XN=QN;var x_="@firebase/auth",I_="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e4(t){Qr(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ke(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(t)},f=new bM(r,i,o,l);return RM(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new Cr("auth-internal",e=>{const n=Fa(e.getProvider("auth").getImmediate());return(r=>new JN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(x_,I_,ZN(t)),fr(x_,I_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=5*60,n4=fE("authIdTokenMaxAge")||t4;let S_=null;const r4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n4)return;const i=n==null?void 0:n.token;S_!==i&&(S_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function i4(t=lf()){const e=Fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SM(t,{popupRedirectResolver:XN,persistence:[lN,Qg,vT]}),r=fE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=r4(o.toString());KM(n,s,()=>s(n.currentUser)),zM(n,a=>s(a))}}const i=uE("auth");return i&&OM(n,`http://${i}`),n}function o4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=_i("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",o4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e4("Browser");var s4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce,Zg=Zg||{},Qe=s4||self;function gf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function vf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function a4(t){return Object.prototype.hasOwnProperty.call(t,gp)&&t[gp]||(t[gp]=++l4)}var gp="closure_uid_"+(1e9*Math.random()>>>0),l4=0;function u4(t,e,n){return t.call.apply(t.bind,arguments)}function c4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Yn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yn=u4:Yn=c4,Yn.apply(null,arguments)}function mc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Bo(){this.s=this.s,this.o=this.o}var d4=0;Bo.prototype.s=!1;Bo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),d4!=0)&&a4(this)};Bo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ev(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function R_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Gn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gn.prototype.h=function(){this.defaultPrevented=!0};var f4=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Qe.addEventListener("test",n,e),Qe.removeEventListener("test",n,e)}catch{}return t}();function nu(t){return/^[\s\xa0]*$/.test(t)}function yf(){var t=Qe.navigator;return t&&(t=t.userAgent)?t:""}function ci(t){return yf().indexOf(t)!=-1}function tv(t){return tv[" "](t),t}tv[" "]=function(){};function h4(t,e){var n=s3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var p4=ci("Opera"),ba=ci("Trident")||ci("MSIE"),kT=ci("Edge"),xm=kT||ba,xT=ci("Gecko")&&!(yf().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge"))&&!(ci("Trident")||ci("MSIE"))&&!ci("Edge"),m4=yf().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge");function IT(){var t=Qe.document;return t?t.documentMode:void 0}var Im;e:{var vp="",yp=function(){var t=yf();if(xT)return/rv:([^\);]+)(\)|;)/.exec(t);if(kT)return/Edge\/([\d\.]+)/.exec(t);if(ba)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(m4)return/WebKit\/(\S+)/.exec(t);if(p4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yp&&(vp=yp?yp[1]:""),ba){var _p=IT();if(_p!=null&&_p>parseFloat(vp)){Im=String(_p);break e}}Im=vp}var Sm;if(Qe.document&&ba){var O_=IT();Sm=O_||parseInt(Im,10)||void 0}else Sm=void 0;var g4=Sm;function ru(t,e){if(Gn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xT){e:{try{tv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:v4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ru.$.h.call(this)}}wn(ru,Gn);var v4={2:"touch",3:"pen",4:"mouse"};ru.prototype.h=function(){ru.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _f="closure_listenable_"+(1e6*Math.random()|0),y4=0;function _4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++y4,this.fa=this.ia=!1}function bf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ST(t){const e={};for(const n in t)e[n]=t[n];return e}const P_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<P_.length;o++)n=P_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wf(t){this.src=t,this.g={},this.h=0}wf.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Om(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new _4(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Rm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AT(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(bf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Om(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var rv="closure_lm_"+(1e6*Math.random()|0),bp={};function OT(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)OT(t,e[o],n,r,i);return null}return n=DT(n),t&&t[_f]?t.O(e,n,vf(r)?!!r.capture:!!r,i):w4(t,e,n,!1,r,i)}function w4(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=vf(i)?!!i.capture:!!i,a=ov(t);if(a||(t[rv]=a=new wf(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=E4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)f4||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function E4(){function t(n){return e.call(t.src,t.listener,n)}const e=T4;return t}function PT(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)PT(t,e[o],n,r,i);else r=vf(r)?!!r.capture:!!r,n=DT(n),t&&t[_f]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Om(o,n,r,i),-1<n&&(bf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ov(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Om(e,n,r,i)),(n=-1<t?e[t]:null)&&iv(n))}function iv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[_f])Rm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ov(e))?(Rm(n,t),n.h==0&&(n.src=null,e[rv]=null)):bf(t)}}}function CT(t){return t in bp?bp[t]:bp[t]="on"+t}function T4(t,e){if(t.fa)t=!0;else{e=new ru(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iv(t),t=n.call(r,e)}return t}function ov(t){return t=t[rv],t instanceof wf?t:null}var wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function DT(t){return typeof t=="function"?t:(t[wp]||(t[wp]=function(e){return t.handleEvent(e)}),t[wp])}function bn(){Bo.call(this),this.i=new wf(this),this.S=this,this.J=null}wn(bn,Bo);bn.prototype[_f]=!0;bn.prototype.removeEventListener=function(t,e,n,r){PT(this,t,e,n,r)};function Dn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Gn(e,t);else if(e instanceof Gn)e.target=e.target||t;else{var i=e;e=new Gn(r,t),RT(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=gc(s,r,!0,e)&&i}if(s=e.g=t,i=gc(s,r,!0,e)&&i,i=gc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=gc(s,r,!1,e)&&i}bn.prototype.N=function(){if(bn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bf(n[r]);delete t.g[e],t.h--}}this.J=null};bn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Rm(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var sv=Qe.JSON.stringify;class A4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function k4(){var t=av;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class x4{constructor(){this.h=this.g=null}add(e,n){const r=MT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var MT=new A4(()=>new I4,t=>t.reset());class I4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function S4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function R4(t){Qe.setTimeout(()=>{throw t},0)}let iu,ou=!1,av=new x4,NT=()=>{const t=Qe.Promise.resolve(void 0);iu=()=>{t.then(O4)}};var O4=()=>{for(var t;t=k4();){try{t.h.call(t.g)}catch(n){R4(n)}var e=MT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ou=!1};function Ef(t,e){bn.call(this),this.h=t||1,this.g=e||Qe,this.j=Yn(this.qb,this),this.l=Date.now()}wn(Ef,bn);Ce=Ef.prototype;Ce.ga=!1;Ce.T=null;Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(lv(this),this.start()))}};Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ce.N=function(){Ef.$.N.call(this),lv(this),delete this.g};function uv(t,e,n){if(typeof t=="function")n&&(t=Yn(t,n));else if(t&&typeof t.handleEvent=="function")t=Yn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Qe.setTimeout(t,e||0)}function LT(t){t.g=uv(()=>{t.g=null,t.i&&(t.i=!1,LT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class P4 extends Bo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LT(this)}N(){super.N(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function su(t){Bo.call(this),this.h=t,this.g={}}wn(su,Bo);var C_=[];function $T(t,e,n,r){Array.isArray(n)||(n&&(C_[0]=n.toString()),n=C_);for(var i=0;i<n.length;i++){var o=OT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function VT(t){nv(t.g,function(e,n){this.g.hasOwnProperty(n)&&iv(e)},t),t.g={}}su.prototype.N=function(){su.$.N.call(this),VT(this)};su.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tf(){this.g=!0}Tf.prototype.Ea=function(){this.g=!1};function C4(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var f=a[l].split("=");if(1<f.length){var u=f[0];f=f[1];var c=u.split("_");s=2<=c.length&&c[1]=="type"?s+(u+"="+f+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function D4(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function na(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+N4(t,n)+(r?" "+r:"")})}function M4(t,e){t.info(function(){return"TIMEOUT: "+e})}Tf.prototype.info=function(){};function N4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return sv(n)}catch{return e}}var Ns={},D_=null;function Af(){return D_=D_||new bn}Ns.Ta="serverreachability";function FT(t){Gn.call(this,Ns.Ta,t)}wn(FT,Gn);function au(t){const e=Af();Dn(e,new FT(e))}Ns.STAT_EVENT="statevent";function UT(t,e){Gn.call(this,Ns.STAT_EVENT,t),this.stat=e}wn(UT,Gn);function rr(t){const e=Af();Dn(e,new UT(e,t))}Ns.Ua="timingevent";function BT(t,e){Gn.call(this,Ns.Ua,t),this.size=e}wn(BT,Gn);function xu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){t()},e)}var kf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cv(){}cv.prototype.h=null;function M_(t){return t.h||(t.h=t.i())}function qT(){}var Iu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dv(){Gn.call(this,"d")}wn(dv,Gn);function fv(){Gn.call(this,"c")}wn(fv,Gn);var Pm;function xf(){}wn(xf,cv);xf.prototype.g=function(){return new XMLHttpRequest};xf.prototype.i=function(){return{}};Pm=new xf;function Su(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new su(this),this.P=L4,t=xm?125:void 0,this.V=new Ef(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new HT}function HT(){this.i=null,this.g="",this.h=!1}var L4=45e3,zT={},Cm={};Ce=Su.prototype;Ce.setTimeout=function(t){this.P=t};function Dm(t,e,n){t.L=1,t.A=Sf(zi(e)),t.u=n,t.S=!0,KT(t,null)}function KT(t,e){t.G=Date.now(),Ru(t),t.B=zi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),eA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new HT,t.g=wA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new P4(Yn(t.Pa,t,t.g),t.O)),$T(t.U,t.g,"readystatechange",t.nb),e=t.I?ST(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),au(),C4(t.j,t.v,t.B,t.m,t.W,t.u)}Ce.nb=function(t){t=t.target;const e=this.M;e&&hi(t)==3?e.l():this.Pa(t)};Ce.Pa=function(t){try{if(t==this.g)e:{const u=hi(this.g);var e=this.g.Ia();const c=this.g.da();if(!(3>u)&&(u!=3||xm||this.g&&(this.h.h||this.g.ja()||V_(this.g)))){this.J||u!=4||e==7||(e==8||0>=c?au(3):au(2)),If(this);var n=this.g.da();this.ca=n;t:if(WT(this)){var r=V_(this.g);t="";var i=r.length,o=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),Nl(this);var s="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,D4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nu(a)){var f=a;break t}}f=null}if(n=f)na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mm(this,n);else{this.i=!1,this.s=3,rr(12),ss(this),Nl(this);break e}}this.S?(YT(this,u,s),xm&&this.i&&u==3&&($T(this.U,this.V,"tick",this.mb),this.V.start())):(na(this.j,this.m,s,null),Mm(this,s)),u==4&&ss(this),this.i&&!this.J&&(u==4?vA(this.l,this):(this.i=!1,Ru(this)))}else r3(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,rr(12)):(this.s=0,rr(13)),ss(this),Nl(this)}}}catch{}finally{}};function WT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function YT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=$4(t,n),i==Cm){e==4&&(t.s=4,rr(14),r=!1),na(t.j,t.m,null,"[Incomplete Response]");break}else if(i==zT){t.s=4,rr(15),na(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else na(t.j,t.m,i,null),Mm(t,i);WT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,rr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yv(e),e.M=!0,rr(11))):(na(t.j,t.m,n,"[Invalid Chunked Response]"),ss(t),Nl(t))}Ce.mb=function(){if(this.g){var t=hi(this.g),e=this.g.ja();this.o<e.length&&(If(this),YT(this,t,e),this.i&&t!=4&&Ru(this))}};function $4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Cm:(n=Number(e.substring(n,r)),isNaN(n)?zT:(r+=1,r+n>e.length?Cm:(e=e.slice(r,r+n),t.o=r+n,e)))}Ce.cancel=function(){this.J=!0,ss(this)};function Ru(t){t.Y=Date.now()+t.P,GT(t,t.P)}function GT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=xu(Yn(t.lb,t),e)}function If(t){t.C&&(Qe.clearTimeout(t.C),t.C=null)}Ce.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(M4(this.j,this.B),this.L!=2&&(au(),rr(17)),ss(this),this.s=2,Nl(this)):GT(this,this.Y-t)};function Nl(t){t.l.H==0||t.J||vA(t.l,t)}function ss(t){If(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lv(t.V),VT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Nm(n.i,t))){if(!t.K&&Nm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yd(n),Pf(n);else break e;vv(n),rr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=xu(Yn(n.ib,n),6e3));if(1>=rA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else as(n,11)}else if((t.K||n.g==t)&&yd(n),!nu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const u=f[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const c=f[4];c!=null&&(n.Ga=c,n.l.info("SVER="+n.Ga));const d=f[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(hv(o,o.h),o.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Pt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=bA(r,r.J?r.pa:null,r.Y),s.K){iA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(If(a),Ru(a)),r.g=s}else mA(r);0<n.j.length&&Cf(n)}else f[0]!="stop"&&f[0]!="close"||as(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?as(n,7):gv(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}au(4)}catch{}}function V4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function F4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function QT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=F4(t),r=V4(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var XT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof hs){this.h=t.h,gd(this,t.j),this.s=t.s,this.g=t.g,vd(this,t.m),this.l=t.l;var e=t.i,n=new lu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),N_(this,n),this.o=t.o}else t&&(e=String(t).match(XT))?(this.h=!1,gd(this,e[1]||"",!0),this.s=yl(e[2]||""),this.g=yl(e[3]||"",!0),vd(this,e[4]),this.l=yl(e[5]||"",!0),N_(this,e[6]||"",!0),this.o=yl(e[7]||"")):(this.h=!1,this.i=new lu(null,this.h))}hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_l(e,L_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_l(e,L_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_l(n,n.charAt(0)=="/"?q4:j4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_l(n,z4)),t.join("")};function zi(t){return new hs(t)}function gd(t,e,n){t.j=n?yl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function N_(t,e,n){e instanceof lu?(t.i=e,K4(t.i,t.h)):(n||(e=_l(e,H4)),t.i=new lu(e,t.h))}function Pt(t,e,n){t.i.set(e,n)}function Sf(t){return Pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _l(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,B4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function B4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var L_=/[#\/\?@]/g,j4=/[#\?:]/g,q4=/[#\?]/g,H4=/[#\?@]/g,z4=/#/g;function lu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jo(t){t.g||(t.g=new Map,t.h=0,t.i&&U4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ce=lu.prototype;Ce.add=function(t,e){jo(this),this.i=null,t=Ba(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function JT(t,e){jo(t),e=Ba(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ZT(t,e){return jo(t),e=Ba(t,e),t.g.has(e)}Ce.forEach=function(t,e){jo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ce.ta=function(){jo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Ce.Z=function(t){jo(this);let e=[];if(typeof t=="string")ZT(this,t)&&(e=e.concat(this.g.get(Ba(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ce.set=function(t,e){return jo(this),this.i=null,t=Ba(this,t),ZT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function eA(t,e,n){JT(t,e),0<n.length&&(t.i=null,t.g.set(Ba(t,e),ev(n)),t.h+=n.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Ba(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function K4(t,e){e&&!t.j&&(jo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(JT(this,r),eA(this,i,n))},t)),t.j=e}var W4=class{constructor(t,e){this.g=t,this.map=e}};function tA(t){this.l=t||Y4,Qe.PerformanceNavigationTiming?(t=Qe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Qe.g&&Qe.g.Ka&&Qe.g.Ka()&&Qe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Y4=10;function nA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rA(t){return t.h?1:t.g?t.g.size:0}function Nm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hv(t,e){t.g?t.g.add(e):t.h=e}function iA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tA.prototype.cancel=function(){if(this.i=oA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function oA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ev(t.i)}var G4=class{stringify(t){return Qe.JSON.stringify(t,void 0)}parse(t){return Qe.JSON.parse(t,void 0)}};function Q4(){this.g=new G4}function X4(t,e,n){const r=n||"";try{QT(t,function(i,o){let s=i;vf(i)&&(s=sv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function J4(t,e){const n=new Tf;if(Qe.Image){const r=new Image;r.onload=mc(vc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mc(vc,n,r,"TestLoadImage: error",!1,e),r.onabort=mc(vc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mc(vc,n,r,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ou(t){this.l=t.ec||null,this.j=t.ob||!1}wn(Ou,cv);Ou.prototype.g=function(){return new Rf(this.l,this.j)};Ou.prototype.i=function(t){return function(){return t}}({});function Rf(t,e){bn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn(Rf,bn);var pv=0;Ce=Rf.prototype;Ce.open=function(t,e){if(this.readyState!=pv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uu(this)};Ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pu(this)),this.readyState=pv};Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pu(this):uu(this),this.readyState==3&&sA(this)}};Ce.Za=function(t){this.g&&(this.response=this.responseText=t,Pu(this))};Ce.Ya=function(t){this.g&&(this.response=t,Pu(this))};Ce.ka=function(){this.g&&Pu(this)};function Pu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uu(t)}Ce.setRequestHeader=function(t,e){this.v.append(t,e)};Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function uu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Rf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Z4=Qe.JSON.parse;function jt(t){bn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aA,this.L=this.M=!1}wn(jt,bn);var aA="",e3=/^https?$/i,t3=["POST","PUT"];Ce=jt.prototype;Ce.Oa=function(t){this.M=t};Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pm.g(),this.C=this.u?M_(this.u):M_(Pm),this.g.onreadystatechange=Yn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){$_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Qe.FormData&&t instanceof Qe.FormData,!(0<=AT(t3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cA(this),0<this.B&&((this.L=n3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yn(this.ua,this)):this.A=uv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){$_(this,o)}};function n3(t){return ba&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ce.ua=function(){typeof Zg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))};function $_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lA(t),Of(t)}function lA(t){t.F||(t.F=!0,Dn(t,"complete"),Dn(t,"error"))}Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dn(this,"complete"),Dn(this,"abort"),Of(this))};Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Of(this,!0)),jt.$.N.call(this)};Ce.La=function(){this.s||(this.G||this.v||this.l?uA(this):this.kb())};Ce.kb=function(){uA(this)};function uA(t){if(t.h&&typeof Zg<"u"&&(!t.C[1]||hi(t)!=4||t.da()!=2)){if(t.v&&hi(t)==4)uv(t.La,0,t);else if(Dn(t,"readystatechange"),hi(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(XT)[1]||null;!i&&Qe.self&&Qe.self.location&&(i=Qe.self.location.protocol.slice(0,-1)),r=!e3.test(i?i.toLowerCase():"")}n=r}if(n)Dn(t,"complete"),Dn(t,"success");else{t.m=6;try{var o=2<hi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",lA(t)}}finally{Of(t)}}}}function Of(t,e){if(t.g){cA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dn(t,"ready");try{n.onreadystatechange=r}catch{}}}function cA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Qe.clearTimeout(t.A),t.A=null)}Ce.isActive=function(){return!!this.g};function hi(t){return t.g?t.g.readyState:0}Ce.da=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}};Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Z4(e)}};function V_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case aA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function r3(t){const e={};t=(t.g&&2<=hi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nu(t[r]))continue;var n=S4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}b4(e,function(r){return r.join(", ")})}Ce.Ia=function(){return this.m};Ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function dA(t){let e="";return nv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pt(t,e,n))}function sl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fA(t){this.Ga=0,this.j=[],this.l=new Tf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sl("baseRetryDelayMs",5e3,t),this.hb=sl("retryDelaySeedMs",1e4,t),this.eb=sl("forwardChannelMaxRetries",2,t),this.xa=sl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new tA(t&&t.concurrentRequestLimit),this.Ja=new Q4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ce=fA.prototype;Ce.ra=8;Ce.H=1;function gv(t){if(hA(t),t.H==3){var e=t.W++,n=zi(t.I);if(Pt(n,"SID",t.K),Pt(n,"RID",e),Pt(n,"TYPE","terminate"),Cu(t,n),e=new Su(t,t.l,e),e.L=2,e.A=Sf(zi(n)),n=!1,Qe.navigator&&Qe.navigator.sendBeacon)try{n=Qe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Qe.Image&&(new Image().src=e.A,n=!0),n||(e.g=wA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ru(e)}_A(t)}function Pf(t){t.g&&(yv(t),t.g.cancel(),t.g=null)}function hA(t){Pf(t),t.u&&(Qe.clearTimeout(t.u),t.u=null),yd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Qe.clearTimeout(t.m),t.m=null)}function Cf(t){if(!nA(t.i)&&!t.m){t.m=!0;var e=t.Na;iu||NT(),ou||(iu(),ou=!0),av.add(e,t),t.C=0}}function i3(t,e){return rA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=xu(Yn(t.Na,t,e),yA(t,t.C)),t.C++,!0)}Ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Su(this,this.l,t);let o=this.s;if(this.U&&(o?(o=ST(o),RT(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pA(this,i,e),n=zi(this.I),Pt(n,"RID",t),Pt(n,"CVER",22),this.F&&Pt(n,"X-HTTP-Session-Id",this.F),Cu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(dA(o)))+"&"+e:this.o&&mv(n,this.o,o)),hv(this.i,i),this.bb&&Pt(n,"TYPE","init"),this.P?(Pt(n,"$req",e),Pt(n,"SID","null"),i.aa=!0,Dm(i,n,null)):Dm(i,n,e),this.H=2}}else this.H==3&&(t?F_(this,t):this.j.length==0||nA(this.i)||F_(this))};function F_(t,e){var n;e?n=e.m:n=t.W++;const r=zi(t.I);Pt(r,"SID",t.K),Pt(r,"RID",n),Pt(r,"AID",t.V),Cu(t,r),t.o&&t.s&&mv(r,t.o,t.s),n=new Su(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=pA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hv(t.i,n),Dm(n,r,e)}function Cu(t,e){t.na&&nv(t.na,function(n,r){Pt(e,r,n)}),t.h&&QT({},function(n,r){Pt(e,r,n)})}function pA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let f=i[l].g;const u=i[l].map;if(f-=o,0>f)o=Math.max(0,i[l].g-100),a=!1;else try{X4(u,s,"req"+f+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function mA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;iu||NT(),ou||(iu(),ou=!0),av.add(e,t),t.A=0}}function vv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=xu(Yn(t.Ma,t),yA(t,t.A)),t.A++,!0)}Ce.Ma=function(){if(this.u=null,gA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=xu(Yn(this.jb,this),t)}};Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rr(10),Pf(this),gA(this))};function yv(t){t.B!=null&&(Qe.clearTimeout(t.B),t.B=null)}function gA(t){t.g=new Su(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=zi(t.wa);Pt(e,"RID","rpc"),Pt(e,"SID",t.K),Pt(e,"AID",t.V),Pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pt(e,"TO",t.qa),Pt(e,"TYPE","xmlhttp"),Cu(t,e),t.o&&t.s&&mv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Sf(zi(e)),n.u=null,n.S=!0,KT(n,t)}Ce.ib=function(){this.v!=null&&(this.v=null,Pf(this),vv(this),rr(19))};function yd(t){t.v!=null&&(Qe.clearTimeout(t.v),t.v=null)}function vA(t,e){var n=null;if(t.g==e){yd(t),yv(t),t.g=null;var r=2}else if(Nm(t.i,e))n=e.F,iA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Af(),Dn(r,new BT(r,n)),Cf(t)}else mA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&i3(t,e)||r==2&&vv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:as(t,5);break;case 4:as(t,10);break;case 3:as(t,6);break;default:as(t,2)}}}function yA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function as(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yn(t.pb,t);n||(n=new hs("//www.google.com/images/cleardot.gif"),Qe.location&&Qe.location.protocol=="http"||gd(n,"https"),Sf(n)),J4(n.toString(),r)}else rr(2);t.H=0,t.h&&t.h.za(e),_A(t),hA(t)}Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),rr(2)):(this.l.info("Failed to ping google.com"),rr(1))};function _A(t){if(t.H=0,t.ma=[],t.h){const e=oA(t.i);(e.length!=0||t.j.length!=0)&&(R_(t.ma,e),R_(t.ma,t.j),t.i.i.length=0,ev(t.j),t.j.length=0),t.h.ya()}}function bA(t,e,n){var r=n instanceof hs?zi(n):new hs(n);if(r.g!="")e&&(r.g=e+"."+r.g),vd(r,r.m);else{var i=Qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new hs(null);r&&gd(o,r),e&&(o.g=e),i&&vd(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Pt(r,n,e),Pt(r,"VER",t.ra),Cu(t,r),r}function wA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new jt(new Ou({ob:n})):new jt(t.va),e.Oa(t.J),e}Ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function EA(){}Ce=EA.prototype;Ce.Ba=function(){};Ce.Aa=function(){};Ce.za=function(){};Ce.ya=function(){};Ce.isActive=function(){return!0};Ce.Va=function(){};function _d(){if(ba&&!(10<=Number(g4)))throw Error("Environmental error: no available transport.")}_d.prototype.g=function(t,e){return new kr(t,e)};function kr(t,e){bn.call(this),this.g=new fA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ja(this)}wn(kr,bn);kr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;rr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bA(t,null,t.Y),Cf(t)};kr.prototype.close=function(){gv(this.g)};kr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sv(t),t=n);e.j.push(new W4(e.fb++,t)),e.H==3&&Cf(e)};kr.prototype.N=function(){this.g.h=null,delete this.j,gv(this.g),delete this.g,kr.$.N.call(this)};function TA(t){dv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wn(TA,dv);function AA(){fv.call(this),this.status=1}wn(AA,fv);function ja(t){this.g=t}wn(ja,EA);ja.prototype.Ba=function(){Dn(this.g,"a")};ja.prototype.Aa=function(t){Dn(this.g,new TA(t))};ja.prototype.za=function(t){Dn(this.g,new AA)};ja.prototype.ya=function(){Dn(this.g,"b")};function o3(){this.blockSize=-1}function Jr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}wn(Jr,o3);Jr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ep(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Jr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Ep(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Ep(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Ep(this,r),i=0;break}}this.h=i,this.i+=e};Jr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Tt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var s3={};function _v(t){return-128<=t&&128>t?h4(t,function(e){return new Tt([e|0],0>e?-1:0)}):new Tt([t|0],0>t?-1:0)}function pi(t){if(isNaN(t)||!isFinite(t))return fa;if(0>t)return Rn(pi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lm;return new Tt(e,0)}function kA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Rn(kA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pi(Math.pow(e,8)),r=fa,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=pi(Math.pow(e,o)),r=r.R(o).add(pi(s))):(r=r.R(n),r=r.add(pi(s)))}return r}var Lm=4294967296,fa=_v(0),$m=_v(1),U_=_v(16777216);Ce=Tt.prototype;Ce.ea=function(){if(Ir(this))return-Rn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lm+r)*e,e*=Lm}return t};Ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($i(this))return"0";if(Ir(this))return"-"+Rn(this).toString(t);for(var e=pi(Math.pow(t,6)),n=this,r="";;){var i=wd(n,e).g;n=bd(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,$i(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $i(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ir(t){return t.h==-1}Ce.X=function(t){return t=bd(this,t),Ir(t)?-1:$i(t)?0:1};function Rn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Tt(n,~t.h).add($m)}Ce.abs=function(){return Ir(this)?Rn(this):this};Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Tt(n,n[n.length-1]&-2147483648?-1:0)};function bd(t,e){return t.add(Rn(e))}Ce.R=function(t){if($i(this)||$i(t))return fa;if(Ir(this))return Ir(t)?Rn(this).R(Rn(t)):Rn(Rn(this).R(t));if(Ir(t))return Rn(this.R(Rn(t)));if(0>this.X(U_)&&0>t.X(U_))return pi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,yc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,yc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,yc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,yc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Tt(n,0)};function yc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function al(t,e){this.g=t,this.h=e}function wd(t,e){if($i(e))throw Error("division by zero");if($i(t))return new al(fa,fa);if(Ir(t))return e=wd(Rn(t),e),new al(Rn(e.g),Rn(e.h));if(Ir(e))return e=wd(t,Rn(e)),new al(Rn(e.g),e.h);if(30<t.g.length){if(Ir(t)||Ir(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$m,r=e;0>=r.X(t);)n=B_(n),r=B_(r);var i=Ks(n,1),o=Ks(r,1);for(r=Ks(r,2),n=Ks(n,2);!$i(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ks(r,1),n=Ks(n,1)}return e=bd(t,i.R(e)),new al(i,e)}for(i=fa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=pi(n),s=o.R(e);Ir(s)||0<s.X(t);)n-=r,o=pi(n),s=o.R(e);$i(o)&&(o=$m),i=i.add(o),t=bd(t,s)}return new al(i,t)}Ce.gb=function(t){return wd(this,t).h};Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Tt(n,this.h&t.h)};Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Tt(n,this.h|t.h)};Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Tt(n,this.h^t.h)};function B_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Tt(n,t.h)}function Ks(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Tt(i,t.h)}_d.prototype.createWebChannel=_d.prototype.g;kr.prototype.send=kr.prototype.u;kr.prototype.open=kr.prototype.m;kr.prototype.close=kr.prototype.close;kf.NO_ERROR=0;kf.TIMEOUT=8;kf.HTTP_ERROR=6;jT.COMPLETE="complete";qT.EventType=Iu;Iu.OPEN="a";Iu.CLOSE="b";Iu.ERROR="c";Iu.MESSAGE="d";bn.prototype.listen=bn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;Jr.prototype.digest=Jr.prototype.l;Jr.prototype.reset=Jr.prototype.reset;Jr.prototype.update=Jr.prototype.j;Tt.prototype.add=Tt.prototype.add;Tt.prototype.multiply=Tt.prototype.R;Tt.prototype.modulo=Tt.prototype.gb;Tt.prototype.compare=Tt.prototype.X;Tt.prototype.toNumber=Tt.prototype.ea;Tt.prototype.toString=Tt.prototype.toString;Tt.prototype.getBits=Tt.prototype.D;Tt.fromNumber=pi;Tt.fromString=kA;var a3=function(){return new _d},l3=function(){return Af()},Tp=kf,u3=jT,c3=Ns,j_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},d3=Ou,_c=qT,f3=jt,h3=Jr,ha=Tt;const q_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new af("@firebase/firestore");function ll(){return Es.logLevel}function $e(t,...e){if(Es.logLevel<=lt.DEBUG){const n=e.map(bv);Es.debug(`Firestore (${qa}): ${t}`,...n)}}function Ki(t,...e){if(Es.logLevel<=lt.ERROR){const n=e.map(bv);Es.error(`Firestore (${qa}): ${t}`,...n)}}function wa(t,...e){if(Es.logLevel<=lt.WARN){const n=e.map(bv);Es.warn(`Firestore (${qa}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+t;throw Ki(e),new Error(e)}function St(t,e){t||We()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qn.UNAUTHENTICATED))}shutdown(){}}class m3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g3{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ji,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ji)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new xA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new qn(e)}}class v3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class y3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new v3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new _3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=w3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new fn(0,0))}static max(){return new Je(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(),r===void 0?r=e.length-n:r>e.length-n&&We(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends cu{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const E3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends cu{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return E3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Be(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Be(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Be(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Be(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Dt.fromString(e))}static fromName(e){return new He(Dt.fromString(e).popFirst(5))}static empty(){return new He(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Dt(e.slice()))}}function T3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Co(i,He.empty(),e)}function A3(t){return new Co(t.readTime,t.key,-1)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(Je.min(),He.empty(),-1)}static max(){return new Co(Je.max(),He.empty(),-1)}}function k3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==x3)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.reject(n)}static resolve(e){return new xe((n,r)=>{n(e)})}static reject(e){return new xe((n,r)=>{r(e)})}static waitFor(e){return new xe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new xe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const f=l;n(e[f]).next(u=>{s[f]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new xe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function S3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wv.oe=-1;function Df(t){return t==null}function Ed(t){return t===0&&1/t==-1/0}function R3(t){return typeof t=="number"&&Number.isInteger(t)&&!Ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=i??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Sn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new br([])}unionWith(e){let n=new Mn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new RA("Invalid base64 string: "+o):o}}(e);return new Qn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const O3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(St(!!t),typeof t=="string"){let e=0;const n=O3.exec(t);if(St(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tv(t){const e=t.mapValue.fields.__previous_value__;return Ev(e)?Tv(e):e}function du(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,i,o,s,a,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f}}class fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:C3(t)?9007199254740991:10:We()}function ki(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ts(i.bytesValue).isEqual(Ts(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return nn(i.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(i.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return nn(i.integerValue)===nn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=nn(i.doubleValue),a=nn(o.doubleValue);return s===a?Ed(s)===Ed(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(H_(s)!==H_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ki(s[l],a[l])))return!1;return!0}(t,e);default:return We()}}function hu(t,e){return(t.values||[]).find(n=>ki(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=As(t),r=As(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=nn(o.integerValue||o.doubleValue),l=nn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return K_(t.timestampValue,e.timestampValue);case 4:return K_(du(t),du(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ts(o),l=Ts(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let f=0;f<a.length&&f<l.length;f++){const u=pt(a[f],l[f]);if(u!==0)return u}return pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=pt(nn(o.latitude),nn(s.latitude));return a!==0?a:pt(nn(o.longitude),nn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let f=0;f<a.length&&f<l.length;++f){const u=Ta(a[f],l[f]);if(u)return u}return pt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===wc.mapValue&&s===wc.mapValue)return 0;if(o===wc.mapValue)return 1;if(s===wc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),f=s.fields||{},u=Object.keys(f);l.sort(),u.sort();for(let c=0;c<l.length&&c<u.length;++c){const d=pt(l[c],u[c]);if(d!==0)return d;const h=Ta(a[l[c]],f[u[c]]);if(h!==0)return h}return pt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw We()}}function K_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Do(t),r=Do(e),i=pt(n.seconds,r.seconds);return i!==0?i:pt(n.nanos,r.nanos)}function Aa(t){return Vm(t)}function Vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return He.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Vm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Vm(n.fields[s])}`;return i+"}"}(t.mapValue):We()}function Fm(t){return!!t&&"integerValue"in t}function Av(t){return!!t&&"arrayValue"in t}function W_(t){return!!t&&"nullValue"in t}function Y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bc(t){return!!t&&"mapValue"in t}function Ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function C3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Pn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ll(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ls(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cr(Ll(this.value))}}function OA(t){const e=[];return Ls(t.fields,(n,r)=>{const i=new Pn([n]);if(Bc(r)){const o=OA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new zn(e,0,Je.min(),Je.min(),Je.min(),cr.empty(),0)}static newFoundDocument(e,n,r,i){return new zn(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new zn(e,2,n,Je.min(),Je.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,Je.min(),Je.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.position=e,this.inclusive=n}}function G_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=He.comparator(He.fromName(s.referenceValue),n.key):r=Ta(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function D3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{}class ln extends PA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new N3(e,n,r):n==="array-contains"?new V3(e,r):n==="in"?new F3(e,r):n==="not-in"?new U3(e,r):n==="array-contains-any"?new B3(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L3(e,r):new $3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ta(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends PA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xi(e,n)}matches(e){return CA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CA(t){return t.op==="and"}function DA(t){return M3(t)&&CA(t)}function M3(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Um(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(DA(t))return t.filters.map(e=>Um(e)).join(",");{const e=t.filters.map(n=>Um(n)).join(",");return`${t.op}(${e})`}}function MA(t,e){return t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&ki(r.value,i.value)}(t,e):t instanceof xi?function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&MA(s,i.filters[a]),!0):!1}(t,e):void We()}function NA(t){return t instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`}(t):t instanceof xi?function(n){return n.op.toString()+" {"+n.getFilters().map(NA).join(" ,")+"}"}(t):"Filter"}class N3 extends ln{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class L3 extends ln{constructor(e,n){super(e,"in",n),this.keys=LA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $3 extends ln{constructor(e,n){super(e,"not-in",n),this.keys=LA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class V3 extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Av(n)&&hu(n.arrayValue,this.value)}}class F3 extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class U3 extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hu(this.value.arrayValue,n)}}class B3 extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function X_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new j3(t,e,n,r,i,o,s)}function kv(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Um(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.ue=n}return e.ue}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q_(t.startAt,e.startAt)&&Q_(t.endAt,e.endAt)}function Bm(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function q3(t,e,n,r,i,o,s,a){return new Mf(t,e,n,r,i,o,s,a)}function Iv(t){return new Mf(t)}function J_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H3(t){return t.collectionGroup!==null}function $l(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Mn(Pn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ad(o,r))}),n.has(Pn.keyField().canonicalString())||e.ce.push(new Ad(Pn.keyField(),r))}return e.ce}function wi(t){const e=tt(t);return e.le||(e.le=z3(e,$l(t))),e.le}function z3(t,e){if(t.limitType==="F")return X_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ad(i.field,o)});const n=t.endAt?new Td(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Td(t.startAt.position,t.startAt.inclusive):null;return X_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jm(t,e,n){return new Mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nf(t,e){return xv(wi(t),wi(e))&&t.limitType===e.limitType}function $A(t){return`${kv(wi(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NA(i)).join(", ")}]`),Df(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Aa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Aa(i)).join(",")),`Target(${r})`}(wi(t))}; limitType=${t.limitType})`}function Lf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of $l(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const f=G_(s,a,l);return s.inclusive?f<=0:f<0}(r.startAt,$l(r),i)||r.endAt&&!function(s,a,l){const f=G_(s,a,l);return s.inclusive?f>=0:f>0}(r.endAt,$l(r),i))}(t,e)}function K3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VA(t){return(e,n)=>{let r=!1;for(const i of $l(t)){const o=W3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function W3(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Ta(l,f):We()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Vt(He.comparator);function Wi(){return Y3}const FA=new Vt(He.comparator);function bl(...t){let e=FA;for(const n of t)e=e.insert(n.key,n);return e}function UA(t){let e=FA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ls(){return Vl()}function BA(){return Vl()}function Vl(){return new Ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const G3=new Vt(He.comparator),Q3=new Mn(He.comparator);function at(...t){let e=Q3;for(const n of t)e=e.add(n);return e}const X3=new Mn(pt);function J3(){return X3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function qA(t){return{integerValue:""+t}}function Z3(t,e){return R3(e)?qA(e):jA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function e5(t,e,n){return t instanceof kd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ev(o)&&(o=Tv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ka?zA(t,e):t instanceof pu?KA(t,e):function(i,o){const s=HA(i,o),a=Z_(s)+Z_(i.Pe);return Fm(s)&&Fm(i.Pe)?qA(a):jA(i.serializer,a)}(t,e)}function t5(t,e,n){return t instanceof ka?zA(t,e):t instanceof pu?KA(t,e):n}function HA(t,e){return t instanceof xd?function(r){return Fm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class kd extends $f{}class ka extends $f{constructor(e){super(),this.elements=e}}function zA(t,e){const n=WA(e);for(const r of t.elements)n.some(i=>ki(i,r))||n.push(r);return{arrayValue:{values:n}}}class pu extends $f{constructor(e){super(),this.elements=e}}function KA(t,e){let n=WA(e);for(const r of t.elements)n=n.filter(i=>!ki(i,r));return{arrayValue:{values:n}}}class xd extends $f{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Z_(t){return nn(t.integerValue||t.doubleValue)}function WA(t){return Av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.field=e,this.transform=n}}function r5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ka&&i instanceof ka||r instanceof pu&&i instanceof pu?Ea(r.elements,i.elements,ki):r instanceof xd&&i instanceof xd?ki(r.Pe,i.Pe):r instanceof kd&&i instanceof kd}(t.transform,e.transform)}class i5{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vf{}function YA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sv(t.key,Hr.none()):new Nu(t.key,t.data,Hr.none());{const n=t.data,r=cr.empty();let i=new Mn(Pn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qo(t.key,r,new br(i.toArray()),Hr.none())}}function o5(t,e,n){t instanceof Nu?function(i,o,s){const a=i.value.clone(),l=t1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qo?function(i,o,s){if(!jc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=t1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(GA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof Nu?function(o,s,a,l){if(!jc(o.precondition,s))return a;const f=o.value.clone(),u=n1(o.fieldTransforms,l,s);return f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof qo?function(o,s,a,l){if(!jc(o.precondition,s))return a;const f=n1(o.fieldTransforms,l,s),u=s.data;return u.setAll(GA(o)),u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,s,a){return jc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function s5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=HA(r.transform,i||null);o!=null&&(n===null&&(n=cr.empty()),n.set(r.field,o))}return n||null}function e1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ea(r,i,(o,s)=>r5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends Vf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qo extends Vf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t1(t,e,n){const r=new Map;St(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,t5(s,a,n[i]))}return r}function n1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,e5(o,s,e))}return r}class Sv extends Vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a5 extends Vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&o5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=YA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>e1(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>e1(n,r))}}class Rv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length);let i=function(){return G3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Rv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,ut;function d5(t){switch(t){default:return We();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function QA(t){if(t===void 0)return Ki("GRPC error has no .code"),ke.UNKNOWN;switch(t){case tn.OK:return ke.OK;case tn.CANCELLED:return ke.CANCELLED;case tn.UNKNOWN:return ke.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ke.INTERNAL;case tn.UNAVAILABLE:return ke.UNAVAILABLE;case tn.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case tn.NOT_FOUND:return ke.NOT_FOUND;case tn.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case tn.ABORTED:return ke.ABORTED;case tn.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case tn.DATA_LOSS:return ke.DATA_LOSS;default:return We()}}(ut=tn||(tn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new ha([4294967295,4294967295],0);function r1(t){const e=f5().encode(t),n=new h3;return n.update(e),new Uint8Array(n.digest())}function i1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ha([n,r],0),new ha([i,o],0)]}class Ov{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ha.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ha.fromNumber(r)));return i.compare(h5)===1&&(i=new ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=r1(e),[r,i]=i1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ov(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=r1(e),[r,i]=i1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ff(Je.min(),i,new Vt(pt),Wi(),at())}}class Lu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class XA{constructor(e,n){this.targetId=e,this.me=n}}class JA{constructor(e,n,r=Qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o1{constructor(){this.fe=0,this.ge=a1(),this.pe=Qn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=at(),n=at(),r=at();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We()}}),new Lu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=a1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class p5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wi(),this.qe=s1(),this.Qe=new Vt(pt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:We()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Bm(o))if(r===0){const s=new He(o.path);this.Ue(n,s,zn.newNoDocument(s,Je.min()))}else St(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ts(r).toUint8Array()}catch(l){if(l instanceof RA)return wa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ov(s,i,o)}catch(l){return wa(l instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Bm(a.target)){const l=new He(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,zn.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=at();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const f=this.Je(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ff(e,n,this.Qe,this.ke,r);return this.ke=Wi(),this.qe=s1(),this.Qe=new Vt(pt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Mn(pt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||$e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function s1(){return new Vt(He.comparator)}function a1(){return new Vt(He.comparator)}const m5={asc:"ASCENDING",desc:"DESCENDING"},g5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v5={and:"AND",or:"OR"};class y5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(t,e){return t.useProto3Json||Df(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _5(t,e){return Id(t,e.toTimestamp())}function Ei(t){return St(!!t),Je.fromTimestamp(function(n){const r=Do(n);return new fn(r.seconds,r.nanos)}(t))}function Pv(t,e){return Hm(t,e).canonicalString()}function Hm(t,e){const n=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ek(t){const e=Dt.fromString(t);return St(ok(e)),e}function zm(t,e){return Pv(t.databaseId,e.path)}function Ap(t,e){const n=ek(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(nk(n))}function tk(t,e){return Pv(t.databaseId,e)}function b5(t){const e=ek(t);return e.length===4?Dt.emptyPath():nk(e)}function Km(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nk(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l1(t,e,n){return{name:zm(t,e),fields:n.value.mapValue.fields}}function w5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,u){return f.useProto3Json?(St(u===void 0||typeof u=="string"),Qn.fromBase64String(u||"")):(St(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Qn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(f){const u=f.code===void 0?ke.UNKNOWN:QA(f.code);return new Be(u,f.message||"")}(s);n=new JA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ap(t,r.document.name),o=Ei(r.document.updateTime),s=r.document.createTime?Ei(r.document.createTime):Je.min(),a=new cr({mapValue:{fields:r.document.fields}}),l=zn.newFoundDocument(i,o,s,a),f=r.targetIds||[],u=r.removedTargetIds||[];n=new qc(f,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ap(t,r.document),o=r.readTime?Ei(r.readTime):Je.min(),s=zn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ap(t,r.document),o=r.removedTargetIds||[];n=new qc([],o,i,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new c5(i,o),a=r.targetId;n=new XA(a,s)}}return n}function E5(t,e){let n;if(e instanceof Nu)n={update:l1(t,e.key,e.value)};else if(e instanceof Sv)n={delete:zm(t,e.key)};else if(e instanceof qo)n={update:l1(t,e.key,e.data),updateMask:P5(e.fieldMask)};else{if(!(e instanceof a5))return We();n={verify:zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof kd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ka)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw We()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:We()}(t,e.precondition)),n}function T5(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ei(i.updateTime):Ei(o);return s.isEqual(Je.min())&&(s=Ei(o)),new i5(s,i.transformResults||[])}(n,e))):[]}function A5(t,e){return{documents:[tk(t,e.path)]}}function k5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tk(t,i);const o=function(f){if(f.length!==0)return ik(xi.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(u=>function(d){return{field:Xs(d.field),direction:S5(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function x5(t){let e=b5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(c){const d=rk(c);return d instanceof xi&&DA(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(c){return c.map(d=>function(p){return new Ad(Js(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Df(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Td(h,d)}(n.startAt));let f=null;return n.endAt&&(f=function(c){const d=!c.before,h=c.values||[];return new Td(h,d)}(n.endAt)),q3(e,i,s,o,a,"F",l,f)}function I5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Js(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Js(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Js(n.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Js(n.unaryFilter.field);return ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(n){return ln.create(Js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xi.create(n.compositeFilter.filters.map(r=>rk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We()}}(n.compositeFilter.op))}(t):We()}function S5(t){return m5[t]}function R5(t){return g5[t]}function O5(t){return v5[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Js(t){return Pn.fromServerFormat(t.fieldPath)}function ik(t){return t instanceof ln?function(n){if(n.op==="=="){if(Y_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(W_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(W_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:R5(n.op),value:n.value}}}(t):t instanceof xi?function(n){const r=n.getFilters().map(i=>ik(i));return r.length===1?r[0]:{compositeFilter:{op:O5(n.op),filters:r}}}(t):We()}function P5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ok(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r,i,o=Je.min(),s=Je.min(),a=Qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.ut=e}}function D5(t){const e=x5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.on=new N5}addToCollectionParentIndex(e,n){return this.on.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(Co.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class N5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(Dt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new xa(0)}static Nn(){return new xa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.changes=new Ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fl(r.mutation,i,br.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const i=ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=bl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Wi();const s=Vl(),a=function(){return Vl()}();return n.forEach((l,f)=>{const u=r.get(f.key);i.has(f.key)&&(u===void 0||u.mutation instanceof qo)?o=o.insert(f.key,f):u!==void 0?(s.set(f.key,u.mutation.getFieldMask()),Fl(u.mutation,f,u.mutation.getFieldMask(),fn.now())):s.set(f.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((f,u)=>s.set(f,u)),n.forEach((f,u)=>{var c;return a.set(f,new $5(u,(c=s.get(f))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vl();let i=new Vt((s,a)=>s-a),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const f=n.get(l);if(f===null)return;let u=r.get(l)||br.empty();u=a.applyToLocalView(f,u),r.set(l,u);const c=(i.get(a.batchId)||at()).add(l);i=i.insert(a.batchId,c)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,u=l.value,c=BA();u.forEach(d=>{if(!o.has(d)){const h=YA(n.get(d),r.get(d));h!==null&&c.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,c))}return xe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return He.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):xe.resolve(ls());let a=-1,l=o;return s.next(f=>xe.forEach(f,(u,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),o.get(u)?xe.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,l,f,at())).next(u=>({batchId:a,changes:UA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=bl();return this.indexManager.getCollectionParents(e,o).next(a=>xe.forEach(a,l=>{const f=function(c,d){return new Mf(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,f)=>{const u=f.getKey();s.get(u)===null&&(s=s.insert(u,zn.newInvalidDocument(u)))});let a=bl();return s.forEach((l,f)=>{const u=o.get(l);u!==void 0&&Fl(u.mutation,f,br.empty(),fn.now()),Lf(n,f)&&(a=a.insert(l,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return xe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ei(i.createTime)}}(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:D5(i.bundledQuery),readTime:Ei(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this.overlays=new Vt(He.comparator),this.lr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ls();return xe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const i=ls(),o=n.length+1,s=new He(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((f,u)=>f-u);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let u=o.get(f.largestBatchId);u===null&&(u=ls(),o=o.insert(f.largestBatchId,u)),u.set(f.getKey(),f)}}const a=ls(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,u)=>a.set(f,u)),!(a.size()>=i)););return xe.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new u5(n,r));let o=this.lr.get(n);o===void 0&&(o=at(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.hr=new Mn(gn.Pr),this.Ir=new Mn(gn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new gn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new He(new Dt([])),r=new gn(n,e),i=new gn(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new He(new Dt([])),r=new gn(n,e),i=new gn(n,e+1);let o=at();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new gn(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return He.comparator(e.key,n.key)||pt(e.gr,n.gr)}static Tr(e,n){return pt(e.gr,n.gr)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Mn(gn.Pr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new l5(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new gn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xe.resolve(s)}lookupMutationBatch(e,n){return xe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),i=new gn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(pt);return n.forEach(i=>{const o=new gn(i,0),s=new gn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),xe.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const s=new gn(new He(o),0);let a=new Mn(pt);return this.yr.forEachWhile(l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(l.gr)),!0)},s),xe.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){St(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return xe.forEach(n.mutations,i=>{const o=new gn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new gn(n,0),i=this.yr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.Cr=e,this.docs=function(){return new Vt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=Wi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zn.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Wi();const s=n.path,a=new He(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:u}}=l.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||k3(A3(u),r)<=0||(i.has(u.key)||Lf(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return xe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){We()}vr(e,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q5(this)}getSize(e){return xe.resolve(this.size)}}class q5 extends L5{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),xe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.persistence=e,this.Fr=new Ha(n=>kv(n),xv),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Cv,this.targetCount=0,this.Nr=xa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),xe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new xa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.kn(n),xe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),xe.waitFor(o).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),xe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.Lr={},this.overlays={},this.Br=new wv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new H5(this),this.indexManager=new M5,this.remoteDocumentCache=function(i){return new j5(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new C5(n),this.Kr=new F5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new B5(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new K5(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class K5 extends I3{constructor(e){super(),this.currentSequenceNumber=e}}class Dv{constructor(e){this.persistence=e,this.Gr=new Cv,this.zr=null}static jr(e){return new Dv(e)}get Hr(){if(this.zr)return this.zr;throw We()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Hr,r=>{const i=He.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Je.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return xe.or([()=>xe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=at(),i=at();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Mv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return cP()?8:S3(Ln())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new W5;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ll()<=lt.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),xe.resolve()):(ll()<=lt.DEBUG&&$e("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ll()<=lt.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):xe.resolve())}zi(e,n){if(J_(n))return xe.resolve(null);let r=wi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jm(n,null,"F"),r=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=at(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const f=this.Yi(n,a);return this.Zi(n,f,s,l.readTime)?this.zi(e,jm(n,null,"F")):this.Xi(e,f,n,l)}))})))}ji(e,n,r,i){return J_(n)||i.isEqual(Je.min())?xe.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?xe.resolve(null):(ll()<=lt.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.Xi(e,s,n,T3(i,-1)).next(a=>a))})}Yi(e,n){let r=new Mn(VA(e));return n.forEach((i,o)=>{Lf(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return ll()<=lt.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Co.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Vt(pt),this.ns=new Ha(o=>kv(o),xv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V5(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Q5(t,e,n,r){return new G5(t,e,n,r)}async function sk(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=at();for(const f of i){s.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}for(const f of o){a.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(f=>({_s:f,removedBatchIds:s,addedBatchIds:a}))})})}function X5(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,f,u){const c=f.batch,d=c.keys();let h=xe.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(l,p)).next(m=>{const y=f.docVersions.get(p);St(y!==null),m.version.compareTo(y)<0&&(c.applyToRemoteDocument(m,f),m.isValidDocument()&&(m.setReadTime(f.commitVersion),u.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ak(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function J5(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,c)=>{const d=i.get(c);if(!d)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,c).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,c)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(c)!==null?h=h.withResumeToken(Qn.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(c,h),function(m,y,v){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,h,u)&&a.push(n.qr.updateTargetData(o,h))});let l=Wi(),f=at();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(Z5(o,s,e.documentUpdates).next(u=>{l=u.us,f=u.cs})),!r.isEqual(Je.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(c=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return xe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,f)).next(()=>l)}).then(o=>(n.ts=i,o))}function Z5(t,e,n){let r=at(),i=at();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Wi();return n.forEach((a,l)=>{const f=o.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):$e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)}),{us:s,cs:i}})}function eL(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tL(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,xe.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new _o(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Wm(t,e,n){const r=tt(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Mu(s))throw s;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function u1(t,e,n){const r=tt(t);let i=Je.min(),o=at();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,f,u){const c=tt(l),d=c.ns.get(u);return d!==void 0?xe.resolve(c.ts.get(d)):c.qr.getTargetData(f,u)}(r,s,wi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Je.min(),n?o:at())).next(a=>(nL(r,K3(e),a),{documents:a,ls:o})))}function nL(t,e,n){let r=t.rs.get(e)||Je.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class c1{constructor(){this.activeTargetIds=J3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rL{constructor(){this.eo=new c1,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new c1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function kp(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class aL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=kp(),l=this.Co(n,r.toUriEncodedString());$e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const f={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(f,o,s),this.Fo(n,l,f,i).then(u=>($e("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw wa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=oL[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const o=kp();return new Promise((s,a)=>{const l=new f3;l.setWithCredentials(!0),l.listenOnce(u3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tp.NO_ERROR:const u=l.getResponseJson();$e(Un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Tp.TIMEOUT:$e(Un,`RPC '${e}' ${o} timed out`),a(new Be(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const c=l.getStatus();if($e(Un,`RPC '${e}' ${o} failed with status:`,c,"response text:",l.getResponseText()),c>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(v)>=0?v:ke.UNKNOWN}(h.status);a(new Be(p,h.message))}else a(new Be(ke.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Be(ke.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{$e(Un,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);$e(Un,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",f,r,15)})}xo(e,n,r){const i=kp(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=a3(),a=l3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.xmlHttpFactory=new d3({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");$e(Un,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=s.createWebChannel(u,l);let d=!1,h=!1;const p=new sL({co:y=>{h?$e(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||($e(Un,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),$e(Un,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},lo:()=>c.close()}),m=(y,v,_)=>{y.listen(v,b=>{try{_(b)}catch(g){setTimeout(()=>{throw g},0)}})};return m(c,_c.EventType.OPEN,()=>{h||($e(Un,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),m(c,_c.EventType.CLOSE,()=>{h||(h=!0,$e(Un,`RPC '${e}' stream ${i} transport closed`),p.fo())}),m(c,_c.EventType.ERROR,y=>{h||(h=!0,wa(Un,`RPC '${e}' stream ${i} transport errored:`,y),p.fo(new Be(ke.UNAVAILABLE,"The operation could not be completed")))}),m(c,_c.EventType.MESSAGE,y=>{var v;if(!h){const _=y.data[0];St(!!_);const b=_,g=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(g){$e(Un,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let k=function(I){const x=tn[I];if(x!==void 0)return QA(x)}(w),S=g.message;k===void 0&&(k=ke.INTERNAL,S="Unknown error status: "+w+" with message "+g.message),h=!0,p.fo(new Be(k,S)),c.close()}else $e(Un,`RPC '${e}' stream ${i} received:`,_),p.po(_)}}),m(a,c3.STAT_EVENT,y=>{y.stat===j_.PROXY?$e(Un,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===j_.NOPROXY&&$e(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){return new y5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new lk(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new Be(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lL extends uk{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=w5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?Ei(s.readTime):Je.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Bm(l)?{documents:A5(o,l)}:{query:k5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ZA(o,s.resumeToken);const f=qm(o,s.expectedCount);f!==null&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(Je.min())>0){a.readTime=Id(o,s.snapshotVersion.toTimestamp());const f=qm(o,s.expectedCount);f!==null&&(a.expectedCount=f)}return a}(this.serializer,e);const r=I5(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.r_(n)}}class uL extends uk{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=T5(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.d_(r,n)}return St(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Km(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E5(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new Be(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,Hm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(ke.UNKNOWN,o.toString())})}Mo(e,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Hm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(ke.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class dL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ki(n),this.y_=!1):$e("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{$s(this)&&($e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const f=tt(l);f.M_.add(4),await $u(f),f.N_.set("Unknown"),f.M_.delete(4),await Bf(f)}(this))})}),this.N_=new dL(r,i)}}async function Bf(t){if($s(t))for(const e of t.x_)await e(!0)}async function $u(t){for(const e of t.x_)await e(!1)}function ck(t,e){const n=tt(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Vv(n)?$v(n):za(n).Zo()&&Lv(n,e))}function Nv(t,e){const n=tt(t),r=za(n);n.F_.delete(e),r.Zo()&&dk(n,e),n.F_.size===0&&(r.Zo()?r.t_():$s(n)&&n.N_.set("Unknown"))}function Lv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}za(t).h_(e)}function dk(t,e){t.L_.xe(e),za(t).P_(e)}function $v(t){t.L_=new p5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),za(t).start(),t.N_.w_()}function Vv(t){return $s(t)&&!za(t).Yo()&&t.F_.size>0}function $s(t){return tt(t).M_.size===0}function fk(t){t.L_=void 0}async function hL(t){t.N_.set("Online")}async function pL(t){t.F_.forEach((e,n)=>{Lv(t,e)})}async function mL(t,e){fk(t),Vv(t)?(t.N_.D_(e),$v(t)):t.N_.set("Unknown")}async function gL(t,e,n){if(t.N_.set("Online"),e instanceof JA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sd(t,r)}else if(e instanceof qc?t.L_.Ke(e):e instanceof XA?t.L_.He(e):t.L_.We(e),!n.isEqual(Je.min()))try{const r=await ak(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.F_.get(f);u&&o.F_.set(f,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,f)=>{const u=o.F_.get(l);if(!u)return;o.F_.set(l,u.withResumeToken(Qn.EMPTY_BYTE_STRING,u.snapshotVersion)),dk(o,l);const c=new _o(u.target,l,f,u.sequenceNumber);Lv(o,c)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),await Sd(t,r)}}async function Sd(t,e,n){if(!Mu(e))throw e;t.M_.add(1),await $u(t),t.N_.set("Offline"),n||(n=()=>ak(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Bf(t)})}function hk(t,e){return e().catch(n=>Sd(t,n,e))}async function jf(t){const e=tt(t),n=Mo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;vL(e);)try{const i=await eL(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,yL(e,i)}catch(i){await Sd(e,i)}pk(e)&&mk(e)}function vL(t){return $s(t)&&t.v_.length<10}function yL(t,e){t.v_.push(e);const n=Mo(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function pk(t){return $s(t)&&!Mo(t).Yo()&&t.v_.length>0}function mk(t){Mo(t).start()}async function _L(t){Mo(t).R_()}async function bL(t){const e=Mo(t);for(const n of t.v_)e.E_(n.mutations)}async function wL(t,e,n){const r=t.v_.shift(),i=Rv.from(r,e,n);await hk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jf(t)}async function EL(t,e){e&&Mo(t).T_&&await async function(r,i){if(function(s){return d5(s)&&s!==ke.ABORTED}(i.code)){const o=r.v_.shift();Mo(r).e_(),await hk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await jf(r)}}(t,e),pk(t)&&mk(t)}async function f1(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=$s(n);n.M_.add(3),await $u(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Bf(n)}async function TL(t,e){const n=tt(t);e?(n.M_.delete(2),await Bf(n)):e||(n.M_.add(2),await $u(n),n.N_.set("Unknown"))}function za(t){return t.B_||(t.B_=function(n,r,i){const o=tt(n);return o.m_(),new lL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:hL.bind(null,t),Io:pL.bind(null,t),Eo:mL.bind(null,t),l_:gL.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),Vv(t)?$v(t):t.N_.set("Unknown")):(await t.B_.stop(),fk(t))})),t.B_}function Mo(t){return t.k_||(t.k_=function(n,r,i){const o=tt(n);return o.m_(),new uL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:_L.bind(null,t),Eo:EL.bind(null,t),A_:bL.bind(null,t),d_:wL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await jf(t)):(await t.k_.stop(),t.v_.length>0&&($e("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Fv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(t,e){if(Ki("AsyncQueue",`${e}: ${t}`),Mu(t))return new Be(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new pa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.q_=new Vt(He.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):We():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ia{constructor(e,n,r,i,o,s,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ia(e,n,pa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class kL{constructor(){this.queries=new Ha(e=>$A(e),Nf),this.onlineState="Unknown",this.z_=new Set}}async function gk(t,e){const n=tt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new AL,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Uv(s,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Bv(n)}async function vk(t,e){const n=tt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xL(t,e){const n=tt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Bv(n)}function IL(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Bv(t){t.z_.forEach(e=>{e.next()})}var Ym,p1;(p1=Ym||(Ym={})).J_="default",p1.Cache="cache";class yk{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.key=e}}class bk{constructor(e){this.key=e}}class SL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=at(),this.mutatedKeys=at(),this.Ia=VA(e),this.Ta=new pa(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new h1,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,c)=>{const d=i.get(u),h=Lf(this.query,c)?c:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.Ra(d,h)||(r.track({type:2,doc:h}),y=!0,(l&&this.Ia(h,l)>0||f&&this.Ia(h,f)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(l||f)&&(a=!0)),y&&(h?(s=s.add(h),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((u,c)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return m(h)-m(p)}(u.type,c.type)||this.Ia(u.doc,c.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,f=l!==this.ha;return this.ha=l,s.length!==0||f?{snapshot:new Ia(this.query,e.Ta,o,s,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new h1,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=at(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new bk(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _k(r))}),n}pa(e){this.la=e.ls,this.Pa=at();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Ia.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class RL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OL{constructor(e){this.key=e,this.wa=!1}}class PL{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ha(a=>$A(a),Nf),this.Da=new Map,this.Ca=new Set,this.va=new Vt(He.comparator),this.Fa=new Map,this.Ma=new Cv,this.xa={},this.Oa=new Map,this.Na=xa.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function CL(t,e,n=!0){const r=xk(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await wk(r,e,n,!0),i}async function DL(t,e){const n=xk(t);await wk(n,e,!0,!1)}async function wk(t,e,n,r){const i=await tL(t.localStore,wi(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await ML(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ck(t.remoteStore,i),a}async function ML(t,e,n,r,i){t.Ba=(c,d,h)=>async function(m,y,v,_){let b=y.view.da(v);b.Zi&&(b=await u1(m.localStore,y.query,!1).then(({documents:S})=>y.view.da(S,b)));const g=_&&_.targetChanges.get(y.targetId),w=_&&_.targetMismatches.get(y.targetId)!=null,k=y.view.applyChanges(b,m.isPrimaryClient,g,w);return g1(m,y.targetId,k.fa),k.snapshot}(t,c,d,h);const o=await u1(t.localStore,e,!0),s=new SL(e,o.ls),a=s.da(o.documents),l=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(a,t.isPrimaryClient,l);g1(t,n,f.fa);const u=new RL(e,n,s);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function NL(t,e,n){const r=tt(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Nf(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nv(r.remoteStore,i.targetId),Gm(r,i.targetId)}).catch(Du)):(Gm(r,i.targetId),await Wm(r.localStore,i.targetId,!0))}async function LL(t,e){const n=tt(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nv(n.remoteStore,r.targetId))}async function $L(t,e,n){const r=HL(t);try{const i=await function(s,a){const l=tt(s),f=fn.now(),u=a.reduce((h,p)=>h.add(p.key),at());let c,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Wi(),m=at();return l.ss.getEntries(h,u).next(y=>{p=y,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(y=>{c=y;const v=[];for(const _ of a){const b=s5(_,c.get(_.key).overlayedDocument);b!=null&&v.push(new qo(_.key,b,OA(b.value.mapValue),Hr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,f,v,a)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(c,m);return l.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:UA(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let f=s.xa[s.currentUser.toKey()];f||(f=new Vt(pt)),f=f.insert(a,l),s.xa[s.currentUser.toKey()]=f}(r,i.batchId,n),await Vu(r,i.changes),await jf(r.remoteStore)}catch(i){const o=Uv(i,"Failed to persist write");n.reject(o)}}async function Ek(t,e){const n=tt(t);try{const r=await J5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?St(s.wa):i.removedDocuments.size>0&&(St(s.wa),s.wa=!1))}),await Vu(n,r,e)}catch(r){await Du(r)}}function m1(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=tt(s);l.onlineState=a;let f=!1;l.queries.forEach((u,c)=>{for(const d of c.U_)d.j_(a)&&(f=!0)}),f&&Bv(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VL(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Vt(He.comparator);s=s.insert(o,zn.newNoDocument(o,Je.min()));const a=at().add(o),l=new Ff(Je.min(),new Map,new Vt(pt),s,a);await Ek(r,l),r.va=r.va.remove(o),r.Fa.delete(e),jv(r)}else await Wm(r.localStore,e,!1).then(()=>Gm(r,e,n)).catch(Du)}async function FL(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await X5(n.localStore,e);Ak(n,r,null),Tk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(n,i)}catch(i){await Du(i)}}async function UL(t,e,n){const r=tt(t);try{const i=await function(s,a){const l=tt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let u;return l.mutationQueue.lookupMutationBatch(f,a).next(c=>(St(c!==null),u=c.keys(),l.mutationQueue.removeMutationBatch(f,c))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,u)).next(()=>l.localDocuments.getDocuments(f,u))})}(r.localStore,e);Ak(r,e,n),Tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vu(r,i)}catch(i){await Du(i)}}function Tk(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Ak(t,e,n){const r=tt(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||kk(t,r)})}function kk(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Nv(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),jv(t))}function g1(t,e,n){for(const r of n)r instanceof _k?(t.Ma.addReference(r.key,e),BL(t,r)):r instanceof bk?($e("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||kk(t,r.key)):We()}function BL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||($e("SyncEngine","New document in limbo: "+n),t.Ca.add(r),jv(t))}function jv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new He(Dt.fromString(e)),r=t.Na.next();t.Fa.set(r,new OL(n)),t.va=t.va.insert(n,r),ck(t.remoteStore,new _o(wi(Iv(n.path)),r,"TargetPurposeLimboResolution",wv.oe))}}async function Vu(t,e,n){const r=tt(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const u=Mv.Qi(l.targetId,f);o.push(u)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,f){const u=tt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>xe.forEach(f,d=>xe.forEach(d.ki,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>xe.forEach(d.qi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Mu(c))throw c;$e("LocalStore","Failed to update sequence numbers: "+c)}for(const c of f){const d=c.targetId;if(!c.fromCache){const h=u.ts.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(d,m)}}}(r.localStore,o))}async function jL(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=await sk(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Be(ke.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(n,r._s)}}function qL(t,e){const n=tt(t),r=n.Fa.get(e);if(r&&r.wa)return at().add(r.key);{let i=at();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function xk(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ek.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.Sa.l_=xL.bind(null,e.eventManager),e.Sa.ka=IL.bind(null,e.eventManager),e}function HL(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UL.bind(null,e),e}class v1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Q5(this.persistence,new Y5,e.initialUser,this.serializer)}createPersistence(e){return new z5(Dv.jr,this.serializer)}createSharedClientState(e){return new rL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jL.bind(null,this.syncEngine),await TL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kL}()}createDatastore(e){const n=Uf(e.databaseInfo.databaseId),r=function(o){return new aL(o)}(e.databaseInfo);return function(o,s,a,l){return new cL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new fL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m1(this.syncEngine,n,0),function(){return d1.D()?new d1:new iL}())}createSyncEngine(e,n){return function(i,o,s,a,l,f,u){const c=new PL(i,o,s,a,l,f);return u&&(c.La=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=tt(r);$e("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await $u(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=IA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{$e("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($e("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function y1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YL(t);$e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>f1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>f1(e.remoteStore,i)),t._onlineComponents=e}function WL(t){return t.name==="FirebaseError"?t.code===ke.FAILED_PRECONDITION||t.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function YL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!WL(n))throw n;wa("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new v1)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),await Ip(t,new v1);return t._offlineComponents}async function Sk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),await y1(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),await y1(t,new zL))),t._onlineComponents}function GL(t){return Sk(t).then(e=>e.syncEngine)}async function Rk(t){const e=await Sk(t),n=e.eventManager;return n.onListen=CL.bind(null,e.syncEngine),n.onUnlisten=NL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LL.bind(null,e.syncEngine),n}function QL(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,f){const u=new Ik({next:d=>{s.enqueueAndForget(()=>vk(o,c));const h=d.docs.has(a);!h&&d.fromCache?f.reject(new Be(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?f.reject(new Be(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(d)},error:d=>f.reject(d)}),c=new yk(Iv(a.path),u,{includeMetadataChanges:!0,ra:!0});return gk(o,c)}(await Rk(t),t.asyncQueue,e,n,r)),r.promise}function XL(t,e,n={}){const r=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,f){const u=new Ik({next:d=>{s.enqueueAndForget(()=>vk(o,c)),d.fromCache&&l.source==="server"?f.reject(new Be(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(d)},error:d=>f.reject(d)}),c=new yk(a,u,{includeMetadataChanges:!0,ra:!0});return gk(o,c)}(await Rk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e,n){if(!n)throw new Be(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JL(t,e,n,r){if(e===!0&&r===!0)throw new Be(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b1(t){if(!He.isDocumentKey(t))throw new Be(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w1(t){if(He.isDocumentKey(t))throw new Be(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function Yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qv(t);throw new Be(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Be(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ok((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Be(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Be(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Be(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Be(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p3;switch(r.type){case"firstParty":return new y3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_1.get(n);r&&($e("ComponentProvider","Removing Datastore"),_1.delete(n),r.terminate())}(this),Promise.resolve()}}function ZL(t,e,n,r={}){var i;const o=(t=Yi(t,qf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=qn.MOCK_USER;else{a=hE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Be(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qn(f)}t._authCredentials=new m3(new xA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hf(this.firestore,e,this._query)}}class Ar{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ar(this.firestore,e,this._key)}}class xo extends Hf{constructor(e,n,r){super(e,n,Iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ar(this.firestore,null,new He(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function zf(t,e,...n){if(t=Ct(t),Pk("collection","path",e),t instanceof qf){const r=Dt.fromString(e,...n);return w1(r),new xo(t,null,r)}{if(!(t instanceof Ar||t instanceof xo))throw new Be(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return w1(r),new xo(t.firestore,null,r)}}function tr(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=IA.newId()),Pk("doc","path",e),t instanceof qf){const r=Dt.fromString(e,...n);return b1(r),new Ar(t,null,new He(r))}{if(!(t instanceof Ar||t instanceof xo))throw new Be(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return b1(r),new Ar(t.firestore,t instanceof xo?t.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new lk(this,"async_queue_retry"),this.hu=()=>{const n=xp();n&&$e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=xp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ji;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Mu(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ki("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Fv.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&We()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Ka extends qf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new e6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ck(this),this._firestoreClient.terminate()}}function t6(t,e){const n=typeof t=="object"?t:lf(),r=typeof t=="string"?t:"(default)",i=Fo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=cE("firestore");o&&ZL(i,...o)}return i}function Hv(t){return t._firestoreClient||Ck(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ck(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,f,u){return new P3(a,l,f,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Ok(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new KL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(Qn.fromBase64String(e))}catch(n){throw new Be(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sa(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^__.*__$/;class r6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class Dk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Yf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Rd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Mk(this.fu)&&n6.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class i6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uf(e)}Fu(e,n,r,i=!1){return new Yf({fu:e,methodName:n,vu:r,path:Pn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nk(t){const e=t._freezeSettings(),n=Uf(t._databaseId);return new i6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o6(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Wv("Data must be an object, but it was:",s,r);const a=Lk(r,s);let l,f;if(o.merge)l=new br(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const c of o.mergeFields){const d=Qm(e,c,n);if(!s.contains(d))throw new Be(ke.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Vk(u,d)||u.push(d)}l=new br(u),f=s.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,f=s.fieldTransforms;return new r6(new cr(a),l,f)}class Gf extends Wf{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function s6(t,e,n){return new Yf({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kv extends Wf{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=s6(this,e,!0),r=this.Mu.map(o=>Fu(o,n)),i=new ka(r);return new n5(e.path,i)}isEqual(e){return e instanceof Kv&&ya(this.Mu,e.Mu)}}function a6(t,e,n,r){const i=t.Fu(1,e,n);Wv("Data must be an object, but it was:",i,r);const o=[],s=cr.empty();Ls(r,(l,f)=>{const u=Yv(e,l,n);f=Ct(f);const c=i.Su(u);if(f instanceof Gf)o.push(u);else{const d=Fu(f,c);d!=null&&(o.push(u),s.set(u,d))}});const a=new br(o);return new Dk(s,a,i.fieldTransforms)}function l6(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[Qm(e,r,n)],l=[i];if(o.length%2!=0)throw new Be(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Qm(e,o[d])),l.push(o[d+1]);const f=[],u=cr.empty();for(let d=a.length-1;d>=0;--d)if(!Vk(f,a[d])){const h=a[d];let p=l[d];p=Ct(p);const m=s.Su(h);if(p instanceof Gf)f.push(h);else{const y=Fu(p,m);y!=null&&(f.push(h),u.set(h,y))}}const c=new br(f);return new Dk(u,c,s.fieldTransforms)}function Fu(t,e){if($k(t=Ct(t)))return Wv("Unsupported field value:",e,t),Lk(t,e);if(t instanceof Wf)return function(r,i){if(!Mk(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Fu(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fn.fromDate(r);return{timestampValue:Id(i.serializer,o)}}if(r instanceof fn){const o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,o)}}if(r instanceof zv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sa)return{bytesValue:ZA(i.serializer,r._byteString)};if(r instanceof Ar){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${qv(r)}`)}(t,e)}function Lk(t,e){const n={};return SA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,(r,i)=>{const o=Fu(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function $k(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof zv||t instanceof Sa||t instanceof Ar||t instanceof Wf)}function Wv(t,e,n){if(!$k(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Qm(t,e,n){if((e=Ct(e))instanceof Kf)return e._internalPath;if(typeof e=="string")return Yv(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const u6=new RegExp("[~\\*/\\[\\]]");function Yv(t,e,n){if(e.search(u6)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kf(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Be(ke.INVALID_ARGUMENT,a+t+l)}function Vk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends Fk{data(){return super.data()}}function Uk(t,e){return typeof e=="string"?Yv(t,e):e instanceof Kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f6{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw We()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ls(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new zv(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Do(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);St(ok(r));const i=new fu(r.get(1),r.get(3)),o=new He(r.popFirst(5));return i.isEqual(n)||Ki(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bk extends Fk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Uk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hc extends Bk{data(e={}){return super.data(e)}}class p6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new El(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new El(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new El(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,u=-1;return a.type!==0&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:m6(a.type),doc:l,oldIndex:f,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function m6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){t=Yi(t,Ar);const e=Yi(t.firestore,Ka);return QL(Hv(e),t._key).then(n=>y6(e,t,n))}class jk extends f6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ar(this.firestore,null,n)}}function Gv(t){t=Yi(t,Hf);const e=Yi(t.firestore,Ka),n=Hv(e),r=new jk(e);return d6(t._query),XL(n,t._query).then(i=>new p6(e,r,t,i))}function Vi(t,e,n,...r){t=Yi(t,Ar);const i=Yi(t.firestore,Ka),o=Nk(i);let s;return s=typeof(e=Ct(e))=="string"||e instanceof Kf?l6(o,"updateDoc",t._key,e,n,r):a6(o,"updateDoc",t._key,e),Qv(i,[s.toMutation(t._key,Hr.exists(!0))])}function g6(t){return Qv(Yi(t.firestore,Ka),[new Sv(t._key,Hr.none())])}function v6(t,e){const n=Yi(t.firestore,Ka),r=tr(t),i=h6(t.converter,e);return Qv(n,[o6(Nk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function Qv(t,e){return function(r,i){const o=new ji;return r.asyncQueue.enqueueAndForget(async()=>$L(await GL(r),i,o)),o.promise}(Hv(t),e)}function y6(t,e,n){const r=n.docs.get(e._key),i=new jk(t);return new Bk(t,i,e._key,r,new El(n.hasPendingWrites,n.fromCache),e.converter)}function _6(...t){return new Kv("arrayUnion",t)}(function(e,n=!0){(function(i){qa=i})(Ds),Qr(new Cr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ka(new g3(r.getProvider("auth-internal")),new b3(r.getProvider("app-check-internal")),function(f,u){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Be(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(f.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),fr(q_,"4.6.1",e),fr(q_,"4.6.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="firebasestorage.googleapis.com",Hk="storageBucket",b6=2*60*1e3,w6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends Mr{constructor(e,n,r=0){super(Sp(e),`Firebase Storage: ${n} (${Sp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qt||(qt={}));function Sp(t){return"storage/"+t}function Xv(){const t="An unknown error occurred, please check the error payload for server response.";return new zt(qt.UNKNOWN,t)}function E6(t){return new zt(qt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function T6(t){return new zt(qt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function A6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(qt.UNAUTHENTICATED,t)}function k6(){return new zt(qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function x6(t){return new zt(qt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function I6(){return new zt(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S6(){return new zt(qt.CANCELED,"User canceled the upload/download.")}function R6(t){return new zt(qt.INVALID_URL,"Invalid URL '"+t+"'.")}function O6(t){return new zt(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function P6(){return new zt(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hk+"' property when initializing the app?")}function C6(){return new zt(qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function D6(){return new zt(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function M6(t){return new zt(qt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xm(t){return new zt(qt.INVALID_ARGUMENT,t)}function zk(){return new zt(qt.APP_DELETED,"The Firebase app was deleted.")}function N6(t){return new zt(qt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(t,e){return new zt(qt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ul(t){throw new zt(qt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wr.makeFromUrl(e,n)}catch{return new wr(e,"")}if(r.path==="")return r;throw O6(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function f(g){g.path_=decodeURIComponent(g.path)}const u="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${c}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===qk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:f},{regex:v,indices:{bucket:1,path:2},postModify:f}];for(let g=0;g<b.length;g++){const w=b[g],k=w.regex.exec(e);if(k){const S=k[w.indices.bucket];let E=k[w.indices.path];E||(E=""),r=new wr(S,E),w.postModify(r);break}}if(r==null)throw R6(e);return r}}class L6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let f=!1;function u(...y){f||(f=!0,e.apply(null,y))}function c(y){i=setTimeout(()=>{i=null,t(h,l())},y)}function d(){o&&clearTimeout(o)}function h(y,...v){if(f){d();return}if(y){d(),u.call(null,y,...v);return}if(l()||s){d(),u.call(null,y,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,c(b)}let p=!1;function m(y){p||(p=!0,d(),!f&&(i!==null?(y||(a=2),clearTimeout(i),c(0)):y||(a=1)))}return c(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function V6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){return t!==void 0}function U6(t){return typeof t=="object"&&!Array.isArray(t)}function Jv(t){return typeof t=="string"||t instanceof String}function T1(t){return Zv()&&t instanceof Blob}function Zv(){return typeof Blob<"u"}function A1(t,e,n,r){if(r<e)throw Xm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Xm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Kk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ps||(ps={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n,r,i,o,s,a,l,f,u,c,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=f,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,f=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,f)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ps.NO_ERROR,l=o.getStatus();if(!a||B6(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===ps.ABORT;r(!1,new Tc(!1,null,u));return}const f=this.successCodes_.indexOf(l)!==-1;r(!0,new Tc(f,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());F6(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Xv();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?zk():S6();s(l)}else{const l=I6();s(l)}};this.canceled_?n(!1,new Tc(!1,null,!0)):this.backoffId_=$6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function q6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function H6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function K6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W6(t,e,n,r,i,o,s=!0){const a=Kk(t.urlParams),l=t.url+a,f=Object.assign({},t.headers);return z6(f,e),q6(f,n),H6(f,o),K6(f,r),new j6(l,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function G6(...t){const e=Y6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Zv())return new Blob(t);throw new zt(qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){if(typeof atob>"u")throw M6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rp{constructor(e,n){this.data=e,this.contentType=n||null}}function J6(t,e){switch(t){case mi.RAW:return new Rp(Wk(e));case mi.BASE64:case mi.BASE64URL:return new Rp(Yk(t,e));case mi.DATA_URL:return new Rp(e$(e),t$(e))}throw Xv()}function Wk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Z6(t){let e;try{e=decodeURIComponent(t)}catch{throw Ul(mi.DATA_URL,"Malformed data URL.")}return Wk(e)}function Yk(t,e){switch(t){case mi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ul(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case mi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ul(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=X6(e)}catch(i){throw i.message.includes("polyfill")?i:Ul(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Gk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ul(mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=n$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function e$(t){const e=new Gk(t);return e.base64?Yk(mi.BASE64,e.rest):Z6(e.rest)}function t$(t){return new Gk(t).contentType}function n$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){let r=0,i="";T1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(T1(this.data_)){const r=this.data_,i=Q6(r,e,n);return i===null?null:new yo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new yo(r,!0)}}static getBlob(...e){if(Zv()){const n=e.map(r=>r instanceof yo?r.data_:r);return new yo(G6.apply(null,n))}else{const n=e.map(s=>Jv(s)?J6(mi.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new yo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){let e;try{e=JSON.parse(t)}catch{return null}return U6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function i$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Xk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e){return e}class Jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||o$}}let Ac=null;function s$(t){return!Jv(t)||t.length<2?t:Xk(t)}function Jk(){if(Ac)return Ac;const t=[];t.push(new Jn("bucket")),t.push(new Jn("generation")),t.push(new Jn("metageneration")),t.push(new Jn("name","fullPath",!0));function e(o,s){return s$(s)}const n=new Jn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Jn("size");return i.xform=r,t.push(i),t.push(new Jn("timeCreated")),t.push(new Jn("updated")),t.push(new Jn("md5Hash",null,!0)),t.push(new Jn("cacheControl",null,!0)),t.push(new Jn("contentDisposition",null,!0)),t.push(new Jn("contentEncoding",null,!0)),t.push(new Jn("contentLanguage",null,!0)),t.push(new Jn("contentType",null,!0)),t.push(new Jn("metadata","customMetadata",!0)),Ac=t,Ac}function a$(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new wr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function l$(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return a$(r,t),r}function Zk(t,e,n){const r=Qk(e);return r===null?null:l$(t,r,n)}function u$(t,e,n,r){const i=Qk(e);if(i===null||!Jv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(f=>{const u=t.bucket,c=t.fullPath,d="/b/"+s(u)+"/o/"+s(c),h=Qf(d,n,r),p=Kk({alt:"media",token:f});return h+p})[0]}function c$(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class ey{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){if(!t)throw Xv()}function d$(t,e){function n(r,i){const o=Zk(t,i,e);return e2(o!==null),o}return n}function f$(t,e){function n(r,i){const o=Zk(t,i,e);return e2(o!==null),u$(o,i,t.host,t._protocol)}return n}function t2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=k6():i=A6():n.getStatus()===402?i=T6(t.bucket):n.getStatus()===403?i=x6(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function n2(t){const e=t2(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=E6(t.path)),o.serverResponse=i.serverResponse,o}return n}function h$(t,e,n){const r=e.fullServerUrl(),i=Qf(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new ey(i,o,f$(t,n),s);return a.errorHandler=n2(e),a}function p$(t,e){const n=e.fullServerUrl(),r=Qf(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,f){}const a=new ey(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=n2(e),a}function m$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function g$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=m$(null,e)),r}function v$(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const f=g$(e,r,i),u=c$(f,n),c="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+f.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=yo.getBlob(c,r,d);if(h===null)throw C6();const p={name:f.fullPath},m=Qf(o,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,_=new ey(m,y,d$(t,n),v);return _.urlParams=p,_.headers=s,_.body=h.uploadData(),_.errorHandler=t2(e),_}class y${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ps.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ps.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ps.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ul("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _$ extends y${initXhr(){this.xhr_.responseType="text"}}function ty(){return new _$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this._service=e,n instanceof wr?this._location=n:this._location=wr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xs(e,n)}get root(){const e=new wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xk(this._location.path)}get storage(){return this._service}get parent(){const e=r$(this._location.path);if(e===null)return null;const n=new wr(this._location.bucket,e);return new xs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N6(e)}}function b$(t,e,n){t._throwIfRoot("uploadBytes");const r=v$(t.storage,t._location,Jk(),new yo(e,!0),n);return t.storage.makeRequestWithTokens(r,ty).then(i=>({metadata:i,ref:t}))}function w$(t){t._throwIfRoot("getDownloadURL");const e=h$(t.storage,t._location,Jk());return t.storage.makeRequestWithTokens(e,ty).then(n=>{if(n===null)throw D6();return n})}function E$(t){t._throwIfRoot("deleteObject");const e=p$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ty)}function T$(t,e){const n=i$(t._location.path,e),r=new wr(t._location.bucket,n);return new xs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){return/^[A-Za-z]+:\/\//.test(t)}function k$(t,e){return new xs(t,e)}function r2(t,e){if(t instanceof ny){const n=t;if(n._bucket==null)throw P6();const r=new xs(n,n._bucket);return e!=null?r2(r,e):r}else return e!==void 0?T$(t,e):t}function x$(t,e){if(e&&A$(e)){if(t instanceof ny)return k$(t,e);throw Xm("To use ref(service, url), the first argument must be a Storage instance.")}else return r2(t,e)}function k1(t,e){const n=e==null?void 0:e[Hk];return n==null?null:wr.makeFromBucketSpec(n,t)}function I$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:hE(i,t.app.options.projectId))}class ny{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=qk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b6,this._maxUploadRetryTime=w6,this._requests=new Set,i!=null?this._bucket=wr.makeFromBucketSpec(i,this._host):this._bucket=k1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,e):this._bucket=k1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xs(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new L6(zk());{const s=W6(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const x1="@firebase/storage",I1="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="storage";function S$(t,e,n){return t=Ct(t),b$(t,e,n)}function R$(t){return t=Ct(t),w$(t)}function O$(t){return t=Ct(t),E$(t)}function o2(t,e){return t=Ct(t),x$(t,e)}function P$(t=lf(),e){t=Ct(t);const r=Fo(t,i2).getImmediate({identifier:e}),i=cE("storage");return i&&C$(r,...i),r}function C$(t,e,n,r={}){I$(t,e,n,r)}function D$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ny(n,r,i,e,Ds)}function M$(){Qr(new Cr(i2,D$,"PUBLIC").setMultipleInstances(!0)),fr(x1,I1,""),fr(x1,I1,"esm2017")}M$();const N$={apiKey:"AIzaSyDvdTUs36DFXUIZ3S7EGZJlSeeDxXg1mGY",authDomain:"tiryaki-hukuk-admin-pane-9a3f2.firebaseapp.com",projectId:"tiryaki-hukuk-admin-pane-9a3f2",storageBucket:"tiryaki-hukuk-admin-pane-9a3f2.appspot.com",messagingSenderId:"432646173233",appId:"1:432646173233:web:1c8a7ad94bacb703781b10",measurementId:"G-0LMBJQ2524"},Xf=bE(N$);HD(Xf);const Zs=i4(Xf),yr=t6(Xf),s2=P$(Xf);hT(Zs,Qg).then(()=>{console.log("Firebase Auth persistence set to local.")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const zc=XO({state:{isAuthenticated:!1,user:null,role:null,errorMessage:null},mutations:{login(t,{user:e,role:n}){t.isAuthenticated=!0,t.user=e,t.role=n},logout(t){t.isAuthenticated=!1,t.user=null,t.role=null,t.errorMessage=null},setError(t,e){t.errorMessage=e},setUser(t,e){t.user=e,t.isAuthenticated=!!e},setRole(t,e){t.role=e}},actions:{async login({commit:t},{username:e,password:n}){try{await hT(Zs,Qg);const i=(await HM(Zs,e,n)).user,o=await ks(tr(yr,"attorneys",i.uid));let s=null;if(o.exists()?s=o.data().role:s="admin",s)t("login",{user:{email:i.email,uid:i.uid},role:s}),console.log("Login successful"),console.log("User role:",s);else throw await __(Zs),console.error("User not authorized"),new Error("User not authorized")}catch(r){throw console.error("Login failed",r),t("setError",r.message),new Error("Invalid credentials or unauthorized access")}},async logout({commit:t}){try{await __(Zs),t("logout"),console.log("Logout successful")}catch(e){throw console.error("Logout failed",e),new Error("Logout failed")}},async initializeAuth({commit:t}){return new Promise(e=>{WM(Zs,async n=>{if(n){t("setUser",{email:n.email,uid:n.uid});const r=await ks(tr(yr,"attorneys",n.uid));let i=null;r.exists()?i=r.data().role:i="admin",t("setRole",i)}else t("setUser",null),t("setRole",null);e(n)})})}},getters:{isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,userRole:t=>t.role,errorMessage:t=>t.errorMessage}}),L$={class:"flex items-center justify-center"},$$=C("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[C("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),C("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),Is={__name:"Loading",props:{text:String},setup(t){const e=t;return(n,r)=>(ie(),ue("div",L$,[$$,hn(" "+Ie(e.text),1)]))}},V$={class:"bg-gray-800"},F$={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},U$=C("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[C("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),hn(" Tiryaki Hukuk Admin Panel ")],-1),B$={class:"w-full bg-gray-700 rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},j$={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},q$=C("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Email",-1),H$=C("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Şifre",-1),z$=["disabled"],K$={key:1},W$={key:0,class:"text-red-500 text-sm mt-2"},Y$={__name:"LoginPage",setup(t){const e=Vo(),n=Gw(),r=he(""),i=he(""),o=he(!1),s=he(""),a=async()=>{o.value=!0,s.value="";try{const l={username:r.value,password:i.value};await e.dispatch("login",l);const f=e.getters.userRole,u=e.getters.user?e.getters.user.uid:null;f==="attorney"&&u?n.push(`/online-meetings/${u}`):n.push("/online-meetings")}catch{s.value="Hesap isim veya şifre yanlış. Lütfen tekrar deneyin."}finally{o.value=!1}};return(l,f)=>(ie(),ue("section",V$,[C("div",F$,[U$,C("div",B$,[C("div",j$,[C("form",{onSubmit:Pr(a,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[C("div",null,[q$,Et(C("input",{"onUpdate:modelValue":f[0]||(f[0]=u=>r.value=u),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[yi,r.value]])]),C("div",null,[H$,Et(C("input",{"onUpdate:modelValue":f[1]||(f[1]=u=>i.value=u),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[yi,i.value]])]),C("button",{id:"signin",disabled:o.value,class:"w-full inline-block text-white bg-gray-600 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},[o.value?(ie(),Ue(Is,{key:0,text:"Giriş Yapılıyor..."})):(ie(),ue("span",K$,"Giriş Yap"))],8,z$),s.value?(ie(),ue("div",W$,Ie(s.value),1)):ye("",!0)],32)])])])]))}},G$={class:"h-screen min-w-[16rem] bg-gray-800 p-4 z-50 sidebar-menu ease-in-out delay-150 duration-300 transition-transform"},Q$=C("a",{href:"#",class:"flex items-center pb-4 border-b border-b-gray-800"},[C("img",{src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"",class:"w-8 h-8 rounded object-cover"}),C("span",{class:"text-lg font-bold text-white ml-3"},"Admin Panel")],-1),X$={class:"mt-4"},J$={class:"text-lg"},Z$=C("i",{class:"mr-3 text-lg ri-logout-box-line"},null,-1),eV=C("span",{class:"text-lg"},"Çıkış",-1),tV=[Z$,eV],nV={__name:"Sidebar",emits:["titleChange"],setup(t,{emit:e}){const n=Vo(),r=Gw(),i=ge(()=>n.getters.userRole),o=ge(()=>n.getters.user?n.getters.user.uid:null),s=()=>{n.dispatch("logout"),r.push("/")},a=e;function l(d){a("titleChange",d)}const f=[{title:"Online Görüşmeler",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Blog Yönetimi",icon:"ri-article-line",link:"/blogs"},{title:"Bildirimler",icon:"ri-message-line",link:"/notifications"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],u=[{title:"Online Görüşmelerim",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Randevu Ayarlarım",icon:"ri-calendar-schedule-line",link:"/appointment-settings"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],c=ge(()=>i.value==="admin"?f:i.value==="attorney"?u.map(d=>({...d,link:`${d.link}/${o.value}`})):[]);return(d,h)=>{const p=Ig("router-link");return ie(),ue("div",G$,[Q$,C("ul",X$,[(ie(!0),ue(Pe,null,Xe(c.value,m=>(ie(),ue("li",{key:m.title,class:"mb-1 group"},[qe(p,{to:m.link,onClick:y=>l(m.title),class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},{default:ze(()=>[C("i",{class:Ge([m.icon,"mr-3 text-lg"])},null,2),C("span",J$,Ie(m.title),1)]),_:2},1032,["to","onClick"])]))),128)),C("li",null,[C("div",{onClick:s,class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},tV)])])])}}},Nr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},rV=t=>(Yd("data-v-325971ad"),t=t(),Gd(),t),iV={class:"relative"},oV=rV(()=>C("i",{class:"ri-notification-4-fill ri-2x"},null,-1)),sV=[oV],aV={class:"absolute right-0 mt-2 w-64 border border-gray-300 shadow-xl bg-white rounded-md z-50"},lV={class:"max-h-64 overflow-auto"},uV=["href"],cV={class:"text-sm font-medium text-gray-800"},dV={class:"text-xs text-gray-600"},fV={__name:"NotificationDropdown",setup(t){const e=he(!1),n=he([{id:1,title:"New order test",message:"You have received a new order.",url:"#"},{id:2,title:"Payment received",message:"Your latest billing statement is ready.",url:"#"},{id:3,title:"System Update",message:"System updates will be performed tonight.",url:"#"},{id:4,title:"New Feature",message:"A new feature has been added to your dashboard.",url:"#"},{id:5,title:"Maintenance Scheduled",message:"Scheduled maintenance will occur this weekend.",url:"#"}]);function r(){e.value=!e.value}return(i,o)=>(ie(),ue("div",iV,[C("button",{onClick:r,class:"flex items-center justify-center w-8 h-8 rounded hover:bg-gray-50"},sV),Et(C("div",aV,[C("ul",lV,[(ie(!0),ue(Pe,null,Xe(n.value,s=>(ie(),ue("li",{key:s.id,class:"border-b last:border-b-0"},[C("a",{href:s.url,class:"block hover:bg-gray-300 p-4"},[C("p",cV,Ie(s.title),1),C("p",dV,Ie(s.message),1)],8,uV)]))),128))])],512),[[Ol,e.value]])]))}},hV=Nr(fV,[["__scopeId","data-v-325971ad"]]),pV=t=>(Yd("data-v-f40bd199"),t=t(),Gd(),t),mV={class:"py-2 px-6 bg-white flex items-center shadow-md sticky top-0 left-0 z-40 justify-between"},gV={class:"flex items-center"},vV=pV(()=>C("i",{class:"ri-menu-line"},null,-1)),yV=[vV],_V={class:"flex items-center text-sm ml-4"},bV={class:"mr-2"},wV={href:"#",class:"text-gray-500 hover:text-gray-800 font-medium"},EV={class:"flex items-center"},TV={__name:"Navbar",props:{currentTab:String},setup(t){return(e,n)=>(ie(),ue("div",mV,[C("div",gV,[C("button",{onClick:n[0]||(n[0]=r=>e.$emit("toggleSidebar")),class:"text-lg text-gray-600 sidebar-toggle"},yV),C("ul",_V,[C("li",bV,[C("a",wV,Ie(t.currentTab),1)])])]),C("div",EV,[qe(hV)])]))}},AV=Nr(TV,[["__scopeId","data-v-f40bd199"]]),kV={},xV={class:"p-6"};function IV(t,e){return ie(),ue("section",xV,[Ne(t.$slots,"default")])}const SV=Nr(kV,[["render",IV]]),RV={class:"flex flex-grow"},OV={class:"w-full h-screen overflow-y-scroll"},PV={__name:"MainPage",setup(t){const e=he(!0);he(!1);const n=he(localStorage.getItem("currentTab")||"");function r(o){n.value=o,localStorage.setItem("currentTab",o)}function i(){e.value=!e.value}return yt(()=>{n.value=localStorage.getItem("currentTab")||""}),(o,s)=>{const a=Ig("RouterView");return ie(),ue("div",RV,[e.value?(ie(),Ue(nV,{key:0,onToggleSidebar:i,onTitleChange:r,class:"hidden lg:block"})):ye("",!0),C("main",OV,[qe(AV,{onToggleSidebar:i,"current-tab":n.value},null,8,["current-tab"]),qe(SV,null,{default:ze(()=>[qe(Yr,{name:"fade"},{default:ze(()=>[qe(a)]),_:1})]),_:1})])])}}},CV=Nr(PV,[["__scopeId","data-v-6c5a0da2"]]),DV={class:"bg-white rounded-lg border border-gray-200 p-6 mb-4 shadow-lg"},MV=C("div",{class:"pb-4 border-b mb-4 border-gray-300 rounded-t flex justify-between"},[C("h3",{class:"text-lg font-semibold text-gray-900"},[C("span",{class:"mb-2"},"Randevu Ayarlarını Yap")]),C("button",{type:"submit",class:"text-white w-40 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),NV=["for"],LV=C("p",{class:"pl-2 text-gray-500"},"(dk)",-1),$V=["onUpdate:modelValue","id"],VV=["value"],FV=["for"],UV=["onUpdate:modelValue","id"],BV=["value"],jV=["for"],qV=C("p",{class:"pl-2 text-gray-500"},"(TL)",-1),HV=["onUpdate:modelValue","id"],zV={key:0,class:"flex items-center justify-center md:justify-start"},KV=C("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),WV=[KV],YV=["disabled","onClick"],GV=C("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[C("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),QV=[GV],XV={key:1},JV=["onClick"],ZV=C("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[C("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),eF=[ZV],a2={__name:"WorkingHoursMeetingSetup",props:{appointmentSettings:Array},emits:["save-appointment-settings"],setup(t,{emit:e}){const n=t,r=e,i=[30,45,60],o=["Online Video Görüşme","Telefonla Görüşme","Yüz Yüze Görüşme"],s=()=>{n.appointmentSettings.push({duration:"",price:"",type:""})},a=f=>{n.appointmentSettings.length>1&&n.appointmentSettings.splice(f,1)},l=()=>{r("save-appointment-settings",n.appointmentSettings)};return(f,u)=>(ie(),ue("div",DV,[C("form",{onSubmit:Pr(l,["prevent"])},[MV,C("div",null,[(ie(!0),ue(Pe,null,Xe(t.appointmentSettings,(c,d)=>(ie(),ue("div",{key:d,class:"flex flex-col space-y-2 md:space-y-0 mx-auto md:flex-row mb-4 w-full md:w-full items-center md:space-x-3"},[C("div",null,[C("label",{for:"meeting-duration-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},[hn("Randevu Süresi "),LV],8,NV),Et(C("select",{"onUpdate:modelValue":h=>c.duration=h,id:"meeting-duration-"+d,name:"meeting-duration",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ie(),ue(Pe,null,Xe(i,h=>C("option",{key:h,value:h},Ie(h),9,VV)),64))],8,$V),[[Po,c.duration]])]),C("div",null,[C("label",{for:"meeting-type-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},"Randevu Tipi",8,FV),Et(C("select",{"onUpdate:modelValue":h=>c.type=h,id:"meeting-type-"+d,name:"meeting-type",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ie(),ue(Pe,null,Xe(o,h=>C("option",{key:h,value:h},Ie(h),9,BV)),64))],8,UV),[[Po,c.type]])]),C("div",null,[C("label",{for:"meeting-price-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},[hn("Randevu Ücreti "),qV],8,jV),Et(C("input",{type:"number","onUpdate:modelValue":h=>c.price=h,id:"meeting-price-"+d,name:"meeting-price",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,HV),[[yi,c.price]])]),d===t.appointmentSettings.length-1?(ie(),ue("div",zV,[C("button",{onClick:s,type:"button",class:"inline-flex items-center mt-5 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},WV),C("button",{disabled:t.appointmentSettings.length===1,onClick:h=>a(d),type:"button",class:"inline-flex items-center mt-5 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},QV,8,YV)])):(ie(),ue("div",XV,[C("button",{onClick:h=>a(d),type:"button",class:"inline-flex items-center p-1.5 mt-5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},eF,8,JV)]))]))),128))])],32)]))}},tF=C("h1",{class:"font-bold text-4xl"},"Home",-1),nF={key:0},rF=C("p",null,"Welcome, Admin!",-1),iF={key:1},oF=C("p",null,null,-1),S1={__name:"Home",setup(t){const e=he([{duration:"",price:"",type:"",enabled:!0}]),n=Vo(),r=ge(()=>n.getters.userRole),i=ge(()=>n.getters.user?n.getters.user.uid:null),o=he(null),s=async a=>{const l=await ks(tr(yr,"attorneys",a));o.value=l.data()};return yt(()=>{s(i.value)}),(a,l)=>(ie(),ue("div",null,[tF,r.value==="admin"?(ie(),ue("div",nF,[rF,C("p",null,"Your data "+Ie(o.value),1)])):r.value==="attorney"?(ie(),ue("div",iF,[C("p",null,[hn("Welcome, "),C("span",null,Ie(r.value),1),hn("!")]),oF])):ye("",!0),qe(a2,{appointmentSettings:e.value},null,8,["appointmentSettings"])]))}},sF={class:"min-h-[88vh] flex items-center justify-center"},aF={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},lF=C("div",{class:"flex flex-col items-center"},[C("div",{class:"text-[1.6rem] font-medium p-2 text-gray-500"}," Tüm Görüşmeleri "),C("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Gör")],-1),uF=[lF],cF=["onClick"],dF=["src"],fF={__name:"OnlineMeetingsMenu",emits:["optionSelected"],setup(t,{emit:e}){const n=e,r=he([]),i=zf(yr,"attorneys"),o=()=>n("optionSelected","showAll"),s=f=>n("optionSelected",f);async function a(){let f=[];return(await Gv(i)).forEach(c=>{f.push({id:c.id,...c.data()})}),f}async function l(){try{const f=localStorage.getItem("cachedAttorneys"),u=localStorage.getItem("cachedTimeAttorneys"),c=30*60*1e3;if(f&&u&&new Date-new Date(parseInt(u))<c)return JSON.parse(f);{const d=await a();return localStorage.setItem("cachedAttorneys",JSON.stringify(d)),localStorage.setItem("cachedTimeAttorneys",new Date().getTime().toString()),d}}catch(f){return console.error("Error getting meetings:",f),[]}}return yt(async()=>{let f=await l();f=f.filter(u=>u.email!=="admin@gmail.com"),r.value=f}),(f,u)=>(ie(),ue("section",sF,[C("div",aF,[C("button",{onClick:o,class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center"},uF),(ie(!0),ue(Pe,null,Xe(r.value,c=>(ie(),ue("button",{key:c.id,onClick:d=>s(c.id),class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center p-2"},[C("div",null,[C("img",{src:`assets/images/${c.id}.jpg`,alt:"Attorney Photo",class:"w-40 h-60 object-cover rounded-md"},null,8,dF)])],8,cF))),128))])]))}};function Ve(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Fr(t,e){const n=Ve(t);return isNaN(e)?mt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function zr(t,e){const n=Ve(t);if(isNaN(e))return mt(t,NaN);if(!e)return n;const r=n.getDate(),i=mt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function l2(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,f=Ve(t),u=r||n?zr(f,r+n*12):f,c=o||i?Fr(u,o+i*7):u,d=a+s*60,p=(l+d*60)*1e3;return mt(t,c.getTime()+p)}function hF(t,e){const n=+Ve(t);return mt(t,n+e)}const u2=6048e5,pF=864e5,mF=6e4,c2=36e5,gF=1e3;function vF(t,e){return hF(t,e*c2)}let yF={};function Vs(){return yF}function Zr(t,e){var a,l,f,u;const n=Vs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=Ve(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Ra(t){return Zr(t,{weekStartsOn:1})}function d2(t){const e=Ve(t),n=e.getFullYear(),r=mt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Ra(r),o=mt(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Ra(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function R1(t){const e=Ve(t);return e.setHours(0,0,0,0),e}function Od(t){const e=Ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function f2(t,e){const n=R1(t),r=R1(e),i=+n-Od(n),o=+r-Od(r);return Math.round((i-o)/pF)}function _F(t){const e=d2(t),n=mt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ra(n)}function bF(t,e){const n=e*3;return zr(t,n)}function ry(t,e){return zr(t,e*12)}function O1(t,e){const n=Ve(t),r=Ve(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function h2(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bl(t){if(!h2(t)&&typeof t!="number")return!1;const e=Ve(t);return!isNaN(Number(e))}function P1(t){const e=Ve(t);return Math.trunc(e.getMonth()/3)+1}function wF(t,e){const n=Ve(t),r=Ve(e);return n.getFullYear()-r.getFullYear()}function EF(t,e){const n=Ve(t),r=Ve(e),i=O1(n,r),o=Math.abs(wF(n,r));n.setFullYear(1584),r.setFullYear(1584);const s=O1(n,r)===-i,a=i*(o-+s);return a===0?0:a}function p2(t,e){const n=Ve(t.start),r=Ve(t.end);let i=+n>+r;const o=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let a=1;const l=[];for(;+s<=o;)l.push(Ve(s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return i?l.reverse():l}function us(t){const e=Ve(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function TF(t,e){const n=Ve(t.start),r=Ve(t.end);let i=+n>+r;const o=i?+us(n):+us(r);let s=us(i?r:n),a=1;const l=[];for(;+s<=o;)l.push(Ve(s)),s=bF(s,a);return i?l.reverse():l}function AF(t){const e=Ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function m2(t){const e=Ve(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function iy(t){const e=Ve(t),n=mt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function g2(t,e){var a,l,f,u;const n=Vs(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=Ve(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function C1(t){const e=Ve(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const kF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xF=(t,e,n)=>{let r;const i=kF[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Op(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const IF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OF={date:Op({formats:IF,defaultWidth:"full"}),time:Op({formats:SF,defaultWidth:"full"}),dateTime:Op({formats:RF,defaultWidth:"full"})},PF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CF=(t,e,n,r)=>PF[t];function cl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const DF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$F={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FF=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UF={ordinalNumber:FF,era:cl({values:DF,defaultWidth:"wide"}),quarter:cl({values:MF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cl({values:NF,defaultWidth:"wide"}),day:cl({values:LF,defaultWidth:"wide"}),dayPeriod:cl({values:$F,defaultWidth:"wide",formattingValues:VF,defaultFormattingWidth:"wide"})};function dl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?jF(a,c=>c.test(s)):BF(a,c=>c.test(s));let f;f=t.valueCallback?t.valueCallback(l):l,f=n.valueCallback?n.valueCallback(f):f;const u=e.slice(s.length);return{value:f,rest:u}}}function BF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function qF(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const HF=/^(\d+)(th|st|nd|rd)?/i,zF=/\d+/i,KF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WF={any:[/^b/i,/^(a|c)/i]},YF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GF={any:[/1/i,/2/i,/3/i,/4/i]},QF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nU={ordinalNumber:qF({matchPattern:HF,parsePattern:zF,valueCallback:t=>parseInt(t,10)}),era:dl({matchPatterns:KF,defaultMatchWidth:"wide",parsePatterns:WF,defaultParseWidth:"any"}),quarter:dl({matchPatterns:YF,defaultMatchWidth:"wide",parsePatterns:GF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dl({matchPatterns:QF,defaultMatchWidth:"wide",parsePatterns:XF,defaultParseWidth:"any"}),day:dl({matchPatterns:JF,defaultMatchWidth:"wide",parsePatterns:ZF,defaultParseWidth:"any"}),dayPeriod:dl({matchPatterns:eU,defaultMatchWidth:"any",parsePatterns:tU,defaultParseWidth:"any"})},v2={code:"en-US",formatDistance:xF,formatLong:OF,formatRelative:CF,localize:UF,match:nU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rU(t){const e=Ve(t);return f2(e,iy(e))+1}function oy(t){const e=Ve(t),n=+Ra(e)-+_F(e);return Math.round(n/u2)+1}function sy(t,e){var u,c,d,h;const n=Ve(t),r=n.getFullYear(),i=Vs(),o=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=mt(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Zr(s,e),l=mt(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const f=Zr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function iU(t,e){var a,l,f,u;const n=Vs(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,i=sy(t,e),o=mt(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Zr(o,e)}function ay(t,e){const n=Ve(t),r=+Zr(n,e)-+iU(n,e);return Math.round(r/u2)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const io={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return bt(i,e.length)}},Ws={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return io.y(t,e)},Y:function(t,e,n,r){const i=sy(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return bt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):bt(o,e.length)},R:function(t,e){const n=d2(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return io.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ay(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):bt(i,e.length)},I:function(t,e,n){const r=oy(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):io.d(t,e)},D:function(t,e,n){const r=rU(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return bt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return bt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ws.noon:r===0?i=Ws.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ws.evening:r>=12?i=Ws.afternoon:r>=4?i=Ws.morning:i=Ws.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):io.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):io.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):io.s(t,e)},S:function(t,e){return io.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return N1(r);case"XXXX":case"XX":return es(r);case"XXXXX":case"XXX":default:return es(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return N1(r);case"xxxx":case"xx":return es(r);case"xxxxx":case"xxx":default:return es(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+M1(r,":");case"OOOO":default:return"GMT"+es(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+M1(r,":");case"zzzz":default:return"GMT"+es(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return bt(r,e.length)}};function M1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+bt(o,2)}function N1(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):es(t,e)}function es(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=bt(Math.trunc(r/60),2),o=bt(r%60,2);return n+i+e+o}const L1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},y2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oU=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return L1(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",L1(r,e)).replace("{{time}}",y2(i,e))},Jm={p:y2,P:oU},sU=/^D+$/,aU=/^Y+$/,lU=["D","DD","YY","YYYY"];function _2(t){return sU.test(t)}function b2(t){return aU.test(t)}function Zm(t,e,n){const r=uU(t,e,n);if(console.warn(r),lU.includes(t))throw new RangeError(r)}function uU(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fU=/^'([^]*?)'?$/,hU=/''/g,pU=/[a-zA-Z]/;function Kr(t,e,n){var u,c,d,h,p,m,y,v;const r=Vs(),i=(n==null?void 0:n.locale)??r.locale??v2,o=(n==null?void 0:n.firstWeekContainsDate)??((c=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,a=Ve(t);if(!Bl(a))throw new RangeError("Invalid time value");let l=e.match(dU).map(_=>{const b=_[0];if(b==="p"||b==="P"){const g=Jm[b];return g(_,i.formatLong)}return _}).join("").match(cU).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:mU(_)};if(D1[b])return{isToken:!0,value:_};if(b.match(pU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const f={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const b=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&b2(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_2(b))&&Zm(b,e,String(t));const g=D1[b[0]];return g(a,b,i.localize,f)}).join("")}function mU(t){const e=t.match(fU);return e?e[1].replace(hU,"'"):t}function gU(t){return Ve(t).getDay()}function vU(t){const e=Ve(t),n=e.getFullYear(),r=e.getMonth(),i=mt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function yU(){return Object.assign({},Vs())}function Gi(t){return Ve(t).getHours()}function _U(t){let n=Ve(t).getDay();return n===0&&(n=7),n}function No(t){return Ve(t).getMinutes()}function ot(t){return Ve(t).getMonth()}function Oa(t){return Ve(t).getSeconds()}function it(t){return Ve(t).getFullYear()}function Pa(t,e){const n=Ve(t),r=Ve(e);return n.getTime()>r.getTime()}function mu(t,e){const n=Ve(t),r=Ve(e);return+n<+r}function ra(t,e){const n=Ve(t),r=Ve(e);return+n==+r}function bU(t,e){const n=e instanceof Date?mt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const wU=10;class w2{constructor(){Me(this,"subPriority",0)}validate(e,n){return!0}}class EU extends w2{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class TU extends w2{constructor(){super(...arguments);Me(this,"priority",wU);Me(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:mt(n,bU(n,Date))}}class gt{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new EU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class AU extends gt{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Gt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},di={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Qt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Lt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function fi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*c2+o*mF+s*gF),rest:e.slice(n[0].length)}}function E2(t){return Lt(Gt.anyDigitsSigned,t)}function Ht(t,e){switch(t){case 1:return Lt(Gt.singleDigit,e);case 2:return Lt(Gt.twoDigits,e);case 3:return Lt(Gt.threeDigits,e);case 4:return Lt(Gt.fourDigits,e);default:return Lt(new RegExp("^\\d{1,"+t+"}"),e)}}function Pd(t,e){switch(t){case 1:return Lt(Gt.singleDigitSigned,e);case 2:return Lt(Gt.twoDigitsSigned,e);case 3:return Lt(Gt.threeDigitsSigned,e);case 4:return Lt(Gt.fourDigitsSigned,e);default:return Lt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ly(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function T2(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function A2(t){return t%400===0||t%4===0&&t%100!==0}class kU extends gt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return Qt(Ht(4,n),o);case"yo":return Qt(i.ordinalNumber(n,{unit:"year"}),o);default:return Qt(Ht(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=T2(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class xU extends gt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Qt(Ht(4,n),o);case"Yo":return Qt(i.ordinalNumber(n,{unit:"year"}),o);default:return Qt(Ht(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=sy(n,o);if(i.isTwoDigitYear){const l=T2(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Zr(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Zr(n,o)}}class IU extends gt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Pd(r==="R"?4:r.length,n)}set(n,r,i){const o=mt(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Ra(o)}}class SU extends gt{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Pd(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class RU extends gt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Ht(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class OU extends gt{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Ht(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class PU extends gt{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return Qt(Lt(Gt.month,n),o);case"MM":return Qt(Ht(2,n),o);case"Mo":return Qt(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class CU extends gt{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return Qt(Lt(Gt.month,n),o);case"LL":return Qt(Ht(2,n),o);case"Lo":return Qt(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function DU(t,e,n){const r=Ve(t),i=ay(r,n)-e;return r.setDate(r.getDate()-i*7),r}class MU extends gt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Lt(Gt.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Ht(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return Zr(DU(n,i,o),o)}}function NU(t,e){const n=Ve(t),r=oy(n)-e;return n.setDate(n.getDate()-r*7),n}class LU extends gt{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Lt(Gt.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Ht(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Ra(NU(n,i))}}const $U=[31,28,31,30,31,30,31,31,30,31,30,31],VU=[31,29,31,30,31,30,31,31,30,31,30,31];class FU extends gt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Lt(Gt.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Ht(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=A2(i),s=n.getMonth();return o?r>=1&&r<=VU[s]:r>=1&&r<=$U[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class UU extends gt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Lt(Gt.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Ht(r.length,n)}}validate(n,r){const i=n.getFullYear();return A2(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function uy(t,e,n){var c,d,h,p;const r=Vs(),i=(n==null?void 0:n.weekStartsOn)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Ve(t),s=o.getDay(),l=(e%7+7)%7,f=7-i,u=e<0||e>6?e-(s+f)%7:(l+f)%7-(s+f)%7;return Fr(o,u)}class BU extends gt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=uy(n,i,o),n.setHours(0,0,0,0),n}}class jU extends gt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Qt(Ht(r.length,n),s);case"eo":return Qt(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=uy(n,i,o),n.setHours(0,0,0,0),n}}class qU extends gt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Qt(Ht(r.length,n),s);case"co":return Qt(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=uy(n,i,o),n.setHours(0,0,0,0),n}}function HU(t,e){const n=Ve(t),r=_U(n),i=e-r;return Fr(n,i)}class zU extends gt{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return Ht(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Qt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Qt(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Qt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Qt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=HU(n,i),n.setHours(0,0,0,0),n}}class KU extends gt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(ly(i),0,0,0),n}}class WU extends gt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(ly(i),0,0,0),n}}class YU extends gt{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(ly(i),0,0,0),n}}class GU extends gt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Lt(Gt.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ht(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class QU extends gt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Lt(Gt.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ht(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class XU extends gt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Lt(Gt.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ht(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class JU extends gt{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Lt(Gt.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ht(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class ZU extends gt{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Lt(Gt.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Ht(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class e8 extends gt{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Lt(Gt.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Ht(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class t8 extends gt{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Qt(Ht(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class n8 extends gt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return fi(di.basicOptionalMinutes,n);case"XX":return fi(di.basic,n);case"XXXX":return fi(di.basicOptionalSeconds,n);case"XXXXX":return fi(di.extendedOptionalSeconds,n);case"XXX":default:return fi(di.extended,n)}}set(n,r,i){return r.timestampIsSet?n:mt(n,n.getTime()-Od(n)-i)}}class r8 extends gt{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return fi(di.basicOptionalMinutes,n);case"xx":return fi(di.basic,n);case"xxxx":return fi(di.basicOptionalSeconds,n);case"xxxxx":return fi(di.extendedOptionalSeconds,n);case"xxx":default:return fi(di.extended,n)}}set(n,r,i){return r.timestampIsSet?n:mt(n,n.getTime()-Od(n)-i)}}class i8 extends gt{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(n){return E2(n)}set(n,r,i){return[mt(n,i*1e3),{timestampIsSet:!0}]}}class o8 extends gt{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(n){return E2(n)}set(n,r,i){return[mt(n,i),{timestampIsSet:!0}]}}const s8={G:new AU,y:new kU,Y:new xU,R:new IU,u:new SU,Q:new RU,q:new OU,M:new PU,L:new CU,w:new MU,I:new LU,d:new FU,D:new UU,E:new BU,e:new jU,c:new qU,i:new zU,a:new KU,b:new WU,B:new YU,h:new GU,H:new QU,K:new XU,k:new JU,m:new ZU,s:new e8,S:new t8,X:new n8,x:new r8,t:new i8,T:new o8},a8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u8=/^'([^]*?)'?$/,c8=/''/g,d8=/\S/,f8=/[a-zA-Z]/;function eg(t,e,n,r){var m,y,v,_,b,g,w,k;const i=yU(),o=(r==null?void 0:r.locale)??i.locale??v2,s=(r==null?void 0:r.firstWeekContainsDate)??((y=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((k=(w=i.locale)==null?void 0:w.options)==null?void 0:k.weekStartsOn)??0;if(e==="")return t===""?Ve(n):mt(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},f=[new TU],u=e.match(l8).map(S=>{const E=S[0];if(E in Jm){const I=Jm[E];return I(S,o.formatLong)}return S}).join("").match(a8),c=[];for(let S of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&b2(S)&&Zm(S,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&_2(S)&&Zm(S,e,t);const E=S[0],I=s8[E];if(I){const{incompatibleTokens:x}=I;if(Array.isArray(x)){const T=c.find(R=>x.includes(R.token)||R.token===E);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${S}\` at the same time`)}else if(I.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);c.push({token:E,fullToken:S});const A=I.run(t,S,o.match,l);if(!A)return mt(n,NaN);f.push(A.setter),t=A.rest}else{if(E.match(f8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(S==="''"?S="'":E==="'"&&(S=h8(S)),t.indexOf(S)===0)t=t.slice(S.length);else return mt(n,NaN)}}if(t.length>0&&d8.test(t))return mt(n,NaN);const d=f.map(S=>S.priority).sort((S,E)=>E-S).filter((S,E,I)=>I.indexOf(S)===E).map(S=>f.filter(E=>E.priority===S).sort((E,I)=>I.subPriority-E.subPriority)).map(S=>S[0]);let h=Ve(n);if(isNaN(h.getTime()))return mt(n,NaN);const p={};for(const S of d){if(!S.validate(h,l))return mt(n,NaN);const E=S.set(h,p,l);Array.isArray(E)?(h=E[0],Object.assign(p,E[1])):h=E}return mt(n,h)}function h8(t){return t.match(u8)[1].replace(c8,"'")}function $1(t,e){const n=us(t),r=us(e);return+n==+r}function p8(t,e){return Fr(t,-e)}function k2(t,e){const n=Ve(t),r=n.getFullYear(),i=n.getDate(),o=mt(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=vU(o);return n.setMonth(e,Math.min(i,s)),n}function xt(t,e){let n=Ve(t);return isNaN(+n)?mt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=k2(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function m8(t,e){const n=Ve(t);return n.setHours(e),n}function x2(t,e){const n=Ve(t);return n.setMilliseconds(e),n}function g8(t,e){const n=Ve(t);return n.setMinutes(e),n}function I2(t,e){const n=Ve(t);return n.setSeconds(e),n}function gi(t,e){const n=Ve(t);return isNaN(+n)?mt(t,NaN):(n.setFullYear(e),n)}function Ca(t,e){return zr(t,-e)}function v8(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,f=Ca(t,r+n*12),u=p8(f,o+i*7),c=a+s*60,h=(l+c*60)*1e3;return mt(t,u.getTime()-h)}function S2(t,e){return ry(t,-e)}function Wa(){return ie(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),C("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),C("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),C("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Wa.compatConfig={MODE:3};function R2(){return ie(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),C("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}R2.compatConfig={MODE:3};function cy(){return ie(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}cy.compatConfig={MODE:3};function dy(){return ie(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}dy.compatConfig={MODE:3};function fy(){return ie(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),C("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}fy.compatConfig={MODE:3};function hy(){return ie(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}hy.compatConfig={MODE:3};function py(){return ie(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[C("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}py.compatConfig={MODE:3};const Ti=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),my=(t,e,n)=>tg(t,e,n)||Ae(),y8=(t,e,n)=>{const r=e.dateInTz?Ti(new Date(t),e.dateInTz):Ae(t);return n?ir(r,!0):r},tg=(t,e,n)=>{if(!t)return null;const r=n?ir(Ae(t),!0):Ae(t);return e?e.exactMatch?y8(t,e,n):Ti(r,e.timezone):r},_8=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var $r=(t=>(t.month="month",t.year="year",t))($r||{}),ts=(t=>(t.top="top",t.bottom="bottom",t))(ts||{}),ms=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ms||{}),Hn=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Hn||{});const b8=["timestamp","date","iso"];var er=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(er||{}),Nt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Nt||{});function V1(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function w8(t){return e=>Kr(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const E8=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(w8(t))}catch{i=r.map(V1(e))}else i=r.map(V1(e));const o=i.slice(0,n),s=i.slice(n+1,i.length);return[i[n]].concat(...s).concat(...o)},gy=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:D2(i,e)});return n?r.reverse():r},O2=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const s=o<10?`0${o}`:o;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const o=n==="long"?"MMMM":"MMM";return r.map((s,a)=>{const l=Kr(Ti(s,"UTC"),o,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((o,s)=>{const a=i.format(o);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:s}})},T8=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],un=t=>{const e=le(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},A8=t=>({type:"dot",...t??{}}),P2=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,vy={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},mn=t=>t,F1=t=>t===0?t:!t||isNaN(+t)?null:+t,U1=t=>t===null,C2=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},k8=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},gu=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const o=+n,s=+e;return r&&i?+t>o||+t<s:r?+t>o:i?+t<s:!1},Da=(t,e)=>k8(t).map(n=>n.map(r=>{const{active:i,disabled:o,isBetween:s,highlighted:a}=e(r);return{...r,active:i,disabled:o,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:o,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:o&&i,dp__cell_in_between:s,"dp--highlighted":a}}})),Io=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},x8=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function I8(t,e){let n=[...document.querySelectorAll(x8())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const S8=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),D2=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),yy=t=>Kr(t,"dd-MM-yyyy"),Pp=t=>Array.isArray(t),Cd=(t,e)=>e.get(yy(t)),R8=(t,e)=>t?e?e instanceof Map?!!Cd(t,e):e(Ae(t)):!1:!0,dr=(t,e,n=!1)=>{if(t.key===Nt.enter||t.key===Nt.space)return n&&t.preventDefault(),e()},B1=(t,e,n,r,i,o)=>{const s=eg(t,e.slice(0,t.length),new Date,{locale:o});return Bl(s)&&h2(s)?r||i?s:xt(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},O8=(t,e,n,r,i,o)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return B1(t,e,s,r,i,o);if(Array.isArray(e)){let a=null;for(const l of e)if(a=B1(t,l,s,r,i,o),a)break;return a}return typeof e=="function"?e(t):null},Ae=t=>t?new Date(t):new Date,P8=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${o}T${s}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},ir=(t,e)=>{const n=Ae(JSON.parse(JSON.stringify(t))),r=xt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?AF(r):r},So=(t,e,n,r)=>{let i=t?Ae(t):Ae();return(e||e===0)&&(i=m8(i,+e)),(n||n===0)&&(i=g8(i,+n)),(r||r===0)&&(i=I2(i,+r)),x2(i,0)},Bt=(t,e)=>!t||!e?!1:mu(ir(t),ir(e)),st=(t,e)=>!t||!e?!1:ra(ir(t),ir(e)),Yt=(t,e)=>!t||!e?!1:Pa(ir(t),ir(e)),Jf=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Yt(n,t[0])&&Bt(n,t[1]):t!=null&&t[0]&&e?Yt(n,t[0])&&Bt(n,e)||Bt(n,t[0])&&Yt(n,e):!1,Ur=t=>{const e=xt(new Date(t),{date:1});return ir(e)},Cp=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},gs=t=>({hours:Gi(t),minutes:No(t),seconds:Oa(t)}),M2=(t,e)=>{if(e){const n=it(Ae(e));if(n>t)return 12;if(n===t)return ot(Ae(e))}},N2=(t,e)=>{if(e){const n=it(Ae(e));return n<t?-1:n===t?ot(Ae(e)):void 0}},Ma=t=>{if(t)return it(Ae(t))},L2=(t,e)=>{const n=Yt(t,e)?e:t,r=Yt(e,t)?e:t;return p2({start:n,end:r})},C8=t=>{const e=zr(t,1);return{month:ot(e),year:it(e)}},Ci=(t,e)=>{const n=Zr(t,{weekStartsOn:+e}),r=g2(t,{weekStartsOn:+e});return[n,r]},$2=(t,e)=>{const n={hours:Gi(Ae()),minutes:No(Ae()),seconds:e?Oa(Ae()):0};return Object.assign(n,t)},bo=(t,e,n)=>[xt(Ae(t),{date:1}),xt(Ae(),{month:e,year:n,date:1})],Fi=(t,e,n)=>{let r=t?Ae(t):Ae();return(e||e===0)&&(r=k2(r,e)),n&&(r=gi(r,n)),r},V2=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const o=i?zr(t,1):Ca(t,1),s=[ot(o),it(o)];return i?!M8(...s,e):!D8(...s,n)},D8=(t,e,n)=>Bt(...bo(n,t,e))||st(...bo(n,t,e)),M8=(t,e,n)=>Yt(...bo(n,t,e))||st(...bo(n,t,e)),F2=(t,e,n,r,i,o,s)=>{if(typeof e=="function"&&!s)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Kr(t[0],o,a)}${i&&!t[1]?"":r}${t[1]?Kr(t[1],o,a):""}`:Kr(t,o,a)},Ys=t=>{if(t)return null;throw new Error(vy.prop("partial-range"))},kc=(t,e)=>{if(e)return t();throw new Error(vy.prop("range"))},ng=t=>Array.isArray(t)?Bl(t[0])&&(t[1]?Bl(t[1]):!0):t?Bl(t):!1,N8=(t,e)=>xt(e??Ae(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Dp=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?mu(t,e):Pa(t,e),o={seconds:0,milliseconds:0};return i||ra(xt(t,o),xt(e,o))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Mp=(t,e,n)=>t?N8(t,e):Ae(n??e),j1=(t,e,n,r,i)=>{if(Array.isArray(r)){const s=Mp(t,r[0],e),a=Mp(t,r[1],e);return Dp(r[0],s,n,!!e)&&Dp(r[1],a,n,!!e)&&i}const o=Mp(t,r,e);return Dp(r,o,n,!!e)&&i},Np=t=>xt(Ae(),gs(t)),L8=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>it(Ae(n))===e).map(n=>ot(n)):[],U2=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),_y=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),B2=t=>Kr(t,"yyyy-MM-dd"),fl=Dr({menuFocused:!1,shiftKeyInMenu:!1}),j2=()=>{const t=n=>{fl.menuFocused=n},e=n=>{fl.shiftKeyInMenu!==n&&(fl.shiftKeyInMenu=n)};return{control:ge(()=>({shiftKeyInMenu:fl.shiftKeyInMenu,menuFocused:fl.menuFocused})),setMenuFocused:t,setShiftKey:e}},Rt=Dr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Lp=he(null),xc=he(!1),$p=he(!1),Vp=he(!1),Fp=he(!1),Bn=he(0),Wt=he(0),Ho=()=>{const t=ge(()=>xc.value?[...Rt.selectionGrid,Rt.actionRow].filter(c=>c.length):$p.value?[...Rt.timePicker[0],...Rt.timePicker[1],Fp.value?[]:[Lp.value],Rt.actionRow].filter(c=>c.length):Vp.value?[...Rt.monthPicker,Rt.actionRow]:[Rt.monthYear,...Rt.calendar,Rt.time,Rt.actionRow].filter(c=>c.length)),e=c=>{Bn.value=c?Bn.value+1:Bn.value-1;let d=null;t.value[Wt.value]&&(d=t.value[Wt.value][Bn.value]),!d&&t.value[Wt.value+(c?1:-1)]?(Wt.value=Wt.value+(c?1:-1),Bn.value=c?0:t.value[Wt.value].length-1):d||(Bn.value=c?Bn.value-1:Bn.value+1)},n=c=>{Wt.value===0&&!c||Wt.value===t.value.length&&c||(Wt.value=c?Wt.value+1:Wt.value-1,t.value[Wt.value]?t.value[Wt.value]&&!t.value[Wt.value][Bn.value]&&Bn.value!==0&&(Bn.value=t.value[Wt.value].length-1):Wt.value=c?Wt.value-1:Wt.value+1)},r=c=>{let d=null;t.value[Wt.value]&&(d=t.value[Wt.value][Bn.value]),d?d.focus({preventScroll:!xc.value}):Bn.value=c?Bn.value-1:Bn.value+1},i=()=>{e(!0),r(!0)},o=()=>{e(!1),r(!1)},s=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(c,d)=>{Rt[d]=c},f=(c,d)=>{Rt[d]=c},u=()=>{Bn.value=0,Wt.value=0};return{buildMatrix:l,buildMultiLevelMatrix:f,setTimePickerBackRef:c=>{Lp.value=c},setSelectionGrid:c=>{xc.value=c,u(),c||(Rt.selectionGrid=[])},setTimePicker:(c,d=!1)=>{$p.value=c,Fp.value=d,u(),c||(Rt.timePicker[0]=[],Rt.timePicker[1]=[])},setTimePickerElements:(c,d=0)=>{Rt.timePicker[d]=c},arrowRight:i,arrowLeft:o,arrowUp:s,arrowDown:a,clearArrowNav:()=>{Rt.monthYear=[],Rt.calendar=[],Rt.time=[],Rt.actionRow=[],Rt.selectionGrid=[],Rt.timePicker[0]=[],Rt.timePicker[1]=[],xc.value=!1,$p.value=!1,Fp.value=!1,Vp.value=!1,u(),Lp.value=null},setMonthPicker:c=>{Vp.value=c,u()},refSets:Rt}},q1=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),$8=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),H1=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,V8=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:H1(!1)};const r=e?t:{},i=e?r.count??!0:t,o=H1(i);return Object.assign(n,r,{count:o})},F8=(t,e,n)=>t||(typeof n=="string"?n:e),U8=t=>typeof t=="boolean"?t?q1({}):!1:q1(t),B8=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},j8=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),q8=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),H8=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},z8=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),K8=t=>{const e={dates:Array.isArray(t)?t.map(n=>Ae(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},W8=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},Y8=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},G8=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Up=(t,e,n)=>new Map(t.map(r=>{const i=my(r,e,n);return[yy(i),i]})),Q8=(t,e)=>t.length?new Map(t.map(n=>{const r=my(n.date,e);return[yy(r),n]})):null,X8=t=>{var e;return{minDate:tg(t.minDate,t.timezone,t.isSpecific),maxDate:tg(t.maxDate,t.timezone,t.isSpecific),disabledDates:Pp(t.disabledDates)?Up(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Pp(t.allowedDates)?Up(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Pp((e=t.highlight)==null?void 0:e.dates)?Up(t.highlight.dates,t.timezone):t.highlight,markers:Q8(t.markers,t.timezone)}},J8=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Ft=t=>{const e=()=>{const w=t.enableSeconds?":ss":"",k=t.enableMinutes?":mm":"";return t.is24?`HH${k}${w}`:`hh${k}${w} aa`},n=()=>{var w;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((w=y.value)==null?void 0:w.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=w=>$2(w,t.enableSeconds),i=()=>g.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,o=ge(()=>V8(t.multiCalendars)),s=ge(()=>i()),a=ge(()=>$8(t.ariaLabels)),l=ge(()=>j8(t.filters)),f=ge(()=>U8(t.transitions)),u=ge(()=>q8(t.actionRow)),c=ge(()=>F8(t.previewFormat,t.format,n())),d=ge(()=>B8(t.textInput)),h=ge(()=>H8(t.inline)),p=ge(()=>z8(t.config)),m=ge(()=>K8(t.highlight)),y=ge(()=>W8(t.weekNumbers)),v=ge(()=>G8(t.timezone,t.emitTimezone)),_=ge(()=>J8(t.multiDates,t.multiDatesLimit)),b=ge(()=>X8({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:m.value,markers:t.markers,timezone:v.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),g=ge(()=>Y8(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:f,defaultedMultiCalendars:o,defaultedStartTime:s,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:c,defaultedTextInput:d,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:y,defaultedRange:g,propDates:b,defaultedTz:v,defaultedMultiDates:_,getDefaultPattern:n,getDefaultStartTime:i}},Z8=(t,e,n)=>{const r=he(),{defaultedTextInput:i,defaultedRange:o,defaultedTz:s,defaultedMultiDates:a,getDefaultPattern:l}=Ft(e),f=he(""),u=zl(e,"format"),c=zl(e,"formatLocale");rn(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,j(!0))},{deep:!0}),rn(o,(V,J)=>{V.enabled!==J.enabled&&(r.value=null)}),rn(u,()=>{Q()});const d=V=>s.value.timezone&&s.value.convertModel?Ti(V,s.value.timezone):V,h=V=>{if(s.value.timezone&&s.value.convertModel){const J=_8(s.value.timezone);return vF(V,J)}return V},p=(V,J,W=!1)=>F2(V,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,J??l(),W),m=V=>V?e.modelType?B(V):{hours:Gi(V),minutes:No(V),seconds:e.enableSeconds?Oa(V):0}:null,y=V=>e.modelType?B(V):{month:ot(V),year:it(V)},v=V=>Array.isArray(V)?a.value.enabled?V.map(J=>_(J,gi(Ae(),J))):kc(()=>[gi(Ae(),V[0]),V[1]?gi(Ae(),V[1]):Ys(o.value.partialRange)],o.value.enabled):gi(Ae(),+V),_=(V,J)=>(typeof V=="string"||typeof V=="number")&&e.modelType?H(V):J,b=V=>Array.isArray(V)?[_(V[0],So(null,+V[0].hours,+V[0].minutes,V[0].seconds)),_(V[1],So(null,+V[1].hours,+V[1].minutes,V[1].seconds))]:_(V,So(null,V.hours,V.minutes,V.seconds)),g=V=>{const J=xt(Ae(),{date:1});return Array.isArray(V)?a.value.enabled?V.map(W=>_(W,Fi(J,+W.month,+W.year))):kc(()=>[_(V[0],Fi(J,+V[0].month,+V[0].year)),_(V[1],V[1]?Fi(J,+V[1].month,+V[1].year):Ys(o.value.partialRange))],o.value.enabled):_(V,Fi(J,+V.month,+V.year))},w=V=>{if(Array.isArray(V))return V.map(J=>H(J));throw new Error(vy.dateArr("multi-dates"))},k=V=>{if(Array.isArray(V)&&o.value.enabled){const J=V[0],W=V[1];return[Ae(Array.isArray(J)?J[0]:null),Ae(Array.isArray(W)?W[0]:null)]}return Ae(V[0])},S=V=>e.modelAuto?Array.isArray(V)?[H(V[0]),H(V[1])]:e.autoApply?[H(V)]:[H(V),null]:Array.isArray(V)?kc(()=>V[1]?[H(V[0]),V[1]?H(V[1]):Ys(o.value.partialRange)]:[H(V[0])],o.value.enabled):H(V),E=()=>{Array.isArray(r.value)&&o.value.enabled&&r.value.length===1&&r.value.push(Ys(o.value.partialRange))},I=()=>{const V=r.value;return[B(V[0]),V[1]?B(V[1]):Ys(o.value.partialRange)]},x=()=>r.value[1]?I():B(mn(r.value[0])),A=()=>(r.value||[]).map(V=>B(V)),T=(V=!1)=>(V||E(),e.modelAuto?x():a.value.enabled?A():Array.isArray(r.value)?kc(()=>I(),o.value.enabled):B(mn(r.value))),R=V=>!V||Array.isArray(V)&&!V.length?null:e.timePicker?b(mn(V)):e.monthPicker?g(mn(V)):e.yearPicker?v(mn(V)):a.value.enabled?w(mn(V)):e.weekPicker?k(mn(V)):S(mn(V)),N=V=>{const J=R(V);ng(mn(J))?(r.value=mn(J),Q()):(r.value=null,f.value="")},M=()=>{const V=J=>Kr(J,i.value.format);return`${V(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?V(r.value[1]):""}`},O=()=>n.value&&r.value?Array.isArray(r.value)?M():Kr(r.value,i.value.format):p(r.value),P=()=>r.value?a.value.enabled?r.value.map(V=>p(V)).join("; "):i.value.enabled&&typeof i.value.format=="string"?O():p(r.value):"",Q=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?f.value=P():f.value=e.format(r.value)},H=V=>{if(e.utc){const J=new Date(V);return e.utc==="preserve"?new Date(J.getTime()+J.getTimezoneOffset()*6e4):J}return e.modelType?b8.includes(e.modelType)?d(new Date(V)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?d(eg(V,l(),new Date,{locale:c.value})):d(eg(V,e.modelType,new Date,{locale:c.value})):d(new Date(V))},B=V=>V?e.utc?P8(V,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(V):e.modelType==="iso"?h(V).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(V)):p(h(V),e.modelType,!0):h(V):"",$=(V,J=!1,W=!1)=>{if(W)return V;if(t("update:model-value",V),s.value.emitTimezone&&J){const oe=Array.isArray(V)?V.map(ce=>Ti(mn(ce),s.value.emitTimezone)):Ti(mn(V),s.value.emitTimezone);t("update:model-timezone-value",oe)}},F=V=>Array.isArray(r.value)?a.value.enabled?r.value.map(J=>V(J)):[V(r.value[0]),r.value[1]?V(r.value[1]):Ys(o.value.partialRange)]:V(mn(r.value)),D=()=>{if(Array.isArray(r.value)){const V=Ci(r.value[0],e.weekStart),J=r.value[1]?Ci(r.value[1],e.weekStart):[];return[V.map(W=>Ae(W)),J.map(W=>Ae(W))]}return Ci(r.value,e.weekStart).map(V=>Ae(V))},K=(V,J)=>$(mn(F(V)),!1,J),z=V=>{const J=D();return V?J:t("update:model-value",D())},j=(V=!1)=>(V||Q(),e.monthPicker?K(y,V):e.timePicker?K(m,V):e.yearPicker?K(it,V):e.weekPicker?z(V):$(T(V),!0,V));return{inputValue:f,internalModelValue:r,checkBeforeEmit:()=>r.value?o.value.enabled?o.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:N,formatInputValue:Q,emitModelValue:j}},e9=(t,e)=>{const{defaultedFilters:n,propDates:r}=Ft(t),{validateMonthYearInRange:i}=zo(t),o=(u,c)=>{let d=u;return n.value.months.includes(ot(d))?(d=c?zr(u,1):Ca(u,1),o(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(it(d))?(d=c?ry(u,1):S2(u,1),s(d,c)):d},a=(u,c=!1)=>{const d=xt(Ae(),{month:t.month,year:t.year});let h=u?zr(d,1):Ca(d,1);t.disableYearSelect&&(h=gi(h,t.year));let p=ot(h),m=it(h);n.value.months.includes(p)&&(h=o(h,u),p=ot(h),m=it(h)),n.value.years.includes(m)&&(h=s(h,u),m=it(h)),i(p,m,u,t.preventMinMaxNavigation)&&l(p,m,c)},l=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},f=ge(()=>u=>V2(xt(Ae(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:a,isDisabled:f,updateMonthYear:l}},Zf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},ti={...Zf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},t9=["title"],n9=["disabled"],r9=Jt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ti},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:o,defaultedMultiCalendars:s,defaultedTextInput:a,defaultedInline:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:c}=Ft(r),{isTimeValid:d,isMonthValid:h}=zo(r),{buildMatrix:p}=Ho(),m=he(null),y=he(null),v=he(!1),_=he({}),b=he(null),g=he(null);yt(()=>{r.arrowNavigation&&p([un(m),un(y)],"actionRow"),w(),window.addEventListener("resize",w)}),La(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var M,O;const P=(M=b.value)==null?void 0:M.getBoundingClientRect(),Q=(O=g.value)==null?void 0:O.getBoundingClientRect();P&&Q&&(_.value.maxWidth=`${Q.width-P.width-20}px`),v.value=!0},0)},k=ge(()=>f.value.enabled&&!f.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),S=ge(()=>!d.value(r.internalModelValue)||!h.value(r.internalModelValue)||!k.value),E=()=>{const M=o.value;return r.timePicker||r.monthPicker,M(mn(r.internalModelValue))},I=()=>{const M=r.internalModelValue;return s.value.count>0?`${x(M[0])} - ${x(M[1])}`:[x(M[0]),x(M[1])]},x=M=>F2(M,o.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,c()),A=ge(()=>!r.internalModelValue||!r.menuMount?"":typeof o.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?I():u.value.enabled?r.internalModelValue.map(M=>`${x(M)}`):r.modelAuto?`${x(r.internalModelValue[0])}`:`${x(r.internalModelValue[0])} -`:x(r.internalModelValue):E()),T=()=>u.value.enabled?"; ":" - ",R=ge(()=>Array.isArray(A.value)?A.value.join(T()):A.value),N=()=>{d.value(r.internalModelValue)&&h.value(r.internalModelValue)&&k.value?n("select-date"):n("invalid-select")};return(M,O)=>(ie(),ue("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[M.$slots["action-row"]?Ne(M.$slots,"action-row",yn(dn({key:0},{internalModelValue:M.internalModelValue,disabled:S.value,selectDate:()=>M.$emit("select-date"),closePicker:()=>M.$emit("close-picker")}))):(ie(),ue(Pe,{key:1},[le(i).showPreview?(ie(),ue("div",{key:0,class:"dp__selection_preview",title:R.value,style:vn(_.value)},[M.$slots["action-preview"]&&v.value?Ne(M.$slots,"action-preview",{key:0,value:M.internalModelValue}):ye("",!0),!M.$slots["action-preview"]&&v.value?(ie(),ue(Pe,{key:1},[hn(Ie(R.value),1)],64)):ye("",!0)],12,t9)):ye("",!0),C("div",{ref_key:"actionBtnContainer",ref:b,class:"dp__action_buttons","data-dp-element":"action-row"},[M.$slots["action-buttons"]?Ne(M.$slots,"action-buttons",{key:0,value:M.internalModelValue}):ye("",!0),M.$slots["action-buttons"]?ye("",!0):(ie(),ue(Pe,{key:1},[!le(l).enabled&&le(i).showCancel?(ie(),ue("button",{key:0,ref_key:"cancelButtonRef",ref:m,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[0]||(O[0]=P=>M.$emit("close-picker")),onKeydown:O[1]||(O[1]=P=>le(dr)(P,()=>M.$emit("close-picker")))},Ie(M.cancelText),545)):ye("",!0),le(i).showNow?(ie(),ue("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[2]||(O[2]=P=>M.$emit("select-now")),onKeydown:O[3]||(O[3]=P=>le(dr)(P,()=>M.$emit("select-now")))},Ie(M.nowButtonLabel),33)):ye("",!0),le(i).showSelect?(ie(),ue("button",{key:2,ref_key:"selectButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_select",disabled:S.value,"data-test":"select-button",onKeydown:O[4]||(O[4]=P=>le(dr)(P,()=>N())),onClick:N},Ie(M.selectText),41,n9)):ye("",!0)],64))],512)],64))],512))}}),i9={class:"dp__selection_grid_header"},o9=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],s9=["aria-label"],Uu=Jt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:o}=Ho(),s=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:f,defaultedConfig:u}=Ft(a),{hideNavigationButtons:c}=nh(),d=he(!1),h=he(null),p=he(null),m=he([]),y=he(),v=he(null),_=he(0),b=he(null);dw(()=>{h.value=null}),yt(()=>{Nn().then(()=>A()),a.noOverlayFocus||w(),g(!0)}),La(()=>g(!1));const g=F=>{var D;a.arrowNavigation&&((D=a.headerRefs)!=null&&D.length?o(F):r(F))},w=()=>{var F;const D=un(p);D&&(f.value.enabled||(h.value?(F=h.value)==null||F.focus({preventScroll:!0}):D.focus({preventScroll:!0})),d.value=D.clientHeight<D.scrollHeight)},k=ge(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),S=ge(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=ge(()=>({dp__overlay_col:!0})),I=ge(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:d.value,dp__button_bottom:a.isLast})),x=ge(()=>{var F,D;return{dp__overlay_container:!0,dp__container_flex:((F=a.items)==null?void 0:F.length)<=6,dp__container_block:((D=a.items)==null?void 0:D.length)>6}});rn(()=>a.items,()=>A(!1),{deep:!0});const A=(F=!0)=>{Nn().then(()=>{const D=un(h),K=un(p),z=un(v),j=un(b),V=z?z.getBoundingClientRect().height:0;K&&(K.getBoundingClientRect().height?_.value=K.getBoundingClientRect().height-V:_.value=u.value.modeHeight-V),D&&j&&F&&(j.scrollTop=D.offsetTop-j.offsetTop-(_.value/2-D.getBoundingClientRect().height)-V)})},T=F=>{F.disabled||s("selected",F.value)},R=()=>{s("toggle"),s("reset-flow")},N=()=>{a.escClose&&R()},M=(F,D,K,z)=>{F&&((D.active||D.value===a.focusValue)&&(h.value=F),a.arrowNavigation&&(Array.isArray(m.value[K])?m.value[K][z]=F:m.value[K]=[F],O()))},O=()=>{var F,D;const K=(F=a.headerRefs)!=null&&F.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[v.value]]);i(mn(K),(D=a.headerRefs)!=null&&D.length?"monthPicker":"selectionGrid")},P=F=>{a.arrowNavigation||Io(F,u.value,!0)},Q=F=>{y.value=F,s("hover-value",F)},H=()=>{if(R(),!a.isLast){const F=S8(a.menuWrapRef??null,"action-row");if(F){const D=C2(F);D==null||D.focus()}}},B=F=>{switch(F.key){case Nt.esc:return N();case Nt.arrowLeft:return P(F);case Nt.arrowRight:return P(F);case Nt.arrowUp:return P(F);case Nt.arrowDown:return P(F);default:return}},$=F=>{if(F.key===Nt.enter)return R();if(F.key===Nt.tab)return H()};return e({focusGrid:w}),(F,D)=>{var K;return ie(),ue("div",{ref_key:"gridWrapRef",ref:p,class:Ge(k.value),style:vn(S.value),role:"dialog",tabindex:"0",onKeydown:B,onClick:D[0]||(D[0]=Pr(()=>{},["prevent"]))},[C("div",{ref_key:"containerRef",ref:b,class:Ge(x.value),role:"grid",style:vn({"--dp-overlay-height":`${_.value}px`})},[C("div",i9,[Ne(F.$slots,"header")]),F.$slots.overlay?Ne(F.$slots,"overlay",{key:0}):(ie(!0),ue(Pe,{key:1},Xe(F.items,(z,j)=>(ie(),ue("div",{key:j,class:Ge(["dp__overlay_row",{dp__flex_row:F.items.length>=3}]),role:"row"},[(ie(!0),ue(Pe,null,Xe(z,(V,J)=>(ie(),ue("div",{key:V.value,ref_for:!0,ref:W=>M(W,V,j,J),role:"gridcell",class:Ge(E.value),"aria-selected":V.active||void 0,"aria-disabled":V.disabled||void 0,tabindex:"0","data-test":V.text,onClick:Pr(W=>T(V),["prevent"]),onKeydown:W=>le(dr)(W,()=>T(V),!0),onMouseover:W=>Q(V.value)},[C("div",{class:Ge(V.className)},[F.$slots.item?Ne(F.$slots,"item",{key:0,item:V}):ye("",!0),F.$slots.item?ye("",!0):(ie(),ue(Pe,{key:1},[hn(Ie(V.text),1)],64))],2)],42,o9))),128))],2))),128))],6),F.$slots["button-icon"]?Et((ie(),ue("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(K=le(l))==null?void 0:K.toggleOverlay,class:Ge(I.value),tabindex:"0",onClick:R,onKeydown:$},[Ne(F.$slots,"button-icon")],42,s9)),[[Ol,!le(c)(F.hideNavigation,F.type)]]):ye("",!0)],38)}}}),eh=Jt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=ge(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ge(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,o)=>(ie(),ue("div",{class:Ge({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(ie(!0),ue(Pe,null,Xe(n.value,(s,a)=>(ie(),ue("div",{key:s,class:Ge(r.value)},[Ne(i.$slots,"default",{instance:s,index:a})],2))),128))],2))}}),a9=["aria-label","aria-disabled"],jl=Jt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=he(null);return yt(()=>n("set-ref",r)),(i,o)=>(ie(),ue("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:o[0]||(o[0]=s=>i.$emit("activate")),onKeydown:o[1]||(o[1]=s=>le(dr)(s,()=>i.$emit("activate"),!0))},[C("span",{class:Ge(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Ne(i.$slots,"default")],2)],40,a9))}}),l9={class:"dp--year-mode-picker"},u9=["aria-label","data-test"],q2=Jt({__name:"YearModePicker",props:{...ti,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:o}=nh(),{defaultedConfig:s,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:f}=Ft(r),{showTransition:u,transitionName:c}=Bu(f),d=(m=!1,y)=>{n("toggle-year-picker",{flow:m,show:y})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,y)=>{var v,_,b;return ie(),ue("div",l9,[le(o)(le(a),t.instance)?(ie(),Ue(jl,{key:0,ref:"mpPrevIconRef","aria-label":(v=le(l))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=g=>p(!1))},{default:ze(()=>[m.$slots["arrow-left"]?Ne(m.$slots,"arrow-left",{key:0}):ye("",!0),m.$slots["arrow-left"]?ye("",!0):(ie(),Ue(le(cy),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),C("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(_=le(l))==null?void 0:_.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:y[1]||(y[1]=()=>d(!1)),onKeydown:y[2]||(y[2]=Nw(()=>d(!1),["enter"]))},[m.$slots.year?Ne(m.$slots,"year",{key:0,year:t.year}):ye("",!0),m.$slots.year?ye("",!0):(ie(),ue(Pe,{key:1},[hn(Ie(t.year),1)],64))],40,u9),le(i)(le(a),t.instance)?(ie(),Ue(jl,{key:1,ref:"mpNextIconRef","aria-label":(b=le(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=g=>p(!0))},{default:ze(()=>[m.$slots["arrow-right"]?Ne(m.$slots,"arrow-right",{key:0}):ye("",!0),m.$slots["arrow-right"]?ye("",!0):(ie(),Ue(le(dy),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),qe(Yr,{name:le(c)(t.showYearPicker),css:le(u)},{default:ze(()=>[t.showYearPicker?(ie(),Ue(Uu,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!le(s).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,type:"year",onToggle:d,onSelected:y[4]||(y[4]=g=>h(g))},Wn({"button-icon":ze(()=>[m.$slots["calendar-icon"]?Ne(m.$slots,"calendar-icon",{key:0}):ye("",!0),m.$slots["calendar-icon"]?ye("",!0):(ie(),Ue(le(Wa),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:g})=>[Ne(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ye("",!0)]),_:3},8,["name","css"])])}}}),by=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>st(t,r))){const r=e.value.filter(i=>!st(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},wy=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Bt(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},th=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},H2=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Ti(Ae(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ti(Ae(t.value),t.timezone))},z2=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Yt(t,e.value[0])||st(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Bt(t,e.value[1])||st(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],K2=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:o,props:s,filters:a,year:l,month:f,emit:u})=>{const c=ge(()=>gy(s.yearRange,s.locale,s.reverseYears)),d=he([!1]),h=ge(()=>(I,x)=>{const A=xt(Ur(new Date),{month:f.value(I),year:l.value(I)}),T=x?m2(A):iy(A);return V2(T,r.value.maxDate,r.value.minDate,s.preventMinMaxNavigation,x)}),p=()=>Array.isArray(o.value)&&t.value.solo&&o.value[1],m=()=>{for(let I=0;I<t.value.count;I++)if(I===0)i.value[I]=i.value[0];else if(I===t.value.count-1&&p())i.value[I]={month:ot(o.value[1]),year:it(o.value[1])};else{const x=xt(Ae(),i.value[I-1]);i.value[I]={month:ot(x),year:it(ry(x,1))}}},y=I=>{if(!I)return m();const x=xt(Ae(),i.value[I]);return i.value[0].year=it(S2(x,t.value.count-1)),m()},v=(I,x)=>{const A=EF(x,I);return e.value.showLastInRange&&A>1?x:I},_=I=>s.focusStartDate||t.value.solo?I[0]:I[1]?v(I[0],I[1]):I[0],b=()=>{if(o.value){const I=Array.isArray(o.value)?_(o.value):o.value;i.value[0]={month:ot(I),year:it(I)}}};yt(()=>{b(),t.value.count&&m()});const g=(I,x)=>{i.value[x].year=I,u("update-month-year",{instance:x,year:I,month:i.value[x].month}),t.value.count&&!t.value.solo&&y(x)},w=ge(()=>I=>Da(c.value,x=>{var A;const T=l.value(I)===x.value,R=gu(x.value,Ma(r.value.minDate),Ma(r.value.maxDate))||((A=a.value.years)==null?void 0:A.includes(l.value(I))),N=_y(n.value,x.value);return{active:T,disabled:R,highlighted:N}})),k=(I,x)=>{g(I,x),E(x)},S=(I,x=!1)=>{if(!h.value(I,x)){const A=x?l.value(I)+1:l.value(I)-1;g(A,I)}},E=(I,x=!1,A)=>{x||u("reset-flow"),A!==void 0?d.value[I]=A:d.value[I]=!d.value[I],d.value[I]?u("overlay-toggle",{open:!0,overlay:Hn.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:Hn.year}))};return{isDisabled:h,groupedYears:w,showYearPicker:d,selectYear:g,toggleYearPicker:E,handleYearSelect:k,handleYear:S}},c9=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,defaultedRange:s,defaultedHighlight:a,propDates:l,defaultedTz:f,defaultedFilters:u,defaultedMultiDates:c}=Ft(t),{modelValue:d,year:h,month:p,calendars:m}=ju(t,e),y=ge(()=>O2(t.formatLocale,t.locale,t.monthNameFormat)),v=he(null),{checkMinMaxRange:_}=zo(t),{selectYear:b,groupedYears:g,showYearPicker:w,toggleYearPicker:k,handleYearSelect:S,handleYear:E,isDisabled:I}=K2({modelValue:d,multiCalendars:n,range:s,highlight:a,calendars:m,year:h,propDates:l,month:p,filters:u,props:t,emit:e});yt(()=>{t.startDate&&(d.value&&t.focusStartDate||!d.value)&&b(it(Ae(t.startDate)),0)});const x=D=>D?{month:ot(D),year:it(D)}:{month:null,year:null},A=()=>d.value?Array.isArray(d.value)?d.value.map(D=>x(D)):x(d.value):x(),T=(D,K)=>{const z=m.value[D],j=A();return Array.isArray(j)?j.some(V=>V.year===(z==null?void 0:z.year)&&V.month===K):(z==null?void 0:z.year)===j.year&&K===j.month},R=(D,K,z)=>{var j,V;const J=A();return Array.isArray(J)?h.value(K)===((j=J[z])==null?void 0:j.year)&&D===((V=J[z])==null?void 0:V.month):!1},N=(D,K)=>{if(s.value.enabled){const z=A();if(Array.isArray(d.value)&&Array.isArray(z)){const j=R(D,K,0)||R(D,K,1),V=Fi(Ur(Ae()),D,h.value(K));return Jf(d.value,v.value,V)&&!j}return!1}return!1},M=ge(()=>D=>Da(y.value,K=>{var z;const j=T(D,K.value),V=gu(K.value,M2(h.value(D),l.value.minDate),N2(h.value(D),l.value.maxDate))||L8(l.value.disabledDates,h.value(D)).includes(K.value)||((z=u.value.months)==null?void 0:z.includes(K.value)),J=N(K.value,D),W=U2(a.value,K.value,h.value(D));return{active:j,disabled:V,isBetween:J,highlighted:W}})),O=(D,K)=>Fi(Ur(Ae()),D,h.value(K)),P=(D,K)=>{const z=d.value?d.value:Ur(new Date);d.value=Fi(z,D,h.value(K)),e("auto-apply"),e("update-flow-step")},Q=(D,K)=>{const z=O(D,K);s.value.fixedEnd||s.value.fixedStart?d.value=z2(z,d,e,s):d.value?_(z,d.value)&&(d.value=wy(d,O(D,K),e)):d.value=[O(D,K)],Nn().then(()=>{th(d.value,e,t.autoApply,t.modelAuto)})},H=(D,K)=>{by(O(D,K),d,c.value.limit),e("auto-apply",!0)},B=(D,K)=>(m.value[K].month=D,F(K,m.value[K].year,D),c.value.enabled?H(D,K):s.value.enabled?Q(D,K):P(D,K)),$=(D,K)=>{b(D,K),F(K,D,null)},F=(D,K,z)=>{let j=z;if(!j&&j!==0){const V=A();j=Array.isArray(V)?V[D].month:V.month}e("update-month-year",{instance:D,year:K,month:j})};return{groupedMonths:M,groupedYears:g,year:h,isDisabled:I,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,showYearPicker:w,modelValue:d,presetDate:(D,K)=>{H2({value:D,modelValue:d,range:s.value.enabled,timezone:K?void 0:f.value.timezone}),e("auto-apply")},setHoverDate:(D,K)=>{v.value=O(D,K)},selectMonth:B,selectYear:$,toggleYearPicker:k,handleYearSelect:S,handleYear:E,getModelMonthYear:A}},d9=Jt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ti},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=Os(),o=Er(i,"yearMode"),s=t;yt(()=>{s.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:f,isDisabled:u,defaultedMultiCalendars:c,defaultedConfig:d,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:y,selectMonth:v,selectYear:_,toggleYearPicker:b,handleYearSelect:g,handleYear:w,getModelMonthYear:k}=c9(s,r);return e({getSidebarProps:()=>({modelValue:p,year:f,getModelMonthYear:k,selectMonth:v,selectYear:_,handleYear:w}),presetDate:m,toggleYearPicker:S=>b(0,S)}),(S,E)=>(ie(),Ue(eh,{"multi-calendars":le(c).count,collapse:S.collapse,stretch:""},{default:ze(({instance:I})=>[S.$slots["top-extra"]?Ne(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):ye("",!0),S.$slots["month-year"]?Ne(S.$slots,"month-year",yn(dn({key:1},{year:le(f),months:le(a)(I),years:le(l)(I),selectMonth:le(v),selectYear:le(_),instance:I}))):(ie(),Ue(Uu,{key:2,items:le(a)(I),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!le(d).keepActionRow,"esc-close":S.escClose,height:le(d).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:x=>le(v)(x,I),onHoverValue:x=>le(y)(x,I)},Wn({header:ze(()=>[qe(q2,dn(S.$props,{items:le(l)(I),instance:I,"show-year-picker":le(h)[I],year:le(f)(I),"is-disabled":x=>le(u)(I,x),onHandleYear:x=>le(w)(I,x),onYearSelect:x=>le(g)(x,I),onToggleYearPicker:x=>le(b)(I,x==null?void 0:x.flow,x==null?void 0:x.show)}),Wn({_:2},[Xe(le(o),(x,A)=>({name:x,fn:ze(T=>[Ne(S.$slots,x,yn(nr(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[S.$slots["month-overlay-value"]?{name:"item",fn:ze(({item:x})=>[Ne(S.$slots,"month-overlay-value",{text:x.text,value:x.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),f9=(t,e)=>{const{modelValue:n}=ju(t,e),r=he(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:a,propDates:l}=Ft(t),f=he();yt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(f.value=it(Ae(t.startDate)))});const u=p=>Array.isArray(n.value)?n.value.some(m=>it(m)===p):n.value?it(n.value)===p:!1,c=p=>a.value.enabled&&Array.isArray(n.value)?Jf(n.value,r.value,h(p)):!1,d=ge(()=>Da(gy(t.yearRange,t.locale,t.reverseYears),p=>{const m=u(p.value),y=gu(p.value,Ma(l.value.minDate),Ma(l.value.maxDate))||s.value.years.includes(p.value),v=c(p.value)&&!m,_=_y(i.value,p.value);return{active:m,disabled:y,isBetween:v,highlighted:_}})),h=p=>gi(Ur(new Date),p);return{groupedYears:d,modelValue:n,focusYear:f,setHoverValue:p=>{r.value=gi(Ur(new Date),p)},selectYear:p=>{var m;if(e("update-month-year",{instance:0,year:p}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((m=n.value)==null?void 0:m.map(y=>it(y))).includes(p)?n.value=n.value.filter(y=>it(y)!==p):n.value.push(gi(ir(Ae()),p))):n.value=[gi(ir(Ae()),p)],e("auto-apply",!0);a.value.enabled?(n.value=wy(n,h(p),e),Nn().then(()=>{th(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},h9=Jt({compatConfig:{MODE:3},__name:"YearPicker",props:{...ti},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:o,modelValue:s,focusYear:a,selectYear:l,setHoverValue:f}=f9(i,r),{defaultedConfig:u}=Ft(i);return e({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(c,d)=>(ie(),ue("div",null,[c.$slots["top-extra"]?Ne(c.$slots,"top-extra",{key:0,value:c.internalModelValue}):ye("",!0),c.$slots["month-year"]?Ne(c.$slots,"month-year",yn(dn({key:1},{years:le(o),selectYear:le(l)}))):(ie(),Ue(Uu,{key:2,items:le(o),"is-last":c.autoApply&&!le(u).keepActionRow,height:le(u).modeHeight,config:c.config,"no-overlay-focus":!!(c.noOverlayFocus||c.textInput),"focus-value":le(a),type:"year","use-relative":"",onSelected:le(l),onHoverValue:le(f)},Wn({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:h})=>[Ne(c.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),p9={key:0,class:"dp__time_input"},m9=["data-test","aria-label","onKeydown","onClick","onMousedown"],g9=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),v9=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),y9=["aria-label","disabled","data-test","onKeydown","onClick"],_9=["data-test","aria-label","onKeydown","onClick","onMousedown"],b9=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),w9=C("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),E9={key:0},T9=["aria-label"],A9=Jt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ti},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:o,setTimePickerBackRef:s}=Ho(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:f,defaultedConfig:u,defaultedRange:c}=Ft(i),{transitionName:d,showTransition:h}=Bu(l),p=Dr({hours:!1,minutes:!1,seconds:!1}),m=he("AM"),y=he(null),v=he([]),_=he();yt(()=>{r("mounted")});const b=Z=>xt(new Date,{hours:Z.hours,minutes:Z.minutes,seconds:i.enableSeconds?Z.seconds:0,milliseconds:0}),g=ge(()=>Z=>O(Z,i[Z])||k(Z,i[Z])),w=ge(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),k=(Z,q)=>c.value.enabled&&!c.value.disableTimeRangeValidation?!i.validateTime(Z,q):!1,S=(Z,q)=>{if(c.value.enabled&&!c.value.disableTimeRangeValidation){const G=q?+i[`${Z}Increment`]:-+i[`${Z}Increment`],Y=i[Z]+G;return!i.validateTime(Z,Y)}return!1},E=ge(()=>Z=>!$(+i[Z]+ +i[`${Z}Increment`],Z)||S(Z,!0)),I=ge(()=>Z=>!$(+i[Z]-+i[`${Z}Increment`],Z)||S(Z,!1)),x=(Z,q)=>l2(xt(Ae(),Z),q),A=(Z,q)=>v8(xt(Ae(),Z),q),T=ge(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),R=ge(()=>{const Z=[{type:"hours"}];return i.enableMinutes&&Z.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Z.push({type:"",separator:!0},{type:"seconds"}),Z}),N=ge(()=>R.value.filter(Z=>!Z.separator)),M=ge(()=>Z=>{if(Z==="hours"){const q=V(+i.hours);return{text:q<10?`0${q}`:`${q}`,value:q}}return{text:i[Z]<10?`0${i[Z]}`:`${i[Z]}`,value:i[Z]}}),O=(Z,q)=>{var G;if(!i.disabledTimesConfig)return!1;const Y=i.disabledTimesConfig(i.order,Z==="hours"?q:void 0);return Y[Z]?!!((G=Y[Z])!=null&&G.includes(q)):!0},P=(Z,q)=>q!=="hours"||m.value==="AM"?Z:Z+12,Q=Z=>{const q=i.is24?24:12,G=Z==="hours"?q:60,Y=+i[`${Z}GridIncrement`],de=Z==="hours"&&!i.is24?Y:0,ee=[];for(let U=de;U<G;U+=Y)ee.push({value:i.is24?U:P(U,Z),text:U<10?`0${U}`:`${U}`});return Z==="hours"&&!i.is24&&ee.unshift({value:m.value==="PM"?12:0,text:"12"}),Da(ee,U=>({active:!1,disabled:f.value.times[Z].includes(U.value)||!$(U.value,Z)||O(Z,U.value)||k(Z,U.value)}))},H=Z=>Z>=0?Z:59,B=Z=>Z>=0?Z:23,$=(Z,q)=>{const G=i.minTime?b(Cp(i.minTime)):null,Y=i.maxTime?b(Cp(i.maxTime)):null,de=b(Cp(w.value,q,q==="minutes"||q==="seconds"?H(Z):B(Z)));return G&&Y?(mu(de,Y)||ra(de,Y))&&(Pa(de,G)||ra(de,G)):G?Pa(de,G)||ra(de,G):Y?mu(de,Y)||ra(de,Y):!0},F=Z=>i[`no${Z[0].toUpperCase()+Z.slice(1)}Overlay`],D=Z=>{F(Z)||(p[Z]=!p[Z],p[Z]?r("overlay-opened",Z):r("overlay-closed",Z))},K=Z=>Z==="hours"?Gi:Z==="minutes"?No:Oa,z=()=>{_.value&&clearTimeout(_.value)},j=(Z,q=!0,G)=>{const Y=q?x:A,de=q?+i[`${Z}Increment`]:-+i[`${Z}Increment`];$(+i[Z]+de,Z)&&r(`update:${Z}`,K(Z)(Y({[Z]:+i[Z]},{[Z]:+i[`${Z}Increment`]}))),!(G!=null&&G.keyboard)&&u.value.timeArrowHoldThreshold&&(_.value=setTimeout(()=>{j(Z,q)},u.value.timeArrowHoldThreshold))},V=Z=>i.is24?Z:(Z>=12?m.value="PM":m.value="AM",T8(Z)),J=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},W=Z=>{p[Z]=!0},oe=(Z,q,G)=>{if(Z&&i.arrowNavigation){Array.isArray(v.value[q])?v.value[q][G]=Z:v.value[q]=[Z];const Y=v.value.reduce((de,ee)=>ee.map((U,te)=>[...de[te]||[],ee[te]]),[]);s(i.closeTimePickerBtn),y.value&&(Y[1]=Y[1].concat(y.value)),o(Y,i.order)}},ce=(Z,q)=>(D(Z),r(`update:${Z}`,q));return e({openChildCmp:W}),(Z,q)=>{var G;return Z.disabled?ye("",!0):(ie(),ue("div",p9,[(ie(!0),ue(Pe,null,Xe(R.value,(Y,de)=>{var ee,U,te;return ie(),ue("div",{key:de,class:Ge(T.value)},[Y.separator?(ie(),ue(Pe,{key:0},[hn(" : ")],64)):(ie(),ue(Pe,{key:1},[C("button",{ref_for:!0,ref:re=>oe(re,de,0),type:"button",class:Ge({dp__btn:!0,dp__inc_dec_button:!Z.timePickerInline,dp__inc_dec_button_inline:Z.timePickerInline,dp__tp_inline_btn_top:Z.timePickerInline,dp__inc_dec_button_disabled:E.value(Y.type)}),"data-test":`${Y.type}-time-inc-btn-${i.order}`,"aria-label":(ee=le(a))==null?void 0:ee.incrementValue(Y.type),tabindex:"0",onKeydown:re=>le(dr)(re,()=>j(Y.type,!0,{keyboard:!0}),!0),onClick:re=>le(u).timeArrowHoldThreshold?void 0:j(Y.type,!0),onMousedown:re=>le(u).timeArrowHoldThreshold?j(Y.type,!0):void 0,onMouseup:z},[i.timePickerInline?(ie(),ue(Pe,{key:1},[g9,v9],64)):(ie(),ue(Pe,{key:0},[Z.$slots["arrow-up"]?Ne(Z.$slots,"arrow-up",{key:0}):ye("",!0),Z.$slots["arrow-up"]?ye("",!0):(ie(),Ue(le(hy),{key:1}))],64))],42,m9),C("button",{ref_for:!0,ref:re=>oe(re,de,1),type:"button","aria-label":(U=le(a))==null?void 0:U.openTpOverlay(Y.type),class:Ge({dp__time_display:!0,dp__time_display_block:!Z.timePickerInline,dp__time_display_inline:Z.timePickerInline,"dp--time-invalid":g.value(Y.type),"dp--time-overlay-btn":!g.value(Y.type)}),disabled:F(Y.type),tabindex:"0","data-test":`${Y.type}-toggle-overlay-btn-${i.order}`,onKeydown:re=>le(dr)(re,()=>D(Y.type),!0),onClick:re=>D(Y.type)},[Z.$slots[Y.type]?Ne(Z.$slots,Y.type,{key:0,text:M.value(Y.type).text,value:M.value(Y.type).value}):ye("",!0),Z.$slots[Y.type]?ye("",!0):(ie(),ue(Pe,{key:1},[hn(Ie(M.value(Y.type).text),1)],64))],42,y9),C("button",{ref_for:!0,ref:re=>oe(re,de,2),type:"button",class:Ge({dp__btn:!0,dp__inc_dec_button:!Z.timePickerInline,dp__inc_dec_button_inline:Z.timePickerInline,dp__tp_inline_btn_bottom:Z.timePickerInline,dp__inc_dec_button_disabled:I.value(Y.type)}),"data-test":`${Y.type}-time-dec-btn-${i.order}`,"aria-label":(te=le(a))==null?void 0:te.decrementValue(Y.type),tabindex:"0",onKeydown:re=>le(dr)(re,()=>j(Y.type,!1,{keyboard:!0}),!0),onClick:re=>le(u).timeArrowHoldThreshold?void 0:j(Y.type,!1),onMousedown:re=>le(u).timeArrowHoldThreshold?j(Y.type,!1):void 0,onMouseup:z},[i.timePickerInline?(ie(),ue(Pe,{key:1},[b9,w9],64)):(ie(),ue(Pe,{key:0},[Z.$slots["arrow-down"]?Ne(Z.$slots,"arrow-down",{key:0}):ye("",!0),Z.$slots["arrow-down"]?ye("",!0):(ie(),Ue(le(py),{key:1}))],64))],42,_9)],64))],2)}),128)),Z.is24?ye("",!0):(ie(),ue("div",E9,[Z.$slots["am-pm-button"]?Ne(Z.$slots,"am-pm-button",{key:0,toggle:J,value:m.value}):ye("",!0),Z.$slots["am-pm-button"]?ye("",!0):(ie(),ue("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(G=le(a))==null?void 0:G.amPmButton,tabindex:"0",onClick:J,onKeydown:q[0]||(q[0]=Y=>le(dr)(Y,()=>J(),!0))},Ie(m.value),41,T9))])),(ie(!0),ue(Pe,null,Xe(N.value,(Y,de)=>(ie(),Ue(Yr,{key:de,name:le(d)(p[Y.type]),css:le(h)},{default:ze(()=>[p[Y.type]?(ie(),Ue(Uu,{key:0,items:Q(Y.type),"is-last":Z.autoApply&&!le(u).keepActionRow,"esc-close":Z.escClose,type:Y.type,"text-input":Z.textInput,config:Z.config,"arrow-navigation":Z.arrowNavigation,"aria-labels":Z.ariaLabels,onSelected:ee=>ce(Y.type,ee),onToggle:ee=>D(Y.type),onResetFlow:q[1]||(q[1]=ee=>Z.$emit("reset-flow"))},Wn({"button-icon":ze(()=>[Z.$slots["clock-icon"]?Ne(Z.$slots,"clock-icon",{key:0}):ye("",!0),Z.$slots["clock-icon"]?ye("",!0):(ie(),Ue(Qd(Z.timePickerInline?le(Wa):le(fy)),{key:1}))]),_:2},[Z.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:ze(({item:ee})=>[Ne(Z.$slots,`${Y.type}-overlay-value`,{text:ee.text,value:ee.value})]),key:"0"}:void 0,Z.$slots[`${Y.type}-overlay-header`]?{name:"header",fn:ze(()=>[Ne(Z.$slots,`${Y.type}-overlay-header`,{toggle:()=>D(Y.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),k9={class:"dp--tp-wrap"},x9=["aria-label","tabindex"],I9=["tabindex"],S9=["aria-label"],W2=Jt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ti},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:o,setTimePicker:s}=Ho(),a=Os(),{defaultedTransitions:l,defaultedAriaLabels:f,defaultedTextInput:u,defaultedConfig:c,defaultedRange:d}=Ft(i),{transitionName:h,showTransition:p}=Bu(l),{hideNavigationButtons:m}=nh(),y=he(null),v=he(null),_=he([]),b=he(null);yt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?o([un(y.value)],"time"):s(!0,i.timePicker)});const g=ge(()=>d.value.enabled&&i.modelAuto?P2(i.internalModelValue):!0),w=he(!1),k=P=>({hours:Array.isArray(i.hours)?i.hours[P]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[P]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[P]:i.seconds}),S=ge(()=>{const P=[];if(d.value.enabled)for(let Q=0;Q<2;Q++)P.push(k(Q));else P.push(k(0));return P}),E=(P,Q=!1,H="")=>{Q||r("reset-flow"),w.value=P,r(P?"overlay-opened":"overlay-closed",Hn.time),i.arrowNavigation&&s(P),Nn(()=>{H!==""&&_.value[0]&&_.value[0].openChildCmp(H)})},I=ge(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!c.value.keepActionRow})),x=Er(a,"timePicker"),A=(P,Q,H)=>d.value.enabled?Q===0?[P,S.value[1][H]]:[S.value[0][H],P]:P,T=P=>{r("update:hours",P)},R=P=>{r("update:minutes",P)},N=P=>{r("update:seconds",P)},M=()=>{if(b.value&&!u.value.enabled&&!i.noOverlayFocus){const P=C2(b.value);P&&P.focus({preventScroll:!0})}},O=P=>{r("overlay-closed",P)};return e({toggleTimePicker:E}),(P,Q)=>{var H;return ie(),ue("div",k9,[!P.timePicker&&!P.timePickerInline?Et((ie(),ue("button",{key:0,ref_key:"openTimePickerBtn",ref:y,type:"button",class:Ge(I.value),"aria-label":(H=le(f))==null?void 0:H.openTimePicker,tabindex:P.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:Q[0]||(Q[0]=B=>le(dr)(B,()=>E(!0))),onClick:Q[1]||(Q[1]=B=>E(!0))},[P.$slots["clock-icon"]?Ne(P.$slots,"clock-icon",{key:0}):ye("",!0),P.$slots["clock-icon"]?ye("",!0):(ie(),Ue(le(fy),{key:1}))],42,x9)),[[Ol,!le(m)(P.hideNavigation,"time")]]):ye("",!0),qe(Yr,{name:le(h)(w.value),css:le(p)&&!P.timePickerInline},{default:ze(()=>{var B;return[w.value||P.timePicker||P.timePickerInline?(ie(),ue("div",{key:0,ref_key:"overlayRef",ref:b,class:Ge({dp__overlay:!P.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!P.timePickerInline,"dp--overlay-relative":i.timePicker}),style:vn(P.timePicker?{height:`${le(c).modeHeight}px`}:void 0),tabindex:P.timePickerInline?void 0:0},[C("div",{class:Ge(P.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[P.$slots["time-picker-overlay"]?Ne(P.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:T,setMinutes:R,setSeconds:N}):ye("",!0),P.$slots["time-picker-overlay"]?ye("",!0):(ie(),ue("div",{key:1,class:Ge(P.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ie(!0),ue(Pe,null,Xe(S.value,($,F)=>Et((ie(),Ue(A9,dn({key:F,ref_for:!0},{...P.$props,order:F,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:F===0?P.fixedStart:P.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:_,"validate-time":(D,K)=>t.validateTime(D,A(K,F,D)),"onUpdate:hours":D=>T(A(D,F,"hours")),"onUpdate:minutes":D=>R(A(D,F,"minutes")),"onUpdate:seconds":D=>N(A(D,F,"seconds")),onMounted:M,onOverlayClosed:O,onOverlayOpened:Q[2]||(Q[2]=D=>P.$emit("overlay-opened",D)),onAmPmChange:Q[3]||(Q[3]=D=>P.$emit("am-pm-change",D))}),Wn({_:2},[Xe(le(x),(D,K)=>({name:D,fn:ze(z=>[Ne(P.$slots,D,dn({ref_for:!0},z))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ol,F===0?!0:g.value]])),128))],2)),!P.timePicker&&!P.timePickerInline?Et((ie(),ue("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:Ge(I.value),"aria-label":(B=le(f))==null?void 0:B.closeTimePicker,tabindex:"0",onKeydown:Q[4]||(Q[4]=$=>le(dr)($,()=>E(!1))),onClick:Q[5]||(Q[5]=$=>E(!1))},[P.$slots["calendar-icon"]?Ne(P.$slots,"calendar-icon",{key:0}):ye("",!0),P.$slots["calendar-icon"]?ye("",!0):(ie(),Ue(le(Wa),{key:1}))],42,S9)),[[Ol,!le(m)(P.hideNavigation,"time")]]):ye("",!0)],2)],14,I9)):ye("",!0)]}),_:3},8,["name","css"])])}}}),Y2=(t,e,n,r)=>{const{defaultedRange:i}=Ft(t),o=(b,g)=>Array.isArray(e[b])?e[b][g]:e[b],s=b=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[b]:e.seconds:0,a=(b,g)=>b?g!==void 0?So(b,o("hours",g),o("minutes",g),s(g)):So(b,e.hours,e.minutes,s()):I2(Ae(),s(g)),l=(b,g)=>{e[b]=g},f=ge(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),u=(b,g)=>{const w=Object.fromEntries(Object.keys(e).map(k=>k===b?[k,g]:[k,e[k]].slice()));if(f.value&&!i.value.disableTimeRangeValidation){const k=E=>n.value?So(n.value[E],w.hours[E],w.minutes[E],w.seconds[E]):null,S=E=>x2(n.value[E],0);return!(st(k(0),k(1))&&(Pa(k(0),S(1))||mu(k(1),S(0))))}return!0},c=(b,g)=>{u(b,g)&&(l(b,g),r&&r())},d=b=>{c("hours",b)},h=b=>{c("minutes",b)},p=b=>{c("seconds",b)},m=(b,g,w,k)=>{g&&d(b),!g&&!w&&h(b),w&&p(b),n.value&&k(n.value)},y=b=>{if(b){const g=Array.isArray(b),w=g?[+b[0].hours,+b[1].hours]:+b.hours,k=g?[+b[0].minutes,+b[1].minutes]:+b.minutes,S=g?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",w),l("minutes",k),t.enableSeconds&&l("seconds",S)}},v=(b,g)=>{const w={hours:Array.isArray(e.hours)?e.hours[b]:e.hours,disabledArr:[]};return(g||g===0)&&(w.hours=g),Array.isArray(t.disabledTimes)&&(w.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),w},_=ge(()=>(b,g)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:k,hours:S}=v(b,g),E=k.filter(I=>+I.hours===S);return((w=E[0])==null?void 0:w.minutes)==="*"?{hours:[S],minutes:void 0,seconds:void 0}:{hours:[],minutes:(E==null?void 0:E.map(I=>+I.minutes))??[],seconds:(E==null?void 0:E.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:d,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:m,getSecondsValue:s,assignStartTime:y,validateTime:u,disabledTimesConfig:_}},R9=(t,e)=>{const{modelValue:n,time:r}=ju(t,e),{defaultedStartTime:i,defaultedRange:o}=Ft(t),{updateTimeValues:s,getSetDateTime:a,setTime:l,assignStartTime:f,disabledTimesConfig:u,validateTime:c}=Y2(t,r,n,d);function d(){e("update-flow-step")}const h=g=>{const{hours:w,minutes:k,seconds:S}=g;return{hours:+w,minutes:+k,seconds:S?+S:0}},p=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),k=h(t.startTime[1]);return[xt(Ae(),w),xt(Ae(),k)]}const g=h(t.startTime);return xt(Ae(),g)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[g,w]=p();n.value=[a(g,0),a(w,1)]}else n.value=a(p())},y=g=>Array.isArray(g)?[gs(Ae(g[0])),gs(Ae(g[1]))]:[gs(g??Ae())],v=(g,w,k)=>{l("hours",g),l("minutes",w),l("seconds",t.enableSeconds?k:0)},_=()=>{const[g,w]=y(n.value);return o.value.enabled?v([g.hours,w.hours],[g.minutes,w.minutes],[g.seconds,w.seconds]):v(g.hours,g.minutes,g.seconds)};yt(()=>{if(!t.shadow)return f(i.value),n.value?_():m()});const b=()=>{Array.isArray(n.value)?n.value=n.value.map((g,w)=>g&&a(g,w)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(g,w=!0,k=!1)=>{s(g,w,k,b)},validateTime:c}},O9=Jt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ti},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=Os(),s=Er(o,"timePicker"),a=he(null),{time:l,modelValue:f,disabledTimesConfig:u,updateTime:c,validateTime:d}=R9(i,r);return yt(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:f,time:l,updateTime:c}),toggleTimePicker:(h,p=!1,m="")=>{var y;(y=a.value)==null||y.toggleTimePicker(h,p,m)}}),(h,p)=>(ie(),Ue(eh,{"multi-calendars":0,stretch:""},{default:ze(()=>[qe(W2,dn({ref_key:"tpRef",ref:a},h.$props,{hours:le(l).hours,minutes:le(l).minutes,seconds:le(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":le(u),"validate-time":le(d),"onUpdate:hours":p[0]||(p[0]=m=>le(c)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>le(c)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>le(c)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m)),onResetFlow:p[4]||(p[4]=m=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=m=>h.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:p[6]||(p[6]=m=>h.$emit("overlay-toggle",{open:!0,overlay:m}))}),Wn({_:2},[Xe(le(s),(m,y)=>({name:m,fn:ze(v=>[Ne(h.$slots,m,yn(nr(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),P9={class:"dp--header-wrap"},C9={key:0,class:"dp__month_year_wrap"},D9={key:0},M9={class:"dp__month_year_wrap"},N9=["aria-label","data-test","onClick","onKeydown"],L9=Jt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ti},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:o,defaultedAriaLabels:s,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:f,defaultedHighlight:u,propDates:c}=Ft(i),{transitionName:d,showTransition:h}=Bu(o),{buildMatrix:p}=Ho(),{handleMonthYearChange:m,isDisabled:y,updateMonthYear:v}=e9(i,r),{showLeftIcon:_,showRightIcon:b}=nh(),g=he(!1),w=he(!1),k=he([null,null,null,null]);yt(()=>{r("mount")});const S=$=>({get:()=>i[$],set:F=>{const D=$===$r.month?$r.year:$r.month;r("update-month-year",{[$]:F,[D]:i[D]}),$===$r.month?M(!0):O(!0)}}),E=ge(S($r.month)),I=ge(S($r.year)),x=ge(()=>$=>({month:i.month,year:i.year,items:$===$r.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:$===$r.month?M:O})),A=ge(()=>i.months.find(F=>F.value===i.month)||{text:"",value:0}),T=ge(()=>Da(i.months,$=>{const F=i.month===$.value,D=gu($.value,M2(i.year,c.value.minDate),N2(i.year,c.value.maxDate))||l.value.months.includes($.value),K=U2(u.value,$.value,i.year);return{active:F,disabled:D,highlighted:K}})),R=ge(()=>Da(i.years,$=>{const F=i.year===$.value,D=gu($.value,Ma(c.value.minDate),Ma(c.value.maxDate))||l.value.years.includes($.value),K=_y(u.value,$.value);return{active:F,disabled:D,highlighted:K}})),N=($,F,D)=>{D!==void 0?$.value=D:$.value=!$.value,$.value?r("overlay-opened",F):r("overlay-closed",F)},M=($=!1,F)=>{P($),N(g,Hn.month,F)},O=($=!1,F)=>{P($),N(w,Hn.year,F)},P=$=>{$||r("reset-flow")},Q=($,F)=>{i.arrowNavigation&&(k.value[F]=un($),p(k.value,"monthYear"))},H=ge(()=>{var $,F;return[{type:$r.month,index:1,toggle:M,modelValue:E.value,updateModelValue:D=>E.value=D,text:A.value.text,showSelectionGrid:g.value,items:T.value,ariaLabel:($=s.value)==null?void 0:$.openMonthsOverlay},{type:$r.year,index:2,toggle:O,modelValue:I.value,updateModelValue:D=>I.value=D,text:D2(i.year,i.locale),showSelectionGrid:w.value,items:R.value,ariaLabel:(F=s.value)==null?void 0:F.openYearsOverlay}]}),B=ge(()=>i.disableYearSelect?[H.value[0]]:i.yearFirst?[...H.value].reverse():H.value);return e({toggleMonthPicker:M,toggleYearPicker:O,handleMonthYearChange:m}),($,F)=>{var D,K,z;return ie(),ue("div",P9,[$.$slots["month-year"]?(ie(),ue("div",C9,[Ne($.$slots,"month-year",yn(nr({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:le(v),handleMonthYearChange:le(m),instance:t.instance})))])):(ie(),ue(Pe,{key:1},[$.$slots["top-extra"]?(ie(),ue("div",D9,[Ne($.$slots,"top-extra",{value:$.internalModelValue})])):ye("",!0),C("div",M9,[le(_)(le(a),t.instance)&&!$.vertical?(ie(),Ue(jl,{key:0,"aria-label":(D=le(s))==null?void 0:D.prevMonth,disabled:le(y)(!1),onActivate:F[0]||(F[0]=j=>le(m)(!1,!0)),onSetRef:F[1]||(F[1]=j=>Q(j,0))},{default:ze(()=>[$.$slots["arrow-left"]?Ne($.$slots,"arrow-left",{key:0}):ye("",!0),$.$slots["arrow-left"]?ye("",!0):(ie(),Ue(le(cy),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),C("div",{class:Ge(["dp__month_year_wrap",{dp__year_disable_select:$.disableYearSelect}])},[(ie(!0),ue(Pe,null,Xe(B.value,(j,V)=>(ie(),ue(Pe,{key:j.type},[C("button",{ref_for:!0,ref:J=>Q(J,V+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":j.ariaLabel,"data-test":`${j.type}-toggle-overlay-${t.instance}`,onClick:j.toggle,onKeydown:J=>le(dr)(J,()=>j.toggle(),!0)},[$.$slots[j.type]?Ne($.$slots,j.type,{key:0,text:j.text,value:i[j.type]}):ye("",!0),$.$slots[j.type]?ye("",!0):(ie(),ue(Pe,{key:1},[hn(Ie(j.text),1)],64))],40,N9),qe(Yr,{name:le(d)(j.showSelectionGrid),css:le(h)},{default:ze(()=>[j.showSelectionGrid?(ie(),Ue(Uu,{key:0,items:j.items,"arrow-navigation":$.arrowNavigation,"hide-navigation":$.hideNavigation,"is-last":$.autoApply&&!le(f).keepActionRow,"skip-button-ref":!1,config:$.config,type:j.type,"header-refs":[],"esc-close":$.escClose,"menu-wrap-ref":$.menuWrapRef,"text-input":$.textInput,"aria-labels":$.ariaLabels,onSelected:j.updateModelValue,onToggle:j.toggle},Wn({"button-icon":ze(()=>[$.$slots["calendar-icon"]?Ne($.$slots,"calendar-icon",{key:0}):ye("",!0),$.$slots["calendar-icon"]?ye("",!0):(ie(),Ue(le(Wa),{key:1}))]),_:2},[$.$slots[`${j.type}-overlay-value`]?{name:"item",fn:ze(({item:J})=>[Ne($.$slots,`${j.type}-overlay-value`,{text:J.text,value:J.value})]),key:"0"}:void 0,$.$slots[`${j.type}-overlay`]?{name:"overlay",fn:ze(()=>[Ne($.$slots,`${j.type}-overlay`,dn({ref_for:!0},x.value(j.type)))]),key:"1"}:void 0,$.$slots[`${j.type}-overlay-header`]?{name:"header",fn:ze(()=>[Ne($.$slots,`${j.type}-overlay-header`,{toggle:j.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"])],64))),128))],2),le(_)(le(a),t.instance)&&$.vertical?(ie(),Ue(jl,{key:1,"aria-label":(K=le(s))==null?void 0:K.prevMonth,disabled:le(y)(!1),onActivate:F[2]||(F[2]=j=>le(m)(!1,!0))},{default:ze(()=>[$.$slots["arrow-up"]?Ne($.$slots,"arrow-up",{key:0}):ye("",!0),$.$slots["arrow-up"]?ye("",!0):(ie(),Ue(le(hy),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),le(b)(le(a),t.instance)?(ie(),Ue(jl,{key:2,ref:"rightIcon",disabled:le(y)(!0),"aria-label":(z=le(s))==null?void 0:z.nextMonth,onActivate:F[3]||(F[3]=j=>le(m)(!0,!0)),onSetRef:F[4]||(F[4]=j=>Q(j,$.disableYearSelect?2:3))},{default:ze(()=>[$.$slots[$.vertical?"arrow-down":"arrow-right"]?Ne($.$slots,$.vertical?"arrow-down":"arrow-right",{key:0}):ye("",!0),$.$slots[$.vertical?"arrow-down":"arrow-right"]?ye("",!0):(ie(),Ue(Qd($.vertical?le(py):le(dy)),{key:1}))]),_:3},8,["disabled","aria-label"])):ye("",!0)])],64))])}}}),$9=["aria-label"],V9={class:"dp__calendar_header",role:"row"},F9={key:0,class:"dp__calendar_header_item",role:"gridcell"},U9=["aria-label"],B9=C("div",{class:"dp__calendar_header_separator"},null,-1),j9=["aria-label"],q9={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},H9={class:"dp__cell_inner"},z9=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],K9=Jt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ti},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:o}=Ho(),{defaultedTransitions:s,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:f,defaultedWeekNumbers:u,defaultedMultiDates:c}=Ft(i),d=he(null),h=he({bottom:"",left:"",transform:""}),p=he([]),m=he(null),y=he(!0),v=he(""),_=he({startX:0,endX:0,startY:0,endY:0}),b=he([]),g=he({left:"50%"}),w=he(!1),k=ge(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),S=ge(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):E8(i.formatLocale,i.locale,+i.weekStart));yt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",Q,{passive:!1}),m.value.addEventListener("touchend",H,{passive:!1}),m.value.addEventListener("touchmove",B,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",D,{passive:!1})});const E=W=>W?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",I=(W,oe)=>{if(i.transitions){const ce=ir(Fi(Ae(),i.month,i.year));v.value=Yt(ir(Fi(Ae(),W,oe)),ce)?s.value[E(!0)]:s.value[E(!1)],y.value=!1,Nn(()=>{y.value=!0})}},x=ge(()=>({[i.calendarClassName]:!!i.calendarClassName})),A=ge(()=>W=>{const oe=A8(W);return{dp__marker_dot:oe.type==="dot",dp__marker_line:oe.type==="line"}}),T=ge(()=>W=>st(W,d.value)),R=ge(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&i.instance!==0})),N=ge(()=>W=>i.hideOffsetDates?W.current:!0),M=async(W,oe,ce)=>{const Z=un(p.value[oe][ce]);if(Z){const{width:q,height:G}=Z.getBoundingClientRect();d.value=W.value;let Y={left:`${q/2}px`},de=-50;if(await Nn(),b.value[0]){const{left:ee,width:U}=b.value[0].getBoundingClientRect();ee<0&&(Y={left:"0"},de=0,g.value.left=`${q/2}px`),window.innerWidth<ee+U&&(Y={right:"0"},de=0,g.value.left=`${U-q/2}px`)}h.value={bottom:`${G}px`,...Y,transform:`translateX(${de}%)`},r("tooltip-open",W.marker)}},O=async(W,oe,ce)=>{var Z,q;if(w.value&&c.value.enabled&&c.value.dragSelect)return r("select-date",W);r("set-hover-date",W),(q=(Z=W.marker)==null?void 0:Z.tooltip)!=null&&q.length&&await M(W,oe,ce)},P=W=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",W.marker))},Q=W=>{_.value.startX=W.changedTouches[0].screenX,_.value.startY=W.changedTouches[0].screenY},H=W=>{_.value.endX=W.changedTouches[0].screenX,_.value.endY=W.changedTouches[0].screenY,$()},B=W=>{i.vertical&&!i.inline&&W.preventDefault()},$=()=>{const W=i.vertical?"Y":"X";Math.abs(_.value[`start${W}`]-_.value[`end${W}`])>10&&r("handle-swipe",_.value[`start${W}`]>_.value[`end${W}`]?"right":"left")},F=(W,oe,ce)=>{W&&(Array.isArray(p.value[oe])?p.value[oe][ce]=W:p.value[oe]=[W]),i.arrowNavigation&&o(p.value,"calendar")},D=W=>{i.monthChangeOnScroll&&(W.preventDefault(),r("handle-scroll",W))},K=W=>u.value.type==="local"?ay(W.value,{weekStartsOn:+i.weekStart}):u.value.type==="iso"?oy(W.value):typeof u.value.type=="function"?u.value.type(W.value):"",z=W=>{const oe=W[0];return u.value.hideOnOffsetDates?W.some(ce=>ce.current)?K(oe):"":K(oe)},j=(W,oe)=>{c.value.enabled||(Io(W,a.value),r("select-date",oe))},V=W=>{Io(W,a.value)},J=W=>{c.value.enabled&&c.value.dragSelect?(w.value=!0,r("select-date",W)):c.value.enabled&&r("select-date",W)};return e({triggerTransition:I}),(W,oe)=>{var ce;return ie(),ue("div",{class:Ge(R.value)},[C("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:Ge(x.value),"aria-label":(ce=le(l))==null?void 0:ce.calendarWrap},[C("div",V9,[W.weekNumbers?(ie(),ue("div",F9,Ie(W.weekNumName),1)):ye("",!0),(ie(!0),ue(Pe,null,Xe(S.value,(Z,q)=>{var G,Y;return ie(),ue("div",{key:q,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(Y=(G=le(l))==null?void 0:G.weekDay)==null?void 0:Y.call(G,q)},[W.$slots["calendar-header"]?Ne(W.$slots,"calendar-header",{key:0,day:Z,index:q}):ye("",!0),W.$slots["calendar-header"]?ye("",!0):(ie(),ue(Pe,{key:1},[hn(Ie(Z),1)],64))],8,U9)}),128))]),B9,qe(Yr,{name:v.value,css:!!W.transitions},{default:ze(()=>{var Z;return[y.value?(ie(),ue("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Z=le(l))==null?void 0:Z.calendarDays)||void 0,onMouseleave:oe[1]||(oe[1]=q=>w.value=!1)},[(ie(!0),ue(Pe,null,Xe(k.value,(q,G)=>(ie(),ue("div",{key:G,class:"dp__calendar_row",role:"row"},[W.weekNumbers?(ie(),ue("div",q9,[C("div",H9,Ie(z(q.days)),1)])):ye("",!0),(ie(!0),ue(Pe,null,Xe(q.days,(Y,de)=>{var ee,U,te;return ie(),ue("div",{id:le(B2)(Y.value),ref_for:!0,ref:re=>F(re,G,de),key:de+G,role:"gridcell",class:"dp__calendar_item","aria-selected":(Y.classData.dp__active_date||Y.classData.dp__range_start||Y.classData.dp__range_start)??void 0,"aria-disabled":Y.classData.dp__cell_disabled||void 0,"aria-label":(U=(ee=le(l))==null?void 0:ee.day)==null?void 0:U.call(ee,Y),tabindex:"0","data-test":Y.value,onClick:Pr(re=>j(re,Y),["prevent"]),onKeydown:re=>le(dr)(re,()=>W.$emit("select-date",Y)),onMouseenter:re=>O(Y,G,de),onMouseleave:re=>P(Y),onMousedown:re=>J(Y),onMouseup:oe[0]||(oe[0]=re=>w.value=!1)},[C("div",{class:Ge(["dp__cell_inner",Y.classData])},[W.$slots.day&&N.value(Y)?Ne(W.$slots,"day",{key:0,day:+Y.text,date:Y.value}):ye("",!0),W.$slots.day?ye("",!0):(ie(),ue(Pe,{key:1},[hn(Ie(Y.text),1)],64)),Y.marker&&N.value(Y)?(ie(),ue(Pe,{key:2},[W.$slots.marker?Ne(W.$slots,"marker",{key:0,marker:Y.marker,day:+Y.text,date:Y.value}):(ie(),ue("div",{key:1,class:Ge(A.value(Y.marker)),style:vn(Y.marker.color?{backgroundColor:Y.marker.color}:{})},null,6))],64)):ye("",!0),T.value(Y.value)?(ie(),ue("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:vn(h.value)},[(te=Y.marker)!=null&&te.tooltip?(ie(),ue("div",{key:0,class:"dp__tooltip_content",onClick:V},[(ie(!0),ue(Pe,null,Xe(Y.marker.tooltip,(re,se)=>(ie(),ue("div",{key:se,class:"dp__tooltip_text"},[W.$slots["marker-tooltip"]?Ne(W.$slots,"marker-tooltip",{key:0,tooltip:re,day:Y.value}):ye("",!0),W.$slots["marker-tooltip"]?ye("",!0):(ie(),ue(Pe,{key:1},[C("div",{class:"dp__tooltip_mark",style:vn(re.color?{backgroundColor:re.color}:{})},null,4),C("div",null,Ie(re.text),1)],64))]))),128)),C("div",{class:"dp__arrow_bottom_tp",style:vn(g.value)},null,4)])):ye("",!0)],4)):ye("",!0)],2)],40,z9)}),128))]))),128))],40,j9)):ye("",!0)]}),_:3},8,["name","css"])],10,$9)],2)}}}),z1=t=>Array.isArray(t),W9=(t,e,n,r)=>{const i=he([]),o=he(new Date),s=he(),{modelValue:a,calendars:l,time:f,today:u}=ju(t,e),{defaultedMultiCalendars:c,defaultedStartTime:d,defaultedRange:h,defaultedConfig:p,defaultedTz:m,propDates:y,defaultedMultiDates:v}=Ft(t),{validateMonthYearInRange:_,isDisabled:b,isDateRangeAllowed:g,checkMinMaxRange:w}=zo(t),{updateTimeValues:k,getSetDateTime:S,setTime:E,assignStartTime:I,validateTime:x,disabledTimesConfig:A}=Y2(t,f,a,r),T=ge(()=>fe=>l.value[fe]?l.value[fe].month:0),R=ge(()=>fe=>l.value[fe]?l.value[fe].year:0),N=fe=>!p.value.keepViewOnOffsetClick||fe?!0:!s.value,M=(fe,Ee,me,Te=!1)=>{var Re,Mt;N(Te)&&(l.value[fe]||(l.value[fe]={month:0,year:0}),l.value[fe].month=U1(Ee)?(Re=l.value[fe])==null?void 0:Re.month:Ee,l.value[fe].year=U1(me)?(Mt=l.value[fe])==null?void 0:Mt.year:me)},O=()=>{t.autoApply&&e("select-date")};rn(a,(fe,Ee)=>{JSON.stringify(fe)!==JSON.stringify(Ee)&&H()},{deep:!0}),yt(()=>{t.shadow||(a.value||(oe(),d.value&&I(d.value)),H(!0),t.focusStartDate&&t.startDate&&oe())});const P=ge(()=>{var fe;return(fe=t.flow)!=null&&fe.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),Q=()=>{t.autoApply&&P.value&&e("auto-apply")},H=(fe=!1)=>{if(a.value)return Array.isArray(a.value)?(i.value=a.value,j(fe)):F(a.value,fe);if(c.value.count&&fe&&!t.startDate)return $(Ae(),fe)},B=()=>Array.isArray(a.value)&&h.value.enabled?ot(a.value[0])===ot(a.value[1]??a.value[0]):!1,$=(fe,Ee=!1)=>{if((!c.value.count||!c.value.static||Ee)&&M(0,ot(fe),it(fe)),c.value.count&&(!c.value.solo||!a.value||B()))for(let me=1;me<c.value.count;me++){const Te=xt(Ae(),{month:T.value(me-1),year:R.value(me-1)}),Re=l2(Te,{months:1});l.value[me]={month:ot(Re),year:it(Re)}}},F=(fe,Ee)=>{$(fe),E("hours",Gi(fe)),E("minutes",No(fe)),E("seconds",Oa(fe)),c.value.count&&Ee&&W()},D=fe=>{if(c.value.count){if(c.value.solo)return 0;const Ee=ot(fe[0]),me=ot(fe[1]);return Math.abs(me-Ee)<c.value.count?0:1}return 1},K=(fe,Ee)=>{fe[1]&&h.value.showLastInRange?$(fe[D(fe)],Ee):$(fe[0],Ee);const me=(Te,Re)=>[Te(fe[0]),fe[1]?Te(fe[1]):f[Re][1]];E("hours",me(Gi,"hours")),E("minutes",me(No,"minutes")),E("seconds",me(Oa,"seconds"))},z=(fe,Ee)=>{if((h.value.enabled||t.weekPicker)&&!v.value.enabled)return K(fe,Ee);if(v.value.enabled&&Ee){const me=fe[fe.length-1];return F(me,Ee)}},j=fe=>{const Ee=a.value;z(Ee,fe),c.value.count&&c.value.solo&&W()},V=(fe,Ee)=>{const me=xt(Ae(),{month:T.value(Ee),year:R.value(Ee)}),Te=fe<0?zr(me,1):Ca(me,1);_(ot(Te),it(Te),fe<0,t.preventMinMaxNavigation)&&(M(Ee,ot(Te),it(Te)),e("update-month-year",{instance:Ee,month:ot(Te),year:it(Te)}),c.value.count&&!c.value.solo&&J(Ee),n())},J=fe=>{for(let Ee=fe-1;Ee>=0;Ee--){const me=Ca(xt(Ae(),{month:T.value(Ee+1),year:R.value(Ee+1)}),1);M(Ee,ot(me),it(me))}for(let Ee=fe+1;Ee<=c.value.count-1;Ee++){const me=zr(xt(Ae(),{month:T.value(Ee-1),year:R.value(Ee-1)}),1);M(Ee,ot(me),it(me))}},W=()=>{if(Array.isArray(a.value)&&a.value.length===2){const fe=Ae(Ae(a.value[1]?a.value[1]:zr(a.value[0],1))),[Ee,me]=[ot(a.value[0]),it(a.value[0])],[Te,Re]=[ot(a.value[1]),it(a.value[1])];(Ee!==Te||Ee===Te&&me!==Re)&&c.value.solo&&M(1,ot(fe),it(fe))}else a.value&&!Array.isArray(a.value)&&(M(0,ot(a.value),it(a.value)),$(Ae()))},oe=()=>{t.startDate&&(M(0,ot(Ae(t.startDate)),it(Ae(t.startDate))),c.value.count&&J(0))},ce=(fe,Ee)=>{if(t.monthChangeOnScroll){const me=new Date().getTime()-o.value.getTime(),Te=Math.abs(fe.deltaY);let Re=500;Te>1&&(Re=100),Te>100&&(Re=0),me>Re&&(o.value=new Date,V(t.monthChangeOnScroll!=="inverse"?-fe.deltaY:fe.deltaY,Ee))}},Z=(fe,Ee,me=!1)=>{t.monthChangeOnArrows&&t.vertical===me&&q(fe,Ee)},q=(fe,Ee)=>{V(fe==="right"?-1:1,Ee)},G=fe=>{if(y.value.markers)return Cd(fe.value,y.value.markers)},Y=(fe,Ee)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[fe==0,!0];case"fair":return[fe==0||Ee>fe,!0];case"append":return[!1,!1];default:return[!1,!1]}},de=(fe,Ee,me,Te)=>{if(t.sixWeeks&&fe.length<6){const Re=6-fe.length,Mt=(Ee.getDay()+7-Te)%7,_t=6-(me.getDay()+7-Te)%7,[Ut,sn]=Y(Mt,_t);for(let En=1;En<=Re;En++)if(sn?!!(En%2)==Ut:Ut){const Tn=fe[0].days[0],An=ee(Fr(Tn.value,-7),ot(Ee));fe.unshift({days:An})}else{const Tn=fe[fe.length-1],An=Tn.days[Tn.days.length-1],pn=ee(Fr(An.value,1),ot(Ee));fe.push({days:pn})}}return fe},ee=(fe,Ee)=>{const me=Ae(fe),Te=[];for(let Re=0;Re<7;Re++){const Mt=Fr(me,Re),_t=ot(Mt)!==Ee;Te.push({text:t.hideOffsetDates&&_t?"":Mt.getDate(),value:Mt,current:!_t,classData:{}})}return Te},U=(fe,Ee)=>{const me=[],Te=new Date(Ee,fe),Re=new Date(Ee,fe+1,0),Mt=t.weekStart,_t=Zr(Te,{weekStartsOn:Mt}),Ut=sn=>{const En=ee(sn,fe);if(me.push({days:En}),!me[me.length-1].days.some(Tn=>st(ir(Tn.value),ir(Re)))){const Tn=Fr(sn,7);Ut(Tn)}};return Ut(_t),de(me,Te,Re,Mt)},te=fe=>{const Ee=So(Ae(fe.value),f.hours,f.minutes,Se());e("date-update",Ee),v.value.enabled?by(Ee,a,v.value.limit):a.value=Ee,r(),Nn().then(()=>{Q()})},re=fe=>h.value.noDisabledRange?L2(i.value[0],fe).some(Ee=>b(Ee)):!1,se=()=>{i.value=a.value?a.value.slice():[],i.value.length===2&&!(h.value.fixedStart||h.value.fixedEnd)&&(i.value=[])},ne=(fe,Ee)=>{const me=[Ae(fe.value),Fr(Ae(fe.value),+h.value.autoRange)];g(me)?(Ee&&pe(fe.value),i.value=me):e("invalid-date",fe.value)},pe=fe=>{const Ee=ot(Ae(fe)),me=it(Ae(fe));if(M(0,Ee,me),c.value.count>0)for(let Te=1;Te<c.value.count;Te++){const Re=C8(xt(Ae(fe),{year:T.value(Te-1),month:R.value(Te-1)}));M(Te,Re.month,Re.year)}},ve=fe=>{if(re(fe.value)||!w(fe.value,a.value,h.value.fixedStart?0:1))return e("invalid-date",fe.value);i.value=z2(Ae(fe.value),a,e,h)},we=(fe,Ee)=>{if(se(),h.value.autoRange)return ne(fe,Ee);if(h.value.fixedStart||h.value.fixedEnd)return ve(fe);i.value[0]?w(Ae(fe.value),a.value)&&!re(fe.value)?Bt(Ae(fe.value),Ae(i.value[0]))?(i.value.unshift(Ae(fe.value)),e("range-end",i.value[0])):(i.value[1]=Ae(fe.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",fe.value),e("invalid-date",fe.value)):(i.value[0]=Ae(fe.value),e("range-start",i.value[0]))},Se=(fe=!0)=>t.enableSeconds?Array.isArray(f.seconds)?fe?f.seconds[0]:f.seconds[1]:f.seconds:0,Le=fe=>{i.value[fe]=So(i.value[fe],f.hours[fe],f.minutes[fe],Se(fe!==1))},Oe=()=>{var fe,Ee;i.value[0]&&i.value[1]&&+((fe=i.value)==null?void 0:fe[0])>+((Ee=i.value)==null?void 0:Ee[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Ye=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Le(0):(Le(0),Le(1),r()),Oe(),a.value=i.value.slice(),th(i.value,e,t.autoApply,t.modelAuto))},De=(fe,Ee=!1)=>{if(b(fe.value)||!fe.current&&t.hideOffsetDates)return e("invalid-date",fe.value);if(s.value=JSON.parse(JSON.stringify(fe)),!h.value.enabled)return te(fe);z1(f.hours)&&z1(f.minutes)&&!v.value.enabled&&(we(fe,Ee),Ye())},rt=(fe,Ee)=>{var me;M(fe,Ee.month,Ee.year,!0),c.value.count&&!c.value.solo&&J(fe),e("update-month-year",{instance:fe,month:Ee.month,year:Ee.year}),n(c.value.solo?fe:void 0);const Te=(me=t.flow)!=null&&me.length?t.flow[t.flowStep]:void 0;!Ee.fromNav&&(Te===Hn.month||Te===Hn.year)&&r()},At=(fe,Ee)=>{H2({value:fe,modelValue:a,range:h.value.enabled,timezone:Ee?void 0:m.value.timezone}),O(),t.multiCalendars&&Nn().then(()=>H(!0))},Zt=()=>{const fe=my(Ae(),m.value);h.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Bt(fe,a.value[0])?[fe,a.value[0]]:[a.value[0],fe]:a.value=[fe]:a.value=fe,O()},It=()=>{if(Array.isArray(a.value))if(v.value.enabled){const fe=Kt();a.value[a.value.length-1]=S(fe)}else a.value=a.value.map((fe,Ee)=>fe&&S(fe,Ee));else a.value=S(a.value);e("time-update")},Kt=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:l,modelValue:a,month:T,year:R,time:f,disabledTimesConfig:A,today:u,validateTime:x,getCalendarDays:U,getMarker:G,handleScroll:ce,handleSwipe:q,handleArrow:Z,selectDate:De,updateMonthYear:rt,presetDate:At,selectCurrentDate:Zt,updateTime:(fe,Ee=!0,me=!1)=>{k(fe,Ee,me,It)}}},Y9={key:0},G9=Jt({__name:"DatePicker",props:{...ti},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:o,month:s,year:a,modelValue:l,time:f,disabledTimesConfig:u,today:c,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:y,handleSwipe:v,selectDate:_,updateMonthYear:b,presetDate:g,selectCurrentDate:w,updateTime:k}=W9(i,r,B,$),S=Os(),{setHoverDate:E,getDayClassData:I,clearHoverDate:x}=dB(l,i),{defaultedMultiCalendars:A}=Ft(i),T=he([]),R=he([]),N=he(null),M=Er(S,"calendar"),O=Er(S,"monthYear"),P=Er(S,"timePicker"),Q=ce=>{i.shadow||r("mount",ce)};rn(o,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const H=ge(()=>ce=>h(s.value(ce),a.value(ce)).map(Z=>({...Z,days:Z.days.map(q=>(q.marker=p(q),q.classData=I(q),q))})));function B(ce){var Z;ce||ce===0?(Z=R.value[ce])==null||Z.triggerTransition(s.value(ce),a.value(ce)):R.value.forEach((q,G)=>q.triggerTransition(s.value(G),a.value(G)))}function $(){r("update-flow-step")}const F=(ce,Z=!1)=>{_(ce,Z),i.spaceConfirm&&r("select-date")},D=(ce,Z,q=0)=>{var G;(G=T.value[q])==null||G.toggleMonthPicker(ce,Z)},K=(ce,Z,q=0)=>{var G;(G=T.value[q])==null||G.toggleYearPicker(ce,Z)},z=(ce,Z,q)=>{var G;(G=N.value)==null||G.toggleTimePicker(ce,Z,q)},j=(ce,Z)=>{var q;if(!i.range){const G=l.value?l.value:c,Y=Z?new Date(Z):G,de=ce?Zr(Y,{weekStartsOn:1}):g2(Y,{weekStartsOn:1});_({value:de,current:ot(Y)===s.value(0),text:"",classData:{}}),(q=document.getElementById(B2(de)))==null||q.focus()}},V=ce=>{var Z;(Z=T.value[0])==null||Z.handleMonthYearChange(ce,!0)},J=ce=>{b(0,{month:s.value(0),year:a.value(0)+(ce?1:-1),fromNav:!0})},W=(ce,Z)=>{ce===Hn.time&&r(`time-picker-${Z?"open":"close"}`),r("overlay-toggle",{open:Z,overlay:ce})},oe=ce=>{r("overlay-toggle",{open:!1,overlay:ce}),r("focus-menu")};return e({clearHoverDate:x,presetDate:g,selectCurrentDate:w,toggleMonthPicker:D,toggleYearPicker:K,toggleTimePicker:z,handleArrow:m,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:s,year:a,time:f,updateTime:k,updateMonthYear:b,selectDate:_,presetDate:g}),changeMonth:V,changeYear:J,selectWeekDate:j}),(ce,Z)=>(ie(),ue(Pe,null,[qe(eh,{"multi-calendars":le(A).count,collapse:ce.collapse},{default:ze(({instance:q,index:G})=>[ce.disableMonthYearSelect?ye("",!0):(ie(),Ue(L9,dn({key:0,ref:Y=>{Y&&(T.value[G]=Y)},months:le(O2)(ce.formatLocale,ce.locale,ce.monthNameFormat),years:le(gy)(ce.yearRange,ce.locale,ce.reverseYears),month:le(s)(q),year:le(a)(q),instance:q},ce.$props,{onMount:Z[0]||(Z[0]=Y=>Q(le(ms).header)),onResetFlow:Z[1]||(Z[1]=Y=>ce.$emit("reset-flow")),onUpdateMonthYear:Y=>le(b)(q,Y),onOverlayClosed:oe,onOverlayOpened:Z[2]||(Z[2]=Y=>ce.$emit("overlay-toggle",{open:!0,overlay:Y}))}),Wn({_:2},[Xe(le(O),(Y,de)=>({name:Y,fn:ze(ee=>[Ne(ce.$slots,Y,yn(nr(ee)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),qe(K9,dn({ref:Y=>{Y&&(R.value[G]=Y)},"mapped-dates":H.value(q),month:le(s)(q),year:le(a)(q),instance:q},ce.$props,{onSelectDate:Y=>le(_)(Y,q!==1),onHandleSpace:Y=>F(Y,q!==1),onSetHoverDate:Z[3]||(Z[3]=Y=>le(E)(Y)),onHandleScroll:Y=>le(y)(Y,q),onHandleSwipe:Y=>le(v)(Y,q),onMount:Z[4]||(Z[4]=Y=>Q(le(ms).calendar)),onResetFlow:Z[5]||(Z[5]=Y=>ce.$emit("reset-flow")),onTooltipOpen:Z[6]||(Z[6]=Y=>ce.$emit("tooltip-open",Y)),onTooltipClose:Z[7]||(Z[7]=Y=>ce.$emit("tooltip-close",Y))}),Wn({_:2},[Xe(le(M),(Y,de)=>({name:Y,fn:ze(ee=>[Ne(ce.$slots,Y,yn(nr({...ee})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),ce.enableTimePicker?(ie(),ue("div",Y9,[ce.$slots["time-picker"]?Ne(ce.$slots,"time-picker",yn(dn({key:0},{time:le(f),updateTime:le(k)}))):(ie(),Ue(W2,dn({key:1,ref_key:"timePickerRef",ref:N},ce.$props,{hours:le(f).hours,minutes:le(f).minutes,seconds:le(f).seconds,"internal-model-value":ce.internalModelValue,"disabled-times-config":le(u),"validate-time":le(d),onMount:Z[8]||(Z[8]=q=>Q(le(ms).timePicker)),"onUpdate:hours":Z[9]||(Z[9]=q=>le(k)(q)),"onUpdate:minutes":Z[10]||(Z[10]=q=>le(k)(q,!1)),"onUpdate:seconds":Z[11]||(Z[11]=q=>le(k)(q,!1,!0)),onResetFlow:Z[12]||(Z[12]=q=>ce.$emit("reset-flow")),onOverlayClosed:Z[13]||(Z[13]=q=>W(q,!1)),onOverlayOpened:Z[14]||(Z[14]=q=>W(q,!0)),onAmPmChange:Z[15]||(Z[15]=q=>ce.$emit("am-pm-change",q))}),Wn({_:2},[Xe(le(P),(q,G)=>({name:q,fn:ze(Y=>[Ne(ce.$slots,q,yn(nr(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ye("",!0)],64))}}),Q9=(t,e)=>{const n=he(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:o,defaultedRange:s,propDates:a,defaultedFilters:l,defaultedMultiDates:f}=Ft(t),{modelValue:u,year:c,month:d,calendars:h}=ju(t,e),{isDisabled:p}=zo(t),{selectYear:m,groupedYears:y,showYearPicker:v,isDisabled:_,toggleYearPicker:b,handleYearSelect:g,handleYear:w}=K2({modelValue:u,multiCalendars:r,range:s,highlight:o,calendars:h,propDates:a,month:d,year:c,filters:l,props:t,emit:e}),k=(M,O)=>[M,O].map(P=>Kr(P,"MMMM",{locale:t.formatLocale})).join("-"),S=ge(()=>M=>u.value?Array.isArray(u.value)?u.value.some(O=>$1(M,O)):$1(u.value,M):!1),E=M=>{if(s.value.enabled){if(Array.isArray(u.value)){const O=st(M,u.value[0])||st(M,u.value[1]);return Jf(u.value,n.value,M)&&!O}return!1}return!1},I=(M,O)=>M.quarter===P1(O)&&M.year===it(O),x=M=>typeof o.value=="function"?o.value({quarter:P1(M),year:it(M)}):!!o.value.quarters.find(O=>I(O,M)),A=ge(()=>M=>{const O=xt(new Date,{year:c.value(M)});return TF({start:iy(O),end:m2(O)}).map(P=>{const Q=us(P),H=C1(P),B=p(P),$=E(Q),F=x(Q);return{text:k(Q,H),value:Q,active:S.value(Q),highlighted:F,disabled:B,isBetween:$}})}),T=M=>{by(M,u,f.value.limit),e("auto-apply",!0)},R=M=>{u.value=wy(u,M,e),th(u.value,e,t.autoApply,t.modelAuto)},N=M=>{u.value=M,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:y,year:c,isDisabled:_,quarters:A,showYearPicker:v,modelValue:u,setHoverDate:M=>{n.value=M},selectYear:m,selectQuarter:(M,O,P)=>{if(!P)return h.value[O].month=ot(C1(M)),f.value.enabled?T(M):s.value.enabled?R(M):N(M)},toggleYearPicker:b,handleYearSelect:g,handleYear:w}},X9={class:"dp--quarter-items"},J9=["data-test","disabled","onClick","onMouseover"],Z9=Jt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ti},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=Os(),s=Er(o,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:f,year:u,isDisabled:c,quarters:d,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:y,toggleYearPicker:v,handleYearSelect:_,handleYear:b}=Q9(i,r);return e({getSidebarProps:()=>({modelValue:h,year:u,selectQuarter:y,handleYearSelect:_,handleYear:b})}),(g,w)=>(ie(),Ue(eh,{"multi-calendars":le(a).count,collapse:g.collapse,stretch:""},{default:ze(({instance:k})=>[C("div",{class:"dp-quarter-picker-wrap",style:vn({minHeight:`${le(l).modeHeight}px`})},[g.$slots["top-extra"]?Ne(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):ye("",!0),C("div",null,[qe(q2,dn(g.$props,{items:le(f)(k),instance:k,"show-year-picker":le(p)[k],year:le(u)(k),"is-disabled":S=>le(c)(k,S),onHandleYear:S=>le(b)(k,S),onYearSelect:S=>le(_)(S,k),onToggleYearPicker:S=>le(v)(k,S==null?void 0:S.flow,S==null?void 0:S.show)}),Wn({_:2},[Xe(le(s),(S,E)=>({name:S,fn:ze(I=>[Ne(g.$slots,S,yn(nr(I)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),C("div",X9,[(ie(!0),ue(Pe,null,Xe(le(d)(k),(S,E)=>(ie(),ue("div",{key:E},[C("button",{type:"button",class:Ge(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),"data-test":S.value,disabled:S.disabled,onClick:I=>le(y)(S.value,k,S.disabled),onMouseover:I=>le(m)(S.value)},[g.$slots.quarter?Ne(g.$slots,"quarter",{key:0,value:S.value,text:S.text}):(ie(),ue(Pe,{key:1},[hn(Ie(S.text),1)],64))],42,J9)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),eB=["id","aria-label"],tB={key:0,class:"dp--menu-load-container"},nB=C("span",{class:"dp--menu-loader"},null,-1),rB=[nB],iB={key:0,class:"dp__sidebar_left"},oB=["data-test","onClick","onKeydown"],sB={key:2,class:"dp__sidebar_right"},aB={key:3,class:"dp__action_extra"},K1=Jt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Zf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=he(null),s=ge(()=>{const{openOnTop:ee,...U}=i;return{...U,flowStep:E.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:o.value}}),{setMenuFocused:a,setShiftKey:l,control:f}=j2(),u=Os(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=Ft(i),p=he(null),m=he(0),y=he(null),v=he(!1),_=he(null);yt(()=>{if(!i.shadow){v.value=!0,b(),window.addEventListener("resize",b);const ee=un(o);if(ee&&!c.value.enabled&&!d.value.enabled&&(a(!0),M()),ee){const U=te=>{h.value.allowPreventDefault&&te.preventDefault(),Io(te,h.value,!0)};ee.addEventListener("pointerdown",U),ee.addEventListener("mousedown",U)}}}),La(()=>{window.removeEventListener("resize",b)});const b=()=>{const ee=un(y);ee&&(m.value=ee.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:w,arrowDown:k,arrowUp:S}=Ho(),{flowStep:E,updateFlowStep:I,childMount:x,resetFlow:A,handleFlow:T}=fB(i,r,_),R=ge(()=>i.monthPicker?d9:i.yearPicker?h9:i.timePicker?O9:i.quarterPicker?Z9:G9),N=ge(()=>{var ee;if(h.value.arrowLeft)return h.value.arrowLeft;const U=(ee=o.value)==null?void 0:ee.getBoundingClientRect(),te=i.getInputRect();return te.width<m.value&&te.left<=((U==null?void 0:U.left)??0)?`${te.width/2}px`:"50%"}),M=()=>{const ee=un(o);ee&&ee.focus({preventScroll:!0})},O=ge(()=>{var ee;return((ee=_.value)==null?void 0:ee.getSidebarProps())||{}}),P=()=>{i.openOnTop&&r("recalculate-position")},Q=Er(u,"action"),H=ge(()=>i.monthPicker||i.yearPicker?Er(u,"monthYear"):i.timePicker?Er(u,"timePicker"):Er(u,"shared")),B=ge(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$=ge(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),F=ge(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),D=ee=>{Io(ee,h.value,!0)},K=()=>{i.escClose&&r("close-picker")},z=ee=>{if(i.arrowNavigation){if(ee===er.up)return S();if(ee===er.down)return k();if(ee===er.left)return w();if(ee===er.right)return g()}else ee===er.left||ee===er.up?oe("handleArrow",er.left,0,ee===er.up):oe("handleArrow",er.right,0,ee===er.down)},j=ee=>{l(ee.shiftKey),!i.disableMonthYearSelect&&ee.code===Nt.tab&&ee.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(ee.preventDefault(),Io(ee,h.value,!0),r("close-picker"))},V=()=>{M(),r("time-picker-close")},J=ee=>{var U,te,re;(U=_.value)==null||U.toggleTimePicker(!1,!1),(te=_.value)==null||te.toggleMonthPicker(!1,!1,ee),(re=_.value)==null||re.toggleYearPicker(!1,!1,ee)},W=(ee,U=0)=>{var te,re,se;return ee==="month"?(te=_.value)==null?void 0:te.toggleMonthPicker(!1,!0,U):ee==="year"?(re=_.value)==null?void 0:re.toggleYearPicker(!1,!0,U):ee==="time"?(se=_.value)==null?void 0:se.toggleTimePicker(!0,!1):J(U)},oe=(ee,...U)=>{var te,re;(te=_.value)!=null&&te[ee]&&((re=_.value)==null||re[ee](...U))},ce=()=>{oe("selectCurrentDate")},Z=(ee,U)=>{oe("presetDate",ee,U)},q=()=>{oe("clearHoverDate")},G=(ee,U)=>{oe("updateMonthYear",ee,U)},Y=(ee,U)=>{ee.preventDefault(),z(U)},de=ee=>{var U;if(j(ee),ee.key===Nt.home||ee.key===Nt.end)return oe("selectWeekDate",ee.key===Nt.home,ee.target.getAttribute("id"));switch((ee.key===Nt.pageUp||ee.key===Nt.pageDown)&&(ee.shiftKey?oe("changeYear",ee.key===Nt.pageUp):oe("changeMonth",ee.key===Nt.pageUp),ee.target.getAttribute("id")&&((U=o.value)==null||U.focus({preventScroll:!0}))),ee.key){case Nt.esc:return K();case Nt.arrowLeft:return Y(ee,er.left);case Nt.arrowRight:return Y(ee,er.right);case Nt.arrowUp:return Y(ee,er.up);case Nt.arrowDown:return Y(ee,er.down);default:return}};return e({updateMonthYear:G,switchView:W,handleFlow:T}),(ee,U)=>{var te,re,se;return ie(),ue("div",{id:ee.uid?`dp-menu-${ee.uid}`:void 0,ref_key:"dpMenuRef",ref:o,tabindex:"0",role:"dialog","aria-label":(te=ee.ariaLabels)==null?void 0:te.menu,class:Ge(F.value),style:vn({"--dp-arrow-left":N.value}),onMouseleave:q,onClick:D,onKeydown:de},[(ee.disabled||ee.readonly)&&le(d).enabled||ee.loading?(ie(),ue("div",{key:0,class:Ge($.value)},[ee.loading?(ie(),ue("div",tB,rB)):ye("",!0)],2)):ye("",!0),!le(d).enabled&&!ee.teleportCenter?(ie(),ue("div",{key:1,class:Ge(B.value)},null,2)):ye("",!0),C("div",{ref_key:"innerMenuRef",ref:y,class:Ge({dp__menu_content_wrapper:((re=ee.presetDates)==null?void 0:re.length)||!!ee.$slots["left-sidebar"]||!!ee.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((se=ee.presetDates)==null?void 0:se.length)||!!ee.$slots["left-sidebar"]||!!ee.$slots["right-sidebar"])}),style:vn({"--dp-menu-width":`${m.value}px`})},[ee.$slots["left-sidebar"]?(ie(),ue("div",iB,[Ne(ee.$slots,"left-sidebar",yn(nr(O.value)))])):ye("",!0),ee.presetDates.length?(ie(),ue("div",{key:1,class:Ge({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ie(!0),ue(Pe,null,Xe(ee.presetDates,(ne,pe)=>(ie(),ue(Pe,{key:pe},[ne.slot?Ne(ee.$slots,ne.slot,{key:0,presetDate:Z,label:ne.label,value:ne.value}):(ie(),ue("button",{key:1,type:"button",style:vn(ne.style||{}),class:Ge(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ne.testId??void 0,onClick:Pr(ve=>Z(ne.value,ne.noTz),["prevent"]),onKeydown:ve=>le(dr)(ve,()=>Z(ne.value,ne.noTz),!0)},Ie(ne.label),47,oB))],64))),128))],2)):ye("",!0),C("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(ie(),Ue(Qd(R.value),dn({ref_key:"dynCmpRef",ref:_},s.value,{"flow-step":le(E),onMount:le(x),onUpdateFlowStep:le(I),onResetFlow:le(A),onFocusMenu:M,onSelectDate:U[0]||(U[0]=ne=>ee.$emit("select-date")),onDateUpdate:U[1]||(U[1]=ne=>ee.$emit("date-update",ne)),onTooltipOpen:U[2]||(U[2]=ne=>ee.$emit("tooltip-open",ne)),onTooltipClose:U[3]||(U[3]=ne=>ee.$emit("tooltip-close",ne)),onAutoApply:U[4]||(U[4]=ne=>ee.$emit("auto-apply",ne)),onRangeStart:U[5]||(U[5]=ne=>ee.$emit("range-start",ne)),onRangeEnd:U[6]||(U[6]=ne=>ee.$emit("range-end",ne)),onInvalidFixedRange:U[7]||(U[7]=ne=>ee.$emit("invalid-fixed-range",ne)),onTimeUpdate:U[8]||(U[8]=ne=>ee.$emit("time-update")),onAmPmChange:U[9]||(U[9]=ne=>ee.$emit("am-pm-change",ne)),onTimePickerOpen:U[10]||(U[10]=ne=>ee.$emit("time-picker-open",ne)),onTimePickerClose:V,onRecalculatePosition:P,onUpdateMonthYear:U[11]||(U[11]=ne=>ee.$emit("update-month-year",ne)),onAutoApplyInvalid:U[12]||(U[12]=ne=>ee.$emit("auto-apply-invalid",ne)),onInvalidDate:U[13]||(U[13]=ne=>ee.$emit("invalid-date",ne)),onOverlayToggle:U[14]||(U[14]=ne=>ee.$emit("overlay-toggle",ne)),"onUpdate:internalModelValue":U[15]||(U[15]=ne=>ee.$emit("update:internal-model-value",ne))}),Wn({_:2},[Xe(H.value,(ne,pe)=>({name:ne,fn:ze(ve=>[Ne(ee.$slots,ne,yn(nr({...ve})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ee.$slots["right-sidebar"]?(ie(),ue("div",sB,[Ne(ee.$slots,"right-sidebar",yn(nr(O.value)))])):ye("",!0),ee.$slots["action-extra"]?(ie(),ue("div",aB,[ee.$slots["action-extra"]?Ne(ee.$slots,"action-extra",{key:0,selectCurrentDate:ce}):ye("",!0)])):ye("",!0)],6),!ee.autoApply||le(h).keepActionRow?(ie(),Ue(r9,dn({key:2,"menu-mount":v.value},s.value,{"calendar-width":m.value,onClosePicker:U[16]||(U[16]=ne=>ee.$emit("close-picker")),onSelectDate:U[17]||(U[17]=ne=>ee.$emit("select-date")),onInvalidSelect:U[18]||(U[18]=ne=>ee.$emit("invalid-select")),onSelectNow:ce}),Wn({_:2},[Xe(le(Q),(ne,pe)=>({name:ne,fn:ze(ve=>[Ne(ee.$slots,ne,yn(nr({...ve})))])}))]),1040,["menu-mount","calendar-width"])):ye("",!0)],46,eB)}}});var ea=(t=>(t.center="center",t.left="left",t.right="right",t))(ea||{});const lB=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:o,props:s,slots:a})=>{const l=he({}),f=he(!1),u=he({top:"0",left:"0"}),c=he(!1),d=zl(s,"teleportCenter");rn(d,()=>{u.value=JSON.parse(JSON.stringify({})),g()});const h=M=>{if(s.teleport){const O=M.getBoundingClientRect();return{left:O.left+window.scrollX,top:O.top+window.scrollY}}return{top:0,left:0}},p=(M,O)=>{u.value.left=`${M+O-l.value.width}px`},m=M=>{u.value.left=`${M}px`},y=(M,O)=>{s.position===ea.left&&m(M),s.position===ea.right&&p(M,O),s.position===ea.center&&(u.value.left=`${M+O/2-l.value.width/2}px`)},v=M=>{const{width:O,height:P}=M.getBoundingClientRect(),{top:Q,left:H}=s.altPosition?s.altPosition(M):h(M);return{top:+Q,left:+H,width:O,height:P}},_=()=>{u.value.left="50%",u.value.top="50%",u.value.transform="translate(-50%, -50%)",u.value.position="fixed",delete u.value.opacity},b=()=>{const M=un(n),{top:O,left:P,transform:Q}=s.altPosition(M);u.value={top:`${O}px`,left:`${P}px`,transform:Q??""}},g=(M=!0)=>{var O;if(!i.value.enabled){if(d.value)return _();if(s.altPosition!==null)return b();if(M){const P=s.teleport?(O=e.value)==null?void 0:O.$el:t.value;P&&(l.value=P.getBoundingClientRect()),o("recalculate-position")}return A()}},w=({inputEl:M,left:O,width:P})=>{window.screen.width>768&&!f.value&&y(O,P),E(M)},k=M=>{const{top:O,left:P,height:Q,width:H}=v(M);u.value.top=`${Q+O+ +s.offset}px`,c.value=!1,f.value||(u.value.left=`${P+H/2-l.value.width/2}px`),w({inputEl:M,left:P,width:H})},S=M=>{const{top:O,left:P,width:Q}=v(M);u.value.top=`${O-+s.offset-l.value.height}px`,c.value=!0,w({inputEl:M,left:P,width:Q})},E=M=>{if(s.autoPosition){const{left:O,width:P}=v(M),{left:Q,right:H}=l.value;if(!f.value){if(Math.abs(Q)!==Math.abs(H)){if(Q<=0)return f.value=!0,m(O);if(H>=document.documentElement.clientWidth)return f.value=!0,p(O,P)}return y(O,P)}}},I=()=>{const M=un(n);if(M){const{height:O}=l.value,{top:P,height:Q}=M.getBoundingClientRect(),H=window.innerHeight-P-Q,B=P;return O<=H?ts.bottom:O>H&&O<=B?ts.top:H>=B?ts.bottom:ts.top}return ts.bottom},x=M=>I()===ts.bottom?k(M):S(M),A=()=>{const M=un(n);if(M)return s.autoPosition?x(M):k(M)},T=function(M){if(M){const O=M.scrollHeight>M.clientHeight,P=window.getComputedStyle(M).overflowY.indexOf("hidden")!==-1;return O&&!P}return!0},R=function(M){return!M||M===document.body||M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:T(M)?M:R(M.assignedSlot?M.assignedSlot.parentNode:M.parentNode)},N=M=>{if(M)switch(s.position){case ea.left:return{left:0,transform:"translateX(0)"};case ea.right:return{left:`${M.width}px`,transform:"translateX(-100%)"};default:return{left:`${M.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:c,menuStyle:u,xCorrect:f,setMenuPosition:g,getScrollableParent:R,shadowRender:(M,O)=>{var P,Q,H;const B=document.createElement("div"),$=(P=un(n))==null?void 0:P.getBoundingClientRect();B.setAttribute("id","dp--temp-container");const F=(Q=r.value)!=null&&Q.clientWidth?r.value:document.body;F.append(B);const D=N($),K=$a(M,{...O,shadow:!0,style:{opacity:0,position:"absolute",...D}},Object.fromEntries(Object.keys(a).filter(z=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(z)).map(z=>[z,a[z]])));A0(K,B),l.value=(H=K.el)==null?void 0:H.getBoundingClientRect(),A0(null,B),F.removeChild(B)}}},oo=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],uB=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],cB={all:()=>oo,monthYear:()=>oo.filter(t=>t.use.includes("month-year")),input:()=>uB,timePicker:()=>oo.filter(t=>t.use.includes("time")),action:()=>oo.filter(t=>t.use.includes("action")),calendar:()=>oo.filter(t=>t.use.includes("calendar")),menu:()=>oo.filter(t=>t.use.includes("menu")),shared:()=>oo.filter(t=>t.use.includes("shared")),yearMode:()=>oo.filter(t=>t.use.includes("year-mode"))},Er=(t,e,n)=>{const r=[];return cB[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Bu=t=>{const e=ge(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ge(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},ju=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=Ft(t),i=Ae(Ti(Ae(),r.value.timezone)),o=he([{month:ot(i),year:it(i)}]),s=c=>{const d={hours:Gi(i),minutes:No(i),seconds:0};return n.value.enabled?[d[c],d[c]]:d[c]},a=Dr({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});rn(n,(c,d)=>{c.enabled!==d.enabled&&(a.hours=s("hours"),a.minutes=s("minutes"),a.seconds=s("seconds"))},{deep:!0});const l=ge({get:()=>t.internalModelValue,set:c=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",c)}}),f=ge(()=>c=>o.value[c]?o.value[c].month:0),u=ge(()=>c=>o.value[c]?o.value[c].year:0);return{calendars:o,time:a,modelValue:l,month:f,year:u,today:i}},dB=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:a}=Ft(e),{isDisabled:l}=zo(e),f=he(null),u=he(Ti(new Date,o.value.timezone)),c=D=>{!D.current&&e.hideOffsetDates||(f.value=D.value)},d=()=>{f.value=null},h=D=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&f.value?D?Yt(f.value,t.value[0]):Bt(f.value,t.value[0]):!0,p=(D,K)=>{const z=()=>t.value?K?t.value[0]||null:t.value[1]:null,j=t.value&&Array.isArray(t.value)?z():null;return st(Ae(D.value),j)},m=D=>{const K=Array.isArray(t.value)?t.value[0]:null;return D?!Bt(f.value??null,K):!0},y=(D,K=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!D.current?!1:st(Ae(D.value),t.value[K?0:1]):a.value.enabled?p(D,K)&&m(K)||st(D.value,Array.isArray(t.value)?t.value[0]:null)&&h(K):!1,v=(D,K)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const z=st(D.value,f.value);return K?Yt(t.value[0],D.value)&&z:Bt(t.value[0],D.value)&&z}return!1},_=D=>!t.value||e.hideOffsetDates&&!D.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?st(D.value,t.value[0]?t.value[0]:u.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(K=>st(K,D.value)):st(D.value,t.value?t.value:u.value),b=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!D.current)return!1;const K=Fr(f.value,+a.value.autoRange),z=Ci(Ae(f.value),e.weekStart);return e.weekPicker?st(z[1],Ae(D.value)):st(K,Ae(D.value))}return!1}return!1},g=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){const K=Fr(f.value,+a.value.autoRange);if(e.hideOffsetDates&&!D.current)return!1;const z=Ci(Ae(f.value),e.weekStart);return e.weekPicker?Yt(D.value,z[0])&&Bt(D.value,z[1]):Yt(D.value,f.value)&&Bt(D.value,K)}return!1}return!1},w=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!D.current)return!1;const K=Ci(Ae(f.value),e.weekStart);return e.weekPicker?st(K[0],D.value):st(f.value,D.value)}return!1}return!1},k=D=>Jf(t.value,f.value,D.value),S=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,E=()=>e.modelAuto?P2(e.internalModelValue):!0,I=D=>{if(e.weekPicker)return!1;const K=a.value.enabled?!y(D)&&!y(D,!1):!0;return!l(D.value)&&!_(D)&&!(!D.current&&e.hideOffsetDates)&&K},x=D=>a.value.enabled?e.modelAuto?S()&&_(D):!1:_(D),A=D=>i.value?R8(D.value,s.value.highlight):!1,T=D=>{const K=l(D.value);return K&&(typeof i.value=="function"?!i.value(D.value,K):!i.value.options.highlightDisabled)},R=D=>{var K;return typeof i.value=="function"?i.value(D.value):(K=i.value.weekdays)==null?void 0:K.includes(D.value.getDay())},N=D=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||D.current)&&E()&&!(!D.current&&e.hideOffsetDates)&&!_(D)?k(D):!1,M=D=>{const{isRangeStart:K,isRangeEnd:z}=H(D),j=a.value.enabled?K||z:!1;return{dp__cell_offset:!D.current,dp__pointer:!e.disabled&&!(!D.current&&e.hideOffsetDates)&&!l(D.value),dp__cell_disabled:l(D.value),dp__cell_highlight:!T(D)&&(A(D)||R(D))&&!x(D)&&!j&&!w(D)&&!(N(D)&&e.weekPicker)&&!z,dp__cell_highlight_active:!T(D)&&(A(D)||R(D))&&x(D),dp__today:!e.noToday&&st(D.value,u.value)&&D.current,"dp--past":Bt(D.value,u.value),"dp--future":Yt(D.value,u.value)}},O=D=>({dp__active_date:x(D),dp__date_hover:I(D)}),P=D=>{if(t.value&&!Array.isArray(t.value)){const K=Ci(t.value,e.weekStart);return{...$(D),dp__range_start:st(K[0],D.value),dp__range_end:st(K[1],D.value),dp__range_between_week:Yt(D.value,K[0])&&Bt(D.value,K[1])}}return{...$(D)}},Q=D=>{if(t.value&&Array.isArray(t.value)){const K=Ci(t.value[0],e.weekStart),z=t.value[1]?Ci(t.value[1],e.weekStart):[];return{...$(D),dp__range_start:st(K[0],D.value)||st(z[0],D.value),dp__range_end:st(K[1],D.value)||st(z[1],D.value),dp__range_between_week:Yt(D.value,K[0])&&Bt(D.value,K[1])||Yt(D.value,z[0])&&Bt(D.value,z[1]),dp__range_between:Yt(D.value,K[1])&&Bt(D.value,z[0])}}return{...$(D)}},H=D=>{const K=n.value.count>0?D.current&&y(D)&&E():y(D)&&E(),z=n.value.count>0?D.current&&y(D,!1)&&E():y(D,!1)&&E();return{isRangeStart:K,isRangeEnd:z}},B=D=>{const{isRangeStart:K,isRangeEnd:z}=H(D);return{dp__range_start:K,dp__range_end:z,dp__range_between:N(D),dp__date_hover:st(D.value,f.value)&&!K&&!z&&!e.weekPicker,dp__date_hover_start:v(D,!0),dp__date_hover_end:v(D,!1)}},$=D=>({...B(D),dp__cell_auto_range:g(D),dp__cell_auto_range_start:w(D),dp__cell_auto_range_end:b(D)}),F=D=>a.value.enabled?a.value.autoRange?$(D):e.modelAuto?{...O(D),...B(D)}:e.weekPicker?Q(D):B(D):e.weekPicker?P(D):O(D);return{setHoverDate:c,clearHoverDate:d,getDayClassData:D=>e.hideOffsetDates&&!D.current?{}:{...M(D),...F(D),[e.dayClass?e.dayClass(D.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},zo=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=Ft(t),o=T=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Ae(T)):!!Cd(T,r.value.disabledDates):!1,s=T=>{const R=r.value.maxDate?Yt(T,r.value.maxDate):!1,N=r.value.minDate?Bt(T,r.value.minDate):!1,M=o(T),O=e.value.months.map($=>+$).includes(ot(T)),P=t.disabledWeekDays.length?t.disabledWeekDays.some($=>+$===gU(T)):!1,Q=c(T),H=it(T),B=H<+t.yearRange[0]||H>+t.yearRange[1];return!(R||N||M||O||B||P||Q)},a=(T,R)=>Bt(...bo(r.value.minDate,T,R))||st(...bo(r.value.minDate,T,R)),l=(T,R)=>Yt(...bo(r.value.maxDate,T,R))||st(...bo(r.value.maxDate,T,R)),f=(T,R,N)=>{let M=!1;return r.value.maxDate&&N&&l(T,R)&&(M=!0),r.value.minDate&&!N&&a(T,R)&&(M=!0),M},u=(T,R,N,M)=>{let O=!1;return M?r.value.minDate&&r.value.maxDate?O=f(T,R,N):(r.value.minDate&&a(T,R)||r.value.maxDate&&l(T,R))&&(O=!0):O=!0,O},c=T=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!Cd(T,r.value.allowedDates):!1,d=T=>!s(T),h=T=>n.value.noDisabledRange?!p2({start:T[0],end:T[1]}).some(R=>d(R)):!0,p=T=>{if(T){const R=it(T);return R>=+t.yearRange[0]&&R<=t.yearRange[1]}return!0},m=(T,R)=>!!(Array.isArray(T)&&T[R]&&(n.value.maxRange||n.value.minRange)&&p(T[R])),y=(T,R,N=0)=>{if(m(R,N)&&p(T)){const M=f2(T,R[N]),O=L2(R[N],T),P=O.length===1?0:O.filter(H=>d(H)).length,Q=Math.abs(M)-(n.value.minMaxRawRange?0:P);if(n.value.minRange&&n.value.maxRange)return Q>=+n.value.minRange&&Q<=+n.value.maxRange;if(n.value.minRange)return Q>=+n.value.minRange;if(n.value.maxRange)return Q<=+n.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=T=>Array.isArray(T)?[T[0]?Np(T[0]):null,T[1]?Np(T[1]):null]:Np(T),b=(T,R,N)=>T.find(M=>+M.hours===Gi(R)&&M.minutes==="*"?!0:+M.minutes===No(R)&&+M.hours===Gi(R))&&N,g=(T,R,N)=>{const[M,O]=T,[P,Q]=R;return!b(M,P,N)&&!b(O,Q,N)&&N},w=(T,R)=>{const N=Array.isArray(R)?R:[R];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?g(t.disabledTimes,N,T):!N.some(M=>b(t.disabledTimes,M,T)):T},k=(T,R)=>{const N=Array.isArray(R)?[gs(R[0]),R[1]?gs(R[1]):void 0]:gs(R),M=!t.disabledTimes(N);return T&&M},S=(T,R)=>t.disabledTimes?Array.isArray(t.disabledTimes)?w(R,T):k(R,T):R,E=T=>{let R=!0;if(!T||v())return!0;const N=!r.value.minDate&&!r.value.maxDate?_(T):T;return(t.maxTime||r.value.maxDate)&&(R=j1(t.maxTime,r.value.maxDate,"max",mn(N),R)),(t.minTime||r.value.minDate)&&(R=j1(t.minTime,r.value.minDate,"min",mn(N),R)),S(T,R)},I=T=>{if(!t.monthPicker)return!0;let R=!0;const N=Ae(Ur(T));if(r.value.minDate&&r.value.maxDate){const M=Ae(Ur(r.value.minDate)),O=Ae(Ur(r.value.maxDate));return Yt(N,M)&&Bt(N,O)||st(N,M)||st(N,O)}if(r.value.minDate){const M=Ae(Ur(r.value.minDate));R=Yt(N,M)||st(N,M)}if(r.value.maxDate){const M=Ae(Ur(r.value.maxDate));R=Bt(N,M)||st(N,M)}return R},x=ge(()=>T=>!t.enableTimePicker||t.ignoreTimeValidation?!0:E(T)),A=ge(()=>T=>t.monthPicker?Array.isArray(T)&&(n.value.enabled||i.value.enabled)?!T.filter(R=>!I(R)).length:I(T):!0);return{isDisabled:d,validateDate:s,validateMonthYearInRange:u,isDateRangeAllowed:h,checkMinMaxRange:y,isValidTime:E,isTimeValid:x,isMonthValid:A}},nh=()=>{const t=ge(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ge(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ge(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},fB=(t,e,n)=>{const r=he(0),i=Dr({[ms.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ms.calendar]:!1,[ms.header]:!1}),o=ge(()=>t.monthPicker||t.timePicker),s=c=>{var d;if((d=t.flow)!=null&&d.length){if(!c&&o.value)return u();i[c]=!0,Object.keys(i).filter(h=>!i[h]).length||u()}},a=()=>{var c,d;(c=t.flow)!=null&&c.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u()),((d=t.flow)==null?void 0:d.length)===r.value&&Nn().then(()=>l())},l=()=>{r.value=-1},f=(c,d,...h)=>{var p,m;t.flow[r.value]===c&&n.value&&((m=(p=n.value)[d])==null||m.call(p,...h))},u=(c=0)=>{c&&(r.value+=c),f(Hn.month,"toggleMonthPicker",!0),f(Hn.year,"toggleYearPicker",!0),f(Hn.calendar,"toggleTimePicker",!1,!0),f(Hn.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===Hn.hours||d===Hn.minutes||d===Hn.seconds)&&f(d,"toggleTimePicker",!0,!0,d)};return{childMount:s,updateFlowStep:a,resetFlow:l,handleFlow:u,flowStep:r}},hB={key:1,class:"dp__input_wrap"},pB=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],mB={key:2,class:"dp__clear_icon"},gB=Jt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Zf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:o,defaultedAriaLabels:s,defaultedInline:a,defaultedConfig:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:c,getDefaultStartTime:d}=Ft(i),{checkMinMaxRange:h}=zo(i),p=he(),m=he(null),y=he(!1),v=he(!1),_=ge(()=>({dp__pointer:!i.disabled&&!i.readonly&&!o.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:y.value||i.isMenuOpen,dp__input_reg:!o.value.enabled,[i.inputClassName]:!!i.inputClassName})),b=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),p.value=null)},g=O=>{const P=d();return O8(O,o.value.format??c(),P??$2({},i.enableSeconds),i.inputValue,v.value,i.formatLocale)},w=O=>{const{rangeSeparator:P}=o.value,[Q,H]=O.split(`${P}`);if(Q){const B=g(Q.trim()),$=H?g(H.trim()):null;if(Pa(B,$))return;const F=B&&$?[B,$]:[B];h($,F,0)&&(p.value=B?F:null)}},k=()=>{v.value=!0},S=O=>{if(f.value.enabled)w(O);else if(u.value.enabled){const P=O.split(";");p.value=P.map(Q=>g(Q.trim())).filter(Q=>Q)}else p.value=g(O)},E=O=>{var P;const Q=typeof O=="string"?O:(P=O.target)==null?void 0:P.value;Q!==""?(o.value.openMenu&&!i.isMenuOpen&&r("open"),S(Q),r("set-input-date",p.value)):b(),v.value=!1,r("update:input-value",Q)},I=O=>{o.value.enabled?(S(O.target.value),o.value.enterSubmit&&ng(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):o.value.enterSubmit&&i.inputValue===""&&(p.value=null,r("clear"))):T(O)},x=O=>{o.value.enabled&&o.value.tabSubmit&&S(O.target.value),o.value.tabSubmit&&ng(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):o.value.tabSubmit&&i.inputValue===""&&(p.value=null,r("clear",!0))},A=()=>{y.value=!0,r("focus"),Nn().then(()=>{var O;o.value.enabled&&o.value.selectOnFocus&&((O=m.value)==null||O.select())})},T=O=>{O.preventDefault(),Io(O,l.value,!0),o.value.enabled&&o.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):o.value.enabled||r("toggle")},R=()=>{r("real-blur"),y.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&o.value.enabled&&p.value&&!i.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},N=O=>{Io(O,l.value,!0),r("clear")},M=O=>{if(O.key==="Tab"&&x(O),O.key==="Enter"&&I(O),!o.value.enabled){if(O.code==="Tab")return;O.preventDefault()}};return e({focusInput:()=>{var O;(O=m.value)==null||O.focus({preventScroll:!0})},setParsedDate:O=>{p.value=O}}),(O,P)=>{var Q;return ie(),ue("div",{onClick:T},[O.$slots.trigger&&!O.$slots["dp-input"]&&!le(a).enabled?Ne(O.$slots,"trigger",{key:0}):ye("",!0),!O.$slots.trigger&&(!le(a).enabled||le(a).input)?(ie(),ue("div",hB,[O.$slots["dp-input"]&&!O.$slots.trigger&&(!le(a).enabled||le(a).enabled&&le(a).input)?Ne(O.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:E,onEnter:I,onTab:x,onClear:N,onBlur:R,onKeypress:M,onPaste:k,onFocus:A,openMenu:()=>O.$emit("open"),closeMenu:()=>O.$emit("close"),toggleMenu:()=>O.$emit("toggle")}):ye("",!0),O.$slots["dp-input"]?ye("",!0):(ie(),ue("input",{key:1,id:O.uid?`dp-input-${O.uid}`:void 0,ref_key:"inputRef",ref:m,"data-test":"dp-input",name:O.name,class:Ge(_.value),inputmode:le(o).enabled?"text":"none",placeholder:O.placeholder,disabled:O.disabled,readonly:O.readonly,required:O.required,value:t.inputValue,autocomplete:O.autocomplete,"aria-label":(Q=le(s))==null?void 0:Q.input,"aria-disabled":O.disabled||void 0,"aria-invalid":O.state===!1?!0:void 0,onInput:E,onBlur:R,onFocus:A,onKeypress:M,onKeydown:M,onPaste:k},null,42,pB)),C("div",{onClick:P[2]||(P[2]=H=>r("toggle"))},[O.$slots["input-icon"]&&!O.hideInputIcon?(ie(),ue("span",{key:0,class:"dp__input_icon",onClick:P[0]||(P[0]=H=>r("toggle"))},[Ne(O.$slots,"input-icon")])):ye("",!0),!O.$slots["input-icon"]&&!O.hideInputIcon&&!O.$slots["dp-input"]?(ie(),Ue(le(Wa),{key:1,class:"dp__input_icon dp__input_icons",onClick:P[1]||(P[1]=H=>r("toggle"))})):ye("",!0)]),O.$slots["clear-icon"]&&t.inputValue&&O.clearable&&!O.disabled&&!O.readonly?(ie(),ue("span",mB,[Ne(O.$slots,"clear-icon",{clear:N})])):ye("",!0),O.clearable&&!O.$slots["clear-icon"]&&t.inputValue&&!O.disabled&&!O.readonly?(ie(),Ue(le(R2),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:P[3]||(P[3]=Pr(H=>N(H),["prevent"]))})):ye("",!0)])):ye("",!0)])}}}),vB=typeof window<"u"?window:void 0,Bp=()=>{},yB=t=>Cb()?(dI(t),!0):!1,_B=(t,e,n,r)=>{if(!t)return Bp;let i=Bp;const o=rn(()=>le(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Bp})},{immediate:!0,flush:"post"}),s=()=>{o(),i()};return yB(s),s},bB=(t,e,n,r={})=>{const{window:i=vB,event:o="pointerdown"}=r;return i?_B(i,o,s=>{const a=un(t),l=un(e);!a||!l||a===s.target||s.composedPath().includes(a)||s.composedPath().includes(l)||n(s)},{passive:!0}):void 0},wB=Jt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Zf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=Os(),s=he(!1),a=zl(i,"modelValue"),l=zl(i,"timezone"),f=he(null),u=he(null),c=he(null),d=he(!1),h=he(null),p=he(!1),m=he(!1),y=he(!1),{setMenuFocused:v,setShiftKey:_}=j2(),{clearArrowNav:b}=Ho(),{validateDate:g,isValidTime:w}=zo(i),{defaultedTransitions:k,defaultedTextInput:S,defaultedInline:E,defaultedConfig:I,defaultedRange:x,defaultedMultiDates:A}=Ft(i),{menuTransition:T,showTransition:R}=Bu(k);yt(()=>{K(i.modelValue),Nn().then(()=>{if(!E.value.enabled){const me=B(h.value);me==null||me.addEventListener("scroll",G),window==null||window.addEventListener("resize",Y)}}),E.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",de),window==null||window.addEventListener("keydown",ee)}),La(()=>{if(!E.value.enabled){const me=B(h.value);me==null||me.removeEventListener("scroll",G),window==null||window.removeEventListener("resize",Y)}window==null||window.removeEventListener("keyup",de),window==null||window.removeEventListener("keydown",ee)});const N=Er(o,"all",i.presetDates),M=Er(o,"input");rn([a,l],()=>{K(a.value)},{deep:!0});const{openOnTop:O,menuStyle:P,xCorrect:Q,setMenuPosition:H,getScrollableParent:B,shadowRender:$}=lB({menuRef:f,menuRefInner:u,inputRef:c,pickerWrapperRef:h,inline:E,emit:r,props:i,slots:o}),{inputValue:F,internalModelValue:D,parseExternalModelValue:K,emitModelValue:z,formatInputValue:j,checkBeforeEmit:V}=Z8(r,i,d),J=ge(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,"dp--flex-display-collapsed":y.value,dp__flex_display_with_input:E.value.input})),W=ge(()=>i.dark?"dp__theme_dark":"dp__theme_light"),oe=ge(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled}:{}),ce=ge(()=>({class:"dp__outer_menu_wrap"})),Z=ge(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),q=()=>{var me,Te;return(Te=(me=c.value)==null?void 0:me.$el)==null?void 0:Te.getBoundingClientRect()},G=()=>{s.value&&(I.value.closeOnScroll?Se():H())},Y=()=>{var me;s.value&&H();const Te=(me=u.value)==null?void 0:me.$el.getBoundingClientRect().width;y.value=document.body.offsetWidth<=Te},de=me=>{me.key==="Tab"&&!E.value.enabled&&!i.teleport&&I.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Se()),m.value=me.shiftKey},ee=me=>{m.value=me.shiftKey},U=()=>{!i.disabled&&!i.readonly&&($(K1,i),H(!1),s.value=!0,s.value&&r("open"),s.value||we(),K(i.modelValue))},te=()=>{var me;F.value="",we(),(me=c.value)==null||me.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),I.value.closeOnClearValue&&Se()},re=()=>{const me=D.value;return!me||!Array.isArray(me)&&g(me)?!0:Array.isArray(me)?A.value.enabled||me.length===2&&g(me[0])&&g(me[1])?!0:x.value.partialRange&&!i.timePicker?g(me[0]):!1:!1},se=()=>{V()&&re()?(z(),Se()):r("invalid-select",D.value)},ne=me=>{pe(),z(),I.value.closeOnAutoApply&&!me&&Se()},pe=()=>{c.value&&S.value.enabled&&c.value.setParsedDate(D.value)},ve=(me=!1)=>{i.autoApply&&w(D.value)&&re()&&(x.value.enabled&&Array.isArray(D.value)?(x.value.partialRange||D.value.length===2)&&ne(me):ne(me))},we=()=>{S.value.enabled||(D.value=null)},Se=()=>{E.value.enabled||(s.value&&(s.value=!1,Q.value=!1,v(!1),_(!1),b(),r("closed"),F.value&&K(a.value)),we(),r("blur"))},Le=(me,Te,Re=!1)=>{if(!me){D.value=null;return}const Mt=Array.isArray(me)?!me.some(Ut=>!g(Ut)):g(me),_t=w(me);Mt&&_t&&(D.value=me,Te&&(p.value=Re,se(),r("text-submit")))},Oe=()=>{i.autoApply&&w(D.value)&&z(),pe()},Ye=()=>s.value?Se():U(),De=me=>{D.value=me},rt=()=>{S.value.enabled&&(d.value=!0,j()),r("focus")},At=()=>{if(S.value.enabled&&(d.value=!1,K(i.modelValue),p.value)){const me=I8(h.value,m.value);me==null||me.focus()}r("blur")},Zt=me=>{u.value&&u.value.updateMonthYear(0,{month:F1(me.month),year:F1(me.year)})},It=me=>{K(me??i.modelValue)},Kt=(me,Te)=>{var Re;(Re=u.value)==null||Re.switchView(me,Te)},fe=me=>I.value.onClickOutside?I.value.onClickOutside(me):Se(),Ee=(me=0)=>{var Te;(Te=u.value)==null||Te.handleFlow(me)};return bB(f,c,()=>fe(re)),e({closeMenu:Se,selectDate:se,clearValue:te,openMenu:U,onScroll:G,formatInputValue:j,updateInternalModelValue:De,setMonthYear:Zt,parseModel:It,switchView:Kt,toggleMenu:Ye,handleFlow:Ee}),(me,Te)=>(ie(),ue("div",{ref_key:"pickerWrapperRef",ref:h,class:Ge(J.value),"data-datepicker-instance":""},[qe(gB,dn({ref_key:"inputRef",ref:c,"input-value":le(F),"onUpdate:inputValue":Te[0]||(Te[0]=Re=>_n(F)?F.value=Re:null),"is-menu-open":s.value},me.$props,{onClear:te,onOpen:U,onSetInputDate:Le,onSetEmptyDate:le(z),onSelectDate:se,onToggle:Ye,onClose:Se,onFocus:rt,onBlur:At,onRealBlur:Te[1]||(Te[1]=Re=>d.value=!1)}),Wn({_:2},[Xe(le(M),(Re,Mt)=>({name:Re,fn:ze(_t=>[Ne(me.$slots,Re,yn(nr(_t)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ie(),Ue(Qd(me.teleport?MS:"div"),yn(nr(oe.value)),{default:ze(()=>[qe(Yr,{name:le(T)(le(O)),css:le(R)&&!le(E).enabled},{default:ze(()=>[s.value?(ie(),ue("div",dn({key:0,ref_key:"dpWrapMenuRef",ref:f},ce.value,{class:{"dp--menu-wrapper":!le(E).enabled},style:le(E).enabled?void 0:le(P)}),[qe(K1,dn({ref_key:"dpMenuRef",ref:u},me.$props,{"internal-model-value":le(D),"onUpdate:internalModelValue":Te[2]||(Te[2]=Re=>_n(D)?D.value=Re:null),class:{[W.value]:!0,"dp--menu-wrapper":me.teleport},"open-on-top":le(O),"no-overlay-focus":Z.value,collapse:y.value,"get-input-rect":q,onClosePicker:Se,onSelectDate:se,onAutoApply:ve,onTimeUpdate:Oe,onFlowStep:Te[3]||(Te[3]=Re=>me.$emit("flow-step",Re)),onUpdateMonthYear:Te[4]||(Te[4]=Re=>me.$emit("update-month-year",Re)),onInvalidSelect:Te[5]||(Te[5]=Re=>me.$emit("invalid-select",le(D))),onAutoApplyInvalid:Te[6]||(Te[6]=Re=>me.$emit("invalid-select",Re)),onInvalidFixedRange:Te[7]||(Te[7]=Re=>me.$emit("invalid-fixed-range",Re)),onRecalculatePosition:le(H),onTooltipOpen:Te[8]||(Te[8]=Re=>me.$emit("tooltip-open",Re)),onTooltipClose:Te[9]||(Te[9]=Re=>me.$emit("tooltip-close",Re)),onTimePickerOpen:Te[10]||(Te[10]=Re=>me.$emit("time-picker-open",Re)),onTimePickerClose:Te[11]||(Te[11]=Re=>me.$emit("time-picker-close",Re)),onAmPmChange:Te[12]||(Te[12]=Re=>me.$emit("am-pm-change",Re)),onRangeStart:Te[13]||(Te[13]=Re=>me.$emit("range-start",Re)),onRangeEnd:Te[14]||(Te[14]=Re=>me.$emit("range-end",Re)),onDateUpdate:Te[15]||(Te[15]=Re=>me.$emit("date-update",Re)),onInvalidDate:Te[16]||(Te[16]=Re=>me.$emit("invalid-date",Re)),onOverlayToggle:Te[17]||(Te[17]=Re=>me.$emit("overlay-toggle",Re))}),Wn({_:2},[Xe(le(N),(Re,Mt)=>({name:Re,fn:ze(_t=>[Ne(me.$slots,Re,yn(nr({..._t})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):ye("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),qu=(()=>{const t=wB;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),EB=Object.freeze(Object.defineProperty({__proto__:null,default:qu},Symbol.toStringTag,{value:"Module"}));Object.entries(EB).forEach(([t,e])=>{t!=="default"&&(qu[t]=e)});const TB=C("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),AB={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},kB={class:"relative p-4 max-w-2xl max-h-full"},xB={class:"relative bg-white rounded-lg shadow"},IB={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},SB=C("h3",{class:"text-lg font-semibold text-black"}," Avukat Uygun Randevu Saatleri ",-1),RB=C("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),OB=C("span",{class:"sr-only"},"Close modal",-1),PB=[RB,OB],CB={class:"p-4 px-10 max-h-full flex items-center justify-center"},DB={id:"timetable",class:"pt-4 grid w-full grid-cols-3 gap-2 mb-5"},MB=["id"],NB=["for"],LB={__name:"AttorneyScheduleModal",emits:["close"],setup(t,{emit:e}){const n=he(new Date),r={Monday:["09:00","10:00","11:30","13:00","14:30","16:00"],Tuesday:["09:30","10:30","12:00","13:30","15:00","16:30"],Wednesday:["09:00","11:00","12:30","14:00","15:30","17:00"],Thursday:["08:30","10:00","11:30","13:00","14:30","16:00"],Friday:["09:00","10:30","12:00","13:30","15:00","16:30"],Saturday:["10:00","11:30","13:00","14:30","16:00","17:30"],Sunday:["09:30","11:00","12:30","14:00","15:30","17:00"]},i=ge(()=>{const o=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n.value);return r[o]});return yt(()=>{console.log("Component mounted")}),(o,s)=>(ie(),ue(Pe,null,[TB,C("div",AB,[C("div",kB,[C("div",xB,[C("div",IB,[SB,C("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},PB)]),C("div",CB,[C("div",null,[qe(le(qu),{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=a=>n.value=a),inline:"","auto-apply":"",name:"date",class:"form-input w-full","enable-time-picker":!1},null,8,["modelValue"]),C("ul",DB,[(ie(!0),ue(Pe,null,Xe(i.value,(a,l)=>(ie(),ue("li",{key:l},[C("input",{type:"radio",id:"time-"+l,value:"",class:"hidden peer",name:"timetable"},null,8,MB),C("label",{for:"time-"+l,class:"inline-flex items-center justify-center w-full px-2 py-1 text-sm font-medium text-center hover:text-gray-900 dark:hover:text-white bg-white border rounded-lg cursor-pointer text-gray-500 border-gray-200 peer-checked:border-blue-700 peer-checked:bg-blue-50 peer-checked:text-blue-700 hover:bg-gray-50"},Ie(a),9,NB)]))),128))])])])])])])],64))}},$B={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},VB={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},FB={class:"flex justify-between items-center mb-4"},UB={class:"text-4xl font-bold text-gray-800"},BB=C("div",{class:"text-lg font-medium text-gray-500"}," Toplam Online Görüşmeler ",-1),jB=C("div",{class:"text-gray-400"},[C("i",{class:"ri-group-line text-4xl"})],-1),qB={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},HB={class:"text-right text-sm font-medium text-gray-600 mt-2"},zB={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},KB={class:"flex justify-between items-center mb-4"},WB={class:"flex items-center mb-1"},YB={class:"text-4xl font-bold text-gray-800"},GB={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},QB=C("div",{class:"text-lg font-medium text-gray-500"}," Yaklaşan Görüşmeler ",-1),XB=C("div",{class:"text-gray-400"},[C("i",{class:"ri-calendar-check-line text-4xl"})],-1),JB=C("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),ZB={class:"mt-2 flex flex-wrap"},ej={key:0,class:"bg-white flex justify-center rounded-lg border border-gray-200 p-2 shadow-lg"},tj={key:0},nj=["src"],rj={key:1,class:"bg-white border border-gray-200 rounded-lg p-6 shadow-lg"},ij=C("div",{class:"flex justify-between items-center mb-4 bg-gray-800 p-2 rounded-t-lg"},[C("div",{class:"flex items-center p-2"},[C("i",{class:"ri-award-line text-2xl text-white"}),C("div",{class:"ml-2 text-lg font-bold text-white"}," En çok Görüşme Yapan Avukatlar ")])],-1),oj={class:"mt-2 space-y-2"},sj={class:"flex items-center"},aj={class:"bg-gray-800 text-white rounded-full h-8 w-8 flex items-center justify-center font-bold"},lj={class:"pl-4 flex items-center justify-stretch"},uj={class:"text-lg font-bold"},cj={class:"text-xl border-l-2 border-gray-800 px-4"},dj={__name:"MeetingCards",props:{totalMeetings:Number,approvedMeetings:Number,satisfactionRate:Number,meetingStatusSummary:Object,topAttorneys:Array,showTopAttorneys:Boolean,showAttorneySchedule:Boolean,uid:String},setup(t){const e=Vo(),n=ge(()=>e.getters.userRole),r=he(!1),i=()=>n.value==="admin",o=t,s={0:"bg-blue-100 text-blue-700",1:"bg-green-100 text-green-700",2:"bg-gray-100 text-gray-700",3:"bg-red-100 text-red-700",4:"bg-orange-100 text-orange-700",5:"bg-orange-100 text-orange-700",6:"bg-black text-white",7:"bg-black text-white"},a=u=>{switch(u){case"0":return"İstek";case"1":return"Kabul Edildi";case"2":return"Tamamlandı";case"3":return"Reddedildi";case"4":return"Müşteri Onayı";case"5":return"Avukat Onayı";case"6":return"İptal Edildi";default:return"Unknown"}},l=ge(()=>o.totalMeetings===0?0:(o.approvedMeetings/o.totalMeetings*100).toFixed(2)),f=ge(()=>o.totalMeetings===0?0:(o.totalMeetings/100*100).toFixed(2));return yt(()=>{console.log("isAdmin",i()),console.log("uid",o.uid)}),(u,c)=>(ie(),ue(Pe,null,[r.value?(ie(),Ue(LB,{key:0,onClose:c[0]||(c[0]=d=>r.value=!1)})):ye("",!0),C("div",$B,[C("div",VB,[C("div",FB,[C("div",null,[C("div",UB,Ie(t.totalMeetings),1),BB]),jB]),C("div",qB,[C("div",{class:"h-full bg-blue-600",style:vn({width:f.value+"%"})},null,4)]),C("div",HB,Ie(f.value)+"% ",1)]),C("div",zB,[C("div",KB,[C("div",null,[C("div",WB,[C("div",YB,Ie(t.approvedMeetings),1),C("div",GB," +"+Ie(l.value)+"% ",1)]),QB]),XB]),JB,C("div",ZB,[(ie(!0),ue(Pe,null,Xe(t.meetingStatusSummary,(d,h)=>(ie(),ue("span",{key:h,class:Ge([s[h],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ie(a(h))+": "+Ie(d),3))),128))])]),t.showTopAttorneys?ye("",!0):(ie(),ue("div",ej,[t.uid?(ie(),ue("div",tj,[C("img",{src:`/assets/images/${t.uid}.jpg`,alt:"Attorney Photo",class:"w-56 object-cover rounded-md"},null,8,nj)])):ye("",!0)])),t.showTopAttorneys?(ie(),ue("div",rj,[ij,C("ul",oj,[(ie(!0),ue(Pe,null,Xe(t.topAttorneys,(d,h)=>(ie(),ue("li",{key:h,class:"flex items-center justify-between text-lg font-medium text-black bg-gray-100 h-10 rounded-lg"},[C("div",sj,[C("div",aj,Ie(h+1),1),C("div",lj,[C("div",uj,Ie(d.name),1)])]),C("div",cj,Ie(d.meetings),1)]))),128))])])):ye("",!0)])],64))}},fj={},hj={class:"bg-white border border-gray-200 shadow-md shadow-black/5 p-6 rounded-md"};function pj(t,e){return ie(),ue("section",hj,[Ne(t.$slots,"default")])}const G2=Nr(fj,[["render",pj]]),mj={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},gj={key:1,tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},vj={class:"relative p-4 w-full max-w-2xl max-h-full"},yj={class:"relative bg-white rounded-lg shadow"},_j={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},bj=C("h3",{class:"text-lg font-semibold text-black"}," Danışan Dökümanları ",-1),wj=C("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Ej=C("span",{class:"sr-only"},"Close modal",-1),Tj=[wj,Ej],Aj={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},kj={class:"col-span-2"},xj=C("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Notu",-1),Ij={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},Sj={class:"col-span-2"},Rj=C("label",{for:"documents",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Evrakları",-1),Oj={key:0,class:"grid gap-4 grid-cols-1 md:grid-cols-2"},Pj={class:"flex items-center justify-between"},Cj={class:"flex items-center"},Dj={class:"flex flex-col items-center justify-center mr-4"},Mj=C("i",{class:"ri-file-fill text-3xl"},null,-1),Nj={class:"text-sm text-gray-500"},Lj={class:"text-sm text-gray-500"},$j=["onClick"],Vj=C("i",{class:"ri-download-2-line text-2xl"},null,-1),Fj=C("span",{class:"sr-only"},"Close modal",-1),Uj=[Vj,Fj],Bj={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 w-full flex items-center"},jj=C("p",{class:"text-sm text-gray-500 font-normal"}," Danışan herhangi bir evrak eklemedi. ",-1),qj=[jj],Hj={__name:"DocumentsModal",props:{show:Boolean,customerNotes:String,customerDocuments:Array},emits:["close"],setup(t,{emit:e}){const n=o=>{window.open(o.file_url,"_blank")},r=o=>o.length>15?o.substring(0,6)+"..."+o.substring(o.length-8):o,i=o=>o>=1073741824?(o/1073741824).toFixed(2)+" GB":o>=1048576?(o/1048576).toFixed(2)+" MB":o>=1024?(o/1024).toFixed(2)+" KB":o+" B";return(o,s)=>(ie(),ue(Pe,null,[t.show?(ie(),ue("div",mj)):ye("",!0),t.show?(ie(),ue("div",gj,[C("div",vj,[C("div",yj,[C("div",_j,[bj,C("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Tj)]),C("div",Aj,[C("div",kj,[xj,C("p",Ij,Ie(t.customerNotes),1)]),C("div",Sj,[Rj,t.customerDocuments.length!=0?(ie(),ue("div",Oj,[(ie(!0),ue(Pe,null,Xe(t.customerDocuments,a=>(ie(),ue("div",{key:a.name,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},[C("div",Pj,[C("div",Cj,[C("div",Dj,[Mj,C("p",Nj,Ie(r(a.kind)),1)]),C("div",null,[C("p",null,Ie(r(a.name)),1),C("p",Lj,Ie(i(a.size)),1)])]),C("button",{type:"button",onClick:l=>n(a),class:"bg-transparent mt-1 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Uj,8,$j)])]))),128))])):(ie(),ue("div",Bj,qj))])])])])])):ye("",!0)],64))}},zj=C("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),Kj={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},Wj={class:"relative p-4 w-[32rem] max-h-full"},Yj={class:"relative bg-white rounded-lg shadow"},Gj={class:"flex items-center justify-between p-4 border-b rounded-t"},Qj=C("h3",{class:"text-lg font-semibold text-black"}," Yeni Randevu İsteği ",-1),Xj=C("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Jj=C("span",{class:"sr-only"},"Close modal",-1),Zj=[Xj,Jj],e7={class:"px-6 py-4 w-full mx-auto bg-white rounded-xl space-y-4"},t7={class:"flex items-center justify-center space-x-4"},n7={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},r7={class:"text-sm"},i7={class:"text-4xl font-bold"},o7={class:"text-sm"},s7={class:"p-2"},a7=C("h2",{class:"text-xl font-bold"},"Onaylıyor musun?",-1),l7={class:"flex items-center text-gray-500 space-x-2"},u7=C("i",{class:"ri-time-line text-lg"},null,-1),c7={class:"flex space-x-2 mt-2"},d7={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},f7={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},h7={key:0,class:"bg-green-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},p7=C("p",{class:"text-sm text-gray-500 font-normal"}," Online görüşme başarıyla oluşturuldu. ",-1),m7=[p7],g7={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},v7=C("p",{class:"text-sm text-gray-500 font-normal"}," Randevu başarıyla reddedildi. ",-1),y7=[v7],_7={key:2,class:"bg-gray-50 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},b7=C("p",{class:"text-sm text-gray-500 font-normal"}," Randevuyu onaylarsanız, online görüşme oluşturulup ilgili avukat ve müvekkil mail bilgilendirilecektir. ",-1),w7=[b7],E7={key:3,class:"flex items-center justify-center space-x-4 mt-2"},T7={key:1},A7={key:4,class:"mb-2 rounded-lg"},k7=C("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},"Reddetme sebebi",-1),x7={class:"flex items-center justify-center space-x-4 mt-4"},I7={key:1},S7={__name:"Status0Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close","accept-meeting","reject-meeting"],setup(t,{emit:e}){const n=he(!1),r=he(!1),i=he(!1),o=he(!1),s=he(""),a=e,l=()=>{n.value=!0,setTimeout(()=>{n.value=!1,r.value=!0,setTimeout(()=>{a("accept-meeting"),a("close")},1e3)},4e3)},f=()=>{n.value=!0,setTimeout(()=>{n.value=!1,o.value=!1,i.value=!0,setTimeout(()=>{a("reject-meeting",s.value)},700)},2e3)};return yt(()=>{console.log("status 0 modal mounted")}),(u,c)=>(ie(),ue(Pe,null,[zj,C("div",Kj,[C("div",Wj,[C("div",Yj,[C("div",Gj,[Qj,C("button",{type:"buttona",onClick:c[0]||(c[0]=d=>u.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Zj)]),C("div",e7,[C("div",t7,[C("div",n7,[C("div",r7,Ie(t.formattedDate.month),1),C("div",i7,Ie(t.formattedDate.dayNumber),1),C("div",o7,Ie(t.formattedDate.dayName),1)]),C("div",s7,[a7,C("div",l7,[u7,C("span",null,Ie(t.formattedDate.time)+" -",1),C("span",null,Ie(t.formattedDate.meetingTimeEnd),1)]),C("div",c7,[C("span",d7,Ie(t.meetingData.attorney_name),1),C("span",f7,Ie(t.meetingData.customer_name),1)])])]),C("div",null,[r.value?(ie(),ue("div",h7,m7)):ye("",!0),i.value?(ie(),ue("div",g7,y7)):ye("",!0),!r.value&&!i.value&&!o.value?(ie(),ue("div",_7,w7)):ye("",!0),!r.value&&!i.value&&!o.value?(ie(),ue("div",E7,[C("button",{onClick:l,class:"bg-green-600 text-white hover:bg-green-700 px-4 py-2 rounded-md"},[n.value?(ie(),Ue(Is,{key:0,text:"Oluşturuluyor"})):(ie(),ue("span",T7,"Evet"))]),C("button",{onClick:c[1]||(c[1]=d=>o.value=!0),class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md"}," Hayır ")])):ye("",!0),o.value?(ie(),ue("div",A7,[k7,Et(C("textarea",{id:"reason","onUpdate:modelValue":c[2]||(c[2]=d=>s.value=d),rows:"3",class:"block w-full h-32 bg-gray-100 rounded-md border-gray-300 shadow-sm"},null,512),[[yi,s.value]]),C("div",x7,[C("button",{onClick:f,class:"bg-red-600 text-white hover:bg-red-700 px-4 py-2 rounded-md"},[n.value?(ie(),Ue(Is,{key:0,text:"Kaydediliyor"})):(ie(),ue("span",I7,"Kaydet"))])])])):ye("",!0)])])])])])],64))}};/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const Kc=1e3,Wc=60*Kc,Yc=60*Wc,W1=24*Yc,Y1="abort",G1="end",Q1="progress",X1="start",J1="visibilitychange";var R7=Jt({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[Y1,G1,Q1,X1],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/W1)},hours(){return Math.floor(this.totalMilliseconds%W1/Yc)},minutes(){return Math.floor(this.totalMilliseconds%Yc/Wc)},seconds(){return Math.floor(this.totalMilliseconds%Wc/Kc)},milliseconds(){return Math.floor(this.totalMilliseconds%Kc)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/Yc)},totalMinutes(){return Math.floor(this.totalMilliseconds/Wc)},totalSeconds(){return Math.floor(this.totalMilliseconds/Kc)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(J1,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(J1,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(X1),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const r=i=>{e||(e=i),n||(n=i);const o=i-e;o>=t||o+(i-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(r),n=i};this.requestId=requestAnimationFrame(r)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(Q1,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(Y1))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(G1))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return $a(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const O7=C("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),P7={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},C7={class:"relative p-4 w-[36rem] max-h-full"},D7={class:"relative bg-white rounded-lg shadow"},M7={class:"flex items-center justify-between p-4 border-b rounded-t"},N7=C("h3",{class:"text-lg font-semibold text-black"}," Toplantı Detayları ",-1),L7=C("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),$7=C("span",{class:"sr-only"},"Close modal",-1),V7=[L7,$7],F7={class:"px-6 py-4"},U7={class:"flex items-center justify-center space-x-4"},B7={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},j7={class:"text-sm"},q7={class:"text-4xl font-bold"},H7={class:"text-sm"},z7={class:"p-2"},K7=C("h2",{class:"text-xl font-bold"},"Toplantı Detayları",-1),W7={class:"flex items-center text-gray-500 space-x-2"},Y7=C("i",{class:"ri-time-line text-lg"},null,-1),G7={class:"flex space-x-2 mt-2"},Q7={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},X7={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},J7={class:"mb-4"},Z7=C("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Randevu Sebebi",-1),eq={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},tq={class:"mb-4"},nq={class:"bg-gray-50 border border-gray-300 rounded-lg flex flex-col items-center justify-center"},rq={class:"flex items-center space-x-2 text-gray-800 text-lg mx-3"},iq=C("div",{class:"mr-2"},"Kalan Süre:",-1),oq={key:0},sq={class:"flex items-center justify-center space-x-4 mt-2"},aq=["href"],lq={__name:"Status1Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=ge(()=>{if(n.meetingData.date_time&&n.meetingData.date_time.seconds){const a=new Date(n.meetingData.date_time.seconds*1e3)-new Date;return a>0?a:0}return 0});async function i(o){try{await navigator.clipboard.writeText(o)}catch{}}return(o,s)=>(ie(),ue(Pe,null,[O7,C("div",P7,[C("div",C7,[C("div",D7,[C("div",M7,[N7,C("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},V7)]),C("div",F7,[C("div",U7,[C("div",B7,[C("div",j7,Ie(t.formattedDate.month),1),C("div",q7,Ie(t.formattedDate.dayNumber),1),C("div",H7,Ie(t.formattedDate.dayName),1)]),C("div",z7,[K7,C("div",W7,[Y7,C("span",null,Ie(t.formattedDate.time)+" -",1),C("span",null,Ie(t.formattedDate.meetingTimeEnd),1)]),C("div",G7,[C("span",Q7,Ie(t.meetingData.attorney_name),1),C("span",X7,Ie(t.meetingData.customer_name),1)])])]),C("div",J7,[Z7,C("p",eq,Ie(t.meetingData.topic),1)]),C("div",tq,[C("div",nq,[qe(le(R7),{class:"text-lg font-bold p-4",time:r.value},{default:ze(({days:a,hours:l,minutes:f,seconds:u})=>[C("div",rq,[iq,a>1?(ie(),ue("span",oq,Ie(a)+" gün",1)):ye("",!0),C("span",null,Ie(l)+" saat",1),C("span",null,Ie(f)+" dakika",1),C("span",null,Ie(u)+" saniye",1)])]),_:1},8,["time"])])]),C("div",sq,[C("a",{href:t.meetingData.meeting_url,target:"_blank",class:"text-white w-32 bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Katıl ",8,aq),C("button",{onClick:s[1]||(s[1]=a=>i(t.meetingData.meeting_url)),class:"bg-gray-200 text-xl ri-clipboard-line hover:bg-gray-300 px-2 py-2 rounded-md"})])])])])])],64))}},uq=C("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),cq={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},dq={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},fq={class:"relative bg-white rounded-lg shadow"},hq={class:"flex items-center justify-between p-4 border-b rounded-t"},pq=C("h3",{class:"text-lg font-semibold text-black"}," Reddedilme Edilme Sebebi ",-1),mq=C("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),gq=C("span",{class:"sr-only"},"Close modal",-1),vq=[mq,gq],yq={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},_q={class:"col-span-2"},bq=C("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),wq={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},Eq={__name:"Status3Modal",props:{rejectReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ie(),ue(Pe,null,[uq,C("div",cq,[C("div",dq,[C("div",fq,[C("div",hq,[pq,C("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},vq)]),C("div",yq,[C("div",_q,[bq,C("p",wq,Ie(t.rejectReason),1)])])])])])],64))}};function rg(t,e="all"){if(!t)return"";if(t.seconds){const n=new Date(t.seconds*1e3),r=n.toLocaleDateString("tr-TR"),i=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),s=`${i}:${o}`,a=n.toLocaleDateString("tr-TR",{month:"short"}).toUpperCase(),l=n.getDate(),f=n.toLocaleDateString("tr-TR",{weekday:"long"});switch(e){case"date":return r;case"time":return s;case"month":return a;case"day-number":return l;case"day-name":return f;case"all":default:return{date:r,time:s,month:a,dayNumber:l,dayName:f}}}}function Q2(t){const e={Ç:"C",ç:"c",Ğ:"G",ğ:"g",İ:"I",ı:"i",Ö:"O",ö:"o",Ş:"S",ş:"s",Ü:"U",ü:"u"};return t.toString().toLowerCase().replace(/[ÇçĞğİıÖöŞşÜü]/g,n=>e[n]).replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const Tq=C("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),Aq={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},kq={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},xq={class:"relative bg-white rounded-lg shadow"},Iq={class:"flex items-center justify-between p-4 border-b rounded-t"},Sq=C("h3",{class:"text-lg font-semibold text-black"}," İptal Edilme Sebebi ",-1),Rq=C("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Oq=C("span",{class:"sr-only"},"Close modal",-1),Pq=[Rq,Oq],Cq={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},Dq={class:"col-span-2"},Mq=C("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),Nq={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},Lq={__name:"Status6Modal",props:{cancelReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ie(),ue(Pe,null,[Tq,C("div",Aq,[C("div",kq,[C("div",xq,[C("div",Iq,[Sq,C("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Pq)]),C("div",Cq,[C("div",Dq,[Mq,C("p",Nq,Ie(t.cancelReason),1)])])])])])],64))}},$q={__name:"StatusActionModalHandler",props:{meetingData:{type:Object,required:!0},keepStatusModalOpen:{type:Boolean,required:!0}},emits:["close","accept-meeting","reject-meeting"],setup(t,{emit:e}){const n=e,r=t;function i(a){const l=new Date(a*1e3);l.setHours(l.getHours()+1);const f=l.getHours().toString().padStart(2,"0"),u=l.getMinutes().toString().padStart(2,"0");return`${f}:${u}`}const o=ge(()=>{const a=r.meetingData.date_time,l=rg(a,"all");return l.meetingTimeEnd=i(a),l}),s=a=>{n("reject-meeting",a)};return(a,l)=>(ie(),ue(Pe,null,[t.meetingData.status==="0"&&t.keepStatusModalOpen?(ie(),Ue(S7,{key:0,onClose:l[0]||(l[0]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value,onAcceptMeeting:l[1]||(l[1]=f=>a.$emit("accept-meeting")),onRejectMeeting:s},null,8,["meetingData","formattedDate"])):ye("",!0),t.meetingData.status==="1"&&t.keepStatusModalOpen?(ie(),Ue(lq,{key:1,onClose:l[2]||(l[2]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value},null,8,["meetingData","formattedDate"])):ye("",!0),t.meetingData.status==="3"&&t.keepStatusModalOpen?(ie(),Ue(Eq,{key:2,onClose:l[3]||(l[3]=f=>a.$emit("close")),rejectReason:t.meetingData.cancel_reason},null,8,["rejectReason"])):ye("",!0),t.meetingData.status==="6"&&t.keepStatusModalOpen?(ie(),Ue(Lq,{key:3,onClose:l[4]||(l[4]=f=>a.$emit("close")),cancelReason:t.meetingData.cancel_reason},null,8,["cancelReason"])):ye("",!0)],64))}};function X2(t,e){return function(){return t.apply(e,arguments)}}const{toString:Vq}=Object.prototype,{getPrototypeOf:Ey}=Object,rh=(t=>e=>{const n=Vq.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ni=t=>(t=t.toLowerCase(),e=>rh(e)===t),ih=t=>e=>typeof e===t,{isArray:Ya}=Array,vu=ih("undefined");function Fq(t){return t!==null&&!vu(t)&&t.constructor!==null&&!vu(t.constructor)&&Or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const J2=ni("ArrayBuffer");function Uq(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&J2(t.buffer),e}const Bq=ih("string"),Or=ih("function"),Z2=ih("number"),oh=t=>t!==null&&typeof t=="object",jq=t=>t===!0||t===!1,Gc=t=>{if(rh(t)!=="object")return!1;const e=Ey(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qq=ni("Date"),Hq=ni("File"),zq=ni("Blob"),Kq=ni("FileList"),Wq=t=>oh(t)&&Or(t.pipe),Yq=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Or(t.append)&&((e=rh(t))==="formdata"||e==="object"&&Or(t.toString)&&t.toString()==="[object FormData]"))},Gq=ni("URLSearchParams"),[Qq,Xq,Jq,Zq]=["ReadableStream","Request","Response","Headers"].map(ni),eH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ya(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function ex(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const tx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nx=t=>!vu(t)&&t!==tx;function ig(){const{caseless:t}=nx(this)&&this||{},e={},n=(r,i)=>{const o=t&&ex(e,i)||i;Gc(e[o])&&Gc(r)?e[o]=ig(e[o],r):Gc(r)?e[o]=ig({},r):Ya(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Hu(arguments[r],n);return e}const tH=(t,e,n,{allOwnKeys:r}={})=>(Hu(e,(i,o)=>{n&&Or(i)?t[o]=X2(i,n):t[o]=i},{allOwnKeys:r}),t),nH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iH=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Ey(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},sH=t=>{if(!t)return null;if(Ya(t))return t;let e=t.length;if(!Z2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},aH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ey(Uint8Array)),lH=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},uH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cH=ni("HTMLFormElement"),dH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Z1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),fH=ni("RegExp"),rx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Hu(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},hH=t=>{rx(t,(e,n)=>{if(Or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pH=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ya(t)?r(t):r(String(t).split(e)),n},mH=()=>{},gH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,jp="abcdefghijklmnopqrstuvwxyz",eb="0123456789",ix={DIGIT:eb,ALPHA:jp,ALPHA_DIGIT:jp+jp.toUpperCase()+eb},vH=(t=16,e=ix.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function yH(t){return!!(t&&Or(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _H=t=>{const e=new Array(10),n=(r,i)=>{if(oh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ya(r)?[]:{};return Hu(r,(s,a)=>{const l=n(s,i+1);!vu(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},bH=ni("AsyncFunction"),wH=t=>t&&(oh(t)||Or(t))&&Or(t.then)&&Or(t.catch),_e={isArray:Ya,isArrayBuffer:J2,isBuffer:Fq,isFormData:Yq,isArrayBufferView:Uq,isString:Bq,isNumber:Z2,isBoolean:jq,isObject:oh,isPlainObject:Gc,isReadableStream:Qq,isRequest:Xq,isResponse:Jq,isHeaders:Zq,isUndefined:vu,isDate:qq,isFile:Hq,isBlob:zq,isRegExp:fH,isFunction:Or,isStream:Wq,isURLSearchParams:Gq,isTypedArray:aH,isFileList:Kq,forEach:Hu,merge:ig,extend:tH,trim:eH,stripBOM:nH,inherits:rH,toFlatObject:iH,kindOf:rh,kindOfTest:ni,endsWith:oH,toArray:sH,forEachEntry:lH,matchAll:uH,isHTMLForm:cH,hasOwnProperty:Z1,hasOwnProp:Z1,reduceDescriptors:rx,freezeMethods:hH,toObjectSet:pH,toCamelCase:dH,noop:mH,toFiniteNumber:gH,findKey:ex,global:tx,isContextDefined:nx,ALPHABET:ix,generateString:vH,isSpecCompliantForm:yH,toJSONObject:_H,isAsyncFn:bH,isThenable:wH};function nt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}_e.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ox=nt.prototype,sx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sx[t]={value:t}});Object.defineProperties(nt,sx);Object.defineProperty(ox,"isAxiosError",{value:!0});nt.from=(t,e,n,r,i,o)=>{const s=Object.create(ox);return _e.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),nt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const EH=null;function og(t){return _e.isPlainObject(t)||_e.isArray(t)}function ax(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function tb(t,e,n){return t?t.concat(e).map(function(i,o){return i=ax(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function TH(t){return _e.isArray(t)&&!t.some(og)}const AH=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function sh(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!_e.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(_e.isDate(p))return p.toISOString();if(!l&&_e.isBlob(p))throw new nt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(p)||_e.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let v=p;if(p&&!y&&typeof p=="object"){if(_e.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(_e.isArray(p)&&TH(p)||(_e.isFileList(p)||_e.endsWith(m,"[]"))&&(v=_e.toArray(p)))return m=ax(m),v.forEach(function(b,g){!(_e.isUndefined(b)||b===null)&&e.append(s===!0?tb([m],g,o):s===null?m:m+"[]",f(b))}),!1}return og(p)?!0:(e.append(tb(y,m,o),f(p)),!1)}const c=[],d=Object.assign(AH,{defaultVisitor:u,convertValue:f,isVisitable:og});function h(p,m){if(!_e.isUndefined(p)){if(c.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(p),_e.forEach(p,function(v,_){(!(_e.isUndefined(v)||v===null)&&i.call(e,v,_e.isString(_)?_.trim():_,m,d))===!0&&h(v,m?m.concat(_):[_])}),c.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return h(t),e}function nb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ty(t,e){this._pairs=[],t&&sh(t,this,e)}const lx=Ty.prototype;lx.append=function(e,n){this._pairs.push([e,n])};lx.toString=function(e){const n=e?function(r){return e.call(this,r,nb)}:nb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function kH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ux(t,e,n){if(!e)return t;const r=n&&n.encode||kH,i=n&&n.serialize;let o;if(i?o=i(e,n):o=_e.isURLSearchParams(e)?e.toString():new Ty(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class rb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xH=typeof URLSearchParams<"u"?URLSearchParams:Ty,IH=typeof FormData<"u"?FormData:null,SH=typeof Blob<"u"?Blob:null,RH={isBrowser:!0,classes:{URLSearchParams:xH,FormData:IH,Blob:SH},protocols:["http","https","file","blob","url","data"]},Ay=typeof window<"u"&&typeof document<"u",OH=(t=>Ay&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),PH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CH=Ay&&window.location.href||"http://localhost",DH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ay,hasStandardBrowserEnv:OH,hasStandardBrowserWebWorkerEnv:PH,origin:CH},Symbol.toStringTag,{value:"Module"})),Wr={...DH,...RH};function MH(t,e){return sh(t,new Wr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Wr.isNode&&_e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function NH(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LH(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function dx(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&_e.isArray(i)?i.length:s,l?(_e.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!_e.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&_e.isArray(i[s])&&(i[s]=LH(i[s])),!a)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(r,i)=>{e(NH(r),i,n,0)}),n}return null}function $H(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const zu={transitional:cx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=_e.isObject(e);if(o&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return i?JSON.stringify(dx(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MH(e,this.formSerializer).toString();if((a=_e.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return sh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),$H(e)):e}],transformResponse:[function(e){const n=this.transitional||zu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?nt.from(a,nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wr.classes.FormData,Blob:Wr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{zu.headers[t]={}});const VH=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FH=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&VH[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ib=Symbol("internals");function hl(t){return t&&String(t).trim().toLowerCase()}function Qc(t){return t===!1||t==null?t:_e.isArray(t)?t.map(Qc):String(t)}function UH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const BH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qp(t,e,n,r,i){if(_e.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_e.isString(e)){if(_e.isString(r))return e.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(e)}}function jH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function qH(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class pr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,f){const u=hl(l);if(!u)throw new Error("header name must be a non-empty string");const c=_e.findKey(i,u);(!c||i[c]===void 0||f===!0||f===void 0&&i[c]!==!1)&&(i[c||l]=Qc(a))}const s=(a,l)=>_e.forEach(a,(f,u)=>o(f,u,l));if(_e.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(_e.isString(e)&&(e=e.trim())&&!BH(e))s(FH(e),n);else if(_e.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=hl(e),e){const r=_e.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return UH(i);if(_e.isFunction(n))return n.call(this,i,r);if(_e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hl(e),e){const r=_e.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=hl(s),s){const a=_e.findKey(r,s);a&&(!n||qp(r,r[a],a,n))&&(delete r[a],i=!0)}}return _e.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||qp(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return _e.forEach(this,(i,o)=>{const s=_e.findKey(r,o);if(s){n[s]=Qc(i),delete n[o];return}const a=e?jH(o):String(o).trim();a!==o&&delete n[o],n[a]=Qc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ib]=this[ib]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=hl(s);r[a]||(qH(i,s),r[a]=!0)}return _e.isArray(e)?e.forEach(o):o(e),this}}pr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(pr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_e.freezeMethods(pr);function Hp(t,e){const n=this||zu,r=e||n,i=pr.from(r.headers);let o=r.data;return _e.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function fx(t){return!!(t&&t.__CANCEL__)}function Ga(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(Ga,nt,{__CANCEL__:!0});function hx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function zH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const f=Date.now(),u=r[o];s||(s=f),n[i]=l,r[i]=f;let c=o,d=0;for(;c!==i;)d+=n[c++],c=c%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-s<e)return;const h=u&&f-u;return h?Math.round(d*1e3/h):void 0}}function KH(t,e){let n=0;const r=1e3/e;let i=null;return function(){const s=this===!0,a=Date.now();if(s||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Dd=(t,e,n=3)=>{let r=0;const i=zH(50,250);return KH(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,f=i(l),u=s<=a;r=s;const c={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:f||void 0,estimated:f&&a&&u?(a-s)/f:void 0,event:o,lengthComputable:a!=null};c[e?"download":"upload"]=!0,t(c)},n)},WH=Wr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=_e.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),YH=Wr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&s.push("path="+r),_e.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function QH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function px(t,e){return t&&!GH(e)?QH(t,e):e}const ob=t=>t instanceof pr?{...t}:t;function Ss(t,e){e=e||{};const n={};function r(f,u,c){return _e.isPlainObject(f)&&_e.isPlainObject(u)?_e.merge.call({caseless:c},f,u):_e.isPlainObject(u)?_e.merge({},u):_e.isArray(u)?u.slice():u}function i(f,u,c){if(_e.isUndefined(u)){if(!_e.isUndefined(f))return r(void 0,f,c)}else return r(f,u,c)}function o(f,u){if(!_e.isUndefined(u))return r(void 0,u)}function s(f,u){if(_e.isUndefined(u)){if(!_e.isUndefined(f))return r(void 0,f)}else return r(void 0,u)}function a(f,u,c){if(c in e)return r(f,u);if(c in t)return r(void 0,f)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(f,u)=>i(ob(f),ob(u),!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),function(u){const c=l[u]||i,d=c(t[u],e[u],u);_e.isUndefined(d)&&c!==a||(n[u]=d)}),n}const mx=t=>{const e=Ss({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=pr.from(s),e.url=ux(px(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(_e.isFormData(n)){if(Wr.hasStandardBrowserEnv||Wr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[f,...u]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...u].join("; "))}}if(Wr.hasStandardBrowserEnv&&(r&&_e.isFunction(r)&&(r=r(e)),r||r!==!1&&WH(e.url))){const f=i&&o&&YH.read(o);f&&s.set(i,f)}return e},XH=typeof XMLHttpRequest<"u",JH=XH&&function(t){return new Promise(function(n,r){const i=mx(t);let o=i.data;const s=pr.from(i.headers).normalize();let{responseType:a}=i,l;function f(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let u=new XMLHttpRequest;u.open(i.method.toUpperCase(),i.url,!0),u.timeout=i.timeout;function c(){if(!u)return;const h=pr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:t,request:u};hx(function(v){n(v),f()},function(v){r(v),f()},m),u=null}"onloadend"in u?u.onloadend=c:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(c)},u.onabort=function(){u&&(r(new nt("Request aborted",nt.ECONNABORTED,i,u)),u=null)},u.onerror=function(){r(new nt("Network Error",nt.ERR_NETWORK,i,u)),u=null},u.ontimeout=function(){let p=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const m=i.transitional||cx;i.timeoutErrorMessage&&(p=i.timeoutErrorMessage),r(new nt(p,m.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,i,u)),u=null},o===void 0&&s.setContentType(null),"setRequestHeader"in u&&_e.forEach(s.toJSON(),function(p,m){u.setRequestHeader(m,p)}),_e.isUndefined(i.withCredentials)||(u.withCredentials=!!i.withCredentials),a&&a!=="json"&&(u.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&u.addEventListener("progress",Dd(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Dd(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=h=>{u&&(r(!h||h.type?new Ga(null,t,u):h),u.abort(),u=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const d=HH(i.url);if(d&&Wr.protocols.indexOf(d)===-1){r(new nt("Unsupported protocol "+d+":",nt.ERR_BAD_REQUEST,t));return}u.send(o||null)})},ZH=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,s();const f=l instanceof Error?l:this.reason;n.abort(f instanceof nt?f:new Ga(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{i(new nt(`timeout ${e} of ms exceeded`,nt.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},ez=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},tz=async function*(t,e,n){for await(const r of t)yield*ez(ArrayBuffer.isView(r)?r:await n(String(r)),e)},sb=(t,e,n,r,i)=>{const o=tz(t,e,i);let s=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:f}=await o.next();if(l){a.close(),r();return}let u=f.byteLength;n&&n(s+=u),a.enqueue(new Uint8Array(f))},cancel(a){return r(a),o.return()}},{highWaterMark:2})},ab=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},ah=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gx=ah&&typeof ReadableStream=="function",sg=ah&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),nz=gx&&(()=>{let t=!1;const e=new Request(Wr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),lb=64*1024,ag=gx&&!!(()=>{try{return _e.isReadableStream(new Response("").body)}catch{}})(),Md={stream:ag&&(t=>t.body)};ah&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Md[e]&&(Md[e]=_e.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new nt(`Response type '${e}' is not supported`,nt.ERR_NOT_SUPPORT,r)})})})(new Response);const rz=async t=>{if(t==null)return 0;if(_e.isBlob(t))return t.size;if(_e.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(_e.isArrayBufferView(t))return t.byteLength;if(_e.isURLSearchParams(t)&&(t=t+""),_e.isString(t))return(await sg(t)).byteLength},iz=async(t,e)=>{const n=_e.toFiniteNumber(t.getContentLength());return n??rz(e)},oz=ah&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:f,headers:u,withCredentials:c="same-origin",fetchOptions:d}=mx(t);f=f?(f+"").toLowerCase():"text";let[h,p]=i||o||s?ZH([i,o],s):[],m,y;const v=()=>{!m&&setTimeout(()=>{h&&h.unsubscribe()}),m=!0};let _;try{if(l&&nz&&n!=="get"&&n!=="head"&&(_=await iz(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),S;_e.isFormData(r)&&(S=k.headers.get("content-type"))&&u.setContentType(S),k.body&&(r=sb(k.body,lb,ab(_,Dd(l)),null,sg))}_e.isString(c)||(c=c?"cors":"omit"),y=new Request(e,{...d,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:c});let b=await fetch(y);const g=ag&&(f==="stream"||f==="response");if(ag&&(a||g)){const k={};["status","statusText","headers"].forEach(E=>{k[E]=b[E]});const S=_e.toFiniteNumber(b.headers.get("content-length"));b=new Response(sb(b.body,lb,a&&ab(S,Dd(a,!0)),g&&v,sg),k)}f=f||"text";let w=await Md[_e.findKey(Md,f)||"text"](b,t);return!g&&v(),p&&p(),await new Promise((k,S)=>{hx(k,S,{data:w,headers:pr.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:y})})}catch(b){throw v(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,t,y),{cause:b.cause||b}):nt.from(b,b&&b.code,t,y)}}),lg={http:EH,xhr:JH,fetch:oz};_e.forEach(lg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ub=t=>`- ${t}`,sz=t=>_e.isFunction(t)||t===null||t===!1,vx={getAdapter:t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!sz(n)&&(r=lg[(s=String(n)).toLowerCase()],r===void 0))throw new nt(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(ub).join(`
`):" "+ub(o[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:lg};function zp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ga(null,t)}function cb(t){return zp(t),t.headers=pr.from(t.headers),t.data=Hp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vx.getAdapter(t.adapter||zu.adapter)(t).then(function(r){return zp(t),r.data=Hp.call(t,t.transformResponse,r),r.headers=pr.from(r.headers),r},function(r){return fx(r)||(zp(t),r&&r.response&&(r.response.data=Hp.call(t,t.transformResponse,r.response),r.response.headers=pr.from(r.response.headers))),Promise.reject(r)})}const yx="1.7.2",ky={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ky[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const db={};ky.transitional=function(e,n,r){function i(o,s){return"[Axios v"+yx+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new nt(i(s," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!db[s]&&(db[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function az(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new nt("option "+o+" must be "+l,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+o,nt.ERR_BAD_OPTION)}}const ug={assertOptions:az,validators:ky},so=ug.validators;class vs{constructor(e){this.defaults=e,this.interceptors={request:new rb,response:new rb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ss(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&ug.assertOptions(r,{silentJSONParsing:so.transitional(so.boolean),forcedJSONParsing:so.transitional(so.boolean),clarifyTimeoutError:so.transitional(so.boolean)},!1),i!=null&&(_e.isFunction(i)?n.paramsSerializer={serialize:i}:ug.assertOptions(i,{encode:so.function,serialize:so.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&_e.merge(o.common,o[n.method]);o&&_e.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=pr.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const f=[];this.interceptors.response.forEach(function(m){f.push(m.fulfilled,m.rejected)});let u,c=0,d;if(!l){const p=[cb.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,f),d=p.length,u=Promise.resolve(n);c<d;)u=u.then(p[c++],p[c++]);return u}d=a.length;let h=n;for(c=0;c<d;){const p=a[c++],m=a[c++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=cb.call(this,h)}catch(p){return Promise.reject(p)}for(c=0,d=f.length;c<d;)u=u.then(f[c++],f[c++]);return u}getUri(e){e=Ss(this.defaults,e);const n=px(e.baseURL,e.url);return ux(n,e.params,e.paramsSerializer)}}_e.forEach(["delete","get","head","options"],function(e){vs.prototype[e]=function(n,r){return this.request(Ss(r||{},{method:e,url:n,data:(r||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Ss(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}vs.prototype[e]=n(),vs.prototype[e+"Form"]=n(!0)});class xy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Ga(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new xy(function(i){e=i}),cancel:e}}}function lz(t){return function(n){return t.apply(null,n)}}function uz(t){return _e.isObject(t)&&t.isAxiosError===!0}const cg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cg).forEach(([t,e])=>{cg[e]=t});function _x(t){const e=new vs(t),n=X2(vs.prototype.request,e);return _e.extend(n,vs.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return _x(Ss(t,i))},n}const Xt=_x(zu);Xt.Axios=vs;Xt.CanceledError=Ga;Xt.CancelToken=xy;Xt.isCancel=fx;Xt.VERSION=yx;Xt.toFormData=sh;Xt.AxiosError=nt;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=lz;Xt.isAxiosError=uz;Xt.mergeConfig=Ss;Xt.AxiosHeaders=pr;Xt.formToJSON=t=>dx(_e.isHTMLForm(t)?new FormData(t):t);Xt.getAdapter=vx.getAdapter;Xt.HttpStatusCode=cg;Xt.default=Xt;const Xi=t=>(Yd("data-v-a4c15b84"),t=t(),Gd(),t),cz=Xi(()=>C("div",{class:"flex justify-between mb-4 items-start"},[C("h1",{class:"font-medium"},"Online Görüşmeler")],-1)),dz={action:"",class:"flex items-center mb-4"},fz={class:"relative w-full mr-2"},hz=Xi(()=>C("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1)),pz={class:"flex"},mz={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},gz=Xi(()=>C("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),vz=Xi(()=>C("p",{class:"text-sm font-medium text-gray-800"},"Görüşme İstekleri",-1)),yz={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},_z=Xi(()=>C("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),bz=Xi(()=>C("p",{class:"text-sm font-medium text-gray-800"},"Kabul Edilenler",-1)),wz={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},Ez=Xi(()=>C("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),Tz=Xi(()=>C("p",{class:"text-sm font-medium text-gray-800"},"Beklemede Olanlar",-1)),Az={key:0,class:"w-full mt-4 table-fixed"},kz=Xi(()=>C("thead",null,[C("tr",null,[C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Avukat "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan Tel "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Tarih "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Saat "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Görüşme Türü "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Evrak "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Ödeme "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Durum ")])],-1)),xz={class:"py-2 px-4 border-b border-b-gray-200"},Iz={class:"flex items-center"},Sz={class:"text-gray-600 text-sm font-medium hover:text-blue-500"},Rz={class:"py-2 px-4 border-b border-b-gray-200"},Oz={class:"text-[13px] font-medium text-gray-600"},Pz={class:"py-2 px-4 border-b border-b-gray-200"},Cz={class:"text-[13px] font-medium text-gray-600"},Dz={class:"py-2 px-4 border-b border-b-gray-200"},Mz={class:"text-[13px] font-medium text-gray-600"},Nz={class:"py-2 px-4 border-b border-b-gray-200"},Lz={class:"text-[13px] font-medium text-gray-600"},$z={class:"py-2 border-b px-4 border-b-gray-200"},Vz={class:"tooltip"},Fz={class:"w-10 h-10 flex items-center justify-center bg-gray-600 text-white text-xl font-medium rounded-full ml-2 ring-0"},Uz={class:"tooltiptext"},Bz={class:"py-2 px-4 border-b border-b-gray-200"},jz=["onClick"],qz={class:"py-2 border-b px-4 border-b-gray-200"},Hz={class:"tooltip"},zz={class:"tooltiptext"},Kz={class:"py-2 px-4 border-b border-b-gray-200"},Wz={class:"tooltip"},Yz=["onClick"],Gz={class:"tooltiptext"},Qz={class:"pagination-container flex justify-end mt-4 w-full"},Xz=["disabled"],Jz=["disabled"],Zz={__name:"OnlineMeetingsManagement",props:{showAll:Boolean,uid:String},emits:["goBack"],setup(t,{emit:e}){const n=Vo(),r=ge(()=>n.getters.userRole),i=t,o=e,s=he(null),a=he(!1),l=he(!1),f=he(!1),u=he(null),c=he([]),d=he({requests:!1,accepted:!1,pending:!1}),h=he(85),p=ge(()=>{const U={};return v.value.forEach(te=>{U[te.status]?U[te.status]++:U[te.status]=1}),U}),m=ge(()=>v.value.filter(U=>U.status==="1").length),y=ge(()=>{const U={};return v.value.forEach(re=>{U[re.attorney_name]?U[re.attorney_name]++:U[re.attorney_name]=1}),Object.entries(U).sort((re,se)=>se[1]-re[1]).map(([re,se])=>({name:re,meetings:se})).slice(0,3)}),v=he([]),_=zf(yr,"meetings"),b=ge(()=>v.value.length),g=he(1),w=he(10),k=he(""),S=()=>{o("goBack")},E=async(U,te,re)=>{const se=new Date(U.seconds*1e3).toISOString().split(".")[0]+"Z";console.log("start_time_iso",se);try{const ne=await Xt.post("https://ykt7hblm31.execute-api.eu-north-1.amazonaws.com/prod/create-meeting",{start_time:se,attorney_email:te,customer_email:re}),pe=JSON.parse(ne.data.body).meet_link;return console.log("response data",JSON.parse(ne.data.body).meet_link),console.log("Meeting created successfully"),pe}catch(ne){ne.response?(console.error("Error response data:",ne.response.data),console.error("Error response status:",ne.response.status),console.error("Error response headers:",ne.response.headers)):ne.request?console.error("No response received:",ne.request):console.error("Error setting up the request:",ne.message)}},I=async U=>{console.log("Exception data to add:",U);try{const te=tr(yr,"attorneys",U.attorney_id),re=await ks(te);if(re.exists()){const ne=re.data().exceptions||[];delete U.attorney_id,ne.push(U),await Vi(te,{exceptions:ne})}}catch(te){console.error("Error fetching attorney by ID:",te)}},x=async U=>{console.log("Exception data to delete:",U);try{const te=tr(yr,"attorneys",U.attorney_id),re=await ks(te);if(re.exists()){const pe=(re.data().exceptions||[]).filter(ve=>ve.meeting_id!==U.meeting_id);await Vi(te,{exceptions:pe})}}catch(te){console.error("Error fetching attorney by ID:",te)}};async function A(){v.value=await Promise.all(v.value.map(async U=>{if(U.id===s.value.id){U.status="1",console.log("Meeting data to set meeting",U);try{const te=await E(U.date_time,U.attorney_email,U.customer_email);U.meeting_url=te,await Y(U),await I({date:U.date,startTime:U.slot,endTime:U.end_time,repeat:!1,isMeeting:!0,attorney_id:U.attorney_id,meeting_id:U.id}),console.log("Meeting updated successfully:",U),T(U),s.value={}}catch(te){console.error("Failed to create meeting URL:",te)}}return U}))}const T=async U=>{try{const te=await Xt.post("https://ykt7hblm31.execute-api.eu-north-1.amazonaws.com/prod/send-meeting-accepted-email",{customer_name:U.customer_name,attorney_name:U.attorney_name,date_for_display:U.date_for_display,day:U.day,slot:U.slot,end_time:U.end_time,email:U.customer_email,meeting_url:U.meeting_url},{headers:{"Content-Type":"application/json"}});console.log(te),console.log("Meeting accepted email sent successfully")}catch(te){console.error("Error sending appointment recieved email:",te)}};function R(U){v.value=v.value.map(te=>(te.id===s.value.id&&(te.status="3",te.cancel_reason=U,te.payment_status="2",Y(te),l.value=!1),te))}function N(U,te){a.value=!0,u.value=U,c.value=te}function M(U){l.value=!0,s.value=U,f.value=!0}const O=ge(()=>{let U=v.value;k.value&&(U=U.filter(ne=>ne.customer_name.toLowerCase().includes(k.value.toLowerCase())));const{requests:te,accepted:re,pending:se}=d.value;return(te||re||se)&&(U=U.filter(ne=>{let pe=!1;return te&&ne.status==="0"&&(pe=!0),re&&ne.status==="1"&&(pe=!0),se&&ne.status==="4"&&(pe=!0),pe})),U}),P=ge(()=>(g.value-1)*w.value),Q=ge(()=>{if(O.value.length===0){const U=P.value,te=U+w.value;return v.value.slice(U,te)}else return O.value.slice(P.value,P.value+w.value)}),H=ge(()=>O.value.length===0?Math.ceil(v.value.length/w.value):Math.ceil(O.value.length/w.value)),B=()=>{g.value<H.value&&g.value++},$=()=>{g.value>1&&g.value--};he(null);const F=U=>{switch(U){case"0":return{color:"bg-blue-300 hover:bg-blue-400",text:"İstek",icon:"ri-user-add-line"};case"1":return{color:"bg-green-300 hover:bg-green-400 ",text:"Kabul edildi",icon:"ri-calendar-check-line"};case"2":return{color:"bg-gray-300 hover:bg-gray-400 ",text:"Tamamlandı",icon:"ri-check-line"};case"3":return{color:"bg-red-300 hover:bg-red-400 ",text:"Reddedildi",icon:"ri-close-line"};case"4":return{color:"bg-orange-200",text:"Müşteri onayı",icon:"ri-time-line"};case"5":return{color:"bg-orange-200",text:"Avukat onayı",icon:"ri-time-line"};case"6":return{color:"bg-gray-600 text-white hover:bg-gray-700 ",text:"İptal Edildi",icon:"ri-calendar-close-line"};default:return{color:"bg-gray-200",text:"Unknown status",icon:"ri-question-line"}}},D=U=>F(U).color,K=U=>F(U).icon,z=U=>F(U).text,j=U=>{switch(U){case"0":return{class:"bg-orange-300",text:"Bekleniyor",icon:"ri-time-line"};case"1":return{class:"bg-green-300",text:"Ödendi",icon:"ri-check-double-line"};case"2":return{class:"bg-red-300",text:"Ödenmedi",icon:"ri-close-line"};default:return{class:"bg-gray-200",text:"Bilinmiyor",icon:"ri-question-line"}}},V=U=>j(U).class,J=U=>j(U).icon,W=U=>j(U).text,oe=U=>{switch(U){case"phone":return{class:"bg-orange-300",text:"Telefonla Görüşme",icon:"ri-phone-line"};case"video":return{class:"bg-green-300",text:"Online Video Görüşme",icon:"ri-video-on-line"};case"inPerson":return{class:"bg-red-300",text:"Yüzyüze Görüşme",icon:"ri-user-line"};default:return{class:"bg-gray-200",icon:"ri-question-line"}}},ce=U=>oe(U).icon,Z=U=>oe(U).text;async function q(){let U=[];return(await Gv(_)).forEach(re=>{U.push({id:re.id,...re.data()})}),U}async function G(){try{const U=localStorage.getItem("cachedMeetings"),te=localStorage.getItem("cachedTimeMeetings"),re=0*60*1e3;if(U&&te&&new Date-new Date(parseInt(te))<re)return JSON.parse(U);{const se=await q();return localStorage.setItem("cachedMeetings",JSON.stringify(se)),localStorage.setItem("cachedTimeMeetings",new Date().getTime().toString()),se}}catch(U){return console.error("Error getting meetings:",U),[]}}async function Y(U){console.log("Received updated meeting data:",U);try{console.log("Updating document with ID:",U.id),await Vi(tr(yr,"meetings",U.id),U),localStorage.setItem("cachedMeetings",JSON.stringify(v.value))}catch(te){console.error("Error updating meeting document:",te)}}function de(U){const te={1:1,0:2,4:3,5:3,2:4,3:5,6:6,7:7};return U.sort((re,se)=>{const ne=te[re.status]-te[se.status];if(ne!==0)return ne;{const pe=new Date(re.date_time.seconds*1e3),ve=new Date(se.date_time.seconds*1e3);return pe-ve}})}const ee=U=>{const te=new Date(U.deadline.seconds*1e3);if(new Date>te&&U.status==="0"){const se=tr(yr,"meetings",U.id);return Vi(se,{status:"6",cancel_reason:"Ödeme süresi geçti.",payment_status:"2"}),x({attorney_id:U.attorney_id,meeting_id:U.id}),!0}else return!1};return yt(async()=>{const U=await G();U.forEach(re=>{const se=ee(re);console.log(U.indexOf(re),se),re.deadline_exceeded=se});const te=de(U);i.showAll?v.value=te:v.value=te.filter(re=>re.attorney_id===i.uid),console.log("Meetings data:",v.value)}),(U,te)=>(ie(),ue("div",null,[r.value==="admin"?(ie(),ue("button",{key:0,onClick:S,class:"bg-green-700 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön ")):ye("",!0),qe(Hj,{show:a.value,onClose:te[0]||(te[0]=re=>a.value=!1),customerDocuments:c.value,customerNotes:u.value},null,8,["show","customerDocuments","customerNotes"]),l.value?(ie(),Ue($q,{key:1,keepStatusModalOpen:f.value,meetingData:s.value,onAcceptMeeting:A,onRejectMeeting:R,onClose:te[1]||(te[1]=re=>l.value=!1)},null,8,["keepStatusModalOpen","meetingData"])):ye("",!0),qe(dj,{totalMeetings:b.value,approvedMeetings:m.value,satisfactionRate:h.value,meetingStatusSummary:p.value,topAttorneys:y.value,showTopAttorneys:i.showAll,showAttorneySchedule:!i.showAll,uid:i.uid},null,8,["totalMeetings","approvedMeetings","satisfactionRate","meetingStatusSummary","topAttorneys","showTopAttorneys","showAttorneySchedule","uid"]),qe(G2,{class:"p-6"},{default:ze(()=>{var re;return[cz,C("form",dz,[C("div",fz,[Et(C("input",{"onUpdate:modelValue":te[2]||(te[2]=se=>k.value=se),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Müşteri ismine göre ara..."},null,512),[[yi,k.value]]),hz])]),C("div",pz,[C("label",mz,[Et(C("input",{"onUpdate:modelValue":te[3]||(te[3]=se=>d.value.requests=se),type:"checkbox",class:"sr-only peer"},null,512),[[la,d.value.requests]]),gz,vz]),C("label",yz,[Et(C("input",{"onUpdate:modelValue":te[4]||(te[4]=se=>d.value.accepted=se),type:"checkbox",class:"sr-only peer"},null,512),[[la,d.value.accepted]]),_z,bz]),C("label",wz,[Et(C("input",{"onUpdate:modelValue":te[5]||(te[5]=se=>d.value.pending=se),type:"checkbox",class:"sr-only peer"},null,512),[[la,d.value.pending]]),Ez,Tz])]),(re=v.value)!=null&&re.length?(ie(),ue("table",Az,[kz,C("tbody",null,[(ie(!0),ue(Pe,null,Xe(Q.value,se=>(ie(),ue("tr",{key:se.id},[C("td",xz,[C("div",Iz,[C("span",Sz,Ie(se.attorney_name),1)])]),C("td",Rz,[C("span",Oz,Ie(se.customer_name),1)]),C("td",Pz,[C("span",Cz,Ie(se.customer_phone),1)]),C("td",Dz,[C("span",Mz,Ie(le(rg)(se.date_time,U.format="date")),1)]),C("td",Nz,[C("span",Lz,Ie(le(rg)(se.date_time,U.format="time")),1)]),C("td",$z,[C("div",Vz,[C("div",Fz,[C("i",{class:Ge(ce(se.type))},null,2),C("span",Uz,Ie(Z(se.type)),1)])])]),C("td",Bz,[C("button",{onClick:ne=>N(se.notes,se.customer_documents),class:"ri-file-text-line flex items-center justify-center ml-2 text-lg bg-yellow-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,jz)]),C("td",qz,[C("div",Hz,[C("div",{class:Ge(["w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0",V(se.payment_status)])},[C("i",{class:Ge(J(se.payment_status))},null,2),C("span",zz,Ie(W(se.payment_status)),1)],2)])]),C("td",Kz,[C("div",Wz,[C("button",{onClick:ne=>M(se),class:Ge([D(se.status),"w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0 focus:ring-[0.12rem] focus:ring-gray-600 focus:outline-none"])},[C("i",{class:Ge(K(se.status))},null,2)],10,Yz),C("span",Gz,Ie(z(se.status)),1)])])]))),128))])])):ye("",!0),C("div",Qz,[C("button",{onClick:$,disabled:g.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,Xz),C("button",{onClick:B,disabled:g.value===H.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,Jz)])]}),_:1})]))}},eK=Nr(Zz,[["__scopeId","data-v-a4c15b84"]]),fb={__name:"OnlineMeetings",setup(t){const e=he(!0),n=Vo(),r=ge(()=>n.getters.userRole),i=ge(()=>n.getters.user?n.getters.user.uid:null),o=he("");r.value!=="admin"&&(o.value=i.value,e.value=!1);const s=a=>{o.value=a,e.value=!1};return(a,l)=>r.value==="admin"&&e.value?(ie(),Ue(fF,{key:0,onOptionSelected:s})):(ie(),Ue(eK,{key:1,showAll:o.value==="showAll",uid:o.value,onGoBack:l[0]||(l[0]=f=>e.value=!0)},null,8,["showAll","uid"]))}},tK={key:0,id:"deleteModal",class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},nK={class:"bg-white rounded-lg p-4 max-w-sm w-full"},rK={key:0},iK=C("div",{class:"mb-4"},[C("p",{class:"text-gray-800 text-sm"}," Bu blog yazısını silmek istediğinize emin misiniz? ")],-1),oK={class:"flex justify-end"},sK={key:1},aK={key:2},lK=C("p",{class:"text-sm mb-4"},"Blog yazısı başarıyla silindi.",-1),uK={key:3},cK=C("p",{class:"text-sm mb-4"},"Blog yazısı silinirken bir hata oluştu.",-1),dK={__name:"DeleteModal",props:{show:Boolean},emits:["close","delete"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),o=he(!1),s=async()=>{r.value=!0;try{await new Promise(l=>setTimeout(l,2e3)),n("delete"),r.value=!1,i.value=!0}catch{r.value=!1,o.value=!0}},a=()=>{r.value=!1,i.value=!1,o.value=!1,n("close")};return(l,f)=>t.show?(ie(),ue("div",tK,[C("div",nK,[!r.value&&!i.value&&!o.value?(ie(),ue("div",rK,[iK,C("div",oK,[C("button",{onClick:s,id:"confirmDelete",class:"bg-red-600 text-white rounded px-4 py-2 mr-2"}," Evet "),C("button",{onClick:f[0]||(f[0]=u=>l.$emit("close")),id:"cancelDelete",class:"bg-gray-300 text-gray-800 rounded px-4 py-2"}," Hayır ")])])):r.value?(ie(),ue("div",sK,[qe(Is,{text:"Blog yazısı siliniyor..."})])):i.value?(ie(),ue("div",aK,[lK,C("div",{class:"flex justify-end"},[C("button",{onClick:a,class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dön ")])])):o.value?(ie(),ue("div",uK,[cK,C("div",{class:"flex justify-end"},[C("button",{onClick:a,class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dön ")])])):ye("",!0)])])):ye("",!0)}};var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wx={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Cn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),f=i(46),u=i(47),c=i(48),d=i(49),h=i(12),p=i(32),m=i(33),y=i(31),v=i(1),_={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:c.default,Scroll:l.default,Block:u.default,Inline:f.default,Text:d.default,Attributor:{Attribute:h.default,Class:p.default,Style:m.default,Store:y.default}};r.default=_},function(n,r,i){var o=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var b in _)_.hasOwnProperty(b)&&(v[b]=_[b])};return function(v,_){y(v,_);function b(){this.constructor=v}v.prototype=_===null?Object.create(_):(b.prototype=_.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(y){o(v,y);function v(_){var b=this;return _="[Parchment] "+_,b=y.call(this,_)||this,b.message=_,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=s;var a={},l={},f={},u={};r.DATA_KEY="__blot";var c;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function d(y,v){var _=p(y);if(_==null)throw new s("Unable to create "+y+" blot");var b=_,g=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:b.create(v);return new b(g,v)}r.create=d;function h(y,v){return v===void 0&&(v=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:v?h(y.parentNode,v):null}r.find=h;function p(y,v){v===void 0&&(v=c.ANY);var _;if(typeof y=="string")_=u[y]||a[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)_=u.text;else if(typeof y=="number")y&c.LEVEL&c.BLOCK?_=u.block:y&c.LEVEL&c.INLINE&&(_=u.inline);else if(y instanceof HTMLElement){var b=(y.getAttribute("class")||"").split(/\s+/);for(var g in b)if(_=l[b[g]],_)break;_=_||f[y.tagName]}return _==null?null:v&c.LEVEL&_.scope&&v&c.TYPE&_.scope?_:null}r.query=p;function m(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(y.length>1)return y.map(function(g){return m(g)});var _=y[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new s("Invalid definition");if(_.blotName==="abstract")throw new s("Cannot register abstract class");if(u[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(g){return g.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var b=Array.isArray(_.tagName)?_.tagName:[_.tagName];b.forEach(function(g){(f[g]==null||_.className==null)&&(f[g]=_)})}return _}r.register=m},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),f="\0",u=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};u.prototype.insert=function(c,d){var h={};return c.length===0?this:(h.insert=c,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h))},u.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},u.prototype.retain=function(c,d){if(c<=0)return this;var h={retain:c};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h)},u.prototype.push=function(c){var d=this.ops.length,h=this.ops[d-1];if(c=a(!0,{},c),typeof h=="object"){if(typeof c.delete=="number"&&typeof h.delete=="number")return this.ops[d-1]={delete:h.delete+c.delete},this;if(typeof h.delete=="number"&&c.insert!=null&&(d-=1,h=this.ops[d-1],typeof h!="object"))return this.ops.unshift(c),this;if(s(c.attributes,h.attributes)){if(typeof c.insert=="string"&&typeof h.insert=="string")return this.ops[d-1]={insert:h.insert+c.insert},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof h.retain=="number")return this.ops[d-1]={retain:h.retain+c.retain},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this}}return d===this.ops.length?this.ops.push(c):this.ops.splice(d,0,c),this},u.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},u.prototype.filter=function(c){return this.ops.filter(c)},u.prototype.forEach=function(c){this.ops.forEach(c)},u.prototype.map=function(c){return this.ops.map(c)},u.prototype.partition=function(c){var d=[],h=[];return this.forEach(function(p){var m=c(p)?d:h;m.push(p)}),[d,h]},u.prototype.reduce=function(c,d){return this.ops.reduce(c,d)},u.prototype.changeLength=function(){return this.reduce(function(c,d){return d.insert?c+l.length(d):d.delete?c-d.delete:c},0)},u.prototype.length=function(){return this.reduce(function(c,d){return c+l.length(d)},0)},u.prototype.slice=function(c,d){c=c||0,typeof d!="number"&&(d=1/0);for(var h=[],p=l.iterator(this.ops),m=0;m<d&&p.hasNext();){var y;m<c?y=p.next(c-m):(y=p.next(d-m),h.push(y)),m+=l.length(y)}return new u(h)},u.prototype.compose=function(c){var d=l.iterator(this.ops),h=l.iterator(c.ops),p=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var y=m.retain;d.peekType()==="insert"&&d.peekLength()<=y;)y-=d.peekLength(),p.push(d.next());m.retain-y>0&&h.next(m.retain-y)}for(var v=new u(p);d.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(d.peekType()==="delete")v.push(d.next());else{var _=Math.min(d.peekLength(),h.peekLength()),b=d.next(_),g=h.next(_);if(typeof g.retain=="number"){var w={};typeof b.retain=="number"?w.retain=_:w.insert=b.insert;var k=l.attributes.compose(b.attributes,g.attributes,typeof b.retain=="number");if(k&&(w.attributes=k),v.push(w),!h.hasNext()&&s(v.ops[v.ops.length-1],w)){var S=new u(d.rest());return v.concat(S).chop()}}else typeof g.delete=="number"&&typeof b.retain=="number"&&v.push(g)}return v.chop()},u.prototype.concat=function(c){var d=new u(this.ops.slice());return c.ops.length>0&&(d.push(c.ops[0]),d.ops=d.ops.concat(c.ops.slice(1))),d},u.prototype.diff=function(c,d){if(this.ops===c.ops)return new u;var h=[this,c].map(function(_){return _.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:f;var g=_===c?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),p=new u,m=o(h[0],h[1],d),y=l.iterator(this.ops),v=l.iterator(c.ops);return m.forEach(function(_){for(var b=_[1].length;b>0;){var g=0;switch(_[0]){case o.INSERT:g=Math.min(v.peekLength(),b),p.push(v.next(g));break;case o.DELETE:g=Math.min(b,y.peekLength()),y.next(g),p.delete(g);break;case o.EQUAL:g=Math.min(y.peekLength(),v.peekLength(),b);var w=y.next(g),k=v.next(g);s(w.insert,k.insert)?p.retain(g,l.attributes.diff(w.attributes,k.attributes)):p.push(k).delete(g);break}b-=g}}),p.chop()},u.prototype.eachLine=function(c,d){d=d||`
`;for(var h=l.iterator(this.ops),p=new u,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),v=l.length(y)-h.peekLength(),_=typeof y.insert=="string"?y.insert.indexOf(d,v)-v:-1;if(_<0)p.push(h.next());else if(_>0)p.push(h.next(_));else{if(c(p,h.next(1).attributes||{},m)===!1)return;m+=1,p=new u}}p.length()>0&&c(p,{},m)},u.prototype.transform=function(c,d){if(d=!!d,typeof c=="number")return this.transformPosition(c,d);for(var h=l.iterator(this.ops),p=l.iterator(c.ops),m=new u;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(d||p.peekType()!=="insert"))m.retain(l.length(h.next()));else if(p.peekType()==="insert")m.push(p.next());else{var y=Math.min(h.peekLength(),p.peekLength()),v=h.next(y),_=p.next(y);if(v.delete)continue;_.delete?m.push(_):m.retain(y,l.attributes.transform(v.attributes,_.attributes,d))}return m.chop()},u.prototype.transformPosition=function(c,d){d=!!d;for(var h=l.iterator(this.ops),p=0;h.hasNext()&&p<=c;){var m=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){c-=Math.min(m,c-p);continue}else y==="insert"&&(p<c||!d)&&(c+=m);p+=m}return c},n.exports=u},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},f=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var y;for(y in h);return typeof y>"u"||i.call(h,y)},u=function(h,p){s&&p.name==="__proto__"?s(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(a)return a(h,p).value}else return;return h[p]};n.exports=function d(){var h,p,m,y,v,_,b=arguments[0],g=1,w=arguments.length,k=!1;for(typeof b=="boolean"&&(k=b,b=arguments[1]||{},g=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});g<w;++g)if(h=arguments[g],h!=null)for(p in h)m=c(b,p),y=c(h,p),b!==y&&(k&&y&&(f(y)||(v=l(y)))?(v?(v=!1,_=m&&l(m)?m:[]):_=m&&f(m)?m:{},u(b,{name:p,newValue:d(k,_,y)})):typeof y<"u"&&u(b,{name:p,newValue:y}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function A(T,R){for(var N=0;N<R.length;N++){var M=R[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,R,N){return R&&A(T.prototype,R),N&&A(T,N),T}}(),s=function A(T,R,N){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,R);if(M===void 0){var O=Object.getPrototypeOf(T);return O===null?void 0:A(O,R,N)}else{if("value"in M)return M.value;var P=M.get;return P===void 0?void 0:P.call(N)}},a=i(3),l=b(a),f=i(2),u=b(f),c=i(0),d=b(c),h=i(16),p=b(h),m=i(6),y=b(m),v=i(7),_=b(v);function b(A){return A&&A.__esModule?A:{default:A}}function g(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function w(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function k(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var S=1,E=function(A){k(T,A);function T(){return g(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"attach",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,M){var O=d.default.query(N,d.default.Scope.BLOCK_ATTRIBUTE);O!=null&&this.attributes.attribute(O,M)}},{key:"formatAt",value:function(N,M,O,P){this.format(O,P)}},{key:"insertAt",value:function(N,M,O){if(typeof M=="string"&&M.endsWith(`
`)){var P=d.default.create(I.blotName);this.parent.insertBefore(P,N===0?this:this.next),P.insertAt(0,M.slice(0,-1))}else s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,N,M,O)}}]),T}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var I=function(A){k(T,A);function T(R){g(this,T);var N=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R));return N.cache={},N}return o(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(N,M){return M.length()===0?N:N.insert(M.value(),x(M))},new u.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function(N,M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,N,M),this.cache={}}},{key:"formatAt",value:function(N,M,O,P){M<=0||(d.default.query(O,d.default.Scope.BLOCK)?N+M===this.length()&&this.format(O,P):s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,N,Math.min(M,this.length()-N-1),O,P),this.cache={})}},{key:"insertAt",value:function(N,M,O){if(O!=null)return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,N,M,O);if(M.length!==0){var P=M.split(`
`),Q=P.shift();Q.length>0&&(N<this.length()-1||this.children.tail==null?s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var H=this;P.reduce(function(B,$){return H=H.split(B,!0),H.insertAt(0,$),$.length},N+Q.length)}}},{key:"insertBefore",value:function(N,M){var O=this.children.head;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,N,M),O instanceof p.default&&O.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(N,M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,N,M),this.cache={}}},{key:"optimize",value:function(N){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(N===0||N>=this.length()-S)){var O=this.clone();return N===0?(this.parent.insertBefore(O,this),this):(this.parent.insertBefore(O,this.next),O)}else{var P=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,N,M);return this.cache={},P}}}]),T}(d.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[y.default,d.default.Embed,_.default];function x(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(T=(0,l.default)(T,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?T:x(A.parent,T)}r.bubbleFormats=x,r.BlockEmbed=E,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(B,$){var F=[],D=!0,K=!1,z=void 0;try{for(var j=B[Symbol.iterator](),V;!(D=(V=j.next()).done)&&(F.push(V.value),!($&&F.length===$));D=!0);}catch(J){K=!0,z=J}finally{try{!D&&j.return&&j.return()}finally{if(K)throw z}}return F}return function(B,$){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return H(B,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(B,$){for(var F=0;F<$.length;F++){var D=$[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(B,D.key,D)}}return function(B,$,F){return $&&H(B.prototype,$),F&&H(B,F),B}}();i(50);var l=i(2),f=x(l),u=i(14),c=x(u),d=i(8),h=x(d),p=i(9),m=x(p),y=i(0),v=x(y),_=i(15),b=x(_),g=i(3),w=x(g),k=i(10),S=x(k),E=i(34),I=x(E);function x(H){return H&&H.__esModule?H:{default:H}}function A(H,B,$){return B in H?Object.defineProperty(H,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[B]=$,H}function T(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}var R=(0,S.default)("quill"),N=function(){a(H,null,[{key:"debug",value:function($){$===!0&&($="log"),S.default.level($)}},{key:"find",value:function($){return $.__quill||v.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&R.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var z=$.attrName||$.blotName;typeof z=="string"?this.register("formats/"+z,$,F):Object.keys($).forEach(function(j){D.register(j,$[j],F)})}else this.imports[$]!=null&&!K&&R.warn("Overwriting "+$+" with",F),this.imports[$]=F,($.startsWith("blots/")||$.startsWith("formats/"))&&F.blotName!=="abstract"?v.default.register(F):$.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function H(B){var $=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,H),this.options=M(B,F),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",B);this.options.debug&&H.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(z){z===h.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(z,j){var V=$.selection.lastRange,J=V&&V.length===0?V.index:void 0;O.call($,function(){return $.editor.update(null,j,J)},z)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var D=$;$=document.createElement("div"),$.classList.add(D)}return this.container.insertBefore($,F),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,F,D){var K=this,z=P($,F,D),j=s(z,4);return $=j[0],F=j[1],D=j[3],O.call(this,function(){return K.editor.deleteText($,F)},D,$,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return O.call(this,function(){var z=D.getSelection(!0),j=new f.default;if(z==null)return j;if(v.default.query($,v.default.Scope.BLOCK))j=D.editor.formatLine(z.index,z.length,A({},$,F));else{if(z.length===0)return D.selection.format($,F),j;j=D.editor.formatText(z.index,z.length,A({},$,F))}return D.setSelection(z,h.default.sources.SILENT),j},K)}},{key:"formatLine",value:function($,F,D,K,z){var j=this,V=void 0,J=P($,F,D,K,z),W=s(J,4);return $=W[0],F=W[1],V=W[2],z=W[3],O.call(this,function(){return j.editor.formatLine($,F,V)},z,$,0)}},{key:"formatText",value:function($,F,D,K,z){var j=this,V=void 0,J=P($,F,D,K,z),W=s(J,4);return $=W[0],F=W[1],V=W[2],z=W[3],O.call(this,function(){return j.editor.formatText($,F,V)},z,$,0)}},{key:"getBounds",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof $=="number"?D=this.selection.getBounds($,F):D=this.selection.getBounds($.index,$.length);var K=this.container.getBoundingClientRect();return{bottom:D.bottom-K.top,height:D.height,left:D.left-K.left,right:D.right-K.left,top:D.top-K.top,width:D.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,D=P($,F),K=s(D,2);return $=K[0],F=K[1],this.editor.getContents($,F)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,F):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,F)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,D=P($,F),K=s(D,2);return $=K[0],F=K[1],this.editor.getText($,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,F,D){var K=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return O.call(this,function(){return K.editor.insertEmbed($,F,D)},z,$)}},{key:"insertText",value:function($,F,D,K,z){var j=this,V=void 0,J=P($,0,D,K,z),W=s(J,4);return $=W[0],V=W[2],z=W[3],O.call(this,function(){return j.editor.insertText($,F,V)},z,$,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,F,D){this.clipboard.dangerouslyPasteHTML($,F,D)}},{key:"removeFormat",value:function($,F,D){var K=this,z=P($,F,D),j=s(z,4);return $=j[0],F=j[1],D=j[3],O.call(this,function(){return K.editor.removeFormat($,F)},D,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var F=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return O.call(this,function(){$=new f.default($);var K=F.getLength(),z=F.editor.deleteText(0,K),j=F.editor.applyDelta($),V=j.ops[j.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),j.delete(1));var J=z.compose(j);return J},D)}},{key:"setSelection",value:function($,F,D){if($==null)this.selection.setRange(null,F||H.sources.API);else{var K=P($,F,D),z=s(K,4);$=z[0],F=z[1],D=z[3],this.selection.setRange(new _.Range($,F),D),D!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,D=new f.default().insert($);return this.setContents(D,F)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,F=this.scroll.update($);return this.selection.update($),F}},{key:"updateContents",value:function($){var F=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return O.call(this,function(){return $=new f.default($),F.editor.applyDelta($,D)},D,!0)}}]),H}();N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=h.default.events,N.sources=h.default.sources,N.version="1.3.7",N.imports={delta:f.default,parchment:v.default,"core/module":m.default,"core/theme":I.default};function M(H,B){if(B=(0,w.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===N.DEFAULTS.theme)B.theme=I.default;else if(B.theme=N.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var $=(0,w.default)(!0,{},B.theme.DEFAULTS);[$,B].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(z){K.modules[z]===!0&&(K.modules[z]={})})});var F=Object.keys($.modules).concat(Object.keys(B.modules)),D=F.reduce(function(K,z){var j=N.import("modules/"+z);return j==null?R.error("Cannot load "+z+" module. Are you sure you registered it?"):K[z]=j.DEFAULTS||{},K},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,w.default)(!0,{},N.DEFAULTS,{modules:D},$,B),["bounds","container","scrollingContainer"].forEach(function(K){typeof B[K]=="string"&&(B[K]=document.querySelector(B[K]))}),B.modules=Object.keys(B.modules).reduce(function(K,z){return B.modules[z]&&(K[z]=B.modules[z]),K},{}),B}function O(H,B,$,F){if(this.options.strict&&!this.isEnabled()&&B===h.default.sources.USER)return new f.default;var D=$==null?null:this.getSelection(),K=this.editor.delta,z=H();if(D!=null&&($===!0&&($=D.index),F==null?D=Q(D,z,B):F!==0&&(D=Q(D,$,F,B)),this.setSelection(D,h.default.sources.SILENT)),z.length()>0){var j,V=[h.default.events.TEXT_CHANGE,z,K,B];if((j=this.emitter).emit.apply(j,[h.default.events.EDITOR_CHANGE].concat(V)),B!==h.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,V)}}return z}function P(H,B,$,F,D){var K={};return typeof H.index=="number"&&typeof H.length=="number"?typeof B!="number"?(D=F,F=$,$=B,B=H.length,H=H.index):(B=H.length,H=H.index):typeof B!="number"&&(D=F,F=$,$=B,B=0),(typeof $>"u"?"undefined":o($))==="object"?(K=$,D=F):typeof $=="string"&&(F!=null?K[$]=F:D=$),D=D||h.default.sources.API,[H,B,K,D]}function Q(H,B,$,F){if(H==null)return null;var D=void 0,K=void 0;if(B instanceof f.default){var z=[H.index,H.index+H.length].map(function(W){return B.transformPosition(W,F!==h.default.sources.USER)}),j=s(z,2);D=j[0],K=j[1]}else{var V=[H.index,H.index+H.length].map(function(W){return W<B||W===B&&F===h.default.sources.USER?W:$>=0?W+$:Math.max(B,W+$)}),J=s(V,2);D=J[0],K=J[1]}return new _.Range(D,K-D)}r.expandConfig=M,r.overload=P,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(7),l=c(a),f=i(0),u=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){p(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"formatAt",value:function(b,g,w,k){if(v.compare(this.statics.blotName,w)<0&&u.default.query(w,u.default.Scope.BLOT)){var S=this.isolate(b,g);k&&S.wrap(w,k)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,g,w,k)}},{key:"optimize",value:function(b){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(b,g){var w=v.order.indexOf(b),k=v.order.indexOf(g);return w>=0||k>=0?w-k:b===g?0:b<g?-1:1}}]),v}(u.default.Inline);m.allowedChildren=[m,u.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(b,g){for(var w=0;w<g.length;w++){var k=g[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,g,w){return g&&_(b.prototype,g),w&&_(b,w),b}}(),s=function _(b,g,w){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,g);if(k===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:_(S,g,w)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(w)}},a=i(54),l=c(a),f=i(10),u=c(f);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function p(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var m=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(_){document.addEventListener(_,function(){for(var b=arguments.length,g=Array(b),w=0;w<b;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,g)}})})});var v=function(_){p(b,_);function b(){d(this,b);var g=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return g.listeners={},g.on("error",m.error),g}return o(b,[{key:"emit",value:function(){m.log.apply(m,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var k=arguments.length,S=Array(k>1?k-1:0),E=1;E<k;E++)S[E-1]=arguments[E];(this.listeners[w.type]||[]).forEach(function(I){var x=I.node,A=I.handler;(w.target===x||x.contains(w.target))&&A.apply(void 0,[w].concat(S))})}},{key:"listenDOM",value:function(w,k,S){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:k,handler:S})}}]),b}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=f};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(f){if(o.indexOf(f)<=o.indexOf(s)){for(var u,c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];(u=console)[f].apply(u,d)}}function l(f){return o.reduce(function(u,c){return u[c]=a.bind(console,c,f),u},{})}a.level=l.level=function(f){s=f},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,h,p){return p||(p={}),d===h?!0:d instanceof Date&&h instanceof Date?d.getTime()===h.getTime():!d||!h||typeof d!="object"&&typeof h!="object"?p.strict?d===h:d==h:c(d,h,p)};function f(d){return d==null}function u(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function c(d,h,p){var m,y;if(f(d)||f(h)||d.prototype!==h.prototype)return!1;if(a(d))return a(h)?(d=o.call(d),h=o.call(h),l(d,h,p)):!1;if(u(d)){if(!u(h)||d.length!==h.length)return!1;for(m=0;m<d.length;m++)if(d[m]!==h[m])return!1;return!0}try{var v=s(d),_=s(h)}catch{return!1}if(v.length!=_.length)return!1;for(v.sort(),_.sort(),m=v.length-1;m>=0;m--)if(v[m]!=_[m])return!1;for(m=v.length-1;m>=0;m--)if(y=v[m],!l(d[y],h[y],p))return!1;return typeof d==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,f,u){u===void 0&&(u={}),this.attrName=l,this.keyName=f;var c=o.Scope.TYPE&o.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&o.Scope.LEVEL|c:this.scope=o.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(f){return f.name})},a.prototype.add=function(l,f){return this.canAdd(l,f)?(l.setAttribute(this.keyName,f),!0):!1},a.prototype.canAdd=function(l,f){var u=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var f=l.getAttribute(this.keyName);return this.canAdd(l,f)&&f?f:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function E(I,x){var A=[],T=!0,R=!1,N=void 0;try{for(var M=I[Symbol.iterator](),O;!(T=(O=M.next()).done)&&(A.push(O.value),!(x&&A.length===x));T=!0);}catch(P){R=!0,N=P}finally{try{!T&&M.return&&M.return()}finally{if(R)throw N}}return A}return function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return E(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(I,x){for(var A=0;A<x.length;A++){var T=x[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,x,A){return x&&E(I.prototype,x),A&&E(I,A),I}}(),a=function E(I,x,A){I===null&&(I=Function.prototype);var T=Object.getOwnPropertyDescriptor(I,x);if(T===void 0){var R=Object.getPrototypeOf(I);return R===null?void 0:E(R,x,A)}else{if("value"in T)return T.value;var N=T.get;return N===void 0?void 0:N.call(A)}},l=i(2),f=_(l),u=i(0),c=_(u),d=i(4),h=_(d),p=i(6),m=_(p),y=i(7),v=_(y);function _(E){return E&&E.__esModule?E:{default:E}}function b(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}function g(E,I){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:E}function w(E,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(E,I):E.__proto__=I)}var k=function(E){w(I,E);function I(){return b(this,I),g(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(m.default);k.blotName="code",k.tagName="CODE";var S=function(E){w(I,E);function I(){return b(this,I),g(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"delta",value:function(){var A=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(R,N){return R.insert(N).insert(`
`,A.formats())},new f.default)}},{key:"format",value:function(A,T){if(!(A===this.statics.blotName&&T)){var R=this.descendant(v.default,this.length()-1),N=o(R,1),M=N[0];M!=null&&M.deleteAt(M.length()-1,1),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,A,T)}}},{key:"formatAt",value:function(A,T,R,N){if(T!==0&&!(c.default.query(R,c.default.Scope.BLOCK)==null||R===this.statics.blotName&&N===this.statics.formats(this.domNode))){var M=this.newlineIndex(A);if(!(M<0||M>=A+T)){var O=this.newlineIndex(A,!0)+1,P=M-O+1,Q=this.isolate(O,P),H=Q.next;Q.format(R,N),H instanceof I&&H.formatAt(0,A-O+T-P,R,N)}}}},{key:"insertAt",value:function(A,T,R){if(R==null){var N=this.descendant(v.default,A),M=o(N,2),O=M[0],P=M[1];O.insertAt(P,T)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var R=this.domNode.textContent.slice(A).indexOf(`
`);return R>-1?A+R:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(A),T.moveChildren(this),T.remove())}},{key:"replace",value:function(A){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var R=c.default.find(T);R==null?T.parentNode.removeChild(T):R instanceof c.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(A){var T=a(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,A);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),I}(h.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=k,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(B,$){var F=[],D=!0,K=!1,z=void 0;try{for(var j=B[Symbol.iterator](),V;!(D=(V=j.next()).done)&&(F.push(V.value),!($&&F.length===$));D=!0);}catch(J){K=!0,z=J}finally{try{!D&&j.return&&j.return()}finally{if(K)throw z}}return F}return function(B,$){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return H(B,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(B,$){for(var F=0;F<$.length;F++){var D=$[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(B,D.key,D)}}return function(B,$,F){return $&&H(B.prototype,$),F&&H(B,F),B}}(),l=i(2),f=T(l),u=i(20),c=T(u),d=i(0),h=T(d),p=i(13),m=T(p),y=i(24),v=T(y),_=i(4),b=T(_),g=i(16),w=T(g),k=i(21),S=T(k),E=i(11),I=T(E),x=i(3),A=T(x);function T(H){return H&&H.__esModule?H:{default:H}}function R(H,B,$){return B in H?Object.defineProperty(H,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[B]=$,H}function N(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,O=function(){function H(B){N(this,H),this.scroll=B,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function($){var F=this,D=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),$=Q($),$.reduce(function(z,j){var V=j.retain||j.delete||j.insert.length||1,J=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var W=j.insert;W.endsWith(`
`)&&D&&(D=!1,W=W.slice(0,-1)),z>=K&&!W.endsWith(`
`)&&(D=!0),F.scroll.insertAt(z,W);var oe=F.scroll.line(z),ce=s(oe,2),Z=ce[0],q=ce[1],G=(0,A.default)({},(0,_.bubbleFormats)(Z));if(Z instanceof b.default){var Y=Z.descendant(h.default.Leaf,q),de=s(Y,1),ee=de[0];G=(0,A.default)(G,(0,_.bubbleFormats)(ee))}J=c.default.attributes.diff(G,J)||{}}else if(o(j.insert)==="object"){var U=Object.keys(j.insert)[0];if(U==null)return z;F.scroll.insertAt(z,U,j.insert[U])}K+=V}return Object.keys(J).forEach(function(te){F.scroll.formatAt(z,V,te,J[te])}),z+V},0),$.reduce(function(z,j){return typeof j.delete=="number"?(F.scroll.deleteAt(z,j.delete),z):z+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,F){return this.scroll.deleteAt($,F),this.update(new f.default().retain($).delete(F))}},{key:"formatLine",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(z){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[z])){var j=D.scroll.lines($,Math.max(F,1)),V=F;j.forEach(function(J){var W=J.length();if(!(J instanceof m.default))J.format(z,K[z]);else{var oe=$-J.offset(D.scroll),ce=J.newlineIndex(oe+V)-oe+1;J.formatAt(oe,ce,z,K[z])}V-=W})}}),this.scroll.optimize(),this.update(new f.default().retain($).retain(F,(0,S.default)(K)))}},{key:"formatText",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(z){D.scroll.formatAt($,F,z,K[z])}),this.update(new f.default().retain($).retain(F,(0,S.default)(K)))}},{key:"getContents",value:function($,F){return this.delta.slice($,$+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,F){return $.concat(F.delta())},new f.default)}},{key:"getFormat",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],K=[];F===0?this.scroll.path($).forEach(function(j){var V=s(j,1),J=V[0];J instanceof b.default?D.push(J):J instanceof h.default.Leaf&&K.push(J)}):(D=this.scroll.lines($,F),K=this.scroll.descendants(h.default.Leaf,$,F));var z=[D,K].map(function(j){if(j.length===0)return{};for(var V=(0,_.bubbleFormats)(j.shift());Object.keys(V).length>0;){var J=j.shift();if(J==null)return V;V=P((0,_.bubbleFormats)(J),V)}return V});return A.default.apply(A.default,z)}},{key:"getText",value:function($,F){return this.getContents($,F).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function($,F,D){return this.scroll.insertAt($,F,D),this.update(new f.default().retain($).insert(R({},F,D)))}},{key:"insertText",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,F),Object.keys(K).forEach(function(z){D.scroll.formatAt($,F.length,z,K[z])}),this.update(new f.default().retain($).insert(F,(0,S.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==b.default.blotName||$.children.length>1?!1:$.children.head instanceof w.default}},{key:"removeFormat",value:function($,F){var D=this.getText($,F),K=this.scroll.line($+F),z=s(K,2),j=z[0],V=z[1],J=0,W=new f.default;j!=null&&(j instanceof m.default?J=j.newlineIndex(V)-V+1:J=j.length()-V,W=j.delta().slice(V,V+J-1).insert(`
`));var oe=this.getContents($,F+J),ce=oe.diff(new f.default().insert(D).concat(W)),Z=new f.default().retain($).concat(ce);return this.applyDelta(Z)}},{key:"update",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(M)&&h.default.find(F[0].target)){var z=h.default.find(F[0].target),j=(0,_.bubbleFormats)(z),V=z.offset(this.scroll),J=F[0].oldValue.replace(v.default.CONTENTS,""),W=new f.default().insert(J),oe=new f.default().insert(z.value()),ce=new f.default().retain(V).concat(W.diff(oe,D));$=ce.reduce(function(Z,q){return q.insert?Z.insert(q.insert,j):Z.push(q)},new f.default),this.delta=K.compose($)}else this.delta=this.getDelta(),(!$||!(0,I.default)(K.compose($),this.delta))&&($=K.diff(this.delta,D));return $}}]),H}();function P(H,B){return Object.keys(B).reduce(function($,F){return H[F]==null||(B[F]===H[F]?$[F]=B[F]:Array.isArray(B[F])?B[F].indexOf(H[F])<0&&($[F]=B[F].concat([H[F]])):$[F]=[B[F],H[F]]),$},{})}function Q(H){return H.reduce(function(B,$){if($.insert===1){var F=(0,S.default)($.attributes);return delete F.image,B.insert({image:$.attributes.image},F)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,S.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var D=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert(D,$.attributes)}return B.push($)},new f.default)}r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function E(I,x){var A=[],T=!0,R=!1,N=void 0;try{for(var M=I[Symbol.iterator](),O;!(T=(O=M.next()).done)&&(A.push(O.value),!(x&&A.length===x));T=!0);}catch(P){R=!0,N=P}finally{try{!T&&M.return&&M.return()}finally{if(R)throw N}}return A}return function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return E(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(I,x){for(var A=0;A<x.length;A++){var T=x[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,x,A){return x&&E(I.prototype,x),A&&E(I,A),I}}(),a=i(0),l=v(a),f=i(21),u=v(f),c=i(11),d=v(c),h=i(8),p=v(h),m=i(10),y=v(m);function v(E){return E&&E.__esModule?E:{default:E}}function _(E){if(Array.isArray(E)){for(var I=0,x=Array(E.length);I<E.length;I++)x[I]=E[I];return x}else return Array.from(E)}function b(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}var g=(0,y.default)("quill:selection"),w=function E(I){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,E),this.index=I,this.length=x},k=function(){function E(I,x){var A=this;b(this,E),this.emitter=x,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(T,R){T===p.default.events.TEXT_CHANGE&&R.length()>0&&A.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var T=A.getNativeRange();T!=null&&T.start.node!==A.cursor.textNode&&A.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(T,R){if(R.range){var N=R.range,M=N.startNode,O=N.startOffset,P=N.endNode,Q=N.endOffset;A.setNativeRange(M,O,P,Q)}}),this.update(p.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var A=x.cursor.restore();if(!A)return;setTimeout(function(){x.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||l.default.query(x,l.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var R=l.default.find(T.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var N=R.split(T.start.offset);R.parent.insertBefore(this.cursor,N)}else R.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(x,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();x=Math.min(x,T-1),A=Math.min(x+A,T-1)-x;var R=void 0,N=this.scroll.leaf(x),M=o(N,2),O=M[0],P=M[1];if(O==null)return null;var Q=O.position(P,!0),H=o(Q,2);R=H[0],P=H[1];var B=document.createRange();if(A>0){B.setStart(R,P);var $=this.scroll.leaf(x+A),F=o($,2);if(O=F[0],P=F[1],O==null)return null;var D=O.position(P,!0),K=o(D,2);return R=K[0],P=K[1],B.setEnd(R,P),B.getBoundingClientRect()}else{var z="left",j=void 0;return R instanceof Text?(P<R.data.length?(B.setStart(R,P),B.setEnd(R,P+1)):(B.setStart(R,P-1),B.setEnd(R,P),z="right"),j=B.getBoundingClientRect()):(j=O.domNode.getBoundingClientRect(),P>0&&(z="right")),{bottom:j.top+j.height,height:j.height,left:j[z],right:j[z],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var A=x.getRangeAt(0);if(A==null)return null;var T=this.normalizeNative(A);return g.info("getNativeRange",T),T}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var A=this.normalizedToRange(x);return[A,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var A=this,T=[[x.start.node,x.start.offset]];x.native.collapsed||T.push([x.end.node,x.end.offset]);var R=T.map(function(O){var P=o(O,2),Q=P[0],H=P[1],B=l.default.find(Q,!0),$=B.offset(A.scroll);return H===0?$:B instanceof l.default.Container?$+B.length():$+B.index(Q,H)}),N=Math.min(Math.max.apply(Math,_(R)),this.scroll.length()-1),M=Math.min.apply(Math,[N].concat(_(R)));return new w(M,N-M)}},{key:"normalizeNative",value:function(x){if(!S(this.root,x.startContainer)||!x.collapsed&&!S(this.root,x.endContainer))return null;var A={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[A.start,A.end].forEach(function(T){for(var R=T.node,N=T.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>N)R=R.childNodes[N],N=0;else if(R.childNodes.length===N)R=R.lastChild,N=R instanceof Text?R.data.length:R.childNodes.length+1;else break;T.node=R,T.offset=N}),A}},{key:"rangeToNative",value:function(x){var A=this,T=x.collapsed?[x.index]:[x.index,x.index+x.length],R=[],N=this.scroll.length();return T.forEach(function(M,O){M=Math.min(N-1,M);var P=void 0,Q=A.scroll.leaf(M),H=o(Q,2),B=H[0],$=H[1],F=B.position($,O!==0),D=o(F,2);P=D[0],$=D[1],R.push(P,$)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(x){var A=this.lastRange;if(A!=null){var T=this.getBounds(A.index,A.length);if(T!=null){var R=this.scroll.length()-1,N=this.scroll.line(Math.min(A.index,R)),M=o(N,1),O=M[0],P=O;if(A.length>0){var Q=this.scroll.line(Math.min(A.index+A.length,R)),H=o(Q,1);P=H[0]}if(!(O==null||P==null)){var B=x.getBoundingClientRect();T.top<B.top?x.scrollTop-=B.top-T.top:T.bottom>B.bottom&&(x.scrollTop+=T.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(x,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",x,A,T,R),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||T.parentNode==null))){var M=document.getSelection();if(M!=null)if(x!=null){this.hasFocus()||this.root.focus();var O=(this.getNativeRange()||{}).native;if(O==null||N||x!==O.startContainer||A!==O.startOffset||T!==O.endContainer||R!==O.endOffset){x.tagName=="BR"&&(A=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),T.tagName=="BR"&&(R=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var P=document.createRange();P.setStart(x,A),P.setEnd(T,R),M.removeAllRanges(),M.addRange(P)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof A=="string"&&(T=A,A=!1),g.info("setRange",x),x!=null){var R=this.rangeToNative(x);this.setNativeRange.apply(this,_(R).concat([A]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,A=this.lastRange,T=this.getRange(),R=o(T,2),N=R[0],M=R[1];if(this.lastRange=N,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(A,this.lastRange)){var O;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var P=[p.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(A),x];if((O=this.emitter).emit.apply(O,[p.default.events.EDITOR_CHANGE].concat(P)),x!==p.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,P)}}}}]),E}();function S(E,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),E.contains(I)}r.Range=w,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(0),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"insertInto",value:function(v,_){v.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,v,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),f=function(c){o(d,c);function d(h){var p=c.call(this,h)||this;return p.build(),p}return d.prototype.appendChild=function(h){this.insertBefore(h)},d.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},d.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var m=u(p);h.insertBefore(m,h.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},d.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(m,y,v){m.deleteAt(y,v)})},d.prototype.descendant=function(h,p){var m=this.children.find(p),y=m[0],v=m[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,v]:y instanceof d?y.descendant(h,v):[null,-1]},d.prototype.descendants=function(h,p,m){p===void 0&&(p=0),m===void 0&&(m=Number.MAX_VALUE);var y=[],v=m;return this.children.forEachAt(p,m,function(_,b,g){(h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h)&&y.push(_),_ instanceof d&&(y=y.concat(_.descendants(h,b,v))),v-=g}),y},d.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),c.prototype.detach.call(this)},d.prototype.formatAt=function(h,p,m,y){this.children.forEachAt(h,p,function(v,_,b){v.formatAt(_,b,m,y)})},d.prototype.insertAt=function(h,p,m){var y=this.children.find(h),v=y[0],_=y[1];if(v)v.insertAt(_,p,m);else{var b=m==null?l.create("text",p):l.create(p,m);this.appendChild(b)}},d.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},d.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},d.prototype.moveChildren=function(h,p){this.children.forEach(function(m){h.insertBefore(m,p)})},d.prototype.optimize=function(h){if(c.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=l.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},d.prototype.path=function(h,p){p===void 0&&(p=!1);var m=this.children.find(h,p),y=m[0],v=m[1],_=[[this,h]];return y instanceof d?_.concat(y.path(v,p)):(y!=null&&_.push([y,v]),_)},d.prototype.removeChild=function(h){this.children.remove(h)},d.prototype.replace=function(h){h instanceof d&&h.moveChildren(this),c.prototype.replace.call(this,h)},d.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(y,v,_){y=y.split(v,p),m.appendChild(y)}),m},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(h,p){var m=this,y=[],v=[];h.forEach(function(_){_.target===m.domNode&&_.type==="childList"&&(y.push.apply(y,_.addedNodes),v.push.apply(v,_.removedNodes))}),v.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(_);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),y.filter(function(_){return _.parentNode==m.domNode}).sort(function(_,b){return _===b?0:_.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var b=null;_.nextSibling!=null&&(b=l.find(_.nextSibling));var g=u(_);(g.next!=b||g.next==null)&&(g.parent!=null&&g.parent.removeChild(m),m.insertBefore(g,b||void 0))})},d}(a.default);function u(c){var d=l.find(c);if(d==null)try{d=l.create(c)}catch{d=l.create(l.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(p){d.domNode.appendChild(p)}),c.parentNode&&c.parentNode.replaceChild(d.domNode,c),d.attach()}return d}r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),f=i(1),u=function(c){o(d,c);function d(h){var p=c.call(this,h)||this;return p.attributes=new a.default(p.domNode),p}return d.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},d.prototype.format=function(h,p){var m=f.query(h);m instanceof s.default?this.attributes.attribute(m,p):p&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},d.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},d.prototype.replaceWith=function(h,p){var m=c.prototype.replaceWith.call(this,h,p);return this.attributes.copy(m),m},d.prototype.update=function(h,p){var m=this;c.prototype.update.call(this,h,p),h.some(function(y){return y.target===m.domNode&&y.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(h,p){var m=c.prototype.wrap.call(this,h,p);return m instanceof d&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},d}(l.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.value=function(c){return!0},u.prototype.index=function(c,d){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},u.prototype.position=function(c,d){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(h+=1),[this.parent.domNode,h]},u.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(f,u,c){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var d=s(!0,{},u);c||(d=Object.keys(d).reduce(function(p,m){return d[m]!=null&&(p[m]=d[m]),p},{}));for(var h in f)f[h]!==void 0&&u[h]===void 0&&(d[h]=f[h]);return Object.keys(d).length>0?d:void 0},diff:function(f,u){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var c=Object.keys(f).concat(Object.keys(u)).reduce(function(d,h){return o(f[h],u[h])||(d[h]=u[h]===void 0?null:u[h]),d},{});return Object.keys(c).length>0?c:void 0},transform:function(f,u,c){if(typeof f!="object")return u;if(typeof u=="object"){if(!c)return u;var d=Object.keys(u).reduce(function(h,p){return f[p]===void 0&&(h[p]=u[p]),h},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(f){return new l(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function l(f){this.ops=f,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(f){f||(f=1/0);var u=this.ops[this.index];if(u){var c=this.offset,d=a.length(u);if(f>=d-c?(f=d-c,this.index+=1,this.offset=0):this.offset+=f,typeof u.delete=="number")return{delete:f};var h={};return u.attributes&&(h.attributes=u.attributes),typeof u.retain=="number"?h.retain=f:typeof u.insert=="string"?h.insert=u.insert.substr(c,f):h.insert=u.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,u=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=f,this.index=u,[c].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(m,y){return y!=null&&m instanceof y}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function f(m,y,v,_,b){typeof y=="object"&&(v=y.depth,_=y.prototype,b=y.includeNonEnumerable,y=y.circular);var g=[],w=[],k=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof v>"u"&&(v=1/0);function S(E,I){if(E===null)return null;if(I===0)return E;var x,A;if(typeof E!="object")return E;if(o(E,s))x=new s;else if(o(E,a))x=new a;else if(o(E,l))x=new l(function(B,$){E.then(function(F){B(S(F,I-1))},function(F){$(S(F,I-1))})});else if(f.__isArray(E))x=[];else if(f.__isRegExp(E))x=new RegExp(E.source,p(E)),E.lastIndex&&(x.lastIndex=E.lastIndex);else if(f.__isDate(E))x=new Date(E.getTime());else{if(k&&Buffer.isBuffer(E))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(E.length):x=new Buffer(E.length),E.copy(x),x;o(E,Error)?x=Object.create(E):typeof _>"u"?(A=Object.getPrototypeOf(E),x=Object.create(A)):(x=Object.create(_),A=_)}if(y){var T=g.indexOf(E);if(T!=-1)return w[T];g.push(E),w.push(x)}o(E,s)&&E.forEach(function(B,$){var F=S($,I-1),D=S(B,I-1);x.set(F,D)}),o(E,a)&&E.forEach(function(B){var $=S(B,I-1);x.add($)});for(var R in E){var N;A&&(N=Object.getOwnPropertyDescriptor(A,R)),!(N&&N.set==null)&&(x[R]=S(E[R],I-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(E),R=0;R<M.length;R++){var O=M[R],P=Object.getOwnPropertyDescriptor(E,O);P&&!P.enumerable&&!b||(x[O]=S(E[O],I-1),P.enumerable||Object.defineProperty(x,O,{enumerable:!1}))}if(b)for(var Q=Object.getOwnPropertyNames(E),R=0;R<Q.length;R++){var H=Q[R],P=Object.getOwnPropertyDescriptor(E,H);P&&P.enumerable||(x[H]=S(E[H],I-1),Object.defineProperty(x,H,{enumerable:!1}))}return x}return S(m,v)}f.clonePrototype=function(y){if(y===null)return null;var v=function(){};return v.prototype=y,new v};function u(m){return Object.prototype.toString.call(m)}f.__objToStr=u;function c(m){return typeof m=="object"&&u(m)==="[object Date]"}f.__isDate=c;function d(m){return typeof m=="object"&&u(m)==="[object Array]"}f.__isArray=d;function h(m){return typeof m=="object"&&u(m)==="[object RegExp]"}f.__isRegExp=h;function p(m){var y="";return m.global&&(y+="g"),m.ignoreCase&&(y+="i"),m.multiline&&(y+="m"),y}return f.__getRegExpFlags=p,f}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function x(A,T){var R=[],N=!0,M=!1,O=void 0;try{for(var P=A[Symbol.iterator](),Q;!(N=(Q=P.next()).done)&&(R.push(Q.value),!(T&&R.length===T));N=!0);}catch(H){M=!0,O=H}finally{try{!N&&P.return&&P.return()}finally{if(M)throw O}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return x(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function x(A,T){for(var R=0;R<T.length;R++){var N=T[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,T,R){return T&&x(A.prototype,T),R&&x(A,R),A}}(),a=function x(A,T,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,T);if(N===void 0){var M=Object.getPrototypeOf(A);return M===null?void 0:x(M,T,R)}else{if("value"in N)return N.value;var O=N.get;return O===void 0?void 0:O.call(R)}},l=i(0),f=g(l),u=i(8),c=g(u),d=i(4),h=g(d),p=i(16),m=g(p),y=i(13),v=g(y),_=i(25),b=g(_);function g(x){return x&&x.__esModule?x:{default:x}}function w(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function k(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function S(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}function E(x){return x instanceof h.default||x instanceof d.BlockEmbed}var I=function(x){S(A,x);function A(T,R){w(this,A);var N=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T));return N.emitter=R.emitter,Array.isArray(R.whitelist)&&(N.whitelist=R.whitelist.reduce(function(M,O){return M[O]=!0,M},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return s(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,N){var M=this.line(R),O=o(M,2),P=O[0],Q=O[1],H=this.line(R+N),B=o(H,1),$=B[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,N),$!=null&&P!==$&&Q>0){if(P instanceof d.BlockEmbed||$ instanceof d.BlockEmbed){this.optimize();return}if(P instanceof v.default){var F=P.newlineIndex(P.length(),!0);if(F>-1&&(P=P.split(F+1),P===$)){this.optimize();return}}else if($ instanceof v.default){var D=$.newlineIndex(0);D>-1&&$.split(D+1)}var K=$.children.head instanceof m.default?null:$.children.head;P.moveChildren($,K),P.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,N,M,O){this.whitelist!=null&&!this.whitelist[M]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,N,M,O),this.optimize())}},{key:"insertAt",value:function(R,N,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[N])){if(R>=this.length())if(M==null||f.default.query(N,f.default.Scope.BLOCK)==null){var O=f.default.create(this.statics.defaultChild);this.appendChild(O),M==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),O.insertAt(0,N,M)}else{var P=f.default.create(N,M);this.appendChild(P)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,N,M);this.optimize()}}},{key:"insertBefore",value:function(R,N){if(R.statics.scope===f.default.Scope.INLINE_BLOT){var M=f.default.create(this.statics.defaultChild);M.appendChild(R),R=M}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,N)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(E,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function O(P,Q,H){var B=[],$=H;return P.children.forEachAt(Q,H,function(F,D,K){E(F)?B.push(F):F instanceof f.default.Container&&(B=B.concat(O(F,D,$))),$-=K}),B};return M(this,R,N)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R,N),R.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,R,N))}},{key:"path",value:function(R){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var N=c.default.sources.USER;typeof R=="string"&&(N=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,N,R),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,N,R)}}}]),A}(f.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[h.default,d.BlockEmbed,b.default],r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(V,J){var W=[],oe=!0,ce=!1,Z=void 0;try{for(var q=V[Symbol.iterator](),G;!(oe=(G=q.next()).done)&&(W.push(G.value),!(J&&W.length===J));oe=!0);}catch(Y){ce=!0,Z=Y}finally{try{!oe&&q.return&&q.return()}finally{if(ce)throw Z}}return W}return function(V,J){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return j(V,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(V,J){for(var W=0;W<J.length;W++){var oe=J[W];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(V,oe.key,oe)}}return function(V,J,W){return J&&j(V.prototype,J),W&&j(V,W),V}}(),l=i(21),f=x(l),u=i(11),c=x(u),d=i(3),h=x(d),p=i(2),m=x(p),y=i(20),v=x(y),_=i(0),b=x(_),g=i(5),w=x(g),k=i(10),S=x(k),E=i(9),I=x(E);function x(j){return j&&j.__esModule?j:{default:j}}function A(j,V,J){return V in j?Object.defineProperty(j,V,{value:J,enumerable:!0,configurable:!0,writable:!0}):j[V]=J,j}function T(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function R(j,V){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:j}function N(j,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);j.prototype=Object.create(V&&V.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(j,V):j.__proto__=V)}var M=(0,S.default)("quill:keyboard"),O=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",P=function(j){N(V,j),a(V,null,[{key:"match",value:function(W,oe){return oe=z(oe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ce){return!!oe[ce]!==W[ce]&&oe[ce]!==null})?!1:oe.key===(W.which||W.keyCode)}}]);function V(J,W){T(this,V);var oe=R(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,J,W));return oe.bindings={},Object.keys(oe.options.bindings).forEach(function(ce){ce==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||oe.options.bindings[ce]&&oe.addBinding(oe.options.bindings[ce])}),oe.addBinding({key:V.keys.ENTER,shiftKey:null},F),oe.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(oe.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},H),oe.addBinding({key:V.keys.DELETE},{collapsed:!0},B)):(oe.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),oe.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),oe.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},$),oe.addBinding({key:V.keys.DELETE},{collapsed:!1},$),oe.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),oe.listen(),oe}return a(V,[{key:"addBinding",value:function(W){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z=z(W);if(Z==null||Z.key==null)return M.warn("Attempted to add invalid keyboard binding",Z);typeof oe=="function"&&(oe={handler:oe}),typeof ce=="function"&&(ce={handler:ce}),Z=(0,h.default)(Z,oe,ce),this.bindings[Z.key]=this.bindings[Z.key]||[],this.bindings[Z.key].push(Z)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(oe){if(!oe.defaultPrevented){var ce=oe.which||oe.keyCode,Z=(W.bindings[ce]||[]).filter(function(De){return V.match(oe,De)});if(Z.length!==0){var q=W.quill.getSelection();if(!(q==null||!W.quill.hasFocus())){var G=W.quill.getLine(q.index),Y=s(G,2),de=Y[0],ee=Y[1],U=W.quill.getLeaf(q.index),te=s(U,2),re=te[0],se=te[1],ne=q.length===0?[re,se]:W.quill.getLeaf(q.index+q.length),pe=s(ne,2),ve=pe[0],we=pe[1],Se=re instanceof b.default.Text?re.value().slice(0,se):"",Le=ve instanceof b.default.Text?ve.value().slice(we):"",Oe={collapsed:q.length===0,empty:q.length===0&&de.length()<=1,format:W.quill.getFormat(q),offset:ee,prefix:Se,suffix:Le},Ye=Z.some(function(De){if(De.collapsed!=null&&De.collapsed!==Oe.collapsed||De.empty!=null&&De.empty!==Oe.empty||De.offset!=null&&De.offset!==Oe.offset)return!1;if(Array.isArray(De.format)){if(De.format.every(function(rt){return Oe.format[rt]==null}))return!1}else if(o(De.format)==="object"&&!Object.keys(De.format).every(function(rt){return De.format[rt]===!0?Oe.format[rt]!=null:De.format[rt]===!1?Oe.format[rt]==null:(0,c.default)(De.format[rt],Oe.format[rt])}))return!1;return De.prefix!=null&&!De.prefix.test(Oe.prefix)||De.suffix!=null&&!De.suffix.test(Oe.suffix)?!1:De.handler.call(W,q,Oe)!==!0});Ye&&oe.preventDefault()}}}})}}]),V}(I.default);P.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},P.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:P.keys.TAB,format:["blockquote","indent","list"],handler:function(V,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:P.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:P.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,J){J.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:P.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,w.default.sources.USER)}},tab:{key:P.keys.TAB,handler:function(V){this.quill.history.cutoff();var J=new m.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(J,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,w.default.sources.SILENT)}},"list empty enter":{key:P.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,J){this.quill.format("list",!1,w.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:P.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var J=this.quill.getLine(V.index),W=s(J,2),oe=W[0],ce=W[1],Z=(0,h.default)({},oe.formats(),{list:"checked"}),q=new m.default().retain(V.index).insert(`
`,Z).retain(oe.length()-ce-1).retain(1,{list:"unchecked"});this.quill.updateContents(q,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:P.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,J){var W=this.quill.getLine(V.index),oe=s(W,2),ce=oe[0],Z=oe[1],q=new m.default().retain(V.index).insert(`
`,J.format).retain(ce.length()-Z-1).retain(1,{header:null});this.quill.updateContents(q,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,J){var W=J.prefix.length,oe=this.quill.getLine(V.index),ce=s(oe,2),Z=ce[0],q=ce[1];if(q>W)return!0;var G=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":G="unchecked";break;case"[x]":G="checked";break;case"-":case"*":G="bullet";break;default:G="ordered"}this.quill.insertText(V.index," ",w.default.sources.USER),this.quill.history.cutoff();var Y=new m.default().retain(V.index-q).delete(W+1).retain(Z.length()-2-q).retain(1,{list:G});this.quill.updateContents(Y,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-W,w.default.sources.SILENT)}},"code exit":{key:P.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var J=this.quill.getLine(V.index),W=s(J,2),oe=W[0],ce=W[1],Z=new m.default().retain(V.index+oe.length()-ce-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Z,w.default.sources.USER)}},"embed left":Q(P.keys.LEFT,!1),"embed left shift":Q(P.keys.LEFT,!0),"embed right":Q(P.keys.RIGHT,!1),"embed right shift":Q(P.keys.RIGHT,!0)}};function Q(j,V){var J,W=j===P.keys.LEFT?"prefix":"suffix";return J={key:j,shiftKey:V,altKey:null},A(J,W,/^$/),A(J,"handler",function(ce){var Z=ce.index;j===P.keys.RIGHT&&(Z+=ce.length+1);var q=this.quill.getLeaf(Z),G=s(q,1),Y=G[0];return Y instanceof b.default.Embed?(j===P.keys.LEFT?V?this.quill.setSelection(ce.index-1,ce.length+1,w.default.sources.USER):this.quill.setSelection(ce.index-1,w.default.sources.USER):V?this.quill.setSelection(ce.index,ce.length+1,w.default.sources.USER):this.quill.setSelection(ce.index+ce.length+1,w.default.sources.USER),!1):!0}),J}function H(j,V){if(!(j.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(j.index),W=s(J,1),oe=W[0],ce={};if(V.offset===0){var Z=this.quill.getLine(j.index-1),q=s(Z,1),G=q[0];if(G!=null&&G.length()>1){var Y=oe.formats(),de=this.quill.getFormat(j.index-1,1);ce=v.default.attributes.diff(Y,de)||{}}}var ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(j.index-ee,ee,w.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(j.index-ee,ee,ce,w.default.sources.USER),this.quill.focus()}}function B(j,V){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(j.index>=this.quill.getLength()-J)){var W={},oe=0,ce=this.quill.getLine(j.index),Z=s(ce,1),q=Z[0];if(V.offset>=q.length()-1){var G=this.quill.getLine(j.index+1),Y=s(G,1),de=Y[0];if(de){var ee=q.formats(),U=this.quill.getFormat(j.index,1);W=v.default.attributes.diff(ee,U)||{},oe=de.length()}}this.quill.deleteText(j.index,J,w.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(j.index+oe-1,J,W,w.default.sources.USER)}}function $(j){var V=this.quill.getLines(j),J={};if(V.length>1){var W=V[0].formats(),oe=V[V.length-1].formats();J=v.default.attributes.diff(oe,W)||{}}this.quill.deleteText(j,w.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(j.index,1,J,w.default.sources.USER),this.quill.setSelection(j.index,w.default.sources.SILENT),this.quill.focus()}function F(j,V){var J=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var W=Object.keys(V.format).reduce(function(oe,ce){return b.default.query(ce,b.default.Scope.BLOCK)&&!Array.isArray(V.format[ce])&&(oe[ce]=V.format[ce]),oe},{});this.quill.insertText(j.index,`
`,W,w.default.sources.USER),this.quill.setSelection(j.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(oe){W[oe]==null&&(Array.isArray(V.format[oe])||oe!=="link"&&J.quill.format(oe,V.format[oe],w.default.sources.USER))})}function D(j){return{key:P.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(J){var W=b.default.query("code-block"),oe=J.index,ce=J.length,Z=this.quill.scroll.descendant(W,oe),q=s(Z,2),G=q[0],Y=q[1];if(G!=null){var de=this.quill.getIndex(G),ee=G.newlineIndex(Y,!0)+1,U=G.newlineIndex(de+Y+ce),te=G.domNode.textContent.slice(ee,U).split(`
`);Y=0,te.forEach(function(re,se){j?(G.insertAt(ee+Y,W.TAB),Y+=W.TAB.length,se===0?oe+=W.TAB.length:ce+=W.TAB.length):re.startsWith(W.TAB)&&(G.deleteAt(ee+Y,W.TAB.length),Y-=W.TAB.length,se===0?oe-=W.TAB.length:ce-=W.TAB.length),Y+=re.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(oe,ce,w.default.sources.SILENT)}}}}function K(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(J,W){this.quill.format(j,!W.format[j],w.default.sources.USER)}}}function z(j){if(typeof j=="string"||typeof j=="number")return z({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,f.default)(j,!1)),typeof j.key=="string")if(P.keys[j.key.toUpperCase()]!=null)j.key=P.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[O]=j.shortKey,delete j.shortKey),j}r.default=P,r.SHORTKEY=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(_,b){var g=[],w=!0,k=!1,S=void 0;try{for(var E=_[Symbol.iterator](),I;!(w=(I=E.next()).done)&&(g.push(I.value),!(b&&g.length===b));w=!0);}catch(x){k=!0,S=x}finally{try{!w&&E.return&&E.return()}finally{if(k)throw S}}return g}return function(_,b){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return v(_,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),l=i(0),f=d(l),u=i(7),c=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function p(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function m(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var y=function(v){m(_,v),a(_,null,[{key:"value",value:function(){}}]);function _(b,g){h(this,_);var w=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return w.selection=g,w.textNode=document.createTextNode(_.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,g,w);for(var k=this,S=0;k!=null&&k.statics.scope!==f.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=_.CONTENTS.length,k.optimize(),k.formatAt(S,_.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),k=void 0,S=void 0,E=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var I=[g,w.start.offset,w.end.offset];k=I[0],S=I[1],E=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var x=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof c.default?(k=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=_.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var A=[S,E].map(function(R){return Math.max(0,Math.min(k.data.length,R-1))}),T=o(A,2);return S=T[0],E=T[1],{startNode:k,startOffset:S,endNode:k,endOffset:E}}}}},{key:"update",value:function(g,w){var k=this;if(g.some(function(E){return E.type==="characterData"&&E.target===k.textNode})){var S=this.restore();S&&(w.range=S)}}},{key:"value",value:function(){return""}}]),_}(f.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=f(o),a=i(4),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=f(a);function f(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function c(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function d(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){d(v,y);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(b){var g=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),v}(l.default.Attributor.Style),p=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=p,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function m(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),s=function m(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var g=Object.getPrototypeOf(y);return g===null?void 0:m(g,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(6),l=f(a);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(_,b){if(_!==this.statics.blotName||!b)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(_){var b=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return _=this.sanitize(_),b.setAttribute("href",_),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return p(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),y}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(m,y){var v=document.createElement("a");v.href=m;var _=v.href.slice(0,v.href.indexOf(":"));return y.indexOf(_)>-1}r.default=h,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),a=i(23),l=c(a),f=i(107),u=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function p(y,v){y.setAttribute(v,y.getAttribute(v)!=="true")}var m=function(){function y(v){var _=this;d(this,y),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var b=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),_.hasAttribute("value")&&g.setAttribute("data-value",_.getAttribute("value")),_.textContent&&g.setAttribute("data-label",_.textContent),g.addEventListener("click",function(){b.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=u.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(g){var w=_.buildItem(g);b.appendChild(w),g.selected===!0&&_.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(b){_.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(_!==g&&(g!=null&&g.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var g=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),y}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=M(o),a=i(5),l=M(a),f=i(4),u=M(f),c=i(16),d=M(c),h=i(25),p=M(h),m=i(24),y=M(m),v=i(35),_=M(v),b=i(6),g=M(b),w=i(22),k=M(w),S=i(7),E=M(S),I=i(55),x=M(I),A=i(42),T=M(A),R=i(23),N=M(R);function M(O){return O&&O.__esModule?O:{default:O}}l.default.register({"blots/block":u.default,"blots/block/embed":f.BlockEmbed,"blots/break":d.default,"blots/container":p.default,"blots/cursor":y.default,"blots/embed":_.default,"blots/inline":g.default,"blots/scroll":k.default,"blots/text":E.default,"modules/clipboard":x.default,"modules/history":T.default,"modules/keyboard":N.default}),s.default.register(u.default,d.default,y.default,g.default,k.default,E.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?f=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?f=document.createElement(l):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,f){var u=this.isolate(l,f);u.remove()},a.prototype.formatAt=function(l,f,u,c){var d=this.isolate(l,f);if(o.query(u,o.Scope.BLOT)!=null&&c)d.wrap(u,c);else if(o.query(u,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);d.wrap(h),h.format(u,c)}},a.prototype.insertAt=function(l,f,u){var c=u==null?o.create("text",f):o.create(f,u),d=this.split(l);this.parent.insertBefore(c,d)},a.prototype.insertInto=function(l,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,f),f!=null&&(u=f.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},a.prototype.isolate=function(l,f){var u=this.split(l);return u.split(f),u},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,f){var u=typeof l=="string"?o.create(l,f):l;return u.replace(this),u},a.prototype.split=function(l,f){return l===0?this:this.next},a.prototype.update=function(l,f){},a.prototype.wrap=function(l,f){var u=typeof l=="string"?o.create(l,f):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),f=function(){function u(c){this.attributes={},this.domNode=c,this.build()}return u.prototype.attribute=function(c,d){d?c.add(this.domNode,d)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},u.prototype.build=function(){var c=this;this.attributes={};var d=o.default.keys(this.domNode),h=s.default.keys(this.domNode),p=a.default.keys(this.domNode);d.concat(h).concat(p).forEach(function(m){var y=l.query(m,l.Scope.ATTRIBUTE);y instanceof o.default&&(c.attributes[y.attrName]=y)})},u.prototype.copy=function(c){var d=this;Object.keys(this.attributes).forEach(function(h){var p=d.attributes[h].value(d.domNode);c.format(h,p)})},u.prototype.move=function(c){var d=this;this.copy(c),Object.keys(this.attributes).forEach(function(h){d.attributes[h].remove(d.domNode)}),this.attributes={}},u.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(d,h){return d[h]=c.attributes[h].value(c.domNode),d},{})},u}();r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f,u){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(d){return d.indexOf(u+"-")===0})}var l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},u.prototype.add=function(c,d){return this.canAdd(c,d)?(this.remove(c),c.classList.add(this.keyName+"-"+d),!0):!1},u.prototype.remove=function(c){var d=a(c,this.keyName);d.forEach(function(h){c.classList.remove(h)}),c.classList.length===0&&c.removeAttribute("class")},u.prototype.value=function(c){var d=a(c,this.keyName)[0]||"",h=d.slice(this.keyName.length+1);return this.canAdd(c,h)?h:""},u}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f){var u=f.split("-"),c=u.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return u[0]+c}var l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(d){var h=d.split(":");return h[0].trim()})},u.prototype.add=function(c,d){return this.canAdd(c,d)?(c.style[a(this.keyName)]=d,!0):!1},u.prototype.remove=function(c){c.style[a(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},u.prototype.value=function(c){var d=c.style[a(this.keyName)];return this.canAdd(c,d)?d:""},u}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,u,c){return u&&l(f.prototype,u),c&&l(f,c),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){s(this,l),this.quill=f,this.options=u,this.modules={}}return o(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(c){u.modules[c]==null&&u.addModule(c)})}},{key:"addModule",value:function(u){var c=this.quill.constructor.import("modules/"+u);return this.modules[u]=new c(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),s=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=c(a),f=i(7),u=c(f);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function p(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var m="\uFEFF",y=function(v){p(_,v);function _(b){d(this,_);var g=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(m),g.rightGuard=document.createTextNode(m),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(_,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,k=void 0,S=g.data.split(m).join("");if(g===this.leftGuard)if(this.prev instanceof u.default){var E=this.prev.length();this.prev.insertAt(E,S),w={startNode:this.prev.domNode,startOffset:E+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this),w={startNode:k,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,S),w={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this.next),w={startNode:k,startOffset:S.length}));return g.data=m,w}},{key:"update",value:function(g,w){var k=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var E=k.restore(S.target);E&&(w.range=E)}})}}]),_}(l.default.Embed);r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new s.default.Attributor.Attribute("align","align",l),u=new s.default.Attributor.Class("align","ql-align",l),c=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=f,r.AlignClass=u,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(c){return c&&c.__esModule?c:{default:c}}var f=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=f,r.BackgroundStyle=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},f=new s.default.Attributor.Attribute("direction","dir",l),u=new s.default.Attributor.Class("direction","ql-direction",l),c=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=f,r.DirectionClass=u,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),s=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function u(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function c(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new l.default.Attributor.Class("font","ql-font",h),m=function(v){d(_,v);function _(){return u(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"value",value:function(g){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),y=new m("font","font-family",h);r.FontStyle=y,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=f},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(g,w){for(var k=0;k<w.length;k++){var S=w[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,k){return w&&b(g.prototype,w),k&&b(g,k),g}}(),s=i(0),a=d(s),l=i(5),f=d(l),u=i(9),c=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function m(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=function(b){m(g,b);function g(w,k){h(this,g);var S=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(f.default.events.EDITOR_CHANGE,function(E,I,x,A){E!==f.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||A===f.default.sources.USER?S.record(I,x):S.transform(I))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(g,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var E=this.stack[k].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[k],f.default.sources.USER),this.ignoreChange=!1;var I=_(E[k]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var x=this.stack.undo.pop();E=E.compose(x.undo),k=x.redo.compose(k)}else this.lastRecorded=I;this.stack.undo.push({redo:k,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(c.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var g=b.ops[b.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function _(b){var g=b.reduce(function(k,S){return k+=S.delete||0,k},0),w=b.length()-g;return v(b)&&(w-=1),w}r.default=y,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function F(D,K){for(var z=0;z<K.length;z++){var j=K[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,K,z){return K&&F(D.prototype,K),z&&F(D,z),D}}(),s=function F(D,K,z){D===null&&(D=Function.prototype);var j=Object.getOwnPropertyDescriptor(D,K);if(j===void 0){var V=Object.getPrototypeOf(D);return V===null?void 0:F(V,K,z)}else{if("value"in j)return j.value;var J=j.get;return J===void 0?void 0:J.call(z)}},a=i(3),l=I(a),f=i(2),u=I(f),c=i(8),d=I(c),h=i(23),p=I(h),m=i(34),y=I(m),v=i(59),_=I(v),b=i(60),g=I(b),w=i(28),k=I(w),S=i(61),E=I(S);function I(F){return F&&F.__esModule?F:{default:F}}function x(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function A(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function T(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var R=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],O=["1","2","3",!1],P=["small",!1,"large","huge"],Q=function(F){T(D,F);function D(K,z){x(this,D);var j=A(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,K,z)),V=function J(W){if(!document.body.contains(K.root))return document.body.removeEventListener("click",J);j.tooltip!=null&&!j.tooltip.root.contains(W.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(oe){oe.container.contains(W.target)||oe.close()})};return K.emitter.listenDOM("click",document.body,V),j}return o(D,[{key:"addModule",value:function(z){var j=s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(z,j){z.forEach(function(V){var J=V.getAttribute("class")||"";J.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),j[W]!=null))if(W==="direction")V.innerHTML=j[W][""]+j[W].rtl;else if(typeof j[W]=="string")V.innerHTML=j[W];else{var oe=V.value||"";oe!=null&&j[W][oe]&&(V.innerHTML=j[W][oe])}})})}},{key:"buildPickers",value:function(z,j){var V=this;this.pickers=z.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&$(W,R),new g.default(W,j.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var oe=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&$(W,N,oe==="background"?"#ffffff":"#000000"),new _.default(W,j[oe])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?$(W,M):W.classList.contains("ql-header")?$(W,O):W.classList.contains("ql-size")&&$(W,P)),new k.default(W)});var J=function(){V.pickers.forEach(function(oe){oe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,J)}}]),D}(y.default);Q.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var z=new FileReader;z.onload=function(j){var V=D.quill.getSelection(!0);D.quill.updateContents(new u.default().retain(V.index).delete(V.length).insert({image:j.target.result}),d.default.sources.USER),D.quill.setSelection(V.index+1,d.default.sources.SILENT),K.value=""},z.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(F){T(D,F);function D(K,z){x(this,D);var j=A(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,K,z));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(D,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(j){p.default.match(j,"enter")?(z.save(),j.preventDefault()):p.default.match(j,"escape")&&(z.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":z=B(z);case"formula":{if(!z)break;var V=this.quill.getSelection(!0);if(V!=null){var J=V.index+V.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",d.default.sources.USER),this.quill.setSelection(J+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(E.default);function B(F){var D=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":F}function $(F,D){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(z){var j=document.createElement("option");z===K?j.setAttribute("selected","selected"):j.setAttribute("value",z),F.appendChild(j)})}r.BaseTooltip=H,r.default=Q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,f=this.iterator();l=f();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,f=this.head;f!=null;){if(f===a)return l;l+=f.length(),f=f.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var f,u=this.iterator();f=u();){var c=f.length();if(a<c||l&&a===c&&(f.next==null||f.next.length()!==0))return[f,a];a-=c}return[null,0]},s.prototype.forEach=function(a){for(var l,f=this.iterator();l=f();)a(l)},s.prototype.forEachAt=function(a,l,f){if(!(l<=0))for(var u=this.find(a),c=u[0],d=u[1],h,p=a-d,m=this.iterator(c);(h=m())&&p<a+l;){var y=h.length();a>p?f(h,a-p,Math.min(l,p+y-a)):f(h,0,Math.min(y,a+l-p)),p+=y}},s.prototype.map=function(a){return this.reduce(function(l,f){return l.push(a(f)),l},[])},s.prototype.reduce=function(a,l){for(var f,u=this.iterator();f=u();)l=a(l,f);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,u=function(c){o(d,c);function d(h){var p=c.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(m){p.update(m)}),p.observer.observe(p.domNode,l),p.attach(),p}return d.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(m){m.remove()}):c.prototype.deleteAt.call(this,h,p)},d.prototype.formatAt=function(h,p,m,y){this.update(),c.prototype.formatAt.call(this,h,p,m,y)},d.prototype.insertAt=function(h,p,m){this.update(),c.prototype.insertAt.call(this,h,p,m)},d.prototype.optimize=function(h,p){var m=this;h===void 0&&(h=[]),p===void 0&&(p={}),c.prototype.optimize.call(this,p);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var v=function(w,k){k===void 0&&(k=!0),!(w==null||w===m)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),k&&v(w.parent))},_=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof s.default&&w.children.forEach(_),w.optimize(p))},b=h,g=0;b.length>0;g+=1){if(g>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var k=a.find(w.target,!0);k!=null&&(k.domNode===w.target&&(w.type==="childList"?(v(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(S){var E=a.find(S,!1);v(E,!1),E instanceof s.default&&E.children.forEach(function(I){v(I,!1)})})):w.type==="attributes"&&v(k.prev)),v(k))}),this.children.forEach(_),b=[].slice.call(this.observer.takeRecords()),y=b.slice();y.length>0;)h.push(y.pop())}},d.prototype.update=function(h,p){var m=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(y){var v=a.find(y.target,!0);return v==null?null:v.domNode[a.DATA_KEY].mutations==null?(v.domNode[a.DATA_KEY].mutations=[y],v):(v.domNode[a.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===m||y.domNode[a.DATA_KEY]==null||y.update(y.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(h,p)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(u,c){if(Object.keys(u).length!==Object.keys(c).length)return!1;for(var d in u)if(u[d]!==c[d])return!1;return!0}var f=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){if(d.tagName!==c.tagName)return u.formats.call(this,d)},c.prototype.format=function(d,h){var p=this;d===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(c.blotName,!0)),p.attributes.copy(m)}),this.unwrap()):u.prototype.format.call(this,d,h)},c.prototype.formatAt=function(d,h,p,m){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var y=this.isolate(d,h);y.format(p,m)}else u.prototype.formatAt.call(this,d,h,p,m)},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof c&&p.prev===this&&l(h,p.formats())&&(p.moveChildren(this),p.remove())},c.blotName="inline",c.scope=a.Scope.INLINE_BLOT,c.tagName="SPAN",c}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.formats=function(c){var d=a.query(u.blotName).tagName;if(c.tagName!==d)return f.formats.call(this,c)},u.prototype.format=function(c,d){a.query(c,a.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!d?this.replaceWith(u.blotName):f.prototype.format.call(this,c,d))},u.prototype.formatAt=function(c,d,h,p){a.query(h,a.Scope.BLOCK)!=null?this.format(h,p):f.prototype.formatAt.call(this,c,d,h,p)},u.prototype.insertAt=function(c,d,h){if(h==null||a.query(d,a.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,d,h);else{var p=this.split(c),m=a.create(d,h);p.parent.insertBefore(m,p)}},u.prototype.update=function(c,d){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,d)},u.blotName="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="P",u}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var c in u)u.hasOwnProperty(c)&&(f[c]=u[c])};return function(f,u){l(f,u);function c(){this.constructor=f}f.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.formats=function(u){},f.prototype.format=function(u,c){l.prototype.formatAt.call(this,0,this.length(),u,c)},f.prototype.formatAt=function(u,c,d,h){u===0&&c===this.length()?this.format(d,h):l.prototype.formatAt.call(this,u,c,d,h)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(f){o(u,f);function u(c){var d=f.call(this,c)||this;return d.text=d.statics.value(d.domNode),d}return u.create=function(c){return document.createTextNode(c)},u.value=function(c){var d=c.data;return d.normalize&&(d=d.normalize()),d},u.prototype.deleteAt=function(c,d){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+d)},u.prototype.index=function(c,d){return this.domNode===c?d:-1},u.prototype.insertAt=function(c,d,h){h==null?(this.text=this.text.slice(0,c)+d+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,d,h)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(c,d){return[this.domNode,c]},u.prototype.split=function(c,d){if(d===void 0&&(d=!1),!d){if(c===0)return this;if(c===this.length())return this.next}var h=a.create(this.domNode.splitText(c));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},u.prototype.update=function(c,d){var h=this;c.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var f=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>f.length)&&(l=f.length),l-=a.length;var u=f.indexOf(a,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),u=f.length>>>0,c=arguments[1],d,h=0;h<u;h++)if(d=f[h],l.call(c,d,h,f))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,w,k){if(g==w)return g?[[s,g]]:[];(k<0||g.length<k)&&(k=null);var S=c(g,w),E=g.substring(0,S);g=g.substring(S),w=w.substring(S),S=d(g,w);var I=g.substring(g.length-S);g=g.substring(0,g.length-S),w=w.substring(0,w.length-S);var x=l(g,w);return E&&x.unshift([s,E]),I&&x.push([s,I]),p(x),k!=null&&(x=v(x,k)),x=_(x),x}function l(g,w){var k;if(!g)return[[o,w]];if(!w)return[[i,g]];var S=g.length>w.length?g:w,E=g.length>w.length?w:g,I=S.indexOf(E);if(I!=-1)return k=[[o,S.substring(0,I)],[s,E],[o,S.substring(I+E.length)]],g.length>w.length&&(k[0][0]=k[2][0]=i),k;if(E.length==1)return[[i,g],[o,w]];var x=h(g,w);if(x){var A=x[0],T=x[1],R=x[2],N=x[3],M=x[4],O=a(A,R),P=a(T,N);return O.concat([[s,M]],P)}return f(g,w)}function f(g,w){for(var k=g.length,S=w.length,E=Math.ceil((k+S)/2),I=E,x=2*E,A=new Array(x),T=new Array(x),R=0;R<x;R++)A[R]=-1,T[R]=-1;A[I+1]=0,T[I+1]=0;for(var N=k-S,M=N%2!=0,O=0,P=0,Q=0,H=0,B=0;B<E;B++){for(var $=-B+O;$<=B-P;$+=2){var F=I+$,D;$==-B||$!=B&&A[F-1]<A[F+1]?D=A[F+1]:D=A[F-1]+1;for(var K=D-$;D<k&&K<S&&g.charAt(D)==w.charAt(K);)D++,K++;if(A[F]=D,D>k)P+=2;else if(K>S)O+=2;else if(M){var z=I+N-$;if(z>=0&&z<x&&T[z]!=-1){var j=k-T[z];if(D>=j)return u(g,w,D,K)}}}for(var V=-B+Q;V<=B-H;V+=2){var z=I+V,j;V==-B||V!=B&&T[z-1]<T[z+1]?j=T[z+1]:j=T[z-1]+1;for(var J=j-V;j<k&&J<S&&g.charAt(k-j-1)==w.charAt(S-J-1);)j++,J++;if(T[z]=j,j>k)H+=2;else if(J>S)Q+=2;else if(!M){var F=I+N-V;if(F>=0&&F<x&&A[F]!=-1){var D=A[F],K=I+D-F;if(j=k-j,D>=j)return u(g,w,D,K)}}}}return[[i,g],[o,w]]}function u(g,w,k,S){var E=g.substring(0,k),I=w.substring(0,S),x=g.substring(k),A=w.substring(S),T=a(E,I),R=a(x,A);return T.concat(R)}function c(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var k=0,S=Math.min(g.length,w.length),E=S,I=0;k<E;)g.substring(I,E)==w.substring(I,E)?(k=E,I=k):S=E,E=Math.floor((S-k)/2+k);return E}function d(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var k=0,S=Math.min(g.length,w.length),E=S,I=0;k<E;)g.substring(g.length-E,g.length-I)==w.substring(w.length-E,w.length-I)?(k=E,I=k):S=E,E=Math.floor((S-k)/2+k);return E}function h(g,w){var k=g.length>w.length?g:w,S=g.length>w.length?w:g;if(k.length<4||S.length*2<k.length)return null;function E(P,Q,H){for(var B=P.substring(H,H+Math.floor(P.length/4)),$=-1,F="",D,K,z,j;($=Q.indexOf(B,$+1))!=-1;){var V=c(P.substring(H),Q.substring($)),J=d(P.substring(0,H),Q.substring(0,$));F.length<J+V&&(F=Q.substring($-J,$)+Q.substring($,$+V),D=P.substring(0,H-J),K=P.substring(H+V),z=Q.substring(0,$-J),j=Q.substring($+V))}return F.length*2>=P.length?[D,K,z,j,F]:null}var I=E(k,S,Math.ceil(k.length/4)),x=E(k,S,Math.ceil(k.length/2)),A;if(!I&&!x)return null;x?I?A=I[4].length>x[4].length?I:x:A=x:A=I;var T,R,N,M;g.length>w.length?(T=A[0],R=A[1],N=A[2],M=A[3]):(N=A[0],M=A[1],T=A[2],R=A[3]);var O=A[4];return[T,R,N,M,O]}function p(g){g.push([s,""]);for(var w=0,k=0,S=0,E="",I="",x;w<g.length;)switch(g[w][0]){case o:S++,I+=g[w][1],w++;break;case i:k++,E+=g[w][1],w++;break;case s:k+S>1?(k!==0&&S!==0&&(x=c(I,E),x!==0&&(w-k-S>0&&g[w-k-S-1][0]==s?g[w-k-S-1][1]+=I.substring(0,x):(g.splice(0,0,[s,I.substring(0,x)]),w++),I=I.substring(x),E=E.substring(x)),x=d(I,E),x!==0&&(g[w][1]=I.substring(I.length-x)+g[w][1],I=I.substring(0,I.length-x),E=E.substring(0,E.length-x))),k===0?g.splice(w-S,k+S,[o,I]):S===0?g.splice(w-k,k+S,[i,E]):g.splice(w-k-S,k+S,[i,E],[o,I]),w=w-k-S+(k?1:0)+(S?1:0)+1):w!==0&&g[w-1][0]==s?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,S=0,k=0,E="",I="";break}g[g.length-1][1]===""&&g.pop();var A=!1;for(w=1;w<g.length-1;)g[w-1][0]==s&&g[w+1][0]==s&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),A=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),A=!0)),w++;A&&p(g)}var m=a;m.INSERT=o,m.DELETE=i,m.EQUAL=s,n.exports=m;function y(g,w){if(w===0)return[s,g];for(var k=0,S=0;S<g.length;S++){var E=g[S];if(E[0]===i||E[0]===s){var I=k+E[1].length;if(w===I)return[S+1,g];if(w<I){g=g.slice();var x=w-k,A=[E[0],E[1].slice(0,x)],T=[E[0],E[1].slice(x)];return g.splice(S,1,A,T),[S+1,g]}else k=I}}throw new Error("cursor_pos is out of bounds!")}function v(g,w){var k=y(g,w),S=k[1],E=k[0],I=S[E],x=S[E+1];if(I==null)return g;if(I[0]!==s)return g;if(x!=null&&I[1]+x[1]===x[1]+I[1])return S.splice(E,2,x,I),b(S,E,2);if(x!=null&&x[1].indexOf(I[1])===0){S.splice(E,2,[x[0],I[1]],[0,I[1]]);var A=x[1].slice(I[1].length);return A.length>0&&S.splice(E+2,0,[x[0],A]),b(S,E,3)}else return g}function _(g){for(var w=!1,k=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},S=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},E=2;E<g.length;E+=1)g[E-2][0]===s&&S(g[E-2][1])&&g[E-1][0]===i&&k(g[E-1][1])&&g[E][0]===o&&k(g[E][1])&&(w=!0,g[E-1][1]=g[E-2][1].slice(-1)+g[E-1][1],g[E][1]=g[E-2][1].slice(-1)+g[E][1],g[E-2][1]=g[E-2][1].slice(0,-1));if(!w)return g;for(var I=[],E=0;E<g.length;E+=1)g[E][1].length>0&&I.push(g[E]);return I}function b(g,w,k){for(var S=w+k-1;S>=0&&S>=w-1;S--)if(S+1<g.length){var E=g[S],I=g[S+1];E[0]===I[1]&&g.splice(S,2,[E[0],E[1]+I[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(f,u,c){this.fn=f,this.context=u,this.once=c||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)i.call(c,d)&&u.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},l.prototype.listeners=function(u,c){var d=o?o+u:u,h=this._events[d];if(c)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},l.prototype.emit=function(u,c,d,h,p,m){var y=o?o+u:u;if(!this._events[y])return!1;var v=this._events[y],_=arguments.length,b,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,m),!0}for(g=1,b=new Array(_-1);g<_;g++)b[g-1]=arguments[g];v.fn.apply(v.context,b)}else{var w=v.length,k;for(g=0;g<w;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),_){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,c);break;case 3:v[g].fn.call(v[g].context,c,d);break;case 4:v[g].fn.call(v[g].context,c,d,h);break;default:if(!b)for(k=1,b=new Array(_-1);k<_;k++)b[k-1]=arguments[k];v[g].fn.apply(v[g].context,b)}}return!0},l.prototype.on=function(u,c,d){var h=new a(c,d||this),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.once=function(u,c,d){var h=new a(c,d||this,!0),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.removeListener=function(u,c,d,h){var p=o?o+u:u;if(!this._events[p])return this;if(!c)return--this._eventsCount===0?this._events=new s:delete this._events[p],this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[p]);else{for(var y=0,v=[],_=m.length;y<_;y++)(m[y].fn!==c||h&&!m[y].once||d&&m[y].context!==d)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[p]}return this},l.prototype.removeAllListeners=function(u){var c;return u?(c=o?o+u:u,this._events[c]&&(--this._eventsCount===0?this._events=new s:delete this._events[c])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},s=function(){function U(te,re){var se=[],ne=!0,pe=!1,ve=void 0;try{for(var we=te[Symbol.iterator](),Se;!(ne=(Se=we.next()).done)&&(se.push(Se.value),!(re&&se.length===re));ne=!0);}catch(Le){pe=!0,ve=Le}finally{try{!ne&&we.return&&we.return()}finally{if(pe)throw ve}}return se}return function(te,re){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return U(te,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(te,re){for(var se=0;se<re.length;se++){var ne=re[se];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}}return function(te,re,se){return re&&U(te.prototype,re),se&&U(te,se),te}}(),l=i(3),f=T(l),u=i(2),c=T(u),d=i(0),h=T(d),p=i(5),m=T(p),y=i(10),v=T(y),_=i(9),b=T(_),g=i(36),w=i(37),k=i(13),S=T(k),E=i(26),I=i(38),x=i(39),A=i(40);function T(U){return U&&U.__esModule?U:{default:U}}function R(U,te,re){return te in U?Object.defineProperty(U,te,{value:re,enumerable:!0,configurable:!0,writable:!0}):U[te]=re,U}function N(U,te){if(!(U instanceof te))throw new TypeError("Cannot call a class as a function")}function M(U,te){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:U}function O(U,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);U.prototype=Object.create(te&&te.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(U,te):U.__proto__=te)}var P=(0,v.default)("quill:clipboard"),Q="__ql-matcher",H=[[Node.TEXT_NODE,ee],[Node.TEXT_NODE,G],["br",ce],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,de],["li",q],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",Z]],B=[g.AlignAttribute,I.DirectionAttribute].reduce(function(U,te){return U[te.keyName]=te,U},{}),$=[g.AlignStyle,w.BackgroundStyle,E.ColorStyle,I.DirectionStyle,x.FontStyle,A.SizeStyle].reduce(function(U,te){return U[te.keyName]=te,U},{}),F=function(U){O(te,U);function te(re,se){N(this,te);var ne=M(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,re,se));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],H.concat(ne.options.matchers).forEach(function(pe){var ve=s(pe,2),we=ve[0],Se=ve[1];!se.matchVisual&&Se===Y||ne.addMatcher(we,Se)}),ne}return a(te,[{key:"addMatcher",value:function(se,ne){this.matchers.push([se,ne])}},{key:"convert",value:function(se){if(typeof se=="string")return this.container.innerHTML=se.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[S.default.blotName]){var pe=this.container.innerText;return this.container.innerHTML="",new c.default().insert(pe,R({},S.default.blotName,ne[S.default.blotName]))}var ve=this.prepareMatching(),we=s(ve,2),Se=we[0],Le=we[1],Oe=V(this.container,Se,Le);return z(Oe,`
`)&&Oe.ops[Oe.ops.length-1].attributes==null&&(Oe=Oe.compose(new c.default().retain(Oe.length()-1).delete(1))),P.log("convert",this.container.innerHTML,Oe),this.container.innerHTML="",Oe}},{key:"dangerouslyPasteHTML",value:function(se,ne){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof se=="string")this.quill.setContents(this.convert(se),ne),this.quill.setSelection(0,m.default.sources.SILENT);else{var ve=this.convert(ne);this.quill.updateContents(new c.default().retain(se).concat(ve),pe),this.quill.setSelection(se+ve.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(se){var ne=this;if(!(se.defaultPrevented||!this.quill.isEnabled())){var pe=this.quill.getSelection(),ve=new c.default().retain(pe.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ve=ve.concat(ne.convert()).delete(pe.length),ne.quill.updateContents(ve,m.default.sources.USER),ne.quill.setSelection(ve.length()-pe.length,m.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=we,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var se=this,ne=[],pe=[];return this.matchers.forEach(function(ve){var we=s(ve,2),Se=we[0],Le=we[1];switch(Se){case Node.TEXT_NODE:pe.push(Le);break;case Node.ELEMENT_NODE:ne.push(Le);break;default:[].forEach.call(se.container.querySelectorAll(Se),function(Oe){Oe[Q]=Oe[Q]||[],Oe[Q].push(Le)});break}}),[ne,pe]}}]),te}(b.default);F.DEFAULTS={matchers:[],matchVisual:!0};function D(U,te,re){return(typeof te>"u"?"undefined":o(te))==="object"?Object.keys(te).reduce(function(se,ne){return D(se,ne,te[ne])},U):U.reduce(function(se,ne){return ne.attributes&&ne.attributes[te]?se.push(ne):se.insert(ne.insert,(0,f.default)({},R({},te,re),ne.attributes))},new c.default)}function K(U){if(U.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return U[te]||(U[te]=window.getComputedStyle(U))}function z(U,te){for(var re="",se=U.ops.length-1;se>=0&&re.length<te.length;--se){var ne=U.ops[se];if(typeof ne.insert!="string")break;re=ne.insert+re}return re.slice(-1*te.length)===te}function j(U){if(U.childNodes.length===0)return!1;var te=K(U);return["block","list-item"].indexOf(te.display)>-1}function V(U,te,re){return U.nodeType===U.TEXT_NODE?re.reduce(function(se,ne){return ne(U,se)},new c.default):U.nodeType===U.ELEMENT_NODE?[].reduce.call(U.childNodes||[],function(se,ne){var pe=V(ne,te,re);return ne.nodeType===U.ELEMENT_NODE&&(pe=te.reduce(function(ve,we){return we(ne,ve)},pe),pe=(ne[Q]||[]).reduce(function(ve,we){return we(ne,ve)},pe)),se.concat(pe)},new c.default):new c.default}function J(U,te,re){return D(re,U,!0)}function W(U,te){var re=h.default.Attributor.Attribute.keys(U),se=h.default.Attributor.Class.keys(U),ne=h.default.Attributor.Style.keys(U),pe={};return re.concat(se).concat(ne).forEach(function(ve){var we=h.default.query(ve,h.default.Scope.ATTRIBUTE);we!=null&&(pe[we.attrName]=we.value(U),pe[we.attrName])||(we=B[ve],we!=null&&(we.attrName===ve||we.keyName===ve)&&(pe[we.attrName]=we.value(U)||void 0),we=$[ve],we!=null&&(we.attrName===ve||we.keyName===ve)&&(we=$[ve],pe[we.attrName]=we.value(U)||void 0))}),Object.keys(pe).length>0&&(te=D(te,pe)),te}function oe(U,te){var re=h.default.query(U);if(re==null)return te;if(re.prototype instanceof h.default.Embed){var se={},ne=re.value(U);ne!=null&&(se[re.blotName]=ne,te=new c.default().insert(se,re.formats(U)))}else typeof re.formats=="function"&&(te=D(te,re.blotName,re.formats(U)));return te}function ce(U,te){return z(te,`
`)||te.insert(`
`),te}function Z(){return new c.default}function q(U,te){var re=h.default.query(U);if(re==null||re.blotName!=="list-item"||!z(te,`
`))return te;for(var se=-1,ne=U.parentNode;!ne.classList.contains("ql-clipboard");)(h.default.query(ne)||{}).blotName==="list"&&(se+=1),ne=ne.parentNode;return se<=0?te:te.compose(new c.default().retain(te.length()-1).retain(1,{indent:se}))}function G(U,te){return z(te,`
`)||(j(U)||te.length()>0&&U.nextSibling&&j(U.nextSibling))&&te.insert(`
`),te}function Y(U,te){if(j(U)&&U.nextElementSibling!=null&&!z(te,`

`)){var re=U.offsetHeight+parseFloat(K(U).marginTop)+parseFloat(K(U).marginBottom);U.nextElementSibling.offsetTop>U.offsetTop+re*1.5&&te.insert(`
`)}return te}function de(U,te){var re={},se=U.style||{};return se.fontStyle&&K(U).fontStyle==="italic"&&(re.italic=!0),se.fontWeight&&(K(U).fontWeight.startsWith("bold")||parseInt(K(U).fontWeight)>=700)&&(re.bold=!0),Object.keys(re).length>0&&(te=D(te,re)),parseFloat(se.textIndent||0)>0&&(te=new c.default().insert("	").concat(te)),te}function ee(U,te){var re=U.data;if(U.parentNode.tagName==="O:P")return te.insert(re.trim());if(re.trim().length===0&&U.parentNode.classList.contains("ql-clipboard"))return te;if(!K(U.parentNode).whiteSpace.startsWith("pre")){var se=function(pe,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&pe?" ":ve};re=re.replace(/\r\n/g," ").replace(/\n/g," "),re=re.replace(/\s\s+/g,se.bind(se,!0)),(U.previousSibling==null&&j(U.parentNode)||U.previousSibling!=null&&j(U.previousSibling))&&(re=re.replace(/^\s+/,se.bind(se,!1))),(U.nextSibling==null&&j(U.parentNode)||U.nextSibling!=null&&j(U.nextSibling))&&(re=re.replace(/\s+$/,se.bind(se,!1)))}return te.insert(re)}r.default=F,r.matchAttributor=W,r.matchBlot=oe,r.matchNewline=G,r.matchSpacing=Y,r.matchText=ee},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"optimize",value:function(v){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function A(T,R){var N=[],M=!0,O=!1,P=void 0;try{for(var Q=T[Symbol.iterator](),H;!(M=(H=Q.next()).done)&&(N.push(H.value),!(R&&N.length===R));M=!0);}catch(B){O=!0,P=B}finally{try{!M&&Q.return&&Q.return()}finally{if(O)throw P}}return N}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(T,R){for(var N=0;N<R.length;N++){var M=R[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,R,N){return R&&A(T.prototype,R),N&&A(T,N),T}}(),a=i(2),l=v(a),f=i(0),u=v(f),c=i(5),d=v(c),h=i(10),p=v(h),m=i(9),y=v(m);function v(A){return A&&A.__esModule?A:{default:A}}function _(A,T,R){return T in A?Object.defineProperty(A,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[T]=R,A}function b(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function w(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var k=(0,p.default)("quill:toolbar"),S=function(A){w(T,A);function T(R,N){b(this,T);var M=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,N));if(Array.isArray(M.options.container)){var O=document.createElement("div");I(O,M.options.container),R.container.parentNode.insertBefore(O,R.container),M.container=O}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var P;return P=k.error("Container required for toolbar",M.options),g(M,P)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(Q){M.addHandler(Q,M.options.handlers[Q])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(Q){M.attach(Q)}),M.quill.on(d.default.events.EDITOR_CHANGE,function(Q,H){Q===d.default.events.SELECTION_CHANGE&&M.update(H)}),M.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var Q=M.quill.selection.getRange(),H=o(Q,1),B=H[0];M.update(B)}),M}return s(T,[{key:"addHandler",value:function(N,M){this.handlers[N]=M}},{key:"attach",value:function(N){var M=this,O=[].find.call(N.classList,function(Q){return Q.indexOf("ql-")===0});if(O){if(O=O.slice(3),N.tagName==="BUTTON"&&N.setAttribute("type","button"),this.handlers[O]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[O]==null){k.warn("ignoring attaching to disabled format",O,N);return}if(u.default.query(O)==null){k.warn("ignoring attaching to nonexistent format",O,N);return}}var P=N.tagName==="SELECT"?"change":"click";N.addEventListener(P,function(Q){var H=void 0;if(N.tagName==="SELECT"){if(N.selectedIndex<0)return;var B=N.options[N.selectedIndex];B.hasAttribute("selected")?H=!1:H=B.value||!1}else N.classList.contains("ql-active")?H=!1:H=N.value||!N.hasAttribute("value"),Q.preventDefault();M.quill.focus();var $=M.quill.selection.getRange(),F=o($,1),D=F[0];if(M.handlers[O]!=null)M.handlers[O].call(M,H);else if(u.default.query(O).prototype instanceof u.default.Embed){if(H=prompt("Enter "+O),!H)return;M.quill.updateContents(new l.default().retain(D.index).delete(D.length).insert(_({},O,H)),d.default.sources.USER)}else M.quill.format(O,H,d.default.sources.USER);M.update(D)}),this.controls.push([O,N])}}},{key:"update",value:function(N){var M=N==null?{}:this.quill.getFormat(N);this.controls.forEach(function(O){var P=o(O,2),Q=P[0],H=P[1];if(H.tagName==="SELECT"){var B=void 0;if(N==null)B=null;else if(M[Q]==null)B=H.querySelector("option[selected]");else if(!Array.isArray(M[Q])){var $=M[Q];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),B=H.querySelector('option[value="'+$+'"]')}B==null?(H.value="",H.selectedIndex=-1):B.selected=!0}else if(N==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var F=M[Q]===H.getAttribute("value")||M[Q]!=null&&M[Q].toString()===H.getAttribute("value")||M[Q]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",F)}else H.classList.toggle("ql-active",M[Q]!=null)})}}]),T}(y.default);S.DEFAULTS={};function E(A,T,R){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+T),R!=null&&(N.value=R),A.appendChild(N)}function I(A,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(R){var N=document.createElement("span");N.classList.add("ql-formats"),R.forEach(function(M){if(typeof M=="string")E(N,M);else{var O=Object.keys(M)[0],P=M[O];Array.isArray(P)?x(N,O,P):E(N,O,P)}}),A.appendChild(N)})}function x(A,T,R){var N=document.createElement("select");N.classList.add("ql-"+T),R.forEach(function(M){var O=document.createElement("option");M!==!1?O.setAttribute("value",M):O.setAttribute("selected","selected"),N.appendChild(O)}),A.appendChild(N)}S.DEFAULTS={container:null,handlers:{clean:function(){var T=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var N=this.quill.getFormat();Object.keys(N).forEach(function(M){u.default.query(M,u.default.Scope.INLINE)!=null&&T.quill.format(M,!1)})}else this.quill.removeFormat(R,d.default.sources.USER)},direction:function(T){var R=this.quill.getFormat().align;T==="rtl"&&R==null?this.quill.format("align","right",d.default.sources.USER):!T&&R==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",T,d.default.sources.USER)},indent:function(T){var R=this.quill.getSelection(),N=this.quill.getFormat(R),M=parseInt(N.indent||0);if(T==="+1"||T==="-1"){var O=T==="+1"?1:-1;N.direction==="rtl"&&(O*=-1),this.quill.format("indent",M+O,d.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,d.default.sources.USER)},list:function(T){var R=this.quill.getSelection(),N=this.quill.getFormat(R);T==="check"?N.list==="checked"||N.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",T,d.default.sources.USER)}}},r.default=S,r.addControls=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,v){u(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return _.label.innerHTML=v,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),_}return o(m,[{key:"buildItem",value:function(v){var _=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,v);return _.style.backgroundColor=v.getAttribute("value")||"",_}},{key:"selectItem",value:function(v,_){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,_);var b=this.label.querySelector(".ql-color-label"),g=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=g:b.style.fill=g)}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,v){u(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return o(m,[{key:"selectItem",value:function(v,_){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,_),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,u,c){return u&&l(f.prototype,u),c&&l(f,c),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){var c=this;s(this,l),this.quill=f,this.boundsContainer=u||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var c=u.left+u.width/2-this.root.offsetWidth/2,d=u.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),m=0;if(p.right>h.right&&(m=h.right-p.right,this.root.style.left=c+m+"px"),p.left<h.left&&(m=h.left-p.left,this.root.style.left=c+m+"px"),p.bottom>h.bottom){var y=p.bottom-p.top,v=u.bottom-u.top+y;this.root.style.top=d-v+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function x(A,T){var R=[],N=!0,M=!1,O=void 0;try{for(var P=A[Symbol.iterator](),Q;!(N=(Q=P.next()).done)&&(R.push(Q.value),!(T&&R.length===T));N=!0);}catch(H){M=!0,O=H}finally{try{!N&&P.return&&P.return()}finally{if(M)throw O}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return x(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function x(A,T,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,T);if(N===void 0){var M=Object.getPrototypeOf(A);return M===null?void 0:x(M,T,R)}else{if("value"in N)return N.value;var O=N.get;return O===void 0?void 0:O.call(R)}},a=function(){function x(A,T){for(var R=0;R<T.length;R++){var N=T[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,T,R){return T&&x(A.prototype,T),R&&x(A,R),A}}(),l=i(3),f=b(l),u=i(8),c=b(u),d=i(43),h=b(d),p=i(27),m=b(p),y=i(15),v=i(41),_=b(v);function b(x){return x&&x.__esModule?x:{default:x}}function g(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function w(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function k(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(x){k(A,x);function A(T,R){g(this,A),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var N=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return N.quill.container.classList.add("ql-snow"),N}return a(A,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),_.default),this.tooltip=new I(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,M){R.handlers.link.call(R,!M.format.link)})}}]),A}(h.default);E.DEFAULTS=(0,f.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var T=this.quill.getSelection();if(T==null||T.length==0)return;var R=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var N=this.quill.theme.tooltip;N.edit("link",R)}else this.quill.format("link",!1)}}}}});var I=function(x){k(A,x);function A(T,R){g(this,A);var N=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return N.preview=N.root.querySelector("a.ql-preview"),N}return a(A,[{key:"listen",value:function(){var R=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(R.linkRange!=null){var M=R.linkRange;R.restoreFocus(),R.quill.formatText(M,"link",!1,c.default.sources.USER),delete R.linkRange}N.preventDefault(),R.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(N,M,O){if(N!=null){if(N.length===0&&O===c.default.sources.USER){var P=R.quill.scroll.descendant(m.default,N.index),Q=o(P,2),H=Q[0],B=Q[1];if(H!=null){R.linkRange=new y.Range(N.index-B,H.length());var $=m.default.formats(H.domNode);R.preview.textContent=$,R.preview.setAttribute("href",$),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(d.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=ne(o),a=i(36),l=i(38),f=i(64),u=i(65),c=ne(u),d=i(66),h=ne(d),p=i(67),m=ne(p),y=i(37),v=i(26),_=i(39),b=i(40),g=i(56),w=ne(g),k=i(68),S=ne(k),E=i(27),I=ne(E),x=i(69),A=ne(x),T=i(70),R=ne(T),N=i(71),M=ne(N),O=i(72),P=ne(O),Q=i(73),H=ne(Q),B=i(13),$=ne(B),F=i(74),D=ne(F),K=i(75),z=ne(K),j=i(57),V=ne(j),J=i(41),W=ne(J),oe=i(28),ce=ne(oe),Z=i(59),q=ne(Z),G=i(60),Y=ne(G),de=i(61),ee=ne(de),U=i(108),te=ne(U),re=i(62),se=ne(re);function ne(pe){return pe&&pe.__esModule?pe:{default:pe}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":f.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":_.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":$.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":w.default,"formats/code":B.Code,"formats/italic":S.default,"formats/link":I.default,"formats/script":A.default,"formats/strike":R.default,"formats/underline":M.default,"formats/image":P.default,"formats/video":H.default,"formats/list/item":p.ListItem,"modules/formula":D.default,"modules/syntax":z.default,"modules/toolbar":V.default,"themes/bubble":te.default,"themes/snow":se.default,"ui/icons":W.default,"ui/picker":ce.default,"ui/icon-picker":Y.default,"ui/color-picker":q.default,"ui/tooltip":ee.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function m(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),s=function m(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var g=Object.getPrototypeOf(y);return g===null?void 0:m(g,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(0),l=f(a);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"add",value:function(_,b){if(b==="+1"||b==="-1"){var g=this.value(_)||0;b=b==="+1"?g+1:g-1}return b===0?(this.remove(_),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,_,b)}},{key:"canAdd",value:function(_,b){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,b)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,parseInt(b))}},{key:"value",value:function(_){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_))||void 0}}]),y}(l.default.Attributor.Class),p=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(p,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),p}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(w,k){for(var S=0;S<k.length;S++){var E=k[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,k,S){return k&&g(w.prototype,k),S&&g(w,S),w}}(),s=function g(w,k,S){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,k);if(E===void 0){var I=Object.getPrototypeOf(w);return I===null?void 0:g(I,k,S)}else{if("value"in E)return E.value;var x=E.get;return x===void 0?void 0:x.call(S)}},a=i(0),l=h(a),f=i(4),u=h(f),c=i(25),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function p(g,w,k){return w in g?Object.defineProperty(g,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[w]=k,g}function m(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function y(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function v(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var _=function(g){v(w,g);function w(){return m(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(S,E){S===b.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,S)}}]),w}(u.default);_.blotName="list-item",_.tagName="LI";var b=function(g){v(w,g),o(w,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",I=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&I.setAttribute("data-checked",S==="checked"),I}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(k){m(this,w);var S=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k)),E=function(x){if(x.target.parentNode===k){var A=S.statics.formats(k),T=l.default.find(x.target);A==="checked"?T.format("list","unchecked"):A==="unchecked"&&T.format("list","checked")}};return k.addEventListener("touchstart",E),k.addEventListener("mousedown",E),S}return o(w,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof _)s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,S,E);else{var I=E==null?this.length():E.offset(this),x=this.split(I);x.parent.insertBefore(S,x)}}},{key:"optimize",value:function(S){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,S)}}]),w}(d.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[_],r.ListItem=_,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),m}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=u(a),f=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["alt","height","width"],m=function(y){h(v,y);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,f.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(4),l=i(27),f=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["height","width"],m=function(y){h(v,y);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"sanitize",value:function(b){return f.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(g,w){for(var k=0;k<w.length;k++){var S=w[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,k){return w&&b(g.prototype,w),k&&b(g,k),g}}(),s=function b(g,w,k){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,w);if(S===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:b(E,w,k)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(k)}},a=i(35),l=h(a),f=i(5),u=h(f),c=i(9),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function m(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function y(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var v=function(b){y(g,b);function g(){return p(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(k){var S=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),g}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var _=function(b){y(g,b),o(g,null,[{key:"register",value:function(){u.default.register(v,!0)}}]);function g(){p(this,g);var w=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(d.default);r.FormulaBlot=v,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function k(S,E){for(var I=0;I<E.length;I++){var x=E[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}return function(S,E,I){return E&&k(S.prototype,E),I&&k(S,I),S}}(),s=function k(S,E,I){S===null&&(S=Function.prototype);var x=Object.getOwnPropertyDescriptor(S,E);if(x===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:k(A,E,I)}else{if("value"in x)return x.value;var T=x.get;return T===void 0?void 0:T.call(I)}},a=i(0),l=m(a),f=i(5),u=m(f),c=i(9),d=m(c),h=i(13),p=m(h);function m(k){return k&&k.__esModule?k:{default:k}}function y(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function v(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function _(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var b=function(k){_(S,k);function S(){return y(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),S}(p.default);b.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(k){_(S,k),o(S,null,[{key:"register",value:function(){u.default.register(g,!0),u.default.register(b,!0)}}]);function S(E,I){y(this,S);var x=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,I));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return x.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){x.highlight(),A=null},x.options.interval)}),x.highlight(),x}return o(S,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(A){A.highlight(I.options.highlight)}),this.quill.update(u.default.sources.SILENT),x!=null&&this.quill.setSelection(x,u.default.sources.SILENT)}}}]),S}(d.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(E,I,x){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,I);if(A===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:S(T,I,x)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(x)}},s=function(){function S(E,I){for(var x=0;x<I.length;x++){var A=I[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,I,x){return I&&S(E.prototype,I),x&&S(E,x),E}}(),a=i(3),l=y(a),f=i(8),u=y(f),c=i(43),d=y(c),h=i(15),p=i(41),m=y(p);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function _(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function b(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(S){b(E,S);function E(I,x){v(this,E),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=g);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,x));return A.quill.container.classList.add("ql-bubble"),A}return s(E,[{key:"extendToolbar",value:function(x){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),m.default)}}]),E}(d.default);w.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){b(E,S);function E(I,x){v(this,E);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,I,x));return A.quill.on(u.default.events.EDITOR_CHANGE,function(T,R,N,M){if(T===u.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&M===u.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var O=A.quill.getLines(R.index,R.length);if(O.length===1)A.position(A.quill.getBounds(R));else{var P=O[O.length-1],Q=A.quill.getIndex(P),H=Math.min(P.length()-1,R.index+R.length-Q),B=A.quill.getBounds(new h.Range(Q,H));A.position(B)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return s(E,[{key:"listen",value:function(){var x=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var A=x.quill.getSelection();A!=null&&x.position(x.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var A=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,x),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",A===0)return A;T.style.marginLeft=-1*A-T.offsetWidth/2+"px"}}]),E}(c.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(wx);var fK=wx.exports;const Kp=bx(fK);var vi=-1,jr=1,lr=0;function yu(t,e,n,r){if(t===e)return t?[[lr,t]]:[];if(n!=null){var i=vK(t,e,n);if(i)return i}var o=Iy(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Sy(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var l=hK(t,e);return s&&l.unshift([lr,s]),a&&l.push([lr,a]),Ex(l,r),l}function hK(t,e){var n;if(!t)return[[jr,e]];if(!e)return[[vi,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=r.indexOf(i);if(o!==-1)return n=[[jr,r.substring(0,o)],[lr,i],[jr,r.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=vi),n;if(i.length===1)return[[vi,t],[jr,e]];var s=mK(t,e);if(s){var a=s[0],l=s[1],f=s[2],u=s[3],c=s[4],d=yu(a,f),h=yu(l,u);return d.concat([[lr,c]],h)}return pK(t,e)}function pK(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=i,s=2*i,a=new Array(s),l=new Array(s),f=0;f<s;f++)a[f]=-1,l[f]=-1;a[o+1]=0,l[o+1]=0;for(var u=n-r,c=u%2!==0,d=0,h=0,p=0,m=0,y=0;y<i;y++){for(var v=-y+d;v<=y-h;v+=2){var _=o+v,b;v===-y||v!==y&&a[_-1]<a[_+1]?b=a[_+1]:b=a[_-1]+1;for(var g=b-v;b<n&&g<r&&t.charAt(b)===e.charAt(g);)b++,g++;if(a[_]=b,b>n)h+=2;else if(g>r)d+=2;else if(c){var w=o+u-v;if(w>=0&&w<s&&l[w]!==-1){var k=n-l[w];if(b>=k)return hb(t,e,b,g)}}}for(var S=-y+p;S<=y-m;S+=2){var w=o+S,k;S===-y||S!==y&&l[w-1]<l[w+1]?k=l[w+1]:k=l[w-1]+1;for(var E=k-S;k<n&&E<r&&t.charAt(n-k-1)===e.charAt(r-E-1);)k++,E++;if(l[w]=k,k>n)m+=2;else if(E>r)p+=2;else if(!c){var _=o+u-S;if(_>=0&&_<s&&a[_]!==-1){var b=a[_],g=o+b-_;if(k=n-k,b>=k)return hb(t,e,b,g)}}}}return[[vi,t],[jr,e]]}function hb(t,e,n,r){var i=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),a=e.substring(r),l=yu(i,o),f=yu(s,a);return l.concat(f)}function Iy(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return Tx(t.charCodeAt(i-1))&&i--,i}function Sy(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return Ax(t.charCodeAt(t.length-i))&&i--,i}function mK(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,p,m){for(var y=h.substring(m,m+Math.floor(h.length/4)),v=-1,_="",b,g,w,k;(v=p.indexOf(y,v+1))!==-1;){var S=Iy(h.substring(m),p.substring(v)),E=Sy(h.substring(0,m),p.substring(0,v));_.length<E+S&&(_=p.substring(v-E,v)+p.substring(v,v+S),b=h.substring(0,m-E),g=h.substring(m+S),w=p.substring(0,v-E),k=p.substring(v+S))}return _.length*2>=h.length?[b,g,w,k,_]:null}var o=i(n,r,Math.ceil(n.length/4)),s=i(n,r,Math.ceil(n.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var l,f,u,c;t.length>e.length?(l=a[0],f=a[1],u=a[2],c=a[3]):(u=a[0],c=a[1],l=a[2],f=a[3]);var d=a[4];return[l,f,u,c,d]}function Ex(t,e){t.push([lr,""]);for(var n=0,r=0,i=0,o="",s="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case jr:i++,s+=t[n][1],n++;break;case vi:r++,o+=t[n][1],n++;break;case lr:var l=n-i-r-1;if(e){if(l>=0&&xx(t[l][1])){var f=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=f+o,s=f+s,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===jr&&(i++,s=t[u][1]+s,u--),t[u]&&t[u][0]===vi&&(r++,o=t[u][1]+o,u--),l=u}}if(kx(t[n][1])){var f=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=f,s+=f}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=Iy(s,o),a!==0&&(l>=0?t[l][1]+=s.substring(0,a):(t.splice(0,0,[lr,s.substring(0,a)]),n++),s=s.substring(a),o=o.substring(a)),a=Sy(s,o),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var c=i+r;o.length===0&&s.length===0?(t.splice(n-c,c),n=n-c):o.length===0?(t.splice(n-c,c,[jr,s]),n=n-c+1):s.length===0?(t.splice(n-c,c,[vi,o]),n=n-c+1):(t.splice(n-c,c,[vi,o],[jr,s]),n=n-c+2)}n!==0&&t[n-1][0]===lr?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var d=!1;for(n=1;n<t.length-1;)t[n-1][0]===lr&&t[n+1][0]===lr&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),d=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),d=!0)),n++;d&&Ex(t,e)}function Tx(t){return t>=55296&&t<=56319}function Ax(t){return t>=56320&&t<=57343}function kx(t){return Ax(t.charCodeAt(0))}function xx(t){return Tx(t.charCodeAt(t.length-1))}function gK(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Wp(t,e,n,r){return xx(t)||kx(r)?null:gK([[lr,t],[vi,e],[jr,n],[lr,r]])}function vK(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,s=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),f=t.slice(a),u=i?i.index:null;e:{var c=a+s-o;if(u!==null&&u!==c||c<0||c>s)break e;var d=e.slice(0,c),h=e.slice(c);if(h!==f)break e;var p=Math.min(a,c),m=l.slice(0,p),y=d.slice(0,p);if(m!==y)break e;var v=l.slice(p),_=d.slice(p);return Wp(m,v,_,f)}e:{if(u!==null&&u!==a)break e;var b=a,d=e.slice(0,b),h=e.slice(b);if(d!==l)break e;var g=Math.min(o-b,s-b),w=f.slice(f.length-g),k=h.slice(h.length-g);if(w!==k)break e;var v=f.slice(0,f.length-g),_=h.slice(0,h.length-g);return Wp(l,v,_,w)}}if(r.length>0&&i&&i.length===0)e:{var m=t.slice(0,r.index),w=t.slice(r.index+r.length),p=m.length,g=w.length;if(s<p+g)break e;var y=e.slice(0,p),k=e.slice(s-g);if(m!==y||w!==k)break e;var v=t.slice(p,o-g),_=e.slice(p,s-g);return Wp(m,v,_,w)}return null}function lh(t,e,n){return yu(t,e,n,!0)}lh.INSERT=jr;lh.DELETE=vi;lh.EQUAL=lr;var yK=lh,Nd={exports:{}};Nd.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",f="[object Error]",u="[object Function]",c="[object GeneratorFunction]",d="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",y="[object RegExp]",v="[object Set]",_="[object String]",b="[object Symbol]",g="[object WeakMap]",w="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",I="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",M="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,P=/\w*$/,Q=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,B={};B[o]=B[s]=B[w]=B[k]=B[a]=B[l]=B[S]=B[E]=B[I]=B[x]=B[A]=B[d]=B[h]=B[p]=B[y]=B[v]=B[_]=B[b]=B[T]=B[R]=B[N]=B[M]=!0,B[f]=B[u]=B[g]=!1;var $=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,F=typeof self=="object"&&self&&self.Object===Object&&self,D=$||F||Function("return this")(),K=e&&!e.nodeType&&e,z=K&&!0&&t&&!t.nodeType&&t,j=z&&z.exports===K;function V(L,X){return L.set(X[0],X[1]),L}function J(L,X){return L.add(X),L}function W(L,X){for(var ae=-1,be=L?L.length:0;++ae<be&&X(L[ae],ae,L)!==!1;);return L}function oe(L,X){for(var ae=-1,be=X.length,et=L.length;++ae<be;)L[et+ae]=X[ae];return L}function ce(L,X,ae,be){for(var et=-1,Fe=L?L.length:0;++et<Fe;)ae=X(ae,L[et],et,L);return ae}function Z(L,X){for(var ae=-1,be=Array(L);++ae<L;)be[ae]=X(ae);return be}function q(L,X){return L==null?void 0:L[X]}function G(L){var X=!1;if(L!=null&&typeof L.toString!="function")try{X=!!(L+"")}catch{}return X}function Y(L){var X=-1,ae=Array(L.size);return L.forEach(function(be,et){ae[++X]=[et,be]}),ae}function de(L,X){return function(ae){return L(X(ae))}}function ee(L){var X=-1,ae=Array(L.size);return L.forEach(function(be){ae[++X]=be}),ae}var U=Array.prototype,te=Function.prototype,re=Object.prototype,se=D["__core-js_shared__"],ne=function(){var L=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),pe=te.toString,ve=re.hasOwnProperty,we=re.toString,Se=RegExp("^"+pe.call(ve).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=j?D.Buffer:void 0,Oe=D.Symbol,Ye=D.Uint8Array,De=de(Object.getPrototypeOf,Object),rt=Object.create,At=re.propertyIsEnumerable,Zt=U.splice,It=Object.getOwnPropertySymbols,Kt=Le?Le.isBuffer:void 0,fe=de(Object.keys,Object),Ee=Lr(D,"DataView"),me=Lr(D,"Map"),Te=Lr(D,"Promise"),Re=Lr(D,"Set"),Mt=Lr(D,"WeakMap"),_t=Lr(Object,"create"),Ut=Xn(Ee),sn=Xn(me),En=Xn(Te),Tn=Xn(Re),An=Xn(Mt),pn=Oe?Oe.prototype:void 0,Wu=pn?pn.valueOf:void 0;function Ii(L){var X=-1,ae=L?L.length:0;for(this.clear();++X<ae;){var be=L[X];this.set(be[0],be[1])}}function ch(){this.__data__=_t?_t(null):{}}function dh(L){return this.has(L)&&delete this.__data__[L]}function fh(L){var X=this.__data__;if(_t){var ae=X[L];return ae===r?void 0:ae}return ve.call(X,L)?X[L]:void 0}function Yu(L){var X=this.__data__;return _t?X[L]!==void 0:ve.call(X,L)}function Qa(L,X){var ae=this.__data__;return ae[L]=_t&&X===void 0?r:X,this}Ii.prototype.clear=ch,Ii.prototype.delete=dh,Ii.prototype.get=fh,Ii.prototype.has=Yu,Ii.prototype.set=Qa;function kn(L){var X=-1,ae=L?L.length:0;for(this.clear();++X<ae;){var be=L[X];this.set(be[0],be[1])}}function hh(){this.__data__=[]}function ph(L){var X=this.__data__,ae=Us(X,L);if(ae<0)return!1;var be=X.length-1;return ae==be?X.pop():Zt.call(X,ae,1),!0}function mh(L){var X=this.__data__,ae=Us(X,L);return ae<0?void 0:X[ae][1]}function gh(L){return Us(this.__data__,L)>-1}function vh(L,X){var ae=this.__data__,be=Us(ae,L);return be<0?ae.push([L,X]):ae[be][1]=X,this}kn.prototype.clear=hh,kn.prototype.delete=ph,kn.prototype.get=mh,kn.prototype.has=gh,kn.prototype.set=vh;function $n(L){var X=-1,ae=L?L.length:0;for(this.clear();++X<ae;){var be=L[X];this.set(be[0],be[1])}}function yh(){this.__data__={hash:new Ii,map:new(me||kn),string:new Ii}}function _h(L){return Wo(this,L).delete(L)}function bh(L){return Wo(this,L).get(L)}function wh(L){return Wo(this,L).has(L)}function Eh(L,X){return Wo(this,L).set(L,X),this}$n.prototype.clear=yh,$n.prototype.delete=_h,$n.prototype.get=bh,$n.prototype.has=wh,$n.prototype.set=Eh;function or(L){this.__data__=new kn(L)}function Th(){this.__data__=new kn}function Ah(L){return this.__data__.delete(L)}function kh(L){return this.__data__.get(L)}function xh(L){return this.__data__.has(L)}function Ih(L,X){var ae=this.__data__;if(ae instanceof kn){var be=ae.__data__;if(!me||be.length<n-1)return be.push([L,X]),this;ae=this.__data__=new $n(be)}return ae.set(L,X),this}or.prototype.clear=Th,or.prototype.delete=Ah,or.prototype.get=kh,or.prototype.has=xh,or.prototype.set=Ih;function Fs(L,X){var ae=el(L)||js(L)?Z(L.length,String):[],be=ae.length,et=!!be;for(var Fe in L)ve.call(L,Fe)&&!(et&&(Fe=="length"||Bh(Fe,be)))&&ae.push(Fe);return ae}function Gu(L,X,ae){var be=L[X];(!(ve.call(L,X)&&ec(be,ae))||ae===void 0&&!(X in L))&&(L[X]=ae)}function Us(L,X){for(var ae=L.length;ae--;)if(ec(L[ae][0],X))return ae;return-1}function ri(L,X){return L&&Za(X,nl(X),L)}function Xa(L,X,ae,be,et,Fe,ft){var ct;if(be&&(ct=Fe?be(L,et,Fe,ft):be(L)),ct!==void 0)return ct;if(!oi(L))return L;var en=el(L);if(en){if(ct=Fh(L),!X)return Lh(L,ct)}else{var vt=Ri(L),Vn=vt==u||vt==c;if(tc(L))return Bs(L,X);if(vt==p||vt==o||Vn&&!Fe){if(G(L))return Fe?L:{};if(ct=ii(Vn?{}:L),!X)return $h(L,ri(ct,L))}else{if(!B[vt])return Fe?L:{};ct=Uh(L,vt,Xa,X)}}ft||(ft=new or);var sr=ft.get(L);if(sr)return sr;if(ft.set(L,ct),!en)var an=ae?Vh(L):nl(L);return W(an||L,function(Fn,xn){an&&(xn=Fn,Fn=L[xn]),Gu(ct,xn,Xa(Fn,X,ae,be,xn,L,ft))}),ct}function Sh(L){return oi(L)?rt(L):{}}function Rh(L,X,ae){var be=X(L);return el(L)?be:oe(be,ae(L))}function Oh(L){return we.call(L)}function Ph(L){if(!oi(L)||qh(L))return!1;var X=tl(L)||G(L)?Se:Q;return X.test(Xn(L))}function Ch(L){if(!Ju(L))return fe(L);var X=[];for(var ae in Object(L))ve.call(L,ae)&&ae!="constructor"&&X.push(ae);return X}function Bs(L,X){if(X)return L.slice();var ae=new L.constructor(L.length);return L.copy(ae),ae}function Ja(L){var X=new L.constructor(L.byteLength);return new Ye(X).set(new Ye(L)),X}function Ko(L,X){var ae=X?Ja(L.buffer):L.buffer;return new L.constructor(ae,L.byteOffset,L.byteLength)}function Qu(L,X,ae){var be=X?ae(Y(L),!0):Y(L);return ce(be,V,new L.constructor)}function Xu(L){var X=new L.constructor(L.source,P.exec(L));return X.lastIndex=L.lastIndex,X}function Dh(L,X,ae){var be=X?ae(ee(L),!0):ee(L);return ce(be,J,new L.constructor)}function Mh(L){return Wu?Object(Wu.call(L)):{}}function Nh(L,X){var ae=X?Ja(L.buffer):L.buffer;return new L.constructor(ae,L.byteOffset,L.length)}function Lh(L,X){var ae=-1,be=L.length;for(X||(X=Array(be));++ae<be;)X[ae]=L[ae];return X}function Za(L,X,ae,be){ae||(ae={});for(var et=-1,Fe=X.length;++et<Fe;){var ft=X[et],ct=void 0;Gu(ae,ft,ct===void 0?L[ft]:ct)}return ae}function $h(L,X){return Za(L,Si(L),X)}function Vh(L){return Rh(L,nl,Si)}function Wo(L,X){var ae=L.__data__;return jh(X)?ae[typeof X=="string"?"string":"hash"]:ae.map}function Lr(L,X){var ae=q(L,X);return Ph(ae)?ae:void 0}var Si=It?de(It,Object):zh,Ri=Oh;(Ee&&Ri(new Ee(new ArrayBuffer(1)))!=k||me&&Ri(new me)!=d||Te&&Ri(Te.resolve())!=m||Re&&Ri(new Re)!=v||Mt&&Ri(new Mt)!=g)&&(Ri=function(L){var X=we.call(L),ae=X==p?L.constructor:void 0,be=ae?Xn(ae):void 0;if(be)switch(be){case Ut:return k;case sn:return d;case En:return m;case Tn:return v;case An:return g}return X});function Fh(L){var X=L.length,ae=L.constructor(X);return X&&typeof L[0]=="string"&&ve.call(L,"index")&&(ae.index=L.index,ae.input=L.input),ae}function ii(L){return typeof L.constructor=="function"&&!Ju(L)?Sh(De(L)):{}}function Uh(L,X,ae,be){var et=L.constructor;switch(X){case w:return Ja(L);case a:case l:return new et(+L);case k:return Ko(L,be);case S:case E:case I:case x:case A:case T:case R:case N:case M:return Nh(L,be);case d:return Qu(L,be,ae);case h:case _:return new et(L);case y:return Xu(L);case v:return Dh(L,be,ae);case b:return Mh(L)}}function Bh(L,X){return X=X??i,!!X&&(typeof L=="number"||H.test(L))&&L>-1&&L%1==0&&L<X}function jh(L){var X=typeof L;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?L!=="__proto__":L===null}function qh(L){return!!ne&&ne in L}function Ju(L){var X=L&&L.constructor,ae=typeof X=="function"&&X.prototype||re;return L===ae}function Xn(L){if(L!=null){try{return pe.call(L)}catch{}try{return L+""}catch{}}return""}function Zu(L){return Xa(L,!0,!0)}function ec(L,X){return L===X||L!==L&&X!==X}function js(L){return Hh(L)&&ve.call(L,"callee")&&(!At.call(L,"callee")||we.call(L)==o)}var el=Array.isArray;function qs(L){return L!=null&&nc(L.length)&&!tl(L)}function Hh(L){return rc(L)&&qs(L)}var tc=Kt||Kh;function tl(L){var X=oi(L)?we.call(L):"";return X==u||X==c}function nc(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=i}function oi(L){var X=typeof L;return!!L&&(X=="object"||X=="function")}function rc(L){return!!L&&typeof L=="object"}function nl(L){return qs(L)?Fs(L):Ch(L)}function zh(){return[]}function Kh(){return!1}t.exports=Zu})(Nd,Nd.exports);var Ix=Nd.exports,Ld={exports:{}};Ld.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",_="[object Object]",b="[object Promise]",g="[object Proxy]",w="[object RegExp]",k="[object Set]",S="[object String]",E="[object Symbol]",I="[object Undefined]",x="[object WeakMap]",A="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",Q="[object Uint8Array]",H="[object Uint8ClampedArray]",B="[object Uint16Array]",$="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,D=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,z={};z[R]=z[N]=z[M]=z[O]=z[P]=z[Q]=z[H]=z[B]=z[$]=!0,z[a]=z[l]=z[A]=z[u]=z[T]=z[c]=z[d]=z[h]=z[m]=z[y]=z[_]=z[w]=z[k]=z[S]=z[x]=!1;var j=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,V=typeof self=="object"&&self&&self.Object===Object&&self,J=j||V||Function("return this")(),W=e&&!e.nodeType&&e,oe=W&&!0&&t&&!t.nodeType&&t,ce=oe&&oe.exports===W,Z=ce&&j.process,q=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),G=q&&q.isTypedArray;function Y(L,X){for(var ae=-1,be=L==null?0:L.length,et=0,Fe=[];++ae<be;){var ft=L[ae];X(ft,ae,L)&&(Fe[et++]=ft)}return Fe}function de(L,X){for(var ae=-1,be=X.length,et=L.length;++ae<be;)L[et+ae]=X[ae];return L}function ee(L,X){for(var ae=-1,be=L==null?0:L.length;++ae<be;)if(X(L[ae],ae,L))return!0;return!1}function U(L,X){for(var ae=-1,be=Array(L);++ae<L;)be[ae]=X(ae);return be}function te(L){return function(X){return L(X)}}function re(L,X){return L.has(X)}function se(L,X){return L==null?void 0:L[X]}function ne(L){var X=-1,ae=Array(L.size);return L.forEach(function(be,et){ae[++X]=[et,be]}),ae}function pe(L,X){return function(ae){return L(X(ae))}}function ve(L){var X=-1,ae=Array(L.size);return L.forEach(function(be){ae[++X]=be}),ae}var we=Array.prototype,Se=Function.prototype,Le=Object.prototype,Oe=J["__core-js_shared__"],Ye=Se.toString,De=Le.hasOwnProperty,rt=function(){var L=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),At=Le.toString,Zt=RegExp("^"+Ye.call(De).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=ce?J.Buffer:void 0,Kt=J.Symbol,fe=J.Uint8Array,Ee=Le.propertyIsEnumerable,me=we.splice,Te=Kt?Kt.toStringTag:void 0,Re=Object.getOwnPropertySymbols,Mt=It?It.isBuffer:void 0,_t=pe(Object.keys,Object),Ut=Si(J,"DataView"),sn=Si(J,"Map"),En=Si(J,"Promise"),Tn=Si(J,"Set"),An=Si(J,"WeakMap"),pn=Si(Object,"create"),Wu=Xn(Ut),Ii=Xn(sn),ch=Xn(En),dh=Xn(Tn),fh=Xn(An),Yu=Kt?Kt.prototype:void 0,Qa=Yu?Yu.valueOf:void 0;function kn(L){var X=-1,ae=L==null?0:L.length;for(this.clear();++X<ae;){var be=L[X];this.set(be[0],be[1])}}function hh(){this.__data__=pn?pn(null):{},this.size=0}function ph(L){var X=this.has(L)&&delete this.__data__[L];return this.size-=X?1:0,X}function mh(L){var X=this.__data__;if(pn){var ae=X[L];return ae===r?void 0:ae}return De.call(X,L)?X[L]:void 0}function gh(L){var X=this.__data__;return pn?X[L]!==void 0:De.call(X,L)}function vh(L,X){var ae=this.__data__;return this.size+=this.has(L)?0:1,ae[L]=pn&&X===void 0?r:X,this}kn.prototype.clear=hh,kn.prototype.delete=ph,kn.prototype.get=mh,kn.prototype.has=gh,kn.prototype.set=vh;function $n(L){var X=-1,ae=L==null?0:L.length;for(this.clear();++X<ae;){var be=L[X];this.set(be[0],be[1])}}function yh(){this.__data__=[],this.size=0}function _h(L){var X=this.__data__,ae=Bs(X,L);if(ae<0)return!1;var be=X.length-1;return ae==be?X.pop():me.call(X,ae,1),--this.size,!0}function bh(L){var X=this.__data__,ae=Bs(X,L);return ae<0?void 0:X[ae][1]}function wh(L){return Bs(this.__data__,L)>-1}function Eh(L,X){var ae=this.__data__,be=Bs(ae,L);return be<0?(++this.size,ae.push([L,X])):ae[be][1]=X,this}$n.prototype.clear=yh,$n.prototype.delete=_h,$n.prototype.get=bh,$n.prototype.has=wh,$n.prototype.set=Eh;function or(L){var X=-1,ae=L==null?0:L.length;for(this.clear();++X<ae;){var be=L[X];this.set(be[0],be[1])}}function Th(){this.size=0,this.__data__={hash:new kn,map:new(sn||$n),string:new kn}}function Ah(L){var X=Lr(this,L).delete(L);return this.size-=X?1:0,X}function kh(L){return Lr(this,L).get(L)}function xh(L){return Lr(this,L).has(L)}function Ih(L,X){var ae=Lr(this,L),be=ae.size;return ae.set(L,X),this.size+=ae.size==be?0:1,this}or.prototype.clear=Th,or.prototype.delete=Ah,or.prototype.get=kh,or.prototype.has=xh,or.prototype.set=Ih;function Fs(L){var X=-1,ae=L==null?0:L.length;for(this.__data__=new or;++X<ae;)this.add(L[X])}function Gu(L){return this.__data__.set(L,r),this}function Us(L){return this.__data__.has(L)}Fs.prototype.add=Fs.prototype.push=Gu,Fs.prototype.has=Us;function ri(L){var X=this.__data__=new $n(L);this.size=X.size}function Xa(){this.__data__=new $n,this.size=0}function Sh(L){var X=this.__data__,ae=X.delete(L);return this.size=X.size,ae}function Rh(L){return this.__data__.get(L)}function Oh(L){return this.__data__.has(L)}function Ph(L,X){var ae=this.__data__;if(ae instanceof $n){var be=ae.__data__;if(!sn||be.length<n-1)return be.push([L,X]),this.size=++ae.size,this;ae=this.__data__=new or(be)}return ae.set(L,X),this.size=ae.size,this}ri.prototype.clear=Xa,ri.prototype.delete=Sh,ri.prototype.get=Rh,ri.prototype.has=Oh,ri.prototype.set=Ph;function Ch(L,X){var ae=js(L),be=!ae&&ec(L),et=!ae&&!be&&qs(L),Fe=!ae&&!be&&!et&&rc(L),ft=ae||be||et||Fe,ct=ft?U(L.length,String):[],en=ct.length;for(var vt in L)De.call(L,vt)&&!(ft&&(vt=="length"||et&&(vt=="offset"||vt=="parent")||Fe&&(vt=="buffer"||vt=="byteLength"||vt=="byteOffset")||Uh(vt,en)))&&ct.push(vt);return ct}function Bs(L,X){for(var ae=L.length;ae--;)if(Zu(L[ae][0],X))return ae;return-1}function Ja(L,X,ae){var be=X(L);return js(L)?be:de(be,ae(L))}function Ko(L){return L==null?L===void 0?I:v:Te&&Te in Object(L)?Ri(L):Ju(L)}function Qu(L){return oi(L)&&Ko(L)==a}function Xu(L,X,ae,be,et){return L===X?!0:L==null||X==null||!oi(L)&&!oi(X)?L!==L&&X!==X:Dh(L,X,ae,be,Xu,et)}function Dh(L,X,ae,be,et,Fe){var ft=js(L),ct=js(X),en=ft?l:ii(L),vt=ct?l:ii(X);en=en==a?_:en,vt=vt==a?_:vt;var Vn=en==_,sr=vt==_,an=en==vt;if(an&&qs(L)){if(!qs(X))return!1;ft=!0,Vn=!1}if(an&&!Vn)return Fe||(Fe=new ri),ft||rc(L)?Za(L,X,ae,be,et,Fe):$h(L,X,en,ae,be,et,Fe);if(!(ae&i)){var Fn=Vn&&De.call(L,"__wrapped__"),xn=sr&&De.call(X,"__wrapped__");if(Fn||xn){var Ji=Fn?L.value():L,Oi=xn?X.value():X;return Fe||(Fe=new ri),et(Ji,Oi,ae,be,Fe)}}return an?(Fe||(Fe=new ri),Vh(L,X,ae,be,et,Fe)):!1}function Mh(L){if(!nc(L)||jh(L))return!1;var X=tc(L)?Zt:D;return X.test(Xn(L))}function Nh(L){return oi(L)&&tl(L.length)&&!!z[Ko(L)]}function Lh(L){if(!qh(L))return _t(L);var X=[];for(var ae in Object(L))De.call(L,ae)&&ae!="constructor"&&X.push(ae);return X}function Za(L,X,ae,be,et,Fe){var ft=ae&i,ct=L.length,en=X.length;if(ct!=en&&!(ft&&en>ct))return!1;var vt=Fe.get(L);if(vt&&Fe.get(X))return vt==X;var Vn=-1,sr=!0,an=ae&o?new Fs:void 0;for(Fe.set(L,X),Fe.set(X,L);++Vn<ct;){var Fn=L[Vn],xn=X[Vn];if(be)var Ji=ft?be(xn,Fn,Vn,X,L,Fe):be(Fn,xn,Vn,L,X,Fe);if(Ji!==void 0){if(Ji)continue;sr=!1;break}if(an){if(!ee(X,function(Oi,Yo){if(!re(an,Yo)&&(Fn===Oi||et(Fn,Oi,ae,be,Fe)))return an.push(Yo)})){sr=!1;break}}else if(!(Fn===xn||et(Fn,xn,ae,be,Fe))){sr=!1;break}}return Fe.delete(L),Fe.delete(X),sr}function $h(L,X,ae,be,et,Fe,ft){switch(ae){case T:if(L.byteLength!=X.byteLength||L.byteOffset!=X.byteOffset)return!1;L=L.buffer,X=X.buffer;case A:return!(L.byteLength!=X.byteLength||!Fe(new fe(L),new fe(X)));case u:case c:case y:return Zu(+L,+X);case d:return L.name==X.name&&L.message==X.message;case w:case S:return L==X+"";case m:var ct=ne;case k:var en=be&i;if(ct||(ct=ve),L.size!=X.size&&!en)return!1;var vt=ft.get(L);if(vt)return vt==X;be|=o,ft.set(L,X);var Vn=Za(ct(L),ct(X),be,et,Fe,ft);return ft.delete(L),Vn;case E:if(Qa)return Qa.call(L)==Qa.call(X)}return!1}function Vh(L,X,ae,be,et,Fe){var ft=ae&i,ct=Wo(L),en=ct.length,vt=Wo(X),Vn=vt.length;if(en!=Vn&&!ft)return!1;for(var sr=en;sr--;){var an=ct[sr];if(!(ft?an in X:De.call(X,an)))return!1}var Fn=Fe.get(L);if(Fn&&Fe.get(X))return Fn==X;var xn=!0;Fe.set(L,X),Fe.set(X,L);for(var Ji=ft;++sr<en;){an=ct[sr];var Oi=L[an],Yo=X[an];if(be)var My=ft?be(Yo,Oi,an,X,L,Fe):be(Oi,Yo,an,L,X,Fe);if(!(My===void 0?Oi===Yo||et(Oi,Yo,ae,be,Fe):My)){xn=!1;break}Ji||(Ji=an=="constructor")}if(xn&&!Ji){var ic=L.constructor,oc=X.constructor;ic!=oc&&"constructor"in L&&"constructor"in X&&!(typeof ic=="function"&&ic instanceof ic&&typeof oc=="function"&&oc instanceof oc)&&(xn=!1)}return Fe.delete(L),Fe.delete(X),xn}function Wo(L){return Ja(L,nl,Fh)}function Lr(L,X){var ae=L.__data__;return Bh(X)?ae[typeof X=="string"?"string":"hash"]:ae.map}function Si(L,X){var ae=se(L,X);return Mh(ae)?ae:void 0}function Ri(L){var X=De.call(L,Te),ae=L[Te];try{L[Te]=void 0;var be=!0}catch{}var et=At.call(L);return be&&(X?L[Te]=ae:delete L[Te]),et}var Fh=Re?function(L){return L==null?[]:(L=Object(L),Y(Re(L),function(X){return Ee.call(L,X)}))}:zh,ii=Ko;(Ut&&ii(new Ut(new ArrayBuffer(1)))!=T||sn&&ii(new sn)!=m||En&&ii(En.resolve())!=b||Tn&&ii(new Tn)!=k||An&&ii(new An)!=x)&&(ii=function(L){var X=Ko(L),ae=X==_?L.constructor:void 0,be=ae?Xn(ae):"";if(be)switch(be){case Wu:return T;case Ii:return m;case ch:return b;case dh:return k;case fh:return x}return X});function Uh(L,X){return X=X??s,!!X&&(typeof L=="number"||K.test(L))&&L>-1&&L%1==0&&L<X}function Bh(L){var X=typeof L;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?L!=="__proto__":L===null}function jh(L){return!!rt&&rt in L}function qh(L){var X=L&&L.constructor,ae=typeof X=="function"&&X.prototype||Le;return L===ae}function Ju(L){return At.call(L)}function Xn(L){if(L!=null){try{return Ye.call(L)}catch{}try{return L+""}catch{}}return""}function Zu(L,X){return L===X||L!==L&&X!==X}var ec=Qu(function(){return arguments}())?Qu:function(L){return oi(L)&&De.call(L,"callee")&&!Ee.call(L,"callee")},js=Array.isArray;function el(L){return L!=null&&tl(L.length)&&!tc(L)}var qs=Mt||Kh;function Hh(L,X){return Xu(L,X)}function tc(L){if(!nc(L))return!1;var X=Ko(L);return X==h||X==p||X==f||X==g}function tl(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=s}function nc(L){var X=typeof L;return L!=null&&(X=="object"||X=="function")}function oi(L){return L!=null&&typeof L=="object"}var rc=G?te(G):Nh;function nl(L){return el(L)?Ch(L):Lh(L)}function zh(){return[]}function Kh(){return!1}t.exports=Hh})(Ld,Ld.exports);var Sx=Ld.exports,Ry={},Rx=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ry,"__esModule",{value:!0});var _K=Rx(Ix),bK=Rx(Sx),dg;(function(t){function e(o,s,a){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var l=_K.default(s);a||(l=Object.keys(l).reduce(function(u,c){return l[c]!=null&&(u[c]=l[c]),u},{}));for(var f in o)o[f]!==void 0&&s[f]===void 0&&(l[f]=o[f]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o,s){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var a=Object.keys(o).concat(Object.keys(s)).reduce(function(l,f){return bK.default(o[f],s[f])||(l[f]=s[f]===void 0?null:s[f]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(o,s){o===void 0&&(o={}),s===void 0&&(s={}),o=o||{};var a=Object.keys(s).reduce(function(l,f){return s[f]!==o[f]&&o[f]!==void 0&&(l[f]=s[f]),l},{});return Object.keys(o).reduce(function(l,f){return o[f]!==s[f]&&s[f]===void 0&&(l[f]=null),l},a)}t.invert=r;function i(o,s,a){if(a===void 0&&(a=!1),typeof o!="object")return s;if(typeof s=="object"){if(!a)return s;var l=Object.keys(s).reduce(function(f,u){return o[u]===void 0&&(f[u]=s[u]),f},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(dg||(dg={}));Ry.default=dg;var Ic={},Sc={},pb;function wK(){if(pb)return Sc;pb=1;var t=Cn&&Cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sc,"__esModule",{value:!0});var e=t(Ox()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var o=this.ops[this.index];if(o){var s=this.offset,a=e.default.length(o);if(i>=a-s?(i=a-s,this.index+=1,this.offset=0):this.offset+=i,typeof o.delete=="number")return{delete:i};var l={};return o.attributes&&(l.attributes=o.attributes),typeof o.retain=="number"?l.retain=i:typeof o.insert=="string"?l.insert=o.insert.substr(s,i):l.insert=o.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,o=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=o,[s].concat(a)}else return[]},r}();return Sc.default=n,Sc}var mb;function Ox(){if(mb)return Ic;mb=1;var t=Cn&&Cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ic,"__esModule",{value:!0});var e=t(wK()),n;return function(r){function i(s){return new e.default(s)}r.iterator=i;function o(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}r.length=o}(n||(n={})),Ic.default=n,Ic}var Ku=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Rc=Ku(yK),EK=Ku(Ix),Yp=Ku(Sx),pl=Ku(Ry),In=Ku(Ox()),TK="\0",AK=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=EK.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(Yp.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var o=e(i)?n:r;o.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+In.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+In.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=In.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=In.default.length(s)}return new t(r)},t.prototype.compose=function(e){var n=In.default.iterator(this.ops),r=In.default.iterator(e.ops),i=[],o=r.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var s=o.retain;n.peekType()==="insert"&&n.peekLength()<=s;)s-=n.peekLength(),i.push(n.next());o.retain-s>0&&r.next(o.retain-s)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),f=n.next(l),u=r.next(l);if(typeof u.retain=="number"){var c={};typeof f.retain=="number"?c.retain=l:c.insert=f.insert;var d=pl.default.compose(f.attributes,u.attributes,typeof f.retain=="number");if(d&&(c.attributes=d),a.push(c),!r.hasNext()&&Yp.default(a.ops[a.ops.length-1],c)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof u.delete=="number"&&typeof f.retain=="number"&&a.push(u)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(f){if(f.insert!=null)return typeof f.insert=="string"?f.insert:TK;var u=l===e?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),i=new t,o=Rc.default(r[0],r[1],n),s=In.default.iterator(this.ops),a=In.default.iterator(e.ops);return o.forEach(function(l){for(var f=l[1].length;f>0;){var u=0;switch(l[0]){case Rc.default.INSERT:u=Math.min(a.peekLength(),f),i.push(a.next(u));break;case Rc.default.DELETE:u=Math.min(f,s.peekLength()),s.next(u),i.delete(u);break;case Rc.default.EQUAL:u=Math.min(s.peekLength(),a.peekLength(),f);var c=s.next(u),d=a.next(u);Yp.default(c.insert,d.insert)?i.retain(u,pl.default.diff(c.attributes,d.attributes)):i.push(d).delete(u);break}f-=u}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=In.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if(r.peekType()!=="insert")return;var s=r.peek(),a=In.default.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},o)===!1)return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(In.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var o=i.delete||i.retain,s=e.slice(r,r+o);return s.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(In.default.length(a),pl.default.invert(i.attributes,a.attributes))}),r+o}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=In.default.iterator(this.ops),o=In.default.iterator(r.ops),s=new t;i.hasNext()||o.hasNext();)if(i.peekType()==="insert"&&(n||o.peekType()!=="insert"))s.retain(In.default.length(i.next()));else if(o.peekType()==="insert")s.push(o.next());else{var a=Math.min(i.peekLength(),o.peekLength()),l=i.next(a),f=o.next(a);if(l.delete)continue;f.delete?s.push(f):s.retain(a,pl.default.transform(l.attributes,f.attributes,n))}return s.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=In.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var o=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(o,e-i);continue}else s==="insert"&&(i<e||!n)&&(e+=o);i+=o}return e},t.Op=In.default,t.AttributeMap=pl.default,t}(),kK=AK;const xK=bx(kK);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const gb={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},Px=Jt({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(gb).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{yt(()=>{o()}),Sg(()=>{n=null});let n,r;const i=he(),o=()=>{var A;if(i.value){if(r=s(),t.modules)if(Array.isArray(t.modules))for(const T of t.modules)Kp.register(`modules/${T.name}`,T.module);else Kp.register(`modules/${t.modules.name}`,t.modules.module);n=new Kp(i.value,r),b(t.content),n.on("text-change",c),n.on("selection-change",h),n.on("editor-change",p),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(A=n.getModule("toolbar"))===null||A===void 0||A.container.addEventListener("mousedown",T=>{T.preventDefault()}),e.emit("ready",n)}},s=()=>{const A={};if(t.theme!==""&&(A.theme=t.theme),t.readOnly&&(A.readOnly=t.readOnly),t.placeholder&&(A.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(A.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:gb[t.toolbar]})()}),t.modules){const T=(()=>{var R,N;const M={};if(Array.isArray(t.modules))for(const O of t.modules)M[O.name]=(R=O.options)!==null&&R!==void 0?R:{};else M[t.modules.name]=(N=t.modules.options)!==null&&N!==void 0?N:{};return M})();A.modules=Object.assign({},A.modules,T)}return Object.assign({},t.globalOptions,t.options,A)},a=A=>typeof A=="object"&&A?A.slice():A,l=A=>Object.values(A.ops).some(T=>!T.retain||Object.keys(T).length!==1);let f;const u=A=>{if(typeof f==typeof A){if(A===f)return!0;if(typeof A=="object"&&A&&typeof f=="object"&&f)return!l(f.diff(A))}return!1},c=(A,T,R)=>{f=a(_()),u(t.content)||e.emit("update:content",f),e.emit("textChange",{delta:A,oldContents:T,source:R})},d=he(),h=(A,T,R)=>{d.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:A,oldRange:T,source:R})};rn(d,A=>{A?e.emit("focus",i):e.emit("blur",i)});const p=(...A)=>{A[0]==="text-change"&&e.emit("editorChange",{name:A[0],delta:A[1],oldContents:A[2],source:A[3]}),A[0]==="selection-change"&&e.emit("editorChange",{name:A[0],range:A[1],oldRange:A[2],source:A[3]})},m=()=>i.value,y=()=>{var A;return(A=n==null?void 0:n.getModule("toolbar"))===null||A===void 0?void 0:A.container},v=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},_=(A,T)=>t.contentType==="html"?k():t.contentType==="text"?g(A,T):n==null?void 0:n.getContents(A,T),b=(A,T="api")=>{const R=A||(t.contentType==="delta"?new xK:"");t.contentType==="html"?S(R):t.contentType==="text"?w(R,T):n==null||n.setContents(R,T),f=a(R)},g=(A,T)=>{var R;return(R=n==null?void 0:n.getText(A,T))!==null&&R!==void 0?R:""},w=(A,T="api")=>{n==null||n.setText(A,T)},k=()=>{var A;return(A=n==null?void 0:n.root.innerHTML)!==null&&A!==void 0?A:""},S=A=>{n&&(n.root.innerHTML=A)},E=(A,T="api")=>{const R=n==null?void 0:n.clipboard.convert(A);R&&(n==null||n.setContents(R,T))},I=()=>{n==null||n.focus()},x=()=>{Nn(()=>{var A;!e.slots.toolbar&&n&&((A=n.getModule("toolbar"))===null||A===void 0||A.container.remove()),o()})};return rn(()=>t.content,A=>{if(!n||!A||u(A))return;const T=n.getSelection();T&&Nn(()=>n==null?void 0:n.setSelection(T)),b(A)},{deep:!0}),rn(()=>t.enable,A=>{n&&n.enable(A)}),{editor:i,getEditor:m,getToolbar:y,getQuill:v,getContents:_,setContents:b,getHTML:k,setHTML:S,pasteHTML:E,focus:I,getText:g,setText:w,reinit:x}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),$a("div",{ref:"editor",...this.$attrs})]}}),IK={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},SK={key:1,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},RK={class:"bg-white rounded-lg p-4 max-w-sm w-full"},OK={class:"mt-1"},PK={key:2,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},CK={class:"bg-white rounded-lg p-4 max-w-sm w-full"},DK=C("div",{class:"mt-1"}," Blog yazısı başarıyla güncellendi. ",-1),MK={class:"flex justify-end"},NK={key:3,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},LK={class:"bg-white rounded-lg p-4 max-w-sm w-full"},$K={class:"mt-1 text-red-500"},VK={class:"flex justify-end"},FK={key:4,id:"add-blog-modal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},UK={class:"relative p-4 w-full max-w-4xl max-h-full"},BK={class:"relative bg-white rounded-lg shadow"},jK={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},qK=C("h3",{class:"text-lg font-semibold text-gray-900"},"Blog Yazısını Güncelle",-1),HK=C("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),zK=C("span",{class:"sr-only"},"Close modal",-1),KK=[HK,zK],WK={class:"grid gap-4 mb-4 grid-cols-2"},YK={class:"col-span-2"},GK=C("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),QK={class:"col-span-2"},XK=C("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),JK=C("option",{value:"hukuk"},"Hukuk",-1),ZK=C("option",{value:"haberler"},"Haberler",-1),eW=C("option",{value:"son-dakika"},"Son Dakika",-1),tW=C("option",{value:"blog"},"Blog Yazısı",-1),nW=[JK,ZK,eW,tW],rW={class:"col-span-2"},iW=C("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),oW={class:"bg-gray-100"},sW=C("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"Kaydet",-1),aW={__name:"BlogModalEdit",props:{show:Boolean,blogDataToUpdate:Object},emits:["close","updateBlog"],setup(t,{emit:e}){const n=e,r=Dr({showLoadingModal:!1,showSuccessModal:!1,showErrorModal:!1,errorMessage:""}),i=async o=>{n("close"),r.showLoadingModal=!0;try{await new Promise(s=>setTimeout(s,2e3)),r.showLoadingModal=!1,r.showSuccessModal=!0,n("updateBlog",o)}catch{r.showLoadingModal=!1,r.showErrorModal=!0,r.errorMessage="Blog güncellenirken bir hata oluştu. Lütfen tekrar deneyin."}};return(o,s)=>(ie(),ue(Pe,null,[t.show?(ie(),ue("div",IK)):ye("",!0),r.showLoadingModal?(ie(),ue("div",SK,[C("div",RK,[C("div",OK,[r.showLoadingModal?(ie(),Ue(Is,{key:0,text:"Blog Yazısı Güncelleniyor..."})):ye("",!0)])])])):ye("",!0),r.showSuccessModal?(ie(),ue("div",PK,[C("div",CK,[DK,C("div",MK,[C("button",{onClick:s[0]||(s[0]=a=>r.showSuccessModal=!1),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Kapat ")])])])):ye("",!0),r.showErrorModal?(ie(),ue("div",NK,[C("div",LK,[C("div",$K,Ie(r.errorMessage),1),C("div",VK,[C("button",{onClick:s[1]||(s[1]=a=>r.showErrorModal=!1),class:"bg-red-600 text-white px-4 py-1 font-medium rounded mb-2"}," Tekrar Dene ")])])])):ye("",!0),t.show?(ie(),ue("div",FK,[C("div",UK,[C("div",BK,[C("div",jK,[qK,C("button",{type:"button",onClick:s[2]||(s[2]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},KK)]),C("form",{onSubmit:s[6]||(s[6]=Pr(a=>i(t.blogDataToUpdate),["prevent"])),class:"p-4 md:p-5"},[C("div",WK,[C("div",YK,[GK,Et(C("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>t.blogDataToUpdate.title=a),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[yi,t.blogDataToUpdate.title]])]),C("div",QK,[XK,Et(C("select",{"onUpdate:modelValue":s[4]||(s[4]=a=>t.blogDataToUpdate.category=a),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},nW,512),[[Po,t.blogDataToUpdate.category]])]),C("div",rW,[iW,C("div",oW,[qe(le(Px),{content:t.blogDataToUpdate.content,"onUpdate:content":s[5]||(s[5]=a=>t.blogDataToUpdate.content=a),contentType:"html",id:"content",toolbar:"essential",theme:"snow",class:"h-64"},null,8,["content"])])])]),sW],32)])])])):ye("",!0)],64))}},lW={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},uW={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},cW={class:"flex justify-between items-center mb-4"},dW={class:"flex items-center space-x-2"},fW={class:"px-2 text-gray-800 text-4xl font-bold"},hW=C("div",{class:"text-lg font-medium text-gray-500"}," Toplam Blog Yazısı ",-1),pW=C("div",{class:"text-gray-400"},[C("i",{class:"ri-group-line text-4xl"})],-1),mW={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},gW={class:"text-right text-sm font-medium text-gray-600 mt-2"},vW={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},yW={class:"flex justify-between items-center mb-4"},_W={class:"flex items-center space-x-2"},bW={class:"px-2 rounded bg-emerald-100 text-emerald-700 text-4xl font-semibold"},wW=C("div",{class:"text-lg font-medium text-gray-500"}," Toplam Görüntülenme ",-1),EW=C("div",{class:"text-gray-400"},[C("i",{class:"ri-eye-line text-4xl"})],-1),TW=C("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),AW={class:"mt-2 flex flex-wrap"},kW={__name:"BlogCards",props:{totalBlogs:Number,totalBlogView:Number,blogsCategorySummary:Object},setup(t){const e=t,n={blog:"bg-blue-100 text-blue-700",hukuk:"bg-green-100 text-green-700","son-dakika":"bg-gray-100 text-gray-700",haberler:"bg-red-100 text-red-700"},r=o=>{switch(o){case"blog":return"Blog Yazısı";case"hukuk":return"Hukuk";case"son-dakika":return"Son Dakika";case"haberler":return"Haberler";default:return"Unknown"}};ge(()=>e.totalBlogs===0?0:(e.totalBlogView/e.totalBlogs*100).toFixed(2));const i=ge(()=>e.totalBlogs===0?0:(e.totalBlogs/100*100).toFixed(2));return(o,s)=>(ie(),ue("div",lW,[C("div",uW,[C("div",cW,[C("div",dW,[C("div",fW,Ie(t.totalBlogs),1),hW]),pW]),C("div",mW,[C("div",{class:"h-full bg-blue-600",style:vn({width:i.value+"%"})},null,4)]),C("div",gW,Ie(i.value)+"% ",1)]),C("div",vW,[C("div",yW,[C("div",_W,[C("div",bW,Ie(t.totalBlogView),1),wW]),EW]),TW,C("div",AW,[(ie(!0),ue(Pe,null,Xe(t.blogsCategorySummary,(a,l)=>(ie(),ue("span",{key:l,class:Ge([n[l],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ie(r(l))+": "+Ie(a),3))),128))])])]))}},xW={class:"flex justify-between mb-4 items-start"},IW=C("h1",{class:"font-medium"},"Blog Yönetimi",-1),SW={action:"",class:"flex items-center mb-4"},RW={class:"relative w-full mr-2"},OW=C("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1),PW={key:0,class:"w-full mt-4 table-fixed"},CW=C("thead",null,[C("tr",null,[C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Başlık "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yaratılma Tarihi "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Kategori "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Değiştirilme Tarihi "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Görüntülenme "),C("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Aksiyonlar ")])],-1),DW={class:"py-4 px-4 border-b border-b-gray-200"},MW={class:"flex items-center"},NW={href:"#",class:"text-gray-600 text-sm font-medium hover:text-blue-500 truncate"},LW={class:"py-4 px-4 border-b border-b-gray-200"},$W={class:"text-[13px] font-medium text-gray-600"},VW={class:"py-4 px-4 border-b border-b-gray-200"},FW={class:"flex space-x-5"},UW={class:"text-[13px] font-medium text-gray-600"},BW={class:"py-4 px-4 border-b border-b-gray-200"},jW={class:"flex space-x-5"},qW={class:"text-[13px] font-medium text-gray-600"},HW={class:"py-4 px-4 border-b border-b-gray-200"},zW={class:"flex space-x-5"},KW={class:"text-[13px] font-medium text-gray-600"},WW={class:"py-4 px-4 border-b border-b-gray-200 flex justify-between"},YW={class:"button-container relative flex flex-row gap-1"},GW=["onClick"],QW=["onClick"],XW=["onClick"],JW={class:"pagination-container flex justify-end mt-4 w-full"},ZW=["disabled"],eY=["disabled"],tY={__name:"BlogManagement",props:{blogsData:{type:Object,required:!0},blogRef:{type:Object,required:!0}},emits:["goAddBlog","deleteBlog","updateBlog"],setup(t,{emit:e}){const n=he(!1),r=he(!1);let i=null;const o=he(null),s=t;s.blogRef;const a=e;function l(x){let A;if(x&&x.seconds)A=new Date(x.seconds*1e3);else if(x instanceof Date)A=x;else return"";const T=A.getDate().toString().padStart(2,"0"),R=(A.getMonth()+1).toString().padStart(2,"0"),N=A.getFullYear();return`${T}/${R}/${N}`}function f(x){n.value=!0,o.value=x,console.log(o.value.created_date),console.log("blog id to edit",x.id)}function u(x){i=x,r.value=!0}function c(){a("deleteBlog",i)}function d(x){a("updateBlog",x),n.value=!1}const h=ge(()=>s.blogsData.length),p=ge(()=>{let x=0;return s.blogsData.forEach(A=>{x+=A.view_count||0}),console.log("Total view:",x),x}),m=he(1),y=he(10),v=he(""),_=ge(()=>v.value?s.blogsData.filter(x=>x.title.toLowerCase().includes(v.value.toLowerCase())):s.blogsData),b=ge(()=>(m.value-1)*y.value),g=ge(()=>{if(_.value.length===0){const x=b.value,A=x+y.value;return s.blogsData.slice(x,A)}else return _.value.slice(b.value,b.value+y.value)}),w=ge(()=>_.value.length===0?Math.ceil(s.blogsData.length/y.value):Math.ceil(_.value.length/y.value)),k=ge(()=>{const x={};return s.blogsData.forEach(A=>{x[A.category]?x[A.category]++:x[A.category]=1}),x}),S=()=>{m.value>1&&m.value--},E=()=>{m.value<w.value&&m.value++},I=(x,A)=>{console.log("Opening blog URL:",x,A),window.open(`https://tiryakihukuk.com/blog/${x}/${A}`,"_blank")};return yt(async()=>{console.log("Blogs data:",s.blogsData)}),(x,A)=>(ie(),ue("div",null,[qe(dK,{show:r.value,onClose:A[0]||(A[0]=T=>r.value=!1),onDelete:c},null,8,["show"]),qe(aW,{show:n.value,onClose:A[1]||(A[1]=T=>n.value=!1),onUpdateBlog:d,blogDataToUpdate:o.value},null,8,["show","blogDataToUpdate"]),qe(kW,{totalBlogs:h.value,totalBlogView:p.value,blogsCategorySummary:k.value},null,8,["totalBlogs","totalBlogView","blogsCategorySummary"]),qe(G2,{class:"p-6"},{default:ze(()=>{var T;return[C("div",xW,[IW,C("button",{onClick:A[2]||(A[2]=R=>a("goAddBlog")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded"}," + Ekle ")]),C("form",SW,[C("div",RW,[Et(C("input",{"onUpdate:modelValue":A[3]||(A[3]=R=>v.value=R),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full shadow-md shadow-black/5 outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Başlığa göre ara..."},null,512),[[yi,v.value]]),OW])]),(T=t.blogsData)!=null&&T.length?(ie(),ue("table",PW,[CW,C("tbody",null,[(ie(!0),ue(Pe,null,Xe(g.value,R=>(ie(),ue("tr",{key:R.id},[C("td",DW,[C("div",MW,[C("a",NW,Ie(R.title),1)])]),C("td",LW,[C("span",$W,Ie(l(R.created_date)),1)]),C("td",VW,[C("div",FW,[C("span",UW,Ie(R.category),1)])]),C("td",BW,[C("div",jW,[C("span",qW,Ie(l(R.updated_date)),1)])]),C("td",HW,[C("div",zW,[C("span",KW,Ie(R.view_count||0),1)])]),C("td",WW,[C("div",YW,[C("button",{onClick:N=>f(R),class:"ri-edit-line text-lg bg-orange-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,GW),C("button",{onClick:N=>I(R.slug,R.id),class:"ri-eye-line text-lg bg-green-500 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,QW),C("button",{onClick:N=>u(R.id),id:"delete-blog-modal-button",class:"ri-delete-bin-6-line text-lg bg-red-700 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,XW)])])]))),128))])])):ye("",!0),C("div",JW,[C("button",{onClick:S,disabled:m.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,ZW),C("button",{onClick:E,disabled:m.value===w.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,eY)])]}),_:1})]))}};function nY(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Cx(t,e){return new Promise(function(n,r){let i;return rY(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const rY=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const f=s+10;let u;switch(o.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(f+2,u)!==42)return n("TIFF header contains invalid version");const c=o.getUint32(f+4,u),d=f+c+2+12*o.getUint16(f+c,u);for(let h=f+c+2;h<d;h+=12)if(o.getUint16(h,u)==274){if(o.getUint16(h+2,u)!==3)return n("Orientation data type is invalid");if(o.getUint32(h+4,u)!==1)return n("Orientation data count is invalid");o.setUint16(h+8,1,u);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var $d={},iY={get exports(){return $d},set exports(t){$d=t}};(function(t){var e,n,r={};iY.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,l=0,f={},u=new Uint8Array(i),c=u.length-4;a(u,c)!=101010256;)c--;l=c,l+=4;var d=s(u,l+=4);s(u,l+=2);var h=a(u,l+=2),p=a(u,l+=4);l+=4,l=p;for(var m=0;m<d;m++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),h=a(u,l+=4);var y=a(u,l+=4),v=s(u,l+=4),_=s(u,l+2),b=s(u,l+4);l+=6;var g=a(u,l+=8);l+=4,l+=v+_+b,r._readLocal(u,g,f,h,y,o)}return f},r._readLocal=function(i,o,s,a,l,f){var u=r.bin.readUshort,c=r.bin.readUint;c(i,o),u(i,o+=4),u(i,o+=2);var d=u(i,o+=2);c(i,o+=2),c(i,o+=4),o+=4;var h=u(i,o+=8),p=u(i,o+=2);o+=2;var m=r.bin.readUTF8(i,o,h);if(o+=h,o+=p,f)s[m]={size:l,csize:a};else{var y=new Uint8Array(i.buffer,o);if(d==0)s[m]=new Uint8Array(y.buffer.slice(o,o+a));else{if(d!=8)throw"unknown compression method: "+d;var v=new Uint8Array(l);r.inflateRaw(y,v),s[m]=v}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var l=r.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,l=r.bin.writeUshort,f={};for(var u in i){var c=!r._noNeed(u)&&!o,d=i[u],h=r.crc.crc(d,0,d.length);f[u]={cpr:c,usize:d.length,crc:h,file:c?r.deflateRaw(d):d}}for(var u in f)s+=f[u].file.length+30+46+2*r.bin.sizeUTF8(u);s+=22;var p=new Uint8Array(s),m=0,y=[];for(var u in f){var v=f[u];y.push(m),m=r._writeHeader(p,m,u,v,0)}var _=0,b=m;for(var u in f)v=f[u],y.push(m),m=r._writeHeader(p,m,u,v,1,y[_++]);var g=m-b;return a(p,m,101010256),m+=4,l(p,m+=4,_),l(p,m+=2,_),a(p,m+=2,g),a(p,m+=4,b),m+=4,m+=2,p.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,l,f){var u=r.bin.writeUint,c=r.bin.writeUshort,d=a.file;return u(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),c(i,o,20),c(i,o+=2,0),c(i,o+=2,a.cpr?8:0),u(i,o+=2,0),u(i,o+=4,a.crc),u(i,o+=4,d.length),u(i,o+=4,a.usize),c(i,o+=4,r.bin.sizeUTF8(s)),c(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,u(i,o+=6,f),o+=4),o+=r.bin.writeUTF8(i,o,s),l==0&&(i.set(d,o),o+=d.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,l=0,f=o,u=o+s;f<u;){for(var c=Math.min(f+5552,u);f<c;)l+=a+=i[f++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",f=0;f<s;f++)l+="%"+r.bin.pad(i[o+f].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,f=0;f<a;f++){var u=s.charCodeAt(f);if(!(4294967168&u))i[o+l]=u,l++;else if(!(4294965248&u))i[o+l]=192|u>>6,i[o+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[o+l]=224|u>>12,i[o+l+1]=128|u>>6&63,i[o+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[o+l]=240|u>>18,i[o+l+1]=128|u>>12&63,i[o+l+2]=128|u>>6&63,i[o+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],f=r.F.U,u=r.F._goodIndex;r.F._hash;var c=r.F._putsE,d=0,h=s<<3,p=0,m=i.length;if(a==0){for(;d<m;)c(o,h,d+(A=Math.min(65535,m-d))==m?1:0),h=r.F._copyExact(i,d,A,o,h+8),d+=A;return h>>>3}var y=f.lits,v=f.strt,_=f.prev,b=0,g=0,w=0,k=0,S=0,E=0;for(m>2&&(v[E=r.F._hash(i,0)]=0),d=0;d<m;d++){if(S=E,d+1<m-2){E=r.F._hash(i,d+1);var I=d+1&32767;_[I]=v[E],v[E]=I}if(p<=d){(b>14e3||g>26697)&&m-d>100&&(p<d&&(y[b]=d-p,b+=2,p=d),h=r.F._writeBlock(d==m-1||p==m?1:0,y,b,k,i,w,d-w,o,h),b=g=k=0,w=d);var x=0;d<m-2&&(x=r.F._bestMatch(i,d,_,S,Math.min(l[2],m-d),l[3]));var A=x>>>16,T=65535&x;if(x!=0){T=65535&x;var R=u(A=x>>>16,f.of0);f.lhst[257+R]++;var N=u(T,f.df0);f.dhst[N]++,k+=f.exb[R]+f.dxb[N],y[b]=A<<23|d-p,y[b+1]=T<<16|R<<8|N,b+=2,p=d+A}else f.lhst[i[d]]++;g++}}for(w==d&&i.length!=0||(p<d&&(y[b]=d-p,b+=2,p=d),h=r.F._writeBlock(1,y,b,k,i,w,d-w,o,h),b=0,g=0,b=g=k=0,w=d);7&h;)h++;return h>>>3},r.F._bestMatch=function(i,o,s,a,l,f){var u=32767&o,c=s[u],d=u-c+32768&32767;if(c==u||a!=r.F._hash(i,o-d))return 0;for(var h=0,p=0,m=Math.min(32767,o);d<=m&&--f!=0&&c!=u;){if(h==0||i[o+h]==i[o+h-d]){var y=r.F._howLong(i,o,d);if(y>h){if(p=d,(h=y)>=l)break;d+2<y&&(y=d+2);for(var v=0,_=0;_<y-2;_++){var b=o-d+_+32768&32767,g=b-s[b]+32768&32767;g>v&&(v=g,c=b)}}}d+=(u=c)-(c=s[u])+32768&32767}return h<<16|p},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,l,f,u,c,d){var h,p,m,y,v,_,b,g,w,k=r.F.U,S=r.F._putsF,E=r.F._putsE;k.lhst[256]++,p=(h=r.F.getTrees())[0],m=h[1],y=h[2],v=h[3],_=h[4],b=h[5],g=h[6],w=h[7];var I=32+(d+3&7?8-(d+3&7):0)+(u<<3),x=a+r.F.contSize(k.fltree,k.lhst)+r.F.contSize(k.fdtree,k.dhst),A=a+r.F.contSize(k.ltree,k.lhst)+r.F.contSize(k.dtree,k.dhst);A+=14+3*b+r.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var T=0;T<286;T++)k.lhst[T]=0;for(T=0;T<30;T++)k.dhst[T]=0;for(T=0;T<19;T++)k.ihst[T]=0;var R=I<x&&I<A?0:x<A?1:2;if(S(c,d,i),S(c,d+1,R),d+=3,R==0){for(;7&d;)d++;d=r.F._copyExact(l,f,u,c,d)}else{var N,M;if(R==1&&(N=k.fltree,M=k.fdtree),R==2){r.F.makeCodes(k.ltree,p),r.F.revCodes(k.ltree,p),r.F.makeCodes(k.dtree,m),r.F.revCodes(k.dtree,m),r.F.makeCodes(k.itree,y),r.F.revCodes(k.itree,y),N=k.ltree,M=k.dtree,E(c,d,v-257),E(c,d+=5,_-1),E(c,d+=5,b-4),d+=4;for(var O=0;O<b;O++)E(c,d+3*O,k.itree[1+(k.ordr[O]<<1)]);d+=3*b,d=r.F._codeTiny(g,k.itree,c,d),d=r.F._codeTiny(w,k.itree,c,d)}for(var P=f,Q=0;Q<s;Q+=2){for(var H=o[Q],B=H>>>23,$=P+(8388607&H);P<$;)d=r.F._writeLit(l[P++],N,c,d);if(B!=0){var F=o[Q+1],D=F>>16,K=F>>8&255,z=255&F;E(c,d=r.F._writeLit(257+K,N,c,d),B-k.of0[K]),d+=k.exb[K],S(c,d=r.F._writeLit(z,M,c,d),D-k.df0[z]),d+=k.dxb[z],P+=B}}d=r.F._writeLit(256,N,c,d)}return d},r.F._copyExact=function(i,o,s,a,l){var f=l>>>3;return a[f]=s,a[f+1]=s>>>8,a[f+2]=255-a[f],a[f+3]=255-a[f+1],f+=4,a.set(new Uint8Array(i.buffer,o,s),f),l+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),f=[],u=r.F._lenCodes(i.dtree,f),c=0;c<a.length;c+=2)i.ihst[a[c]]++;for(c=0;c<f.length;c+=2)i.ihst[f[c]]++;for(var d=r.F._hufTree(i.ihst,i.itree,7),h=19;h>4&&i.itree[1+(i.ordr[h-1]<<1)]==0;)h--;return[o,s,d,l,u,h,a,f]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var f=i[l],u=i[l+1];a=r.F._writeLit(f,o,s,a);var c=f==16?2:f==17?3:7;f>15&&(r.F._putsE(s,a,u,c),a+=c)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],f=a+3<s?i[a+3]:-1,u=a+5<s?i[a+5]:-1,c=a==0?-1:i[a-1];if(l==0&&f==l&&u==l){for(var d=a+5;d+2<s&&i[d+2]==l;)d+=2;(h=Math.min(d+1-a>>>1,138))<11?o.push(17,h-3):o.push(18,h-11),a+=2*h-2}else if(l==c&&f==l&&u==l){for(d=a+5;d+2<s&&i[d+2]==l;)d+=2;var h=Math.min(d+1-a>>>1,6);o.push(16,h-3),a+=2*h-2}else o.push(l,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],l=i.length,f=o.length,u=0;for(u=0;u<f;u+=2)o[u]=0,o[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var c=a.length,d=a.slice(0);if(c==0)return 0;if(c==1){var h=a[0].lit;return d=h==0?1:0,o[1+(h<<1)]=1,o[1+(d<<1)]=1,1}a.sort(function(g,w){return g.f-w.f});var p=a[0],m=a[1],y=0,v=1,_=2;for(a[0]={lit:-1,f:p.f+m.f,l:p,r:m,d:0};v!=c-1;)p=y!=v&&(_==c||a[y].f<a[_].f)?a[y++]:a[_++],m=y!=v&&(_==c||a[y].f<a[_].f)?a[y++]:a[_++],a[v++]={lit:-1,f:p.f+m.f,l:p,r:m};var b=r.F.setDepth(a[v-1],0);for(b>s&&(r.F.restrictDepth(d,s,b),b=s),u=0;u<c;u++)o[1+(d[u].lit<<1)]=d[u].d;return b},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,f=0;for(i.sort(function(c,d){return d.d==c.d?c.f-d.f:d.d-c.d}),a=0;a<i.length&&i[a].d>o;a++){var u=i[a].d;i[a].d=o,f+=l-(1<<s-u)}for(f>>>=s-o;f>0;)(u=i[a].d)<o?(i[a].d++,f-=1<<o-u-1):a++;for(;a>=0;a--)i[a].d==o&&f<0&&(i[a].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,l=a._bitsF,f=a._bitsE,u=a._decodeTiny,c=a.makeCodes,d=a.codes2map,h=a._get17,p=a.U,m=o==null;m&&(o=new s(i.length>>>2<<3));for(var y,v,_=0,b=0,g=0,w=0,k=0,S=0,E=0,I=0,x=0;_==0;)if(_=l(i,x,1),b=l(i,x+1,2),x+=3,b!=0){if(m&&(o=r.F._check(o,I+(1<<17))),b==1&&(y=p.flmap,v=p.fdmap,S=511,E=31),b==2){g=f(i,x,5)+257,w=f(i,x+5,5)+1,k=f(i,x+10,4)+4,x+=14;for(var A=0;A<38;A+=2)p.itree[A]=0,p.itree[A+1]=0;var T=1;for(A=0;A<k;A++){var R=f(i,x+3*A,3);p.itree[1+(p.ordr[A]<<1)]=R,R>T&&(T=R)}x+=3*k,c(p.itree,T),d(p.itree,T,p.imap),y=p.lmap,v=p.dmap,x=u(p.imap,(1<<T)-1,g+w,i,x,p.ttree);var N=a._copyOut(p.ttree,0,g,p.ltree);S=(1<<N)-1;var M=a._copyOut(p.ttree,g,w,p.dtree);E=(1<<M)-1,c(p.ltree,N),d(p.ltree,N,y),c(p.dtree,M),d(p.dtree,M,v)}for(;;){var O=y[h(i,x)&S];x+=15&O;var P=O>>>4;if(!(P>>>8))o[I++]=P;else{if(P==256)break;var Q=I+P-254;if(P>264){var H=p.ldef[P-257];Q=I+(H>>>3)+f(i,x,7&H),x+=7&H}var B=v[h(i,x)&E];x+=15&B;var $=B>>>4,F=p.ddef[$],D=(F>>>4)+l(i,x,15&F);for(x+=15&F,m&&(o=r.F._check(o,I+(1<<17)));I<Q;)o[I]=o[I++-D],o[I]=o[I++-D],o[I]=o[I++-D],o[I]=o[I++-D];I=Q}}}else{7&x&&(x+=8-(7&x));var K=4+(x>>>3),z=i[K-4]|i[K-3]<<8;m&&(o=r.F._check(o,I+z)),o.set(new s(i.buffer,i.byteOffset+K,z),I),x=K+z<<3,I+=z}return o.length==I?o:o.slice(0,I)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,l,f){for(var u=r.F._bitsE,c=r.F._get17,d=0;d<s;){var h=i[c(a,l)&o];l+=15&h;var p=h>>>4;if(p<=15)f[d]=p,d++;else{var m=0,y=0;p==16?(y=3+u(a,l,2),l+=2,m=f[d-1]):p==17?(y=3+u(a,l,3),l+=3):p==18&&(y=11+u(a,l,7),l+=7);for(var v=d+y;d<v;)f[d]=m,d++}}return l},r.F._copyOut=function(i,o,s,a){for(var l=0,f=0,u=a.length>>>1;f<s;){var c=i[f+o];a[f<<1]=0,a[1+(f<<1)]=c,c>l&&(l=c),f++}for(;f<u;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return l},r.F.makeCodes=function(i,o){for(var s,a,l,f,u=r.F.U,c=i.length,d=u.bl_count,h=0;h<=o;h++)d[h]=0;for(h=1;h<c;h+=2)d[i[h]]++;var p=u.next_code;for(s=0,d[0]=0,a=1;a<=o;a++)s=s+d[a-1]<<1,p[a]=s;for(l=0;l<c;l+=2)(f=i[l+1])!=0&&(i[l]=p[f],p[f]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,l=r.F.U.rev15,f=0;f<a;f+=2)if(i[f+1]!=0)for(var u=f>>1,c=i[f+1],d=u<<4|c,h=o-c,p=i[f]<<h,m=p+(1<<h);p!=m;)s[l[p]>>>15-o]=d,p++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var f=i[l]<<o-i[l+1];i[l]=s[f]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,f,u){for(;f--!=0;)l.push(0,u)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var oY=nY({__proto__:null,default:$d},[$d]);const Vr=function(){var t={nextZero(u,c){for(;u[c]!=0;)c++;return c},readUshort:(u,c)=>u[c]<<8|u[c+1],writeUshort(u,c,d){u[c]=d>>8&255,u[c+1]=255&d},readUint:(u,c)=>16777216*u[c]+(u[c+1]<<16|u[c+2]<<8|u[c+3]),writeUint(u,c,d){u[c]=d>>24&255,u[c+1]=d>>16&255,u[c+2]=d>>8&255,u[c+3]=255&d},readASCII(u,c,d){let h="";for(let p=0;p<d;p++)h+=String.fromCharCode(u[c+p]);return h},writeASCII(u,c,d){for(let h=0;h<d.length;h++)u[c+h]=d.charCodeAt(h)},readBytes(u,c,d){const h=[];for(let p=0;p<d;p++)h.push(u[c+p]);return h},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,c,d){let h,p="";for(let m=0;m<d;m++)p+=`%${t.pad(u[c+m].toString(16))}`;try{h=decodeURIComponent(p)}catch{return t.readASCII(u,c,d)}return h}};function e(u,c,d,h){const p=c*d,m=o(h),y=Math.ceil(c*m/8),v=new Uint8Array(4*p),_=new Uint32Array(v.buffer),{ctype:b}=h,{depth:g}=h,w=t.readUshort;if(b==6){const H=p<<2;if(g==8)for(var k=0;k<H;k+=4)v[k]=u[k],v[k+1]=u[k+1],v[k+2]=u[k+2],v[k+3]=u[k+3];if(g==16)for(k=0;k<H;k++)v[k]=u[k<<1]}else if(b==2){const H=h.tabs.tRNS;if(H==null){if(g==8)for(k=0;k<p;k++){var S=3*k;_[k]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S]}if(g==16)for(k=0;k<p;k++)S=6*k,_[k]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S]}else{var E=H[0];const B=H[1],$=H[2];if(g==8)for(k=0;k<p;k++){var I=k<<2;S=3*k,_[k]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S],u[S]==E&&u[S+1]==B&&u[S+2]==$&&(v[I+3]=0)}if(g==16)for(k=0;k<p;k++)I=k<<2,S=6*k,_[k]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S],w(u,S)==E&&w(u,S+2)==B&&w(u,S+4)==$&&(v[I+3]=0)}}else if(b==3){const H=h.tabs.PLTE,B=h.tabs.tRNS,$=B?B.length:0;if(g==1)for(var x=0;x<d;x++){var A=x*y,T=x*c;for(k=0;k<c;k++){I=T+k<<2;var R=3*(N=u[A+(k>>3)]>>7-((7&k)<<0)&1);v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?B[N]:255}}if(g==2)for(x=0;x<d;x++)for(A=x*y,T=x*c,k=0;k<c;k++)I=T+k<<2,R=3*(N=u[A+(k>>2)]>>6-((3&k)<<1)&3),v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?B[N]:255;if(g==4)for(x=0;x<d;x++)for(A=x*y,T=x*c,k=0;k<c;k++)I=T+k<<2,R=3*(N=u[A+(k>>1)]>>4-((1&k)<<2)&15),v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?B[N]:255;if(g==8)for(k=0;k<p;k++){var N;I=k<<2,R=3*(N=u[k]),v[I]=H[R],v[I+1]=H[R+1],v[I+2]=H[R+2],v[I+3]=N<$?B[N]:255}}else if(b==4){if(g==8)for(k=0;k<p;k++){I=k<<2;var M=u[O=k<<1];v[I]=M,v[I+1]=M,v[I+2]=M,v[I+3]=u[O+1]}if(g==16)for(k=0;k<p;k++){var O;I=k<<2,M=u[O=k<<2],v[I]=M,v[I+1]=M,v[I+2]=M,v[I+3]=u[O+2]}}else if(b==0)for(E=h.tabs.tRNS?h.tabs.tRNS:-1,x=0;x<d;x++){const H=x*y,B=x*c;if(g==1)for(var P=0;P<c;P++){var Q=(M=255*(u[H+(P>>>3)]>>>7-(7&P)&1))==255*E?0:255;_[B+P]=Q<<24|M<<16|M<<8|M}else if(g==2)for(P=0;P<c;P++)Q=(M=85*(u[H+(P>>>2)]>>>6-((3&P)<<1)&3))==85*E?0:255,_[B+P]=Q<<24|M<<16|M<<8|M;else if(g==4)for(P=0;P<c;P++)Q=(M=17*(u[H+(P>>>1)]>>>4-((1&P)<<2)&15))==17*E?0:255,_[B+P]=Q<<24|M<<16|M<<8|M;else if(g==8)for(P=0;P<c;P++)Q=(M=u[H+P])==E?0:255,_[B+P]=Q<<24|M<<16|M<<8|M;else if(g==16)for(P=0;P<c;P++)M=u[H+(P<<1)],Q=w(u,H+(P<<1))==E?0:255,_[B+P]=Q<<24|M<<16|M<<8|M}return v}function n(u,c,d,h){const p=o(u),m=Math.ceil(d*p/8),y=new Uint8Array((m+1+u.interlace)*h);return c=u.tabs.CgBI?i(c,y):r(c,y),u.interlace==0?c=s(c,u,0,d,h):u.interlace==1&&(c=function(_,b){const g=b.width,w=b.height,k=o(b),S=k>>3,E=Math.ceil(g*k/8),I=new Uint8Array(w*E);let x=0;const A=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const P=R[M],Q=N[M];let H=0,B=0,$=A[M];for(;$<w;)$+=P,B++;let F=T[M];for(;F<g;)F+=Q,H++;const D=Math.ceil(H*k/8);s(_,b,x,H,B);let K=0,z=A[M];for(;z<w;){let j=T[M],V=x+K*D<<3;for(;j<g;){var O;if(k==1&&(O=(O=_[V>>3])>>7-(7&V)&1,I[z*E+(j>>3)]|=O<<7-((7&j)<<0)),k==2&&(O=(O=_[V>>3])>>6-(7&V)&3,I[z*E+(j>>2)]|=O<<6-((3&j)<<1)),k==4&&(O=(O=_[V>>3])>>4-(7&V)&15,I[z*E+(j>>1)]|=O<<4-((1&j)<<2)),k>=8){const J=z*E+j*S;for(let W=0;W<S;W++)I[J+W]=_[(V>>3)+W]}V+=k,j+=Q}K++,z+=P}H*B!=0&&(x+=B*(1+D)),M+=1}return I}(c,u)),c}function r(u,c){return i(new Uint8Array(u.buffer,2,u.length-6),c)}var i=function(){const u={H:{}};return u.H.N=function(c,d){const h=Uint8Array;let p,m,y=0,v=0,_=0,b=0,g=0,w=0,k=0,S=0,E=0;if(c[0]==3&&c[1]==0)return d||new h(0);const I=u.H,x=I.b,A=I.e,T=I.R,R=I.n,N=I.A,M=I.Z,O=I.m,P=d==null;for(P&&(d=new h(c.length>>>2<<5));y==0;)if(y=x(c,E,1),v=x(c,E+1,2),E+=3,v!=0){if(P&&(d=u.H.W(d,S+(1<<17))),v==1&&(p=O.J,m=O.h,w=511,k=31),v==2){_=A(c,E,5)+257,b=A(c,E+5,5)+1,g=A(c,E+10,4)+4,E+=14;let H=1;for(var Q=0;Q<38;Q+=2)O.Q[Q]=0,O.Q[Q+1]=0;for(Q=0;Q<g;Q++){const F=A(c,E+3*Q,3);O.Q[1+(O.X[Q]<<1)]=F,F>H&&(H=F)}E+=3*g,R(O.Q,H),N(O.Q,H,O.u),p=O.w,m=O.d,E=T(O.u,(1<<H)-1,_+b,c,E,O.v);const B=I.V(O.v,0,_,O.C);w=(1<<B)-1;const $=I.V(O.v,_,b,O.D);k=(1<<$)-1,R(O.C,B),N(O.C,B,p),R(O.D,$),N(O.D,$,m)}for(;;){const H=p[M(c,E)&w];E+=15&H;const B=H>>>4;if(!(B>>>8))d[S++]=B;else{if(B==256)break;{let $=S+B-254;if(B>264){const j=O.q[B-257];$=S+(j>>>3)+A(c,E,7&j),E+=7&j}const F=m[M(c,E)&k];E+=15&F;const D=F>>>4,K=O.c[D],z=(K>>>4)+x(c,E,15&K);for(E+=15&K;S<$;)d[S]=d[S++-z],d[S]=d[S++-z],d[S]=d[S++-z],d[S]=d[S++-z];S=$}}}}else{7&E&&(E+=8-(7&E));const H=4+(E>>>3),B=c[H-4]|c[H-3]<<8;P&&(d=u.H.W(d,S+B)),d.set(new h(c.buffer,c.byteOffset+H,B),S),E=H+B<<3,S+=B}return d.length==S?d:d.slice(0,S)},u.H.W=function(c,d){const h=c.length;if(d<=h)return c;const p=new Uint8Array(h<<1);return p.set(c,0),p},u.H.R=function(c,d,h,p,m,y){const v=u.H.e,_=u.H.Z;let b=0;for(;b<h;){const g=c[_(p,m)&d];m+=15&g;const w=g>>>4;if(w<=15)y[b]=w,b++;else{let k=0,S=0;w==16?(S=3+v(p,m,2),m+=2,k=y[b-1]):w==17?(S=3+v(p,m,3),m+=3):w==18&&(S=11+v(p,m,7),m+=7);const E=b+S;for(;b<E;)y[b]=k,b++}}return m},u.H.V=function(c,d,h,p){let m=0,y=0;const v=p.length>>>1;for(;y<h;){const _=c[y+d];p[y<<1]=0,p[1+(y<<1)]=_,_>m&&(m=_),y++}for(;y<v;)p[y<<1]=0,p[1+(y<<1)]=0,y++;return m},u.H.n=function(c,d){const h=u.H.m,p=c.length;let m,y,v,_;const b=h.j;for(var g=0;g<=d;g++)b[g]=0;for(g=1;g<p;g+=2)b[c[g]]++;const w=h.K;for(m=0,b[0]=0,y=1;y<=d;y++)m=m+b[y-1]<<1,w[y]=m;for(v=0;v<p;v+=2)_=c[v+1],_!=0&&(c[v]=w[_],w[_]++)},u.H.A=function(c,d,h){const p=c.length,m=u.H.m.r;for(let y=0;y<p;y+=2)if(c[y+1]!=0){const v=y>>1,_=c[y+1],b=v<<4|_,g=d-_;let w=c[y]<<g;const k=w+(1<<g);for(;w!=k;)h[m[w]>>>15-d]=b,w++}},u.H.l=function(c,d){const h=u.H.m.r,p=15-d;for(let m=0;m<c.length;m+=2){const y=c[m]<<d-c[m+1];c[m]=h[y]>>>p}},u.H.M=function(c,d,h){h<<=7&d;const p=d>>>3;c[p]|=h,c[p+1]|=h>>>8},u.H.I=function(c,d,h){h<<=7&d;const p=d>>>3;c[p]|=h,c[p+1]|=h>>>8,c[p+2]|=h>>>16},u.H.e=function(c,d,h){return(c[d>>>3]|c[1+(d>>>3)]<<8)>>>(7&d)&(1<<h)-1},u.H.b=function(c,d,h){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16)>>>(7&d)&(1<<h)-1},u.H.Z=function(c,d){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16)>>>(7&d)},u.H.i=function(c,d){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16|c[3+(d>>>3)]<<24)>>>(7&d)},u.H.m=function(){const c=Uint16Array,d=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=u.H.m;for(var d=0;d<32768;d++){let p=d;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,c.r[d]=(p>>>16|p<<16)>>>17}function h(p,m,y){for(;m--!=0;)p.push(0,y)}for(d=0;d<32;d++)c.q[d]=c.S[d]<<3|c.T[d],c.c[d]=c.p[d]<<4|c.z[d];h(c._,144,8),h(c._,112,9),h(c._,24,7),h(c._,8,8),u.H.n(c._,9),u.H.A(c._,9,c.J),u.H.l(c._,9),h(c.$,32,5),u.H.n(c.$,5),u.H.A(c.$,5,c.h),u.H.l(c.$,5),h(c.Q,19,0),h(c.C,286,0),h(c.D,30,0),h(c.v,320,0)}(),u.H.N}();function o(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function s(u,c,d,h,p){let m=o(c);const y=Math.ceil(h*m/8);let v,_;m=Math.ceil(m/8);let b=u[d],g=0;if(b>1&&(u[d]=[0,0,1][b-2]),b==3)for(g=m;g<y;g++)u[g+1]=u[g+1]+(u[g+1-m]>>>1)&255;for(let w=0;w<p;w++)if(v=d+w*y,_=v+w+1,b=u[_-1],g=0,b==0)for(;g<y;g++)u[v+g]=u[_+g];else if(b==1){for(;g<m;g++)u[v+g]=u[_+g];for(;g<y;g++)u[v+g]=u[_+g]+u[v+g-m]}else if(b==2)for(;g<y;g++)u[v+g]=u[_+g]+u[v+g-y];else if(b==3){for(;g<m;g++)u[v+g]=u[_+g]+(u[v+g-y]>>>1);for(;g<y;g++)u[v+g]=u[_+g]+(u[v+g-y]+u[v+g-m]>>>1)}else{for(;g<m;g++)u[v+g]=u[_+g]+a(0,u[v+g-y],0);for(;g<y;g++)u[v+g]=u[_+g]+a(u[v+g-m],u[v+g-y],u[v+g-m-y])}return u}function a(u,c,d){const h=u+c-d,p=h-u,m=h-c,y=h-d;return p*p<=m*m&&p*p<=y*y?u:m*m<=y*y?c:d}function l(u,c,d){d.width=t.readUint(u,c),c+=4,d.height=t.readUint(u,c),c+=4,d.depth=u[c],c++,d.ctype=u[c],c++,d.compress=u[c],c++,d.filter=u[c],c++,d.interlace=u[c],c++}function f(u,c,d,h,p,m,y,v,_){const b=Math.min(c,p),g=Math.min(d,m);let w=0,k=0;for(let M=0;M<g;M++)for(let O=0;O<b;O++)if(y>=0&&v>=0?(w=M*c+O<<2,k=(v+M)*p+y+O<<2):(w=(-v+M)*c-y+O<<2,k=M*p+O<<2),_==0)h[k]=u[w],h[k+1]=u[w+1],h[k+2]=u[w+2],h[k+3]=u[w+3];else if(_==1){var S=u[w+3]*.00392156862745098,E=u[w]*S,I=u[w+1]*S,x=u[w+2]*S,A=h[k+3]*(1/255),T=h[k]*A,R=h[k+1]*A,N=h[k+2]*A;const P=1-S,Q=S+A*P,H=Q==0?0:1/Q;h[k+3]=255*Q,h[k+0]=(E+T*P)*H,h[k+1]=(I+R*P)*H,h[k+2]=(x+N*P)*H}else if(_==2)S=u[w+3],E=u[w],I=u[w+1],x=u[w+2],A=h[k+3],T=h[k],R=h[k+1],N=h[k+2],S==A&&E==T&&I==R&&x==N?(h[k]=0,h[k+1]=0,h[k+2]=0,h[k+3]=0):(h[k]=E,h[k+1]=I,h[k+2]=x,h[k+3]=S);else if(_==3){if(S=u[w+3],E=u[w],I=u[w+1],x=u[w+2],A=h[k+3],T=h[k],R=h[k+1],N=h[k+2],S==A&&E==T&&I==R&&x==N)continue;if(S<220&&A>20)return!1}return!0}return{decode:function(c){const d=new Uint8Array(c);let h=8;const p=t,m=p.readUshort,y=p.readUint,v={tabs:{},frames:[]},_=new Uint8Array(d.length);let b,g=0,w=0;const k=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(d[S]!=k[S])throw"The input is not a PNG file!";for(;h<d.length;){const M=p.readUint(d,h);h+=4;const O=p.readASCII(d,h,4);if(h+=4,O=="IHDR")l(d,h,v);else if(O=="iCCP"){for(var E=h;d[E]!=0;)E++;p.readASCII(d,h,E-h),d[E+1];const P=d.slice(E+2,h+M);let Q=null;try{Q=r(P)}catch{Q=i(P)}v.tabs[O]=Q}else if(O=="CgBI")v.tabs[O]=d.slice(h,h+4);else if(O=="IDAT"){for(S=0;S<M;S++)_[g+S]=d[h+S];g+=M}else if(O=="acTL")v.tabs[O]={num_frames:y(d,h),num_plays:y(d,h+4)},b=new Uint8Array(d.length);else if(O=="fcTL"){w!=0&&((N=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),N.rect.width,N.rect.height),w=0);const P={x:y(d,h+12),y:y(d,h+16),width:y(d,h+4),height:y(d,h+8)};let Q=m(d,h+22);Q=m(d,h+20)/(Q==0?100:Q);const H={rect:P,delay:Math.round(1e3*Q),dispose:d[h+24],blend:d[h+25]};v.frames.push(H)}else if(O=="fdAT"){for(S=0;S<M-4;S++)b[w+S]=d[h+S+4];w+=M-4}else if(O=="pHYs")v.tabs[O]=[p.readUint(d,h),p.readUint(d,h+4),d[h+8]];else if(O=="cHRM")for(v.tabs[O]=[],S=0;S<8;S++)v.tabs[O].push(p.readUint(d,h+4*S));else if(O=="tEXt"||O=="zTXt"){v.tabs[O]==null&&(v.tabs[O]={});var I=p.nextZero(d,h),x=p.readASCII(d,h,I-h),A=h+M-I-1;if(O=="tEXt")R=p.readASCII(d,I+1,A);else{var T=r(d.slice(I+2,I+2+A));R=p.readUTF8(T,0,T.length)}v.tabs[O][x]=R}else if(O=="iTXt"){v.tabs[O]==null&&(v.tabs[O]={}),I=0,E=h,I=p.nextZero(d,E),x=p.readASCII(d,E,I-E);const P=d[E=I+1];var R;d[E+1],E+=2,I=p.nextZero(d,E),p.readASCII(d,E,I-E),E=I+1,I=p.nextZero(d,E),p.readUTF8(d,E,I-E),A=M-((E=I+1)-h),P==0?R=p.readUTF8(d,E,A):(T=r(d.slice(E,E+A)),R=p.readUTF8(T,0,T.length)),v.tabs[O][x]=R}else if(O=="PLTE")v.tabs[O]=p.readBytes(d,h,M);else if(O=="hIST"){const P=v.tabs.PLTE.length/3;for(v.tabs[O]=[],S=0;S<P;S++)v.tabs[O].push(m(d,h+2*S))}else if(O=="tRNS")v.ctype==3?v.tabs[O]=p.readBytes(d,h,M):v.ctype==0?v.tabs[O]=m(d,h):v.ctype==2&&(v.tabs[O]=[m(d,h),m(d,h+2),m(d,h+4)]);else if(O=="gAMA")v.tabs[O]=p.readUint(d,h)/1e5;else if(O=="sRGB")v.tabs[O]=d[h];else if(O=="bKGD")v.ctype==0||v.ctype==4?v.tabs[O]=[m(d,h)]:v.ctype==2||v.ctype==6?v.tabs[O]=[m(d,h),m(d,h+2),m(d,h+4)]:v.ctype==3&&(v.tabs[O]=d[h]);else if(O=="IEND")break;h+=M,p.readUint(d,h),h+=4}var N;return w!=0&&((N=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),N.rect.width,N.rect.height)),v.data=n(v,_,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(c){const d=c.width,h=c.height;if(c.tabs.acTL==null)return[e(c.data,d,h,c).buffer];const p=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const m=d*h*4,y=new Uint8Array(m),v=new Uint8Array(m),_=new Uint8Array(m);for(let g=0;g<c.frames.length;g++){const w=c.frames[g],k=w.rect.x,S=w.rect.y,E=w.rect.width,I=w.rect.height,x=e(w.data,E,I,c);if(g!=0)for(var b=0;b<m;b++)_[b]=y[b];if(w.blend==0?f(x,E,I,y,d,h,k,S,0):w.blend==1&&f(x,E,I,y,d,h,k,S,1),p.push(y.buffer.slice(0)),w.dispose!=0){if(w.dispose==1)f(v,E,I,y,d,h,k,S,0);else if(w.dispose==2)for(b=0;b<m;b++)y[b]=_[b]}}return p},_paeth:a,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Vr,{_bin:e}=Vr,n=Vr._paeth;var r={table:function(){const E=new Uint32Array(256);for(let I=0;I<256;I++){let x=I;for(let A=0;A<8;A++)1&x?x=3988292384^x>>>1:x>>>=1;E[I]=x}return E}(),update(E,I,x,A){for(let T=0;T<A;T++)E=r.table[255&(E^I[x+T])]^E>>>8;return E},crc:(E,I,x)=>4294967295^r.update(4294967295,E,I,x)};function i(E,I,x,A){I[x]+=E[0]*A>>4,I[x+1]+=E[1]*A>>4,I[x+2]+=E[2]*A>>4,I[x+3]+=E[3]*A>>4}function o(E){return Math.max(0,Math.min(255,E))}function s(E,I){const x=E[0]-I[0],A=E[1]-I[1],T=E[2]-I[2],R=E[3]-I[3];return x*x+A*A+T*T+R*R}function a(E,I,x,A,T,R,N){N==null&&(N=1);const M=A.length,O=[];for(var P=0;P<M;P++){const z=A[P];O.push([z>>>0&255,z>>>8&255,z>>>16&255,z>>>24&255])}for(P=0;P<M;P++){let z=4294967295;for(var Q=0,H=0;H<M;H++){var B=s(O[P],O[H]);H!=P&&B<z&&(z=B,Q=H)}}const $=new Uint32Array(T.buffer),F=new Int16Array(I*x*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<D.length;P++)D[P]=255*((D[P]+.5)/16-.5);for(let z=0;z<x;z++)for(let j=0;j<I;j++){var K;P=4*(z*I+j),N!=2?K=[o(E[P]+F[P]),o(E[P+1]+F[P+1]),o(E[P+2]+F[P+2]),o(E[P+3]+F[P+3])]:(B=D[4*(3&z)+(3&j)],K=[o(E[P]+B),o(E[P+1]+B),o(E[P+2]+B),o(E[P+3]+B)]),Q=0;let V=16777215;for(H=0;H<M;H++){const oe=s(K,O[H]);oe<V&&(V=oe,Q=H)}const J=O[Q],W=[K[0]-J[0],K[1]-J[1],K[2]-J[2],K[3]-J[3]];N==1&&(j!=I-1&&i(W,F,P+4,7),z!=x-1&&(j!=0&&i(W,F,P+4*I-4,3),i(W,F,P+4*I,5),j!=I-1&&i(W,F,P+4*I+4,1))),R[P>>2]=Q,$[P>>2]=A[Q]}}function l(E,I,x,A,T){T==null&&(T={});const{crc:R}=r,N=e.writeUint,M=e.writeUshort,O=e.writeASCII;let P=8;const Q=E.frames.length>1;let H,B=!1,$=33+(Q?20:0);if(T.sRGB!=null&&($+=13),T.pHYs!=null&&($+=21),T.iCCP!=null&&(H=pako.deflate(T.iCCP),$+=21+H.length+4),E.ctype==3){for(var F=E.plte.length,D=0;D<F;D++)E.plte[D]>>>24!=255&&(B=!0);$+=8+3*F+4+(B?8+1*F+4:0)}for(var K=0;K<E.frames.length;K++)Q&&($+=38),$+=(J=E.frames[K]).cimg.length+12,K!=0&&($+=4);$+=12;const z=new Uint8Array($),j=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)z[D]=j[D];if(N(z,P,13),P+=4,O(z,P,"IHDR"),P+=4,N(z,P,I),P+=4,N(z,P,x),P+=4,z[P]=E.depth,P++,z[P]=E.ctype,P++,z[P]=0,P++,z[P]=0,P++,z[P]=0,P++,N(z,P,R(z,P-17,17)),P+=4,T.sRGB!=null&&(N(z,P,1),P+=4,O(z,P,"sRGB"),P+=4,z[P]=T.sRGB,P++,N(z,P,R(z,P-5,5)),P+=4),T.iCCP!=null){const W=13+H.length;N(z,P,W),P+=4,O(z,P,"iCCP"),P+=4,O(z,P,"ICC profile"),P+=11,P+=2,z.set(H,P),P+=H.length,N(z,P,R(z,P-(W+4),W+4)),P+=4}if(T.pHYs!=null&&(N(z,P,9),P+=4,O(z,P,"pHYs"),P+=4,N(z,P,T.pHYs[0]),P+=4,N(z,P,T.pHYs[1]),P+=4,z[P]=T.pHYs[2],P++,N(z,P,R(z,P-13,13)),P+=4),Q&&(N(z,P,8),P+=4,O(z,P,"acTL"),P+=4,N(z,P,E.frames.length),P+=4,N(z,P,T.loop!=null?T.loop:0),P+=4,N(z,P,R(z,P-12,12)),P+=4),E.ctype==3){for(N(z,P,3*(F=E.plte.length)),P+=4,O(z,P,"PLTE"),P+=4,D=0;D<F;D++){const W=3*D,oe=E.plte[D],ce=255&oe,Z=oe>>>8&255,q=oe>>>16&255;z[P+W+0]=ce,z[P+W+1]=Z,z[P+W+2]=q}if(P+=3*F,N(z,P,R(z,P-3*F-4,3*F+4)),P+=4,B){for(N(z,P,F),P+=4,O(z,P,"tRNS"),P+=4,D=0;D<F;D++)z[P+D]=E.plte[D]>>>24&255;P+=F,N(z,P,R(z,P-F-4,F+4)),P+=4}}let V=0;for(K=0;K<E.frames.length;K++){var J=E.frames[K];Q&&(N(z,P,26),P+=4,O(z,P,"fcTL"),P+=4,N(z,P,V++),P+=4,N(z,P,J.rect.width),P+=4,N(z,P,J.rect.height),P+=4,N(z,P,J.rect.x),P+=4,N(z,P,J.rect.y),P+=4,M(z,P,A[K]),P+=2,M(z,P,1e3),P+=2,z[P]=J.dispose,P++,z[P]=J.blend,P++,N(z,P,R(z,P-30,30)),P+=4);const W=J.cimg;N(z,P,(F=W.length)+(K==0?0:4)),P+=4;const oe=P;O(z,P,K==0?"IDAT":"fdAT"),P+=4,K!=0&&(N(z,P,V++),P+=4),z.set(W,P),P+=F,N(z,P,R(z,oe,P-oe)),P+=4}return N(z,P,0),P+=4,O(z,P,"IEND"),P+=4,N(z,P,R(z,P-4,4)),P+=4,z.buffer}function f(E,I,x){for(let A=0;A<E.frames.length;A++){const T=E.frames[A];T.rect.width;const R=T.rect.height,N=new Uint8Array(R*T.bpl+R);T.cimg=h(T.img,R,T.bpp,T.bpl,N,I,x)}}function u(E,I,x,A,T){const R=T[0],N=T[1],M=T[2],O=T[3],P=T[4],Q=T[5];let H=6,B=8,$=255;for(var F=0;F<E.length;F++){const de=new Uint8Array(E[F]);for(var D=de.length,K=0;K<D;K+=4)$&=de[K+3]}const z=$!=255,j=function(ee,U,te,re,se,ne){const pe=[];for(var ve=0;ve<ee.length;ve++){const De=new Uint8Array(ee[ve]),rt=new Uint32Array(De.buffer);var we;let At=0,Zt=0,It=U,Kt=te,fe=re?1:0;if(ve!=0){const Ee=ne||re||ve==1||pe[ve-2].dispose!=0?1:2;let me=0,Te=1e9;for(let Re=0;Re<Ee;Re++){var Se=new Uint8Array(ee[ve-1-Re]);const Mt=new Uint32Array(ee[ve-1-Re]);let _t=U,Ut=te,sn=-1,En=-1;for(let An=0;An<te;An++)for(let pn=0;pn<U;pn++)rt[Oe=An*U+pn]!=Mt[Oe]&&(pn<_t&&(_t=pn),pn>sn&&(sn=pn),An<Ut&&(Ut=An),An>En&&(En=An));sn==-1&&(_t=Ut=sn=En=0),se&&((1&_t)==1&&_t--,(1&Ut)==1&&Ut--);const Tn=(sn-_t+1)*(En-Ut+1);Tn<Te&&(Te=Tn,me=Re,At=_t,Zt=Ut,It=sn-_t+1,Kt=En-Ut+1)}Se=new Uint8Array(ee[ve-1-me]),me==1&&(pe[ve-1].dispose=2),we=new Uint8Array(It*Kt*4),t(Se,U,te,we,It,Kt,-At,-Zt,0),fe=t(De,U,te,we,It,Kt,-At,-Zt,3)?1:0,fe==1?d(De,U,te,we,{x:At,y:Zt,width:It,height:Kt}):t(De,U,te,we,It,Kt,-At,-Zt,0)}else we=De.slice(0);pe.push({rect:{x:At,y:Zt,width:It,height:Kt},img:we,blend:fe,dispose:0})}if(re)for(ve=0;ve<pe.length;ve++){if((Ye=pe[ve]).blend==1)continue;const De=Ye.rect,rt=pe[ve-1].rect,At=Math.min(De.x,rt.x),Zt=Math.min(De.y,rt.y),It={x:At,y:Zt,width:Math.max(De.x+De.width,rt.x+rt.width)-At,height:Math.max(De.y+De.height,rt.y+rt.height)-Zt};pe[ve-1].dispose=1,ve-1!=0&&c(ee,U,te,pe,ve-1,It,se),c(ee,U,te,pe,ve,It,se)}let Le=0;if(ee.length!=1)for(var Oe=0;Oe<pe.length;Oe++){var Ye;Le+=(Ye=pe[Oe]).rect.width*Ye.rect.height}return pe}(E,I,x,R,N,M),V={},J=[],W=[];if(A!=0){const de=[];for(K=0;K<j.length;K++)de.push(j[K].img.buffer);const ee=function(se){let ne=0;for(var pe=0;pe<se.length;pe++)ne+=se[pe].byteLength;const ve=new Uint8Array(ne);let we=0;for(pe=0;pe<se.length;pe++){const Se=new Uint8Array(se[pe]),Le=Se.length;for(let Oe=0;Oe<Le;Oe+=4){let Ye=Se[Oe],De=Se[Oe+1],rt=Se[Oe+2];const At=Se[Oe+3];At==0&&(Ye=De=rt=0),ve[we+Oe]=Ye,ve[we+Oe+1]=De,ve[we+Oe+2]=rt,ve[we+Oe+3]=At}we+=Le}return ve.buffer}(de),U=m(ee,A);for(K=0;K<U.plte.length;K++)J.push(U.plte[K].est.rgba);let te=0;for(K=0;K<j.length;K++){const re=(ce=j[K]).img.length;var oe=new Uint8Array(U.inds.buffer,te>>2,re>>2);W.push(oe);const se=new Uint8Array(U.abuf,te,re);Q&&a(ce.img,ce.rect.width,ce.rect.height,J,se,oe),ce.img.set(se),te+=re}}else for(F=0;F<j.length;F++){var ce=j[F];const de=new Uint32Array(ce.img.buffer);var Z=ce.rect.width;for(D=de.length,oe=new Uint8Array(D),W.push(oe),K=0;K<D;K++){const ee=de[K];if(K!=0&&ee==de[K-1])oe[K]=oe[K-1];else if(K>Z&&ee==de[K-Z])oe[K]=oe[K-Z];else{let U=V[ee];if(U==null&&(V[ee]=U=J.length,J.push(ee),J.length>=300))break;oe[K]=U}}}const q=J.length;for(q<=256&&P==0&&(B=q<=2?1:q<=4?2:q<=16?4:8,B=Math.max(B,O)),F=0;F<j.length;F++){(ce=j[F]).rect.x,ce.rect.y,Z=ce.rect.width;const de=ce.rect.height;let ee=ce.img;new Uint32Array(ee.buffer);let U=4*Z,te=4;if(q<=256&&P==0){U=Math.ceil(B*Z/8);var G=new Uint8Array(U*de);const re=W[F];for(let se=0;se<de;se++){K=se*U;const ne=se*Z;if(B==8)for(var Y=0;Y<Z;Y++)G[K+Y]=re[ne+Y];else if(B==4)for(Y=0;Y<Z;Y++)G[K+(Y>>1)]|=re[ne+Y]<<4-4*(1&Y);else if(B==2)for(Y=0;Y<Z;Y++)G[K+(Y>>2)]|=re[ne+Y]<<6-2*(3&Y);else if(B==1)for(Y=0;Y<Z;Y++)G[K+(Y>>3)]|=re[ne+Y]<<7-1*(7&Y)}ee=G,H=3,te=1}else if(z==0&&j.length==1){G=new Uint8Array(Z*de*3);const re=Z*de;for(K=0;K<re;K++){const se=3*K,ne=4*K;G[se]=ee[ne],G[se+1]=ee[ne+1],G[se+2]=ee[ne+2]}ee=G,H=2,te=3,U=3*Z}ce.img=ee,ce.bpl=U,ce.bpp=te}return{ctype:H,depth:B,plte:J,frames:j}}function c(E,I,x,A,T,R,N){const M=Uint8Array,O=Uint32Array,P=new M(E[T-1]),Q=new O(E[T-1]),H=T+1<E.length?new M(E[T+1]):null,B=new M(E[T]),$=new O(B.buffer);let F=I,D=x,K=-1,z=-1;for(let V=0;V<R.height;V++)for(let J=0;J<R.width;J++){const W=R.x+J,oe=R.y+V,ce=oe*I+W,Z=$[ce];Z==0||A[T-1].dispose==0&&Q[ce]==Z&&(H==null||H[4*ce+3]!=0)||(W<F&&(F=W),W>K&&(K=W),oe<D&&(D=oe),oe>z&&(z=oe))}K==-1&&(F=D=K=z=0),N&&((1&F)==1&&F--,(1&D)==1&&D--),R={x:F,y:D,width:K-F+1,height:z-D+1};const j=A[T];j.rect=R,j.blend=1,j.img=new Uint8Array(R.width*R.height*4),A[T-1].dispose==0?(t(P,I,x,j.img,R.width,R.height,-R.x,-R.y,0),d(B,I,x,j.img,R)):t(B,I,x,j.img,R.width,R.height,-R.x,-R.y,0)}function d(E,I,x,A,T){t(E,I,x,A,T.width,T.height,-T.x,-T.y,2)}function h(E,I,x,A,T,R,N){const M=[];let O,P=[0,1,2,3,4];R!=-1?P=[R]:(I*A>5e5||x==1)&&(P=[0]),N&&(O={level:0});const Q=oY;for(var H=0;H<P.length;H++){for(let F=0;F<I;F++)p(T,E,F,A,x,P[H]);M.push(Q.deflate(T,O))}let B,$=1e9;for(H=0;H<M.length;H++)M[H].length<$&&(B=H,$=M[H].length);return M[B]}function p(E,I,x,A,T,R){const N=x*A;let M=N+x;if(E[M]=R,M++,R==0)if(A<500)for(var O=0;O<A;O++)E[M+O]=I[N+O];else E.set(new Uint8Array(I.buffer,N,A),M);else if(R==1){for(O=0;O<T;O++)E[M+O]=I[N+O];for(O=T;O<A;O++)E[M+O]=I[N+O]-I[N+O-T]+256&255}else if(x==0){for(O=0;O<T;O++)E[M+O]=I[N+O];if(R==2)for(O=T;O<A;O++)E[M+O]=I[N+O];if(R==3)for(O=T;O<A;O++)E[M+O]=I[N+O]-(I[N+O-T]>>1)+256&255;if(R==4)for(O=T;O<A;O++)E[M+O]=I[N+O]-n(I[N+O-T],0,0)+256&255}else{if(R==2)for(O=0;O<A;O++)E[M+O]=I[N+O]+256-I[N+O-A]&255;if(R==3){for(O=0;O<T;O++)E[M+O]=I[N+O]+256-(I[N+O-A]>>1)&255;for(O=T;O<A;O++)E[M+O]=I[N+O]+256-(I[N+O-A]+I[N+O-T]>>1)&255}if(R==4){for(O=0;O<T;O++)E[M+O]=I[N+O]+256-n(0,I[N+O-A],0)&255;for(O=T;O<A;O++)E[M+O]=I[N+O]+256-n(I[N+O-T],I[N+O-A],I[N+O-T-A])&255}}}function m(E,I){const x=new Uint8Array(E),A=x.slice(0),T=new Uint32Array(A.buffer),R=y(A,I),N=R[0],M=R[1],O=x.length,P=new Uint8Array(O>>2);let Q;if(x.length<2e7)for(var H=0;H<O;H+=4)Q=v(N,B=x[H]*(1/255),$=x[H+1]*(1/255),F=x[H+2]*(1/255),D=x[H+3]*(1/255)),P[H>>2]=Q.ind,T[H>>2]=Q.est.rgba;else for(H=0;H<O;H+=4){var B=x[H]*.00392156862745098,$=x[H+1]*(1/255),F=x[H+2]*(1/255),D=x[H+3]*(1/255);for(Q=N;Q.left;)Q=_(Q.est,B,$,F,D)<=0?Q.left:Q.right;P[H>>2]=Q.ind,T[H>>2]=Q.est.rgba}return{abuf:A.buffer,inds:P,plte:M}}function y(E,I,x){x==null&&(x=1e-4);const A=new Uint32Array(E.buffer),T={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=w(E,T.i0,T.i1),T.est=k(T.bst);const R=[T];for(;R.length<I;){let M=0,O=0;for(var N=0;N<R.length;N++)R[N].est.L>M&&(M=R[N].est.L,O=N);if(M<x)break;const P=R[O],Q=b(E,A,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=Q||P.i1<=Q){P.est.L=0;continue}const H={i0:P.i0,i1:Q,bst:null,est:null,tdst:0,left:null,right:null};H.bst=w(E,H.i0,H.i1),H.est=k(H.bst);const B={i0:Q,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:P.bst.N-H.bst.N},N=0;N<16;N++)B.bst.R[N]=P.bst.R[N]-H.bst.R[N];for(N=0;N<4;N++)B.bst.m[N]=P.bst.m[N]-H.bst.m[N];B.est=k(B.bst),P.left=H,P.right=B,R[O]=H,R.push(B)}for(R.sort((M,O)=>O.bst.N-M.bst.N),N=0;N<R.length;N++)R[N].ind=N;return[T,R]}function v(E,I,x,A,T){if(E.left==null)return E.tdst=function(H,B,$,F,D){const K=B-H[0],z=$-H[1],j=F-H[2],V=D-H[3];return K*K+z*z+j*j+V*V}(E.est.q,I,x,A,T),E;const R=_(E.est,I,x,A,T);let N=E.left,M=E.right;R>0&&(N=E.right,M=E.left);const O=v(N,I,x,A,T);if(O.tdst<=R*R)return O;const P=v(M,I,x,A,T);return P.tdst<O.tdst?P:O}function _(E,I,x,A,T){const{e:R}=E;return R[0]*I+R[1]*x+R[2]*A+R[3]*T-E.eMq}function b(E,I,x,A,T,R){for(A-=4;x<A;){for(;g(E,x,T)<=R;)x+=4;for(;g(E,A,T)>R;)A-=4;if(x>=A)break;const N=I[x>>2];I[x>>2]=I[A>>2],I[A>>2]=N,x+=4,A-=4}for(;g(E,x,T)>R;)x-=4;return x+4}function g(E,I,x){return E[I]*x[0]+E[I+1]*x[1]+E[I+2]*x[2]+E[I+3]*x[3]}function w(E,I,x){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],R=x-I>>2;for(let N=I;N<x;N+=4){const M=E[N]*.00392156862745098,O=E[N+1]*(1/255),P=E[N+2]*(1/255),Q=E[N+3]*(1/255);T[0]+=M,T[1]+=O,T[2]+=P,T[3]+=Q,A[0]+=M*M,A[1]+=M*O,A[2]+=M*P,A[3]+=M*Q,A[5]+=O*O,A[6]+=O*P,A[7]+=O*Q,A[10]+=P*P,A[11]+=P*Q,A[15]+=Q*Q}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:T,N:R}}function k(E){const{R:I}=E,{m:x}=E,{N:A}=E,T=x[0],R=x[1],N=x[2],M=x[3],O=A==0?0:1/A,P=[I[0]-T*T*O,I[1]-T*R*O,I[2]-T*N*O,I[3]-T*M*O,I[4]-R*T*O,I[5]-R*R*O,I[6]-R*N*O,I[7]-R*M*O,I[8]-N*T*O,I[9]-N*R*O,I[10]-N*N*O,I[11]-N*M*O,I[12]-M*T*O,I[13]-M*R*O,I[14]-M*N*O,I[15]-M*M*O],Q=P,H=S;let B=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,F=0;if(A!=0)for(let K=0;K<16&&(B=H.multVec(Q,B),F=Math.sqrt(H.dot(B,B)),B=H.sml(1/F,B),!(K!=0&&Math.abs(F-$)<1e-9));K++)$=F;const D=[T*O,R*O,N*O,M*O];return{Cov:P,q:D,e:B,L:$,eMq255:H.dot(H.sml(255,D),B),eMq:H.dot(B,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var S={multVec:(E,I)=>[E[0]*I[0]+E[1]*I[1]+E[2]*I[2]+E[3]*I[3],E[4]*I[0]+E[5]*I[1]+E[6]*I[2]+E[7]*I[3],E[8]*I[0]+E[9]*I[1]+E[10]*I[2]+E[11]*I[3],E[12]*I[0]+E[13]*I[1]+E[14]*I[2]+E[15]*I[3]],dot:(E,I)=>E[0]*I[0]+E[1]*I[1]+E[2]*I[2]+E[3]*I[3],sml:(E,I)=>[E*I[0],E*I[1],E*I[2],E*I[3]]};Vr.encode=function(I,x,A,T,R,N,M){T==null&&(T=0),M==null&&(M=!1);const O=u(I,x,A,T,[!1,!1,!1,0,M,!1]);return f(O,-1),l(O,x,A,R,N)},Vr.encodeLL=function(I,x,A,T,R,N,M,O){const P={ctype:0+(T==1?0:2)+(R==0?0:4),depth:N,frames:[]},Q=(T+R)*N,H=Q*x;for(let B=0;B<I.length;B++)P.frames.push({rect:{x:0,y:0,width:x,height:A},img:new Uint8Array(I[B]),blend:0,dispose:1,bpp:Math.ceil(Q/8),bpl:Math.ceil(H/8)});return f(P,0,!0),l(P,x,A,M,O)},Vr.encode.compress=u,Vr.encode.dither=a,Vr.quantize=m,Vr.quantize.getKDtree=y,Vr.quantize.getNearest=v})();const Dx={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,l=a*r,f=122+l,u=new ArrayBuffer(f),c=new DataView(u),d=1<<20;let h,p,m,y,v=d,_=0,b=0,g=0;function w(E){c.setUint16(b,E,!0),b+=2}function k(E){c.setUint32(b,E,!0),b+=4}function S(E){b+=E}w(19778),k(f),S(4),k(122),k(108),k(n),k(-r>>>0),w(1),w(32),k(3),k(l),k(2835),k(2835),S(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function E(){for(;_<r&&v>0;){for(y=122+_*a,h=0;h<i;)v--,p=s[g++],m=p>>>24,c.setUint32(y+h,p<<8|m),h+=4;_++}g<s.length?(v=d,setTimeout(E,Dx._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var ur={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},sY={[ur.CHROME]:16384,[ur.FIREFOX]:11180,[ur.DESKTOP_SAFARI]:16384,[ur.IE]:8192,[ur.IOS]:4096,[ur.ETC]:8192};const Oy=typeof window<"u",Mx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Vd=Oy&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),aY=(Oy||Mx)&&(Vd&&Vd.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Nx=(Oy||Mx)&&(Vd&&Vd.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Py(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const f=new Blob([l],{type:o});f.name=e,f.lastModified=n,r(f)})}function Lx(t){return new Promise((e,n)=>{const r=new Nx;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function $x(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function cs(){if(cs.cachedResult!==void 0)return cs.cachedResult;let t=ur.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=ur.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=ur.IOS:/Safari/i.test(e)?t=ur.DESKTOP_SAFARI:/Firefox/i.test(e)?t=ur.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=ur.IE),cs.cachedResult=t,cs.cachedResult}function Vx(t,e){const n=cs(),r=sY[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const l=(r+i)/2,f=(r+o)/2;l<f?(o=f,i=f*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function uh(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Fx(t,e){const{width:n,height:r}=Vx(t.width,t.height),[i,o]=uh(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Xc(){return Xc.cachedResult!==void 0||(Xc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Xc.cachedResult}function Fd(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=Fx(i,e.fileType||t.type),n([i,o])}catch(l){return r(l)}},a=function(l){try{var f=function(u){try{throw u}catch(c){return r(c)}};try{let u;return Lx(t).then(function(c){try{return u=c,$x(u).then(function(d){try{return i=d,function(){try{return s()}catch(h){return r(h)}}()}catch(h){return f(h)}},f)}catch(d){return f(d)}},f)}catch(u){f(u)}}catch(u){return r(u)}};try{if(Xc()||[ur.DESKTOP_SAFARI,ur.MOBILE_SAFARI].includes(cs()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function Ud(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let c,d,h;return c=t.getContext("2d"),{data:d}=c.getImageData(0,0,t.width,t.height),h=Vr.encode([d.buffer],t.width,t.height,4096*i),a=new Blob([h],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let c=function(){return l.call(this)};var f=c;if(e==="image/bmp")return new Promise(d=>Dx.toBlob(t,d)).then((function(d){try{return a=d,a.name=n,a.lastModified=r,c.call(this)}catch(h){return s(h)}}).bind(this),s);{let d=function(){return c.call(this)};var u=d;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return s(p)}}).bind(this),s);{let h;return h=t.toDataURL(e,i),Py(h,n,r).then((function(p){try{return a=p,d.call(this)}catch(m){return s(m)}}).bind(this),s)}}}function l(){return o(a)}})}function li(t){t.width=0,t.height=0}function ia(){return new Promise(function(t,e){let n,r,i,o;return ia.cachedResult!==void 0?t(ia.cachedResult):Py("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,Fd(n).then(function(a){try{return r=a[1],Ud(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,li(r),Fd(i).then(function(f){try{return o=f[0],ia.cachedResult=o.width===1&&o.height===2,t(ia.cachedResult)}catch(u){return e(u)}},e)}catch(f){return e(f)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function Ux(t){return new Promise((e,n)=>{const r=new Nx;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const f=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,f);const u=o.getUint16(a,f);a+=2;for(let c=0;c<u;c++)if(o.getUint16(a+12*c,f)==274)return e(o.getUint16(a+12*c+8,f))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Bx(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=uh(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),li(t)),s}function jx(t,e){const{width:n}=t,{height:r}=t,[i,o]=uh(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),li(t),i}function vb(t,e,n=0){return new Promise(function(r,i){let o,s,a,l,f,u,c,d,h,p,m,y,v,_,b,g,w,k,S,E;function I(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=A,e.onProgress(Math.min(o,100))}function x(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(A,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,I(),Fd(t,e).then((function(A){try{return[,l]=A,I(),f=Bx(l,e),I(),new Promise(function(T,R){var N;if(!(N=e.exifOrientation))return Ux(t).then((function(O){try{return N=O,M.call(this)}catch(P){return R(P)}}).bind(this),R);function M(){return T(N)}return M.call(this)}).then((function(T){try{return u=T,I(),ia().then((function(R){try{return c=R?f:jx(f,u),I(),d=e.initialQuality||1,h=e.fileType||t.type,Ud(c,h,t.name,t.lastModified,d).then((function(N){try{{let Q=function(){if(s--&&(b>a||b>v)){let B,$;return B=E?.95*S.width:S.width,$=E?.95*S.height:S.height,[w,k]=uh(B,$),k.drawImage(S,0,0,B,$),d*=h==="image/png"?.85:.95,Ud(w,h,t.name,t.lastModified,d).then(function(F){try{return g=F,li(S),S=w,b=g.size,x(Math.min(99,Math.floor((_-b)/(_-a)*100))),Q}catch(D){return i(D)}},i)}return[1]},H=function(){return li(S),li(w),li(f),li(c),li(l),x(100),r(g)};var O=Q,P=H;if(p=N,I(),m=p.size>a,y=p.size>t.size,!m&&!y)return x(100),r(p);var M;return v=t.size,_=p.size,b=_,S=c,E=!e.alwaysKeepResolution&&m,(M=(function(B){for(;B;){if(B.then)return void B.then(M,i);try{if(B.pop){if(B.length)return B.pop()?H.call(this):B;B=Q}else B=B.call(this)}catch($){return i($)}}}).bind(this))(Q)}}catch(Q){return i(Q)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)}catch(T){return i(T)}}).bind(this),i)})}const lY=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Gp;function uY(t,e){return new Promise((n,r)=>{Gp||(Gp=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(lY));const i=new Worker(Gp);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function jn(t,e){return new Promise(function(n,r){let i,o,s,a,l,f;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=h=>{s=h,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof aY))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||f)return vb(t,i).then((function(h){try{return o=h,d.call(this)}catch(p){return r(p)}}).bind(this),r);var u=(function(){try{return d.call(this)}catch(h){return r(h)}}).bind(this),c=function(h){try{return vb(t,i).then(function(p){try{return o=p,u()}catch(m){return r(m)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",uY(t,i).then(function(h){try{return o=h,u()}catch{return c()}},c)}catch{c()}function d(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=Cx(t,o))}catch{}return n(o)}})}jn.getDataUrlFromFile=Lx,jn.getFilefromDataUrl=Py,jn.loadImage=$x,jn.drawImageInCanvas=Fx,jn.drawFileInCanvas=Fd,jn.canvasToFile=Ud,jn.getExifOrientation=Ux,jn.handleMaxWidthOrHeight=Bx,jn.followExifOrientation=jx,jn.cleanupCanvasMemory=li,jn.isAutoOrientationInBrowser=ia,jn.approximateBelowMaximumCanvasSizeOfBrowser=Vx,jn.copyExifWithoutOrientation=Cx,jn.getBrowserName=cs,jn.version="2.0.2";var fg={exports:{}},yb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(yb){var _b=new Uint8Array(16);fg.exports=function(){return yb(_b),_b}}else{var bb=new Array(16);fg.exports=function(){for(var e=0,n;e<16;e++)e&3||(n=Math.random()*4294967296),bb[e]=n>>>((e&3)<<3)&255;return bb}}var qx=fg.exports,Hx=[];for(var Oc=0;Oc<256;++Oc)Hx[Oc]=(Oc+256).toString(16).substr(1);function cY(t,e){var n=e||0,r=Hx;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")}var zx=cY,dY=qx,fY=zx,wb,Qp,Xp=0,Jp=0;function hY(t,e,n){var r=e&&n||0,i=e||[];t=t||{};var o=t.node||wb,s=t.clockseq!==void 0?t.clockseq:Qp;if(o==null||s==null){var a=dY();o==null&&(o=wb=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=Qp=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:new Date().getTime(),f=t.nsecs!==void 0?t.nsecs:Jp+1,u=l-Xp+(f-Jp)/1e4;if(u<0&&t.clockseq===void 0&&(s=s+1&16383),(u<0||l>Xp)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xp=l,Jp=f,Qp=s,l+=122192928e5;var c=((l&268435455)*1e4+f)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=c&255;var d=l/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=d&255,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(var h=0;h<6;++h)i[r+h]=o[h];return e||fY(i)}var pY=hY,mY=qx,gY=zx;function vY(t,e,n){var r=e&&n||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||mY)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||gY(i)}var yY=vY,_Y=pY,Kx=yY,Cy=Kx;Cy.v1=_Y;Cy.v4=Kx;var bY=Cy;const wY={key:0,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},EY={class:"bg-white rounded-lg p-4 max-w-sm w-full"},TY={class:"mt-1"},AY={class:"flex justify-end"},kY={class:"relative bg-white rounded-lg shadow border border-gray-200"},xY={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},IY=C("h3",{class:"text-lg font-semibold text-gray-900"},"Yeni Blog Yazısı",-1),SY={class:"grid gap-4 mb-4 grid-cols-2"},RY={class:"col-span-2"},OY=C("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Başlık",-1),PY={class:"col-span-2"},CY=C("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900"}," Açıklama ",-1),DY={class:"col-span-2"},MY=C("label",{for:"tags",class:"block mb-2 text-sm font-medium text-gray-900"}," Etiketler ",-1),NY={class:"flex flex-wrap items-center border border-gray p-2 rounded-lg"},LY=["onClick"],$Y=C("svg",{class:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[C("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L10 8.586 7.707 6.293a1 1 0 10-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 001.414 1.414L10 11.414l2.293 2.293a1 1 0 001.414-1.414L11.414 10l2.293-2.293z","clip-rule":"evenodd"})],-1),VY=[$Y],FY=["onKeydown"],UY={class:"mt-2 text-gray-600"},BY={class:"col-span-2 sm:col-span-1"},jY=C("label",{for:"file-input",class:"block mb-2 text-sm font-medium text-gray-900"},"Fotoğraf Seç",-1),qY={class:"col-span-2 sm:col-span-1"},HY=C("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),zY=C("option",{value:"hukuk"},"Hukuk",-1),KY=C("option",{value:"haberler"},"Haberler",-1),WY=C("option",{value:"son-dakika"},"Son Dakika",-1),YY=C("option",{value:"blog"},"Blog Yazısı",-1),GY=[zY,KY,WY,YY],QY={class:"col-span-2"},XY=C("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),JY={class:"bg-gray-100"},ZY=["disabled"],eG=10,tG={__name:"AddBlog",emits:["goBlogManagement","addBlog"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),o=he(["Hukuk","Haber","Ceza Hukuku","TCK"]),s=he(""),a=he(""),l=he(""),f=he(""),u=he("blog"),c=he(null),d=he(null),h=he(null),p=()=>{s.value.trim()&&!o.value.includes(s.value.trim())&&(o.value.push(s.value.trim()),s.value="")},m=b=>{o.value.splice(b,1)},y=ge(()=>eG-o.value.length),v=async b=>{const g=b.target.files[0];if(g&&g.type==="image/jpeg")try{const k=await jn(g,{maxSizeMB:1,maxWidthOrHeight:1400,useWebWorker:!0,fileType:"image/webp"});d.value=k,h.value=g.name.replace(/\.[^/.]+$/,"")+".webp"}catch(w){console.error("Error compressing the image:",w)}else h.value=null,console.error("Please select a JPEG file.")},_=async()=>{if(r.value=!0,i.value=!0,!d.value){console.error("Please select an image file.");return}const b=bY.v4();console.log("imageId is:",b);const g=o2(s2,`images/${b}`);console.log(b);try{console.log("Uploading file..."),await S$(g,d.value);const w=await R$(g);console.log("File uploaded:",w);const k={author:"admin",created_date:new Date,updated_date:new Date,title:a.value,tags:o.value,description:l.value,slug:Q2(a.value),image:w,content:f.value,category:u.value,view_count:0,image_id:b};console.log("Adding blog post:",k),n("addBlog",k),a.value="",f.value="",l.value="",u.value="Blog Yazısı",d.value=null,h.value=null}catch(w){console.error("Error uploading file or saving blog post:",w)}finally{r.value=!1}};return yt(()=>{console.log("new date test",new Date)}),(b,g)=>(ie(),ue("div",null,[i.value?(ie(),ue("div",wY,[C("div",EY,[C("div",TY,[r.value?(ie(),Ue(Is,{key:0,text:"Blog Yazısı Yükleniyor..."})):ye("",!0),hn(" "+Ie(r.value?"":"Blog yazısı yüklendi."),1)]),C("div",AY,[r.value?ye("",!0):(ie(),ue("button",{key:0,onClick:g[0]||(g[0]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dön "))])])])):ye("",!0),C("div",kY,[C("div",xY,[IY,C("button",{onClick:g[1]||(g[1]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön ")]),C("form",{onSubmit:Pr(_,["prevent"]),class:"p-4 md:p-5"},[C("div",SY,[C("div",RY,[OY,Et(C("input",{"onUpdate:modelValue":g[2]||(g[2]=w=>a.value=w),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[yi,a.value]])]),C("div",PY,[CY,Et(C("textarea",{"onUpdate:modelValue":g[3]||(g[3]=w=>l.value=w),name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı açıklamasını girin",required:"",rows:"3"},null,512),[[yi,l.value]])]),C("div",DY,[MY,C("div",NY,[(ie(!0),ue(Pe,null,Xe(o.value,(w,k)=>(ie(),ue("span",{key:k,class:"flex items-center bg-gray-100 text-sm border border-gray-300 hover:bg-gray-300 text-gray-900 px-3 py-1 rounded-full mr-2 mb-2"},[hn(Ie(w)+" ",1),C("button",{onClick:S=>m(k),class:"ml-2 focus:outline-none"},VY,8,LY)]))),128)),Et(C("input",{"onUpdate:modelValue":g[4]||(g[4]=w=>s.value=w),name:"tags",onKeydown:Nw(Pr(p,["prevent"]),["enter"]),placeholder:"Yazdıktan sonra Enter tuşuna basarak etiketi ekleyin.",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},null,40,FY),[[yi,s.value]])]),C("p",UY,Ie(y.value)+" etiket daha ekleyebilirsiniz. ",1)]),C("div",BY,[jY,C("input",{type:"file",id:"file_input",ref_key:"fileInput",ref:c,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",accept:"image/jpeg",onChange:v,required:""},null,544)]),C("div",qY,[HY,Et(C("select",{"onUpdate:modelValue":g[5]||(g[5]=w=>u.value=w),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},GY,512),[[Po,u.value]])]),C("div",QY,[XY,C("div",JY,[qe(le(Px),{content:f.value,"onUpdate:content":g[6]||(g[6]=w=>f.value=w),contentType:"html",toolbar:"essential",theme:"snow",class:"h-[30rem]",placeholder:"Yazı içeriği girin...",required:""},null,8,["content"])])])]),C("button",{type:"submit",disabled:r.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-600"}," Blog Yazısı Ekle ",8,ZY)],32)])]))}},nG={key:0,class:"flex items-center justify-center min-h-screen"},rG={__name:"Blogs",setup(t){const e=he(!1),n=he(!1),r=zf(yr,"blogs"),i=he([]);function o(p){u(p)}function s(p){c(p)}function a(p){d(p)}async function l(){let p=[];return(await Gv(r)).forEach(y=>{p.push({id:y.id,...y.data()})}),p}async function f(){try{const p=localStorage.getItem("cachedBlogs"),m=localStorage.getItem("cachedTimeBlogs"),y=0*60*1e3;if(p&&m&&new Date-new Date(parseInt(m))<y)return JSON.parse(p);{const v=await l();return localStorage.setItem("cachedBlogs",JSON.stringify(v)),localStorage.setItem("cachedTimeBlogs",new Date().getTime().toString()),v}}catch(p){return console.error("Error getting blogs with comments:",p),[]}}async function u(p){console.log("Received new blog data:",p);try{const m=await v6(r,p),y={...p,id:m.id};i.value=[y,...i.value],localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error adding document:",m)}}async function c(p){if(p)try{const m=tr(yr,"blogs",p),y=await ks(m);if(y.exists()){const _=y.data().image_id;if(_){const b=`images/${_}`;console.log("blog image path to delete",b);const g=o2(s2,b);try{await O$(g),console.log(`Image with ID ${_} deleted successfully.`)}catch(w){console.error("Error deleting image:",w)}}await g6(m),i.value=i.value.filter(b=>b.id!==p),localStorage.setItem("cachedBlogs",JSON.stringify(i.value)),console.log(`Blog with ID ${p} deleted successfully.`)}else console.error("Blog not found")}catch(m){console.error("Error deleting blog:",m)}}async function d(p){console.log("Received updated blog data:",p),p.updated_date=new Date,p.slug=Q2(p.title);try{await Vi(tr(yr,"blogs",p.id),p);const m={...p};i.value=i.value.map(y=>y.id===p.id?m:y),localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error updating document:",m)}}function h(p){return p.sort((m,y)=>y.created_date-m.created_date)}return yt(async()=>{let p=await f();p=h(p),i.value=p,e.value=!0}),(p,m)=>(ie(),ue("div",null,[qe(Yr,{name:"fade"},{default:ze(()=>[e.value&&!n.value?(ie(),Ue(tY,{key:0,onGoAddBlog:m[0]||(m[0]=y=>n.value=!0),onDeleteBlog:s,onUpdateBlog:a,blogsData:i.value,blogRef:le(r)},null,8,["blogsData","blogRef"])):ye("",!0)]),_:1}),e.value?ye("",!0):(ie(),ue("div",nG,[qe(Is,{text:"Blog Yazısı Yükleniyor..."})])),qe(Yr,{name:"fade"},{default:ze(()=>[n.value?(ie(),Ue(tG,{key:0,onGoBlogManagement:m[1]||(m[1]=y=>n.value=!1),onAddBlog:o})):ye("",!0)]),_:1})]))}},iG=Nr(rG,[["__scopeId","data-v-2903c4e5"]]),oG={__name:"Lawyers",setup(t){return(e,n)=>(ie(),ue("h1",null,"Avukatlar"))}},sG={key:0},aG={key:1},Eb={__name:"Settings",setup(t){const e=Vo(),n=ge(()=>e.getters.userRole);return ge(()=>e.getters.user?e.getters.user.uid:null),(r,i)=>(ie(),ue("div",null,[n.value==="attorney"?(ie(),ue("div",sG," avukat ayarları ")):(ie(),ue("div",aG,"admin ayarları değiştirildi feat-12 test 4 eylül "))]))}},lG={},uG={class:"bg-gray-800"},cG=Iw('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfa mecvut değil.</p><div class="flex justify-center"><a href="/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),dG=[cG];function fG(t,e,n,r,i,o){return ie(),ue("section",uG,dG)}const hG=Nr(lG,[["render",fG]]),pG={},mG={class:"bg-gray-800"},gG=Iw('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfayı görmek için yetkiniz yok.</p><div class="flex justify-center"><a href="/main/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),vG=[gG];function yG(t,e,n,r,i,o){return ie(),ue("section",mG,vG)}const _G=Nr(pG,[["render",yG]]),bG=C("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),wG={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},EG={class:"relative p-4 w-[30rem] max-h-full"},TG={class:"relative bg-white rounded-lg shadow"},AG={class:"flex items-center justify-between p-4 border-b rounded-t"},kG=C("h3",{class:"text-lg font-semibold text-gray-900"}," Uygun Olmayan Tarih ve Saat Aralığını Seç ",-1),xG=C("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14","aria-hidden":"true"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),IG=C("span",{class:"sr-only"},"Close modal",-1),SG=[xG,IG],RG={class:"grid gap-4 mb-4 grid-cols-2"},OG={class:"col-span-2"},PG=C("label",{for:"date",class:"block mb-2 text-sm font-medium text-gray-900"},"Tarih",-1),CG={class:"col-span-1"},DG=C("label",{for:"start-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Başlangıç",-1),MG=["value"],NG={class:"col-span-1"},LG=C("label",{for:"end-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Bitiş",-1),$G=["value"],VG={class:"col-span-2"},FG={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4 mt-4"},UG={class:"flex justify-between items-center mb-3"},BG=C("span",{class:"text-gray-900 text-base font-medium"},"Tekrarla",-1),jG={class:"inline-flex items-center cursor-pointer"},qG=C("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),HG=C("div",{class:"flex items-center"},[C("p",{class:"text-sm text-gray-500 font-normal"}," Eğer seçiliyse, bu tarih ve saat aralığı haftalık olarak tekrarlanacaktır. ")],-1),zG=C("div",{class:"col-span-2"},[C("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),KG={__name:"WorkingHoursExceptionModal",emits:["close","save-exception"],setup(t,{emit:e}){const n=he(new Date),r=he("12:00"),i=he("13:00"),o=he(!1),s=e,a=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],l=()=>{const u={date:n.value?Kr(new Date(n.value),"yyyy-MM-dd"):"",startTime:r.value,endTime:i.value,repeat:o.value,isMeeting:!1};s("save-exception",u),s("close")};return(f,u)=>(ie(),ue(Pe,null,[bG,C("div",wG,[C("div",EG,[C("div",TG,[C("div",AG,[kG,C("button",{onClick:u[0]||(u[0]=c=>f.$emit("close")),type:"button",class:"text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},SG)]),C("form",{onSubmit:Pr(l,["prevent"]),class:"p-4"},[C("div",RG,[C("div",OG,[PG,qe(le(qu),{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=c=>n.value=c),name:"date",class:"form-input","enable-time-picker":!1,required:""},null,8,["modelValue"])]),C("div",CG,[DG,Et(C("select",{"onUpdate:modelValue":u[2]||(u[2]=c=>r.value=c),required:"",id:"start-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),ue(Pe,null,Xe(a,c=>C("option",{key:c,value:c},Ie(c),9,MG)),64))],512),[[Po,r.value]])]),C("div",NG,[LG,Et(C("select",{"onUpdate:modelValue":u[3]||(u[3]=c=>i.value=c),required:"",id:"end-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),ue(Pe,null,Xe(a,c=>C("option",{key:c,value:c},Ie(c),9,$G)),64))],512),[[Po,i.value]])])]),C("div",VG,[C("div",FG,[C("div",UG,[BG,C("label",jG,[Et(C("input",{"onUpdate:modelValue":u[4]||(u[4]=c=>o.value=c),type:"checkbox",class:"sr-only peer"},null,512),[[la,o.value]]),qG])]),HG])]),zG],32)])])])],64))}},Dy=t=>(Yd("data-v-2eae121c"),t=t(),Gd(),t),WG={key:0,class:"mb-4 mt-4"},YG={class:"flex justify-between items-center"},GG={class:"text-sm font-medium text-gray-900 dark:text-white"},QG={class:"text-sm text-gray-600 dark:text-gray-300"},XG={class:"text-sm text-gray-600 dark:text-gray-300"},JG={key:0,class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 rounded-lg focus:outline-none"},ZG=Dy(()=>C("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M6 4H21C21.5523 4 22 4.44772 22 5V12H20V6H6V9L1 5L6 1V4ZM18 20H3C2.44772 20 2 19.5523 2 19V12H4V18H18V15L23 19L18 23V20Z"})],-1)),eQ=[ZG],tQ=["onClick"],nQ=Dy(()=>C("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[C("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1)),rQ=[nQ],iQ=Dy(()=>C("svg",{class:"w-4 h-4 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1)),oQ={__name:"WorkingHoursExceptioner",props:{exceptions:Array},emits:["add-exception","remove-exception"],setup(t,{emit:e}){const n=he(!1),r=e,i=s=>{r("add-exception",s)},o=s=>{r("remove-exception",s)};return(s,a)=>(ie(),ue(Pe,null,[t.exceptions.length?(ie(),ue("div",WG,[(ie(!0),ue(Pe,null,Xe(t.exceptions,(l,f)=>(ie(),ue("div",{key:f,class:"p-4 mb-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},[C("div",YG,[C("div",null,[C("p",GG," Tarih: "+Ie(l.date),1),C("p",QG," Başlangıç: "+Ie(l.startTime),1),C("p",XG," Bitiş: "+Ie(l.endTime),1)]),C("div",null,[l.repeat?(ie(),ue("button",JG,eQ)):ye("",!0),C("button",{onClick:u=>o(f),class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 rounded-lg focus:outline-none"},rQ,8,tQ)])])]))),128))])):ye("",!0),C("button",{onClick:a[0]||(a[0]=l=>n.value=!0),type:"button",class:"inline-flex items-center justify-center w-full py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[iQ,hn(" Ekle ")]),n.value?(ie(),Ue(KG,{key:1,onClose:a[1]||(a[1]=l=>n.value=!1),onSaveException:i})):ye("",!0)],64))}},sQ=Nr(oQ,[["__scopeId","data-v-2eae121c"]]),aQ={class:"max-w-xl mx-auto bg-white"},lQ={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},uQ={class:"flex justify-between items-center mb-3"},cQ=C("span",{class:"text-gray-900 text-base font-medium"},"Çalışma Saatleri",-1),dQ={class:"inline-flex items-center cursor-pointer"},fQ=C("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),hQ=C("span",{class:"sr-only"},"Çalışma Saatleri",-1),pQ=C("div",{class:"flex items-center"},[C("p",{class:"text-sm text-gray-500 font-normal"}," Tüm haftalık çalışma günleri için iş çalışma saatlerini etkinleştir veya devre dışı bırak ")],-1),mQ={class:"flex items-center justify-between"},gQ={class:"flex items-center"},vQ={class:"inline-flex items-center cursor-pointer"},yQ=["onUpdate:modelValue","id"],_Q=C("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),bQ=C("span",{class:"sr-only"},"Çalışma Saatleri",-1),wQ=["for"],EQ=["onClick"],TQ={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},AQ=["d"],kQ={key:0,class:"mt-4"},xQ=["onUpdate:modelValue"],IQ=["value"],SQ=C("span",null,"-",-1),RQ=["onUpdate:modelValue"],OQ=["value"],PQ={key:0,class:"flex items-center"},CQ=["onClick"],DQ=C("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),MQ=[DQ],NQ=["disabled","onClick"],LQ=C("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[C("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),$Q=[LQ],VQ=["onClick"],FQ=C("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[C("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),UQ=[FQ],BQ=C("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ",-1),jQ={__name:"WorkingHoursScheduler",props:{schedule:Object},emits:["save-schedule"],setup(t,{emit:e}){const n=t,r=e,i=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],o=Dr(Array(5).fill(!0));n.schedule.days.forEach((c,d)=>{rn(()=>c.enabled,h=>{h||(o[d]=!0)})});const s=c=>{o[c]=!o[c]},a=c=>{n.schedule.days[c].intervals.push({start:"09:00",end:"17:00"})},l=(c,d)=>{n.schedule.days[c].intervals.splice(d,1)};function f(c){const[d,h]=c.split(":").map(Number);return d*60+h}const u=()=>{const c={isWorkingHoursEnabled:n.schedule.isWorkingHoursEnabled,days:n.schedule.days.map(d=>({name:d.name,enabled:d.enabled,intervals:d.intervals.map(h=>{const p=f(h.start),y=(f(h.end)-p)/60;return{start:h.start,end:h.end,length:y}})}))};r("save-schedule",c)};return(c,d)=>(ie(),ue("div",aQ,[C("form",{onSubmit:Pr(u,["prevent"])},[C("div",lQ,[C("div",uQ,[cQ,C("label",dQ,[Et(C("input",{"onUpdate:modelValue":d[0]||(d[0]=h=>n.schedule.isWorkingHoursEnabled=h),type:"checkbox",class:"sr-only peer"},null,512),[[la,n.schedule.isWorkingHoursEnabled]]),fQ,hQ])]),pQ]),(ie(!0),ue(Pe,null,Xe(t.schedule.days,(h,p)=>(ie(),ue("div",{key:p,class:Ge(["border rounded-lg p-4 mb-4",{"border-gray-300":h.enabled,"opacity-50":!h.enabled}])},[C("div",mQ,[C("div",gQ,[C("label",vQ,[Et(C("input",{"onUpdate:modelValue":m=>h.enabled=m,type:"checkbox",id:`toggle-${h.name}`,class:"sr-only peer"},null,8,yQ),[[la,h.enabled]]),_Q,bQ]),C("label",{for:`toggle-${h.name}`,class:"ml-2 p-1.5 text-sm font-medium text-gray-900"},Ie(h.name),9,wQ)]),h.enabled?(ie(),ue("div",{key:0,onClick:m=>s(p),class:"text-gray-500 p-1.5 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},[(ie(),ue("svg",TQ,[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o[p]?"M19 9l-7 7-7-7":"M19 15l-7-7-7 7"},null,8,AQ)]))],8,EQ)):ye("",!0)]),o[p]?ye("",!0):(ie(),ue("div",kQ,[(ie(!0),ue(Pe,null,Xe(h.intervals,(m,y)=>(ie(),ue("div",{key:y,class:"flex items-center mb-2"},[Et(C("select",{"onUpdate:modelValue":v=>m.start=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),ue(Pe,null,Xe(i,v=>C("option",{key:v,value:v},Ie(v),9,IQ)),64))],8,xQ),[[Po,m.start]]),SQ,Et(C("select",{"onUpdate:modelValue":v=>m.end=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 ml-2"},[(ie(),ue(Pe,null,Xe(i,v=>C("option",{key:v,value:v},Ie(v),9,OQ)),64))],8,RQ),[[Po,m.end]]),y===h.intervals.length-1?(ie(),ue("div",PQ,[C("button",{onClick:v=>a(p),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},MQ,8,CQ),C("button",{disabled:h.intervals.length===1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},$Q,8,NQ)])):(ie(),ue("button",{key:1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 mr-10 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},UQ,8,VQ))]))),128))]))],2))),128)),BQ],32)]))}},qQ={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},HQ={class:"bg-white rounded-lg p-6 shadow-lg w-[32rem]"},zQ={class:"flex items-center justify-between"},KQ=C("div",{class:"flex items-center"},[C("svg",{class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),C("h3",{class:"text-lg font-semibold text-gray-900 ml-2"},"Başarıyla Kaydedildi")],-1),WQ={class:"pl-4"},YQ=C("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[C("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),GQ=C("span",{class:"sr-only"},"Close modal",-1),QQ=[YQ,GQ],XQ={class:"mt-4 text-gray-700"},Tb={__name:"SuccessModal",props:{contentText:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ie(),ue("div",qQ,[C("div",HQ,[C("div",zQ,[KQ,C("div",WQ,[C("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},QQ)])]),C("p",XQ,Ie(t.contentText),1),C("button",{onClick:r[1]||(r[1]=i=>n.$emit("close")),class:"mt-6 bg-green-500 text-white px-4 py-2 rounded-lg w-full"}," OK ")])]))}},JQ={key:0},ZQ={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},eX={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},tX=C("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[C("span",{class:"mb-2"},"Periyodik Çalışma Saatlerini Seç")],-1),nX={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},rX=C("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[C("span",{class:"mb-2"},"İstisnai Çalışma Saatleri")],-1),iX={key:1},oX={__name:"AppointmentSettings",setup(t){const e=Vo(),n=he(!1),r=he(!1),i=ge(()=>e.getters.userRole),o=ge(()=>e.getters.user?e.getters.user.uid:null);he([]);const s=zf(yr,"attorneys"),a=he([]),l=he([{duration:"",price:"",type:""}]),f=he({isWorkingHoursEnabled:!0,days:[{name:"Pazartesi",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Salı",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Çarşamba",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Perşembe",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Cuma",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]}]}),u=g=>{a.value.push(g),p(g),console.log("Saved Exception:",a.value)},c=g=>{a.value.splice(g,1),m(g)},d=g=>{f.value=g,y(g),console.log("Saved Schedule:",f.value),n.value=!0},h=g=>{l.value=g,v(),console.log("Saved Appointment Settings:",l.value),r.value=!0};async function p(g){try{const w=tr(s,o.value);await Vi(w,{exceptions:_6(g)}),console.log("Exception added successfully")}catch(w){console.error("Error adding exception:",w)}}async function m(g){try{const w=tr(s,o.value),k=[...a.value];k.splice(g,1),await Vi(w,{exceptions:k}),a.value=k,console.log("Exception removed successfully")}catch(w){console.error("Error removing exception:",w)}}async function y(g){try{const w=tr(s,o.value);await Vi(w,{schedule:g}),console.log("Schedule updated successfully")}catch(w){console.error("Error updating schedule:",w)}}async function v(){try{const g=tr(s,o.value);await Vi(g,{appointment_settings:l.value}),console.log("Appointment settings updated successfully")}catch(g){console.error("Error updating appointment settings:",g)}}async function _(){try{const g=await b(o.value);if(g.schedule&&(f.value=g.schedule),g.exceptions)for(let w of g.exceptions)w.isMeeting||a.value.push(w);g.appointment_settings&&(l.value=g.appointment_settings),console.log("Schedule and exceptions fetched successfully")}catch(g){console.error("Error fetching schedule and exceptions:",g)}}async function b(g){const w=tr(s,g),k=await ks(w);if(k.exists())return{id:k.id,...k.data()};throw new Error("Attorney not found")}return yt(()=>{_()}),(g,w)=>i.value==="attorney"?(ie(),ue("div",JQ,[n.value?(ie(),Ue(Tb,{key:0,contentText:"Haftalık çalışma saatleri değişikliği başarıyla kaydedildi. Bu randevu saatleri her hafta için tekrarlanarak uygulanacaktır.",onClose:w[0]||(w[0]=k=>n.value=!1)})):ye("",!0),r.value?(ie(),Ue(Tb,{key:1,contentText:"Randevu seçenek ayarlarınız başarıyla kaydedildi.",onClose:w[1]||(w[1]=k=>r.value=!1)})):ye("",!0),C("div",ZQ,[C("div",eX,[tX,qe(jQ,{schedule:f.value,onSaveSchedule:d},null,8,["schedule"])]),C("div",nX,[rX,qe(sQ,{exceptions:a.value,onAddException:u,onRemoveException:c},null,8,["exceptions"])])]),qe(a2,{appointmentSettings:l.value,onSaveAppointmentSettings:h},null,8,["appointmentSettings"])])):(ie(),ue("div",iX,"admin"))}},sX={},aX=C("div",null," bildirimler ",-1),lX=[aX];function uX(t,e){return ie(),ue("div",null,lX)}const cX=Nr(sX,[["render",uX]]),dX=[{path:"/",name:"LoginPage",component:Y$},{path:"/unauthorized",name:"Unauthorized",component:_G},{path:"/:pathMatch(.*)*",name:"NotFound",component:hG},{path:"/",component:CV,meta:{requiresAuth:!0},children:[{path:"home",name:"Home",component:S1,meta:{requiresAuth:!0}},{path:"home/:uid",name:"HomeWithUID",component:S1,meta:{requiresAuth:!0}},{path:"online-meetings",name:"OnlineMeetings",component:fb,meta:{requiresAuth:!0,role:"admin"}},{path:"online-meetings/:uid",name:"OnlineMeetingsWithUID",component:fb,meta:{requiresAuth:!0}},{path:"blogs",name:"Blogs",component:iG,meta:{requiresAuth:!0,role:"admin"}},{path:"lawyers",name:"Lawyers",component:oG,meta:{requiresAuth:!0,role:"admin"}},{path:"notifications",name:"Notifications",component:cX,meta:{requiresAuth:!0,role:"admin"}},{path:"settings",name:"Settings",component:Eb,meta:{requiresAuth:!0}},{path:"settings/:uid",name:"SettingsWithUID",component:Eb,meta:{requiresAuth:!0}},{path:"appointment-settings/:uid",name:"AppointmentSettingsWithUID",component:oX,meta:{requiresAuth:!0}}]}],Wx=DO({history:lO(),routes:dX,linkActiveClass:"bg-gray-950 text-white"});Wx.beforeEach(async(t,e,n)=>{if(await zc.dispatch("initializeAuth"),t.meta.requiresAuth&&!zc.getters.isAuthenticated)n("/");else if(t.meta.requiresAuth){const r=zc.getters.userRole;t.meta.role&&t.meta.role!==r?n(r==="attorney"?"/home":"/unauthorized"):n()}else n()});const fX={};function hX(t,e){const n=Ig("router-view");return ie(),Ue(n)}const pX=Nr(fX,[["render",hX]]);wR(pX).use(Wx).use(zc).component("VueDatePicker",qu).mount("#app");
