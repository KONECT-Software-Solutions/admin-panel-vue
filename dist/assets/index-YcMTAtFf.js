var gk=Object.defineProperty;var vk=(t,e,n)=>e in t?gk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>(vk(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nm(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Et={},Ms=[],pr=()=>{},yk=()=>!1,rd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),rm=t=>t.startsWith("onUpdate:"),Gt=Object.assign,im=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_k=Object.prototype.hasOwnProperty,lt=(t,e)=>_k.call(t,e),Be=Array.isArray,Ls=t=>Yl(t)==="[object Map]",da=t=>Yl(t)==="[object Set]",mv=t=>Yl(t)==="[object Date]",Ge=t=>typeof t=="function",Pt=t=>typeof t=="string",Si=t=>typeof t=="symbol",_t=t=>t!==null&&typeof t=="object",N0=t=>(_t(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),M0=Object.prototype.toString,Yl=t=>M0.call(t),bk=t=>Yl(t).slice(8,-1),L0=t=>Yl(t)==="[object Object]",om=t=>Pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ga=nm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),id=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},wk=/-(\w)/g,si=id(t=>t.replace(wk,(e,n)=>n?n.toUpperCase():"")),Tk=/\B([A-Z])/g,os=id(t=>t.replace(Tk,"-$1").toLowerCase()),od=id(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zf=id(t=>t?`on${od(t)}`:""),fo=(t,e)=>!Object.is(t,e),rc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},V0=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},yc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ek=t=>{const e=Pt(t)?Number(t):NaN;return isNaN(e)?t:e};let gv;const $0=()=>gv||(gv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function en(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Pt(r)?xk(r):en(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Pt(t)||_t(t))return t}const Ak=/;(?![^(]*\))/g,kk=/:([^]+)/,Ik=/\/\*[^]*?\*\//g;function xk(t){const e={};return t.replace(Ik,"").split(Ak).forEach(n=>{if(n){const r=n.split(kk);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Xe(t){let e="";if(Pt(t))e=t;else if(Be(t))for(let n=0;n<t.length;n++){const r=Xe(t[n]);r&&(e+=r+" ")}else if(_t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function an(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Pt(e)&&(t.class=Xe(e)),n&&(t.style=en(n)),t}const Sk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Rk=nm(Sk);function F0(t){return!!t||t===""}function Ok(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Wl(t[r],e[r]);return n}function Wl(t,e){if(t===e)return!0;let n=mv(t),r=mv(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Si(t),r=Si(e),n||r)return t===e;if(n=Be(t),r=Be(e),n||r)return n&&r?Ok(t,e):!1;if(n=_t(t),r=_t(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!Wl(t[s],e[s]))return!1}}return String(t)===String(e)}function sm(t,e){return t.findIndex(n=>Wl(n,e))}const Ce=t=>Pt(t)?t:t==null?"":Be(t)||_t(t)&&(t.toString===M0||!Ge(t.toString))?JSON.stringify(t,B0,2):String(t),B0=(t,e)=>e&&e.__v_isRef?B0(t,e.value):Ls(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[eh(r,o)+" =>"]=i,n),{})}:da(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>eh(n))}:Si(e)?eh(e):_t(e)&&!Be(e)&&!L0(e)?String(e):e,eh=(t,e="")=>{var n;return Si(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ir;class j0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ir,!e&&ir&&(this.index=(ir.scopes||(ir.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ir;try{return ir=this,e()}finally{ir=n}}}on(){ir=this}off(){ir=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Pk(t){return new j0(t)}function Ck(t,e=ir){e&&e.active&&e.effects.push(t)}function U0(){return ir}function Dk(t){ir&&ir.cleanups.push(t)}let zo;class am{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ck(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,_o();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Nk(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),bo()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ro,n=zo;try{return ro=!0,zo=this,this._runnings++,vv(this),this.fn()}finally{yv(this),this._runnings--,zo=n,ro=e}}stop(){var e;this.active&&(vv(this),yv(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Nk(t){return t.value}function vv(t){t._trackId++,t._depsLength=0}function yv(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)q0(t.deps[e],t);t.deps.length=t._depsLength}}function q0(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ro=!0,Xh=0;const H0=[];function _o(){H0.push(ro),ro=!1}function bo(){const t=H0.pop();ro=t===void 0?!0:t}function lm(){Xh++}function um(){for(Xh--;!Xh&&Jh.length;)Jh.shift()()}function z0(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&q0(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Jh=[];function K0(t,e,n){lm();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Jh.push(r.scheduler)))}um()}const Y0=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},_c=new WeakMap,Ko=Symbol(""),Zh=Symbol("");function er(t,e,n){if(ro&&zo){let r=_c.get(t);r||_c.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Y0(()=>r.delete(n))),z0(zo,i)}}function ki(t,e,n,r,i,o){const s=_c.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&Be(t)){const l=Number(r);s.forEach((u,c)=>{(c==="length"||!Si(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":Be(t)?om(n)&&a.push(s.get("length")):(a.push(s.get(Ko)),Ls(t)&&a.push(s.get(Zh)));break;case"delete":Be(t)||(a.push(s.get(Ko)),Ls(t)&&a.push(s.get(Zh)));break;case"set":Ls(t)&&a.push(s.get(Ko));break}lm();for(const l of a)l&&K0(l,4);um()}function Mk(t,e){var n;return(n=_c.get(t))==null?void 0:n.get(e)}const Lk=nm("__proto__,__v_isRef,__isVue"),W0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Si)),_v=Vk();function Vk(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ct(this);for(let o=0,s=this.length;o<s;o++)er(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ct)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_o(),lm();const r=ct(this)[e].apply(this,n);return um(),bo(),r}}),t}function $k(t){Si(t)||(t=String(t));const e=ct(this);return er(e,"has",t),e.hasOwnProperty(t)}class G0{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?Xk:Z0:o?J0:X0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=Be(e);if(!i){if(s&&lt(_v,n))return Reflect.get(_v,n,r);if(n==="hasOwnProperty")return $k}const a=Reflect.get(e,n,r);return(Si(n)?W0.has(n):Lk(n))||(i||er(e,"get",n),o)?a:ln(a)?s&&om(n)?a:a.value:_t(a)?i?tb(a):vr(a):a}}class Q0 extends G0{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=ml(o);if(!bc(r)&&!ml(r)&&(o=ct(o),r=ct(r)),!Be(e)&&ln(o)&&!ln(r))return l?!1:(o.value=r,!0)}const s=Be(e)&&om(n)?Number(n)<e.length:lt(e,n),a=Reflect.set(e,n,r,i);return e===ct(i)&&(s?fo(r,o)&&ki(e,"set",n,r):ki(e,"add",n,r)),a}deleteProperty(e,n){const r=lt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ki(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Si(n)||!W0.has(n))&&er(e,"has",n),r}ownKeys(e){return er(e,"iterate",Be(e)?"length":Ko),Reflect.ownKeys(e)}}class Fk extends G0{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Bk=new Q0,jk=new Fk,Uk=new Q0(!0);const cm=t=>t,sd=t=>Reflect.getPrototypeOf(t);function Du(t,e,n=!1,r=!1){t=t.__v_raw;const i=ct(t),o=ct(e);n||(fo(e,o)&&er(i,"get",e),er(i,"get",o));const{has:s}=sd(i),a=r?cm:n?hm:gl;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Nu(t,e=!1){const n=this.__v_raw,r=ct(n),i=ct(t);return e||(fo(t,i)&&er(r,"has",t),er(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Mu(t,e=!1){return t=t.__v_raw,!e&&er(ct(t),"iterate",Ko),Reflect.get(t,"size",t)}function bv(t){t=ct(t);const e=ct(this);return sd(e).has.call(e,t)||(e.add(t),ki(e,"add",t,t)),this}function wv(t,e){e=ct(e);const n=ct(this),{has:r,get:i}=sd(n);let o=r.call(n,t);o||(t=ct(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?fo(e,s)&&ki(n,"set",t,e):ki(n,"add",t,e),this}function Tv(t){const e=ct(this),{has:n,get:r}=sd(e);let i=n.call(e,t);i||(t=ct(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ki(e,"delete",t,void 0),o}function Ev(){const t=ct(this),e=t.size!==0,n=t.clear();return e&&ki(t,"clear",void 0,void 0),n}function Lu(t,e){return function(r,i){const o=this,s=o.__v_raw,a=ct(s),l=e?cm:t?hm:gl;return!t&&er(a,"iterate",Ko),s.forEach((u,c)=>r.call(i,l(u),l(c),o))}}function Vu(t,e,n){return function(...r){const i=this.__v_raw,o=ct(i),s=Ls(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...r),c=n?cm:e?hm:gl;return!e&&er(o,"iterate",l?Zh:Ko),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Vi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qk(){const t={get(o){return Du(this,o)},get size(){return Mu(this)},has:Nu,add:bv,set:wv,delete:Tv,clear:Ev,forEach:Lu(!1,!1)},e={get(o){return Du(this,o,!1,!0)},get size(){return Mu(this)},has:Nu,add:bv,set:wv,delete:Tv,clear:Ev,forEach:Lu(!1,!0)},n={get(o){return Du(this,o,!0)},get size(){return Mu(this,!0)},has(o){return Nu.call(this,o,!0)},add:Vi("add"),set:Vi("set"),delete:Vi("delete"),clear:Vi("clear"),forEach:Lu(!0,!1)},r={get(o){return Du(this,o,!0,!0)},get size(){return Mu(this,!0)},has(o){return Nu.call(this,o,!0)},add:Vi("add"),set:Vi("set"),delete:Vi("delete"),clear:Vi("clear"),forEach:Lu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Vu(o,!1,!1),n[o]=Vu(o,!0,!1),e[o]=Vu(o,!1,!0),r[o]=Vu(o,!0,!0)}),[t,n,e,r]}const[Hk,zk,Kk,Yk]=qk();function dm(t,e){const n=e?t?Yk:Kk:t?zk:Hk;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(lt(n,i)&&i in r?n:r,i,o)}const Wk={get:dm(!1,!1)},Gk={get:dm(!1,!0)},Qk={get:dm(!0,!1)};const X0=new WeakMap,J0=new WeakMap,Z0=new WeakMap,Xk=new WeakMap;function Jk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zk(t){return t.__v_skip||!Object.isExtensible(t)?0:Jk(bk(t))}function vr(t){return ml(t)?t:fm(t,!1,Bk,Wk,X0)}function eb(t){return fm(t,!1,Uk,Gk,J0)}function tb(t){return fm(t,!0,jk,Qk,Z0)}function fm(t,e,n,r,i){if(!_t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Zk(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Qa(t){return ml(t)?Qa(t.__v_raw):!!(t&&t.__v_isReactive)}function ml(t){return!!(t&&t.__v_isReadonly)}function bc(t){return!!(t&&t.__v_isShallow)}function nb(t){return t?!!t.__v_raw:!1}function ct(t){const e=t&&t.__v_raw;return e?ct(e):t}function eI(t){return Object.isExtensible(t)&&V0(t,"__v_skip",!0),t}const gl=t=>_t(t)?vr(t):t,hm=t=>_t(t)?tb(t):t;class rb{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new am(()=>e(this._value),()=>ic(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ct(this);return(!e._cacheable||e.effect.dirty)&&fo(e._value,e._value=e.effect.run())&&ic(e,4),ib(e),e.effect._dirtyLevel>=2&&ic(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function tI(t,e,n=!1){let r,i;const o=Ge(t);return o?(r=t,i=pr):(r=t.get,i=t.set),new rb(r,i,o||!i,n)}function ib(t){var e;ro&&zo&&(t=ct(t),z0(zo,(e=t.dep)!=null?e:t.dep=Y0(()=>t.dep=void 0,t instanceof rb?t:void 0)))}function ic(t,e=4,n){t=ct(t);const r=t.dep;r&&K0(r,e)}function ln(t){return!!(t&&t.__v_isRef===!0)}function pe(t){return ob(t,!1)}function nI(t){return ob(t,!0)}function ob(t,e){return ln(t)?t:new rI(t,e)}class rI{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ct(e),this._value=n?e:gl(e)}get value(){return ib(this),this._value}set value(e){const n=this.__v_isShallow||bc(e)||ml(e);e=n?e:ct(e),fo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:gl(e),ic(this,4))}}function ae(t){return ln(t)?t.value:t}const iI={get:(t,e,n)=>ae(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ln(i)&&!ln(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function sb(t){return Qa(t)?t:new Proxy(t,iI)}class oI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Mk(ct(this._object),this._key)}}class sI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function vl(t,e,n){return ln(t)?t:Ge(t)?new sI(t):_t(t)&&arguments.length>1?aI(t,e,n):pe(t)}function aI(t,e,n){const r=t[e];return ln(r)?r:new oI(t,e,n)}/**
* @vue/runtime-core v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function io(t,e,n,r){try{return r?t(...r):t()}catch(i){ad(i,e,n)}}function mr(t,e,n,r){if(Ge(t)){const i=io(t,e,n,r);return i&&N0(i)&&i.catch(o=>{ad(o,e,n)}),i}if(Be(t)){const i=[];for(let o=0;o<t.length;o++)i.push(mr(t[o],e,n,r));return i}}function ad(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){_o(),io(l,null,10,[t,s,a]),bo();return}}lI(t,n,i,r)}function lI(t,e,n,r=!0){console.error(t)}let yl=!1,ep=!1;const Cn=[];let zr=0;const Vs=[];let Hi=null,Vo=0;const ab=Promise.resolve();let pm=null;function wn(t){const e=pm||ab;return t?e.then(this?t.bind(this):t):e}function uI(t){let e=zr+1,n=Cn.length;for(;e<n;){const r=e+n>>>1,i=Cn[r],o=_l(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function mm(t){(!Cn.length||!Cn.includes(t,yl&&t.allowRecurse?zr+1:zr))&&(t.id==null?Cn.push(t):Cn.splice(uI(t.id),0,t),lb())}function lb(){!yl&&!ep&&(ep=!0,pm=ab.then(cb))}function cI(t){const e=Cn.indexOf(t);e>zr&&Cn.splice(e,1)}function dI(t){Be(t)?Vs.push(...t):(!Hi||!Hi.includes(t,t.allowRecurse?Vo+1:Vo))&&Vs.push(t),lb()}function Av(t,e,n=yl?zr+1:0){for(;n<Cn.length;n++){const r=Cn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Cn.splice(n,1),n--,r()}}}function ub(t){if(Vs.length){const e=[...new Set(Vs)].sort((n,r)=>_l(n)-_l(r));if(Vs.length=0,Hi){Hi.push(...e);return}for(Hi=e,Vo=0;Vo<Hi.length;Vo++)Hi[Vo]();Hi=null,Vo=0}}const _l=t=>t.id==null?1/0:t.id,fI=(t,e)=>{const n=_l(t)-_l(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function cb(t){ep=!1,yl=!0,Cn.sort(fI);try{for(zr=0;zr<Cn.length;zr++){const e=Cn[zr];e&&e.active!==!1&&io(e,null,14)}}finally{zr=0,Cn.length=0,ub(),yl=!1,pm=null,(Cn.length||Vs.length)&&cb()}}function hI(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Et;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=r[c]||Et;f&&(i=n.map(h=>Pt(h)?h.trim():h)),d&&(i=n.map(yc))}let a,l=r[a=Zf(e)]||r[a=Zf(si(e))];!l&&o&&(l=r[a=Zf(os(e))]),l&&mr(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,mr(u,t,6,i)}}function db(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Ge(t)){const l=u=>{const c=db(u,e,!0);c&&(a=!0,Gt(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(_t(t)&&r.set(t,null),null):(Be(o)?o.forEach(l=>s[l]=null):Gt(s,o),_t(t)&&r.set(t,s),s)}function ld(t,e){return!t||!rd(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,os(e))||lt(t,e))}let tn=null,ud=null;function wc(t){const e=tn;return tn=t,ud=t&&t.type.__scopeId||null,e}function gm(t){ud=t}function vm(){ud=null}function He(t,e=tn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&$v(-1);const o=wc(e);let s;try{s=t(...i)}finally{wc(o),r._d&&$v(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function th(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:m,inheritAttrs:p}=t,_=wc(t);let y,v;try{if(n.shapeFlag&4){const g=i||r,T=g;y=Hr(u.call(T,g,c,d,h,f,m)),v=a}else{const g=e;y=Hr(g.length>1?g(d,{attrs:a,slots:s,emit:l}):g(d,null)),v=e.props?a:pI(a)}}catch(g){tl.length=0,ad(g,t,1),y=Ye(gr)}let b=y;if(v&&p!==!1){const g=Object.keys(v),{shapeFlag:T}=b;g.length&&T&7&&(o&&g.some(rm)&&(v=mI(v,o)),b=ho(b,v))}return n.dirs&&(b=ho(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),y=b,wc(_),y}const pI=t=>{let e;for(const n in t)(n==="class"||n==="style"||rd(n))&&((e||(e={}))[n]=t[n]);return e},mI=(t,e)=>{const n={};for(const r in t)(!rm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function gI(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?kv(r,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(s[f]!==r[f]&&!ld(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?kv(r,s,u):!0:!!s;return!1}function kv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!ld(n,o))return!0}return!1}function vI({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const fb="components";function ym(t,e){return pb(fb,t,!0,e)||t}const hb=Symbol.for("v-ndc");function cd(t){return Pt(t)?pb(fb,t,!1)||t:t||hb}function pb(t,e,n=!0,r=!1){const i=tn||gn;if(i){const o=i.type;{const a=cx(o,!1);if(a&&(a===e||a===si(e)||a===od(si(e))))return o}const s=Iv(i[t]||o[t],e)||Iv(i.appContext[t],e);return!s&&r?o:s}}function Iv(t,e){return t&&(t[e]||t[si(e)]||t[od(si(e))])}const yI=t=>t.__isSuspense;function _I(t,e){e&&e.pendingBranch?Be(t)?e.effects.push(...t):e.effects.push(t):dI(t)}const bI=Symbol.for("v-scx"),wI=()=>Sr(bI),$u={};function Wt(t,e,n){return mb(t,e,n)}function mb(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:a}=Et){if(e&&o){const O=e;e=(...A)=>{O(...A),T()}}const l=gn,u=O=>r===!0?O:Fo(O,r===!1?1:void 0);let c,d=!1,f=!1;if(ln(t)?(c=()=>t.value,d=bc(t)):Qa(t)?(c=()=>u(t),d=!0):Be(t)?(f=!0,d=t.some(O=>Qa(O)||bc(O)),c=()=>t.map(O=>{if(ln(O))return O.value;if(Qa(O))return u(O);if(Ge(O))return io(O,l,2)})):Ge(t)?e?c=()=>io(t,l,2):c=()=>(h&&h(),mr(t,l,3,[m])):c=pr,e&&r){const O=c;c=()=>Fo(O())}let h,m=O=>{h=b.onStop=()=>{io(O,l,4),h=b.onStop=void 0}},p;if(pd)if(m=pr,e?n&&mr(e,l,3,[c(),f?[]:void 0,m]):c(),i==="sync"){const O=wI();p=O.__watcherHandles||(O.__watcherHandles=[])}else return pr;let _=f?new Array(t.length).fill($u):$u;const y=()=>{if(!(!b.active||!b.dirty))if(e){const O=b.run();(r||d||(f?O.some((A,I)=>fo(A,_[I])):fo(O,_)))&&(h&&h(),mr(e,l,3,[O,_===$u?void 0:f&&_[0]===$u?[]:_,m]),_=O)}else b.run()};y.allowRecurse=!!e;let v;i==="sync"?v=y:i==="post"?v=()=>Gn(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),v=()=>mm(y));const b=new am(c,pr,v),g=U0(),T=()=>{b.stop(),g&&im(g.effects,b)};return e?n?y():_=b.run():i==="post"?Gn(b.run.bind(b),l&&l.suspense):b.run(),p&&p.push(T),T}function TI(t,e,n){const r=this.proxy,i=Pt(t)?t.includes(".")?gb(r,t):()=>r[t]:t.bind(r,r);let o;Ge(e)?o=e:(o=e.handler,n=e);const s=Ql(this),a=mb(i,o.bind(r),n);return s(),a}function gb(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Fo(t,e,n=0,r){if(!_t(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),ln(t))Fo(t.value,e,n,r);else if(Be(t))for(let i=0;i<t.length;i++)Fo(t[i],e,n,r);else if(da(t)||Ls(t))t.forEach(i=>{Fo(i,e,n,r)});else if(L0(t))for(const i in t)Fo(t[i],e,n,r);return t}function Ot(t,e){if(tn===null)return t;const n=md(tn)||tn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=Et]=e[i];o&&(Ge(o)&&(o={mounted:o,updated:o}),o.deep&&Fo(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Oo(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(_o(),mr(l,n,8,[t.el,a,t,e]),bo())}}const zi=Symbol("_leaveCb"),Fu=Symbol("_enterCb");function EI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xt(()=>{t.isMounted=!0}),_m(()=>{t.isUnmounting=!0}),t}const fr=[Function,Array],vb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fr,onEnter:fr,onAfterEnter:fr,onEnterCancelled:fr,onBeforeLeave:fr,onLeave:fr,onAfterLeave:fr,onLeaveCancelled:fr,onBeforeAppear:fr,onAppear:fr,onAfterAppear:fr,onAppearCancelled:fr},AI={name:"BaseTransition",props:vb,setup(t,{slots:e}){const n=$b(),r=EI();return()=>{const i=e.default&&_b(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const f of i)if(f.type!==gr){o=f;break}}const s=ct(t),{mode:a}=s;if(r.isLeaving)return nh(o);const l=xv(o);if(!l)return nh(o);const u=tp(l,s,r,n);np(l,u);const c=n.subTree,d=c&&xv(c);if(d&&d.type!==gr&&!$o(l,d)){const f=tp(d,s,r,n);if(np(d,f),a==="out-in")return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},nh(o);a==="in-out"&&l.type!==gr&&(f.delayLeave=(h,m,p)=>{const _=yb(r,d);_[String(d.key)]=d,h[zi]=()=>{m(),h[zi]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return o}}},kI=AI;function yb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function tp(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:p,onAppear:_,onAfterAppear:y,onAppearCancelled:v}=e,b=String(t.key),g=yb(n,t),T=(I,N)=>{I&&mr(I,r,9,N)},O=(I,N)=>{const S=N[1];T(I,N),Be(I)?I.every(E=>E.length<=1)&&S():I.length<=1&&S()},A={mode:o,persisted:s,beforeEnter(I){let N=a;if(!n.isMounted)if(i)N=p||a;else return;I[zi]&&I[zi](!0);const S=g[b];S&&$o(t,S)&&S.el[zi]&&S.el[zi](),T(N,[I])},enter(I){let N=l,S=u,E=c;if(!n.isMounted)if(i)N=_||l,S=y||u,E=v||c;else return;let w=!1;const R=I[Fu]=F=>{w||(w=!0,F?T(E,[I]):T(S,[I]),A.delayedLeave&&A.delayedLeave(),I[Fu]=void 0)};N?O(N,[I,R]):R()},leave(I,N){const S=String(t.key);if(I[Fu]&&I[Fu](!0),n.isUnmounting)return N();T(d,[I]);let E=!1;const w=I[zi]=R=>{E||(E=!0,N(),R?T(m,[I]):T(h,[I]),I[zi]=void 0,g[S]===t&&delete g[S])};g[S]=t,f?O(f,[I,w]):w()},clone(I){return tp(I,e,n,r)}};return A}function nh(t){if(dd(t))return t=ho(t),t.children=null,t}function xv(t){if(!dd(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ge(n.default))return n.default()}}function np(t,e){t.shapeFlag&6&&t.component?np(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _b(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Pe?(s.patchFlag&128&&i++,r=r.concat(_b(s.children,e,a))):(e||s.type!==gr)&&r.push(a!=null?ho(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Qt(t,e){return Ge(t)?Gt({name:t.name},e,{setup:t}):t}const Xa=t=>!!t.type.__asyncLoader,dd=t=>t.type.__isKeepAlive;function II(t,e){bb(t,"a",e)}function xI(t,e){bb(t,"da",e)}function bb(t,e,n=gn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(fd(e,r,n),n){let i=n.parent;for(;i&&i.parent;)dd(i.parent.vnode)&&SI(r,e,n,i),i=i.parent}}function SI(t,e,n,r){const i=fd(e,t,r,!0);fa(()=>{im(r[e],i)},n)}function fd(t,e,n=gn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;_o();const a=Ql(n),l=mr(e,n,t,s);return a(),bo(),l});return r?i.unshift(o):i.push(o),o}}const Ni=t=>(e,n=gn)=>(!pd||t==="sp")&&fd(t,(...r)=>e(...r),n),RI=Ni("bm"),xt=Ni("m"),wb=Ni("bu"),Tb=Ni("u"),_m=Ni("bum"),fa=Ni("um"),OI=Ni("sp"),PI=Ni("rtg"),CI=Ni("rtc");function DI(t,e=gn){fd("ec",t,e)}function et(t,e,n,r){let i;const o=n;if(Be(t)||Pt(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o)}else if(_t(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=e(t[u],u,a,o)}}else i=[];return i}function Dn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Be(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Oe(t,e,n={},r,i){if(tn.isCE||tn.parent&&Xa(tn.parent)&&tn.parent.isCE)return e!=="default"&&(n.name=e),Ye("slot",n,r);let o=t[e];o&&o._c&&(o._d=!1),ie();const s=o&&Eb(o(n)),a=ze(Pe,{key:n.key||s&&s.key||`_${e}`},s||[],s&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Eb(t){return t.some(e=>Ec(e)?!(e.type===gr||e.type===Pe&&!Eb(e.children)):!0)?t:null}const rp=t=>t?Fb(t)?md(t)||t.proxy:rp(t.parent):null,Ja=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rp(t.parent),$root:t=>rp(t.root),$emit:t=>t.emit,$options:t=>bm(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,mm(t.update)}),$nextTick:t=>t.n||(t.n=wn.bind(t.proxy)),$watch:t=>TI.bind(t)}),rh=(t,e)=>t!==Et&&!t.__isScriptSetup&&lt(t,e),NI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(rh(r,e))return s[e]=1,r[e];if(i!==Et&&lt(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&lt(u,e))return s[e]=3,o[e];if(n!==Et&&lt(n,e))return s[e]=4,n[e];ip&&(s[e]=0)}}const c=Ja[e];let d,f;if(c)return e==="$attrs"&&er(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Et&&lt(n,e))return s[e]=4,n[e];if(f=l.config.globalProperties,lt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return rh(i,e)?(i[e]=n,!0):r!==Et&&lt(r,e)?(r[e]=n,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==Et&&lt(t,s)||rh(e,s)||(a=o[0])&&lt(a,s)||lt(r,s)||lt(Ja,s)||lt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ss(){return MI().slots}function MI(){const t=$b();return t.setupContext||(t.setupContext=jb(t))}function Sv(t){return Be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ip=!0;function LI(t){const e=bm(t),n=t.proxy,r=t.ctx;ip=!1,e.beforeCreate&&Rv(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:p,deactivated:_,beforeDestroy:y,beforeUnmount:v,destroyed:b,unmounted:g,render:T,renderTracked:O,renderTriggered:A,errorCaptured:I,serverPrefetch:N,expose:S,inheritAttrs:E,components:w,directives:R,filters:F}=e;if(u&&VI(u,r,null),s)for(const V in s){const ee=s[V];Ge(ee)&&(r[V]=ee.bind(n))}if(i){const V=i.call(n,n);_t(V)&&(t.data=vr(V))}if(ip=!0,o)for(const V in o){const ee=o[V],W=Ge(ee)?ee.bind(n,n):Ge(ee.get)?ee.get.bind(n,n):pr,U=!Ge(ee)&&Ge(ee.set)?ee.set.bind(n):pr,C=me({get:W,set:U});Object.defineProperty(r,V,{enumerable:!0,configurable:!0,get:()=>C.value,set:L=>C.value=L})}if(a)for(const V in a)Ab(a[V],r,n,V);if(l){const V=Ge(l)?l.call(n):l;Reflect.ownKeys(V).forEach(ee=>{oc(ee,V[ee])})}c&&Rv(c,t,"c");function B(V,ee){Be(ee)?ee.forEach(W=>V(W.bind(n))):ee&&V(ee.bind(n))}if(B(RI,d),B(xt,f),B(wb,h),B(Tb,m),B(II,p),B(xI,_),B(DI,I),B(CI,O),B(PI,A),B(_m,v),B(fa,g),B(OI,N),Be(S))if(S.length){const V=t.exposed||(t.exposed={});S.forEach(ee=>{Object.defineProperty(V,ee,{get:()=>n[ee],set:W=>n[ee]=W})})}else t.exposed||(t.exposed={});T&&t.render===pr&&(t.render=T),E!=null&&(t.inheritAttrs=E),w&&(t.components=w),R&&(t.directives=R)}function VI(t,e,n=pr){Be(t)&&(t=op(t));for(const r in t){const i=t[r];let o;_t(i)?"default"in i?o=Sr(i.from||r,i.default,!0):o=Sr(i.from||r):o=Sr(i),ln(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function Rv(t,e,n){mr(Be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ab(t,e,n,r){const i=r.includes(".")?gb(n,r):()=>n[r];if(Pt(t)){const o=e[t];Ge(o)&&Wt(i,o)}else if(Ge(t))Wt(i,t.bind(n));else if(_t(t))if(Be(t))t.forEach(o=>Ab(o,e,n,r));else{const o=Ge(t.handler)?t.handler.bind(n):e[t.handler];Ge(o)&&Wt(i,o,t)}}function bm(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Tc(l,u,s,!0)),Tc(l,e,s)),_t(e)&&o.set(e,l),l}function Tc(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Tc(t,o,n,!0),i&&i.forEach(s=>Tc(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=$I[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const $I={data:Ov,props:Pv,emits:Pv,methods:ja,computed:ja,beforeCreate:jn,created:jn,beforeMount:jn,mounted:jn,beforeUpdate:jn,updated:jn,beforeDestroy:jn,beforeUnmount:jn,destroyed:jn,unmounted:jn,activated:jn,deactivated:jn,errorCaptured:jn,serverPrefetch:jn,components:ja,directives:ja,watch:BI,provide:Ov,inject:FI};function Ov(t,e){return e?t?function(){return Gt(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function FI(t,e){return ja(op(t),op(e))}function op(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function jn(t,e){return t?[...new Set([].concat(t,e))]:e}function ja(t,e){return t?Gt(Object.create(null),t,e):e}function Pv(t,e){return t?Be(t)&&Be(e)?[...new Set([...t,...e])]:Gt(Object.create(null),Sv(t),Sv(e??{})):e}function BI(t,e){if(!t)return e;if(!e)return t;const n=Gt(Object.create(null),t);for(const r in e)n[r]=jn(t[r],e[r]);return n}function kb(){return{app:null,config:{isNativeTag:yk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jI=0;function UI(t,e){return function(r,i=null){Ge(r)||(r=Gt({},r)),i!=null&&!_t(i)&&(i=null);const o=kb(),s=new WeakSet;let a=!1;const l=o.app={_uid:jI++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:fx,get config(){return o.config},set config(u){},use(u,...c){return s.has(u)||(u&&Ge(u.install)?(s.add(u),u.install(l,...c)):Ge(u)&&(s.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!a){const f=Ye(r,i);return f.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,md(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l},runWithContext(u){const c=Za;Za=l;try{return u()}finally{Za=c}}};return l}}let Za=null;function oc(t,e){if(gn){let n=gn.provides;const r=gn.parent&&gn.parent.provides;r===n&&(n=gn.provides=Object.create(r)),n[t]=e}}function Sr(t,e,n=!1){const r=gn||tn;if(r||Za){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Za._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ge(e)?e.call(r&&r.proxy):e}}const Ib={},xb=()=>Object.create(Ib),Sb=t=>Object.getPrototypeOf(t)===Ib;function qI(t,e,n,r=!1){const i={},o=xb();t.propsDefaults=Object.create(null),Rb(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:eb(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function HI(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ct(i),[l]=t.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(ld(t.emitsOptions,f))continue;const h=e[f];if(l)if(lt(o,f))h!==o[f]&&(o[f]=h,u=!0);else{const m=si(f);i[m]=sp(l,a,m,h,t,!1)}else h!==o[f]&&(o[f]=h,u=!0)}}}else{Rb(t,e,i,o)&&(u=!0);let c;for(const d in a)(!e||!lt(e,d)&&((c=os(d))===d||!lt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=sp(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!lt(e,d))&&(delete o[d],u=!0)}u&&ki(t.attrs,"set","")}function Rb(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Ga(l))continue;const u=e[l];let c;i&&lt(i,c=si(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:ld(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=ct(n),u=a||Et;for(let c=0;c<o.length;c++){const d=o[c];n[d]=sp(i,l,d,u[d],t,!lt(u,d))}}return s}function sp(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=lt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ge(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=Ql(i);r=u[n]=l.call(null,e),c()}}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===os(n))&&(r=!0))}return r}function Ob(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Ge(t)){const c=d=>{l=!0;const[f,h]=Ob(d,e,!0);Gt(s,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return _t(t)&&r.set(t,Ms),Ms;if(Be(o))for(let c=0;c<o.length;c++){const d=si(o[c]);Cv(d)&&(s[d]=Et)}else if(o)for(const c in o){const d=si(c);if(Cv(d)){const f=o[c],h=s[d]=Be(f)||Ge(f)?{type:f}:Gt({},f);if(h){const m=Mv(Boolean,h.type),p=Mv(String,h.type);h[0]=m>-1,h[1]=p<0||m<p,(m>-1||lt(h,"default"))&&a.push(d)}}}const u=[s,a];return _t(t)&&r.set(t,u),u}function Cv(t){return t[0]!=="$"&&!Ga(t)}function Dv(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Nv(t,e){return Dv(t)===Dv(e)}function Mv(t,e){return Be(e)?e.findIndex(n=>Nv(n,t)):Ge(e)&&Nv(e,t)?0:-1}const Pb=t=>t[0]==="_"||t==="$stable",wm=t=>Be(t)?t.map(Hr):[Hr(t)],zI=(t,e,n)=>{if(e._n)return e;const r=He((...i)=>wm(e(...i)),n);return r._c=!1,r},Cb=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Pb(i))continue;const o=t[i];if(Ge(o))e[i]=zI(i,o,r);else if(o!=null){const s=wm(o);e[i]=()=>s}}},Db=(t,e)=>{const n=wm(e);t.slots.default=()=>n},KI=(t,e)=>{const n=t.slots=xb();if(t.vnode.shapeFlag&32){const r=e._;r?(Gt(n,e),V0(n,"_",r)):Cb(e,n)}else e&&Db(t,e)},YI=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Et;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(Gt(i,e),!n&&a===1&&delete i._):(o=!e.$stable,Cb(e,i)),s=e}else e&&(Db(t,e),s={default:1});if(o)for(const a in i)!Pb(a)&&s[a]==null&&delete i[a]};function ap(t,e,n,r,i=!1){if(Be(t)){t.forEach((f,h)=>ap(f,e&&(Be(e)?e[h]:e),n,r,i));return}if(Xa(r)&&!i)return;const o=r.shapeFlag&4?md(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Et?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Pt(u)?(c[u]=null,lt(d,u)&&(d[u]=null)):ln(u)&&(u.value=null)),Ge(l))io(l,a,12,[s,c]);else{const f=Pt(l),h=ln(l);if(f||h){const m=()=>{if(t.f){const p=f?lt(d,l)?d[l]:c[l]:l.value;i?Be(p)&&im(p,o):Be(p)?p.includes(o)||p.push(o):f?(c[l]=[o],lt(d,l)&&(d[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else f?(c[l]=s,lt(d,l)&&(d[l]=s)):h&&(l.value=s,t.k&&(c[t.k]=s))};s?(m.id=-1,Gn(m,n)):m()}}}const Gn=_I;function WI(t){return GI(t)}function GI(t,e){const n=$0();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=pr,insertStaticContent:m}=t,p=(M,K,H,de=null,J=null,G=null,ne=void 0,re=null,fe=!!K.dynamicChildren)=>{if(M===K)return;M&&!$o(M,K)&&(de=P(M),L(M,J,G,!0),M=null),K.patchFlag===-2&&(fe=!1,K.dynamicChildren=null);const{type:te,ref:ve,shapeFlag:_e}=K;switch(te){case hd:_(M,K,H,de);break;case gr:y(M,K,H,de);break;case sc:M==null&&v(K,H,de,ne);break;case Pe:w(M,K,H,de,J,G,ne,re,fe);break;default:_e&1?T(M,K,H,de,J,G,ne,re,fe):_e&6?R(M,K,H,de,J,G,ne,re,fe):(_e&64||_e&128)&&te.process(M,K,H,de,J,G,ne,re,fe,se)}ve!=null&&J&&ap(ve,M&&M.ref,G,K||M,!K)},_=(M,K,H,de)=>{if(M==null)r(K.el=a(K.children),H,de);else{const J=K.el=M.el;K.children!==M.children&&u(J,K.children)}},y=(M,K,H,de)=>{M==null?r(K.el=l(K.children||""),H,de):K.el=M.el},v=(M,K,H,de)=>{[M.el,M.anchor]=m(M.children,K,H,de,M.el,M.anchor)},b=({el:M,anchor:K},H,de)=>{let J;for(;M&&M!==K;)J=f(M),r(M,H,de),M=J;r(K,H,de)},g=({el:M,anchor:K})=>{let H;for(;M&&M!==K;)H=f(M),i(M),M=H;i(K)},T=(M,K,H,de,J,G,ne,re,fe)=>{K.type==="svg"?ne="svg":K.type==="math"&&(ne="mathml"),M==null?O(K,H,de,J,G,ne,re,fe):N(M,K,J,G,ne,re,fe)},O=(M,K,H,de,J,G,ne,re)=>{let fe,te;const{props:ve,shapeFlag:_e,transition:we,dirs:xe}=M;if(fe=M.el=s(M.type,G,ve&&ve.is,ve),_e&8?c(fe,M.children):_e&16&&I(M.children,fe,null,de,J,ih(M,G),ne,re),xe&&Oo(M,null,de,"created"),A(fe,M,M.scopeId,ne,de),ve){for(const De in ve)De!=="value"&&!Ga(De)&&o(fe,De,null,ve[De],G,M.children,de,J,j);"value"in ve&&o(fe,"value",null,ve.value,G),(te=ve.onVnodeBeforeMount)&&qr(te,de,M)}xe&&Oo(M,null,de,"beforeMount");const Me=QI(J,we);Me&&we.beforeEnter(fe),r(fe,K,H),((te=ve&&ve.onVnodeMounted)||Me||xe)&&Gn(()=>{te&&qr(te,de,M),Me&&we.enter(fe),xe&&Oo(M,null,de,"mounted")},J)},A=(M,K,H,de,J)=>{if(H&&h(M,H),de)for(let G=0;G<de.length;G++)h(M,de[G]);if(J){let G=J.subTree;if(K===G){const ne=J.vnode;A(M,ne,ne.scopeId,ne.slotScopeIds,J.parent)}}},I=(M,K,H,de,J,G,ne,re,fe=0)=>{for(let te=fe;te<M.length;te++){const ve=M[te]=re?Ki(M[te]):Hr(M[te]);p(null,ve,K,H,de,J,G,ne,re)}},N=(M,K,H,de,J,G,ne)=>{const re=K.el=M.el;let{patchFlag:fe,dynamicChildren:te,dirs:ve}=K;fe|=M.patchFlag&16;const _e=M.props||Et,we=K.props||Et;let xe;if(H&&Po(H,!1),(xe=we.onVnodeBeforeUpdate)&&qr(xe,H,K,M),ve&&Oo(K,M,H,"beforeUpdate"),H&&Po(H,!0),te?S(M.dynamicChildren,te,re,H,de,ih(K,J),G):ne||ee(M,K,re,null,H,de,ih(K,J),G,!1),fe>0){if(fe&16)E(re,K,_e,we,H,de,J);else if(fe&2&&_e.class!==we.class&&o(re,"class",null,we.class,J),fe&4&&o(re,"style",_e.style,we.style,J),fe&8){const Me=K.dynamicProps;for(let De=0;De<Me.length;De++){const tt=Me[De],Ve=_e[tt],mt=we[tt];(mt!==Ve||tt==="value")&&o(re,tt,Ve,mt,J,M.children,H,de,j)}}fe&1&&M.children!==K.children&&c(re,K.children)}else!ne&&te==null&&E(re,K,_e,we,H,de,J);((xe=we.onVnodeUpdated)||ve)&&Gn(()=>{xe&&qr(xe,H,K,M),ve&&Oo(K,M,H,"updated")},de)},S=(M,K,H,de,J,G,ne)=>{for(let re=0;re<K.length;re++){const fe=M[re],te=K[re],ve=fe.el&&(fe.type===Pe||!$o(fe,te)||fe.shapeFlag&70)?d(fe.el):H;p(fe,te,ve,null,de,J,G,ne,!0)}},E=(M,K,H,de,J,G,ne)=>{if(H!==de){if(H!==Et)for(const re in H)!Ga(re)&&!(re in de)&&o(M,re,H[re],null,ne,K.children,J,G,j);for(const re in de){if(Ga(re))continue;const fe=de[re],te=H[re];fe!==te&&re!=="value"&&o(M,re,te,fe,ne,K.children,J,G,j)}"value"in de&&o(M,"value",H.value,de.value,ne)}},w=(M,K,H,de,J,G,ne,re,fe)=>{const te=K.el=M?M.el:a(""),ve=K.anchor=M?M.anchor:a("");let{patchFlag:_e,dynamicChildren:we,slotScopeIds:xe}=K;xe&&(re=re?re.concat(xe):xe),M==null?(r(te,H,de),r(ve,H,de),I(K.children||[],H,ve,J,G,ne,re,fe)):_e>0&&_e&64&&we&&M.dynamicChildren?(S(M.dynamicChildren,we,H,J,G,ne,re),(K.key!=null||J&&K===J.subTree)&&Tm(M,K,!0)):ee(M,K,H,ve,J,G,ne,re,fe)},R=(M,K,H,de,J,G,ne,re,fe)=>{K.slotScopeIds=re,M==null?K.shapeFlag&512?J.ctx.activate(K,H,de,ne,fe):F(K,H,de,J,G,ne,fe):D(M,K,fe)},F=(M,K,H,de,J,G,ne)=>{const re=M.component=sx(M,de,J);if(dd(M)&&(re.ctx.renderer=se),ax(re),re.asyncDep){if(J&&J.registerDep(re,B),!M.el){const fe=re.subTree=Ye(gr);y(null,fe,K,H)}}else B(re,M,K,H,J,G,ne)},D=(M,K,H)=>{const de=K.component=M.component;if(gI(M,K,H))if(de.asyncDep&&!de.asyncResolved){V(de,K,H);return}else de.next=K,cI(de.update),de.effect.dirty=!0,de.update();else K.el=M.el,de.vnode=K},B=(M,K,H,de,J,G,ne)=>{const re=()=>{if(M.isMounted){let{next:ve,bu:_e,u:we,parent:xe,vnode:Me}=M;{const Vn=Nb(M);if(Vn){ve&&(ve.el=Me.el,V(M,ve,ne)),Vn.asyncDep.then(()=>{M.isUnmounted||re()});return}}let De=ve,tt;Po(M,!1),ve?(ve.el=Me.el,V(M,ve,ne)):ve=Me,_e&&rc(_e),(tt=ve.props&&ve.props.onVnodeBeforeUpdate)&&qr(tt,xe,ve,Me),Po(M,!0);const Ve=th(M),mt=M.subTree;M.subTree=Ve,p(mt,Ve,d(mt.el),P(mt),M,J,G),ve.el=Ve.el,De===null&&vI(M,Ve.el),we&&Gn(we,J),(tt=ve.props&&ve.props.onVnodeUpdated)&&Gn(()=>qr(tt,xe,ve,Me),J)}else{let ve;const{el:_e,props:we}=K,{bm:xe,m:Me,parent:De}=M,tt=Xa(K);if(Po(M,!1),xe&&rc(xe),!tt&&(ve=we&&we.onVnodeBeforeMount)&&qr(ve,De,K),Po(M,!0),_e&&Q){const Ve=()=>{M.subTree=th(M),Q(_e,M.subTree,M,J,null)};tt?K.type.__asyncLoader().then(()=>!M.isUnmounted&&Ve()):Ve()}else{const Ve=M.subTree=th(M);p(null,Ve,H,de,M,J,G),K.el=Ve.el}if(Me&&Gn(Me,J),!tt&&(ve=we&&we.onVnodeMounted)){const Ve=K;Gn(()=>qr(ve,De,Ve),J)}(K.shapeFlag&256||De&&Xa(De.vnode)&&De.vnode.shapeFlag&256)&&M.a&&Gn(M.a,J),M.isMounted=!0,K=H=de=null}},fe=M.effect=new am(re,pr,()=>mm(te),M.scope),te=M.update=()=>{fe.dirty&&fe.run()};te.id=M.uid,Po(M,!0),te()},V=(M,K,H)=>{K.component=M;const de=M.vnode.props;M.vnode=K,M.next=null,HI(M,K.props,de,H),YI(M,K.children,H),_o(),Av(M),bo()},ee=(M,K,H,de,J,G,ne,re,fe=!1)=>{const te=M&&M.children,ve=M?M.shapeFlag:0,_e=K.children,{patchFlag:we,shapeFlag:xe}=K;if(we>0){if(we&128){U(te,_e,H,de,J,G,ne,re,fe);return}else if(we&256){W(te,_e,H,de,J,G,ne,re,fe);return}}xe&8?(ve&16&&j(te,J,G),_e!==te&&c(H,_e)):ve&16?xe&16?U(te,_e,H,de,J,G,ne,re,fe):j(te,J,G,!0):(ve&8&&c(H,""),xe&16&&I(_e,H,de,J,G,ne,re,fe))},W=(M,K,H,de,J,G,ne,re,fe)=>{M=M||Ms,K=K||Ms;const te=M.length,ve=K.length,_e=Math.min(te,ve);let we;for(we=0;we<_e;we++){const xe=K[we]=fe?Ki(K[we]):Hr(K[we]);p(M[we],xe,H,null,J,G,ne,re,fe)}te>ve?j(M,J,G,!0,!1,_e):I(K,H,de,J,G,ne,re,fe,_e)},U=(M,K,H,de,J,G,ne,re,fe)=>{let te=0;const ve=K.length;let _e=M.length-1,we=ve-1;for(;te<=_e&&te<=we;){const xe=M[te],Me=K[te]=fe?Ki(K[te]):Hr(K[te]);if($o(xe,Me))p(xe,Me,H,null,J,G,ne,re,fe);else break;te++}for(;te<=_e&&te<=we;){const xe=M[_e],Me=K[we]=fe?Ki(K[we]):Hr(K[we]);if($o(xe,Me))p(xe,Me,H,null,J,G,ne,re,fe);else break;_e--,we--}if(te>_e){if(te<=we){const xe=we+1,Me=xe<ve?K[xe].el:de;for(;te<=we;)p(null,K[te]=fe?Ki(K[te]):Hr(K[te]),H,Me,J,G,ne,re,fe),te++}}else if(te>we)for(;te<=_e;)L(M[te],J,G,!0),te++;else{const xe=te,Me=te,De=new Map;for(te=Me;te<=we;te++){const ue=K[te]=fe?Ki(K[te]):Hr(K[te]);ue.key!=null&&De.set(ue.key,te)}let tt,Ve=0;const mt=we-Me+1;let Vn=!1,$r=0;const $n=new Array(mt);for(te=0;te<mt;te++)$n[te]=0;for(te=xe;te<=_e;te++){const ue=M[te];if(Ve>=mt){L(ue,J,G,!0);continue}let be;if(ue.key!=null)be=De.get(ue.key);else for(tt=Me;tt<=we;tt++)if($n[tt-Me]===0&&$o(ue,K[tt])){be=tt;break}be===void 0?L(ue,J,G,!0):($n[be-Me]=te+1,be>=$r?$r=be:Vn=!0,p(ue,K[be],H,null,J,G,ne,re,fe),Ve++)}const nr=Vn?XI($n):Ms;for(tt=nr.length-1,te=mt-1;te>=0;te--){const ue=Me+te,be=K[ue],he=ue+1<ve?K[ue+1].el:de;$n[te]===0?p(null,be,H,he,J,G,ne,re,fe):Vn&&(tt<0||te!==nr[tt]?C(be,H,he,2):tt--)}}},C=(M,K,H,de,J=null)=>{const{el:G,type:ne,transition:re,children:fe,shapeFlag:te}=M;if(te&6){C(M.component.subTree,K,H,de);return}if(te&128){M.suspense.move(K,H,de);return}if(te&64){ne.move(M,K,H,se);return}if(ne===Pe){r(G,K,H);for(let _e=0;_e<fe.length;_e++)C(fe[_e],K,H,de);r(M.anchor,K,H);return}if(ne===sc){b(M,K,H);return}if(de!==2&&te&1&&re)if(de===0)re.beforeEnter(G),r(G,K,H),Gn(()=>re.enter(G),J);else{const{leave:_e,delayLeave:we,afterLeave:xe}=re,Me=()=>r(G,K,H),De=()=>{_e(G,()=>{Me(),xe&&xe()})};we?we(G,Me,De):De()}else r(G,K,H)},L=(M,K,H,de=!1,J=!1)=>{const{type:G,props:ne,ref:re,children:fe,dynamicChildren:te,shapeFlag:ve,patchFlag:_e,dirs:we}=M;if(re!=null&&ap(re,null,H,M,!0),ve&256){K.ctx.deactivate(M);return}const xe=ve&1&&we,Me=!Xa(M);let De;if(Me&&(De=ne&&ne.onVnodeBeforeUnmount)&&qr(De,K,M),ve&6)Z(M.component,H,de);else{if(ve&128){M.suspense.unmount(H,de);return}xe&&Oo(M,null,K,"beforeUnmount"),ve&64?M.type.remove(M,K,H,J,se,de):te&&(G!==Pe||_e>0&&_e&64)?j(te,K,H,!1,!0):(G===Pe&&_e&384||!J&&ve&16)&&j(fe,K,H),de&&x(M)}(Me&&(De=ne&&ne.onVnodeUnmounted)||xe)&&Gn(()=>{De&&qr(De,K,M),xe&&Oo(M,null,K,"unmounted")},H)},x=M=>{const{type:K,el:H,anchor:de,transition:J}=M;if(K===Pe){Y(H,de);return}if(K===sc){g(M);return}const G=()=>{i(H),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(M.shapeFlag&1&&J&&!J.persisted){const{leave:ne,delayLeave:re}=J,fe=()=>ne(H,G);re?re(M.el,G,fe):fe()}else G()},Y=(M,K)=>{let H;for(;M!==K;)H=f(M),i(M),M=H;i(K)},Z=(M,K,H)=>{const{bum:de,scope:J,update:G,subTree:ne,um:re}=M;de&&rc(de),J.stop(),G&&(G.active=!1,L(ne,M,K,H)),re&&Gn(re,K),Gn(()=>{M.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},j=(M,K,H,de=!1,J=!1,G=0)=>{for(let ne=G;ne<M.length;ne++)L(M[ne],K,H,de,J)},P=M=>M.shapeFlag&6?P(M.component.subTree):M.shapeFlag&128?M.suspense.next():f(M.anchor||M.el);let X=!1;const z=(M,K,H)=>{M==null?K._vnode&&L(K._vnode,null,null,!0):p(K._vnode||null,M,K,null,null,null,H),X||(X=!0,Av(),ub(),X=!1),K._vnode=M},se={p,um:L,m:C,r:x,mt:F,mc:I,pc:ee,pbc:S,n:P,o:t};let le,Q;return{render:z,hydrate:le,createApp:UI(z,le)}}function ih({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Po({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function QI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tm(t,e,n=!1){const r=t.children,i=e.children;if(Be(r)&&Be(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Ki(i[o]),a.el=s.el),n||Tm(s,a)),a.type===hd&&(a.el=s.el)}}function XI(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function Nb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Nb(e)}const JI=t=>t.__isTeleport,el=t=>t&&(t.disabled||t.disabled===""),Lv=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Vv=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,lp=(t,e)=>{const n=t&&t.to;return Pt(n)?e?e(n):null:n},ZI={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:p,createComment:_}}=u,y=el(e.props);let{shapeFlag:v,children:b,dynamicChildren:g}=e;if(t==null){const T=e.el=p(""),O=e.anchor=p("");h(T,n,r),h(O,n,r);const A=e.target=lp(e.props,m),I=e.targetAnchor=p("");A&&(h(I,A),s==="svg"||Lv(A)?s="svg":(s==="mathml"||Vv(A))&&(s="mathml"));const N=(S,E)=>{v&16&&c(b,S,E,i,o,s,a,l)};y?N(n,O):A&&N(A,I)}else{e.el=t.el;const T=e.anchor=t.anchor,O=e.target=t.target,A=e.targetAnchor=t.targetAnchor,I=el(t.props),N=I?n:O,S=I?T:A;if(s==="svg"||Lv(O)?s="svg":(s==="mathml"||Vv(O))&&(s="mathml"),g?(f(t.dynamicChildren,g,N,i,o,s,a),Tm(t,e,!0)):l||d(t,e,N,S,i,o,s,a,!1),y)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bu(e,n,T,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const E=e.target=lp(e.props,m);E&&Bu(e,E,null,u,0)}else I&&Bu(e,O,A,u,1)}Mb(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&o(c),s&&o(u),a&16){const h=s||!el(f);for(let m=0;m<l.length;m++){const p=l[m];i(p,e,n,h,!!p.dynamicChildren)}}},move:Bu,hydrate:ex};function Bu(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,d=o===2;if(d&&r(s,e,n),(!d||el(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function ex(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=lp(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(el(e.props))e.anchor=u(s(t),e,a(t),n,r,i,o),e.targetAnchor=d;else{e.anchor=s(t);let f=d;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(d,e,c,n,r,i,o)}Mb(e)}return e.anchor&&s(e.anchor)}const tx=ZI;function Mb(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Pe=Symbol.for("v-fgt"),hd=Symbol.for("v-txt"),gr=Symbol.for("v-cmt"),sc=Symbol.for("v-stc"),tl=[];let kr=null;function ie(t=!1){tl.push(kr=t?null:[])}function nx(){tl.pop(),kr=tl[tl.length-1]||null}let bl=1;function $v(t){bl+=t}function Lb(t){return t.dynamicChildren=bl>0?kr||Ms:null,nx(),bl>0&&kr&&kr.push(t),t}function ce(t,e,n,r,i,o){return Lb($(t,e,n,r,i,o,!0))}function ze(t,e,n,r,i){return Lb(Ye(t,e,n,r,i,!0))}function Ec(t){return t?t.__v_isVNode===!0:!1}function $o(t,e){return t.type===e.type&&t.key===e.key}const Vb=({key:t})=>t??null,ac=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Pt(t)||ln(t)||Ge(t)?{i:tn,r:t,k:e,f:!!n}:t:null);function $(t,e=null,n=null,r=0,i=null,o=t===Pe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Vb(e),ref:e&&ac(e),scopeId:ud,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tn};return a?(Em(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Pt(n)?8:16),bl>0&&!s&&kr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&kr.push(l),l}const Ye=rx;function rx(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===hb)&&(t=gr),Ec(t)){const a=ho(t,e,!0);return n&&Em(a,n),bl>0&&!o&&kr&&(a.shapeFlag&6?kr[kr.indexOf(t)]=a:kr.push(a)),a.patchFlag|=-2,a}if(dx(t)&&(t=t.__vccOpts),e){e=qn(e);let{class:a,style:l}=e;a&&!Pt(a)&&(e.class=Xe(a)),_t(l)&&(nb(l)&&!Be(l)&&(l=Gt({},l)),e.style=en(l))}const s=Pt(t)?1:yI(t)?128:JI(t)?64:_t(t)?4:Ge(t)?2:0;return $(t,e,n,r,i,s,o,!0)}function qn(t){return t?nb(t)||Sb(t)?Gt({},t):t:null}function ho(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,a=e?nn(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Vb(a),ref:e&&e.ref?n&&i?Be(i)?i.concat(ac(e)):[i,ac(e)]:ac(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ho(t.ssContent),ssFallback:t.ssFallback&&ho(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Tn(t=" ",e=0){return Ye(hd,null,t,e)}function Gl(t,e){const n=Ye(sc,null,t);return n.staticCount=e,n}function ye(t="",e=!1){return e?(ie(),ze(gr,null,t)):Ye(gr,null,t)}function Hr(t){return t==null||typeof t=="boolean"?Ye(gr):Be(t)?Ye(Pe,null,t.slice()):typeof t=="object"?Ki(t):Ye(hd,null,String(t))}function Ki(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ho(t)}function Em(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Be(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Em(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Sb(e)?e._ctx=tn:i===3&&tn&&(tn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:tn},n=32):(e=String(e),r&64?(n=16,e=[Tn(e)]):n=8);t.children=e,t.shapeFlag|=n}function nn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Xe([e.class,r.class]));else if(i==="style")e.style=en([e.style,r.style]);else if(rd(i)){const o=e[i],s=r[i];s&&o!==s&&!(Be(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function qr(t,e,n,r=null){mr(t,e,7,[n,r])}const ix=kb();let ox=0;function sx(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||ix,o={uid:ox++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new j0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ob(r,i),emitsOptions:db(r,i),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:r.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=hI.bind(null,o),t.ce&&t.ce(o),o}let gn=null;const $b=()=>gn||tn;let Ac,up;{const t=$0(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Ac=e("__VUE_INSTANCE_SETTERS__",n=>gn=n),up=e("__VUE_SSR_SETTERS__",n=>pd=n)}const Ql=t=>{const e=gn;return Ac(t),t.scope.on(),()=>{t.scope.off(),Ac(e)}},Fv=()=>{gn&&gn.scope.off(),Ac(null)};function Fb(t){return t.vnode.shapeFlag&4}let pd=!1;function ax(t,e=!1){e&&up(e);const{props:n,children:r}=t.vnode,i=Fb(t);qI(t,n,i,e),KI(t,r);const o=i?lx(t,e):void 0;return e&&up(!1),o}function lx(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,NI);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?jb(t):null,o=Ql(t);_o();const s=io(r,t,0,[t.props,i]);if(bo(),o(),N0(s)){if(s.then(Fv,Fv),e)return s.then(a=>{Bv(t,a,e)}).catch(a=>{ad(a,t,0)});t.asyncDep=s}else Bv(t,s,e)}else Bb(t,e)}function Bv(t,e,n){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_t(e)&&(t.setupState=sb(e)),Bb(t,n)}let jv;function Bb(t,e,n){const r=t.type;if(!t.render){if(!e&&jv&&!r.render){const i=r.template||bm(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Gt(Gt({isCustomElement:o,delimiters:a},s),l);r.render=jv(i,u)}}t.render=r.render||pr}{const i=Ql(t);_o();try{LI(t)}finally{bo(),i()}}}const ux={get(t,e){return er(t,"get",""),t[e]}};function jb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ux),slots:t.slots,emit:t.emit,expose:e}}function md(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(sb(eI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ja)return Ja[n](t)},has(e,n){return n in e||n in Ja}}))}function cx(t,e=!0){return Ge(t)?t.displayName||t.name:t.name||e&&t.__name}function dx(t){return Ge(t)&&"__vccOpts"in t}const me=(t,e)=>tI(t,e,pd);function Xl(t,e,n){const r=arguments.length;return r===2?_t(e)&&!Be(e)?Ec(e)?Ye(t,null,[e]):Ye(t,e):Ye(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ec(n)&&(n=[n]),Ye(t,e,n))}const fx="3.4.25";/**
* @vue/runtime-dom v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hx="http://www.w3.org/2000/svg",px="http://www.w3.org/1998/Math/MathML",Yi=typeof document<"u"?document:null,Uv=Yi&&Yi.createElement("template"),mx={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Yi.createElementNS(hx,t):e==="mathml"?Yi.createElementNS(px,t):Yi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Yi.createTextNode(t),createComment:t=>Yi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Yi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Uv.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=Uv.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$i="transition",Oa="animation",wl=Symbol("_vtc"),Mi=(t,{slots:e})=>Xl(kI,gx(t),e);Mi.displayName="Transition";const Ub={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Mi.props=Gt({},vb,Ub);const Co=(t,e=[])=>{Be(t)?t.forEach(n=>n(...e)):t&&t(...e)},qv=t=>t?Be(t)?t.some(e=>e.length>1):t.length>1:!1;function gx(t){const e={};for(const w in t)w in Ub||(e[w]=t[w]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=vx(i),p=m&&m[0],_=m&&m[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:b,onLeave:g,onLeaveCancelled:T,onBeforeAppear:O=y,onAppear:A=v,onAppearCancelled:I=b}=e,N=(w,R,F)=>{Do(w,R?c:a),Do(w,R?u:s),F&&F()},S=(w,R)=>{w._isLeaving=!1,Do(w,d),Do(w,h),Do(w,f),R&&R()},E=w=>(R,F)=>{const D=w?A:v,B=()=>N(R,w,F);Co(D,[R,B]),Hv(()=>{Do(R,w?l:o),Fi(R,w?c:a),qv(D)||zv(R,r,p,B)})};return Gt(e,{onBeforeEnter(w){Co(y,[w]),Fi(w,o),Fi(w,s)},onBeforeAppear(w){Co(O,[w]),Fi(w,l),Fi(w,u)},onEnter:E(!1),onAppear:E(!0),onLeave(w,R){w._isLeaving=!0;const F=()=>S(w,R);Fi(w,d),Fi(w,f),bx(),Hv(()=>{w._isLeaving&&(Do(w,d),Fi(w,h),qv(g)||zv(w,r,_,F))}),Co(g,[w,F])},onEnterCancelled(w){N(w,!1),Co(b,[w])},onAppearCancelled(w){N(w,!0),Co(I,[w])},onLeaveCancelled(w){S(w),Co(T,[w])}})}function vx(t){if(t==null)return null;if(_t(t))return[oh(t.enter),oh(t.leave)];{const e=oh(t);return[e,e]}}function oh(t){return Ek(t)}function Fi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[wl]||(t[wl]=new Set)).add(e)}function Do(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[wl];n&&(n.delete(e),n.size||(t[wl]=void 0))}function Hv(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yx=0;function zv(t,e,n,r){const i=t._endId=++yx,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=_x(t,e);if(!s)return r();const u=s+"end";let c=0;const d=()=>{t.removeEventListener(u,f),o()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function _x(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${$i}Delay`),o=r(`${$i}Duration`),s=Kv(i,o),a=r(`${Oa}Delay`),l=r(`${Oa}Duration`),u=Kv(a,l);let c=null,d=0,f=0;e===$i?s>0&&(c=$i,d=s,f=o.length):e===Oa?u>0&&(c=Oa,d=u,f=l.length):(d=Math.max(s,u),c=d>0?s>u?$i:Oa:null,f=c?c===$i?o.length:l.length:0);const h=c===$i&&/\b(transform|all)(,|$)/.test(r(`${$i}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function Kv(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Yv(n)+Yv(t[r])))}function Yv(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function bx(){return document.body.offsetHeight}function wx(t,e,n){const r=t[wl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const kc=Symbol("_vod"),qb=Symbol("_vsh"),nl={beforeMount(t,{value:e},{transition:n}){t[kc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Pa(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Pa(t,!0),r.enter(t)):r.leave(t,()=>{Pa(t,!1)}):Pa(t,e))},beforeUnmount(t,{value:e}){Pa(t,e)}};function Pa(t,e){t.style.display=e?t[kc]:"none",t[qb]=!e}const Tx=Symbol(""),Ex=/(^|;)\s*display\s*:/;function Ax(t,e,n){const r=t.style,i=Pt(n);let o=!1;if(n&&!i){if(e)if(Pt(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&lc(r,a,"")}else for(const s in e)n[s]==null&&lc(r,s,"");for(const s in n)s==="display"&&(o=!0),lc(r,s,n[s])}else if(i){if(e!==n){const s=r[Tx];s&&(n+=";"+s),r.cssText=n,o=Ex.test(n)}}else e&&t.removeAttribute("style");kc in t&&(t[kc]=o?r.display:"",t[qb]&&(r.display="none"))}const Wv=/\s*!important$/;function lc(t,e,n){if(Be(n))n.forEach(r=>lc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=kx(t,e);Wv.test(n)?t.setProperty(os(r),n.replace(Wv,""),"important"):t[r]=n}}const Gv=["Webkit","Moz","ms"],sh={};function kx(t,e){const n=sh[e];if(n)return n;let r=si(e);if(r!=="filter"&&r in t)return sh[e]=r;r=od(r);for(let i=0;i<Gv.length;i++){const o=Gv[i]+r;if(o in t)return sh[e]=o}return e}const Qv="http://www.w3.org/1999/xlink";function Ix(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Qv,e.slice(6,e.length)):t.setAttributeNS(Qv,e,n);else{const o=Rk(e);n==null||o&&!F0(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function xx(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=F0(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Gi(t,e,n,r){t.addEventListener(e,n,r)}function Sx(t,e,n,r){t.removeEventListener(e,n,r)}const Xv=Symbol("_vei");function Rx(t,e,n,r,i=null){const o=t[Xv]||(t[Xv]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=Ox(e);if(r){const u=o[e]=Dx(r,i);Gi(t,a,u,l)}else s&&(Sx(t,a,s,l),o[e]=void 0)}}const Jv=/(?:Once|Passive|Capture)$/;function Ox(t){let e;if(Jv.test(t)){e={};let r;for(;r=t.match(Jv);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):os(t.slice(2)),e]}let ah=0;const Px=Promise.resolve(),Cx=()=>ah||(Px.then(()=>ah=0),ah=Date.now());function Dx(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;mr(Nx(r,n.value),e,5,[r])};return n.value=t,n.attached=Cx(),n}function Nx(t,e){if(Be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Zv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Mx=(t,e,n,r,i,o,s,a,l)=>{const u=i==="svg";e==="class"?wx(t,r,u):e==="style"?Ax(t,n,r):rd(e)?rm(e)||Rx(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Lx(t,e,r,u))?xx(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ix(t,e,r,u))};function Lx(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zv(e)&&Ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Zv(e)&&Pt(n)?!1:e in t}const zs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Be(e)?n=>rc(e,n):e};function Vx(t){t.target.composing=!0}function ey(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ii=Symbol("_assign"),Ks={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Ii]=zs(i);const o=r||i.props&&i.props.type==="number";Gi(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=yc(a)),t[Ii](a)}),n&&Gi(t,"change",()=>{t.value=t.value.trim()}),e||(Gi(t,"compositionstart",Vx),Gi(t,"compositionend",ey),Gi(t,"change",ey))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Ii]=zs(o),t.composing)return;const s=(i||t.type==="number")&&!/^0\d/.test(t.value)?yc(t.value):t.value,a=e??"";s!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},$s={deep:!0,created(t,e,n){t[Ii]=zs(n),Gi(t,"change",()=>{const r=t._modelValue,i=Tl(t),o=t.checked,s=t[Ii];if(Be(r)){const a=sm(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(da(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Hb(t,o))})},mounted:ty,beforeUpdate(t,e,n){t[Ii]=zs(n),ty(t,e,n)}};function ty(t,{value:e,oldValue:n},r){t._modelValue=e,Be(e)?t.checked=sm(e,r.props.value)>-1:da(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Wl(e,Hb(t,!0)))}const Ys={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=da(e);Gi(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?yc(Tl(s)):Tl(s));t[Ii](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,wn(()=>{t._assigning=!1})}),t[Ii]=zs(r)},mounted(t,{value:e,modifiers:{number:n}}){ny(t,e)},beforeUpdate(t,e,n){t[Ii]=zs(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||ny(t,e)}};function ny(t,e,n){const r=t.multiple,i=Be(e);if(!(r&&!i&&!da(e))){for(let o=0,s=t.options.length;o<s;o++){const a=t.options[o],l=Tl(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=sm(e,l)>-1}else a.selected=e.has(l);else if(Wl(Tl(a),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Tl(t){return"_value"in t?t._value:t.value}function Hb(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const $x=["ctrl","shift","alt","meta"],Fx={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>$x.some(n=>t[`${n}Key`]&&!e.includes(n))},ai=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const a=Fx[e[s]];if(a&&a(i,e))return}return t(i,...o)})},Bx={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jx=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=os(i.key);if(e.some(s=>s===o||Bx[s]===o))return t(i)})},Ux=Gt({patchProp:Mx},mx);let ry;function zb(){return ry||(ry=WI(Ux))}const iy=(...t)=>{zb().render(...t)},qx=(...t)=>{const e=zb().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=zx(r);if(!i)return;const o=e._component;!Ge(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,Hx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Hx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zx(t){return Pt(t)?document.querySelector(t):t}function Kx(){return Kb().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Kb(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Yx=typeof Proxy=="function",Wx="devtools-plugin:setup",Gx="plugin:settings:set";let ws,cp;function Qx(){var t;return ws!==void 0||(typeof window<"u"&&window.performance?(ws=!0,cp=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(ws=!0,cp=globalThis.perf_hooks.performance):ws=!1),ws}function Xx(){return Qx()?cp.now():Date.now()}class Jx{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return Xx()}},n&&n.on(Gx,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Zx(t,e){const n=t,r=Kb(),i=Kx(),o=Yx&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(Wx,t,e);else{const s=o?new Jx(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Is=typeof document<"u";function eS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const vt=Object.assign;function lh(t,e){const n={};for(const r in e){const i=e[r];n[r]=Pr(i)?i.map(t):t(i)}return n}const rl=()=>{},Pr=Array.isArray,Yb=/#/g,tS=/&/g,nS=/\//g,rS=/=/g,iS=/\?/g,Wb=/\+/g,oS=/%5B/g,sS=/%5D/g,Gb=/%5E/g,aS=/%60/g,Qb=/%7B/g,lS=/%7C/g,Xb=/%7D/g,uS=/%20/g;function Am(t){return encodeURI(""+t).replace(lS,"|").replace(oS,"[").replace(sS,"]")}function cS(t){return Am(t).replace(Qb,"{").replace(Xb,"}").replace(Gb,"^")}function dp(t){return Am(t).replace(Wb,"%2B").replace(uS,"+").replace(Yb,"%23").replace(tS,"%26").replace(aS,"`").replace(Qb,"{").replace(Xb,"}").replace(Gb,"^")}function dS(t){return dp(t).replace(rS,"%3D")}function fS(t){return Am(t).replace(Yb,"%23").replace(iS,"%3F")}function hS(t){return t==null?"":fS(t).replace(nS,"%2F")}function El(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const pS=/\/$/,mS=t=>t.replace(pS,"");function uh(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=_S(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:El(s)}}function gS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function oy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function vS(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ws(e.matched[r],n.matched[i])&&Jb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ws(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Jb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!yS(t[n],e[n]))return!1;return!0}function yS(t,e){return Pr(t)?sy(t,e):Pr(e)?sy(e,t):t===e}function sy(t,e){return Pr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function _S(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}var Al;(function(t){t.pop="pop",t.push="push"})(Al||(Al={}));var il;(function(t){t.back="back",t.forward="forward",t.unknown=""})(il||(il={}));function bS(t){if(!t)if(Is){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mS(t)}const wS=/^[^#]+#/;function TS(t,e){return t.replace(wS,"#")+e}function ES(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const gd=()=>({left:window.scrollX,top:window.scrollY});function AS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=ES(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ay(t,e){return(history.state?history.state.position-e:-1)+t}const fp=new Map;function kS(t,e){fp.set(t,e)}function IS(t){const e=fp.get(t);return fp.delete(t),e}let xS=()=>location.protocol+"//"+location.host;function Zb(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),oy(l,"")}return oy(n,t)+r+i}function SS(t,e,n,r){let i=[],o=[],s=null;const a=({state:f})=>{const h=Zb(t,location),m=n.value,p=e.value;let _=0;if(f){if(n.value=h,e.value=f,s&&s===m){s=null;return}_=p?f.position-p.position:0}else r(h);i.forEach(y=>{y(n.value,m,{delta:_,type:Al.pop,direction:_?_>0?il.forward:il.back:il.unknown})})};function l(){s=n.value}function u(f){i.push(f);const h=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return o.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(vt({},f.state,{scroll:gd()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function ly(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?gd():null}}function RS(t){const{history:e,location:n}=window,r={value:Zb(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:xS()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function s(l,u){const c=vt({},e.state,ly(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,u){const c=vt({},i.value,e.state,{forward:l,scroll:gd()});o(c.current,c,!0);const d=vt({},ly(r.value,l,null),{position:c.position+1},u);o(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function OS(t){t=bS(t);const e=RS(t),n=SS(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=vt({location:"",base:t,go:r,createHref:TS.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function PS(t){return typeof t=="string"||t&&typeof t=="object"}function e1(t){return typeof t=="string"||typeof t=="symbol"}const Bi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},t1=Symbol("");var uy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(uy||(uy={}));function Gs(t,e){return vt(new Error,{type:t,[t1]:!0},e)}function gi(t,e){return t instanceof Error&&t1 in t&&(e==null||!!(t.type&e))}const cy="[^/]+?",CS={sensitive:!1,strict:!1,start:!0,end:!0},DS=/[.+*?^${}()[\]/\\]/g;function NS(t,e){const n=vt({},CS,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(DS,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:p,optional:_,regexp:y}=f;o.push({name:m,repeatable:p,optional:_});const v=y||cy;if(v!==cy){h+=10;try{new RegExp(`(${v})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${m}" (${v}): `+g.message)}}let b=p?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(b=_&&u.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),i+=b,h+=20,_&&(h+=-8),p&&(h+=-20),v===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(s),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",m=o[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:m,repeatable:p,optional:_}=h,y=m in u?u[m]:"";if(Pr(y)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const v=Pr(y)?y.join("/"):y;if(!v)if(_)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=v}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function MS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function LS(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=MS(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(dy(r))return 1;if(dy(i))return-1}return i.length-r.length}function dy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const VS={type:0,value:""},$S=/[a-zA-Z0-9_]/;function FS(t){if(!t)return[[]];if(t==="/")return[[VS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",c="";function d(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),s()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:$S.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),s(),i}function BS(t,e,n){const r=NS(FS(t.path),n),i=vt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function jS(t,e){const n=[],r=new Map;e=py({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function o(c,d,f){const h=!f,m=US(c);m.aliasOf=f&&f.record;const p=py(e,c),_=[m];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const g of b)_.push(vt({},m,{components:f?f.record.components:m.components,path:g,aliasOf:f?f.record:m}))}let y,v;for(const b of _){const{path:g}=b;if(d&&g[0]!=="/"){const T=d.record.path,O=T[T.length-1]==="/"?"":"/";b.path=d.record.path+(g&&O+g)}if(y=BS(b,d,p),f?f.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),h&&c.name&&!hy(y)&&s(c.name)),m.children){const T=m.children;for(let O=0;O<T.length;O++)o(T[O],y,f&&f.children[O])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return v?()=>{s(v)}:rl}function s(c){if(e1(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&LS(c,n[d])>=0&&(c.record.path!==n[d].record.path||!n1(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!hy(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},m,p;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Gs(1,{location:c});p=f.record.name,h=vt(fy(d.params,f.keys.filter(v=>!v.optional).concat(f.parent?f.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),c.params&&fy(c.params,f.keys.map(v=>v.name))),m=f.stringify(h)}else if(c.path!=null)m=c.path,f=n.find(v=>v.re.test(m)),f&&(h=f.parse(m),p=f.record.name);else{if(f=d.name?r.get(d.name):n.find(v=>v.re.test(d.path)),!f)throw Gs(1,{location:c,currentLocation:d});p=f.record.name,h=vt({},d.params,c.params),m=f.stringify(h)}const _=[];let y=f;for(;y;)_.unshift(y.record),y=y.parent;return{name:p,path:m,params:h,matched:_,meta:HS(_)}}return t.forEach(c=>o(c)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function fy(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function US(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:qS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function qS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function hy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function HS(t){return t.reduce((e,n)=>vt(e,n.meta),{})}function py(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function n1(t,e){return e.children.some(n=>n===t||n1(t,n))}function zS(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Wb," "),s=o.indexOf("="),a=El(s<0?o:o.slice(0,s)),l=s<0?null:El(o.slice(s+1));if(a in e){let u=e[a];Pr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function my(t){let e="";for(let n in t){const r=t[n];if(n=dS(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Pr(r)?r.map(o=>o&&dp(o)):[r&&dp(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function KS(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Pr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const YS=Symbol(""),gy=Symbol(""),vd=Symbol(""),r1=Symbol(""),hp=Symbol("");function Ca(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Wi(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Gs(4,{from:n,to:e})):f instanceof Error?l(f):PS(f)?l(Gs(2,{from:e,to:f})):(s&&r.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),a())},c=o(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function ch(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(WS(l)){const c=(l.__vccOpts||l)[e];c&&o.push(Wi(c,n,r,s,a,i))}else{let u=l();o.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=eS(c)?c.default:c;s.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Wi(h,n,r,s,a,i)()}))}}return o}function WS(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vy(t){const e=Sr(vd),n=Sr(r1),r=me(()=>{const l=ae(t.to);return e.resolve(l)}),i=me(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Ws.bind(null,c));if(f>-1)return f;const h=yy(l[u-2]);return u>1&&yy(c)===h&&d[d.length-1].path!==h?d.findIndex(Ws.bind(null,l[u-2])):f}),o=me(()=>i.value>-1&&JS(n.params,r.value.params)),s=me(()=>i.value>-1&&i.value===n.matched.length-1&&Jb(n.params,r.value.params));function a(l={}){return XS(l)?e[ae(t.replace)?"replace":"push"](ae(t.to)).catch(rl):Promise.resolve()}return{route:r,href:me(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const GS=Qt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vy,setup(t,{slots:e}){const n=vr(vy(t)),{options:r}=Sr(vd),i=me(()=>({[_y(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_y(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Xl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),QS=GS;function XS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function JS(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Pr(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function yy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _y=(t,e,n)=>t??e??n,ZS=Qt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Sr(hp),i=me(()=>t.route||r.value),o=Sr(gy,0),s=me(()=>{let u=ae(o);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=me(()=>i.value.matched[s.value]);oc(gy,me(()=>s.value+1)),oc(YS,a),oc(hp,i);const l=pe();return Wt(()=>[l.value,a.value,t.name],([u,c,d],[f,h,m])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Ws(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return by(n.default,{Component:f,route:u});const h=d.props[c],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,_=Xl(f,vt({},m,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return by(n.default,{Component:_,route:u})||_}}});function by(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const eR=ZS;function tR(t){const e=jS(t.routes,t),n=t.parseQuery||zS,r=t.stringifyQuery||my,i=t.history,o=Ca(),s=Ca(),a=Ca(),l=nI(Bi);let u=Bi;Is&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=lh.bind(null,P=>""+P),d=lh.bind(null,hS),f=lh.bind(null,El);function h(P,X){let z,se;return e1(P)?(z=e.getRecordMatcher(P),se=X):se=P,e.addRoute(se,z)}function m(P){const X=e.getRecordMatcher(P);X&&e.removeRoute(X)}function p(){return e.getRoutes().map(P=>P.record)}function _(P){return!!e.getRecordMatcher(P)}function y(P,X){if(X=vt({},X||l.value),typeof P=="string"){const K=uh(n,P,X.path),H=e.resolve({path:K.path},X),de=i.createHref(K.fullPath);return vt(K,H,{params:f(H.params),hash:El(K.hash),redirectedFrom:void 0,href:de})}let z;if(P.path!=null)z=vt({},P,{path:uh(n,P.path,X.path).path});else{const K=vt({},P.params);for(const H in K)K[H]==null&&delete K[H];z=vt({},P,{params:d(K)}),X.params=d(X.params)}const se=e.resolve(z,X),le=P.hash||"";se.params=c(f(se.params));const Q=gS(r,vt({},P,{hash:cS(le),path:se.path})),M=i.createHref(Q);return vt({fullPath:Q,hash:le,query:r===my?KS(P.query):P.query||{}},se,{redirectedFrom:void 0,href:M})}function v(P){return typeof P=="string"?uh(n,P,l.value.path):vt({},P)}function b(P,X){if(u!==P)return Gs(8,{from:X,to:P})}function g(P){return A(P)}function T(P){return g(vt(v(P),{replace:!0}))}function O(P){const X=P.matched[P.matched.length-1];if(X&&X.redirect){const{redirect:z}=X;let se=typeof z=="function"?z(P):z;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=v(se):{path:se},se.params={}),vt({query:P.query,hash:P.hash,params:se.path!=null?{}:P.params},se)}}function A(P,X){const z=u=y(P),se=l.value,le=P.state,Q=P.force,M=P.replace===!0,K=O(z);if(K)return A(vt(v(K),{state:typeof K=="object"?vt({},le,K.state):le,force:Q,replace:M}),X||z);const H=z;H.redirectedFrom=X;let de;return!Q&&vS(r,se,z)&&(de=Gs(16,{to:H,from:se}),C(se,se,!0,!1)),(de?Promise.resolve(de):S(H,se)).catch(J=>gi(J)?gi(J,2)?J:U(J):ee(J,H,se)).then(J=>{if(J){if(gi(J,2))return A(vt({replace:M},v(J.to),{state:typeof J.to=="object"?vt({},le,J.to.state):le,force:Q}),X||H)}else J=w(H,se,!0,M,le);return E(H,se,J),J})}function I(P,X){const z=b(P,X);return z?Promise.reject(z):Promise.resolve()}function N(P){const X=Y.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(P):P()}function S(P,X){let z;const[se,le,Q]=nR(P,X);z=ch(se.reverse(),"beforeRouteLeave",P,X);for(const K of se)K.leaveGuards.forEach(H=>{z.push(Wi(H,P,X))});const M=I.bind(null,P,X);return z.push(M),j(z).then(()=>{z=[];for(const K of o.list())z.push(Wi(K,P,X));return z.push(M),j(z)}).then(()=>{z=ch(le,"beforeRouteUpdate",P,X);for(const K of le)K.updateGuards.forEach(H=>{z.push(Wi(H,P,X))});return z.push(M),j(z)}).then(()=>{z=[];for(const K of Q)if(K.beforeEnter)if(Pr(K.beforeEnter))for(const H of K.beforeEnter)z.push(Wi(H,P,X));else z.push(Wi(K.beforeEnter,P,X));return z.push(M),j(z)}).then(()=>(P.matched.forEach(K=>K.enterCallbacks={}),z=ch(Q,"beforeRouteEnter",P,X,N),z.push(M),j(z))).then(()=>{z=[];for(const K of s.list())z.push(Wi(K,P,X));return z.push(M),j(z)}).catch(K=>gi(K,8)?K:Promise.reject(K))}function E(P,X,z){a.list().forEach(se=>N(()=>se(P,X,z)))}function w(P,X,z,se,le){const Q=b(P,X);if(Q)return Q;const M=X===Bi,K=Is?history.state:{};z&&(se||M?i.replace(P.fullPath,vt({scroll:M&&K&&K.scroll},le)):i.push(P.fullPath,le)),l.value=P,C(P,X,z,M),U()}let R;function F(){R||(R=i.listen((P,X,z)=>{if(!Z.listening)return;const se=y(P),le=O(se);if(le){A(vt(le,{replace:!0}),se).catch(rl);return}u=se;const Q=l.value;Is&&kS(ay(Q.fullPath,z.delta),gd()),S(se,Q).catch(M=>gi(M,12)?M:gi(M,2)?(A(M.to,se).then(K=>{gi(K,20)&&!z.delta&&z.type===Al.pop&&i.go(-1,!1)}).catch(rl),Promise.reject()):(z.delta&&i.go(-z.delta,!1),ee(M,se,Q))).then(M=>{M=M||w(se,Q,!1),M&&(z.delta&&!gi(M,8)?i.go(-z.delta,!1):z.type===Al.pop&&gi(M,20)&&i.go(-1,!1)),E(se,Q,M)}).catch(rl)}))}let D=Ca(),B=Ca(),V;function ee(P,X,z){U(P);const se=B.list();return se.length?se.forEach(le=>le(P,X,z)):console.error(P),Promise.reject(P)}function W(){return V&&l.value!==Bi?Promise.resolve():new Promise((P,X)=>{D.add([P,X])})}function U(P){return V||(V=!P,F(),D.list().forEach(([X,z])=>P?z(P):X()),D.reset()),P}function C(P,X,z,se){const{scrollBehavior:le}=t;if(!Is||!le)return Promise.resolve();const Q=!z&&IS(ay(P.fullPath,0))||(se||!z)&&history.state&&history.state.scroll||null;return wn().then(()=>le(P,X,Q)).then(M=>M&&AS(M)).catch(M=>ee(M,P,X))}const L=P=>i.go(P);let x;const Y=new Set,Z={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,hasRoute:_,getRoutes:p,resolve:y,options:t,push:g,replace:T,go:L,back:()=>L(-1),forward:()=>L(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:B.add,isReady:W,install(P){const X=this;P.component("RouterLink",QS),P.component("RouterView",eR),P.config.globalProperties.$router=X,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),Is&&!x&&l.value===Bi&&(x=!0,g(i.location).catch(le=>{}));const z={};for(const le in Bi)Object.defineProperty(z,le,{get:()=>l.value[le],enumerable:!0});P.provide(vd,X),P.provide(r1,eb(z)),P.provide(hp,l);const se=P.unmount;Y.add(P),P.unmount=function(){Y.delete(P),Y.size<1&&(u=Bi,R&&R(),R=null,l.value=Bi,x=!1,V=!1),se()}}};function j(P){return P.reduce((X,z)=>X.then(()=>N(z)),Promise.resolve())}return Z}function nR(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(u=>Ws(u,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(u=>Ws(u,l))||i.push(l))}return[n,r,i]}function i1(){return Sr(vd)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var o1="store";function Jl(t){return t===void 0&&(t=null),Sr(t!==null?t:o1)}function ha(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function rR(t){return t!==null&&typeof t=="object"}function iR(t){return t&&typeof t.then=="function"}function oR(t,e){return function(){return t(e)}}function s1(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function a1(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;yd(t,n,[],t._modules.root,!0),km(t,n,e)}function km(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=Pk(!0);l.run(function(){ha(o,function(u,c){s[c]=oR(u,t),a[c]=me(function(){return s[c]()}),Object.defineProperty(t.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),t._state=vr({data:e}),t._scope=l,t.strict&&cR(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function yd(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=Im(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var u=r.context=sR(t,s,n);r.forEachMutation(function(c,d){var f=s+d;aR(t,f,c,u)}),r.forEachAction(function(c,d){var f=c.root?d:s+d,h=c.handler||c;lR(t,f,h,u)}),r.forEachGetter(function(c,d){var f=s+d;uR(t,f,c,u)}),r.forEachChild(function(c,d){yd(t,e,n.concat(d),c,i)})}function sR(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(o,s,a){var l=Ic(o,s,a),u=l.payload,c=l.options,d=l.type;return(!c||!c.root)&&(d=e+d),t.dispatch(d,u)},commit:r?t.commit:function(o,s,a){var l=Ic(o,s,a),u=l.payload,c=l.options,d=l.type;(!c||!c.root)&&(d=e+d),t.commit(d,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return l1(t,e)}},state:{get:function(){return Im(t.state,n)}}}),i}function l1(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function aR(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){n.call(t,r.state,s)})}function lR(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},s);return iR(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function uR(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function cR(t){Wt(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Im(t,e){return e.reduce(function(n,r){return n[r]},t)}function Ic(t,e,n){return rR(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var dR="vuex bindings",wy="vuex:mutations",dh="vuex:actions",Ts="vuex",fR=0;function hR(t,e){Zx({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[dR]},function(n){n.addTimelineLayer({id:wy,label:"Vuex Mutations",color:Ty}),n.addTimelineLayer({id:dh,label:"Vuex Actions",color:Ty}),n.addInspector({id:Ts,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Ts)if(r.filter){var i=[];f1(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[d1(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Ts){var i=r.nodeId;l1(e,i),r.state=gR(yR(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Ts){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Ts),n.sendInspectorState(Ts),n.addTimelineEvent({layerId:wy,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=fR++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:dh,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:dh,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var Ty=8702998,pR=6710886,mR=16777215,u1={label:"namespaced",textColor:mR,backgroundColor:pR};function c1(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function d1(t,e){return{id:e||"root",label:c1(e),tags:t.namespaced?[u1]:[],children:Object.keys(t._children).map(function(n){return d1(t._children[n],e+n+"/")})}}function f1(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[u1]:[]}),Object.keys(e._children).forEach(function(i){f1(t,e._children[i],n,r+i+"/")})}function gR(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(r.length){var o=vR(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?c1(s):s,editable:!1,value:pp(function(){return o[s]})}})}return i}function vR(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=pp(function(){return t[n]})}else e[n]=pp(function(){return t[n]})}),e}function yR(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===n.length-1?s:s._children},e==="root"?t:t.root._children)}function pp(t){try{return t()}catch(e){return e}}var Lr=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},h1={namespaced:{configurable:!0}};h1.namespaced.get=function(){return!!this._rawModule.namespaced};Lr.prototype.addChild=function(e,n){this._children[e]=n};Lr.prototype.removeChild=function(e){delete this._children[e]};Lr.prototype.getChild=function(e){return this._children[e]};Lr.prototype.hasChild=function(e){return e in this._children};Lr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Lr.prototype.forEachChild=function(e){ha(this._children,e)};Lr.prototype.forEachGetter=function(e){this._rawModule.getters&&ha(this._rawModule.getters,e)};Lr.prototype.forEachAction=function(e){this._rawModule.actions&&ha(this._rawModule.actions,e)};Lr.prototype.forEachMutation=function(e){this._rawModule.mutations&&ha(this._rawModule.mutations,e)};Object.defineProperties(Lr.prototype,h1);var as=function(e){this.register([],e,!1)};as.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};as.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};as.prototype.update=function(e){p1([],this.root,e)};as.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var o=new Lr(n,r);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}n.modules&&ha(n.modules,function(a,l){i.register(e.concat(l),a,r)})};as.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};as.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function p1(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;p1(t.concat(r),e.getChild(r),n.modules[r])}}function _R(t){return new tr(t)}var tr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new as(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(f,h){return l.call(s,f,h)},this.commit=function(f,h,m){return u.call(s,f,h,m)},this.strict=i;var c=this._modules.root.state;yd(this,c,[],this._modules.root),km(this,c),r.forEach(function(d){return d(n)})},xm={state:{configurable:!0}};tr.prototype.install=function(e,n){e.provide(n||o1,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&hR(e,this)};xm.state.get=function(){return this._state.data};xm.state.set=function(t){};tr.prototype.commit=function(e,n,r){var i=this,o=Ic(e,n,r),s=o.type,a=o.payload,l={type:s,payload:a},u=this._mutations[s];u&&(this._withCommit(function(){u.forEach(function(d){d(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};tr.prototype.dispatch=function(e,n){var r=this,i=Ic(e,n),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(s)})):l[0](s);return new Promise(function(c,d){u.then(function(f){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,r.state)})}catch{}c(f)},function(f){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,r.state,f)})}catch{}d(f)})})}};tr.prototype.subscribe=function(e,n){return s1(e,this._subscribers,n)};tr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return s1(r,this._actionSubscribers,n)};tr.prototype.watch=function(e,n,r){var i=this;return Wt(function(){return e(i.state,i.getters)},n,Object.assign({},r))};tr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};tr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),yd(this,this.state,e,this._modules.get(e),r.preserveState),km(this,this.state)};tr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Im(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),a1(this)};tr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};tr.prototype.hotUpdate=function(e){this._modules.update(e),a1(this,!0)};tr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(tr.prototype,xm);var Ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new wR;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(t){const e=m1(t);return g1.encodeByteArray(e,!0)},xc=function(t){return TR(t).replace(/\./g,"")},v1=function(t){try{return g1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>ER().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof Ey>"u")return;const t=Ey.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v1(t[1]);return e&&JSON.parse(e)},_d=()=>{try{return AR()||kR()||IR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y1=t=>{var e,n;return(n=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_1=t=>{const e=y1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},b1=()=>{var t;return(t=_d())===null||t===void 0?void 0:t.config},w1=t=>{var e;return(e=_d())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xc(JSON.stringify(n)),xc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function RR(){var t;const e=(t=_d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PR(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CR(){return!RR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A1(){try{return typeof indexedDB=="object"}catch{return!1}}function k1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function DR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="FirebaseError";class _r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NR,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?MR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new _r(i,a,r)}}function MR(t,e){return t.replace(LR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LR=/\{\$([^}]+)}/g;function VR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Ay(o)&&Ay(s)){if(!kl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ay(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $R(t,e){const n=new FR(t,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fh),i.error===void 0&&(i.error=fh),i.complete===void 0&&(i.complete=fh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1e3,UR=2,qR=4*60*60*1e3,HR=.5;function ky(t,e=jR,n=UR){const r=e*Math.pow(n,t),i=Math.round(HR*r*(Math.random()-.5)*2);return Math.min(qR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(t){return t===No?void 0:t}function YR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const GR={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},QR=ot.INFO,XR={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},JR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bd{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const ZR=(t,e)=>e.some(n=>t instanceof n);let Iy,xy;function eO(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tO(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I1=new WeakMap,mp=new WeakMap,x1=new WeakMap,hh=new WeakMap,Sm=new WeakMap;function nO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(oo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&I1.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function rO(t){if(mp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});mp.set(t,e)}let gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iO(t){gp=t(gp)}function oO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ph(this),e,...n);return x1.set(r,e.sort?e.sort():[e]),oo(r)}:tO().includes(t)?function(...e){return t.apply(ph(this),e),oo(I1.get(this))}:function(...e){return oo(t.apply(ph(this),e))}}function sO(t){return typeof t=="function"?oO(t):(t instanceof IDBTransaction&&rO(t),ZR(t,eO())?new Proxy(t,gp):t)}function oo(t){if(t instanceof IDBRequest)return nO(t);if(hh.has(t))return hh.get(t);const e=sO(t);return e!==t&&(hh.set(t,e),Sm.set(e,t)),e}const ph=t=>Sm.get(t);function S1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=oo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(oo(s.result),l.oldVersion,l.newVersion,oo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const aO=["get","getKey","getAll","getAllKeys","count"],lO=["put","add","delete","clear"],mh=new Map;function Sy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mh.get(e))return mh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aO.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return mh.set(e,o),o}iO(t=>({...t,get:(e,n,r)=>Sy(e,n)||t.get(e,n,r),has:(e,n)=>!!Sy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",Ry="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new bd("@firebase/app"),dO="@firebase/app-compat",fO="@firebase/analytics-compat",hO="@firebase/analytics",pO="@firebase/app-check-compat",mO="@firebase/app-check",gO="@firebase/auth",vO="@firebase/auth-compat",yO="@firebase/database",_O="@firebase/database-compat",bO="@firebase/functions",wO="@firebase/functions-compat",TO="@firebase/installations",EO="@firebase/installations-compat",AO="@firebase/messaging",kO="@firebase/messaging-compat",IO="@firebase/performance",xO="@firebase/performance-compat",SO="@firebase/remote-config",RO="@firebase/remote-config-compat",OO="@firebase/storage",PO="@firebase/storage-compat",CO="@firebase/firestore",DO="@firebase/firestore-compat",NO="firebase",MO="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",LO={[vp]:"fire-core",[dO]:"fire-core-compat",[hO]:"fire-analytics",[fO]:"fire-analytics-compat",[mO]:"fire-app-check",[pO]:"fire-app-check-compat",[gO]:"fire-auth",[vO]:"fire-auth-compat",[yO]:"fire-rtdb",[_O]:"fire-rtdb-compat",[bO]:"fire-fn",[wO]:"fire-fn-compat",[TO]:"fire-iid",[EO]:"fire-iid-compat",[AO]:"fire-fcm",[kO]:"fire-fcm-compat",[IO]:"fire-perf",[xO]:"fire-perf-compat",[SO]:"fire-rc",[RO]:"fire-rc-compat",[OO]:"fire-gcs",[PO]:"fire-gcs-compat",[CO]:"fire-fst",[DO]:"fire-fst-compat","fire-js":"fire-js",[NO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,VO=new Map,_p=new Map;function Oy(t,e){try{t.container.addComponent(e)}catch(n){Xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){const e=t.name;if(_p.has(e))return Xo.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of Sc.values())Oy(n,t);for(const n of VO.values())Oy(n,t);return!0}function wo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new ls("app","Firebase",$O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=MO;function R1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw so.create("bad-app-name",{appName:String(i)});if(n||(n=b1()),!n)throw so.create("no-options");const o=Sc.get(i);if(o){if(kl(n,o.options)&&kl(r,o.config))return o;throw so.create("duplicate-app",{appName:i})}const s=new WR(i);for(const l of _p.values())s.addComponent(l);const a=new FO(n,r,s);return Sc.set(i,a),a}function wd(t=yp){const e=Sc.get(t);if(!e&&t===yp&&b1())return R1();if(!e)throw so.create("no-app",{appName:t});return e}function Jn(t,e,n){var r;let i=(r=LO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xo.warn(a.join(" "));return}Cr(new yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="firebase-heartbeat-database",jO=1,Il="firebase-heartbeat-store";let gh=null;function O1(){return gh||(gh=S1(BO,jO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw so.create("idb-open",{originalErrorMessage:t.message})})),gh}async function UO(t){try{const n=(await O1()).transaction(Il),r=await n.objectStore(Il).get(P1(t));return await n.done,r}catch(e){if(e instanceof _r)Xo.warn(e.message);else{const n=so.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xo.warn(n.message)}}}async function Py(t,e){try{const r=(await O1()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,P1(t)),await r.done}catch(n){if(n instanceof _r)Xo.warn(n.message);else{const r=so.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xo.warn(r.message)}}}function P1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=1024,HO=30*24*60*60*1e3;class zO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Cy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=HO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cy(),{heartbeatsToSend:r,unsentEntries:i}=KO(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Cy(){return new Date().toISOString().substring(0,10)}function KO(t,e=qO){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Dy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A1()?k1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Py(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Py(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Dy(t){return xc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){Cr(new yr("platform-logger",e=>new uO(e),"PRIVATE")),Cr(new yr("heartbeat",e=>new zO(e),"PRIVATE")),Jn(vp,Ry,t),Jn(vp,Ry,"esm2017"),Jn("fire-js","")}WO("");var GO="firebase",QO="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(GO,QO,"app");const C1="@firebase/installations",Rm="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1e4,N1=`w:${Rm}`,M1="FIS_v2",XO="https://firebaseinstallations.googleapis.com/v1",JO=60*60*1e3,ZO="installations",eP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jo=new ls(ZO,eP,tP);function L1(t){return t instanceof _r&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1({projectId:t}){return`${XO}/projects/${t}/installations`}function $1(t){return{token:t.token,requestStatus:2,expiresIn:rP(t.expiresIn),creationTime:Date.now()}}async function F1(t,e){const r=(await e.json()).error;return Jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function B1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function nP(t,{refreshToken:e}){const n=B1(t);return n.append("Authorization",iP(e)),n}async function j1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function rP(t){return Number(t.replace("s","000"))}function iP(t){return`${M1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=V1(t),i=B1(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:M1,appId:t.appId,sdkVersion:N1},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await j1(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:$1(u.authToken)}}else throw await F1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=/^[cdef][\w-]{21}$/,bp="";function lP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=uP(t);return aP.test(n)?n:bp}catch{return bp}}function uP(t){return sP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new Map;function H1(t,e){const n=Td(t);z1(n,e),cP(n,e)}function z1(t,e){const n=q1.get(t);if(n)for(const r of n)r(e)}function cP(t,e){const n=dP();n&&n.postMessage({key:t,fid:e}),fP()}let Bo=null;function dP(){return!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=t=>{z1(t.data.key,t.data.fid)}),Bo}function fP(){q1.size===0&&Bo&&(Bo.close(),Bo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="firebase-installations-database",pP=1,Zo="firebase-installations-store";let vh=null;function Om(){return vh||(vh=S1(hP,pP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zo)}}})),vh}async function Rc(t,e){const n=Td(t),i=(await Om()).transaction(Zo,"readwrite"),o=i.objectStore(Zo),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&H1(t,e.fid),e}async function K1(t){const e=Td(t),r=(await Om()).transaction(Zo,"readwrite");await r.objectStore(Zo).delete(e),await r.done}async function Ed(t,e){const n=Td(t),i=(await Om()).transaction(Zo,"readwrite"),o=i.objectStore(Zo),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&H1(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(t){let e;const n=await Ed(t.appConfig,r=>{const i=mP(r),o=gP(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===bp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function mP(t){const e=t||{fid:lP(),registrationStatus:0};return Y1(e)}function gP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Jo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yP(t)}:{installationEntry:e}}async function vP(t,e){try{const n=await oP(t,e);return Rc(t.appConfig,n)}catch(n){throw L1(n)&&n.customData.serverCode===409?await K1(t.appConfig):await Rc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yP(t){let e=await Ny(t.appConfig);for(;e.registrationStatus===1;)await U1(100),e=await Ny(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Pm(t);return r||n}return e}function Ny(t){return Ed(t,e=>{if(!e)throw Jo.create("installation-not-found");return Y1(e)})}function Y1(t){return _P(t)?{fid:t.fid,registrationStatus:0}:t}function _P(t){return t.registrationStatus===1&&t.registrationTime+D1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP({appConfig:t,heartbeatServiceProvider:e},n){const r=wP(t,n),i=nP(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:N1,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await j1(()=>fetch(r,a));if(l.ok){const u=await l.json();return $1(u)}else throw await F1("Generate Auth Token",l)}function wP(t,{fid:e}){return`${V1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(t,e=!1){let n;const r=await Ed(t.appConfig,o=>{if(!W1(o))throw Jo.create("not-registered");const s=o.authToken;if(!e&&AP(s))return o;if(s.requestStatus===1)return n=TP(t,e),o;{if(!navigator.onLine)throw Jo.create("app-offline");const a=IP(o);return n=EP(t,a),a}});return n?await n:r.authToken}async function TP(t,e){let n=await My(t.appConfig);for(;n.authToken.requestStatus===1;)await U1(100),n=await My(t.appConfig);const r=n.authToken;return r.requestStatus===0?Cm(t,e):r}function My(t){return Ed(t,e=>{if(!W1(e))throw Jo.create("not-registered");const n=e.authToken;return xP(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function EP(t,e){try{const n=await bP(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Rc(t.appConfig,r),n}catch(n){if(L1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await K1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Rc(t.appConfig,r)}throw n}}function W1(t){return t!==void 0&&t.registrationStatus===2}function AP(t){return t.requestStatus===2&&!kP(t)}function kP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+JO}function IP(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function xP(t){return t.requestStatus===1&&t.requestTime+D1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t){const e=t,{installationEntry:n,registrationPromise:r}=await Pm(e);return r?r.catch(console.error):Cm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e=!1){const n=t;return await OP(n),(await Cm(n,e)).token}async function OP(t){const{registrationPromise:e}=await Pm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){if(!t||!t.options)throw yh("App Configuration");if(!t.name)throw yh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yh(t){return Jo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="installations",CP="installations-internal",DP=t=>{const e=t.getProvider("app").getImmediate(),n=PP(e),r=wo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},NP=t=>{const e=t.getProvider("app").getImmediate(),n=wo(e,G1).getImmediate();return{getId:()=>SP(n),getToken:i=>RP(n,i)}};function MP(){Cr(new yr(G1,DP,"PUBLIC")),Cr(new yr(CP,NP,"PRIVATE"))}MP();Jn(C1,Rm);Jn(C1,Rm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="analytics",LP="firebase_id",VP="origin",$P=60*1e3,FP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new bd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},lr=new ls("analytics","Analytics",BP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){if(!t.startsWith(Dm)){const e=lr.create("invalid-gtag-resource",{gtagURL:t});return Zn.warn(e.message),""}return t}function Q1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function UP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function qP(t,e){const n=UP("firebase-js-sdk-policy",{createScriptURL:jP}),r=document.createElement("script"),i=`${Dm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function HP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function zP(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await Q1(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Zn.error(a)}t("config",i,o)}async function KP(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await Q1(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Zn.error(o)}}function YP(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await KP(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await zP(t,e,n,r,a,l)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,l,u]=s;t("get",a,l,u)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Zn.error(a)}}return i}function WP(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=YP(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function GP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Dm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=30,XP=1e3;class JP{constructor(e={},n=XP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const X1=new JP;function ZP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function e2(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ZP(r)},o=FP.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function t2(t,e=X1,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw lr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw lr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new i2;return setTimeout(async()=>{a.abort()},$P),J1({appId:r,apiKey:i,measurementId:o},s,a,e)}async function J1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=X1){var o;const{appId:s,measurementId:a}=t;try{await n2(r,e)}catch(l){if(a)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await e2(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!r2(u)){if(i.deleteThrottleMetadata(s),a)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?ky(n,i.intervalMillis,QP):ky(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),Zn.debug(`Calling attemptFetch again in ${c} millis`),J1(t,d,r,i)}}function n2(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function r2(t){if(!(t instanceof _r)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class i2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function o2(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(){if(A1())try{await k1()}catch(t){return Zn.warn(lr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a2(t,e,n,r,i,o,s){var a;const l=t2(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Zn.error(h)),e.push(l);const u=s2().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);GP(o)||qP(o,c.measurementId),i("js",new Date);const f=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return f[VP]="firebase",f.update=!0,d!=null&&(f[LP]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.app=e}_delete(){return delete ol[this.app.options.appId],Promise.resolve()}}let ol={},Ly=[];const Vy={};let _h="dataLayer",u2="gtag",$y,Z1,Fy=!1;function c2(){const t=[];if(E1()&&t.push("This is a browser extension environment."),DR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=lr.create("invalid-analytics-context",{errorInfo:e});Zn.warn(n.message)}}function d2(t,e,n){c2();const r=t.options.appId;if(!r)throw lr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw lr.create("no-api-key");if(ol[r]!=null)throw lr.create("already-exists",{id:r});if(!Fy){HP(_h);const{wrappedGtag:o,gtagCore:s}=WP(ol,Ly,Vy,_h,u2);Z1=o,$y=s,Fy=!0}return ol[r]=a2(t,Ly,Vy,e,$y,_h,n),new l2(t)}function f2(t=wd()){t=It(t);const e=wo(t,Oc);return e.isInitialized()?e.getImmediate():h2(t)}function h2(t,e={}){const n=wo(t,Oc);if(n.isInitialized()){const i=n.getImmediate();if(kl(e,n.getOptions()))return i;throw lr.create("already-initialized")}return n.initialize({options:e})}function p2(t,e,n,r){t=It(t),o2(Z1,ol[t.app.options.appId],e,n,r).catch(i=>Zn.error(i))}const By="@firebase/analytics",jy="0.10.2";function m2(){Cr(new yr(Oc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return d2(r,i,n)},"PUBLIC")),Cr(new yr("analytics-internal",t,"PRIVATE")),Jn(By,jy),Jn(By,jy,"esm2017");function t(e){try{const n=e.getProvider(Oc).getImmediate();return{logEvent:(r,i,o)=>p2(n,r,i,o)}}catch(n){throw lr.create("interop-component-reg-failed",{reason:n})}}}m2();function Nm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ew(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=ew,tw=new ls("auth","Firebase",ew());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new bd("@firebase/auth");function v2(t,...e){Pc.logLevel<=ot.WARN&&Pc.warn(`Auth (${us}): ${t}`,...e)}function uc(t,...e){Pc.logLevel<=ot.ERROR&&Pc.error(`Auth (${us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Mm(t,...e)}function ei(t,...e){return Mm(t,...e)}function nw(t,e,n){const r=Object.assign(Object.assign({},g2()),{[e]:n});return new ls("auth","Firebase",r).create(e,{appName:t.name})}function ao(t){return nw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tw.create(t,...e)}function Ue(t,e,...n){if(!t)throw Mm(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uc(e),new Error(e)}function Ri(t,e){t||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y2(){return Uy()==="http:"||Uy()==="https:"}function Uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||E1()||"connection"in navigator)?navigator.onLine:!0}function b2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=SR()||OR()}get(){return _2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new eu(3e4,6e4);function cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function To(t,e,n,r,i={}){return iw(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Zl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rw.fetch()(ow(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function iw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w2),e);try{const i=new A2(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ju(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw ju(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nw(t,c,u);Dr(t,c)}}catch(i){if(i instanceof _r)throw i;Dr(t,"network-request-failed",{message:String(i)})}}async function Ad(t,e,n,r,i={}){const o=await To(t,e,n,r,i);return"mfaPendingCredential"in o&&Dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function ow(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lm(t.config,i):`${t.config.apiScheme}://${i}`}function E2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),T2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ei(t,e,r);return i.customData._tokenResponse=n,i}function qy(t){return t!==void 0&&t.enterprise!==void 0}class k2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function I2(t,e){return To(t,"GET","/v2/recaptchaConfig",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e){return To(t,"POST","/v1/accounts:delete",e)}async function sw(t,e){return To(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S2(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=Vm(r);Ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sl(bh(i.auth_time)),issuedAtTime:sl(bh(i.iat)),expirationTime:sl(bh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function bh(t){return Number(t)*1e3}function Vm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uc("JWT malformed, contained fewer than 3 sections"),null;try{const i=v1(n);return i?JSON.parse(i):(uc("Failed to decode base64 JWT payload"),null)}catch(i){return uc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hy(t){const e=Vm(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _r&&R2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xl(t,sw(n,{idToken:r}));Ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?aw(o.providerUserInfo):[],a=C2(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function P2(t){const e=It(t);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aw(t){return t.map(e=>{var{providerId:n}=e,r=Nm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t,e){const n=await iw(t,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ow(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rw.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N2(t,e){return To(t,"POST","/v2/accounts:revokeToken",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=Hy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await D2(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Fs;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fs,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Nm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S2(this,e)}reload(){return P2(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await xl(this,x2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:g,isAnonymous:T,providerData:O,stsTokenManager:A}=n;Ue(b&&A,e,"internal-error");const I=Fs.fromJSON(this.name,A);Ue(typeof b=="string",e,"internal-error"),ji(d,e.name),ji(f,e.name),Ue(typeof g=="boolean",e,"internal-error"),Ue(typeof T=="boolean",e,"internal-error"),ji(h,e.name),ji(m,e.name),ji(p,e.name),ji(_,e.name),ji(y,e.name),ji(v,e.name);const N=new bi({uid:b,auth:e,email:f,emailVerified:g,displayName:d,isAnonymous:T,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:y,lastLoginAt:v});return O&&Array.isArray(O)&&(N.providerData=O.map(S=>Object.assign({},S))),_&&(N._redirectEventId=_),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fs;i.updateFromServerResponse(n);const o=new bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?aw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Fs;a.updateFromIdToken(r);const l=new bi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;function wi(t){Ri(t instanceof Function,"Expected a class definition");let e=zy.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lw.type="NONE";const Ky=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cc(this.userKey,i.apiKey,o),this.fullPersistenceKey=cc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(wi(Ky),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||wi(Ky);const s=cc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=bi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Bs(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Bs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hw(e))return"Blackberry";if(pw(e))return"Webos";if($m(e))return"Safari";if((e.includes("chrome/")||cw(e))&&!e.includes("edge/"))return"Chrome";if(fw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uw(t=En()){return/firefox\//i.test(t)}function $m(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cw(t=En()){return/crios\//i.test(t)}function dw(t=En()){return/iemobile/i.test(t)}function fw(t=En()){return/android/i.test(t)}function hw(t=En()){return/blackberry/i.test(t)}function pw(t=En()){return/webos/i.test(t)}function kd(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M2(t=En()){var e;return kd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L2(){return PR()&&document.documentMode===10}function mw(t=En()){return kd(t)||fw(t)||pw(t)||hw(t)||/windows phone/i.test(t)||dw(t)}function V2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e=[]){let n;switch(t){case"Browser":n=Yy(En());break;case"Worker":n=`${Yy(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e={}){return To(t,"GET","/v2/passwordPolicy",cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=6;class j2{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:B2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wy(this),this.idTokenSubscription=new Wy(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sw(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(ao(this));const n=e?It(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F2(this),n=new j2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ls("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await N2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&v2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pa(t){return It(t)}class Wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(t){Id=t}function vw(t){return Id.loadJS(t)}function H2(){return Id.recaptchaEnterpriseScript}function z2(){return Id.gapiScript}function K2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Y2="recaptcha-enterprise",W2="NO_RECAPTCHA";class G2{constructor(e){this.type=Y2,this.auth=pa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{I2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new k2(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;qy(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(W2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&qy(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=H2();l.length!==0&&(l+=a),vw(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function Gy(t,e,n,r=!1){const i=new G2(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Qy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Gy(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){const n=wo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(kl(o,e??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function X2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J2(t,e,n){const r=pa(t);Ue(r._canInitEmulator,r,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=yw(e),{host:s,port:a}=Z2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),eC()}function yw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z2(t){const e=yw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Xy(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Xy(s)}}}function Xy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function tC(t,e){return To(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t,e){return Ad(t,"POST","/v1/accounts:signInWithPassword",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}async function iC(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Fm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qy(e,n,"signInWithPassword",nC);case"emailLink":return rC(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qy(e,r,"signUpPassword",tC);case"emailLink":return iC(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e){return Ad(t,"POST","/v1/accounts:signInWithIdp",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="http://localhost";class es extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Nm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new es(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}buildRequest(){const e={requestUri:oC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aC(t){const e=Ua(qa(t)).link,n=e?Ua(qa(e)).deep_link_id:null,r=Ua(qa(t)).deep_link_id;return(r?Ua(qa(r)).link:null)||r||n||e||t}class Bm{constructor(e){var n,r,i,o,s,a;const l=Ua(qa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=sC((i=l.mode)!==null&&i!==void 0?i:null);Ue(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=aC(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return Sl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bm.parseLink(n);return Ue(r,"argument-error"),Sl._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends _w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends tu{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends tu{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends tu{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await bi._fromIdTokenResponse(e,r,i),s=Jy(r);return new Qs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Jy(r);return new Qs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Jy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends _r{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dc(e,n,r,i)}}function bw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(t,o,e,r):o})}async function lC(t,e,n=!1){const r=await xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){const{auth:r}=t;if(yi(r.app))return Promise.reject(ao(r));const i="reauthenticate";try{const o=await xl(t,bw(r,i,e,t),n);Ue(o.idToken,r,"internal-error");const s=Vm(o.idToken);Ue(s,r,"internal-error");const{sub:a}=s;return Ue(t.uid===a,r,"user-mismatch"),Qs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(t,e,n=!1){if(yi(t.app))return Promise.reject(ao(t));const r="signIn",i=await bw(t,r,e),o=await Qs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function cC(t,e){return ww(pa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t){const e=pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function fC(t,e,n){return yi(t.app)?Promise.reject(ao(t)):cC(It(t),ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){return It(t).setPersistence(e)}function hC(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function pC(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function mC(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function Zy(t){return It(t).signOut()}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){const t=En();return $m(t)||kd(t)}const vC=1e3,yC=10;class Aw extends Ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gC()&&V2(),this.fallbackToPolling=mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);L2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yC):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Aw.type="LOCAL";const jm=Aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kw.type="SESSION";const Iw=kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await _C(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Um("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function wC(t){ti().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function TC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AC(){return xw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firebaseLocalStorageDb",kC=1,Mc="firebaseLocalStorage",Rw="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sd(t,e){return t.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function IC(){const t=indexedDB.deleteDatabase(Sw);return new nu(t).toPromise()}function Ep(){const t=indexedDB.open(Sw,kC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mc,{keyPath:Rw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mc)?e(r):(r.close(),await IC(),e(await Ep()))})})}async function e_(t,e,n){const r=Sd(t,!0).put({[Rw]:e,value:n});return new nu(r).toPromise()}async function xC(t,e){const n=Sd(t,!1).get(e),r=await new nu(n).toPromise();return r===void 0?null:r.value}function t_(t,e){const n=Sd(t,!0).delete(e);return new nu(n).toPromise()}const SC=800,RC=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(AC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await e_(e,Nc,"1"),await t_(e,Nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Sd(i,!1).getAll();return new nu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const OC=Ow;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e){return e?wi(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CC(t){return ww(t.auth,new qm(t),t.bypassAuthState)}function DC(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),uC(n,new qm(t),t.bypassAuthState)}async function NC(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),lC(n,new qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CC;case"linkViaPopup":case"linkViaRedirect":return NC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:Dr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new eu(2e3,1e4);class Cs extends Pw{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MC.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="pendingRedirect",dc=new Map;class VC extends Pw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dc.get(this.auth._key());if(!e){try{const r=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dc.set(this.auth._key(),e)}return this.bypassAuthState||dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(t,e){const n=jC(e),r=BC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FC(t,e){dc.set(t._key(),e)}function BC(t){return wi(t._redirectPersistence)}function jC(t){return cc(LC,t.config.apiKey,t.name)}async function UC(t,e,n=!1){if(yi(t.app))return Promise.reject(ao(t));const r=pa(t),i=PC(r,e),s=await new VC(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=10*60*1e3;class HC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Cw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qC&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Cw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(t,e={}){return To(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function GC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KC(t);for(const n of e)try{if(QC(n))return}catch{}Dr(t,"unauthorized-domain")}function QC(t){const e=wp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!WC.test(n))return!1;if(YC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new eu(3e4,6e4);function r_(){const t=ti().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JC(t){return new Promise((e,n)=>{var r,i,o;function s(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),n(ei(t,"network-request-failed"))},timeout:XC.get()})}if(!((i=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ti().gapi)===null||o===void 0)&&o.load)s();else{const a=K2("iframefcb");return ti()[a]=()=>{gapi.load?s():n(ei(t,"network-request-failed"))},vw(`${z2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw fc=null,e})}let fc=null;function ZC(t){return fc=fc||JC(t),fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new eu(5e3,15e3),tD="__/auth/iframe",nD="emulator/auth/iframe",rD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lm(e,nD):`https://${t.config.authDomain}/${tD}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=iD.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zl(r).slice(1)}`}async function sD(t){const e=await ZC(t),n=ti().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:oD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=ei(t,"network-request-failed"),a=ti().setTimeout(()=>{o(s)},eD.get());function l(){ti().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lD=500,uD=600,cD="_blank",dD="http://localhost";class i_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fD(t,e,n,r=lD,i=uD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aD),{width:r.toString(),height:i.toString(),top:o,left:s}),u=En().toLowerCase();n&&(a=cw(u)?cD:n),uw(u)&&(e=e||dD,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(M2(u)&&a!=="_self")return hD(e||"",a),new i_(null);const d=window.open(e||"",a,c);Ue(d,t,"popup-blocked");try{d.focus()}catch{}return new i_(d)}function hD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="__/auth/handler",mD="emulator/auth/handler",gD=encodeURIComponent("fac");async function o_(t,e,n,r,i,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof _w){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",VR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof tu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${gD}=${encodeURIComponent(l)}`:"";return`${vD(t)}?${Zl(a).slice(1)}${u}`}function vD({config:t}){return t.emulator?Lm(t,mD):`https://${t.authDomain}/${pD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="webStorageSupport";class yD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iw,this._completeRedirectFn=UC,this._overrideRedirectResult=FC}async _openPopup(e,n,r,i){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await o_(e,n,r,wp(),i);return fD(e,s,Um())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await o_(e,n,r,wp(),i);return wC(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sD(e),r=new HC(e);return n.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wh,{type:wh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[wh];s!==void 0&&n(!!s),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mw()||$m()||kd()}}const _D=yD;var s_="@firebase/auth",a_="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(t){Cr(new yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gw(t)},u=new U2(r,i,o,l);return X2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new yr("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(r=>new bD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(s_,a_,wD(t)),Jn(s_,a_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=5*60,AD=w1("authIdTokenMaxAge")||ED;let l_=null;const kD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AD)return;const i=n==null?void 0:n.token;l_!==i&&(l_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ID(t=wd()){const e=wo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q2(t,{popupRedirectResolver:_D,persistence:[OC,jm,Iw]}),r=w1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=kD(o.toString());pC(n,s,()=>s(n.currentUser)),hC(n,a=>s(a))}}const i=y1("auth");return i&&J2(n,`http://${i}`),n}function xD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ei("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");var SD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se,Hm=Hm||{},Ke=SD||self;function Rd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Od(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function RD(t){return Object.prototype.hasOwnProperty.call(t,Th)&&t[Th]||(t[Th]=++OD)}var Th="closure_uid_"+(1e9*Math.random()>>>0),OD=0;function PD(t,e,n){return t.call.apply(t.bind,arguments)}function CD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nn=PD:Nn=CD,Nn.apply(null,arguments)}function Uu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Eo(){this.s=this.s,this.o=this.o}var DD=0;Eo.prototype.s=!1;Eo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),DD!=0)&&RD(this)};Eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function u_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Rd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Mn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Mn.prototype.h=function(){this.defaultPrevented=!0};var ND=function(){if(!Ke.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ke.addEventListener("test",n,e),Ke.removeEventListener("test",n,e)}catch{}return t}();function Rl(t){return/^[\s\xa0]*$/.test(t)}function Pd(){var t=Ke.navigator;return t&&(t=t.userAgent)?t:""}function Kr(t){return Pd().indexOf(t)!=-1}function Km(t){return Km[" "](t),t}Km[" "]=function(){};function MD(t,e){var n=SN;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var LD=Kr("Opera"),Xs=Kr("Trident")||Kr("MSIE"),Nw=Kr("Edge"),Ap=Nw||Xs,Mw=Kr("Gecko")&&!(Pd().toLowerCase().indexOf("webkit")!=-1&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),VD=Pd().toLowerCase().indexOf("webkit")!=-1&&!Kr("Edge");function Lw(){var t=Ke.document;return t?t.documentMode:void 0}var kp;e:{var Eh="",Ah=function(){var t=Pd();if(Mw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Nw)return/Edge\/([\d\.]+)/.exec(t);if(Xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(VD)return/WebKit\/(\S+)/.exec(t);if(LD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ah&&(Eh=Ah?Ah[1]:""),Xs){var kh=Lw();if(kh!=null&&kh>parseFloat(Eh)){kp=String(kh);break e}}kp=Eh}var Ip;if(Ke.document&&Xs){var c_=Lw();Ip=c_||parseInt(kp,10)||void 0}else Ip=void 0;var $D=Ip;function Ol(t,e){if(Mn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Mw){e:{try{Km(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:FD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ol.$.h.call(this)}}cn(Ol,Mn);var FD={2:"touch",3:"pen",4:"mouse"};Ol.prototype.h=function(){Ol.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cd="closure_listenable_"+(1e6*Math.random()|0),BD=0;function jD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++BD,this.fa=this.ia=!1}function Dd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ym(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function UD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Vw(t){const e={};for(const n in t)e[n]=t[n];return e}const d_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $w(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<d_.length;o++)n=d_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nd(t){this.src=t,this.g={},this.h=0}Nd.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Sp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new jD(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function xp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Dw(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Dd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Sp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Wm="closure_lm_"+(1e6*Math.random()|0),Ih={};function Fw(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Fw(t,e[o],n,r,i);return null}return n=Uw(n),t&&t[Cd]?t.O(e,n,Od(r)?!!r.capture:!!r,i):qD(t,e,n,!1,r,i)}function qD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Od(i)?!!i.capture:!!i,a=Qm(t);if(a||(t[Wm]=a=new Nd(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=HD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ND||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HD(){function t(n){return e.call(t.src,t.listener,n)}const e=zD;return t}function Bw(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Bw(t,e[o],n,r,i);else r=Od(r)?!!r.capture:!!r,n=Uw(n),t&&t[Cd]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Sp(o,n,r,i),-1<n&&(Dd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Qm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sp(e,n,r,i)),(n=-1<t?e[t]:null)&&Gm(n))}function Gm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cd])xp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Qm(e))?(xp(n,t),n.h==0&&(n.src=null,e[Wm]=null)):Dd(t)}}}function jw(t){return t in Ih?Ih[t]:Ih[t]="on"+t}function zD(t,e){if(t.fa)t=!0;else{e=new Ol(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Gm(t),t=n.call(r,e)}return t}function Qm(t){return t=t[Wm],t instanceof Nd?t:null}var xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uw(t){return typeof t=="function"?t:(t[xh]||(t[xh]=function(e){return t.handleEvent(e)}),t[xh])}function un(){Eo.call(this),this.i=new Nd(this),this.S=this,this.J=null}cn(un,Eo);un.prototype[Cd]=!0;un.prototype.removeEventListener=function(t,e,n,r){Bw(this,t,e,n,r)};function _n(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Mn(e,t);else if(e instanceof Mn)e.target=e.target||t;else{var i=e;e=new Mn(r,t),$w(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=qu(s,r,!0,e)&&i}if(s=e.g=t,i=qu(s,r,!0,e)&&i,i=qu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=qu(s,r,!1,e)&&i}un.prototype.N=function(){if(un.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dd(n[r]);delete t.g[e],t.h--}}this.J=null};un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};un.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&xp(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Xm=Ke.JSON.stringify;class KD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function YD(){var t=Jm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class WD{constructor(){this.h=this.g=null}add(e,n){const r=qw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var qw=new KD(()=>new GD,t=>t.reset());class GD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function XD(t){Ke.setTimeout(()=>{throw t},0)}let Pl,Cl=!1,Jm=new WD,Hw=()=>{const t=Ke.Promise.resolve(void 0);Pl=()=>{t.then(JD)}};var JD=()=>{for(var t;t=YD();){try{t.h.call(t.g)}catch(n){XD(n)}var e=qw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cl=!1};function Md(t,e){un.call(this),this.h=t||1,this.g=e||Ke,this.j=Nn(this.qb,this),this.l=Date.now()}cn(Md,un);Se=Md.prototype;Se.ga=!1;Se.T=null;Se.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_n(this,"tick"),this.ga&&(Zm(this),this.start()))}};Se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Se.N=function(){Md.$.N.call(this),Zm(this),delete this.g};function eg(t,e,n){if(typeof t=="function")n&&(t=Nn(t,n));else if(t&&typeof t.handleEvent=="function")t=Nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ke.setTimeout(t,e||0)}function zw(t){t.g=eg(()=>{t.g=null,t.i&&(t.i=!1,zw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class ZD extends Eo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zw(this)}N(){super.N(),this.g&&(Ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dl(t){Eo.call(this),this.h=t,this.g={}}cn(Dl,Eo);var f_=[];function Kw(t,e,n,r){Array.isArray(n)||(n&&(f_[0]=n.toString()),n=f_);for(var i=0;i<n.length;i++){var o=Fw(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Yw(t){Ym(t.g,function(e,n){this.g.hasOwnProperty(n)&&Gm(e)},t),t.g={}}Dl.prototype.N=function(){Dl.$.N.call(this),Yw(this)};Dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ld(){this.g=!0}Ld.prototype.Ea=function(){this.g=!1};function eN(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function tN(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Ds(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+rN(t,n)+(r?" "+r:"")})}function nN(t,e){t.info(function(){return"TIMEOUT: "+e})}Ld.prototype.info=function(){};function rN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Xm(n)}catch{return e}}var ds={},h_=null;function Vd(){return h_=h_||new un}ds.Ta="serverreachability";function Ww(t){Mn.call(this,ds.Ta,t)}cn(Ww,Mn);function Nl(t){const e=Vd();_n(e,new Ww(e))}ds.STAT_EVENT="statevent";function Gw(t,e){Mn.call(this,ds.STAT_EVENT,t),this.stat=e}cn(Gw,Mn);function Hn(t){const e=Vd();_n(e,new Gw(e,t))}ds.Ua="timingevent";function Qw(t,e){Mn.call(this,ds.Ua,t),this.size=e}cn(Qw,Mn);function ru(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ke.setTimeout(function(){t()},e)}var $d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tg(){}tg.prototype.h=null;function p_(t){return t.h||(t.h=t.i())}function Jw(){}var iu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ng(){Mn.call(this,"d")}cn(ng,Mn);function rg(){Mn.call(this,"c")}cn(rg,Mn);var Rp;function Fd(){}cn(Fd,tg);Fd.prototype.g=function(){return new XMLHttpRequest};Fd.prototype.i=function(){return{}};Rp=new Fd;function ou(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Dl(this),this.P=iN,t=Ap?125:void 0,this.V=new Md(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zw}function Zw(){this.i=null,this.g="",this.h=!1}var iN=45e3,eT={},Op={};Se=ou.prototype;Se.setTimeout=function(t){this.P=t};function Pp(t,e,n){t.L=1,t.A=jd(Oi(e)),t.u=n,t.S=!0,tT(t,null)}function tT(t,e){t.G=Date.now(),su(t),t.B=Oi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Zw,t.g=OT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new ZD(Nn(t.Pa,t,t.g),t.O)),Kw(t.U,t.g,"readystatechange",t.nb),e=t.I?Vw(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Nl(),eN(t.j,t.v,t.B,t.m,t.W,t.u)}Se.nb=function(t){t=t.target;const e=this.M;e&&Gr(t)==3?e.l():this.Pa(t)};Se.Pa=function(t){try{if(t==this.g)e:{const c=Gr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Ap||this.g&&(this.h.h||this.g.ja()||y_(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Nl(3):Nl(2)),Bd(this);var n=this.g.da();this.ca=n;t:if(nT(this)){var r=y_(this.g);t="";var i=r.length,o=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),al(this);var s="";break t}this.h.i=new Ke.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,tN(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rl(a)){var u=a;break t}}u=null}if(n=u)Ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cp(this,n);else{this.i=!1,this.s=3,Hn(12),jo(this),al(this);break e}}this.S?(rT(this,c,s),Ap&&this.i&&c==3&&(Kw(this.U,this.V,"tick",this.mb),this.V.start())):(Ds(this.j,this.m,s,null),Cp(this,s)),c==4&&jo(this),this.i&&!this.J&&(c==4?IT(this.l,this):(this.i=!1,su(this)))}else kN(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),jo(this),al(this)}}}catch{}finally{}};function nT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function rT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=oN(t,n),i==Op){e==4&&(t.s=4,Hn(14),r=!1),Ds(t.j,t.m,null,"[Incomplete Response]");break}else if(i==eT){t.s=4,Hn(15),Ds(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ds(t.j,t.m,i,null),Cp(t,i);nT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ug(e),e.M=!0,Hn(11))):(Ds(t.j,t.m,n,"[Invalid Chunked Response]"),jo(t),al(t))}Se.mb=function(){if(this.g){var t=Gr(this.g),e=this.g.ja();this.o<e.length&&(Bd(this),rT(this,t,e),this.i&&t!=4&&su(this))}};function oN(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Op:(n=Number(e.substring(n,r)),isNaN(n)?eT:(r+=1,r+n>e.length?Op:(e=e.slice(r,r+n),t.o=r+n,e)))}Se.cancel=function(){this.J=!0,jo(this)};function su(t){t.Y=Date.now()+t.P,iT(t,t.P)}function iT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ru(Nn(t.lb,t),e)}function Bd(t){t.C&&(Ke.clearTimeout(t.C),t.C=null)}Se.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(nN(this.j,this.B),this.L!=2&&(Nl(),Hn(17)),jo(this),this.s=2,al(this)):iT(this,this.Y-t)};function al(t){t.l.H==0||t.J||IT(t.l,t)}function jo(t){Bd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Zm(t.V),Yw(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dp(n.i,t))){if(!t.K&&Dp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$c(n),Hd(n);else break e;lg(n),Hn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ru(Nn(n.ib,n),6e3));if(1>=fT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&$c(n),!Rl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const m=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(ig(o,o.h),o.h=null))}if(r.F){const p=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,At(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=RT(r,r.J?r.pa:null,r.Y),s.K){hT(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Bd(a),su(a)),r.g=s}else AT(r);0<n.j.length&&zd(n)}else u[0]!="stop"&&u[0]!="close"||Uo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Uo(n,7):ag(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Nl(4)}catch{}}function sN(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function aN(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function oT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=aN(t),r=sN(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var sT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yo){this.h=t.h,Lc(this,t.j),this.s=t.s,this.g=t.g,Vc(this,t.m),this.l=t.l;var e=t.i,n=new Ml;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),m_(this,n),this.o=t.o}else t&&(e=String(t).match(sT))?(this.h=!1,Lc(this,e[1]||"",!0),this.s=Ha(e[2]||""),this.g=Ha(e[3]||"",!0),Vc(this,e[4]),this.l=Ha(e[5]||"",!0),m_(this,e[6]||"",!0),this.o=Ha(e[7]||"")):(this.h=!1,this.i=new Ml(null,this.h))}Yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(za(e,g_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(za(e,g_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(za(n,n.charAt(0)=="/"?dN:cN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",za(n,hN)),t.join("")};function Oi(t){return new Yo(t)}function Lc(t,e,n){t.j=n?Ha(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function m_(t,e,n){e instanceof Ml?(t.i=e,pN(t.i,t.h)):(n||(e=za(e,fN)),t.i=new Ml(e,t.h))}function At(t,e,n){t.i.set(e,n)}function jd(t){return At(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ha(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function za(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,uN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var g_=/[#\/\?@]/g,cN=/[#\?:]/g,dN=/[#\?]/g,fN=/[#\?@]/g,hN=/#/g;function Ml(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ao(t){t.g||(t.g=new Map,t.h=0,t.i&&lN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Se=Ml.prototype;Se.add=function(t,e){Ao(this),this.i=null,t=ga(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aT(t,e){Ao(t),e=ga(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lT(t,e){return Ao(t),e=ga(t,e),t.g.has(e)}Se.forEach=function(t,e){Ao(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Se.ta=function(){Ao(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Se.Z=function(t){Ao(this);let e=[];if(typeof t=="string")lT(this,t)&&(e=e.concat(this.g.get(ga(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Se.set=function(t,e){return Ao(this),this.i=null,t=ga(this,t),lT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Se.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uT(t,e,n){aT(t,e),0<n.length&&(t.i=null,t.g.set(ga(t,e),zm(n)),t.h+=n.length)}Se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ga(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pN(t,e){e&&!t.j&&(Ao(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aT(this,r),uT(this,i,n))},t)),t.j=e}var mN=class{constructor(t,e){this.g=t,this.map=e}};function cT(t){this.l=t||gN,Ke.PerformanceNavigationTiming?(t=Ke.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ke.g&&Ke.g.Ka&&Ke.g.Ka()&&Ke.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gN=10;function dT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fT(t){return t.h?1:t.g?t.g.size:0}function Dp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ig(t,e){t.g?t.g.add(e):t.h=e}function hT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cT.prototype.cancel=function(){if(this.i=pT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zm(t.i)}var vN=class{stringify(t){return Ke.JSON.stringify(t,void 0)}parse(t){return Ke.JSON.parse(t,void 0)}};function yN(){this.g=new vN}function _N(t,e,n){const r=n||"";try{oT(t,function(i,o){let s=i;Od(i)&&(s=Xm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bN(t,e){const n=new Ld;if(Ke.Image){const r=new Image;r.onload=Uu(Hu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Uu(Hu,n,r,"TestLoadImage: error",!1,e),r.onabort=Uu(Hu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uu(Hu,n,r,"TestLoadImage: timeout",!1,e),Ke.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function au(t){this.l=t.ec||null,this.j=t.ob||!1}cn(au,tg);au.prototype.g=function(){return new Ud(this.l,this.j)};au.prototype.i=function(t){return function(){return t}}({});function Ud(t,e){un.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=og,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(Ud,un);var og=0;Se=Ud.prototype;Se.open=function(t,e){if(this.readyState!=og)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ll(this)};Se.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ke).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lu(this)),this.readyState=og};Se.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ke.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Se.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lu(this):Ll(this),this.readyState==3&&mT(this)}};Se.Za=function(t){this.g&&(this.response=this.responseText=t,lu(this))};Se.Ya=function(t){this.g&&(this.response=t,lu(this))};Se.ka=function(){this.g&&lu(this)};function lu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ll(t)}Se.setRequestHeader=function(t,e){this.v.append(t,e)};Se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Se.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var wN=Ke.JSON.parse;function Mt(t){un.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gT,this.L=this.M=!1}cn(Mt,un);var gT="",TN=/^https?$/i,EN=["POST","PUT"];Se=Mt.prototype;Se.Oa=function(t){this.M=t};Se.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=this.u?p_(this.u):p_(Rp),this.g.onreadystatechange=Nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){v_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Ke.FormData&&t instanceof Ke.FormData,!(0<=Dw(EN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_T(this),0<this.B&&((this.L=AN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nn(this.ua,this)):this.A=eg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){v_(this,o)}};function AN(t){return Xs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Se.ua=function(){typeof Hm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_n(this,"timeout"),this.abort(8))};function v_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vT(t),qd(t)}function vT(t){t.F||(t.F=!0,_n(t,"complete"),_n(t,"error"))}Se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_n(this,"complete"),_n(this,"abort"),qd(this))};Se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qd(this,!0)),Mt.$.N.call(this)};Se.La=function(){this.s||(this.G||this.v||this.l?yT(this):this.kb())};Se.kb=function(){yT(this)};function yT(t){if(t.h&&typeof Hm<"u"&&(!t.C[1]||Gr(t)!=4||t.da()!=2)){if(t.v&&Gr(t)==4)eg(t.La,0,t);else if(_n(t,"readystatechange"),Gr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(sT)[1]||null;!i&&Ke.self&&Ke.self.location&&(i=Ke.self.location.protocol.slice(0,-1)),r=!TN.test(i?i.toLowerCase():"")}n=r}if(n)_n(t,"complete"),_n(t,"success");else{t.m=6;try{var o=2<Gr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",vT(t)}}finally{qd(t)}}}}function qd(t,e){if(t.g){_T(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||_n(t,"ready");try{n.onreadystatechange=r}catch{}}}function _T(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ke.clearTimeout(t.A),t.A=null)}Se.isActive=function(){return!!this.g};function Gr(t){return t.g?t.g.readyState:0}Se.da=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}};Se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Se.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),wN(e)}};function y_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kN(t){const e={};t=(t.g&&2<=Gr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Rl(t[r]))continue;var n=QD(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}UD(e,function(r){return r.join(", ")})}Se.Ia=function(){return this.m};Se.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bT(t){let e="";return Ym(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function sg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):At(t,e,n))}function Da(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wT(t){this.Ga=0,this.j=[],this.l=new Ld,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Da("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Da("baseRetryDelayMs",5e3,t),this.hb=Da("retryDelaySeedMs",1e4,t),this.eb=Da("forwardChannelMaxRetries",2,t),this.xa=Da("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cT(t&&t.concurrentRequestLimit),this.Ja=new yN,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Se=wT.prototype;Se.ra=8;Se.H=1;function ag(t){if(TT(t),t.H==3){var e=t.W++,n=Oi(t.I);if(At(n,"SID",t.K),At(n,"RID",e),At(n,"TYPE","terminate"),uu(t,n),e=new ou(t,t.l,e),e.L=2,e.A=jd(Oi(n)),n=!1,Ke.navigator&&Ke.navigator.sendBeacon)try{n=Ke.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ke.Image&&(new Image().src=e.A,n=!0),n||(e.g=OT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),su(e)}ST(t)}function Hd(t){t.g&&(ug(t),t.g.cancel(),t.g=null)}function TT(t){Hd(t),t.u&&(Ke.clearTimeout(t.u),t.u=null),$c(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ke.clearTimeout(t.m),t.m=null)}function zd(t){if(!dT(t.i)&&!t.m){t.m=!0;var e=t.Na;Pl||Hw(),Cl||(Pl(),Cl=!0),Jm.add(e,t),t.C=0}}function IN(t,e){return fT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ru(Nn(t.Na,t,e),xT(t,t.C)),t.C++,!0)}Se.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ou(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Vw(o),$w(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ET(this,i,e),n=Oi(this.I),At(n,"RID",t),At(n,"CVER",22),this.F&&At(n,"X-HTTP-Session-Id",this.F),uu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(bT(o)))+"&"+e:this.o&&sg(n,this.o,o)),ig(this.i,i),this.bb&&At(n,"TYPE","init"),this.P?(At(n,"$req",e),At(n,"SID","null"),i.aa=!0,Pp(i,n,null)):Pp(i,n,e),this.H=2}}else this.H==3&&(t?__(this,t):this.j.length==0||dT(this.i)||__(this))};function __(t,e){var n;e?n=e.m:n=t.W++;const r=Oi(t.I);At(r,"SID",t.K),At(r,"RID",n),At(r,"AID",t.V),uu(t,r),t.o&&t.s&&sg(r,t.o,t.s),n=new ou(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ET(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ig(t.i,n),Pp(n,r,e)}function uu(t,e){t.na&&Ym(t.na,function(n,r){At(e,r,n)}),t.h&&oT({},function(n,r){At(e,r,n)})}function ET(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{_N(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function AT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pl||Hw(),Cl||(Pl(),Cl=!0),Jm.add(e,t),t.A=0}}function lg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ru(Nn(t.Ma,t),xT(t,t.A)),t.A++,!0)}Se.Ma=function(){if(this.u=null,kT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ru(Nn(this.jb,this),t)}};Se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),Hd(this),kT(this))};function ug(t){t.B!=null&&(Ke.clearTimeout(t.B),t.B=null)}function kT(t){t.g=new ou(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Oi(t.wa);At(e,"RID","rpc"),At(e,"SID",t.K),At(e,"AID",t.V),At(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&At(e,"TO",t.qa),At(e,"TYPE","xmlhttp"),uu(t,e),t.o&&t.s&&sg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=jd(Oi(e)),n.u=null,n.S=!0,tT(n,t)}Se.ib=function(){this.v!=null&&(this.v=null,Hd(this),lg(this),Hn(19))};function $c(t){t.v!=null&&(Ke.clearTimeout(t.v),t.v=null)}function IT(t,e){var n=null;if(t.g==e){$c(t),ug(t),t.g=null;var r=2}else if(Dp(t.i,e))n=e.F,hT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Vd(),_n(r,new Qw(r,n)),zd(t)}else AT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&IN(t,e)||r==2&&lg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function xT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nn(t.pb,t);n||(n=new Yo("//www.google.com/images/cleardot.gif"),Ke.location&&Ke.location.protocol=="http"||Lc(n,"https"),jd(n)),bN(n.toString(),r)}else Hn(2);t.H=0,t.h&&t.h.za(e),ST(t),TT(t)}Se.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))};function ST(t){if(t.H=0,t.ma=[],t.h){const e=pT(t.i);(e.length!=0||t.j.length!=0)&&(u_(t.ma,e),u_(t.ma,t.j),t.i.i.length=0,zm(t.j),t.j.length=0),t.h.ya()}}function RT(t,e,n){var r=n instanceof Yo?Oi(n):new Yo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Vc(r,r.m);else{var i=Ke.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Yo(null);r&&Lc(o,r),e&&(o.g=e),i&&Vc(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&At(r,n,e),At(r,"VER",t.ra),uu(t,r),r}function OT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Mt(new au({ob:n})):new Mt(t.va),e.Oa(t.J),e}Se.isActive=function(){return!!this.h&&this.h.isActive(this)};function PT(){}Se=PT.prototype;Se.Ba=function(){};Se.Aa=function(){};Se.za=function(){};Se.ya=function(){};Se.isActive=function(){return!0};Se.Va=function(){};function Fc(){if(Xs&&!(10<=Number($D)))throw Error("Environmental error: no available transport.")}Fc.prototype.g=function(t,e){return new cr(t,e)};function cr(t,e){un.call(this),this.g=new wT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Rl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new va(this)}cn(cr,un);cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=RT(t,null,t.Y),zd(t)};cr.prototype.close=function(){ag(this.g)};cr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Xm(t),t=n);e.j.push(new mN(e.fb++,t)),e.H==3&&zd(e)};cr.prototype.N=function(){this.g.h=null,delete this.j,ag(this.g),delete this.g,cr.$.N.call(this)};function CT(t){ng.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cn(CT,ng);function DT(){rg.call(this),this.status=1}cn(DT,rg);function va(t){this.g=t}cn(va,PT);va.prototype.Ba=function(){_n(this.g,"a")};va.prototype.Aa=function(t){_n(this.g,new CT(t))};va.prototype.za=function(t){_n(this.g,new DT)};va.prototype.ya=function(){_n(this.g,"b")};function xN(){this.blockSize=-1}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}cn(Nr,xN);Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Nr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Sh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Sh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Sh(this,r),i=0;break}}this.h=i,this.i+=e};Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function yt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var SN={};function cg(t){return-128<=t&&128>t?MD(t,function(e){return new yt([e|0],0>e?-1:0)}):new yt([t|0],0>t?-1:0)}function Qr(t){if(isNaN(t)||!isFinite(t))return Us;if(0>t)return mn(Qr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Np;return new yt(e,0)}function NT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mn(NT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qr(Math.pow(e,8)),r=Us,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Qr(Math.pow(e,o)),r=r.R(o).add(Qr(s))):(r=r.R(n),r=r.add(Qr(s)))}return r}var Np=4294967296,Us=cg(0),Mp=cg(1),b_=cg(16777216);Se=yt.prototype;Se.ea=function(){if(hr(this))return-mn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Np+r)*e,e*=Np}return t};Se.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ti(this))return"0";if(hr(this))return"-"+mn(this).toString(t);for(var e=Qr(Math.pow(t,6)),n=this,r="";;){var i=jc(n,e).g;n=Bc(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ti(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Se.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ti(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hr(t){return t.h==-1}Se.X=function(t){return t=Bc(this,t),hr(t)?-1:Ti(t)?0:1};function mn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new yt(n,~t.h).add(Mp)}Se.abs=function(){return hr(this)?mn(this):this};Se.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new yt(n,n[n.length-1]&-2147483648?-1:0)};function Bc(t,e){return t.add(mn(e))}Se.R=function(t){if(Ti(this)||Ti(t))return Us;if(hr(this))return hr(t)?mn(this).R(mn(t)):mn(mn(this).R(t));if(hr(t))return mn(this.R(mn(t)));if(0>this.X(b_)&&0>t.X(b_))return Qr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,zu(n,2*r+2*i),n[2*r+2*i+1]+=o*l,zu(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,zu(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,zu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new yt(n,0)};function zu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Na(t,e){this.g=t,this.h=e}function jc(t,e){if(Ti(e))throw Error("division by zero");if(Ti(t))return new Na(Us,Us);if(hr(t))return e=jc(mn(t),e),new Na(mn(e.g),mn(e.h));if(hr(e))return e=jc(t,mn(e)),new Na(mn(e.g),e.h);if(30<t.g.length){if(hr(t)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mp,r=e;0>=r.X(t);)n=w_(n),r=w_(r);var i=Es(n,1),o=Es(r,1);for(r=Es(r,2),n=Es(n,2);!Ti(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Es(r,1),n=Es(n,1)}return e=Bc(t,i.R(e)),new Na(i,e)}for(i=Us;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Qr(n),s=o.R(e);hr(s)||0<s.X(t);)n-=r,o=Qr(n),s=o.R(e);Ti(o)&&(o=Mp),i=i.add(o),t=Bc(t,s)}return new Na(i,t)}Se.gb=function(t){return jc(this,t).h};Se.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new yt(n,this.h&t.h)};Se.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new yt(n,this.h|t.h)};Se.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new yt(n,this.h^t.h)};function w_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new yt(n,t.h)}function Es(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new yt(i,t.h)}Fc.prototype.createWebChannel=Fc.prototype.g;cr.prototype.send=cr.prototype.u;cr.prototype.open=cr.prototype.m;cr.prototype.close=cr.prototype.close;$d.NO_ERROR=0;$d.TIMEOUT=8;$d.HTTP_ERROR=6;Xw.COMPLETE="complete";Jw.EventType=iu;iu.OPEN="a";iu.CLOSE="b";iu.ERROR="c";iu.MESSAGE="d";un.prototype.listen=un.prototype.O;Mt.prototype.listenOnce=Mt.prototype.P;Mt.prototype.getLastError=Mt.prototype.Sa;Mt.prototype.getLastErrorCode=Mt.prototype.Ia;Mt.prototype.getStatus=Mt.prototype.da;Mt.prototype.getResponseJson=Mt.prototype.Wa;Mt.prototype.getResponseText=Mt.prototype.ja;Mt.prototype.send=Mt.prototype.ha;Mt.prototype.setWithCredentials=Mt.prototype.Oa;Nr.prototype.digest=Nr.prototype.l;Nr.prototype.reset=Nr.prototype.reset;Nr.prototype.update=Nr.prototype.j;yt.prototype.add=yt.prototype.add;yt.prototype.multiply=yt.prototype.R;yt.prototype.modulo=yt.prototype.gb;yt.prototype.compare=yt.prototype.X;yt.prototype.toNumber=yt.prototype.ea;yt.prototype.toString=yt.prototype.toString;yt.prototype.getBits=yt.prototype.D;yt.fromNumber=Qr;yt.fromString=NT;var RN=function(){return new Fc},ON=function(){return Vd()},Rh=$d,PN=Xw,CN=ds,T_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},DN=au,Ku=Jw,NN=Mt,MN=Nr,qs=yt;const E_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new bd("@firebase/firestore");function Ma(){return ts.logLevel}function Ne(t,...e){if(ts.logLevel<=ot.DEBUG){const n=e.map(dg);ts.debug(`Firestore (${ya}): ${t}`,...n)}}function Pi(t,...e){if(ts.logLevel<=ot.ERROR){const n=e.map(dg);ts.error(`Firestore (${ya}): ${t}`,...n)}}function Js(t,...e){if(ts.logLevel<=ot.WARN){const n=e.map(dg);ts.warn(`Firestore (${ya}): ${t}`,...n)}}function dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function wt(t,e){t||qe()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class VN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $N{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string"),new MT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new Rn(e)}}class FN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string"),this.R=n.token,new jN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function Zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.timestamp=e}static fromTimestamp(e){return new We(e)}static min(){return new We(new rn(0,0))}static max(){return new We(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends Vl{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const HN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Vl{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return HN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Fe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Fe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Fe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Fe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(kt.fromString(e))}static fromName(e){return new je(kt.fromString(e).popFirst(5))}static empty(){return new je(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new kt(e.slice()))}}function zN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new po(i,je.empty(),e)}function KN(t){return new po(t.readTime,t.key,-1)}class po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new po(We.min(),je.empty(),-1)}static max(){return new po(We.max(),je.empty(),-1)}}function YN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==Ae.FAILED_PRECONDITION||t.message!==WN)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ke((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function QN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fg.oe=-1;function Kd(t){return t==null}function Uc(t){return t===0&&1/t==-1/0}function XN(t){return typeof t=="number"&&Number.isInteger(t)&&!Uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=i??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Ir([])}unionWith(e){let n=new bn(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $T("Invalid base64 string: "+o):o}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const JN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(wt(!!t),typeof t=="string"){let e=0;const n=JN.exec(t);if(wt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pg(t){const e=t.mapValue.fields.__previous_value__;return hg(e)?pg(e):e}function $l(t){const e=mo(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hg(t)?4:eM(t)?9007199254740991:10:qe()}function li(t,e){if(t===e)return!0;const n=rs(t);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=mo(i.timestampValue),a=mo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ns(i.bytesValue).isEqual(ns(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Yt(i.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Yt(i.integerValue)===Yt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Yt(i.doubleValue),a=Yt(o.doubleValue);return s===a?Uc(s)===Uc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Zs(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(A_(s)!==A_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!li(s[l],a[l])))return!1;return!0}(t,e);default:return qe()}}function Bl(t,e){return(t.values||[]).find(n=>li(n,e))!==void 0}function ea(t,e){if(t===e)return 0;const n=rs(t),r=rs(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Yt(o.integerValue||o.doubleValue),l=Yt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return I_(t.timestampValue,e.timestampValue);case 4:return I_($l(t),$l(e));case 5:return dt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ns(o),l=ns(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=dt(a[u],l[u]);if(c!==0)return c}return dt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=dt(Yt(o.latitude),Yt(s.latitude));return a!==0?a:dt(Yt(o.longitude),Yt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ea(a[u],l[u]);if(c)return c}return dt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Wu.mapValue&&s===Wu.mapValue)return 0;if(o===Wu.mapValue)return 1;if(s===Wu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=dt(l[d],c[d]);if(f!==0)return f;const h=ea(a[l[d]],u[c[d]]);if(h!==0)return h}return dt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw qe()}}function I_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=mo(t),r=mo(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function ta(t){return Lp(t)}function Lp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Lp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Lp(n.fields[s])}`;return i+"}"}(t.mapValue):qe()}function Vp(t){return!!t&&"integerValue"in t}function mg(t){return!!t&&"arrayValue"in t}function x_(t){return!!t&&"nullValue"in t}function S_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hc(t){return!!t&&"mapValue"in t}function ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ll(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new or(ll(this.value))}}function FT(t){const e=[];return fs(t.fields,(n,r)=>{const i=new vn([n]);if(hc(r)){const o=FT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Pn(e,0,We.min(),We.min(),We.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new Pn(e,1,n,We.min(),r,i,0)}static newNoDocument(e,n){return new Pn(e,2,n,We.min(),We.min(),or.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,We.min(),We.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.position=e,this.inclusive=n}}function R_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=je.comparator(je.fromName(s.referenceValue),n.key):r=ea(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function O_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function tM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{}class Jt extends BT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rM(e,n,r):n==="array-contains"?new sM(e,r):n==="in"?new aM(e,r):n==="not-in"?new lM(e,r):n==="array-contains-any"?new uM(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iM(e,r):new oM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ea(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends BT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ui(e,n)}matches(e){return jT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jT(t){return t.op==="and"}function UT(t){return nM(t)&&jT(t)}function nM(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function $p(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+ta(t.value);if(UT(t))return t.filters.map(e=>$p(e)).join(",");{const e=t.filters.map(n=>$p(n)).join(",");return`${t.op}(${e})`}}function qT(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)}(t,e):t instanceof ui?function(r,i){return i instanceof ui&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qT(s,i.filters[a]),!0):!1}(t,e):void qe()}function HT(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${ta(n.value)}`}(t):t instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(HT).join(" ,")+"}"}(t):"Filter"}class rM extends Jt{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class iM extends Jt{constructor(e,n){super(e,"in",n),this.keys=zT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oM extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=zT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class sM extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&Bl(n.arrayValue,this.value)}}class aM extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class lM extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}}class uM extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function P_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cM(t,e,n,r,i,o,s)}function gg(t){const e=Je(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$p(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ta(r)).join(",")),e.ue=n}return e.ue}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O_(t.startAt,e.startAt)&&O_(t.endAt,e.endAt)}function Fp(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dM(t,e,n,r,i,o,s,a){return new Yd(t,e,n,r,i,o,s,a)}function yg(t){return new Yd(t)}function C_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fM(t){return t.collectionGroup!==null}function ul(t){const e=Je(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bn(vn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Hc(o,r))}),n.has(vn.keyField().canonicalString())||e.ce.push(new Hc(vn.keyField(),r))}return e.ce}function ni(t){const e=Je(t);return e.le||(e.le=hM(e,ul(t))),e.le}function hM(t,e){if(t.limitType==="F")return P_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Hc(i.field,o)});const n=t.endAt?new qc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qc(t.startAt.position,t.startAt.inclusive):null;return P_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bp(t,e,n){return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return vg(ni(t),ni(e))&&t.limitType===e.limitType}function KT(t){return`${gg(ni(t))}|lt:${t.limitType}`}function xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HT(i)).join(", ")}]`),Kd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ta(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ta(i)).join(",")),`Target(${r})`}(ni(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ul(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=R_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ul(r),i)||r.endAt&&!function(s,a,l){const u=R_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ul(r),i))}(t,e)}function pM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YT(t){return(e,n)=>{let r=!1;for(const i of ul(t)){const o=mM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mM(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ea(l,u):qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new Ct(je.comparator);function Ci(){return gM}const WT=new Ct(je.comparator);function Ka(...t){let e=WT;for(const n of t)e=e.insert(n.key,n);return e}function GT(t){let e=WT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qo(){return cl()}function QT(){return cl()}function cl(){return new _a(t=>t.toString(),(t,e)=>t.isEqual(e))}const vM=new Ct(je.comparator),yM=new bn(je.comparator);function it(...t){let e=yM;for(const n of t)e=e.add(n);return e}const _M=new bn(dt);function bM(){return _M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function JT(t){return{integerValue:""+t}}function wM(t,e){return XN(e)?JT(e):XT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this._=void 0}}function TM(t,e,n){return t instanceof zc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hg(o)&&(o=pg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof jl?eE(t,e):t instanceof Ul?tE(t,e):function(i,o){const s=ZT(i,o),a=D_(s)+D_(i.Pe);return Vp(s)&&Vp(i.Pe)?JT(a):XT(i.serializer,a)}(t,e)}function EM(t,e,n){return t instanceof jl?eE(t,e):t instanceof Ul?tE(t,e):n}function ZT(t,e){return t instanceof Kc?function(r){return Vp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class zc extends Qd{}class jl extends Qd{constructor(e){super(),this.elements=e}}function eE(t,e){const n=nE(e);for(const r of t.elements)n.some(i=>li(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ul extends Qd{constructor(e){super(),this.elements=e}}function tE(t,e){let n=nE(e);for(const r of t.elements)n=n.filter(i=>!li(i,r));return{arrayValue:{values:n}}}class Kc extends Qd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function D_(t){return Yt(t.integerValue||t.doubleValue)}function nE(t){return mg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jl&&i instanceof jl||r instanceof Ul&&i instanceof Ul?Zs(r.elements,i.elements,li):r instanceof Kc&&i instanceof Kc?li(r.Pe,i.Pe):r instanceof zc&&i instanceof zc}(t.transform,e.transform)}class kM{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xd{}function rE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _g(t.key,ri.none()):new Jd(t.key,t.data,ri.none());{const n=t.data,r=or.empty();let i=new bn(vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hs(t.key,r,new Ir(i.toArray()),ri.none())}}function IM(t,e,n){t instanceof Jd?function(i,o,s){const a=i.value.clone(),l=M_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(i,o,s){if(!pc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=M_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(iE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof Jd?function(o,s,a,l){if(!pc(o.precondition,s))return a;const u=o.value.clone(),c=L_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof hs?function(o,s,a,l){if(!pc(o.precondition,s))return a;const u=L_(o.fieldTransforms,l,s),c=s.data;return c.setAll(iE(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return pc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function xM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ZT(r.transform,i||null);o!=null&&(n===null&&(n=or.empty()),n.set(r.field,o))}return n||null}function N_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zs(r,i,(o,s)=>AM(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jd extends Xd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hs extends Xd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function M_(t,e,n){const r=new Map;wt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,EM(s,a,n[i]))}return r}function L_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,TM(o,s,e))}return r}class _g extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SM extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&IM(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=rE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(n,r)=>N_(n,r))&&Zs(this.baseMutations,e.baseMutations,(n,r)=>N_(n,r))}}class bg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length);let i=function(){return vM}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new bg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,st;function CM(t){switch(t){default:return qe();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function oE(t){if(t===void 0)return Pi("GRPC error has no .code"),Ae.UNKNOWN;switch(t){case Kt.OK:return Ae.OK;case Kt.CANCELLED:return Ae.CANCELLED;case Kt.UNKNOWN:return Ae.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return Ae.INTERNAL;case Kt.UNAVAILABLE:return Ae.UNAVAILABLE;case Kt.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Kt.NOT_FOUND:return Ae.NOT_FOUND;case Kt.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Kt.ABORTED:return Ae.ABORTED;case Kt.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Kt.DATA_LOSS:return Ae.DATA_LOSS;default:return qe()}}(st=Kt||(Kt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new qs([4294967295,4294967295],0);function V_(t){const e=DM().encode(t),n=new MN;return n.update(e),new Uint8Array(n.digest())}function $_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qs([n,r],0),new qs([i,o],0)]}class wg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ya(`Invalid padding: ${n}`);if(r<0)throw new Ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(qs.fromNumber(r)));return i.compare(NM)===1&&(i=new qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=V_(e),[r,i]=$_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new wg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=V_(e),[r,i]=$_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zd(We.min(),i,new Ct(dt),Ci(),it())}}class fu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fu(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class sE{constructor(e,n){this.targetId=e,this.me=n}}class aE{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F_{constructor(){this.fe=0,this.ge=j_(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=it(),n=it(),r=it();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new fu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=j_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class MM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ci(),this.qe=B_(),this.Qe=new Ct(dt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Fp(o))if(r===0){const s=new je(o.path);this.Ue(n,s,Pn.newNoDocument(s,We.min()))}else wt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ns(r).toUint8Array()}catch(l){if(l instanceof $T)return Js("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wg(s,i,o)}catch(l){return Js(l instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Fp(a.target)){const l=new je(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Pn.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=it();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Zd(e,n,this.Qe,this.ke,r);return this.ke=Ci(),this.qe=B_(),this.Qe=new Ct(dt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new F_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bn(dt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new F_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function B_(){return new Ct(je.comparator)}function j_(){return new Ct(je.comparator)}const LM={asc:"ASCENDING",desc:"DESCENDING"},VM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$M={and:"AND",or:"OR"};class FM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jp(t,e){return t.useProto3Json||Kd(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BM(t,e){return Yc(t,e.toTimestamp())}function ii(t){return wt(!!t),We.fromTimestamp(function(n){const r=mo(n);return new rn(r.seconds,r.nanos)}(t))}function Tg(t,e){return Up(t,e).canonicalString()}function Up(t,e){const n=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uE(t){const e=kt.fromString(t);return wt(pE(e)),e}function qp(t,e){return Tg(t.databaseId,e.path)}function Oh(t,e){const n=uE(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(dE(n))}function cE(t,e){return Tg(t.databaseId,e)}function jM(t){const e=uE(t);return e.length===4?kt.emptyPath():dE(e)}function Hp(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dE(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U_(t,e,n){return{name:qp(t,e),fields:n.value.mapValue.fields}}function UM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(wt(c===void 0||typeof c=="string"),Ln.fromBase64String(c||"")):(wt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ln.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Ae.UNKNOWN:oE(u.code);return new Fe(c,u.message||"")}(s);n=new aE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Oh(t,r.document.name),o=ii(r.document.updateTime),s=r.document.createTime?ii(r.document.createTime):We.min(),a=new or({mapValue:{fields:r.document.fields}}),l=Pn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new mc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Oh(t,r.document),o=r.readTime?ii(r.readTime):We.min(),s=Pn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new mc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Oh(t,r.document),o=r.removedTargetIds||[];n=new mc([],o,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new PM(i,o),a=r.targetId;n=new sE(a,s)}}return n}function qM(t,e){let n;if(e instanceof Jd)n={update:U_(t,e.key,e.value)};else if(e instanceof _g)n={delete:qp(t,e.key)};else if(e instanceof hs)n={update:U_(t,e.key,e.data),updateMask:JM(e.fieldMask)};else{if(!(e instanceof SM))return qe();n={verify:qp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof zc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ul)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:BM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe()}(t,e.precondition)),n}function HM(t,e){return t&&t.length>0?(wt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ii(i.updateTime):ii(o);return s.isEqual(We.min())&&(s=ii(o)),new kM(s,i.transformResults||[])}(n,e))):[]}function zM(t,e){return{documents:[cE(t,e.path)]}}function KM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cE(t,i);const o=function(u){if(u.length!==0)return hE(ui.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Ss(f.field),direction:GM(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=jp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function YM(t){let e=jM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=fE(d);return f instanceof ui&&UT(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(m){return new Hc(Rs(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Kd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new qc(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new qc(h,f)}(n.endAt)),dM(e,i,s,o,a,"F",l,u)}function WM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rs(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rs(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rs(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rs(n.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(r=>fE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(n.compositeFilter.op))}(t):qe()}function GM(t){return LM[t]}function QM(t){return VM[t]}function XM(t){return $M[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function Rs(t){return vn.fromServerFormat(t.fieldPath)}function hE(t){return t instanceof Jt?function(n){if(n.op==="=="){if(S_(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S_(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:QM(n.op),value:n.value}}}(t):t instanceof ui?function(n){const r=n.getFilters().map(i=>hE(i));return r.length===1?r[0]:{compositeFilter:{op:XM(n.op),filters:r}}}(t):qe()}function JM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,i,o=We.min(),s=We.min(),a=Ln.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.ut=e}}function eL(t){const e=YM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.on=new nL}addToCollectionParentIndex(e,n){return this.on.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(po.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(po.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class nL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bn(kt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new na(0)}static Nn(){return new na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dl(r.mutation,i,Ir.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){const i=qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ka();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ci();const s=cl(),a=function(){return cl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof hs)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),dl(c.mutation,u,c.mutation.getFieldMask(),rn.now())):s.set(u.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new iL(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cl();let i=new Ct((s,a)=>s-a),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ir.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||it()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=QT();c.forEach(f=>{if(!o.has(f)){const h=rE(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ke.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return je.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ke.resolve(qo());let a=-1,l=o;return s.next(u=>ke.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?ke.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,it())).next(c=>({batchId:a,changes:GT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let i=Ka();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ka();return this.indexManager.getCollectionParents(e,o).next(a=>ke.forEach(a,l=>{const u=function(d,f){return new Yd(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Pn.newInvalidDocument(c)))});let a=Ka();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&dl(c.mutation,u,Ir.empty(),rn.now()),Gd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return ke.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ii(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:eL(i.bundledQuery),readTime:ii(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.overlays=new Ct(je.comparator),this.lr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return ke.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=qo(),o=n.length+1,s=new je(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ct((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=qo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=qo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ke.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new OM(n,r));let o=this.lr.get(n);o===void 0&&(o=it(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.hr=new bn(sn.Pr),this.Ir=new bn(sn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new sn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new je(new kt([])),r=new sn(n,e),i=new sn(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new je(new kt([])),r=new sn(n,e),i=new sn(n,e+1);let o=it();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new sn(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return je.comparator(e.key,n.key)||dt(e.gr,n.gr)}static Tr(e,n){return dt(e.gr,n.gr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bn(sn.Pr)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RM(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new sn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(s)}lookupMutationBatch(e,n){return ke.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bn(dt);return n.forEach(i=>{const o=new sn(i,0),s=new sn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),ke.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;je.isDocumentKey(o)||(o=o.child(""));const s=new sn(new je(o),0);let a=new bn(dt);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),ke.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){wt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return ke.forEach(n.mutations,i=>{const o=new sn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new sn(n,0),i=this.yr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.Cr=e,this.docs=function(){return new Ct(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pn.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ci();const s=n.path,a=new je(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||YN(KN(c),r)<=0||(i.has(c.key)||Gd(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ke.resolve(o)}getAllFromCollectionGroup(e,n,r,i){qe()}vr(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cL(this)}getSize(e){return ke.resolve(this.size)}}class cL extends rL{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.persistence=e,this.Fr=new _a(n=>gg(n),vg),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Eg,this.targetCount=0,this.Nr=na.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),ke.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new na(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.kn(n),ke.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(o).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ke.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.Lr={},this.overlays={},this.Br=new fg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new dL(this),this.indexManager=new tL,this.remoteDocumentCache=function(i){return new uL(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new ZM(n),this.Kr=new sL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new lL(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new hL(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return ke.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class hL extends GN{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.Gr=new Eg,this.zr=null}static jr(e){return new Ag(e)}get Hr(){if(this.zr)return this.zr;throw qe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Hr,r=>{const i=je.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,We.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return ke.or([()=>ke.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=it(),i=it();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new kg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return CR()?8:QN(En())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new pL;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ma()<=ot.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),ke.resolve()):(Ma()<=ot.DEBUG&&Ne("QueryEngine","Query:",xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ma()<=ot.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):ke.resolve())}zi(e,n){if(C_(n))return ke.resolve(null);let r=ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bp(n,null,"F"),r=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=it(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(e,Bp(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return C_(n)||i.isEqual(We.min())?ke.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?ke.resolve(null):(Ma()<=ot.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xs(n)),this.Xi(e,s,n,zN(i,-1)).next(a=>a))})}Yi(e,n){let r=new bn(YT(e));return n.forEach((i,o)=>{Gd(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ma()<=ot.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",xs(n)),this.Gi.getDocumentsMatchingQuery(e,n,po.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ct(dt),this.ns=new _a(o=>gg(o),vg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function vL(t,e,n,r){return new gL(t,e,n,r)}async function mE(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=it();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function yL(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=ke.resolve();return f.forEach(m=>{h=h.next(()=>c.getEntry(l,m)).next(p=>{const _=u.docVersions.get(m);wt(_!==null),p.version.compareTo(_)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=it();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gE(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function _L(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Ln.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(p,_,y){return p.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,h,c)&&a.push(n.qr.updateTargetData(o,h))});let l=Ci(),u=it();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(bL(o,s,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(We.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ke.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function bL(t,e,n){let r=it(),i=it();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ci();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(We.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function wL(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TL(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,ke.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new to(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function zp(t,e,n){const r=Je(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!du(s))throw s;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function q_(t,e,n){const r=Je(t);let i=We.min(),o=it();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Je(l),f=d.ns.get(c);return f!==void 0?ke.resolve(d.ts.get(f)):d.qr.getTargetData(u,c)}(r,s,ni(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:We.min(),n?o:it())).next(a=>(EL(r,pM(e),a),{documents:a,ls:o})))}function EL(t,e,n){let r=t.rs.get(e)||We.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class H_{constructor(){this.activeTargetIds=bM()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AL{constructor(){this.eo=new H_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new H_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function Ph(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class SL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=Ph(),l=this.Co(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,o,s),this.Fo(n,l,u,i).then(c=>(Ne("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Js("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=IL[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const o=Ph();return new Promise((s,a)=>{const l=new NN;l.setWithCredentials(!0),l.listenOnce(PN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Rh.NO_ERROR:const c=l.getResponseJson();Ne(xn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Rh.TIMEOUT:Ne(xn,`RPC '${e}' ${o} timed out`),a(new Fe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const d=l.getStatus();if(Ne(xn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const m=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(y)>=0?y:Ae.UNKNOWN}(h.status);a(new Fe(m,h.message))}else a(new Fe(Ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Fe(Ae.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Ne(xn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Ne(xn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}xo(e,n,r){const i=Ph(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=RN(),a=ON(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new DN({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Ne(xn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const m=new xL({co:_=>{h?Ne(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(Ne(xn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Ne(xn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),p=(_,y,v)=>{_.listen(y,b=>{try{v(b)}catch(g){setTimeout(()=>{throw g},0)}})};return p(d,Ku.EventType.OPEN,()=>{h||(Ne(xn,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),p(d,Ku.EventType.CLOSE,()=>{h||(h=!0,Ne(xn,`RPC '${e}' stream ${i} transport closed`),m.fo())}),p(d,Ku.EventType.ERROR,_=>{h||(h=!0,Js(xn,`RPC '${e}' stream ${i} transport errored:`,_),m.fo(new Fe(Ae.UNAVAILABLE,"The operation could not be completed")))}),p(d,Ku.EventType.MESSAGE,_=>{var y;if(!h){const v=_.data[0];wt(!!v);const b=v,g=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(g){Ne(xn,`RPC '${e}' stream ${i} received error:`,g);const T=g.status;let O=function(N){const S=Kt[N];if(S!==void 0)return oE(S)}(T),A=g.message;O===void 0&&(O=Ae.INTERNAL,A="Unknown error status: "+T+" with message "+g.message),h=!0,m.fo(new Fe(O,A)),d.close()}else Ne(xn,`RPC '${e}' stream ${i} received:`,v),m.po(v)}}),p(a,CN.STAT_EVENT,_=>{_.stat===T_.PROXY?Ne(xn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===T_.NOPROXY&&Ne(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}}function Ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){return new FM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new vE(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new Fe(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RL extends yE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=UM(this.serializer,e),r=function(o){if(!("targetChange"in o))return We.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?We.min():s.readTime?ii(s.readTime):We.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Hp(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Fp(l)?{documents:zM(o,l)}:{query:KM(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=lE(o,s.resumeToken);const u=jp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(We.min())>0){a.readTime=Yc(o,s.snapshotVersion.toTimestamp());const u=jp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=WM(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Hp(this.serializer),n.removeTarget=e,this.r_(n)}}class OL extends yE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=HM(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.d_(r,n)}return wt(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Hp(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qM(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new Fe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,Up(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(Ae.UNKNOWN,o.toString())})}Mo(e,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Up(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(Ae.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class CL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Pi(n),this.y_=!1):Ne("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{ps(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Je(l);u.M_.add(4),await hu(u),u.N_.set("Unknown"),u.M_.delete(4),await tf(u)}(this))})}),this.N_=new CL(r,i)}}async function tf(t){if(ps(t))for(const e of t.x_)await e(!0)}async function hu(t){for(const e of t.x_)await e(!1)}function _E(t,e){const n=Je(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Rg(n)?Sg(n):ba(n).Zo()&&xg(n,e))}function Ig(t,e){const n=Je(t),r=ba(n);n.F_.delete(e),r.Zo()&&bE(n,e),n.F_.size===0&&(r.Zo()?r.t_():ps(n)&&n.N_.set("Unknown"))}function xg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).h_(e)}function bE(t,e){t.L_.xe(e),ba(t).P_(e)}function Sg(t){t.L_=new MM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.N_.w_()}function Rg(t){return ps(t)&&!ba(t).Yo()&&t.F_.size>0}function ps(t){return Je(t).M_.size===0}function wE(t){t.L_=void 0}async function NL(t){t.N_.set("Online")}async function ML(t){t.F_.forEach((e,n)=>{xg(t,e)})}async function LL(t,e){wE(t),Rg(t)?(t.N_.D_(e),Sg(t)):t.N_.set("Unknown")}async function VL(t,e,n){if(t.N_.set("Online"),e instanceof aE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wc(t,r)}else if(e instanceof mc?t.L_.Ke(e):e instanceof sE?t.L_.He(e):t.L_.We(e),!n.isEqual(We.min()))try{const r=await gE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.F_.get(u);c&&o.F_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.F_.get(l);if(!c)return;o.F_.set(l,c.withResumeToken(Ln.EMPTY_BYTE_STRING,c.snapshotVersion)),bE(o,l);const d=new to(c.target,l,u,c.sequenceNumber);xg(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await Wc(t,r)}}async function Wc(t,e,n){if(!du(e))throw e;t.M_.add(1),await hu(t),t.N_.set("Offline"),n||(n=()=>gE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await tf(t)})}function TE(t,e){return e().catch(n=>Wc(t,n,e))}async function nf(t){const e=Je(t),n=go(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;$L(e);)try{const i=await wL(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,FL(e,i)}catch(i){await Wc(e,i)}EE(e)&&AE(e)}function $L(t){return ps(t)&&t.v_.length<10}function FL(t,e){t.v_.push(e);const n=go(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function EE(t){return ps(t)&&!go(t).Yo()&&t.v_.length>0}function AE(t){go(t).start()}async function BL(t){go(t).R_()}async function jL(t){const e=go(t);for(const n of t.v_)e.E_(n.mutations)}async function UL(t,e,n){const r=t.v_.shift(),i=bg.from(r,e,n);await TE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nf(t)}async function qL(t,e){e&&go(t).T_&&await async function(r,i){if(function(s){return CM(s)&&s!==Ae.ABORTED}(i.code)){const o=r.v_.shift();go(r).e_(),await TE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await nf(r)}}(t,e),EE(t)&&AE(t)}async function K_(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=ps(n);n.M_.add(3),await hu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await tf(n)}async function HL(t,e){const n=Je(t);e?(n.M_.delete(2),await tf(n)):e||(n.M_.add(2),await hu(n),n.N_.set("Unknown"))}function ba(t){return t.B_||(t.B_=function(n,r,i){const o=Je(n);return o.m_(),new RL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:NL.bind(null,t),Io:ML.bind(null,t),Eo:LL.bind(null,t),l_:VL.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),Rg(t)?Sg(t):t.N_.set("Unknown")):(await t.B_.stop(),wE(t))})),t.B_}function go(t){return t.k_||(t.k_=function(n,r,i){const o=Je(n);return o.m_(),new OL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:BL.bind(null,t),Eo:qL.bind(null,t),A_:jL.bind(null,t),d_:UL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await nf(t)):(await t.k_.stop(),t.v_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Og(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),du(t))return new Fe(Ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Ka(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.q_=new Ct(je.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):qe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ra{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ra(e,n,Hs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class KL{constructor(){this.queries=new _a(e=>KT(e),Wd),this.onlineState="Unknown",this.z_=new Set}}async function kE(t,e){const n=Je(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new zL,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Pg(s,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Cg(n)}async function IE(t,e){const n=Je(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YL(t,e){const n=Je(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Cg(n)}function WL(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Cg(t){t.z_.forEach(e=>{e.next()})}var Kp,W_;(W_=Kp||(Kp={})).J_="default",W_.Cache="cache";class xE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class GL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=it(),this.mutatedKeys=it(),this.Ia=YT(e),this.Ta=new Hs(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Y_,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=Gd(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;f&&h?f.data.isEqual(h.data)?m!==p&&(r.track({type:3,doc:h}),_=!0):this.Ra(f,h)||(r.track({type:2,doc:h}),_=!0,(l&&this.Ia(h,l)>0||u&&this.Ia(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),_=!0):f&&!h&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(h?(s=s.add(h),o=p?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((c,d)=>function(h,m){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return p(h)-p(m)}(c.type,d.type)||this.Ia(c.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new ra(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Y_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=it(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new RE(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new SE(r))}),n}pa(e){this.la=e.ls,this.Pa=it();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ra.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class QL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XL{constructor(e){this.key=e,this.wa=!1}}class JL{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new _a(a=>KT(a),Wd),this.Da=new Map,this.Ca=new Set,this.va=new Ct(je.comparator),this.Fa=new Map,this.Ma=new Eg,this.xa={},this.Oa=new Map,this.Na=na.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ZL(t,e,n=!0){const r=ME(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await OE(r,e,n,!0),i}async function e4(t,e){const n=ME(t);await OE(n,e,!0,!1)}async function OE(t,e,n,r){const i=await TL(t.localStore,ni(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await t4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&_E(t.remoteStore,i),a}async function t4(t,e,n,r,i){t.Ba=(d,f,h)=>async function(p,_,y,v){let b=_.view.da(y);b.Zi&&(b=await q_(p.localStore,_.query,!1).then(({documents:A})=>_.view.da(A,b)));const g=v&&v.targetChanges.get(_.targetId),T=v&&v.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(b,p.isPrimaryClient,g,T);return Q_(p,_.targetId,O.fa),O.snapshot}(t,d,f,h);const o=await q_(t.localStore,e,!0),s=new GL(e,o.ls),a=s.da(o.documents),l=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);Q_(t,n,u.fa);const c=new QL(e,n,s);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function n4(t,e,n){const r=Je(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Wd(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ig(r.remoteStore,i.targetId),Yp(r,i.targetId)}).catch(cu)):(Yp(r,i.targetId),await zp(r.localStore,i.targetId,!0))}async function r4(t,e){const n=Je(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ig(n.remoteStore,r.targetId))}async function i4(t,e,n){const r=d4(t);try{const i=await function(s,a){const l=Je(s),u=rn.now(),c=a.reduce((h,m)=>h.add(m.key),it());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Ci(),p=it();return l.ss.getEntries(h,c).next(_=>{m=_,m.forEach((y,v)=>{v.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,m)).next(_=>{d=_;const y=[];for(const v of a){const b=xM(v,d.get(v.key).overlayedDocument);b!=null&&y.push(new hs(v.key,b,FT(b.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,y,a)}).next(_=>{f=_;const y=_.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(h,_.batchId,y)})}).then(()=>({batchId:f.batchId,changes:GT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new Ct(dt)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await pu(r,i.changes),await nf(r.remoteStore)}catch(i){const o=Pg(i,"Failed to persist write");n.reject(o)}}async function PE(t,e){const n=Je(t);try{const r=await _L(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?wt(s.wa):i.removedDocuments.size>0&&(wt(s.wa),s.wa=!1))}),await pu(n,r,e)}catch(r){await cu(r)}}function G_(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Je(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.U_)f.j_(a)&&(u=!0)}),u&&Cg(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o4(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ct(je.comparator);s=s.insert(o,Pn.newNoDocument(o,We.min()));const a=it().add(o),l=new Zd(We.min(),new Map,new Ct(dt),s,a);await PE(r,l),r.va=r.va.remove(o),r.Fa.delete(e),Dg(r)}else await zp(r.localStore,e,!1).then(()=>Yp(r,e,n)).catch(cu)}async function s4(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await yL(n.localStore,e);DE(n,r,null),CE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pu(n,i)}catch(i){await cu(i)}}async function a4(t,e,n){const r=Je(t);try{const i=await function(s,a){const l=Je(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(wt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);DE(r,e,n),CE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pu(r,i)}catch(i){await cu(i)}}function CE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function DE(t,e,n){const r=Je(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Yp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||NE(t,r)})}function NE(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Ig(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Dg(t))}function Q_(t,e,n){for(const r of n)r instanceof SE?(t.Ma.addReference(r.key,e),l4(t,r)):r instanceof RE?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||NE(t,r.key)):qe()}function l4(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Dg(t))}function Dg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new je(kt.fromString(e)),r=t.Na.next();t.Fa.set(r,new XL(n)),t.va=t.va.insert(n,r),_E(t.remoteStore,new to(ni(yg(n.path)),r,"TargetPurposeLimboResolution",fg.oe))}}async function pu(t,e,n){const r=Je(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=kg.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,u){const c=Je(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ke.forEach(u,f=>ke.forEach(f.ki,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>ke.forEach(f.qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!du(d))throw d;Ne("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ts.get(f),m=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(m);c.ts=c.ts.insert(f,p)}}}(r.localStore,o))}async function u4(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await mE(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Fe(Ae.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pu(n,r._s)}}function c4(t,e){const n=Je(t),r=n.Fa.get(e);if(r&&r.wa)return it().add(r.key);{let i=it();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function ME(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o4.bind(null,e),e.Sa.l_=YL.bind(null,e.eventManager),e.Sa.ka=WL.bind(null,e.eventManager),e}function d4(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a4.bind(null,e),e}class X_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vL(this.persistence,new mL,e.initialUser,this.serializer)}createPersistence(e){return new fL(Ag.jr,this.serializer)}createSharedClientState(e){return new AL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class f4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u4.bind(null,this.syncEngine),await HL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KL}()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),r=function(o){return new SL(o)}(e.databaseInfo);return function(o,s,a,l){return new PL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new DL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>G_(this.syncEngine,n,0),function(){return z_.D()?new z_:new kL}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new JL(i,o,s,a,l,u);return c&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Je(r);Ne("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await hu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=LT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dh(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m4(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>K_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>K_(e.remoteStore,i)),t._onlineComponents=e}function p4(t){return t.name==="FirebaseError"?t.code===Ae.FAILED_PRECONDITION||t.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function m4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!p4(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await Dh(t,new X_)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await Dh(t,new X_);return t._offlineComponents}async function VE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await J_(t,new f4))),t._onlineComponents}function g4(t){return VE(t).then(e=>e.syncEngine)}async function $E(t){const e=await VE(t),n=e.eventManager;return n.onListen=ZL.bind(null,e.syncEngine),n.onUnlisten=n4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r4.bind(null,e.syncEngine),n}function v4(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new LE({next:f=>{s.enqueueAndForget(()=>IE(o,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new Fe(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new Fe(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new xE(yg(a.path),c,{includeMetadataChanges:!0,ra:!0});return kE(o,d)}(await $E(t),t.asyncQueue,e,n,r)),r.promise}function y4(t,e,n={}){const r=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new LE({next:f=>{s.enqueueAndForget(()=>IE(o,d)),f.fromCache&&l.source==="server"?u.reject(new Fe(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new xE(a,c,{includeMetadataChanges:!0,ra:!0});return kE(o,d)}(await $E(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e,n){if(!n)throw new Fe(Ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _4(t,e,n,r){if(e===!0&&r===!0)throw new Fe(Ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e0(t){if(!je.isDocumentKey(t))throw new Fe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t0(t){if(je.isDocumentKey(t))throw new Fe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function vo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(t);throw new Fe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Fe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Fe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LN;switch(r.type){case"firstParty":return new BN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function b4(t,e,n,r={}){var i;const o=(t=vo(t,rf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rn.MOCK_USER;else{a=T1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Fe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rn(u)}t._authCredentials=new VN(new MT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new of(this.firestore,e,this._query)}}class ur{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class lo extends of{constructor(e,n,r){super(e,n,yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new je(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function Gc(t,e,...n){if(t=It(t),BE("collection","path",e),t instanceof rf){const r=kt.fromString(e,...n);return t0(r),new lo(t,null,r)}{if(!(t instanceof ur||t instanceof lo))throw new Fe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return t0(r),new lo(t.firestore,null,r)}}function ql(t,e,...n){if(t=It(t),arguments.length===1&&(e=LT.newId()),BE("doc","path",e),t instanceof rf){const r=kt.fromString(e,...n);return e0(r),new ur(t,null,new je(r))}{if(!(t instanceof ur||t instanceof lo))throw new Fe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return e0(r),new ur(t.firestore,t instanceof lo?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new vE(this,"async_queue_retry"),this.hu=()=>{const n=Ch();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=Ch();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new xi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!du(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Og.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&qe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class mu extends rf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new w4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jE(this),this._firestoreClient.terminate()}}function T4(t,e){const n=typeof t=="object"?t:wd(),r=typeof t=="string"?t:"(default)",i=wo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=_1("firestore");o&&b4(i,...o)}return i}function Mg(t){return t._firestoreClient||jE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jE(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new ZN(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new h4(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Ln.fromBase64String(e))}catch(n){throw new Fe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=/^__.*__$/;class UE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class $g{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Qc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(qE(this.fu)&&E4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class A4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ef(e)}Fu(e,n,r,i=!1){return new $g({fu:e,methodName:n,vu:r,path:vn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k4(t){const e=t._freezeSettings(),n=ef(t._databaseId);return new A4(t._databaseId,!!e.ignoreUndefinedProperties,n)}class af extends Lg{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function I4(t,e,n,r){const i=t.Fu(1,e,n);zE("Data must be an object, but it was:",i,r);const o=[],s=or.empty();fs(r,(l,u)=>{const c=Fg(e,l,n);u=It(u);const d=i.Su(c);if(u instanceof af)o.push(c);else{const f=lf(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new Ir(o);return new UE(s,a,i.fieldTransforms)}function x4(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[r0(e,r,n)],l=[i];if(o.length%2!=0)throw new Fe(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(r0(e,o[f])),l.push(o[f+1]);const u=[],c=or.empty();for(let f=a.length-1;f>=0;--f)if(!O4(u,a[f])){const h=a[f];let m=l[f];m=It(m);const p=s.Su(h);if(m instanceof af)u.push(h);else{const _=lf(m,p);_!=null&&(u.push(h),c.set(h,_))}}const d=new Ir(u);return new UE(c,d,s.fieldTransforms)}function lf(t,e){if(HE(t=It(t)))return zE("Unsupported field value:",e,t),S4(t,e);if(t instanceof Lg)return function(r,i){if(!qE(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=lf(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rn.fromDate(r);return{timestampValue:Yc(i.serializer,o)}}if(r instanceof rn){const o=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,o)}}if(r instanceof Vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:lE(i.serializer,r._byteString)};if(r instanceof ur){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Ng(r)}`)}(t,e)}function S4(t,e){const n={};return VT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(r,i)=>{const o=lf(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function HE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Vg||t instanceof ia||t instanceof ur||t instanceof Lg)}function zE(t,e,n){if(!HE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ng(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function r0(t,e,n){if((e=It(e))instanceof sf)return e._internalPath;if(typeof e=="string")return Fg(t,e);throw Qc("Field path arguments must be of type string or ",t,!1,void 0,n)}const R4=new RegExp("[~\\*/\\[\\]]");function Fg(t,e,n){if(e.search(R4)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Fe(Ae.INVALID_ARGUMENT,a+t+l)}function O4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P4 extends KE{data(){return super.data()}}function YE(t,e){return typeof e=="string"?Fg(t,e):e instanceof sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D4{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Vg(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=mo(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);wt(pE(r));const i=new Fl(r.get(1),r.get(3)),o=new je(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WE extends KE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gc extends WE{data(e={}){return super.data(e)}}class N4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gc(this._firestore,this._userDataWriter,r.key,r,new Wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:M4(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function M4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){t=vo(t,ur);const e=vo(t.firestore,mu);return v4(Mg(e),t._key).then(n=>$4(e,t,n))}class GE extends D4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,n)}}function Xc(t){t=vo(t,of);const e=vo(t.firestore,mu),n=Mg(e),r=new GE(e);return C4(t._query),y4(n,t._query).then(i=>new N4(e,r,t,i))}function L4(t,e,n,...r){t=vo(t,ur);const i=vo(t.firestore,mu),o=k4(i);let s;return s=typeof(e=It(e))=="string"||e instanceof sf?x4(o,"updateDoc",t._key,e,n,r):I4(o,"updateDoc",t._key,e),QE(i,[s.toMutation(t._key,ri.exists(!0))])}function V4(t){return QE(vo(t.firestore,mu),[new _g(t._key,ri.none())])}function QE(t,e){return function(r,i){const o=new xi;return r.asyncQueue.enqueueAndForget(async()=>i4(await g4(r),i,o)),o.promise}(Mg(t),e)}function $4(t,e,n){const r=n.docs.get(e._key),i=new GE(t);return new WE(t,i,e._key,r,new Wa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ya=i})(us),Cr(new yr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new mu(new $N(r.getProvider("auth-internal")),new UN(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Fe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Jn(E_,"4.6.1",e),Jn(E_,"4.6.1","esm2017")})();const F4={apiKey:"AIzaSyDvdTUs36DFXUIZ3S7EGZJlSeeDxXg1mGY",authDomain:"tiryaki-hukuk-admin-pane-9a3f2.firebaseapp.com",projectId:"tiryaki-hukuk-admin-pane-9a3f2",storageBucket:"tiryaki-hukuk-admin-pane-9a3f2.appspot.com",messagingSenderId:"432646173233",appId:"1:432646173233:web:1c8a7ad94bacb703781b10",measurementId:"G-0LMBJQ2524"},Bg=R1(F4);f2(Bg);const Os=ID(Bg),Ei=T4(Bg);Tw(Os,jm).then(()=>{console.log("Firebase Auth persistence set to local.")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const vc=_R({state:{isAuthenticated:!1,user:null,role:null,errorMessage:null},mutations:{login(t,{user:e,role:n}){t.isAuthenticated=!0,t.user=e,t.role=n},logout(t){t.isAuthenticated=!1,t.user=null,t.role=null,t.errorMessage=null},setError(t,e){t.errorMessage=e},setUser(t,e){t.user=e,t.isAuthenticated=!!e},setRole(t,e){t.role=e}},actions:{async login({commit:t},{username:e,password:n}){try{await Tw(Os,jm);const i=(await fC(Os,e,n)).user,o=await Wp(ql(Ei,"attorneys",i.uid));let s=null;if(o.exists()?s=o.data().role:s="admin",s)t("login",{user:{email:i.email,uid:i.uid},role:s}),console.log("Login successful"),console.log("User role:",s);else throw await Zy(Os),console.error("User not authorized"),new Error("User not authorized")}catch(r){throw console.error("Login failed",r),t("setError",r.message),new Error("Invalid credentials or unauthorized access")}},async logout({commit:t}){try{await Zy(Os),t("logout"),console.log("Logout successful")}catch(e){throw console.error("Logout failed",e),new Error("Logout failed")}},async initializeAuth({commit:t}){return new Promise(e=>{mC(Os,async n=>{if(n){t("setUser",{email:n.email,uid:n.uid});const r=await Wp(ql(Ei,"attorneys",n.uid));let i=null;r.exists()?i=r.data().role:i="admin",t("setRole",i)}else t("setUser",null),t("setRole",null);e(n)})})}},getters:{isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,userRole:t=>t.role,errorMessage:t=>t.errorMessage}}),B4={class:"flex items-center justify-center"},j4=$("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[$("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),$("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),XE={__name:"Loading",props:{text:String},setup(t){const e=t;return(n,r)=>(ie(),ce("div",B4,[j4,Tn(" "+Ce(e.text),1)]))}},U4={class:"bg-gray-800"},q4={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},H4=$("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[$("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),Tn(" Tiryaki Hukuk Admin Panel ")],-1),z4={class:"w-full bg-gray-700 rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},K4={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},Y4=$("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Email",-1),W4=$("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Şifre",-1),G4=Gl('<div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" aria-describedby="remember" type="checkbox" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for="remember" class="text-white dark:text-gray-300">Beni hatırla</label></div></div></div>',1),Q4=["disabled"],X4={key:1},J4={key:0,class:"text-red-500 text-sm mt-2"},Z4={__name:"LoginPage",setup(t){const e=Jl(),n=i1(),r=pe(""),i=pe(""),o=pe(!1),s=pe(""),a=async()=>{o.value=!0,s.value="";try{const l={username:r.value,password:i.value};await e.dispatch("login",l);const u=e.getters.userRole,c=e.getters.user?e.getters.user.uid:null;u==="attorney"&&c?n.push(`/home/${c}`):n.push("/home")}catch{s.value="Hesap isim veya şifre yanlış. Lütfen tekrar deneyin."}finally{o.value=!1}};return(l,u)=>(ie(),ce("section",U4,[$("div",q4,[H4,$("div",z4,[$("div",K4,[$("form",{onSubmit:ai(a,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[$("div",null,[Y4,Ot($("input",{"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[Ks,r.value]])]),$("div",null,[W4,Ot($("input",{"onUpdate:modelValue":u[1]||(u[1]=c=>i.value=c),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[Ks,i.value]])]),G4,$("button",{id:"signin",disabled:o.value,class:"w-full inline-block text-white bg-gray-600 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},[o.value?(ie(),ze(XE,{key:0,text:"Giriş Yapılıyor..."})):(ie(),ce("span",X4,"Giriş Yap"))],8,Q4),s.value?(ie(),ce("div",J4,Ce(s.value),1)):ye("",!0)],32)])])])]))}},e3={class:"h-screen min-w-[16rem] bg-gray-800 p-4 z-50 sidebar-menu ease-in-out delay-150 duration-300 transition-transform"},t3=$("a",{href:"#",class:"flex items-center pb-4 border-b border-b-gray-800"},[$("img",{src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"",class:"w-8 h-8 rounded object-cover"}),$("span",{class:"text-lg font-bold text-white ml-3"},"Admin Panel")],-1),n3={class:"mt-4"},r3={class:"text-lg"},i3=$("i",{class:"mr-3 text-lg ri-logout-box-line"},null,-1),o3=$("span",{class:"text-lg"},"Çıkış",-1),s3=[i3,o3],a3={__name:"Sidebar",emits:["titleChange"],setup(t,{emit:e}){const n=Jl(),r=i1(),i=me(()=>n.getters.userRole),o=me(()=>n.getters.user?n.getters.user.uid:null),s=()=>{n.dispatch("logout"),r.push("/")},a=e;function l(f){a("titleChange",f)}const u=[{title:"Ana Sayfa",icon:"ri-home-2-line",link:"/home"},{title:"Online Görüşmeler",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Blog Yönetimi",icon:"ri-article-line",link:"/blogs"},{title:"Avukatlar",icon:"ri-team-line",link:"/lawyers"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],c=[{title:"Ana Sayfa",icon:"ri-home-2-line",link:"/home"},{title:"Online Görüşmelerim",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],d=me(()=>i.value==="admin"?u:i.value==="attorney"?c.map(f=>({...f,link:`${f.link}/${o.value}`})):[]);return(f,h)=>{const m=ym("router-link");return ie(),ce("div",e3,[t3,$("ul",n3,[(ie(!0),ce(Pe,null,et(d.value,p=>(ie(),ce("li",{key:p.title,class:"mb-1 group"},[Ye(m,{to:p.link,onClick:_=>l(p.title),class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},{default:He(()=>[$("i",{class:Xe([p.icon,"mr-3 text-lg"])},null,2),$("span",r3,Ce(p.title),1)]),_:2},1032,["to","onClick"])]))),128)),$("li",null,[$("div",{onClick:s,class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},s3)])])])}}},ci=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},l3=t=>(gm("data-v-2ea82558"),t=t(),vm(),t),u3={class:"relative"},c3=l3(()=>$("i",{class:"ri-notification-4-fill ri-2x"},null,-1)),d3=[c3],f3={class:"absolute right-0 mt-2 w-64 border border-gray-300 shadow-xl bg-white rounded-md z-50"},h3={class:"max-h-64 overflow-auto"},p3=["href"],m3={class:"text-sm font-medium text-gray-800"},g3={class:"text-xs text-gray-600"},v3={__name:"NotificationDropdown",setup(t){const e=pe(!1),n=pe([{id:1,title:"New order",message:"You have received a new order.",url:"#"},{id:2,title:"Payment received",message:"Your latest billing statement is ready.",url:"#"},{id:3,title:"System Update",message:"System updates will be performed tonight.",url:"#"},{id:4,title:"New Feature",message:"A new feature has been added to your dashboard.",url:"#"},{id:5,title:"Maintenance Scheduled",message:"Scheduled maintenance will occur this weekend.",url:"#"}]);function r(){e.value=!e.value}return(i,o)=>(ie(),ce("div",u3,[$("button",{onClick:r,class:"flex items-center justify-center w-8 h-8 rounded hover:bg-gray-50"},d3),Ot($("div",f3,[$("ul",h3,[(ie(!0),ce(Pe,null,et(n.value,s=>(ie(),ce("li",{key:s.id,class:"border-b last:border-b-0"},[$("a",{href:s.url,class:"block hover:bg-gray-300 p-4"},[$("p",m3,Ce(s.title),1),$("p",g3,Ce(s.message),1)],8,p3)]))),128))])],512),[[nl,e.value]])]))}},y3=ci(v3,[["__scopeId","data-v-2ea82558"]]),_3=t=>(gm("data-v-4aaf64ee"),t=t(),vm(),t),b3={class:"py-2 px-6 bg-white flex items-center shadow-md sticky top-0 left-0 z-30 justify-between"},w3={class:"flex items-center"},T3=_3(()=>$("i",{class:"ri-menu-line"},null,-1)),E3=[T3],A3={class:"flex items-center text-sm ml-4"},k3={class:"mr-2"},I3={href:"#",class:"text-gray-500 hover:text-gray-800 font-medium"},x3={class:"flex items-center"},S3={__name:"Navbar",props:{currentTab:String},setup(t){return(e,n)=>(ie(),ce("div",b3,[$("div",w3,[$("button",{onClick:n[0]||(n[0]=r=>e.$emit("toggleSidebar")),class:"text-lg text-gray-600 sidebar-toggle"},E3),$("ul",A3,[$("li",k3,[$("a",I3,Ce(t.currentTab),1)])])]),$("div",x3,[Ye(y3)])]))}},R3=ci(S3,[["__scopeId","data-v-4aaf64ee"]]),O3={},P3={class:"p-6"};function C3(t,e){return ie(),ce("section",P3,[Oe(t.$slots,"default")])}const D3=ci(O3,[["render",C3]]),N3={class:"flex flex-grow"},M3={class:"w-full h-screen overflow-y-scroll"},L3={__name:"MainPage",setup(t){const e=pe(!0),n=pe("Ana Sayfa");function r(o){n.value=o}function i(){e.value=!e.value}return(o,s)=>{const a=ym("RouterView");return ie(),ce("div",N3,[e.value?(ie(),ze(a3,{key:0,onToggleSidebar:i,onTitleChange:r})):ye("",!0),$("main",M3,[Ye(R3,{onToggleSidebar:i,"current-tab":n.value},null,8,["current-tab"]),Ye(D3,null,{default:He(()=>[Ye(Mi,{name:"fade"},{default:He(()=>[Ye(a)]),_:1})]),_:1})])])}}},V3=ci(L3,[["__scopeId","data-v-11af638c"]]),$3=$("h1",{class:"font-bold text-4xl"},"Home",-1),F3={key:0},B3=$("p",null,"Welcome, Admin!",-1),j3={key:1},U3=$("p",null,null,-1),i0={__name:"Home",setup(t){const e=Jl(),n=me(()=>e.getters.userRole),r=me(()=>e.getters.user?e.getters.user.uid:null),i=pe(null),o=async s=>{const a=await Wp(ql(Ei,"attorneys",s));i.value=a.data()};return xt(()=>{o(r.value)}),(s,a)=>(ie(),ce("div",null,[$3,n.value==="admin"?(ie(),ce("div",F3,[B3,$("p",null,"Your data "+Ce(i.value),1)])):n.value==="attorney"?(ie(),ce("div",j3,[$("p",null,[Tn("Welcome, "),$("span",null,Ce(n.value),1),Tn("!")]),$("p",null,"Your data "+Ce(i.value),1),U3])):ye("",!0)]))}},q3={class:"min-h-[88vh] flex items-center justify-center"},H3={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},z3=$("div",{class:"flex flex-col items-center"},[$("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Tüm Görüşmeleri"),$("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Gör")],-1),K3=[z3],Y3=["onClick"],W3={class:"w-full h-full flex items-center justify-center"},G3=["src"],Q3={__name:"OnlineMeetingsMenu",emits:["optionSelected"],setup(t,{emit:e}){const n=e,r=pe([]),i=Gc(Ei,"attorneys"),o=()=>n("optionSelected","showAll"),s=u=>n("optionSelected",u);async function a(){let u=[];return(await Xc(i)).forEach(d=>{u.push({id:d.id,...d.data()})}),u}async function l(){try{const u=localStorage.getItem("cachedAttorneys"),c=localStorage.getItem("cachedTimeAttorneys"),d=30*60*1e3;if(u&&c&&new Date-new Date(parseInt(c))<d)return JSON.parse(u);{const f=await a();return localStorage.setItem("cachedAttorneys",JSON.stringify(f)),localStorage.setItem("cachedTimeAttorneys",new Date().getTime().toString()),f}}catch(u){return console.error("Error getting meetings:",u),[]}}return xt(async()=>{const u=await l();r.value=u,console.log(r.value)}),(u,c)=>(ie(),ce("section",q3,[$("div",H3,[$("button",{onClick:o,class:"bg-white rounded-lg border w-64 h-56 border-gray-200 shadow-lg flex items-center justify-center"},K3),(ie(!0),ce(Pe,null,et(r.value,d=>(ie(),ce("button",{key:d.id,onClick:f=>s(d.id),class:"bg-white rounded-lg border w-64 h-56 border-gray-200 shadow-lg flex flex-col items-center justify-between p-2"},[$("div",W3,[$("img",{src:d.photo_url,alt:"Attorney Photo",class:"w-full h-full object-cover rounded-md"},null,8,G3)])],8,Y3))),128))])]))}},X3={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"},J3={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Z3={class:"flex justify-between items-center mb-4"},eV={class:"text-4xl font-bold text-gray-800"},tV=$("div",{class:"text-lg font-medium text-gray-500"},"Toplam Online Görüşmeler",-1),nV=$("div",{class:"text-gray-400"},[$("i",{class:"ri-group-line text-4xl"})],-1),rV={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},iV={class:"text-right text-sm font-medium text-gray-600 mt-2"},oV={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},sV={class:"flex justify-between items-center mb-4"},aV={class:"flex items-center mb-1"},lV={class:"text-4xl font-bold text-gray-800"},uV={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},cV=$("div",{class:"text-lg font-medium text-gray-500"},"Yaklaşan Görüşmeler",-1),dV=$("div",{class:"text-gray-400"},[$("i",{class:"ri-calendar-check-line text-4xl"})],-1),fV=$("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),hV={class:"mt-2 flex flex-wrap"},pV={key:0,class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},mV=$("div",{class:"flex justify-between items-center mb-4"},[$("div",null,[$("div",{class:"text-2xl font-bold text-gray-800"},"Attorney Schedule")]),$("div",{class:"text-gray-400"},[$("i",{class:"ri-award-line text-4xl"})])],-1),gV=[mV],vV={key:1,class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},yV=Gl('<div class="flex justify-between items-center mb-4"><div><div class="text-2xl font-bold text-gray-800">En İyi Avukatlar</div><div class="text-lg font-medium text-gray-500">Toplantı Sayısına Göre</div></div><div class="text-gray-400"><i class="ri-award-line text-4xl"></i></div></div>',1),_V={class:"mt-2 space-y-4"},bV={class:"flex items-center"},wV={class:"text-yellow-500"},TV=$("i",{class:"ri-star-fill"},null,-1),EV={class:"pl-4"},AV={class:"text-xl font-bold text-gray-900"},kV={__name:"MeetingCards",props:{totalMeetings:Number,approvedMeetings:Number,satisfactionRate:Number,meetingStatusSummary:Object,topAttorneys:Array,showTopAttorneys:Boolean,showAttorneySchedule:Boolean},setup(t){const e=Jl(),n=me(()=>e.getters.userRole),r=t,i={0:"bg-blue-100 text-blue-700",1:"bg-green-100 text-green-700",2:"bg-gray-100 text-gray-700",3:"bg-red-100 text-red-700",4:"bg-orange-100 text-orange-700",5:"bg-orange-100 text-orange-700",6:"bg-black text-white",7:"bg-black text-white"},o=l=>{switch(l){case"0":return"İstek";case"1":return"Kabul Edildi";case"2":return"Tamamlandı";case"3":return"Reddedildi";case"4":return"Müşteri Onayı";case"5":return"Avukat Onayı";case"6":return"Geri Ödemeli İptal";case"7":return"Geri Ödemesiz İptal";default:return"Unknown"}},s=me(()=>r.totalMeetings===0?0:(r.approvedMeetings/r.totalMeetings*100).toFixed(2)),a=me(()=>r.totalMeetings===0?0:(r.totalMeetings/100*100).toFixed(2));return(l,u)=>(ie(),ce("div",X3,[$("div",J3,[$("div",Z3,[$("div",null,[$("div",eV,Ce(t.totalMeetings),1),tV]),nV]),$("div",rV,[$("div",{class:"h-full bg-blue-600",style:en({width:a.value+"%"})},null,4)]),$("div",iV,Ce(a.value)+"%",1)]),$("div",oV,[$("div",sV,[$("div",null,[$("div",aV,[$("div",lV,Ce(t.approvedMeetings),1),$("div",uV," +"+Ce(s.value)+"% ",1)]),cV]),dV]),fV,$("div",hV,[(ie(!0),ce(Pe,null,et(t.meetingStatusSummary,(c,d)=>(ie(),ce("span",{key:d,class:Xe([i[d],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ce(o(d))+": "+Ce(c),3))),128))])]),t.showAttorneySchedule&&n.value==="admin"?(ie(),ce("div",pV,gV)):ye("",!0),t.showTopAttorneys?(ie(),ce("div",vV,[yV,$("ul",_V,[(ie(!0),ce(Pe,null,et(t.topAttorneys,(c,d)=>(ie(),ce("li",{key:d,class:"flex items-center justify-between text-lg font-semibold text-gray-700"},[$("div",bV,[$("div",wV,[TV,Tn(" "+Ce(c.rating),1)]),$("div",EV,[$("div",AV,Ce(d+1)+". "+Ce(c.name),1)])])]))),128))])])):ye("",!0)]))}},IV={},xV={class:"bg-white border border-gray-200 shadow-md shadow-black/5 p-6 rounded-md"};function SV(t,e){return ie(),ce("section",xV,[Oe(t.$slots,"default")])}const JE=ci(IV,[["render",SV]]),RV={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},OV={key:1,tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},PV={class:"relative p-4 w-full max-w-2xl max-h-full"},CV={class:"relative bg-white rounded-lg shadow"},DV={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},NV=$("h3",{class:"text-lg font-semibold text-black"}," Danışan Notları ",-1),MV=$("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[$("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),LV=$("span",{class:"sr-only"},"Close modal",-1),VV=[MV,LV],$V={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},FV={class:"col-span-2"},BV=$("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),jV={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},UV={__name:"NotesModal",props:{show:Boolean,customerNotes:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ie(),ce(Pe,null,[t.show?(ie(),ce("div",RV)):ye("",!0),t.show?(ie(),ce("div",OV,[$("div",PV,[$("div",CV,[$("div",DV,[NV,$("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},VV)]),$("div",$V,[$("div",FV,[BV,$("p",jV,Ce(t.customerNotes),1)])])])])])):ye("",!0)],64))}},wa=t=>(gm("data-v-423469d9"),t=t(),vm(),t),qV=wa(()=>$("div",{class:"flex justify-between mb-4 items-start"},[$("h1",{class:"font-medium"},"Online Görüşmeler")],-1)),HV={action:"",class:"flex items-center mb-4"},zV={class:"relative w-full mr-2"},KV=wa(()=>$("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1)),YV={class:"flex"},WV={class:"flex items-center space-x-2 p-2 hover:bg-gray-100"},GV=wa(()=>$("p",{class:"text-sm font-medium text-gray-800"},"Görüşme İstekleri",-1)),QV={class:"flex items-center space-x-2 p-2 hover:bg-gray-100"},XV=wa(()=>$("p",{class:"text-sm font-medium text-gray-800"},"Kabul Edilenler",-1)),JV={class:"flex items-center space-x-2 p-2 hover:bg-gray-100"},ZV=wa(()=>$("p",{class:"text-sm font-medium text-gray-800"},"Beklemede Olanlar",-1)),e5={key:0,class:"w-full mt-4 table-fixed"},t5=wa(()=>$("thead",null,[$("tr",null,[$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Avukat "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan Tel "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Tarih "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Saat "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Notlar "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Kategori "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Durum ")])],-1)),n5={class:"py-2 px-4 border-b border-b-gray-200"},r5={class:"flex items-center"},i5={class:"text-gray-600 text-sm font-medium hover:text-blue-500"},o5={class:"py-2 px-4 border-b border-b-gray-200"},s5={class:"text-[13px] font-medium text-gray-600"},a5={class:"py-2 px-4 border-b border-b-gray-200"},l5={class:"text-[13px] font-medium text-gray-600"},u5={class:"py-2 px-4 border-b border-b-gray-200"},c5={class:"text-[13px] font-medium text-gray-600"},d5={class:"py-2 px-4 border-b border-b-gray-200"},f5={class:"text-[13px] font-medium text-gray-600"},h5={class:"py-2 px-4 border-b border-b-gray-200"},p5=["onClick"],m5={class:"py-2 px-4 border-b border-b-gray-200"},g5={class:"text-[13px] font-medium text-gray-600"},v5={class:"py-2 px-4 border-b border-b-gray-200"},y5={class:"tooltip"},_5={class:"tooltiptext"},b5={class:"pagination-container flex justify-end mt-4 w-full"},w5=["disabled"],T5=["disabled"],E5={__name:"OnlineMeetingsManagement",props:{showAll:Boolean,uid:String},emits:["goBack"],setup(t,{emit:e}){const n=t,r=e,i=()=>{r("goBack")},o=pe(!1),s=pe(null),a=pe({requests:!1,accepted:!1,pending:!1}),l=pe(85),u=me(()=>{const V={};return h.value.forEach(ee=>{V[ee.status]?V[ee.status]++:V[ee.status]=1}),V}),c=me(()=>h.value.filter(V=>V.status==="1").length),d=me(()=>{const V={};return h.value.forEach(W=>{V[W.attorney_name]?V[W.attorney_name]++:V[W.attorney_name]=1}),Object.entries(V).sort((W,U)=>U[1]-W[1]).map(([W,U])=>({name:W,meetings:U})).slice(0,3)});function f(V){o.value=!0,s.value=V}const h=pe([]),m=Gc(Ei,"meetings"),p=me(()=>h.value.length),_=pe(1),y=pe(10),v=pe(""),b=me(()=>{let V=h.value;v.value&&(V=V.filter(C=>C.customer_name.toLowerCase().includes(v.value.toLowerCase())));const{requests:ee,accepted:W,pending:U}=a.value;return(ee||W||U)&&(V=V.filter(C=>{let L=!1;return ee&&C.status==="0"&&(L=!0),W&&C.status==="1"&&(L=!0),U&&C.status==="4"&&(L=!0),L})),V}),g=me(()=>(_.value-1)*y.value),T=me(()=>{if(b.value.length===0){const V=g.value,ee=V+y.value;return h.value.slice(V,ee)}else return b.value.slice(g.value,g.value+y.value)}),O=me(()=>b.value.length===0?Math.ceil(h.value.length/y.value):Math.ceil(b.value.length/y.value)),A=()=>{_.value<O.value&&_.value++},I=()=>{_.value>1&&_.value--};pe(null);const N=V=>{switch(V){case"0":return{color:"bg-blue-200",text:"İstek",icon:"ri-user-add-line"};case"1":return{color:"bg-green-200",text:"Kabul edildi",icon:"ri-calendar-check-line"};case"2":return{color:"bg-gray-200",text:"Tamamlandı",icon:"ri-check-line"};case"3":return{color:"bg-red-200",text:"Reddedildi",icon:"ri-close-line"};case"4":return{color:"bg-orange-200",text:"Müşteri onayı",icon:"ri-time-line"};case"5":return{color:"bg-orange-200",text:"Avukat onayı",icon:"ri-time-line"};case"6":return{color:"bg-black text-white",text:"Geri ödemeli iptal",icon:"ri-calendar-close-line"};case"7":return{color:"bg-black text-white",text:"Geri ödemesiz iptal",icon:"ri-calendar-close-line"};default:return{color:"bg-gray-200",text:"Unknown status",icon:"ri-question-line"}}},S=V=>N(V).color,E=V=>N(V).icon,w=V=>N(V).text;async function R(){let V=[];return(await Xc(m)).forEach(W=>{V.push({id:W.id,...W.data()})}),V=V.map(W=>{const U=D(W.date);return{...W,date:U.date,time:U.time}}),V}async function F(){try{const V=localStorage.getItem("cachedMeetings"),ee=localStorage.getItem("cachedTimeMeetings"),W=30*60*1e3;if(V&&ee&&new Date-new Date(parseInt(ee))<W)return JSON.parse(V);{const U=await R();return localStorage.setItem("cachedMeetings",JSON.stringify(U)),localStorage.setItem("cachedTimeMeetings",new Date().getTime().toString()),U}}catch(V){return console.error("Error getting meetings:",V),[]}}function D(V){if(!V)return"";if(V.seconds){const W=new Date(V.seconds*1e3),U=W.toLocaleDateString("tr-TR"),C=W.getHours().toString().padStart(2,"0"),L=W.getMinutes().toString().padStart(2,"0"),x=`${C}:${L}`;return{date:U,time:x}}return typeof V=="string"?V:new Date(V).toLocaleDateString("tr-TR")}function B(V){const ee={1:1,0:2,4:3,5:3,2:4,3:5,6:6,7:7};return V.sort((W,U)=>{const C=ee[W.status]-ee[U.status];if(C!==0)return C;{const L=new Date(W.date.split(".").reverse().join("-")),x=new Date(U.date.split(".").reverse().join("-"));return L-x}})}return xt(async()=>{const V=await F(),ee=B(V);n.showAll?h.value=ee:h.value=ee.filter(W=>W.attorney_id===n.uid)}),(V,ee)=>(ie(),ce("div",null,[$("button",{onClick:i,class:"bg-green-700 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön "),Ye(UV,{show:o.value,customerNotes:s.value,onClose:ee[0]||(ee[0]=W=>o.value=!1)},null,8,["show","customerNotes"]),Ye(kV,{totalMeetings:p.value,approvedMeetings:c.value,satisfactionRate:l.value,meetingStatusSummary:u.value,topAttorneys:d.value,showTopAttorneys:n.showAll,showAttorneySchedule:!n.showAll},null,8,["totalMeetings","approvedMeetings","satisfactionRate","meetingStatusSummary","topAttorneys","showTopAttorneys","showAttorneySchedule"]),Ye(JE,{class:"p-6"},{default:He(()=>{var W;return[qV,$("form",HV,[$("div",zV,[Ot($("input",{"onUpdate:modelValue":ee[1]||(ee[1]=U=>v.value=U),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Müşteri ismine göre ara..."},null,512),[[Ks,v.value]]),KV])]),$("div",YV,[$("a",WV,[Ot($("input",{type:"checkbox","onUpdate:modelValue":ee[2]||(ee[2]=U=>a.value.requests=U),class:"form-checkbox h-5 w-5 text-blue-600"},null,512),[[$s,a.value.requests]]),GV]),$("a",QV,[Ot($("input",{type:"checkbox","onUpdate:modelValue":ee[3]||(ee[3]=U=>a.value.accepted=U),class:"form-checkbox h-5 w-5 text-blue-600"},null,512),[[$s,a.value.accepted]]),XV]),$("a",JV,[Ot($("input",{type:"checkbox","onUpdate:modelValue":ee[4]||(ee[4]=U=>a.value.pending=U),class:"form-checkbox h-5 w-5 text-blue-600"},null,512),[[$s,a.value.pending]]),ZV])]),(W=h.value)!=null&&W.length?(ie(),ce("table",e5,[t5,$("tbody",null,[(ie(!0),ce(Pe,null,et(T.value,U=>(ie(),ce("tr",{key:U.id},[$("td",n5,[$("div",r5,[$("span",i5,Ce(U.attorney_name),1)])]),$("td",o5,[$("span",s5,Ce(U.customer_name),1)]),$("td",a5,[$("span",l5,Ce(U.customer_phone),1)]),$("td",u5,[$("span",c5,Ce(U.date),1)]),$("td",d5,[$("span",f5,Ce(U.time),1)]),$("td",h5,[$("button",{onClick:C=>f(U.notes),class:"ri-file-text-line flex items-center justify-center ml-2 text-lg bg-yellow-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,p5)]),$("td",m5,[$("span",g5,Ce(U.category),1)]),$("td",v5,[$("div",y5,[$("div",{class:Xe([S(U.status),"w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2"])},[$("i",{class:Xe(E(U.status))},null,2)],2),$("span",_5,Ce(w(U.status)),1)])])]))),128))])])):ye("",!0),$("div",b5,[$("button",{onClick:I,disabled:_.value===1,class:"ri-arrow-left-fill h-8 px-4 m-2 text-l text-white transition-colors duration-150 bg-gray-800 rounded-lg focus:shadow-outline hover:bg-indigo-800"},null,8,w5),$("button",{onClick:A,disabled:_.value===O.value,class:"ri-arrow-right-fill h-8 px-4 m-2 text-l text-white transition-colors duration-150 bg-gray-800 rounded-lg focus:shadow-outline hover:bg-indigo-800"},null,8,T5)])]}),_:1})]))}},A5=ci(E5,[["__scopeId","data-v-423469d9"]]),o0={__name:"OnlineMeetings",setup(t){const e=pe(!0),n=Jl(),r=me(()=>n.getters.userRole),i=me(()=>n.getters.user?n.getters.user.uid:null),o=pe("");r.value!=="admin"&&(o.value=i.value,e.value=!1);const s=a=>{o.value=a,e.value=!1};return(a,l)=>r.value==="admin"&&e.value?(ie(),ze(Q3,{key:0,onOptionSelected:s})):(ie(),ze(A5,{key:1,showAll:o.value==="showAll",uid:o.value,onGoBack:l[0]||(l[0]=u=>e.value=!0)},null,8,["showAll","uid"]))}},k5={key:0,id:"deleteModal",class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},I5={class:"bg-white rounded-lg p-4 max-w-sm w-full"},x5=$("div",{class:"mb-4"},[$("p",{class:"text-gray-800 text-sm"},"Bu blog yazısını silmek istediğinize emin misiniz?")],-1),S5={class:"flex justify-end"},R5={__name:"DeleteModal",props:{show:Boolean},setup(t){return(e,n)=>t.show?(ie(),ce("div",k5,[$("div",I5,[x5,$("div",S5,[$("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),id:"cancelDelete",class:"bg-gray-300 text-gray-800 rounded px-4 py-2 mr-2"},"Hayır"),$("button",{onClick:n[1]||(n[1]=r=>e.$emit("delete")),id:"confirmDelete",class:"bg-red-600 text-white rounded px-4 py-2"},"Evet")])])])):ye("",!0)}};var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eA={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:yn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),d=i(48),f=i(49),h=i(12),m=i(32),p=i(33),_=i(31),y=i(1),v={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:f.default,Attributor:{Attribute:h.default,Class:m.default,Style:p.default,Store:_.default}};r.default=v},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var b in v)v.hasOwnProperty(b)&&(y[b]=v[b])};return function(y,v){_(y,v);function b(){this.constructor=y}y.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(y,_);function y(v){var b=this;return v="[Parchment] "+v,b=_.call(this,v)||this,b.message=v,b.name=b.constructor.name,b}return y}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var d;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function f(_,y){var v=m(_);if(v==null)throw new s("Unable to create "+_+" blot");var b=v,g=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:b.create(y);return new b(g,y)}r.create=f;function h(_,y){return y===void 0&&(y=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:y?h(_.parentNode,y):null}r.find=h;function m(_,y){y===void 0&&(y=d.ANY);var v;if(typeof _=="string")v=c[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)v=c.text;else if(typeof _=="number")_&d.LEVEL&d.BLOCK?v=c.block:_&d.LEVEL&d.INLINE&&(v=c.inline);else if(_ instanceof HTMLElement){var b=(_.getAttribute("class")||"").split(/\s+/);for(var g in b)if(v=l[b[g]],v)break;v=v||u[_.tagName]}return v==null?null:y&d.LEVEL&v.scope&&y&d.TYPE&v.scope?v:null}r.query=m;function p(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];if(_.length>1)return _.map(function(g){return p(g)});var v=_[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new s("Invalid definition");if(v.blotName==="abstract")throw new s("Cannot register abstract class");if(c[v.blotName||v.attrName]=v,typeof v.keyName=="string")a[v.keyName]=v;else if(v.className!=null&&(l[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(g){return g.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var b=Array.isArray(v.tagName)?v.tagName:[v.tagName];b.forEach(function(g){(u[g]==null||v.className==null)&&(u[g]=v)})}return v}r.register=p},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,f){var h={};return d.length===0?this:(h.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,f){if(d<=0)return this;var h={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h)},c.prototype.push=function(d){var f=this.ops.length,h=this.ops[f-1];if(d=a(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[f-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(f-=1,h=this.ops[f-1],typeof h!="object"))return this.ops.unshift(d),this;if(s(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[f-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[f-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var f=[],h=[];return this.forEach(function(m){var p=d(m)?f:h;p.push(m)}),[f,h]},c.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},c.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+l.length(f):f.delete?d-f.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,f){return d+l.length(f)},0)},c.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var h=[],m=l.iterator(this.ops),p=0;p<f&&m.hasNext();){var _;p<d?_=m.next(d-p):(_=m.next(f-p),h.push(_)),p+=l.length(_)}return new c(h)},c.prototype.compose=function(d){var f=l.iterator(this.ops),h=l.iterator(d.ops),m=[],p=h.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){for(var _=p.retain;f.peekType()==="insert"&&f.peekLength()<=_;)_-=f.peekLength(),m.push(f.next());p.retain-_>0&&h.next(p.retain-_)}for(var y=new c(m);f.hasNext()||h.hasNext();)if(h.peekType()==="insert")y.push(h.next());else if(f.peekType()==="delete")y.push(f.next());else{var v=Math.min(f.peekLength(),h.peekLength()),b=f.next(v),g=h.next(v);if(typeof g.retain=="number"){var T={};typeof b.retain=="number"?T.retain=v:T.insert=b.insert;var O=l.attributes.compose(b.attributes,g.attributes,typeof b.retain=="number");if(O&&(T.attributes=O),y.push(T),!h.hasNext()&&s(y.ops[y.ops.length-1],T)){var A=new c(f.rest());return y.concat(A).chop()}}else typeof g.delete=="number"&&typeof b.retain=="number"&&y.push(g)}return y.chop()},c.prototype.concat=function(d){var f=new c(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},c.prototype.diff=function(d,f){if(this.ops===d.ops)return new c;var h=[this,d].map(function(v){return v.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var g=v===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),m=new c,p=o(h[0],h[1],f),_=l.iterator(this.ops),y=l.iterator(d.ops);return p.forEach(function(v){for(var b=v[1].length;b>0;){var g=0;switch(v[0]){case o.INSERT:g=Math.min(y.peekLength(),b),m.push(y.next(g));break;case o.DELETE:g=Math.min(b,_.peekLength()),_.next(g),m.delete(g);break;case o.EQUAL:g=Math.min(_.peekLength(),y.peekLength(),b);var T=_.next(g),O=y.next(g);s(T.insert,O.insert)?m.retain(g,l.attributes.diff(T.attributes,O.attributes)):m.push(O).delete(g);break}b-=g}}),m.chop()},c.prototype.eachLine=function(d,f){f=f||`
`;for(var h=l.iterator(this.ops),m=new c,p=0;h.hasNext();){if(h.peekType()!=="insert")return;var _=h.peek(),y=l.length(_)-h.peekLength(),v=typeof _.insert=="string"?_.insert.indexOf(f,y)-y:-1;if(v<0)m.push(h.next());else if(v>0)m.push(h.next(v));else{if(d(m,h.next(1).attributes||{},p)===!1)return;p+=1,m=new c}}m.length()>0&&d(m,{},p)},c.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var h=l.iterator(this.ops),m=l.iterator(d.ops),p=new c;h.hasNext()||m.hasNext();)if(h.peekType()==="insert"&&(f||m.peekType()!=="insert"))p.retain(l.length(h.next()));else if(m.peekType()==="insert")p.push(m.next());else{var _=Math.min(h.peekLength(),m.peekLength()),y=h.next(_),v=m.next(_);if(y.delete)continue;v.delete?p.push(v):p.retain(_,l.attributes.transform(y.attributes,v.attributes,f))}return p.chop()},c.prototype.transformPosition=function(d,f){f=!!f;for(var h=l.iterator(this.ops),m=0;h.hasNext()&&m<=d;){var p=h.peekLength(),_=h.peekType();if(h.next(),_==="delete"){d-=Math.min(p,d-m);continue}else _==="insert"&&(m<d||!f)&&(d+=p);m+=p}return d},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var m=i.call(h,"constructor"),p=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!m&&!p)return!1;var _;for(_ in h);return typeof _>"u"||i.call(h,_)},c=function(h,m){s&&m.name==="__proto__"?s(h,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):h[m.name]=m.newValue},d=function(h,m){if(m==="__proto__")if(i.call(h,m)){if(a)return a(h,m).value}else return;return h[m]};n.exports=function f(){var h,m,p,_,y,v,b=arguments[0],g=1,T=arguments.length,O=!1;for(typeof b=="boolean"&&(O=b,b=arguments[1]||{},g=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});g<T;++g)if(h=arguments[g],h!=null)for(m in h)p=d(b,m),_=d(h,m),b!==_&&(O&&_&&(u(_)||(y=l(_)))?(y?(y=!1,v=p&&l(p)?p:[]):v=p&&u(p)?p:{},c(b,{name:m,newValue:f(O,v,_)})):typeof _<"u"&&c(b,{name:m,newValue:_}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function E(w,R){for(var F=0;F<R.length;F++){var D=R[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,R,F){return R&&E(w.prototype,R),F&&E(w,F),w}}(),s=function E(w,R,F){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,R);if(D===void 0){var B=Object.getPrototypeOf(w);return B===null?void 0:E(B,R,F)}else{if("value"in D)return D.value;var V=D.get;return V===void 0?void 0:V.call(F)}},a=i(3),l=b(a),u=i(2),c=b(u),d=i(0),f=b(d),h=i(16),m=b(h),p=i(6),_=b(p),y=i(7),v=b(y);function b(E){return E&&E.__esModule?E:{default:E}}function g(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function T(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function O(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var A=1,I=function(E){O(w,E);function w(){return g(this,w),T(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"attach",value:function(){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,D){var B=f.default.query(F,f.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,D)}},{key:"formatAt",value:function(F,D,B,V){this.format(B,V)}},{key:"insertAt",value:function(F,D,B){if(typeof D=="string"&&D.endsWith(`
`)){var V=f.default.create(N.blotName);this.parent.insertBefore(V,F===0?this:this.next),V.insertAt(0,D.slice(0,-1))}else s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,F,D,B)}}]),w}(f.default.Embed);I.scope=f.default.Scope.BLOCK_BLOT;var N=function(E){O(w,E);function w(R){g(this,w);var F=T(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,R));return F.cache={},F}return o(w,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(F,D){return D.length()===0?F:F.insert(D.value(),S(D))},new c.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(F,D){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,F,D),this.cache={}}},{key:"formatAt",value:function(F,D,B,V){D<=0||(f.default.query(B,f.default.Scope.BLOCK)?F+D===this.length()&&this.format(B,V):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,F,Math.min(D,this.length()-F-1),B,V),this.cache={})}},{key:"insertAt",value:function(F,D,B){if(B!=null)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,F,D,B);if(D.length!==0){var V=D.split(`
`),ee=V.shift();ee.length>0&&(F<this.length()-1||this.children.tail==null?s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),ee):this.children.tail.insertAt(this.children.tail.length(),ee),this.cache={});var W=this;V.reduce(function(U,C){return W=W.split(U,!0),W.insertAt(0,C),C.length},F+ee.length)}}},{key:"insertBefore",value:function(F,D){var B=this.children.head;s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,F,D),B instanceof m.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(F,D){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"moveChildren",this).call(this,F,D),this.cache={}}},{key:"optimize",value:function(F){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(F===0||F>=this.length()-A)){var B=this.clone();return F===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}else{var V=s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"split",this).call(this,F,D);return this.cache={},V}}}]),w}(f.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[_.default,f.default.Embed,v.default];function S(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(w=(0,l.default)(w,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?w:S(E.parent,w)}r.bubbleFormats=S,r.BlockEmbed=I,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(U,C){var L=[],x=!0,Y=!1,Z=void 0;try{for(var j=U[Symbol.iterator](),P;!(x=(P=j.next()).done)&&(L.push(P.value),!(C&&L.length===C));x=!0);}catch(X){Y=!0,Z=X}finally{try{!x&&j.return&&j.return()}finally{if(Y)throw Z}}return L}return function(U,C){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return W(U,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(U,C){for(var L=0;L<C.length;L++){var x=C[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(U,x.key,x)}}return function(U,C,L){return C&&W(U.prototype,C),L&&W(U,L),U}}();i(50);var l=i(2),u=S(l),c=i(14),d=S(c),f=i(8),h=S(f),m=i(9),p=S(m),_=i(0),y=S(_),v=i(15),b=S(v),g=i(3),T=S(g),O=i(10),A=S(O),I=i(34),N=S(I);function S(W){return W&&W.__esModule?W:{default:W}}function E(W,U,C){return U in W?Object.defineProperty(W,U,{value:C,enumerable:!0,configurable:!0,writable:!0}):W[U]=C,W}function w(W,U){if(!(W instanceof U))throw new TypeError("Cannot call a class as a function")}var R=(0,A.default)("quill"),F=function(){a(W,null,[{key:"debug",value:function(C){C===!0&&(C="log"),A.default.level(C)}},{key:"find",value:function(C){return C.__quill||y.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&R.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,L){var x=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var Z=C.attrName||C.blotName;typeof Z=="string"?this.register("formats/"+Z,C,L):Object.keys(C).forEach(function(j){x.register(j,C[j],L)})}else this.imports[C]!=null&&!Y&&R.warn("Overwriting "+C+" with",L),this.imports[C]=L,(C.startsWith("blots/")||C.startsWith("formats/"))&&L.blotName!=="abstract"?y.default.register(L):C.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function W(U){var C=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w(this,W),this.options=D(U,L),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",U);this.options.debug&&W.debug(this.options.debug);var x=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(Z){Z===h.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(Z,j){var P=C.selection.lastRange,X=P&&P.length===0?P.index:void 0;B.call(C,function(){return C.editor.update(null,j,X)},Z)});var Y=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+x+"<p><br></p></div>");this.setContents(Y),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(W,[{key:"addContainer",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var x=C;C=document.createElement("div"),C.classList.add(x)}return this.container.insertBefore(C,L),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,L,x){var Y=this,Z=V(C,L,x),j=s(Z,4);return C=j[0],L=j[1],x=j[3],B.call(this,function(){return Y.editor.deleteText(C,L)},x,C,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,L){var x=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return B.call(this,function(){var Z=x.getSelection(!0),j=new u.default;if(Z==null)return j;if(y.default.query(C,y.default.Scope.BLOCK))j=x.editor.formatLine(Z.index,Z.length,E({},C,L));else{if(Z.length===0)return x.selection.format(C,L),j;j=x.editor.formatText(Z.index,Z.length,E({},C,L))}return x.setSelection(Z,h.default.sources.SILENT),j},Y)}},{key:"formatLine",value:function(C,L,x,Y,Z){var j=this,P=void 0,X=V(C,L,x,Y,Z),z=s(X,4);return C=z[0],L=z[1],P=z[2],Z=z[3],B.call(this,function(){return j.editor.formatLine(C,L,P)},Z,C,0)}},{key:"formatText",value:function(C,L,x,Y,Z){var j=this,P=void 0,X=V(C,L,x,Y,Z),z=s(X,4);return C=z[0],L=z[1],P=z[2],Z=z[3],B.call(this,function(){return j.editor.formatText(C,L,P)},Z,C,0)}},{key:"getBounds",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=void 0;typeof C=="number"?x=this.selection.getBounds(C,L):x=this.selection.getBounds(C.index,C.length);var Y=this.container.getBoundingClientRect();return{bottom:x.bottom-Y.top,height:x.height,left:x.left-Y.left,right:x.right-Y.left,top:x.top-Y.top,width:x.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,x=V(C,L),Y=s(x,2);return C=Y[0],L=Y[1],this.editor.getContents(C,L)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,L):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,L)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,x=V(C,L),Y=s(x,2);return C=Y[0],L=Y[1],this.editor.getText(C,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,L,x){var Y=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return B.call(this,function(){return Y.editor.insertEmbed(C,L,x)},Z,C)}},{key:"insertText",value:function(C,L,x,Y,Z){var j=this,P=void 0,X=V(C,0,x,Y,Z),z=s(X,4);return C=z[0],P=z[2],Z=z[3],B.call(this,function(){return j.editor.insertText(C,L,P)},Z,C,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,L,x){this.clipboard.dangerouslyPasteHTML(C,L,x)}},{key:"removeFormat",value:function(C,L,x){var Y=this,Z=V(C,L,x),j=s(Z,4);return C=j[0],L=j[1],x=j[3],B.call(this,function(){return Y.editor.removeFormat(C,L)},x,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var L=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return B.call(this,function(){C=new u.default(C);var Y=L.getLength(),Z=L.editor.deleteText(0,Y),j=L.editor.applyDelta(C),P=j.ops[j.ops.length-1];P!=null&&typeof P.insert=="string"&&P.insert[P.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),j.delete(1));var X=Z.compose(j);return X},x)}},{key:"setSelection",value:function(C,L,x){if(C==null)this.selection.setRange(null,L||W.sources.API);else{var Y=V(C,L,x),Z=s(Y,4);C=Z[0],L=Z[1],x=Z[3],this.selection.setRange(new v.Range(C,L),x),x!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,x=new u.default().insert(C);return this.setContents(x,L)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,L=this.scroll.update(C);return this.selection.update(C),L}},{key:"updateContents",value:function(C){var L=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return B.call(this,function(){return C=new u.default(C),L.editor.applyDelta(C,x)},x,!0)}}]),W}();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=h.default.events,F.sources=h.default.sources,F.version="1.3.7",F.imports={delta:u.default,parchment:y.default,"core/module":p.default,"core/theme":N.default};function D(W,U){if(U=(0,T.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},U),!U.theme||U.theme===F.DEFAULTS.theme)U.theme=N.default;else if(U.theme=F.import("themes/"+U.theme),U.theme==null)throw new Error("Invalid theme "+U.theme+". Did you register it?");var C=(0,T.default)(!0,{},U.theme.DEFAULTS);[C,U].forEach(function(Y){Y.modules=Y.modules||{},Object.keys(Y.modules).forEach(function(Z){Y.modules[Z]===!0&&(Y.modules[Z]={})})});var L=Object.keys(C.modules).concat(Object.keys(U.modules)),x=L.reduce(function(Y,Z){var j=F.import("modules/"+Z);return j==null?R.error("Cannot load "+Z+" module. Are you sure you registered it?"):Y[Z]=j.DEFAULTS||{},Y},{});return U.modules!=null&&U.modules.toolbar&&U.modules.toolbar.constructor!==Object&&(U.modules.toolbar={container:U.modules.toolbar}),U=(0,T.default)(!0,{},F.DEFAULTS,{modules:x},C,U),["bounds","container","scrollingContainer"].forEach(function(Y){typeof U[Y]=="string"&&(U[Y]=document.querySelector(U[Y]))}),U.modules=Object.keys(U.modules).reduce(function(Y,Z){return U.modules[Z]&&(Y[Z]=U.modules[Z]),Y},{}),U}function B(W,U,C,L){if(this.options.strict&&!this.isEnabled()&&U===h.default.sources.USER)return new u.default;var x=C==null?null:this.getSelection(),Y=this.editor.delta,Z=W();if(x!=null&&(C===!0&&(C=x.index),L==null?x=ee(x,Z,U):L!==0&&(x=ee(x,C,L,U)),this.setSelection(x,h.default.sources.SILENT)),Z.length()>0){var j,P=[h.default.events.TEXT_CHANGE,Z,Y,U];if((j=this.emitter).emit.apply(j,[h.default.events.EDITOR_CHANGE].concat(P)),U!==h.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,P)}}return Z}function V(W,U,C,L,x){var Y={};return typeof W.index=="number"&&typeof W.length=="number"?typeof U!="number"?(x=L,L=C,C=U,U=W.length,W=W.index):(U=W.length,W=W.index):typeof U!="number"&&(x=L,L=C,C=U,U=0),(typeof C>"u"?"undefined":o(C))==="object"?(Y=C,x=L):typeof C=="string"&&(L!=null?Y[C]=L:x=C),x=x||h.default.sources.API,[W,U,Y,x]}function ee(W,U,C,L){if(W==null)return null;var x=void 0,Y=void 0;if(U instanceof u.default){var Z=[W.index,W.index+W.length].map(function(z){return U.transformPosition(z,L!==h.default.sources.USER)}),j=s(Z,2);x=j[0],Y=j[1]}else{var P=[W.index,W.index+W.length].map(function(z){return z<U||z===U&&L===h.default.sources.USER?z:C>=0?z+C:Math.max(U,z+C)}),X=s(P,2);x=X[0],Y=X[1]}return new v.Range(x,Y-x)}r.expandConfig=D,r.overload=V,r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,b){return v&&_(y.prototype,v),b&&_(y,b),y}}(),s=function _(y,v,b){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:_(T,v,b)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(b)}},a=i(7),l=d(a),u=i(0),c=d(u);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function h(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function m(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var p=function(_){m(y,_);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"formatAt",value:function(b,g,T,O){if(y.compare(this.statics.blotName,T)<0&&c.default.query(T,c.default.Scope.BLOT)){var A=this.isolate(b,g);O&&A.wrap(T,O)}else s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,b,g,T,O)}},{key:"optimize",value:function(b){if(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(b,g){var T=y.order.indexOf(b),O=y.order.indexOf(g);return T>=0||O>=0?T-O:b===g?0:b<g?-1:1}}]),y}(c.default.Inline);p.allowedChildren=[p,c.default.Embed,l.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(b,g){for(var T=0;T<g.length;T++){var O=g[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,g,T){return g&&v(b.prototype,g),T&&v(b,T),b}}(),s=function v(b,g,T){b===null&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,g);if(O===void 0){var A=Object.getPrototypeOf(b);return A===null?void 0:v(A,g,T)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(T)}},a=i(54),l=d(a),u=i(10),c=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function m(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var p=(0,c.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(v){document.addEventListener(v,function(){for(var b=arguments.length,g=Array(b),T=0;T<b;T++)g[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var A;(A=O.__quill.emitter).handleDOM.apply(A,g)}})})});var y=function(v){m(b,v);function b(){f(this,b);var g=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return g.listeners={},g.on("error",p.error),g}return o(b,[{key:"emit",value:function(){p.log.apply(p,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var O=arguments.length,A=Array(O>1?O-1:0),I=1;I<O;I++)A[I-1]=arguments[I];(this.listeners[T.type]||[]).forEach(function(N){var S=N.node,E=N.handler;(T.target===S||S.contains(T.target))&&E.apply(void 0,[T].concat(A))})}},{key:"listenDOM",value:function(T,O,A){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:O,handler:A})}}]),b}(l.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];(c=console)[u].apply(c,f)}}function l(u){return o.reduce(function(c,d){return c[d]=a.bind(console,d,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,h,m){return m||(m={}),f===h?!0:f instanceof Date&&h instanceof Date?f.getTime()===h.getTime():!f||!h||typeof f!="object"&&typeof h!="object"?m.strict?f===h:f==h:d(f,h,m)};function u(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,h,m){var p,_;if(u(f)||u(h)||f.prototype!==h.prototype)return!1;if(a(f))return a(h)?(f=o.call(f),h=o.call(h),l(f,h,m)):!1;if(c(f)){if(!c(h)||f.length!==h.length)return!1;for(p=0;p<f.length;p++)if(f[p]!==h[p])return!1;return!0}try{var y=s(f),v=s(h)}catch{return!1}if(y.length!=v.length)return!1;for(y.sort(),v.sort(),p=y.length-1;p>=0;p--)if(y[p]!=v[p])return!1;for(p=y.length-1;p>=0;p--)if(_=y[p],!l(f[_],h[_],m))return!1;return typeof f==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function I(N,S){var E=[],w=!0,R=!1,F=void 0;try{for(var D=N[Symbol.iterator](),B;!(w=(B=D.next()).done)&&(E.push(B.value),!(S&&E.length===S));w=!0);}catch(V){R=!0,F=V}finally{try{!w&&D.return&&D.return()}finally{if(R)throw F}}return E}return function(N,S){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return I(N,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(N,S){for(var E=0;E<S.length;E++){var w=S[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(N,w.key,w)}}return function(N,S,E){return S&&I(N.prototype,S),E&&I(N,E),N}}(),a=function I(N,S,E){N===null&&(N=Function.prototype);var w=Object.getOwnPropertyDescriptor(N,S);if(w===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:I(R,S,E)}else{if("value"in w)return w.value;var F=w.get;return F===void 0?void 0:F.call(E)}},l=i(2),u=v(l),c=i(0),d=v(c),f=i(4),h=v(f),m=i(6),p=v(m),_=i(7),y=v(_);function v(I){return I&&I.__esModule?I:{default:I}}function b(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function g(I,N){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:I}function T(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(I,N):I.__proto__=N)}var O=function(I){T(N,I);function N(){return b(this,N),g(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(p.default);O.blotName="code",O.tagName="CODE";var A=function(I){T(N,I);function N(){return b(this,N),g(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return s(N,[{key:"delta",value:function(){var E=this,w=this.domNode.textContent;return w.endsWith(`
`)&&(w=w.slice(0,-1)),w.split(`
`).reduce(function(R,F){return R.insert(F).insert(`
`,E.formats())},new u.default)}},{key:"format",value:function(E,w){if(!(E===this.statics.blotName&&w)){var R=this.descendant(y.default,this.length()-1),F=o(R,1),D=F[0];D!=null&&D.deleteAt(D.length()-1,1),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,E,w)}}},{key:"formatAt",value:function(E,w,R,F){if(w!==0&&!(d.default.query(R,d.default.Scope.BLOCK)==null||R===this.statics.blotName&&F===this.statics.formats(this.domNode))){var D=this.newlineIndex(E);if(!(D<0||D>=E+w)){var B=this.newlineIndex(E,!0)+1,V=D-B+1,ee=this.isolate(B,V),W=ee.next;ee.format(R,F),W instanceof N&&W.formatAt(0,E-B+w-V,R,F)}}}},{key:"insertAt",value:function(E,w,R){if(R==null){var F=this.descendant(y.default,E),D=o(F,2),B=D[0],V=D[1];B.insertAt(V,w)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var R=this.domNode.textContent.slice(E).indexOf(`
`);return R>-1?E+R:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,E);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===w.statics.formats(w.domNode)&&(w.optimize(E),w.moveChildren(this),w.remove())}},{key:"replace",value:function(E){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(w){var R=d.default.find(w);R==null?w.parentNode.removeChild(w):R instanceof d.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(E){var w=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,E);return w.setAttribute("spellcheck",!1),w}},{key:"formats",value:function(){return!0}}]),N}(h.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",r.Code=O,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(U,C){var L=[],x=!0,Y=!1,Z=void 0;try{for(var j=U[Symbol.iterator](),P;!(x=(P=j.next()).done)&&(L.push(P.value),!(C&&L.length===C));x=!0);}catch(X){Y=!0,Z=X}finally{try{!x&&j.return&&j.return()}finally{if(Y)throw Z}}return L}return function(U,C){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return W(U,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(U,C){for(var L=0;L<C.length;L++){var x=C[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(U,x.key,x)}}return function(U,C,L){return C&&W(U.prototype,C),L&&W(U,L),U}}(),l=i(2),u=w(l),c=i(20),d=w(c),f=i(0),h=w(f),m=i(13),p=w(m),_=i(24),y=w(_),v=i(4),b=w(v),g=i(16),T=w(g),O=i(21),A=w(O),I=i(11),N=w(I),S=i(3),E=w(S);function w(W){return W&&W.__esModule?W:{default:W}}function R(W,U,C){return U in W?Object.defineProperty(W,U,{value:C,enumerable:!0,configurable:!0,writable:!0}):W[U]=C,W}function F(W,U){if(!(W instanceof U))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,B=function(){function W(U){F(this,W),this.scroll=U,this.delta=this.getDelta()}return a(W,[{key:"applyDelta",value:function(C){var L=this,x=!1;this.scroll.update();var Y=this.scroll.length();return this.scroll.batchStart(),C=ee(C),C.reduce(function(Z,j){var P=j.retain||j.delete||j.insert.length||1,X=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var z=j.insert;z.endsWith(`
`)&&x&&(x=!1,z=z.slice(0,-1)),Z>=Y&&!z.endsWith(`
`)&&(x=!0),L.scroll.insertAt(Z,z);var se=L.scroll.line(Z),le=s(se,2),Q=le[0],M=le[1],K=(0,E.default)({},(0,v.bubbleFormats)(Q));if(Q instanceof b.default){var H=Q.descendant(h.default.Leaf,M),de=s(H,1),J=de[0];K=(0,E.default)(K,(0,v.bubbleFormats)(J))}X=d.default.attributes.diff(K,X)||{}}else if(o(j.insert)==="object"){var G=Object.keys(j.insert)[0];if(G==null)return Z;L.scroll.insertAt(Z,G,j.insert[G])}Y+=P}return Object.keys(X).forEach(function(ne){L.scroll.formatAt(Z,P,ne,X[ne])}),Z+P},0),C.reduce(function(Z,j){return typeof j.delete=="number"?(L.scroll.deleteAt(Z,j.delete),Z):Z+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,L){return this.scroll.deleteAt(C,L),this.update(new u.default().retain(C).delete(L))}},{key:"formatLine",value:function(C,L){var x=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Y).forEach(function(Z){if(!(x.scroll.whitelist!=null&&!x.scroll.whitelist[Z])){var j=x.scroll.lines(C,Math.max(L,1)),P=L;j.forEach(function(X){var z=X.length();if(!(X instanceof p.default))X.format(Z,Y[Z]);else{var se=C-X.offset(x.scroll),le=X.newlineIndex(se+P)-se+1;X.formatAt(se,le,Z,Y[Z])}P-=z})}}),this.scroll.optimize(),this.update(new u.default().retain(C).retain(L,(0,A.default)(Y)))}},{key:"formatText",value:function(C,L){var x=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Y).forEach(function(Z){x.scroll.formatAt(C,L,Z,Y[Z])}),this.update(new u.default().retain(C).retain(L,(0,A.default)(Y)))}},{key:"getContents",value:function(C,L){return this.delta.slice(C,C+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,L){return C.concat(L.delta())},new u.default)}},{key:"getFormat",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=[],Y=[];L===0?this.scroll.path(C).forEach(function(j){var P=s(j,1),X=P[0];X instanceof b.default?x.push(X):X instanceof h.default.Leaf&&Y.push(X)}):(x=this.scroll.lines(C,L),Y=this.scroll.descendants(h.default.Leaf,C,L));var Z=[x,Y].map(function(j){if(j.length===0)return{};for(var P=(0,v.bubbleFormats)(j.shift());Object.keys(P).length>0;){var X=j.shift();if(X==null)return P;P=V((0,v.bubbleFormats)(X),P)}return P});return E.default.apply(E.default,Z)}},{key:"getText",value:function(C,L){return this.getContents(C,L).filter(function(x){return typeof x.insert=="string"}).map(function(x){return x.insert}).join("")}},{key:"insertEmbed",value:function(C,L,x){return this.scroll.insertAt(C,L,x),this.update(new u.default().retain(C).insert(R({},L,x)))}},{key:"insertText",value:function(C,L){var x=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,L),Object.keys(Y).forEach(function(Z){x.scroll.formatAt(C,L.length,Z,Y[Z])}),this.update(new u.default().retain(C).insert(L,(0,A.default)(Y)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==b.default.blotName||C.children.length>1?!1:C.children.head instanceof T.default}},{key:"removeFormat",value:function(C,L){var x=this.getText(C,L),Y=this.scroll.line(C+L),Z=s(Y,2),j=Z[0],P=Z[1],X=0,z=new u.default;j!=null&&(j instanceof p.default?X=j.newlineIndex(P)-P+1:X=j.length()-P,z=j.delta().slice(P,P+X-1).insert(`
`));var se=this.getContents(C,L+X),le=se.diff(new u.default().insert(x).concat(z)),Q=new u.default().retain(C).concat(le);return this.applyDelta(Q)}},{key:"update",value:function(C){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Y=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(D)&&h.default.find(L[0].target)){var Z=h.default.find(L[0].target),j=(0,v.bubbleFormats)(Z),P=Z.offset(this.scroll),X=L[0].oldValue.replace(y.default.CONTENTS,""),z=new u.default().insert(X),se=new u.default().insert(Z.value()),le=new u.default().retain(P).concat(z.diff(se,x));C=le.reduce(function(Q,M){return M.insert?Q.insert(M.insert,j):Q.push(M)},new u.default),this.delta=Y.compose(C)}else this.delta=this.getDelta(),(!C||!(0,N.default)(Y.compose(C),this.delta))&&(C=Y.diff(this.delta,x));return C}}]),W}();function V(W,U){return Object.keys(U).reduce(function(C,L){return W[L]==null||(U[L]===W[L]?C[L]=U[L]:Array.isArray(U[L])?U[L].indexOf(W[L])<0&&(C[L]=U[L].concat([W[L]])):C[L]=[U[L],W[L]]),C},{})}function ee(W){return W.reduce(function(U,C){if(C.insert===1){var L=(0,A.default)(C.attributes);return delete L.image,U.insert({image:C.attributes.image},L)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,A.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var x=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return U.insert(x,C.attributes)}return U.push(C)},new u.default)}r.default=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function I(N,S){var E=[],w=!0,R=!1,F=void 0;try{for(var D=N[Symbol.iterator](),B;!(w=(B=D.next()).done)&&(E.push(B.value),!(S&&E.length===S));w=!0);}catch(V){R=!0,F=V}finally{try{!w&&D.return&&D.return()}finally{if(R)throw F}}return E}return function(N,S){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return I(N,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(N,S){for(var E=0;E<S.length;E++){var w=S[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(N,w.key,w)}}return function(N,S,E){return S&&I(N.prototype,S),E&&I(N,E),N}}(),a=i(0),l=y(a),u=i(21),c=y(u),d=i(11),f=y(d),h=i(8),m=y(h),p=i(10),_=y(p);function y(I){return I&&I.__esModule?I:{default:I}}function v(I){if(Array.isArray(I)){for(var N=0,S=Array(I.length);N<I.length;N++)S[N]=I[N];return S}else return Array.from(I)}function b(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}var g=(0,_.default)("quill:selection"),T=function I(N){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,I),this.index=N,this.length=S},O=function(){function I(N,S){var E=this;b(this,I),this.emitter=S,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(w,R){w===m.default.events.TEXT_CHANGE&&R.length()>0&&E.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var w=E.getNativeRange();w!=null&&w.start.node!==E.cursor.textNode&&E.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(w,R){if(R.range){var F=R.range,D=F.startNode,B=F.startOffset,V=F.endNode,ee=F.endOffset;E.setNativeRange(D,B,V,ee)}}),this.update(m.default.sources.SILENT)}return s(I,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var E=S.cursor.restore();if(!E)return;setTimeout(function(){S.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var w=this.getNativeRange();if(!(w==null||!w.native.collapsed||l.default.query(S,l.default.Scope.BLOCK))){if(w.start.node!==this.cursor.textNode){var R=l.default.find(w.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var F=R.split(w.start.offset);R.parent.insertBefore(this.cursor,F)}else R.insertBefore(this.cursor,w.start.node);this.cursor.attach()}this.cursor.format(S,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=this.scroll.length();S=Math.min(S,w-1),E=Math.min(S+E,w-1)-S;var R=void 0,F=this.scroll.leaf(S),D=o(F,2),B=D[0],V=D[1];if(B==null)return null;var ee=B.position(V,!0),W=o(ee,2);R=W[0],V=W[1];var U=document.createRange();if(E>0){U.setStart(R,V);var C=this.scroll.leaf(S+E),L=o(C,2);if(B=L[0],V=L[1],B==null)return null;var x=B.position(V,!0),Y=o(x,2);return R=Y[0],V=Y[1],U.setEnd(R,V),U.getBoundingClientRect()}else{var Z="left",j=void 0;return R instanceof Text?(V<R.data.length?(U.setStart(R,V),U.setEnd(R,V+1)):(U.setStart(R,V-1),U.setEnd(R,V),Z="right"),j=U.getBoundingClientRect()):(j=B.domNode.getBoundingClientRect(),V>0&&(Z="right")),{bottom:j.top+j.height,height:j.height,left:j[Z],right:j[Z],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var E=S.getRangeAt(0);if(E==null)return null;var w=this.normalizeNative(E);return g.info("getNativeRange",w),w}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var E=this.normalizedToRange(S);return[E,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var E=this,w=[[S.start.node,S.start.offset]];S.native.collapsed||w.push([S.end.node,S.end.offset]);var R=w.map(function(B){var V=o(B,2),ee=V[0],W=V[1],U=l.default.find(ee,!0),C=U.offset(E.scroll);return W===0?C:U instanceof l.default.Container?C+U.length():C+U.index(ee,W)}),F=Math.min(Math.max.apply(Math,v(R)),this.scroll.length()-1),D=Math.min.apply(Math,[F].concat(v(R)));return new T(D,F-D)}},{key:"normalizeNative",value:function(S){if(!A(this.root,S.startContainer)||!S.collapsed&&!A(this.root,S.endContainer))return null;var E={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[E.start,E.end].forEach(function(w){for(var R=w.node,F=w.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>F)R=R.childNodes[F],F=0;else if(R.childNodes.length===F)R=R.lastChild,F=R instanceof Text?R.data.length:R.childNodes.length+1;else break;w.node=R,w.offset=F}),E}},{key:"rangeToNative",value:function(S){var E=this,w=S.collapsed?[S.index]:[S.index,S.index+S.length],R=[],F=this.scroll.length();return w.forEach(function(D,B){D=Math.min(F-1,D);var V=void 0,ee=E.scroll.leaf(D),W=o(ee,2),U=W[0],C=W[1],L=U.position(C,B!==0),x=o(L,2);V=x[0],C=x[1],R.push(V,C)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(S){var E=this.lastRange;if(E!=null){var w=this.getBounds(E.index,E.length);if(w!=null){var R=this.scroll.length()-1,F=this.scroll.line(Math.min(E.index,R)),D=o(F,1),B=D[0],V=B;if(E.length>0){var ee=this.scroll.line(Math.min(E.index+E.length,R)),W=o(ee,1);V=W[0]}if(!(B==null||V==null)){var U=S.getBoundingClientRect();w.top<U.top?S.scrollTop-=U.top-w.top:w.bottom>U.bottom&&(S.scrollTop+=w.bottom-U.bottom)}}}}},{key:"setNativeRange",value:function(S,E){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",S,E,w,R),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||w.parentNode==null))){var D=document.getSelection();if(D!=null)if(S!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||F||S!==B.startContainer||E!==B.startOffset||w!==B.endContainer||R!==B.endOffset){S.tagName=="BR"&&(E=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),w.tagName=="BR"&&(R=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode);var V=document.createRange();V.setStart(S,E),V.setEnd(w,R),D.removeAllRanges(),D.addRange(V)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof E=="string"&&(w=E,E=!1),g.info("setRange",S),S!=null){var R=this.rangeToNative(S);this.setNativeRange.apply(this,v(R).concat([E]))}else this.setNativeRange(null);this.update(w)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,E=this.lastRange,w=this.getRange(),R=o(w,2),F=R[0],D=R[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(E,this.lastRange)){var B;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var V=[m.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(E),S];if((B=this.emitter).emit.apply(B,[m.default.events.EDITOR_CHANGE].concat(V)),S!==m.default.sources.SILENT){var ee;(ee=this.emitter).emit.apply(ee,V)}}}}]),I}();function A(I,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),I.contains(N)}r.Range=T,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,_){for(var y=0;y<_.length;y++){var v=_[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,_,y){return _&&m(p.prototype,_),y&&m(p,y),p}}(),s=function m(p,_,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,_);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,_,y)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(y)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){f(p,m);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"insertInto",value:function(y,v){y.children.length===0?s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertInto",this).call(this,y,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),p}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){d(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(d){o(f,d);function f(h){var m=d.call(this,h)||this;return m.build(),m}return f.prototype.appendChild=function(h){this.insertBefore(h)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},f.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var p=c(m);h.insertBefore(p,h.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},f.prototype.deleteAt=function(h,m){if(h===0&&m===this.length())return this.remove();this.children.forEachAt(h,m,function(p,_,y){p.deleteAt(_,y)})},f.prototype.descendant=function(h,m){var p=this.children.find(m),_=p[0],y=p[1];return h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h?[_,y]:_ instanceof f?_.descendant(h,y):[null,-1]},f.prototype.descendants=function(h,m,p){m===void 0&&(m=0),p===void 0&&(p=Number.MAX_VALUE);var _=[],y=p;return this.children.forEachAt(m,p,function(v,b,g){(h.blotName==null&&h(v)||h.blotName!=null&&v instanceof h)&&_.push(v),v instanceof f&&(_=_.concat(v.descendants(h,b,y))),y-=g}),_},f.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(h,m,p,_){this.children.forEachAt(h,m,function(y,v,b){y.formatAt(v,b,p,_)})},f.prototype.insertAt=function(h,m,p){var _=this.children.find(h),y=_[0],v=_[1];if(y)y.insertAt(v,m,p);else{var b=p==null?l.create("text",m):l.create(m,p);this.appendChild(b)}},f.prototype.insertBefore=function(h,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(p){return h instanceof p}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,m)},f.prototype.length=function(){return this.children.reduce(function(h,m){return h+m.length()},0)},f.prototype.moveChildren=function(h,m){this.children.forEach(function(p){h.insertBefore(p,m)})},f.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var m=l.create(this.statics.defaultChild);this.appendChild(m),m.optimize(h)}else this.remove()},f.prototype.path=function(h,m){m===void 0&&(m=!1);var p=this.children.find(h,m),_=p[0],y=p[1],v=[[this,h]];return _ instanceof f?v.concat(_.path(y,m)):(_!=null&&v.push([_,y]),v)},f.prototype.removeChild=function(h){this.children.remove(h)},f.prototype.replace=function(h){h instanceof f&&h.moveChildren(this),d.prototype.replace.call(this,h)},f.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var p=this.clone();return this.parent.insertBefore(p,this.next),this.children.forEachAt(h,this.length(),function(_,y,v){_=_.split(y,m),p.appendChild(_)}),p},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(h,m){var p=this,_=[],y=[];h.forEach(function(v){v.target===p.domNode&&v.type==="childList"&&(_.push.apply(_,v.addedNodes),y.push.apply(y,v.removedNodes))}),y.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(v);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===p.domNode)&&b.detach()}}),_.filter(function(v){return v.parentNode==p.domNode}).sort(function(v,b){return v===b?0:v.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var b=null;v.nextSibling!=null&&(b=l.find(v.nextSibling));var g=c(v);(g.next!=b||g.next==null)&&(g.parent!=null&&g.parent.removeChild(p),p.insertBefore(g,b||void 0))})},f}(a.default);function c(d){var f=l.find(d);if(f==null)try{f=l.create(d)}catch{f=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(m){f.domNode.appendChild(m)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){d(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(d){o(f,d);function f(h){var m=d.call(this,h)||this;return m.attributes=new a.default(m.domNode),m}return f.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},f.prototype.format=function(h,m){var p=u.query(h);p instanceof s.default?this.attributes.attribute(p,m):m&&p!=null&&(h!==this.statics.blotName||this.formats()[h]!==m)&&this.replaceWith(h,m)},f.prototype.formats=function(){var h=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(h[this.statics.blotName]=m),h},f.prototype.replaceWith=function(h,m){var p=d.prototype.replaceWith.call(this,h,m);return this.attributes.copy(p),p},f.prototype.update=function(h,m){var p=this;d.prototype.update.call(this,h,m),h.some(function(_){return _.target===p.domNode&&_.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(h,m){var p=d.prototype.wrap.call(this,h,m);return p instanceof f&&p.statics.scope===this.statics.scope&&this.attributes.move(p),p},f}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},c.prototype.position=function(d,f){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,d){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=s(!0,{},c);d||(f=Object.keys(f).reduce(function(m,p){return f[p]!=null&&(m[p]=f[p]),m},{}));for(var h in u)u[h]!==void 0&&c[h]===void 0&&(f[h]=u[h]);return Object.keys(f).length>0?f:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=Object.keys(u).concat(Object.keys(c)).reduce(function(f,h){return o(u[h],c[h])||(f[h]=c[h]===void 0?null:c[h]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,c,d){if(typeof u!="object")return c;if(typeof c=="object"){if(!d)return c;var f=Object.keys(c).reduce(function(h,m){return u[m]===void 0&&(h[m]=c[m]),h},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var d=this.offset,f=a.length(c);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var h={};return c.attributes&&(h.attributes=c.attributes),typeof c.retain=="number"?h.retain=u:typeof c.insert=="string"?h.insert=c.insert.substr(d,u):h.insert=c.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=c,[d].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(p,_){return _!=null&&p instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(p,_,y,v,b){typeof _=="object"&&(y=_.depth,v=_.prototype,b=_.includeNonEnumerable,_=_.circular);var g=[],T=[],O=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof y>"u"&&(y=1/0);function A(I,N){if(I===null)return null;if(N===0)return I;var S,E;if(typeof I!="object")return I;if(o(I,s))S=new s;else if(o(I,a))S=new a;else if(o(I,l))S=new l(function(U,C){I.then(function(L){U(A(L,N-1))},function(L){C(A(L,N-1))})});else if(u.__isArray(I))S=[];else if(u.__isRegExp(I))S=new RegExp(I.source,m(I)),I.lastIndex&&(S.lastIndex=I.lastIndex);else if(u.__isDate(I))S=new Date(I.getTime());else{if(O&&Buffer.isBuffer(I))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(I.length):S=new Buffer(I.length),I.copy(S),S;o(I,Error)?S=Object.create(I):typeof v>"u"?(E=Object.getPrototypeOf(I),S=Object.create(E)):(S=Object.create(v),E=v)}if(_){var w=g.indexOf(I);if(w!=-1)return T[w];g.push(I),T.push(S)}o(I,s)&&I.forEach(function(U,C){var L=A(C,N-1),x=A(U,N-1);S.set(L,x)}),o(I,a)&&I.forEach(function(U){var C=A(U,N-1);S.add(C)});for(var R in I){var F;E&&(F=Object.getOwnPropertyDescriptor(E,R)),!(F&&F.set==null)&&(S[R]=A(I[R],N-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(I),R=0;R<D.length;R++){var B=D[R],V=Object.getOwnPropertyDescriptor(I,B);V&&!V.enumerable&&!b||(S[B]=A(I[B],N-1),V.enumerable||Object.defineProperty(S,B,{enumerable:!1}))}if(b)for(var ee=Object.getOwnPropertyNames(I),R=0;R<ee.length;R++){var W=ee[R],V=Object.getOwnPropertyDescriptor(I,W);V&&V.enumerable||(S[W]=A(I[W],N-1),Object.defineProperty(S,W,{enumerable:!1}))}return S}return A(p,y)}u.clonePrototype=function(_){if(_===null)return null;var y=function(){};return y.prototype=_,new y};function c(p){return Object.prototype.toString.call(p)}u.__objToStr=c;function d(p){return typeof p=="object"&&c(p)==="[object Date]"}u.__isDate=d;function f(p){return typeof p=="object"&&c(p)==="[object Array]"}u.__isArray=f;function h(p){return typeof p=="object"&&c(p)==="[object RegExp]"}u.__isRegExp=h;function m(p){var _="";return p.global&&(_+="g"),p.ignoreCase&&(_+="i"),p.multiline&&(_+="m"),_}return u.__getRegExpFlags=m,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function S(E,w){var R=[],F=!0,D=!1,B=void 0;try{for(var V=E[Symbol.iterator](),ee;!(F=(ee=V.next()).done)&&(R.push(ee.value),!(w&&R.length===w));F=!0);}catch(W){D=!0,B=W}finally{try{!F&&V.return&&V.return()}finally{if(D)throw B}}return R}return function(E,w){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(E,w){for(var R=0;R<w.length;R++){var F=w[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}}return function(E,w,R){return w&&S(E.prototype,w),R&&S(E,R),E}}(),a=function S(E,w,R){E===null&&(E=Function.prototype);var F=Object.getOwnPropertyDescriptor(E,w);if(F===void 0){var D=Object.getPrototypeOf(E);return D===null?void 0:S(D,w,R)}else{if("value"in F)return F.value;var B=F.get;return B===void 0?void 0:B.call(R)}},l=i(0),u=g(l),c=i(8),d=g(c),f=i(4),h=g(f),m=i(16),p=g(m),_=i(13),y=g(_),v=i(25),b=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function T(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function O(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function A(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}function I(S){return S instanceof h.default||S instanceof f.BlockEmbed}var N=function(S){A(E,S);function E(w,R){T(this,E);var F=O(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,w));return F.emitter=R.emitter,Array.isArray(R.whitelist)&&(F.whitelist=R.whitelist.reduce(function(D,B){return D[B]=!0,D},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return s(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,F){var D=this.line(R),B=o(D,2),V=B[0],ee=B[1],W=this.line(R+F),U=o(W,1),C=U[0];if(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,R,F),C!=null&&V!==C&&ee>0){if(V instanceof f.BlockEmbed||C instanceof f.BlockEmbed){this.optimize();return}if(V instanceof y.default){var L=V.newlineIndex(V.length(),!0);if(L>-1&&(V=V.split(L+1),V===C)){this.optimize();return}}else if(C instanceof y.default){var x=C.newlineIndex(0);x>-1&&C.split(x+1)}var Y=C.children.head instanceof p.default?null:C.children.head;V.moveChildren(C,Y),V.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,F,D,B){this.whitelist!=null&&!this.whitelist[D]||(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,R,F,D,B),this.optimize())}},{key:"insertAt",value:function(R,F,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[F])){if(R>=this.length())if(D==null||u.default.query(F,u.default.Scope.BLOCK)==null){var B=u.default.create(this.statics.defaultChild);this.appendChild(B),D==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),B.insertAt(0,F,D)}else{var V=u.default.create(F,D);this.appendChild(V)}else a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,R,F,D);this.optimize()}}},{key:"insertBefore",value:function(R,F){if(R.statics.scope===u.default.Scope.INLINE_BLOT){var D=u.default.create(this.statics.defaultChild);D.appendChild(R),R=D}a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,R,F)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(I,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function B(V,ee,W){var U=[],C=W;return V.children.forEachAt(ee,W,function(L,x,Y){I(L)?U.push(L):L instanceof u.default.Container&&(U=U.concat(B(L,x,C))),C-=Y}),U};return D(this,R,F)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,R,F),R.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,R,F))}},{key:"path",value:function(R){return a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var F=d.default.sources.USER;typeof R=="string"&&(F=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,F,R),a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,F,R)}}}]),E}(u.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[h.default,f.BlockEmbed,b.default],r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(P,X){var z=[],se=!0,le=!1,Q=void 0;try{for(var M=P[Symbol.iterator](),K;!(se=(K=M.next()).done)&&(z.push(K.value),!(X&&z.length===X));se=!0);}catch(H){le=!0,Q=H}finally{try{!se&&M.return&&M.return()}finally{if(le)throw Q}}return z}return function(P,X){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return j(P,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(P,X){for(var z=0;z<X.length;z++){var se=X[z];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(P,se.key,se)}}return function(P,X,z){return X&&j(P.prototype,X),z&&j(P,z),P}}(),l=i(21),u=S(l),c=i(11),d=S(c),f=i(3),h=S(f),m=i(2),p=S(m),_=i(20),y=S(_),v=i(0),b=S(v),g=i(5),T=S(g),O=i(10),A=S(O),I=i(9),N=S(I);function S(j){return j&&j.__esModule?j:{default:j}}function E(j,P,X){return P in j?Object.defineProperty(j,P,{value:X,enumerable:!0,configurable:!0,writable:!0}):j[P]=X,j}function w(j,P){if(!(j instanceof P))throw new TypeError("Cannot call a class as a function")}function R(j,P){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:j}function F(j,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);j.prototype=Object.create(P&&P.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(j,P):j.__proto__=P)}var D=(0,A.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",V=function(j){F(P,j),a(P,null,[{key:"match",value:function(z,se){return se=Z(se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(le){return!!se[le]!==z[le]&&se[le]!==null})?!1:se.key===(z.which||z.keyCode)}}]);function P(X,z){w(this,P);var se=R(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,X,z));return se.bindings={},Object.keys(se.options.bindings).forEach(function(le){le==="list autofill"&&X.scroll.whitelist!=null&&!X.scroll.whitelist.list||se.options.bindings[le]&&se.addBinding(se.options.bindings[le])}),se.addBinding({key:P.keys.ENTER,shiftKey:null},L),se.addBinding({key:P.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(se.addBinding({key:P.keys.BACKSPACE},{collapsed:!0},W),se.addBinding({key:P.keys.DELETE},{collapsed:!0},U)):(se.addBinding({key:P.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),se.addBinding({key:P.keys.DELETE},{collapsed:!0,suffix:/^.?$/},U)),se.addBinding({key:P.keys.BACKSPACE},{collapsed:!1},C),se.addBinding({key:P.keys.DELETE},{collapsed:!1},C),se.addBinding({key:P.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),se.listen(),se}return a(P,[{key:"addBinding",value:function(z){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=Z(z);if(Q==null||Q.key==null)return D.warn("Attempted to add invalid keyboard binding",Q);typeof se=="function"&&(se={handler:se}),typeof le=="function"&&(le={handler:le}),Q=(0,h.default)(Q,se,le),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var z=this;this.quill.root.addEventListener("keydown",function(se){if(!se.defaultPrevented){var le=se.which||se.keyCode,Q=(z.bindings[le]||[]).filter(function(Ve){return P.match(se,Ve)});if(Q.length!==0){var M=z.quill.getSelection();if(!(M==null||!z.quill.hasFocus())){var K=z.quill.getLine(M.index),H=s(K,2),de=H[0],J=H[1],G=z.quill.getLeaf(M.index),ne=s(G,2),re=ne[0],fe=ne[1],te=M.length===0?[re,fe]:z.quill.getLeaf(M.index+M.length),ve=s(te,2),_e=ve[0],we=ve[1],xe=re instanceof b.default.Text?re.value().slice(0,fe):"",Me=_e instanceof b.default.Text?_e.value().slice(we):"",De={collapsed:M.length===0,empty:M.length===0&&de.length()<=1,format:z.quill.getFormat(M),offset:J,prefix:xe,suffix:Me},tt=Q.some(function(Ve){if(Ve.collapsed!=null&&Ve.collapsed!==De.collapsed||Ve.empty!=null&&Ve.empty!==De.empty||Ve.offset!=null&&Ve.offset!==De.offset)return!1;if(Array.isArray(Ve.format)){if(Ve.format.every(function(mt){return De.format[mt]==null}))return!1}else if(o(Ve.format)==="object"&&!Object.keys(Ve.format).every(function(mt){return Ve.format[mt]===!0?De.format[mt]!=null:Ve.format[mt]===!1?De.format[mt]==null:(0,d.default)(Ve.format[mt],De.format[mt])}))return!1;return Ve.prefix!=null&&!Ve.prefix.test(De.prefix)||Ve.suffix!=null&&!Ve.suffix.test(De.suffix)?!1:Ve.handler.call(z,M,De)!==!0});tt&&se.preventDefault()}}}})}}]),P}(N.default);V.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},V.DEFAULTS={bindings:{bold:Y("bold"),italic:Y("italic"),underline:Y("underline"),indent:{key:V.keys.TAB,format:["blockquote","indent","list"],handler:function(P,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:V.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(P,X){if(X.collapsed&&X.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:V.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(P,X){X.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):X.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":x(!0),"outdent code-block":x(!1),"remove tab":{key:V.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(P){this.quill.deleteText(P.index-1,1,T.default.sources.USER)}},tab:{key:V.keys.TAB,handler:function(P){this.quill.history.cutoff();var X=new p.default().retain(P.index).delete(P.length).insert("	");this.quill.updateContents(X,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(P.index+1,T.default.sources.SILENT)}},"list empty enter":{key:V.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(P,X){this.quill.format("list",!1,T.default.sources.USER),X.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:V.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(P){var X=this.quill.getLine(P.index),z=s(X,2),se=z[0],le=z[1],Q=(0,h.default)({},se.formats(),{list:"checked"}),M=new p.default().retain(P.index).insert(`
`,Q).retain(se.length()-le-1).retain(1,{list:"unchecked"});this.quill.updateContents(M,T.default.sources.USER),this.quill.setSelection(P.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:V.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(P,X){var z=this.quill.getLine(P.index),se=s(z,2),le=se[0],Q=se[1],M=new p.default().retain(P.index).insert(`
`,X.format).retain(le.length()-Q-1).retain(1,{header:null});this.quill.updateContents(M,T.default.sources.USER),this.quill.setSelection(P.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(P,X){var z=X.prefix.length,se=this.quill.getLine(P.index),le=s(se,2),Q=le[0],M=le[1];if(M>z)return!0;var K=void 0;switch(X.prefix.trim()){case"[]":case"[ ]":K="unchecked";break;case"[x]":K="checked";break;case"-":case"*":K="bullet";break;default:K="ordered"}this.quill.insertText(P.index," ",T.default.sources.USER),this.quill.history.cutoff();var H=new p.default().retain(P.index-M).delete(z+1).retain(Q.length()-2-M).retain(1,{list:K});this.quill.updateContents(H,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(P.index-z,T.default.sources.SILENT)}},"code exit":{key:V.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(P){var X=this.quill.getLine(P.index),z=s(X,2),se=z[0],le=z[1],Q=new p.default().retain(P.index+se.length()-le-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,T.default.sources.USER)}},"embed left":ee(V.keys.LEFT,!1),"embed left shift":ee(V.keys.LEFT,!0),"embed right":ee(V.keys.RIGHT,!1),"embed right shift":ee(V.keys.RIGHT,!0)}};function ee(j,P){var X,z=j===V.keys.LEFT?"prefix":"suffix";return X={key:j,shiftKey:P,altKey:null},E(X,z,/^$/),E(X,"handler",function(le){var Q=le.index;j===V.keys.RIGHT&&(Q+=le.length+1);var M=this.quill.getLeaf(Q),K=s(M,1),H=K[0];return H instanceof b.default.Embed?(j===V.keys.LEFT?P?this.quill.setSelection(le.index-1,le.length+1,T.default.sources.USER):this.quill.setSelection(le.index-1,T.default.sources.USER):P?this.quill.setSelection(le.index,le.length+1,T.default.sources.USER):this.quill.setSelection(le.index+le.length+1,T.default.sources.USER),!1):!0}),X}function W(j,P){if(!(j.index===0||this.quill.getLength()<=1)){var X=this.quill.getLine(j.index),z=s(X,1),se=z[0],le={};if(P.offset===0){var Q=this.quill.getLine(j.index-1),M=s(Q,1),K=M[0];if(K!=null&&K.length()>1){var H=se.formats(),de=this.quill.getFormat(j.index-1,1);le=y.default.attributes.diff(H,de)||{}}}var J=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(P.prefix)?2:1;this.quill.deleteText(j.index-J,J,T.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(j.index-J,J,le,T.default.sources.USER),this.quill.focus()}}function U(j,P){var X=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(P.suffix)?2:1;if(!(j.index>=this.quill.getLength()-X)){var z={},se=0,le=this.quill.getLine(j.index),Q=s(le,1),M=Q[0];if(P.offset>=M.length()-1){var K=this.quill.getLine(j.index+1),H=s(K,1),de=H[0];if(de){var J=M.formats(),G=this.quill.getFormat(j.index,1);z=y.default.attributes.diff(J,G)||{},se=de.length()}}this.quill.deleteText(j.index,X,T.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(j.index+se-1,X,z,T.default.sources.USER)}}function C(j){var P=this.quill.getLines(j),X={};if(P.length>1){var z=P[0].formats(),se=P[P.length-1].formats();X=y.default.attributes.diff(se,z)||{}}this.quill.deleteText(j,T.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(j.index,1,X,T.default.sources.USER),this.quill.setSelection(j.index,T.default.sources.SILENT),this.quill.focus()}function L(j,P){var X=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var z=Object.keys(P.format).reduce(function(se,le){return b.default.query(le,b.default.Scope.BLOCK)&&!Array.isArray(P.format[le])&&(se[le]=P.format[le]),se},{});this.quill.insertText(j.index,`
`,z,T.default.sources.USER),this.quill.setSelection(j.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys(P.format).forEach(function(se){z[se]==null&&(Array.isArray(P.format[se])||se!=="link"&&X.quill.format(se,P.format[se],T.default.sources.USER))})}function x(j){return{key:V.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(X){var z=b.default.query("code-block"),se=X.index,le=X.length,Q=this.quill.scroll.descendant(z,se),M=s(Q,2),K=M[0],H=M[1];if(K!=null){var de=this.quill.getIndex(K),J=K.newlineIndex(H,!0)+1,G=K.newlineIndex(de+H+le),ne=K.domNode.textContent.slice(J,G).split(`
`);H=0,ne.forEach(function(re,fe){j?(K.insertAt(J+H,z.TAB),H+=z.TAB.length,fe===0?se+=z.TAB.length:le+=z.TAB.length):re.startsWith(z.TAB)&&(K.deleteAt(J+H,z.TAB.length),H-=z.TAB.length,fe===0?se-=z.TAB.length:le-=z.TAB.length),H+=re.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(se,le,T.default.sources.SILENT)}}}}function Y(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(X,z){this.quill.format(j,!z.format[j],T.default.sources.USER)}}}function Z(j){if(typeof j=="string"||typeof j=="number")return Z({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(V.keys[j.key.toUpperCase()]!=null)j.key=V.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[B]=j.shortKey,delete j.shortKey),j}r.default=V,r.SHORTKEY=B},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,b){var g=[],T=!0,O=!1,A=void 0;try{for(var I=v[Symbol.iterator](),N;!(T=(N=I.next()).done)&&(g.push(N.value),!(b&&g.length===b));T=!0);}catch(S){O=!0,A=S}finally{try{!T&&I.return&&I.return()}finally{if(O)throw A}}return g}return function(v,b){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return y(v,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function y(v,b,g){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,b);if(T===void 0){var O=Object.getPrototypeOf(v);return O===null?void 0:y(O,b,g)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(g)}},a=function(){function y(v,b){for(var g=0;g<b.length;g++){var T=b[g];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),l=i(0),u=f(l),c=i(7),d=f(c);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var _=function(y){p(v,y),a(v,null,[{key:"value",value:function(){}}]);function v(b,g){h(this,v);var T=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return T.selection=g,T.textNode=document.createTextNode(v.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return a(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,T){if(this._length!==0)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,g,T);for(var O=this,A=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=v.CONTENTS.length,O.optimize(),O.formatAt(A,v.CONTENTS.length,g,T),this._length=0)}},{key:"index",value:function(g,T){return g===this.textNode?0:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,g,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,T=this.selection.getNativeRange(),O=void 0,A=void 0,I=void 0;if(T!=null&&T.start.node===g&&T.end.node===g){var N=[g,T.start.offset,T.end.offset];O=N[0],A=N[1],I=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var S=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof d.default?(O=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=v.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var E=[A,I].map(function(R){return Math.max(0,Math.min(O.data.length,R-1))}),w=o(E,2);return A=w[0],I=w[1],{startNode:O,startOffset:A,endNode:O,endOffset:I}}}}},{key:"update",value:function(g,T){var O=this;if(g.some(function(I){return I.type==="characterData"&&I.target===O.textNode})){var A=this.restore();A&&(T.range=A)}}},{key:"value",value:function(){return""}}]),v}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){f(p,m);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(y,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,b){return v&&_(y.prototype,v),b&&_(y,b),y}}(),s=function _(y,v,b){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:_(T,v,b)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(b)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function d(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function f(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var h=function(_){f(y,_);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"value",value:function(b){var g=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):g}}]),y}(l.default.Attributor.Style),m=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),p=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=m,r.ColorStyle=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function p(_,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,y,v){return y&&p(_.prototype,y),v&&p(_,v),_}}(),s=function p(_,y,v){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,y);if(b===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:p(g,y,v)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(v)}},a=i(6),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function d(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function f(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var h=function(p){f(_,p);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(v,b){if(v!==this.statics.blotName||!b)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,v,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(v){var b=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,v);return v=this.sanitize(v),b.setAttribute("href",v),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return m(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),_}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(p,_){var y=document.createElement("a");y.href=p;var v=y.href.slice(0,y.href.indexOf(":"));return _.indexOf(v)>-1}r.default=h,r.sanitize=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(y,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,b){return v&&_(y.prototype,v),b&&_(y,b),y}}(),a=i(23),l=d(a),u=i(107),c=d(u);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}var h=0;function m(_,y){_.setAttribute(y,_.getAttribute(y)!=="true")}var p=function(){function _(y){var v=this;f(this,_),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:v.togglePicker();break;case l.default.keys.ESCAPE:v.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var b=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),v.hasAttribute("value")&&g.setAttribute("data-value",v.getAttribute("value")),v.textContent&&g.setAttribute("data-label",v.textContent),g.addEventListener("click",function(){b.selectItem(g,!0)}),g.addEventListener("keydown",function(T){switch(T.keyCode){case l.default.keys.ENTER:b.selectItem(g,!0),T.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),T.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=c.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(g){var T=v.buildItem(g);b.appendChild(T),g.selected===!0&&v.selectItem(T)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(b){v.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(v!==g&&(g!=null&&g.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var g=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),_}();r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=D(o),a=i(5),l=D(a),u=i(4),c=D(u),d=i(16),f=D(d),h=i(25),m=D(h),p=i(24),_=D(p),y=i(35),v=D(y),b=i(6),g=D(b),T=i(22),O=D(T),A=i(7),I=D(A),N=i(55),S=D(N),E=i(42),w=D(E),R=i(23),F=D(R);function D(B){return B&&B.__esModule?B:{default:B}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":m.default,"blots/cursor":_.default,"blots/embed":v.default,"blots/inline":g.default,"blots/scroll":O.default,"blots/text":I.default,"modules/clipboard":S.default,"modules/history":w.default,"modules/keyboard":F.default}),s.default.register(c.default,f.default,_.default,g.default,O.default,I.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,d){var f=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&d)f.wrap(c,d);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);f.wrap(h),h.format(c,d)}},a.prototype.insertAt=function(l,u,c){var d=c==null?o.create("text",u):o.create(u,c),f=this.split(l);this.parent.insertBefore(d,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var f=o.default.keys(this.domNode),h=s.default.keys(this.domNode),m=a.default.keys(this.domNode);f.concat(h).concat(m).forEach(function(p){var _=l.query(p,l.Scope.ATTRIBUTE);_ instanceof o.default&&(d.attributes[_.attrName]=_)})},c.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(h){var m=f.attributes[h].value(f.domNode);d.format(h,m)})},c.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){f.attributes[h].remove(f.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,h){return f[h]=d.attributes[h].value(d.domNode),f},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},c.prototype.remove=function(d){var f=a(d,this.keyName);f.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var f=a(d,this.keyName)[0]||"",h=f.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),d=c.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return c[0]+d}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var h=f.split(":");return h[0].trim()})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[a(this.keyName)]=f,!0):!1},c.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var f=d.style[a(this.keyName)];return this.canAdd(d,f)?f:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,b){for(var g=0;g<b.length;g++){var T=b[g];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),s=function y(v,b,g){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,b);if(T===void 0){var O=Object.getPrototypeOf(v);return O===null?void 0:y(O,b,g)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(g)}},a=i(0),l=d(a),u=i(7),c=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p="\uFEFF",_=function(y){m(v,y);function v(b){f(this,v);var g=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(T){g.contentNode.appendChild(T)}),g.leftGuard=document.createTextNode(p),g.rightGuard=document.createTextNode(p),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(v,[{key:"index",value:function(g,T){return g===this.leftGuard?0:g===this.rightGuard?1:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,g,T)}},{key:"restore",value:function(g){var T=void 0,O=void 0,A=g.data.split(p).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var I=this.prev.length();this.prev.insertAt(I,A),T={startNode:this.prev.domNode,startOffset:I+A.length}}else O=document.createTextNode(A),this.parent.insertBefore(l.default.create(O),this),T={startNode:O,startOffset:A.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,A),T={startNode:this.next.domNode,startOffset:A.length}):(O=document.createTextNode(A),this.parent.insertBefore(l.default.create(O),this.next),T={startNode:O,startOffset:A.length}));return g.data=p,T}},{key:"update",value:function(g,T){var O=this;g.forEach(function(A){if(A.type==="characterData"&&(A.target===O.leftGuard||A.target===O.rightGuard)){var I=O.restore(A.target);I&&(T.range=I)}})}}]),v}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),d=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),d=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function y(v,b){for(var g=0;g<b.length;g++){var T=b[g];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,b,g){return b&&y(v.prototype,b),g&&y(v,g),v}}(),s=function y(v,b,g){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,b);if(T===void 0){var O=Object.getPrototypeOf(v);return O===null?void 0:y(O,b,g)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(g)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new l.default.Attributor.Class("font","ql-font",h),p=function(y){f(v,y);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(g){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),v}(l.default.Attributor.Style),_=new p("font","font-family",h);r.FontStyle=_,r.FontClass=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(g,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,A.key,A)}}return function(g,T,O){return T&&b(g.prototype,T),O&&b(g,O),g}}(),s=i(0),a=f(s),l=i(5),u=f(l),c=i(9),d=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function m(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function p(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var _=function(b){p(g,b);function g(T,O){h(this,g);var A=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,T,O));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(I,N,S,E){I!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||E===u.default.sources.USER?A.record(N,S):A.transform(N))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return o(g,[{key:"change",value:function(O,A){if(this.stack[O].length!==0){var I=this.stack[O].pop();this.stack[A].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[O],u.default.sources.USER),this.ignoreChange=!1;var N=v(I[O]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,A){if(O.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(A),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var S=this.stack.undo.pop();I=I.compose(S.undo),O=S.redo.compose(O)}else this.lastRecorded=N;this.stack.undo.push({redo:O,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(A){A.undo=O.transform(A.undo,!0),A.redo=O.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=O.transform(A.undo,!0),A.redo=O.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(b){var g=b.ops[b.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(T){return a.default.query(T,a.default.Scope.BLOCK)!=null}):!1}function v(b){var g=b.reduce(function(O,A){return O+=A.delete||0,O},0),T=b.length()-g;return y(b)&&(T-=1),T}r.default=_,r.getLastChangeIndex=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function L(x,Y){for(var Z=0;Z<Y.length;Z++){var j=Y[Z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,Y,Z){return Y&&L(x.prototype,Y),Z&&L(x,Z),x}}(),s=function L(x,Y,Z){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,Y);if(j===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:L(P,Y,Z)}else{if("value"in j)return j.value;var X=j.get;return X===void 0?void 0:X.call(Z)}},a=i(3),l=N(a),u=i(2),c=N(u),d=i(8),f=N(d),h=i(23),m=N(h),p=i(34),_=N(p),y=i(59),v=N(y),b=i(60),g=N(b),T=i(28),O=N(T),A=i(61),I=N(A);function N(L){return L&&L.__esModule?L:{default:L}}function S(L,x){if(!(L instanceof x))throw new TypeError("Cannot call a class as a function")}function E(L,x){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:L}function w(L,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);L.prototype=Object.create(x&&x.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(L,x):L.__proto__=x)}var R=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],B=["1","2","3",!1],V=["small",!1,"large","huge"],ee=function(L){w(x,L);function x(Y,Z){S(this,x);var j=E(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,Y,Z)),P=function X(z){if(!document.body.contains(Y.root))return document.body.removeEventListener("click",X);j.tooltip!=null&&!j.tooltip.root.contains(z.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(se){se.container.contains(z.target)||se.close()})};return Y.emitter.listenDOM("click",document.body,P),j}return o(x,[{key:"addModule",value:function(Z){var j=s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(Z,j){Z.forEach(function(P){var X=P.getAttribute("class")||"";X.split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),j[z]!=null))if(z==="direction")P.innerHTML=j[z][""]+j[z].rtl;else if(typeof j[z]=="string")P.innerHTML=j[z];else{var se=P.value||"";se!=null&&j[z][se]&&(P.innerHTML=j[z][se])}})})}},{key:"buildPickers",value:function(Z,j){var P=this;this.pickers=Z.map(function(z){if(z.classList.contains("ql-align"))return z.querySelector("option")==null&&C(z,R),new g.default(z,j.align);if(z.classList.contains("ql-background")||z.classList.contains("ql-color")){var se=z.classList.contains("ql-background")?"background":"color";return z.querySelector("option")==null&&C(z,F,se==="background"?"#ffffff":"#000000"),new v.default(z,j[se])}else return z.querySelector("option")==null&&(z.classList.contains("ql-font")?C(z,D):z.classList.contains("ql-header")?C(z,B):z.classList.contains("ql-size")&&C(z,V)),new O.default(z)});var X=function(){P.pickers.forEach(function(se){se.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,X)}}]),x}(_.default);ee.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var x=this,Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&(Y=document.createElement("input"),Y.setAttribute("type","file"),Y.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Y.classList.add("ql-image"),Y.addEventListener("change",function(){if(Y.files!=null&&Y.files[0]!=null){var Z=new FileReader;Z.onload=function(j){var P=x.quill.getSelection(!0);x.quill.updateContents(new c.default().retain(P.index).delete(P.length).insert({image:j.target.result}),f.default.sources.USER),x.quill.setSelection(P.index+1,f.default.sources.SILENT),Y.value=""},Z.readAsDataURL(Y.files[0])}}),this.container.appendChild(Y)),Y.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=function(L){w(x,L);function x(Y,Z){S(this,x);var j=E(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,Y,Z));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(x,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function(j){m.default.match(j,"enter")?(Z.save(),j.preventDefault()):m.default.match(j,"escape")&&(Z.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,f.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":Z=U(Z);case"formula":{if(!Z)break;var P=this.quill.getSelection(!0);if(P!=null){var X=P.index+P.length;this.quill.insertEmbed(X,this.root.getAttribute("data-mode"),Z,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(X+1," ",f.default.sources.USER),this.quill.setSelection(X+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),x}(I.default);function U(L){var x=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return x?(x[1]||"https")+"://www.youtube.com/embed/"+x[2]+"?showinfo=0":(x=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(x[1]||"https")+"://player.vimeo.com/video/"+x[2]+"/":L}function C(L,x){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;x.forEach(function(Z){var j=document.createElement("option");Z===Y?j.setAttribute("selected","selected"):j.setAttribute("value",Z),L.appendChild(j)})}r.BaseTooltip=W,r.default=ee},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var d=u.length();if(a<d||l&&a===d&&(u.next==null||u.next.length()!==0))return[u,a];a-=d}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),d=c[0],f=c[1],h,m=a-f,p=this.iterator(d);(h=p())&&m<a+l;){var _=h.length();a>m?u(h,a-m,Math.min(l,m+_-a)):u(h,0,Math.min(_,a+l-m)),m+=_}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){d(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(d){o(f,d);function f(h){var m=d.call(this,h)||this;return m.scroll=m,m.observer=new MutationObserver(function(p){m.update(p)}),m.observer.observe(m.domNode,l),m.attach(),m}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(h,m){this.update(),h===0&&m===this.length()?this.children.forEach(function(p){p.remove()}):d.prototype.deleteAt.call(this,h,m)},f.prototype.formatAt=function(h,m,p,_){this.update(),d.prototype.formatAt.call(this,h,m,p,_)},f.prototype.insertAt=function(h,m,p){this.update(),d.prototype.insertAt.call(this,h,m,p)},f.prototype.optimize=function(h,m){var p=this;h===void 0&&(h=[]),m===void 0&&(m={}),d.prototype.optimize.call(this,m);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)h.push(_.pop());for(var y=function(T,O){O===void 0&&(O=!0),!(T==null||T===p)&&T.domNode.parentNode!=null&&(T.domNode[a.DATA_KEY].mutations==null&&(T.domNode[a.DATA_KEY].mutations=[]),O&&y(T.parent))},v=function(T){T.domNode[a.DATA_KEY]==null||T.domNode[a.DATA_KEY].mutations==null||(T instanceof s.default&&T.children.forEach(v),T.optimize(m))},b=h,g=0;b.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(T){var O=a.find(T.target,!0);O!=null&&(O.domNode===T.target&&(T.type==="childList"?(y(a.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(A){var I=a.find(A,!1);y(I,!1),I instanceof s.default&&I.children.forEach(function(N){y(N,!1)})})):T.type==="attributes"&&y(O.prev)),y(O))}),this.children.forEach(v),b=[].slice.call(this.observer.takeRecords()),_=b.slice();_.length>0;)h.push(_.pop())}},f.prototype.update=function(h,m){var p=this;m===void 0&&(m={}),h=h||this.observer.takeRecords(),h.map(function(_){var y=a.find(_.target,!0);return y==null?null:y.domNode[a.DATA_KEY].mutations==null?(y.domNode[a.DATA_KEY].mutations=[_],y):(y.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===p||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],m)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,m),this.optimize(h,m)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){c(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var f in c)if(c[f]!==d[f])return!1;return!0}var u=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return c.formats.call(this,f)},d.prototype.format=function(f,h){var m=this;f===this.statics.blotName&&!h?(this.children.forEach(function(p){p instanceof s.default||(p=p.wrap(d.blotName,!0)),m.attributes.copy(p)}),this.unwrap()):c.prototype.format.call(this,f,h)},d.prototype.formatAt=function(f,h,m,p){if(this.formats()[m]!=null||a.query(m,a.Scope.ATTRIBUTE)){var _=this.isolate(f,h);_.format(m,p)}else c.prototype.formatAt.call(this,f,h,m,p)},d.prototype.optimize=function(f){c.prototype.optimize.call(this,f);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var m=this.next;m instanceof d&&m.prev===this&&l(h,m.formats())&&(m.moveChildren(this),m.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){var f=a.query(c.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},c.prototype.format=function(d,f){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(c.blotName):u.prototype.format.call(this,d,f))},c.prototype.formatAt=function(d,f,h,m){a.query(h,a.Scope.BLOCK)!=null?this.format(h,m):u.prototype.formatAt.call(this,d,f,h,m)},c.prototype.insertAt=function(d,f,h){if(h==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,h);else{var m=this.split(d),p=a.create(f,h);m.parent.insertBefore(p,m)}},c.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,d){l.prototype.formatAt.call(this,0,this.length(),c,d)},u.prototype.formatAt=function(c,d,f,h){c===0&&d===this.length()?this.format(f,h):l.prototype.formatAt.call(this,c,d,f,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},c.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},c.prototype.index=function(d,f){return this.domNode===d?f:-1},c.prototype.insertAt=function(d,f,h){h==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,h)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,f){return[this.domNode,d]},c.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var h=a.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},c.prototype.update=function(d,f){var h=this;d.some(function(m){return m.type==="characterData"&&m.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,d=arguments[1],f,h=0;h<c;h++)if(f=u[h],l.call(d,f,h,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,T,O){if(g==T)return g?[[s,g]]:[];(O<0||g.length<O)&&(O=null);var A=d(g,T),I=g.substring(0,A);g=g.substring(A),T=T.substring(A),A=f(g,T);var N=g.substring(g.length-A);g=g.substring(0,g.length-A),T=T.substring(0,T.length-A);var S=l(g,T);return I&&S.unshift([s,I]),N&&S.push([s,N]),m(S),O!=null&&(S=y(S,O)),S=v(S),S}function l(g,T){var O;if(!g)return[[o,T]];if(!T)return[[i,g]];var A=g.length>T.length?g:T,I=g.length>T.length?T:g,N=A.indexOf(I);if(N!=-1)return O=[[o,A.substring(0,N)],[s,I],[o,A.substring(N+I.length)]],g.length>T.length&&(O[0][0]=O[2][0]=i),O;if(I.length==1)return[[i,g],[o,T]];var S=h(g,T);if(S){var E=S[0],w=S[1],R=S[2],F=S[3],D=S[4],B=a(E,R),V=a(w,F);return B.concat([[s,D]],V)}return u(g,T)}function u(g,T){for(var O=g.length,A=T.length,I=Math.ceil((O+A)/2),N=I,S=2*I,E=new Array(S),w=new Array(S),R=0;R<S;R++)E[R]=-1,w[R]=-1;E[N+1]=0,w[N+1]=0;for(var F=O-A,D=F%2!=0,B=0,V=0,ee=0,W=0,U=0;U<I;U++){for(var C=-U+B;C<=U-V;C+=2){var L=N+C,x;C==-U||C!=U&&E[L-1]<E[L+1]?x=E[L+1]:x=E[L-1]+1;for(var Y=x-C;x<O&&Y<A&&g.charAt(x)==T.charAt(Y);)x++,Y++;if(E[L]=x,x>O)V+=2;else if(Y>A)B+=2;else if(D){var Z=N+F-C;if(Z>=0&&Z<S&&w[Z]!=-1){var j=O-w[Z];if(x>=j)return c(g,T,x,Y)}}}for(var P=-U+ee;P<=U-W;P+=2){var Z=N+P,j;P==-U||P!=U&&w[Z-1]<w[Z+1]?j=w[Z+1]:j=w[Z-1]+1;for(var X=j-P;j<O&&X<A&&g.charAt(O-j-1)==T.charAt(A-X-1);)j++,X++;if(w[Z]=j,j>O)W+=2;else if(X>A)ee+=2;else if(!D){var L=N+F-P;if(L>=0&&L<S&&E[L]!=-1){var x=E[L],Y=N+x-L;if(j=O-j,x>=j)return c(g,T,x,Y)}}}}return[[i,g],[o,T]]}function c(g,T,O,A){var I=g.substring(0,O),N=T.substring(0,A),S=g.substring(O),E=T.substring(A),w=a(I,N),R=a(S,E);return w.concat(R)}function d(g,T){if(!g||!T||g.charAt(0)!=T.charAt(0))return 0;for(var O=0,A=Math.min(g.length,T.length),I=A,N=0;O<I;)g.substring(N,I)==T.substring(N,I)?(O=I,N=O):A=I,I=Math.floor((A-O)/2+O);return I}function f(g,T){if(!g||!T||g.charAt(g.length-1)!=T.charAt(T.length-1))return 0;for(var O=0,A=Math.min(g.length,T.length),I=A,N=0;O<I;)g.substring(g.length-I,g.length-N)==T.substring(T.length-I,T.length-N)?(O=I,N=O):A=I,I=Math.floor((A-O)/2+O);return I}function h(g,T){var O=g.length>T.length?g:T,A=g.length>T.length?T:g;if(O.length<4||A.length*2<O.length)return null;function I(V,ee,W){for(var U=V.substring(W,W+Math.floor(V.length/4)),C=-1,L="",x,Y,Z,j;(C=ee.indexOf(U,C+1))!=-1;){var P=d(V.substring(W),ee.substring(C)),X=f(V.substring(0,W),ee.substring(0,C));L.length<X+P&&(L=ee.substring(C-X,C)+ee.substring(C,C+P),x=V.substring(0,W-X),Y=V.substring(W+P),Z=ee.substring(0,C-X),j=ee.substring(C+P))}return L.length*2>=V.length?[x,Y,Z,j,L]:null}var N=I(O,A,Math.ceil(O.length/4)),S=I(O,A,Math.ceil(O.length/2)),E;if(!N&&!S)return null;S?N?E=N[4].length>S[4].length?N:S:E=S:E=N;var w,R,F,D;g.length>T.length?(w=E[0],R=E[1],F=E[2],D=E[3]):(F=E[0],D=E[1],w=E[2],R=E[3]);var B=E[4];return[w,R,F,D,B]}function m(g){g.push([s,""]);for(var T=0,O=0,A=0,I="",N="",S;T<g.length;)switch(g[T][0]){case o:A++,N+=g[T][1],T++;break;case i:O++,I+=g[T][1],T++;break;case s:O+A>1?(O!==0&&A!==0&&(S=d(N,I),S!==0&&(T-O-A>0&&g[T-O-A-1][0]==s?g[T-O-A-1][1]+=N.substring(0,S):(g.splice(0,0,[s,N.substring(0,S)]),T++),N=N.substring(S),I=I.substring(S)),S=f(N,I),S!==0&&(g[T][1]=N.substring(N.length-S)+g[T][1],N=N.substring(0,N.length-S),I=I.substring(0,I.length-S))),O===0?g.splice(T-A,O+A,[o,N]):A===0?g.splice(T-O,O+A,[i,I]):g.splice(T-O-A,O+A,[i,I],[o,N]),T=T-O-A+(O?1:0)+(A?1:0)+1):T!==0&&g[T-1][0]==s?(g[T-1][1]+=g[T][1],g.splice(T,1)):T++,A=0,O=0,I="",N="";break}g[g.length-1][1]===""&&g.pop();var E=!1;for(T=1;T<g.length-1;)g[T-1][0]==s&&g[T+1][0]==s&&(g[T][1].substring(g[T][1].length-g[T-1][1].length)==g[T-1][1]?(g[T][1]=g[T-1][1]+g[T][1].substring(0,g[T][1].length-g[T-1][1].length),g[T+1][1]=g[T-1][1]+g[T+1][1],g.splice(T-1,1),E=!0):g[T][1].substring(0,g[T+1][1].length)==g[T+1][1]&&(g[T-1][1]+=g[T+1][1],g[T][1]=g[T][1].substring(g[T+1][1].length)+g[T+1][1],g.splice(T+1,1),E=!0)),T++;E&&m(g)}var p=a;p.INSERT=o,p.DELETE=i,p.EQUAL=s,n.exports=p;function _(g,T){if(T===0)return[s,g];for(var O=0,A=0;A<g.length;A++){var I=g[A];if(I[0]===i||I[0]===s){var N=O+I[1].length;if(T===N)return[A+1,g];if(T<N){g=g.slice();var S=T-O,E=[I[0],I[1].slice(0,S)],w=[I[0],I[1].slice(S)];return g.splice(A,1,E,w),[A+1,g]}else O=N}}throw new Error("cursor_pos is out of bounds!")}function y(g,T){var O=_(g,T),A=O[1],I=O[0],N=A[I],S=A[I+1];if(N==null)return g;if(N[0]!==s)return g;if(S!=null&&N[1]+S[1]===S[1]+N[1])return A.splice(I,2,S,N),b(A,I,2);if(S!=null&&S[1].indexOf(N[1])===0){A.splice(I,2,[S[0],N[1]],[0,N[1]]);var E=S[1].slice(N[1].length);return E.length>0&&A.splice(I+2,0,[S[0],E]),b(A,I,3)}else return g}function v(g){for(var T=!1,O=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},A=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},I=2;I<g.length;I+=1)g[I-2][0]===s&&A(g[I-2][1])&&g[I-1][0]===i&&O(g[I-1][1])&&g[I][0]===o&&O(g[I][1])&&(T=!0,g[I-1][1]=g[I-2][1].slice(-1)+g[I-1][1],g[I][1]=g[I-2][1].slice(-1)+g[I][1],g[I-2][1]=g[I-2][1].slice(0,-1));if(!T)return g;for(var N=[],I=0;I<g.length;I+=1)g[I][1].length>0&&N.push(g[I]);return N}function b(g,T,O){for(var A=T+O-1;A>=0&&A>=T-1;A--)if(A+1<g.length){var I=g[A],N=g[A+1];I[0]===N[1]&&g.splice(A,2,[I[0],I[1]+N[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)i.call(d,f)&&c.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c,d){var f=o?o+c:c,h=this._events[f];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,_=new Array(p);m<p;m++)_[m]=h[m].fn;return _},l.prototype.emit=function(c,d,f,h,m,p){var _=o?o+c:c;if(!this._events[_])return!1;var y=this._events[_],v=arguments.length,b,g;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(g=1,b=new Array(v-1);g<v;g++)b[g-1]=arguments[g];y.fn.apply(y.context,b)}else{var T=y.length,O;for(g=0;g<T;g++)switch(y[g].once&&this.removeListener(c,y[g].fn,void 0,!0),v){case 1:y[g].fn.call(y[g].context);break;case 2:y[g].fn.call(y[g].context,d);break;case 3:y[g].fn.call(y[g].context,d,f);break;case 4:y[g].fn.call(y[g].context,d,f,h);break;default:if(!b)for(O=1,b=new Array(v-1);O<v;O++)b[O-1]=arguments[O];y[g].fn.apply(y[g].context,b)}}return!0},l.prototype.on=function(c,d,f){var h=new a(d,f||this),m=o?o+c:c;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.once=function(c,d,f){var h=new a(d,f||this,!0),m=o?o+c:c;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],h]:this._events[m].push(h):(this._events[m]=h,this._eventsCount++),this},l.prototype.removeListener=function(c,d,f,h){var m=o?o+c:c;if(!this._events[m])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[m],this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[m]);else{for(var _=0,y=[],v=p.length;_<v;_++)(p[_].fn!==d||h&&!p[_].once||f&&p[_].context!==f)&&y.push(p[_]);y.length?this._events[m]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new s:delete this._events[m]}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=o?o+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(ne,re){var fe=[],te=!0,ve=!1,_e=void 0;try{for(var we=ne[Symbol.iterator](),xe;!(te=(xe=we.next()).done)&&(fe.push(xe.value),!(re&&fe.length===re));te=!0);}catch(Me){ve=!0,_e=Me}finally{try{!te&&we.return&&we.return()}finally{if(ve)throw _e}}return fe}return function(ne,re){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return G(ne,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(ne,re){for(var fe=0;fe<re.length;fe++){var te=re[fe];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(ne,te.key,te)}}return function(ne,re,fe){return re&&G(ne.prototype,re),fe&&G(ne,fe),ne}}(),l=i(3),u=w(l),c=i(2),d=w(c),f=i(0),h=w(f),m=i(5),p=w(m),_=i(10),y=w(_),v=i(9),b=w(v),g=i(36),T=i(37),O=i(13),A=w(O),I=i(26),N=i(38),S=i(39),E=i(40);function w(G){return G&&G.__esModule?G:{default:G}}function R(G,ne,re){return ne in G?Object.defineProperty(G,ne,{value:re,enumerable:!0,configurable:!0,writable:!0}):G[ne]=re,G}function F(G,ne){if(!(G instanceof ne))throw new TypeError("Cannot call a class as a function")}function D(G,ne){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:G}function B(G,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);G.prototype=Object.create(ne&&ne.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(G,ne):G.__proto__=ne)}var V=(0,y.default)("quill:clipboard"),ee="__ql-matcher",W=[[Node.TEXT_NODE,J],[Node.TEXT_NODE,K],["br",le],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,de],["li",M],["b",X.bind(X,"bold")],["i",X.bind(X,"italic")],["style",Q]],U=[g.AlignAttribute,N.DirectionAttribute].reduce(function(G,ne){return G[ne.keyName]=ne,G},{}),C=[g.AlignStyle,T.BackgroundStyle,I.ColorStyle,N.DirectionStyle,S.FontStyle,E.SizeStyle].reduce(function(G,ne){return G[ne.keyName]=ne,G},{}),L=function(G){B(ne,G);function ne(re,fe){F(this,ne);var te=D(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,re,fe));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],W.concat(te.options.matchers).forEach(function(ve){var _e=s(ve,2),we=_e[0],xe=_e[1];!fe.matchVisual&&xe===H||te.addMatcher(we,xe)}),te}return a(ne,[{key:"addMatcher",value:function(fe,te){this.matchers.push([fe,te])}},{key:"convert",value:function(fe){if(typeof fe=="string")return this.container.innerHTML=fe.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[A.default.blotName]){var ve=this.container.innerText;return this.container.innerHTML="",new d.default().insert(ve,R({},A.default.blotName,te[A.default.blotName]))}var _e=this.prepareMatching(),we=s(_e,2),xe=we[0],Me=we[1],De=P(this.container,xe,Me);return Z(De,`
`)&&De.ops[De.ops.length-1].attributes==null&&(De=De.compose(new d.default().retain(De.length()-1).delete(1))),V.log("convert",this.container.innerHTML,De),this.container.innerHTML="",De}},{key:"dangerouslyPasteHTML",value:function(fe,te){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof fe=="string")this.quill.setContents(this.convert(fe),te),this.quill.setSelection(0,p.default.sources.SILENT);else{var _e=this.convert(te);this.quill.updateContents(new d.default().retain(fe).concat(_e),ve),this.quill.setSelection(fe+_e.length(),p.default.sources.SILENT)}}},{key:"onPaste",value:function(fe){var te=this;if(!(fe.defaultPrevented||!this.quill.isEnabled())){var ve=this.quill.getSelection(),_e=new d.default().retain(ve.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(p.default.sources.SILENT),setTimeout(function(){_e=_e.concat(te.convert()).delete(ve.length),te.quill.updateContents(_e,p.default.sources.USER),te.quill.setSelection(_e.length()-ve.length,p.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=we,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var fe=this,te=[],ve=[];return this.matchers.forEach(function(_e){var we=s(_e,2),xe=we[0],Me=we[1];switch(xe){case Node.TEXT_NODE:ve.push(Me);break;case Node.ELEMENT_NODE:te.push(Me);break;default:[].forEach.call(fe.container.querySelectorAll(xe),function(De){De[ee]=De[ee]||[],De[ee].push(Me)});break}}),[te,ve]}}]),ne}(b.default);L.DEFAULTS={matchers:[],matchVisual:!0};function x(G,ne,re){return(typeof ne>"u"?"undefined":o(ne))==="object"?Object.keys(ne).reduce(function(fe,te){return x(fe,te,ne[te])},G):G.reduce(function(fe,te){return te.attributes&&te.attributes[ne]?fe.push(te):fe.insert(te.insert,(0,u.default)({},R({},ne,re),te.attributes))},new d.default)}function Y(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return G[ne]||(G[ne]=window.getComputedStyle(G))}function Z(G,ne){for(var re="",fe=G.ops.length-1;fe>=0&&re.length<ne.length;--fe){var te=G.ops[fe];if(typeof te.insert!="string")break;re=te.insert+re}return re.slice(-1*ne.length)===ne}function j(G){if(G.childNodes.length===0)return!1;var ne=Y(G);return["block","list-item"].indexOf(ne.display)>-1}function P(G,ne,re){return G.nodeType===G.TEXT_NODE?re.reduce(function(fe,te){return te(G,fe)},new d.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(fe,te){var ve=P(te,ne,re);return te.nodeType===G.ELEMENT_NODE&&(ve=ne.reduce(function(_e,we){return we(te,_e)},ve),ve=(te[ee]||[]).reduce(function(_e,we){return we(te,_e)},ve)),fe.concat(ve)},new d.default):new d.default}function X(G,ne,re){return x(re,G,!0)}function z(G,ne){var re=h.default.Attributor.Attribute.keys(G),fe=h.default.Attributor.Class.keys(G),te=h.default.Attributor.Style.keys(G),ve={};return re.concat(fe).concat(te).forEach(function(_e){var we=h.default.query(_e,h.default.Scope.ATTRIBUTE);we!=null&&(ve[we.attrName]=we.value(G),ve[we.attrName])||(we=U[_e],we!=null&&(we.attrName===_e||we.keyName===_e)&&(ve[we.attrName]=we.value(G)||void 0),we=C[_e],we!=null&&(we.attrName===_e||we.keyName===_e)&&(we=C[_e],ve[we.attrName]=we.value(G)||void 0))}),Object.keys(ve).length>0&&(ne=x(ne,ve)),ne}function se(G,ne){var re=h.default.query(G);if(re==null)return ne;if(re.prototype instanceof h.default.Embed){var fe={},te=re.value(G);te!=null&&(fe[re.blotName]=te,ne=new d.default().insert(fe,re.formats(G)))}else typeof re.formats=="function"&&(ne=x(ne,re.blotName,re.formats(G)));return ne}function le(G,ne){return Z(ne,`
`)||ne.insert(`
`),ne}function Q(){return new d.default}function M(G,ne){var re=h.default.query(G);if(re==null||re.blotName!=="list-item"||!Z(ne,`
`))return ne;for(var fe=-1,te=G.parentNode;!te.classList.contains("ql-clipboard");)(h.default.query(te)||{}).blotName==="list"&&(fe+=1),te=te.parentNode;return fe<=0?ne:ne.compose(new d.default().retain(ne.length()-1).retain(1,{indent:fe}))}function K(G,ne){return Z(ne,`
`)||(j(G)||ne.length()>0&&G.nextSibling&&j(G.nextSibling))&&ne.insert(`
`),ne}function H(G,ne){if(j(G)&&G.nextElementSibling!=null&&!Z(ne,`

`)){var re=G.offsetHeight+parseFloat(Y(G).marginTop)+parseFloat(Y(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+re*1.5&&ne.insert(`
`)}return ne}function de(G,ne){var re={},fe=G.style||{};return fe.fontStyle&&Y(G).fontStyle==="italic"&&(re.italic=!0),fe.fontWeight&&(Y(G).fontWeight.startsWith("bold")||parseInt(Y(G).fontWeight)>=700)&&(re.bold=!0),Object.keys(re).length>0&&(ne=x(ne,re)),parseFloat(fe.textIndent||0)>0&&(ne=new d.default().insert("	").concat(ne)),ne}function J(G,ne){var re=G.data;if(G.parentNode.tagName==="O:P")return ne.insert(re.trim());if(re.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return ne;if(!Y(G.parentNode).whiteSpace.startsWith("pre")){var fe=function(ve,_e){return _e=_e.replace(/[^\u00a0]/g,""),_e.length<1&&ve?" ":_e};re=re.replace(/\r\n/g," ").replace(/\n/g," "),re=re.replace(/\s\s+/g,fe.bind(fe,!0)),(G.previousSibling==null&&j(G.parentNode)||G.previousSibling!=null&&j(G.previousSibling))&&(re=re.replace(/^\s+/,fe.bind(fe,!1))),(G.nextSibling==null&&j(G.parentNode)||G.nextSibling!=null&&j(G.nextSibling))&&(re=re.replace(/\s+$/,fe.bind(fe,!1)))}return ne.insert(re)}r.default=L,r.matchAttributor=z,r.matchBlot=se,r.matchNewline=K,r.matchSpacing=H,r.matchText=J},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,_){for(var y=0;y<_.length;y++){var v=_[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,_,y){return _&&m(p.prototype,_),y&&m(p,y),p}}(),s=function m(p,_,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,_);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,_,y)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(y)}},a=i(6),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){f(p,m);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"optimize",value:function(y){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),p}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function E(w,R){var F=[],D=!0,B=!1,V=void 0;try{for(var ee=w[Symbol.iterator](),W;!(D=(W=ee.next()).done)&&(F.push(W.value),!(R&&F.length===R));D=!0);}catch(U){B=!0,V=U}finally{try{!D&&ee.return&&ee.return()}finally{if(B)throw V}}return F}return function(w,R){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return E(w,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(w,R){for(var F=0;F<R.length;F++){var D=R[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,R,F){return R&&E(w.prototype,R),F&&E(w,F),w}}(),a=i(2),l=y(a),u=i(0),c=y(u),d=i(5),f=y(d),h=i(10),m=y(h),p=i(9),_=y(p);function y(E){return E&&E.__esModule?E:{default:E}}function v(E,w,R){return w in E?Object.defineProperty(E,w,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[w]=R,E}function b(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function g(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function T(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var O=(0,m.default)("quill:toolbar"),A=function(E){T(w,E);function w(R,F){b(this,w);var D=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,R,F));if(Array.isArray(D.options.container)){var B=document.createElement("div");N(B,D.options.container),R.container.parentNode.insertBefore(B,R.container),D.container=B}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var V;return V=O.error("Container required for toolbar",D.options),g(D,V)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(ee){D.addHandler(ee,D.options.handlers[ee])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(ee){D.attach(ee)}),D.quill.on(f.default.events.EDITOR_CHANGE,function(ee,W){ee===f.default.events.SELECTION_CHANGE&&D.update(W)}),D.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var ee=D.quill.selection.getRange(),W=o(ee,1),U=W[0];D.update(U)}),D}return s(w,[{key:"addHandler",value:function(F,D){this.handlers[F]=D}},{key:"attach",value:function(F){var D=this,B=[].find.call(F.classList,function(ee){return ee.indexOf("ql-")===0});if(B){if(B=B.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[B]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[B]==null){O.warn("ignoring attaching to disabled format",B,F);return}if(c.default.query(B)==null){O.warn("ignoring attaching to nonexistent format",B,F);return}}var V=F.tagName==="SELECT"?"change":"click";F.addEventListener(V,function(ee){var W=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var U=F.options[F.selectedIndex];U.hasAttribute("selected")?W=!1:W=U.value||!1}else F.classList.contains("ql-active")?W=!1:W=F.value||!F.hasAttribute("value"),ee.preventDefault();D.quill.focus();var C=D.quill.selection.getRange(),L=o(C,1),x=L[0];if(D.handlers[B]!=null)D.handlers[B].call(D,W);else if(c.default.query(B).prototype instanceof c.default.Embed){if(W=prompt("Enter "+B),!W)return;D.quill.updateContents(new l.default().retain(x.index).delete(x.length).insert(v({},B,W)),f.default.sources.USER)}else D.quill.format(B,W,f.default.sources.USER);D.update(x)}),this.controls.push([B,F])}}},{key:"update",value:function(F){var D=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(B){var V=o(B,2),ee=V[0],W=V[1];if(W.tagName==="SELECT"){var U=void 0;if(F==null)U=null;else if(D[ee]==null)U=W.querySelector("option[selected]");else if(!Array.isArray(D[ee])){var C=D[ee];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),U=W.querySelector('option[value="'+C+'"]')}U==null?(W.value="",W.selectedIndex=-1):U.selected=!0}else if(F==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var L=D[ee]===W.getAttribute("value")||D[ee]!=null&&D[ee].toString()===W.getAttribute("value")||D[ee]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",L)}else W.classList.toggle("ql-active",D[ee]!=null)})}}]),w}(_.default);A.DEFAULTS={};function I(E,w,R){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+w),R!=null&&(F.value=R),E.appendChild(F)}function N(E,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(R){var F=document.createElement("span");F.classList.add("ql-formats"),R.forEach(function(D){if(typeof D=="string")I(F,D);else{var B=Object.keys(D)[0],V=D[B];Array.isArray(V)?S(F,B,V):I(F,B,V)}}),E.appendChild(F)})}function S(E,w,R){var F=document.createElement("select");F.classList.add("ql-"+w),R.forEach(function(D){var B=document.createElement("option");D!==!1?B.setAttribute("value",D):B.setAttribute("selected","selected"),F.appendChild(B)}),E.appendChild(F)}A.DEFAULTS={container:null,handlers:{clean:function(){var w=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(D){c.default.query(D,c.default.Scope.INLINE)!=null&&w.quill.format(D,!1)})}else this.quill.removeFormat(R,f.default.sources.USER)},direction:function(w){var R=this.quill.getFormat().align;w==="rtl"&&R==null?this.quill.format("align","right",f.default.sources.USER):!w&&R==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",w,f.default.sources.USER)},indent:function(w){var R=this.quill.getSelection(),F=this.quill.getFormat(R),D=parseInt(F.indent||0);if(w==="+1"||w==="-1"){var B=w==="+1"?1:-1;F.direction==="rtl"&&(B*=-1),this.quill.format("indent",D+B,f.default.sources.USER)}},link:function(w){w===!0&&(w=prompt("Enter link URL:")),this.quill.format("link",w,f.default.sources.USER)},list:function(w){var R=this.quill.getSelection(),F=this.quill.getFormat(R);w==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",w,f.default.sources.USER)}}},r.default=A,r.addControls=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,_){for(var y=0;y<_.length;y++){var v=_[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,_,y){return _&&m(p.prototype,_),y&&m(p,y),p}}(),s=function m(p,_,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,_);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,_,y)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(y)}},a=i(28),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){f(p,m);function p(_,y){c(this,p);var v=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_));return v.label.innerHTML=y,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),v}return o(p,[{key:"buildItem",value:function(y){var v=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildItem",this).call(this,y);return v.style.backgroundColor=y.getAttribute("value")||"",v}},{key:"selectItem",value:function(y,v){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"selectItem",this).call(this,y,v);var b=this.label.querySelector(".ql-color-label"),g=y&&y.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=g:b.style.fill=g)}}]),p}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,_){for(var y=0;y<_.length;y++){var v=_[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,_,y){return _&&m(p.prototype,_),y&&m(p,y),p}}(),s=function m(p,_,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,_);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,_,y)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(y)}},a=i(28),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){f(p,m);function p(_,y){c(this,p);var v=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=y[b.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return o(p,[{key:"selectItem",value:function(y,v){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"selectItem",this).call(this,y,v),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),p}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var d=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,f=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),p=0;if(m.right>h.right&&(p=h.right-m.right,this.root.style.left=d+p+"px"),m.left<h.left&&(p=h.left-m.left,this.root.style.left=d+p+"px"),m.bottom>h.bottom){var _=m.bottom-m.top,y=c.bottom-c.top+_;this.root.style.top=f-y+"px",this.root.classList.add("ql-flip")}return p}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function S(E,w){var R=[],F=!0,D=!1,B=void 0;try{for(var V=E[Symbol.iterator](),ee;!(F=(ee=V.next()).done)&&(R.push(ee.value),!(w&&R.length===w));F=!0);}catch(W){D=!0,B=W}finally{try{!F&&V.return&&V.return()}finally{if(D)throw B}}return R}return function(E,w){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return S(E,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function S(E,w,R){E===null&&(E=Function.prototype);var F=Object.getOwnPropertyDescriptor(E,w);if(F===void 0){var D=Object.getPrototypeOf(E);return D===null?void 0:S(D,w,R)}else{if("value"in F)return F.value;var B=F.get;return B===void 0?void 0:B.call(R)}},a=function(){function S(E,w){for(var R=0;R<w.length;R++){var F=w[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(E,F.key,F)}}return function(E,w,R){return w&&S(E.prototype,w),R&&S(E,R),E}}(),l=i(3),u=b(l),c=i(8),d=b(c),f=i(43),h=b(f),m=i(27),p=b(m),_=i(15),y=i(41),v=b(y);function b(S){return S&&S.__esModule?S:{default:S}}function g(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function T(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function O(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(S){O(E,S);function E(w,R){g(this,E),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=A);var F=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,w,R));return F.quill.container.classList.add("ql-snow"),F}return a(E,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),v.default),this.tooltip=new N(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,D){R.handlers.link.call(R,!D.format.link)})}}]),E}(h.default);I.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var w=this.quill.getSelection();if(w==null||w.length==0)return;var R=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var F=this.quill.theme.tooltip;F.edit("link",R)}else this.quill.format("link",!1)}}}}});var N=function(S){O(E,S);function E(w,R){g(this,E);var F=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,w,R));return F.preview=F.root.querySelector("a.ql-preview"),F}return a(E,[{key:"listen",value:function(){var R=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(R.linkRange!=null){var D=R.linkRange;R.restoreFocus(),R.quill.formatText(D,"link",!1,d.default.sources.USER),delete R.linkRange}F.preventDefault(),R.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(F,D,B){if(F!=null){if(F.length===0&&B===d.default.sources.USER){var V=R.quill.scroll.descendant(p.default,F.index),ee=o(V,2),W=ee[0],U=ee[1];if(W!=null){R.linkRange=new _.Range(F.index-U,W.length());var C=p.default.formats(W.domNode);R.preview.textContent=C,R.preview.setAttribute("href",C),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(f.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=te(o),a=i(36),l=i(38),u=i(64),c=i(65),d=te(c),f=i(66),h=te(f),m=i(67),p=te(m),_=i(37),y=i(26),v=i(39),b=i(40),g=i(56),T=te(g),O=i(68),A=te(O),I=i(27),N=te(I),S=i(69),E=te(S),w=i(70),R=te(w),F=i(71),D=te(F),B=i(72),V=te(B),ee=i(73),W=te(ee),U=i(13),C=te(U),L=i(74),x=te(L),Y=i(75),Z=te(Y),j=i(57),P=te(j),X=i(41),z=te(X),se=i(28),le=te(se),Q=i(59),M=te(Q),K=i(60),H=te(K),de=i(61),J=te(de),G=i(108),ne=te(G),re=i(62),fe=te(re);function te(ve){return ve&&ve.__esModule?ve:{default:ve}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":v.FontClass,"formats/size":b.SizeClass,"formats/blockquote":d.default,"formats/code-block":C.default,"formats/header":h.default,"formats/list":p.default,"formats/bold":T.default,"formats/code":U.Code,"formats/italic":A.default,"formats/link":N.default,"formats/script":E.default,"formats/strike":R.default,"formats/underline":D.default,"formats/image":V.default,"formats/video":W.default,"formats/list/item":m.ListItem,"modules/formula":x.default,"modules/syntax":Z.default,"modules/toolbar":P.default,"themes/bubble":ne.default,"themes/snow":fe.default,"ui/icons":z.default,"ui/picker":le.default,"ui/icon-picker":H.default,"ui/color-picker":M.default,"ui/tooltip":J.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function p(_,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,y,v){return y&&p(_.prototype,y),v&&p(_,v),_}}(),s=function p(_,y,v){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,y);if(b===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:p(g,y,v)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(v)}},a=i(0),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function d(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function f(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var h=function(p){f(_,p);function _(){return c(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(v,b){if(b==="+1"||b==="-1"){var g=this.value(v)||0;b=b==="+1"?g+1:g-1}return b===0?(this.remove(v),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,v,b)}},{key:"canAdd",value:function(v,b){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,b)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,parseInt(b))}},{key:"value",value:function(v){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,v))||void 0}}]),_}(l.default.Attributor.Class),m=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(m,p){for(var _=0;_<p.length;_++){var y=p[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,p,_){return p&&h(m.prototype,p),_&&h(m,_),m}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),m}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(T,O){for(var A=0;A<O.length;A++){var I=O[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}}return function(T,O,A){return O&&g(T.prototype,O),A&&g(T,A),T}}(),s=function g(T,O,A){T===null&&(T=Function.prototype);var I=Object.getOwnPropertyDescriptor(T,O);if(I===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:g(N,O,A)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(A)}},a=i(0),l=h(a),u=i(4),c=h(u),d=i(25),f=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,T,O){return T in g?Object.defineProperty(g,T,{value:O,enumerable:!0,configurable:!0,writable:!0}):g[T]=O,g}function p(g,T){if(!(g instanceof T))throw new TypeError("Cannot call a class as a function")}function _(g,T){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:g}function y(g,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);g.prototype=Object.create(T&&T.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(g,T):g.__proto__=T)}var v=function(g){y(T,g);function T(){return p(this,T),_(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"format",value:function(A,I){A===b.blotName&&!I?this.replaceWith(l.default.create(this.statics.scope)):s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,A,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,I){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,I),this):(this.parent.unwrap(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,A,I))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:s(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,A)}}]),T}(c.default);v.blotName="list-item",v.tagName="LI";var b=function(g){y(T,g),o(T,null,[{key:"create",value:function(A){var I=A==="ordered"?"OL":"UL",N=s(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,I);return(A==="checked"||A==="unchecked")&&N.setAttribute("data-checked",A==="checked"),N}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(O){p(this,T);var A=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O)),I=function(S){if(S.target.parentNode===O){var E=A.statics.formats(O),w=l.default.find(S.target);E==="checked"?w.format("list","unchecked"):E==="unchecked"&&w.format("list","checked")}};return O.addEventListener("touchstart",I),O.addEventListener("mousedown",I),A}return o(T,[{key:"format",value:function(A,I){this.children.length>0&&this.children.tail.format(A,I)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,I){if(A instanceof v)s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,A,I);else{var N=I==null?this.length():I.offset(this),S=this.split(N);S.parent.insertBefore(A,S)}}},{key:"optimize",value:function(A){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,A);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var I=l.default.create(this.statics.defaultChild);A.moveChildren(I),this.appendChild(I)}s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,A)}}]),T}(f.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[v],r.ListItem=v,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,_){for(var y=0;y<_.length;y++){var v=_[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,_,y){return _&&m(p.prototype,_),y&&m(p,y),p}}(),s=function m(p,_,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,_);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,_,y)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(y)}},a=i(6),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var h=function(m){f(p,m);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),p}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,b){return v&&_(y.prototype,v),b&&_(y,b),y}}(),s=function _(y,v,b){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:_(T,v,b)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(b)}},a=i(0),l=c(a),u=i(27);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function h(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var m=["alt","height","width"],p=function(_){h(y,_);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(b,g){m.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return typeof b=="string"&&g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return m.reduce(function(g,T){return b.hasAttribute(T)&&(g[T]=b.getAttribute(T)),g},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(l.default.Embed);p.blotName="image",p.tagName="IMG",r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,b){return v&&_(y.prototype,v),b&&_(y,b),y}}(),s=function _(y,v,b){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,v);if(g===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:_(T,v,b)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(b)}},a=i(4),l=i(27),u=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function h(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var m=["height","width"],p=function(_){h(y,_);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(b,g){m.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return m.reduce(function(g,T){return b.hasAttribute(T)&&(g[T]=b.getAttribute(T)),g},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(a.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(g,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,A.key,A)}}return function(g,T,O){return T&&b(g.prototype,T),O&&b(g,O),g}}(),s=function b(g,T,O){g===null&&(g=Function.prototype);var A=Object.getOwnPropertyDescriptor(g,T);if(A===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:b(I,T,O)}else{if("value"in A)return A.value;var N=A.get;return N===void 0?void 0:N.call(O)}},a=i(35),l=h(a),u=i(5),c=h(u),d=i(9),f=h(d);function h(b){return b&&b.__esModule?b:{default:b}}function m(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function _(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=function(b){_(g,b);function g(){return m(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(O){var A=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",O)),A}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),g}(l.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var v=function(b){_(g,b),o(g,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function g(){m(this,g);var T=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return g}(f.default);r.FormulaBlot=y,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function O(A,I){for(var N=0;N<I.length;N++){var S=I[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(A,S.key,S)}}return function(A,I,N){return I&&O(A.prototype,I),N&&O(A,N),A}}(),s=function O(A,I,N){A===null&&(A=Function.prototype);var S=Object.getOwnPropertyDescriptor(A,I);if(S===void 0){var E=Object.getPrototypeOf(A);return E===null?void 0:O(E,I,N)}else{if("value"in S)return S.value;var w=S.get;return w===void 0?void 0:w.call(N)}},a=i(0),l=p(a),u=i(5),c=p(u),d=i(9),f=p(d),h=i(13),m=p(h);function p(O){return O&&O.__esModule?O:{default:O}}function _(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function y(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function v(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var b=function(O){v(A,O);function A(){return _(this,A),y(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),A}(m.default);b.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),T=function(O){v(A,O),o(A,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(b,!0)}}]);function A(I,N){_(this,A);var S=y(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,N));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return S.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){S.highlight(),E=null},S.options.interval)}),S.highlight(),S}return o(A,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(E){E.highlight(N.options.highlight)}),this.quill.update(c.default.sources.SILENT),S!=null&&this.quill.setSelection(S,c.default.sources.SILENT)}}}]),A}(f.default);T.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var A=window.hljs.highlightAuto(O);return A.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=g,r.default=T},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function A(I,N,S){I===null&&(I=Function.prototype);var E=Object.getOwnPropertyDescriptor(I,N);if(E===void 0){var w=Object.getPrototypeOf(I);return w===null?void 0:A(w,N,S)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(S)}},s=function(){function A(I,N){for(var S=0;S<N.length;S++){var E=N[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}return function(I,N,S){return N&&A(I.prototype,N),S&&A(I,S),I}}(),a=i(3),l=_(a),u=i(8),c=_(u),d=i(43),f=_(d),h=i(15),m=i(41),p=_(m);function _(A){return A&&A.__esModule?A:{default:A}}function y(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function v(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:A}function b(A,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);A.prototype=Object.create(I&&I.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(A,I):A.__proto__=I)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=function(A){b(I,A);function I(N,S){y(this,I),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=g);var E=v(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N,S));return E.quill.container.classList.add("ql-bubble"),E}return s(I,[{key:"extendToolbar",value:function(S){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),p.default)}}]),I}(f.default);T.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(A){b(I,A);function I(N,S){y(this,I);var E=v(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N,S));return E.quill.on(c.default.events.EDITOR_CHANGE,function(w,R,F,D){if(w===c.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&D===c.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var B=E.quill.getLines(R.index,R.length);if(B.length===1)E.position(E.quill.getBounds(R));else{var V=B[B.length-1],ee=E.quill.getIndex(V),W=Math.min(V.length()-1,R.index+R.length-ee),U=E.quill.getBounds(new h.Range(ee,W));E.position(U)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return s(I,[{key:"listen",value:function(){var S=this;o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var E=S.quill.getSelection();E!=null&&S.position(S.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var E=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,S),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",E===0)return E;w.style.marginLeft=-1*E-w.offsetWidth/2+"px"}}]),I}(d.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=T},function(n,r,i){n.exports=i(63)}]).default})})(eA);var O5=eA.exports;const Nh=ZE(O5);var Xr=-1,xr=1,Qn=0;function Hl(t,e,n,r){if(t===e)return t?[[Qn,t]]:[];if(n!=null){var i=M5(t,e,n);if(i)return i}var o=jg(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Ug(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var l=P5(t,e);return s&&l.unshift([Qn,s]),a&&l.push([Qn,a]),tA(l,r),l}function P5(t,e){var n;if(!t)return[[xr,e]];if(!e)return[[Xr,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=r.indexOf(i);if(o!==-1)return n=[[xr,r.substring(0,o)],[Qn,i],[xr,r.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=Xr),n;if(i.length===1)return[[Xr,t],[xr,e]];var s=D5(t,e);if(s){var a=s[0],l=s[1],u=s[2],c=s[3],d=s[4],f=Hl(a,u),h=Hl(l,c);return f.concat([[Qn,d]],h)}return C5(t,e)}function C5(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=i,s=2*i,a=new Array(s),l=new Array(s),u=0;u<s;u++)a[u]=-1,l[u]=-1;a[o+1]=0,l[o+1]=0;for(var c=n-r,d=c%2!==0,f=0,h=0,m=0,p=0,_=0;_<i;_++){for(var y=-_+f;y<=_-h;y+=2){var v=o+y,b;y===-_||y!==_&&a[v-1]<a[v+1]?b=a[v+1]:b=a[v-1]+1;for(var g=b-y;b<n&&g<r&&t.charAt(b)===e.charAt(g);)b++,g++;if(a[v]=b,b>n)h+=2;else if(g>r)f+=2;else if(d){var T=o+c-y;if(T>=0&&T<s&&l[T]!==-1){var O=n-l[T];if(b>=O)return s0(t,e,b,g)}}}for(var A=-_+m;A<=_-p;A+=2){var T=o+A,O;A===-_||A!==_&&l[T-1]<l[T+1]?O=l[T+1]:O=l[T-1]+1;for(var I=O-A;O<n&&I<r&&t.charAt(n-O-1)===e.charAt(r-I-1);)O++,I++;if(l[T]=O,O>n)p+=2;else if(I>r)m+=2;else if(!d){var v=o+c-A;if(v>=0&&v<s&&a[v]!==-1){var b=a[v],g=o+b-v;if(O=n-O,b>=O)return s0(t,e,b,g)}}}}return[[Xr,t],[xr,e]]}function s0(t,e,n,r){var i=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),a=e.substring(r),l=Hl(i,o),u=Hl(s,a);return l.concat(u)}function jg(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return nA(t.charCodeAt(i-1))&&i--,i}function Ug(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return rA(t.charCodeAt(t.length-i))&&i--,i}function D5(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,m,p){for(var _=h.substring(p,p+Math.floor(h.length/4)),y=-1,v="",b,g,T,O;(y=m.indexOf(_,y+1))!==-1;){var A=jg(h.substring(p),m.substring(y)),I=Ug(h.substring(0,p),m.substring(0,y));v.length<I+A&&(v=m.substring(y-I,y)+m.substring(y,y+A),b=h.substring(0,p-I),g=h.substring(p+A),T=m.substring(0,y-I),O=m.substring(y+A))}return v.length*2>=h.length?[b,g,T,O,v]:null}var o=i(n,r,Math.ceil(n.length/4)),s=i(n,r,Math.ceil(n.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var l,u,c,d;t.length>e.length?(l=a[0],u=a[1],c=a[2],d=a[3]):(c=a[0],d=a[1],l=a[2],u=a[3]);var f=a[4];return[l,u,c,d,f]}function tA(t,e){t.push([Qn,""]);for(var n=0,r=0,i=0,o="",s="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case xr:i++,s+=t[n][1],n++;break;case Xr:r++,o+=t[n][1],n++;break;case Qn:var l=n-i-r-1;if(e){if(l>=0&&oA(t[l][1])){var u=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=u+o,s=u+s,!t[l][1]){t.splice(l,1),n--;var c=l-1;t[c]&&t[c][0]===xr&&(i++,s=t[c][1]+s,c--),t[c]&&t[c][0]===Xr&&(r++,o=t[c][1]+o,c--),l=c}}if(iA(t[n][1])){var u=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=u,s+=u}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=jg(s,o),a!==0&&(l>=0?t[l][1]+=s.substring(0,a):(t.splice(0,0,[Qn,s.substring(0,a)]),n++),s=s.substring(a),o=o.substring(a)),a=Ug(s,o),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var d=i+r;o.length===0&&s.length===0?(t.splice(n-d,d),n=n-d):o.length===0?(t.splice(n-d,d,[xr,s]),n=n-d+1):s.length===0?(t.splice(n-d,d,[Xr,o]),n=n-d+1):(t.splice(n-d,d,[Xr,o],[xr,s]),n=n-d+2)}n!==0&&t[n-1][0]===Qn?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var f=!1;for(n=1;n<t.length-1;)t[n-1][0]===Qn&&t[n+1][0]===Qn&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),f=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),f=!0)),n++;f&&tA(t,e)}function nA(t){return t>=55296&&t<=56319}function rA(t){return t>=56320&&t<=57343}function iA(t){return rA(t.charCodeAt(0))}function oA(t){return nA(t.charCodeAt(t.length-1))}function N5(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Mh(t,e,n,r){return oA(t)||iA(r)?null:N5([[Qn,t],[Xr,e],[xr,n],[Qn,r]])}function M5(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,s=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),u=t.slice(a),c=i?i.index:null;e:{var d=a+s-o;if(c!==null&&c!==d||d<0||d>s)break e;var f=e.slice(0,d),h=e.slice(d);if(h!==u)break e;var m=Math.min(a,d),p=l.slice(0,m),_=f.slice(0,m);if(p!==_)break e;var y=l.slice(m),v=f.slice(m);return Mh(p,y,v,u)}e:{if(c!==null&&c!==a)break e;var b=a,f=e.slice(0,b),h=e.slice(b);if(f!==l)break e;var g=Math.min(o-b,s-b),T=u.slice(u.length-g),O=h.slice(h.length-g);if(T!==O)break e;var y=u.slice(0,u.length-g),v=h.slice(0,h.length-g);return Mh(l,y,v,T)}}if(r.length>0&&i&&i.length===0)e:{var p=t.slice(0,r.index),T=t.slice(r.index+r.length),m=p.length,g=T.length;if(s<m+g)break e;var _=e.slice(0,m),O=e.slice(s-g);if(p!==_||T!==O)break e;var y=t.slice(m,o-g),v=e.slice(m,s-g);return Mh(p,y,v,T)}return null}function uf(t,e,n){return Hl(t,e,n,!0)}uf.INSERT=xr;uf.DELETE=Xr;uf.EQUAL=Qn;var L5=uf,Jc={exports:{}};Jc.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",m="[object Object]",p="[object Promise]",_="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",g="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",A="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",w="[object Uint8Array]",R="[object Uint8ClampedArray]",F="[object Uint16Array]",D="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,V=/\w*$/,ee=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,U={};U[o]=U[s]=U[T]=U[O]=U[a]=U[l]=U[A]=U[I]=U[N]=U[S]=U[E]=U[f]=U[h]=U[m]=U[_]=U[y]=U[v]=U[b]=U[w]=U[R]=U[F]=U[D]=!0,U[u]=U[c]=U[g]=!1;var C=typeof yn=="object"&&yn&&yn.Object===Object&&yn,L=typeof self=="object"&&self&&self.Object===Object&&self,x=C||L||Function("return this")(),Y=e&&!e.nodeType&&e,Z=Y&&!0&&t&&!t.nodeType&&t,j=Z&&Z.exports===Y;function P(k,q){return k.set(q[0],q[1]),k}function X(k,q){return k.add(q),k}function z(k,q){for(var oe=-1,ge=k?k.length:0;++oe<ge&&q(k[oe],oe,k)!==!1;);return k}function se(k,q){for(var oe=-1,ge=q.length,Qe=k.length;++oe<ge;)k[Qe+oe]=q[oe];return k}function le(k,q,oe,ge){for(var Qe=-1,$e=k?k.length:0;++Qe<$e;)oe=q(oe,k[Qe],Qe,k);return oe}function Q(k,q){for(var oe=-1,ge=Array(k);++oe<k;)ge[oe]=q(oe);return ge}function M(k,q){return k==null?void 0:k[q]}function K(k){var q=!1;if(k!=null&&typeof k.toString!="function")try{q=!!(k+"")}catch{}return q}function H(k){var q=-1,oe=Array(k.size);return k.forEach(function(ge,Qe){oe[++q]=[Qe,ge]}),oe}function de(k,q){return function(oe){return k(q(oe))}}function J(k){var q=-1,oe=Array(k.size);return k.forEach(function(ge){oe[++q]=ge}),oe}var G=Array.prototype,ne=Function.prototype,re=Object.prototype,fe=x["__core-js_shared__"],te=function(){var k=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),ve=ne.toString,_e=re.hasOwnProperty,we=re.toString,xe=RegExp("^"+ve.call(_e).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=j?x.Buffer:void 0,De=x.Symbol,tt=x.Uint8Array,Ve=de(Object.getPrototypeOf,Object),mt=Object.create,Vn=re.propertyIsEnumerable,$r=G.splice,$n=Object.getOwnPropertySymbols,nr=Me?Me.isBuffer:void 0,ue=de(Object.keys,Object),be=wr(x,"DataView"),he=wr(x,"Map"),Ee=wr(x,"Promise"),Ie=wr(x,"Set"),Ft=wr(x,"WeakMap"),Ht=wr(Object,"create"),rr=Fn(be),dr=Fn(he),br=Fn(Ee),Kn=Fn(Ie),di=Fn(Ft),Fr=De?De.prototype:void 0,bu=Fr?Fr.valueOf:void 0;function fi(k){var q=-1,oe=k?k.length:0;for(this.clear();++q<oe;){var ge=k[q];this.set(ge[0],ge[1])}}function gf(){this.__data__=Ht?Ht(null):{}}function vf(k){return this.has(k)&&delete this.__data__[k]}function yf(k){var q=this.__data__;if(Ht){var oe=q[k];return oe===r?void 0:oe}return _e.call(q,k)?q[k]:void 0}function wu(k){var q=this.__data__;return Ht?q[k]!==void 0:_e.call(q,k)}function Ea(k,q){var oe=this.__data__;return oe[k]=Ht&&q===void 0?r:q,this}fi.prototype.clear=gf,fi.prototype.delete=vf,fi.prototype.get=yf,fi.prototype.has=wu,fi.prototype.set=Ea;function dn(k){var q=-1,oe=k?k.length:0;for(this.clear();++q<oe;){var ge=k[q];this.set(ge[0],ge[1])}}function _f(){this.__data__=[]}function bf(k){var q=this.__data__,oe=vs(q,k);if(oe<0)return!1;var ge=q.length-1;return oe==ge?q.pop():$r.call(q,oe,1),!0}function wf(k){var q=this.__data__,oe=vs(q,k);return oe<0?void 0:q[oe][1]}function Tf(k){return vs(this.__data__,k)>-1}function Ef(k,q){var oe=this.__data__,ge=vs(oe,k);return ge<0?oe.push([k,q]):oe[ge][1]=q,this}dn.prototype.clear=_f,dn.prototype.delete=bf,dn.prototype.get=wf,dn.prototype.has=Tf,dn.prototype.set=Ef;function An(k){var q=-1,oe=k?k.length:0;for(this.clear();++q<oe;){var ge=k[q];this.set(ge[0],ge[1])}}function Af(){this.__data__={hash:new fi,map:new(he||dn),string:new fi}}function kf(k){return So(this,k).delete(k)}function If(k){return So(this,k).get(k)}function xf(k){return So(this,k).has(k)}function Sf(k,q){return So(this,k).set(k,q),this}An.prototype.clear=Af,An.prototype.delete=kf,An.prototype.get=If,An.prototype.has=xf,An.prototype.set=Sf;function Yn(k){this.__data__=new dn(k)}function Rf(){this.__data__=new dn}function Of(k){return this.__data__.delete(k)}function Pf(k){return this.__data__.get(k)}function Cf(k){return this.__data__.has(k)}function Df(k,q){var oe=this.__data__;if(oe instanceof dn){var ge=oe.__data__;if(!he||ge.length<n-1)return ge.push([k,q]),this;oe=this.__data__=new An(ge)}return oe.set(k,q),this}Yn.prototype.clear=Rf,Yn.prototype.delete=Of,Yn.prototype.get=Pf,Yn.prototype.has=Cf,Yn.prototype.set=Df;function gs(k,q){var oe=xa(k)||_s(k)?Q(k.length,String):[],ge=oe.length,Qe=!!ge;for(var $e in k)_e.call(k,$e)&&!(Qe&&($e=="length"||Yf($e,ge)))&&oe.push($e);return oe}function Tu(k,q,oe){var ge=k[q];(!(_e.call(k,q)&&xu(ge,oe))||oe===void 0&&!(q in k))&&(k[q]=oe)}function vs(k,q){for(var oe=k.length;oe--;)if(xu(k[oe][0],q))return oe;return-1}function Br(k,q){return k&&Ia(q,Ra(q),k)}function Aa(k,q,oe,ge,Qe,$e,ut){var at;if(ge&&(at=$e?ge(k,Qe,$e,ut):ge(k)),at!==void 0)return at;if(!Ur(k))return k;var zt=xa(k);if(zt){if(at=zf(k),!q)return Uf(k,at)}else{var pt=pi(k),kn=pt==c||pt==d;if(Su(k))return ys(k,q);if(pt==m||pt==o||kn&&!$e){if(K(k))return $e?k:{};if(at=jr(kn?{}:k),!q)return qf(k,Br(at,k))}else{if(!U[pt])return $e?k:{};at=Kf(k,pt,Aa,q)}}ut||(ut=new Yn);var Wn=ut.get(k);if(Wn)return Wn;if(ut.set(k,at),!zt)var Xt=oe?Hf(k):Ra(k);return z(Xt||k,function(In,fn){Xt&&(fn=In,In=k[fn]),Tu(at,fn,Aa(In,q,oe,ge,fn,k,ut))}),at}function Nf(k){return Ur(k)?mt(k):{}}function Mf(k,q,oe){var ge=q(k);return xa(k)?ge:se(ge,oe(k))}function Lf(k){return we.call(k)}function Vf(k){if(!Ur(k)||Gf(k))return!1;var q=Sa(k)||K(k)?xe:ee;return q.test(Fn(k))}function $f(k){if(!ku(k))return ue(k);var q=[];for(var oe in Object(k))_e.call(k,oe)&&oe!="constructor"&&q.push(oe);return q}function ys(k,q){if(q)return k.slice();var oe=new k.constructor(k.length);return k.copy(oe),oe}function ka(k){var q=new k.constructor(k.byteLength);return new tt(q).set(new tt(k)),q}function xo(k,q){var oe=q?ka(k.buffer):k.buffer;return new k.constructor(oe,k.byteOffset,k.byteLength)}function Eu(k,q,oe){var ge=q?oe(H(k),!0):H(k);return le(ge,P,new k.constructor)}function Au(k){var q=new k.constructor(k.source,V.exec(k));return q.lastIndex=k.lastIndex,q}function Ff(k,q,oe){var ge=q?oe(J(k),!0):J(k);return le(ge,X,new k.constructor)}function Bf(k){return bu?Object(bu.call(k)):{}}function jf(k,q){var oe=q?ka(k.buffer):k.buffer;return new k.constructor(oe,k.byteOffset,k.length)}function Uf(k,q){var oe=-1,ge=k.length;for(q||(q=Array(ge));++oe<ge;)q[oe]=k[oe];return q}function Ia(k,q,oe,ge){oe||(oe={});for(var Qe=-1,$e=q.length;++Qe<$e;){var ut=q[Qe],at=void 0;Tu(oe,ut,at===void 0?k[ut]:at)}return oe}function qf(k,q){return Ia(k,hi(k),q)}function Hf(k){return Mf(k,Ra,hi)}function So(k,q){var oe=k.__data__;return Wf(q)?oe[typeof q=="string"?"string":"hash"]:oe.map}function wr(k,q){var oe=M(k,q);return Vf(oe)?oe:void 0}var hi=$n?de($n,Object):Xf,pi=Lf;(be&&pi(new be(new ArrayBuffer(1)))!=O||he&&pi(new he)!=f||Ee&&pi(Ee.resolve())!=p||Ie&&pi(new Ie)!=y||Ft&&pi(new Ft)!=g)&&(pi=function(k){var q=we.call(k),oe=q==m?k.constructor:void 0,ge=oe?Fn(oe):void 0;if(ge)switch(ge){case rr:return O;case dr:return f;case br:return p;case Kn:return y;case di:return g}return q});function zf(k){var q=k.length,oe=k.constructor(q);return q&&typeof k[0]=="string"&&_e.call(k,"index")&&(oe.index=k.index,oe.input=k.input),oe}function jr(k){return typeof k.constructor=="function"&&!ku(k)?Nf(Ve(k)):{}}function Kf(k,q,oe,ge){var Qe=k.constructor;switch(q){case T:return ka(k);case a:case l:return new Qe(+k);case O:return xo(k,ge);case A:case I:case N:case S:case E:case w:case R:case F:case D:return jf(k,ge);case f:return Eu(k,ge,oe);case h:case v:return new Qe(k);case _:return Au(k);case y:return Ff(k,ge,oe);case b:return Bf(k)}}function Yf(k,q){return q=q??i,!!q&&(typeof k=="number"||W.test(k))&&k>-1&&k%1==0&&k<q}function Wf(k){var q=typeof k;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?k!=="__proto__":k===null}function Gf(k){return!!te&&te in k}function ku(k){var q=k&&k.constructor,oe=typeof q=="function"&&q.prototype||re;return k===oe}function Fn(k){if(k!=null){try{return ve.call(k)}catch{}try{return k+""}catch{}}return""}function Iu(k){return Aa(k,!0,!0)}function xu(k,q){return k===q||k!==k&&q!==q}function _s(k){return Qf(k)&&_e.call(k,"callee")&&(!Vn.call(k,"callee")||we.call(k)==o)}var xa=Array.isArray;function bs(k){return k!=null&&Ru(k.length)&&!Sa(k)}function Qf(k){return Ou(k)&&bs(k)}var Su=nr||Jf;function Sa(k){var q=Ur(k)?we.call(k):"";return q==c||q==d}function Ru(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=i}function Ur(k){var q=typeof k;return!!k&&(q=="object"||q=="function")}function Ou(k){return!!k&&typeof k=="object"}function Ra(k){return bs(k)?gs(k):$f(k)}function Xf(){return[]}function Jf(){return!1}t.exports=Iu})(Jc,Jc.exports);var sA=Jc.exports,Zc={exports:{}};Zc.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",p="[object Map]",_="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",g="[object Proxy]",T="[object RegExp]",O="[object Set]",A="[object String]",I="[object Symbol]",N="[object Undefined]",S="[object WeakMap]",E="[object ArrayBuffer]",w="[object DataView]",R="[object Float32Array]",F="[object Float64Array]",D="[object Int8Array]",B="[object Int16Array]",V="[object Int32Array]",ee="[object Uint8Array]",W="[object Uint8ClampedArray]",U="[object Uint16Array]",C="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,x=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,Z={};Z[R]=Z[F]=Z[D]=Z[B]=Z[V]=Z[ee]=Z[W]=Z[U]=Z[C]=!0,Z[a]=Z[l]=Z[E]=Z[c]=Z[w]=Z[d]=Z[f]=Z[h]=Z[p]=Z[_]=Z[v]=Z[T]=Z[O]=Z[A]=Z[S]=!1;var j=typeof yn=="object"&&yn&&yn.Object===Object&&yn,P=typeof self=="object"&&self&&self.Object===Object&&self,X=j||P||Function("return this")(),z=e&&!e.nodeType&&e,se=z&&!0&&t&&!t.nodeType&&t,le=se&&se.exports===z,Q=le&&j.process,M=function(){try{return Q&&Q.binding&&Q.binding("util")}catch{}}(),K=M&&M.isTypedArray;function H(k,q){for(var oe=-1,ge=k==null?0:k.length,Qe=0,$e=[];++oe<ge;){var ut=k[oe];q(ut,oe,k)&&($e[Qe++]=ut)}return $e}function de(k,q){for(var oe=-1,ge=q.length,Qe=k.length;++oe<ge;)k[Qe+oe]=q[oe];return k}function J(k,q){for(var oe=-1,ge=k==null?0:k.length;++oe<ge;)if(q(k[oe],oe,k))return!0;return!1}function G(k,q){for(var oe=-1,ge=Array(k);++oe<k;)ge[oe]=q(oe);return ge}function ne(k){return function(q){return k(q)}}function re(k,q){return k.has(q)}function fe(k,q){return k==null?void 0:k[q]}function te(k){var q=-1,oe=Array(k.size);return k.forEach(function(ge,Qe){oe[++q]=[Qe,ge]}),oe}function ve(k,q){return function(oe){return k(q(oe))}}function _e(k){var q=-1,oe=Array(k.size);return k.forEach(function(ge){oe[++q]=ge}),oe}var we=Array.prototype,xe=Function.prototype,Me=Object.prototype,De=X["__core-js_shared__"],tt=xe.toString,Ve=Me.hasOwnProperty,mt=function(){var k=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),Vn=Me.toString,$r=RegExp("^"+tt.call(Ve).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$n=le?X.Buffer:void 0,nr=X.Symbol,ue=X.Uint8Array,be=Me.propertyIsEnumerable,he=we.splice,Ee=nr?nr.toStringTag:void 0,Ie=Object.getOwnPropertySymbols,Ft=$n?$n.isBuffer:void 0,Ht=ve(Object.keys,Object),rr=hi(X,"DataView"),dr=hi(X,"Map"),br=hi(X,"Promise"),Kn=hi(X,"Set"),di=hi(X,"WeakMap"),Fr=hi(Object,"create"),bu=Fn(rr),fi=Fn(dr),gf=Fn(br),vf=Fn(Kn),yf=Fn(di),wu=nr?nr.prototype:void 0,Ea=wu?wu.valueOf:void 0;function dn(k){var q=-1,oe=k==null?0:k.length;for(this.clear();++q<oe;){var ge=k[q];this.set(ge[0],ge[1])}}function _f(){this.__data__=Fr?Fr(null):{},this.size=0}function bf(k){var q=this.has(k)&&delete this.__data__[k];return this.size-=q?1:0,q}function wf(k){var q=this.__data__;if(Fr){var oe=q[k];return oe===r?void 0:oe}return Ve.call(q,k)?q[k]:void 0}function Tf(k){var q=this.__data__;return Fr?q[k]!==void 0:Ve.call(q,k)}function Ef(k,q){var oe=this.__data__;return this.size+=this.has(k)?0:1,oe[k]=Fr&&q===void 0?r:q,this}dn.prototype.clear=_f,dn.prototype.delete=bf,dn.prototype.get=wf,dn.prototype.has=Tf,dn.prototype.set=Ef;function An(k){var q=-1,oe=k==null?0:k.length;for(this.clear();++q<oe;){var ge=k[q];this.set(ge[0],ge[1])}}function Af(){this.__data__=[],this.size=0}function kf(k){var q=this.__data__,oe=ys(q,k);if(oe<0)return!1;var ge=q.length-1;return oe==ge?q.pop():he.call(q,oe,1),--this.size,!0}function If(k){var q=this.__data__,oe=ys(q,k);return oe<0?void 0:q[oe][1]}function xf(k){return ys(this.__data__,k)>-1}function Sf(k,q){var oe=this.__data__,ge=ys(oe,k);return ge<0?(++this.size,oe.push([k,q])):oe[ge][1]=q,this}An.prototype.clear=Af,An.prototype.delete=kf,An.prototype.get=If,An.prototype.has=xf,An.prototype.set=Sf;function Yn(k){var q=-1,oe=k==null?0:k.length;for(this.clear();++q<oe;){var ge=k[q];this.set(ge[0],ge[1])}}function Rf(){this.size=0,this.__data__={hash:new dn,map:new(dr||An),string:new dn}}function Of(k){var q=wr(this,k).delete(k);return this.size-=q?1:0,q}function Pf(k){return wr(this,k).get(k)}function Cf(k){return wr(this,k).has(k)}function Df(k,q){var oe=wr(this,k),ge=oe.size;return oe.set(k,q),this.size+=oe.size==ge?0:1,this}Yn.prototype.clear=Rf,Yn.prototype.delete=Of,Yn.prototype.get=Pf,Yn.prototype.has=Cf,Yn.prototype.set=Df;function gs(k){var q=-1,oe=k==null?0:k.length;for(this.__data__=new Yn;++q<oe;)this.add(k[q])}function Tu(k){return this.__data__.set(k,r),this}function vs(k){return this.__data__.has(k)}gs.prototype.add=gs.prototype.push=Tu,gs.prototype.has=vs;function Br(k){var q=this.__data__=new An(k);this.size=q.size}function Aa(){this.__data__=new An,this.size=0}function Nf(k){var q=this.__data__,oe=q.delete(k);return this.size=q.size,oe}function Mf(k){return this.__data__.get(k)}function Lf(k){return this.__data__.has(k)}function Vf(k,q){var oe=this.__data__;if(oe instanceof An){var ge=oe.__data__;if(!dr||ge.length<n-1)return ge.push([k,q]),this.size=++oe.size,this;oe=this.__data__=new Yn(ge)}return oe.set(k,q),this.size=oe.size,this}Br.prototype.clear=Aa,Br.prototype.delete=Nf,Br.prototype.get=Mf,Br.prototype.has=Lf,Br.prototype.set=Vf;function $f(k,q){var oe=_s(k),ge=!oe&&xu(k),Qe=!oe&&!ge&&bs(k),$e=!oe&&!ge&&!Qe&&Ou(k),ut=oe||ge||Qe||$e,at=ut?G(k.length,String):[],zt=at.length;for(var pt in k)Ve.call(k,pt)&&!(ut&&(pt=="length"||Qe&&(pt=="offset"||pt=="parent")||$e&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||Kf(pt,zt)))&&at.push(pt);return at}function ys(k,q){for(var oe=k.length;oe--;)if(Iu(k[oe][0],q))return oe;return-1}function ka(k,q,oe){var ge=q(k);return _s(k)?ge:de(ge,oe(k))}function xo(k){return k==null?k===void 0?N:y:Ee&&Ee in Object(k)?pi(k):ku(k)}function Eu(k){return Ur(k)&&xo(k)==a}function Au(k,q,oe,ge,Qe){return k===q?!0:k==null||q==null||!Ur(k)&&!Ur(q)?k!==k&&q!==q:Ff(k,q,oe,ge,Au,Qe)}function Ff(k,q,oe,ge,Qe,$e){var ut=_s(k),at=_s(q),zt=ut?l:jr(k),pt=at?l:jr(q);zt=zt==a?v:zt,pt=pt==a?v:pt;var kn=zt==v,Wn=pt==v,Xt=zt==pt;if(Xt&&bs(k)){if(!bs(q))return!1;ut=!0,kn=!1}if(Xt&&!kn)return $e||($e=new Br),ut||Ou(k)?Ia(k,q,oe,ge,Qe,$e):qf(k,q,zt,oe,ge,Qe,$e);if(!(oe&i)){var In=kn&&Ve.call(k,"__wrapped__"),fn=Wn&&Ve.call(q,"__wrapped__");if(In||fn){var Li=In?k.value():k,mi=fn?q.value():q;return $e||($e=new Br),Qe(Li,mi,oe,ge,$e)}}return Xt?($e||($e=new Br),Hf(k,q,oe,ge,Qe,$e)):!1}function Bf(k){if(!Ru(k)||Wf(k))return!1;var q=Su(k)?$r:x;return q.test(Fn(k))}function jf(k){return Ur(k)&&Sa(k.length)&&!!Z[xo(k)]}function Uf(k){if(!Gf(k))return Ht(k);var q=[];for(var oe in Object(k))Ve.call(k,oe)&&oe!="constructor"&&q.push(oe);return q}function Ia(k,q,oe,ge,Qe,$e){var ut=oe&i,at=k.length,zt=q.length;if(at!=zt&&!(ut&&zt>at))return!1;var pt=$e.get(k);if(pt&&$e.get(q))return pt==q;var kn=-1,Wn=!0,Xt=oe&o?new gs:void 0;for($e.set(k,q),$e.set(q,k);++kn<at;){var In=k[kn],fn=q[kn];if(ge)var Li=ut?ge(fn,In,kn,q,k,$e):ge(In,fn,kn,k,q,$e);if(Li!==void 0){if(Li)continue;Wn=!1;break}if(Xt){if(!J(q,function(mi,Ro){if(!re(Xt,Ro)&&(In===mi||Qe(In,mi,oe,ge,$e)))return Xt.push(Ro)})){Wn=!1;break}}else if(!(In===fn||Qe(In,fn,oe,ge,$e))){Wn=!1;break}}return $e.delete(k),$e.delete(q),Wn}function qf(k,q,oe,ge,Qe,$e,ut){switch(oe){case w:if(k.byteLength!=q.byteLength||k.byteOffset!=q.byteOffset)return!1;k=k.buffer,q=q.buffer;case E:return!(k.byteLength!=q.byteLength||!$e(new ue(k),new ue(q)));case c:case d:case _:return Iu(+k,+q);case f:return k.name==q.name&&k.message==q.message;case T:case A:return k==q+"";case p:var at=te;case O:var zt=ge&i;if(at||(at=_e),k.size!=q.size&&!zt)return!1;var pt=ut.get(k);if(pt)return pt==q;ge|=o,ut.set(k,q);var kn=Ia(at(k),at(q),ge,Qe,$e,ut);return ut.delete(k),kn;case I:if(Ea)return Ea.call(k)==Ea.call(q)}return!1}function Hf(k,q,oe,ge,Qe,$e){var ut=oe&i,at=So(k),zt=at.length,pt=So(q),kn=pt.length;if(zt!=kn&&!ut)return!1;for(var Wn=zt;Wn--;){var Xt=at[Wn];if(!(ut?Xt in q:Ve.call(q,Xt)))return!1}var In=$e.get(k);if(In&&$e.get(q))return In==q;var fn=!0;$e.set(k,q),$e.set(q,k);for(var Li=ut;++Wn<zt;){Xt=at[Wn];var mi=k[Xt],Ro=q[Xt];if(ge)var pv=ut?ge(Ro,mi,Xt,q,k,$e):ge(mi,Ro,Xt,k,q,$e);if(!(pv===void 0?mi===Ro||Qe(mi,Ro,oe,ge,$e):pv)){fn=!1;break}Li||(Li=Xt=="constructor")}if(fn&&!Li){var Pu=k.constructor,Cu=q.constructor;Pu!=Cu&&"constructor"in k&&"constructor"in q&&!(typeof Pu=="function"&&Pu instanceof Pu&&typeof Cu=="function"&&Cu instanceof Cu)&&(fn=!1)}return $e.delete(k),$e.delete(q),fn}function So(k){return ka(k,Ra,zf)}function wr(k,q){var oe=k.__data__;return Yf(q)?oe[typeof q=="string"?"string":"hash"]:oe.map}function hi(k,q){var oe=fe(k,q);return Bf(oe)?oe:void 0}function pi(k){var q=Ve.call(k,Ee),oe=k[Ee];try{k[Ee]=void 0;var ge=!0}catch{}var Qe=Vn.call(k);return ge&&(q?k[Ee]=oe:delete k[Ee]),Qe}var zf=Ie?function(k){return k==null?[]:(k=Object(k),H(Ie(k),function(q){return be.call(k,q)}))}:Xf,jr=xo;(rr&&jr(new rr(new ArrayBuffer(1)))!=w||dr&&jr(new dr)!=p||br&&jr(br.resolve())!=b||Kn&&jr(new Kn)!=O||di&&jr(new di)!=S)&&(jr=function(k){var q=xo(k),oe=q==v?k.constructor:void 0,ge=oe?Fn(oe):"";if(ge)switch(ge){case bu:return w;case fi:return p;case gf:return b;case vf:return O;case yf:return S}return q});function Kf(k,q){return q=q??s,!!q&&(typeof k=="number"||Y.test(k))&&k>-1&&k%1==0&&k<q}function Yf(k){var q=typeof k;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?k!=="__proto__":k===null}function Wf(k){return!!mt&&mt in k}function Gf(k){var q=k&&k.constructor,oe=typeof q=="function"&&q.prototype||Me;return k===oe}function ku(k){return Vn.call(k)}function Fn(k){if(k!=null){try{return tt.call(k)}catch{}try{return k+""}catch{}}return""}function Iu(k,q){return k===q||k!==k&&q!==q}var xu=Eu(function(){return arguments}())?Eu:function(k){return Ur(k)&&Ve.call(k,"callee")&&!be.call(k,"callee")},_s=Array.isArray;function xa(k){return k!=null&&Sa(k.length)&&!Su(k)}var bs=Ft||Jf;function Qf(k,q){return Au(k,q)}function Su(k){if(!Ru(k))return!1;var q=xo(k);return q==h||q==m||q==u||q==g}function Sa(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=s}function Ru(k){var q=typeof k;return k!=null&&(q=="object"||q=="function")}function Ur(k){return k!=null&&typeof k=="object"}var Ou=K?ne(K):jf;function Ra(k){return xa(k)?$f(k):Uf(k)}function Xf(){return[]}function Jf(){return!1}t.exports=Qf})(Zc,Zc.exports);var aA=Zc.exports,qg={},lA=yn&&yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qg,"__esModule",{value:!0});var V5=lA(sA),$5=lA(aA),Gp;(function(t){function e(o,s,a){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var l=V5.default(s);a||(l=Object.keys(l).reduce(function(c,d){return l[d]!=null&&(c[d]=l[d]),c},{}));for(var u in o)o[u]!==void 0&&s[u]===void 0&&(l[u]=o[u]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o,s){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var a=Object.keys(o).concat(Object.keys(s)).reduce(function(l,u){return $5.default(o[u],s[u])||(l[u]=s[u]===void 0?null:s[u]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(o,s){o===void 0&&(o={}),s===void 0&&(s={}),o=o||{};var a=Object.keys(s).reduce(function(l,u){return s[u]!==o[u]&&o[u]!==void 0&&(l[u]=s[u]),l},{});return Object.keys(o).reduce(function(l,u){return o[u]!==s[u]&&s[u]===void 0&&(l[u]=null),l},a)}t.invert=r;function i(o,s,a){if(a===void 0&&(a=!1),typeof o!="object")return s;if(typeof s=="object"){if(!a)return s;var l=Object.keys(s).reduce(function(u,c){return o[c]===void 0&&(u[c]=s[c]),u},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(Gp||(Gp={}));qg.default=Gp;var Qu={},Xu={},a0;function F5(){if(a0)return Xu;a0=1;var t=yn&&yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xu,"__esModule",{value:!0});var e=t(uA()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var o=this.ops[this.index];if(o){var s=this.offset,a=e.default.length(o);if(i>=a-s?(i=a-s,this.index+=1,this.offset=0):this.offset+=i,typeof o.delete=="number")return{delete:i};var l={};return o.attributes&&(l.attributes=o.attributes),typeof o.retain=="number"?l.retain=i:typeof o.insert=="string"?l.insert=o.insert.substr(s,i):l.insert=o.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,o=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=o,[s].concat(a)}else return[]},r}();return Xu.default=n,Xu}var l0;function uA(){if(l0)return Qu;l0=1;var t=yn&&yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qu,"__esModule",{value:!0});var e=t(F5()),n;return function(r){function i(s){return new e.default(s)}r.iterator=i;function o(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}r.length=o}(n||(n={})),Qu.default=n,Qu}var gu=yn&&yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ju=gu(L5),B5=gu(sA),Lh=gu(aA),La=gu(qg),hn=gu(uA()),j5="\0",U5=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=B5.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(Lh.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var o=e(i)?n:r;o.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+hn.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+hn.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=hn.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=hn.default.length(s)}return new t(r)},t.prototype.compose=function(e){var n=hn.default.iterator(this.ops),r=hn.default.iterator(e.ops),i=[],o=r.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var s=o.retain;n.peekType()==="insert"&&n.peekLength()<=s;)s-=n.peekLength(),i.push(n.next());o.retain-s>0&&r.next(o.retain-s)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),u=n.next(l),c=r.next(l);if(typeof c.retain=="number"){var d={};typeof u.retain=="number"?d.retain=l:d.insert=u.insert;var f=La.default.compose(u.attributes,c.attributes,typeof u.retain=="number");if(f&&(d.attributes=f),a.push(d),!r.hasNext()&&Lh.default(a.ops[a.ops.length-1],d)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof c.delete=="number"&&typeof u.retain=="number"&&a.push(c)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:j5;var c=l===e?"on":"with";throw new Error("diff() called "+c+" non-document")}).join("")}),i=new t,o=Ju.default(r[0],r[1],n),s=hn.default.iterator(this.ops),a=hn.default.iterator(e.ops);return o.forEach(function(l){for(var u=l[1].length;u>0;){var c=0;switch(l[0]){case Ju.default.INSERT:c=Math.min(a.peekLength(),u),i.push(a.next(c));break;case Ju.default.DELETE:c=Math.min(u,s.peekLength()),s.next(c),i.delete(c);break;case Ju.default.EQUAL:c=Math.min(s.peekLength(),a.peekLength(),u);var d=s.next(c),f=a.next(c);Lh.default(d.insert,f.insert)?i.retain(c,La.default.diff(d.attributes,f.attributes)):i.push(f).delete(c);break}u-=c}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=hn.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if(r.peekType()!=="insert")return;var s=r.peek(),a=hn.default.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},o)===!1)return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(hn.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var o=i.delete||i.retain,s=e.slice(r,r+o);return s.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(hn.default.length(a),La.default.invert(i.attributes,a.attributes))}),r+o}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=hn.default.iterator(this.ops),o=hn.default.iterator(r.ops),s=new t;i.hasNext()||o.hasNext();)if(i.peekType()==="insert"&&(n||o.peekType()!=="insert"))s.retain(hn.default.length(i.next()));else if(o.peekType()==="insert")s.push(o.next());else{var a=Math.min(i.peekLength(),o.peekLength()),l=i.next(a),u=o.next(a);if(l.delete)continue;u.delete?s.push(u):s.retain(a,La.default.transform(l.attributes,u.attributes,n))}return s.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=hn.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var o=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(o,e-i);continue}else s==="insert"&&(i<e||!n)&&(e+=o);i+=o}return e},t.Op=hn.default,t.AttributeMap=La.default,t}(),q5=U5;const H5=ZE(q5);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const u0={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},cA=Qt({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(u0).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{xt(()=>{o()}),_m(()=>{n=null});let n,r;const i=pe(),o=()=>{var E;if(i.value){if(r=s(),t.modules)if(Array.isArray(t.modules))for(const w of t.modules)Nh.register(`modules/${w.name}`,w.module);else Nh.register(`modules/${t.modules.name}`,t.modules.module);n=new Nh(i.value,r),b(t.content),n.on("text-change",d),n.on("selection-change",h),n.on("editor-change",m),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(E=n.getModule("toolbar"))===null||E===void 0||E.container.addEventListener("mousedown",w=>{w.preventDefault()}),e.emit("ready",n)}},s=()=>{const E={};if(t.theme!==""&&(E.theme=t.theme),t.readOnly&&(E.readOnly=t.readOnly),t.placeholder&&(E.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(E.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:u0[t.toolbar]})()}),t.modules){const w=(()=>{var R,F;const D={};if(Array.isArray(t.modules))for(const B of t.modules)D[B.name]=(R=B.options)!==null&&R!==void 0?R:{};else D[t.modules.name]=(F=t.modules.options)!==null&&F!==void 0?F:{};return D})();E.modules=Object.assign({},E.modules,w)}return Object.assign({},t.globalOptions,t.options,E)},a=E=>typeof E=="object"&&E?E.slice():E,l=E=>Object.values(E.ops).some(w=>!w.retain||Object.keys(w).length!==1);let u;const c=E=>{if(typeof u==typeof E){if(E===u)return!0;if(typeof E=="object"&&E&&typeof u=="object"&&u)return!l(u.diff(E))}return!1},d=(E,w,R)=>{u=a(v()),c(t.content)||e.emit("update:content",u),e.emit("textChange",{delta:E,oldContents:w,source:R})},f=pe(),h=(E,w,R)=>{f.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:E,oldRange:w,source:R})};Wt(f,E=>{E?e.emit("focus",i):e.emit("blur",i)});const m=(...E)=>{E[0]==="text-change"&&e.emit("editorChange",{name:E[0],delta:E[1],oldContents:E[2],source:E[3]}),E[0]==="selection-change"&&e.emit("editorChange",{name:E[0],range:E[1],oldRange:E[2],source:E[3]})},p=()=>i.value,_=()=>{var E;return(E=n==null?void 0:n.getModule("toolbar"))===null||E===void 0?void 0:E.container},y=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},v=(E,w)=>t.contentType==="html"?O():t.contentType==="text"?g(E,w):n==null?void 0:n.getContents(E,w),b=(E,w="api")=>{const R=E||(t.contentType==="delta"?new H5:"");t.contentType==="html"?A(R):t.contentType==="text"?T(R,w):n==null||n.setContents(R,w),u=a(R)},g=(E,w)=>{var R;return(R=n==null?void 0:n.getText(E,w))!==null&&R!==void 0?R:""},T=(E,w="api")=>{n==null||n.setText(E,w)},O=()=>{var E;return(E=n==null?void 0:n.root.innerHTML)!==null&&E!==void 0?E:""},A=E=>{n&&(n.root.innerHTML=E)},I=(E,w="api")=>{const R=n==null?void 0:n.clipboard.convert(E);R&&(n==null||n.setContents(R,w))},N=()=>{n==null||n.focus()},S=()=>{wn(()=>{var E;!e.slots.toolbar&&n&&((E=n.getModule("toolbar"))===null||E===void 0||E.container.remove()),o()})};return Wt(()=>t.content,E=>{if(!n||!E||c(E))return;const w=n.getSelection();w&&wn(()=>n==null?void 0:n.setSelection(w)),b(E)},{deep:!0}),Wt(()=>t.enable,E=>{n&&n.enable(E)}),{editor:i,getEditor:p,getToolbar:_,getQuill:y,getContents:v,setContents:b,getHTML:O,setHTML:A,pasteHTML:I,focus:N,getText:g,setText:T,reinit:S}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),Xl("div",{ref:"editor",...this.$attrs})]}}),z5={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},K5={key:1,id:"add-blog-modal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},Y5={class:"relative p-4 w-full max-w-4xl max-h-full"},W5={class:"relative bg-white rounded-lg shadow"},G5={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},Q5=$("h3",{class:"text-lg font-semibold text-gray-900"}," Blog Yazısını Güncelle ",-1),X5=$("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[$("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),J5=$("span",{class:"sr-only"},"Close modal",-1),Z5=[X5,J5],e$={class:"grid gap-4 mb-4 grid-cols-2"},t$={class:"col-span-2"},n$=$("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),r$={class:"col-span-2"},i$=$("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),o$=$("option",{value:"Hukuk"},"Hukuk",-1),s$=$("option",{value:"Haberler"},"Haberler",-1),a$=$("option",{value:"Son Dakika"},"Son Dakika",-1),l$=$("option",{value:"Blog Yazısı"},"Blog Yazısı",-1),u$=[o$,s$,a$,l$],c$={class:"col-span-2"},d$=$("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),f$={class:"bg-gray-100"},h$=$("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"Kaydet",-1),p$={__name:"BlogModalEdit",props:{show:Boolean,editBlogData:Object},emits:["close","updateBlog"],setup(t,{emit:e}){const n=e,r=t;me(()=>{const s=r.editBlogData.image;return s.length<=20?s:`${s.substring(0,10)}...${s.substring(s.length-10)}`});const i=o=>{o.updated_date=new Date,n("updateBlog",o),n("close")};return(o,s)=>(ie(),ce(Pe,null,[t.show?(ie(),ce("div",z5)):ye("",!0),t.show?(ie(),ce("div",K5,[$("div",Y5,[$("div",W5,[$("div",G5,[Q5,$("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Z5)]),$("form",{onSubmit:s[4]||(s[4]=ai(a=>i(t.editBlogData),["prevent"])),class:"p-4 md:p-5"},[$("div",e$,[$("div",t$,[n$,Ot($("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.editBlogData.title=a),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[Ks,t.editBlogData.title]])]),$("div",r$,[i$,Ot($("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>t.editBlogData.category=a),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},u$,512),[[Ys,t.editBlogData.category]])]),$("div",c$,[d$,$("div",f$,[Ye(ae(cA),{content:t.editBlogData.content,"onUpdate:content":s[3]||(s[3]=a=>t.editBlogData.content=a),contentType:"html",id:"content",toolbar:"essential",theme:"snow",class:"h-64"},null,8,["content"])])])]),h$],32)])])])):ye("",!0)],64))}},m$={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},g$={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},v$={class:"flex justify-between items-center mb-4"},y$={class:"text-4xl font-bold text-gray-800"},_$=$("div",{class:"text-lg font-medium text-gray-500"},"Toplam Blog Yazısı",-1),b$=$("div",{class:"text-gray-400"},[$("i",{class:"ri-group-line text-4xl"})],-1),w$={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},T$={class:"text-right text-sm font-medium text-gray-600 mt-2"},E$={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},A$={class:"flex justify-between items-center mb-4"},k$={class:"flex items-center mb-1"},I$={class:"text-4xl font-bold text-gray-800"},x$={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},S$=$("div",{class:"text-lg font-medium text-gray-500"},"Toplam Görüntülenme",-1),R$=$("div",{class:"text-gray-400"},[$("i",{class:"ri-eye-line text-4xl"})],-1),O$=$("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),P$={class:"mt-2 flex flex-wrap"},C$={__name:"BlogCards",props:{totalBlogs:Number,totalBlogView:Number,blogsCategorySummary:Object},setup(t){const e=t,n={"Blog Yazısı":"bg-blue-100 text-blue-700",Hukuk:"bg-green-100 text-green-700","Son Dakika":"bg-gray-100 text-gray-700",Haberler:"bg-red-100 text-red-700"},r=s=>{switch(s){case"Blog Yazısı":return"Blog Yazısı";case"Hukuk":return"Hukuk";case"Son Dakika":return"Son Dakika";case"Haberler":return"Haberler";default:return"Unknown"}},i=me(()=>e.totalBlogs===0?0:(e.totalBlogView/e.totalBlogs*100).toFixed(2)),o=me(()=>e.totalBlogs===0?0:(e.totalBlogs/100*100).toFixed(2));return(s,a)=>(ie(),ce("div",m$,[$("div",g$,[$("div",v$,[$("div",null,[$("div",y$,Ce(t.totalBlogs),1),_$]),b$]),$("div",w$,[$("div",{class:"h-full bg-blue-600",style:en({width:o.value+"%"})},null,4)]),$("div",T$,Ce(o.value)+"%",1)]),$("div",E$,[$("div",A$,[$("div",null,[$("div",k$,[$("div",I$,Ce(t.totalBlogView),1),$("div",x$," +"+Ce(i.value)+"% ",1)]),S$]),R$]),O$,$("div",P$,[(ie(!0),ce(Pe,null,et(t.blogsCategorySummary,(l,u)=>(ie(),ce("span",{key:u,class:Xe([n[u],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ce(r(u))+": "+Ce(l),3))),128))])])]))}};function D$(t,e){var n=new Date(t.created_date.split(".").reverse().join(".")),r=new Date(e.created_date.split(".").reverse().join("."));return r-n}const N$={class:"flex justify-between mb-4 items-start"},M$=$("h1",{class:"font-medium"},"Blog Yönetimi",-1),L$={action:"",class:"flex items-center mb-4"},V$={class:"relative w-full mr-2"},$$=$("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1),F$={key:0,class:"w-full mt-4 table-fixed"},B$=$("thead",null,[$("tr",null,[$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Başlık "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yazar "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yaratılma Tarihi "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Kategori "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Değiştirilme Tarihi "),$("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Aksiyonlar ")])],-1),j$={class:"py-4 px-4 border-b border-b-gray-200"},U$={class:"flex items-center"},q$={href:"#",class:"text-gray-600 text-sm font-medium hover:text-blue-500 truncate"},H$={class:"py-4 px-4 border-b border-b-gray-200"},z$={class:"text-[13px] font-medium text-gray-600"},K$={class:"py-4 px-4 border-b border-b-gray-200"},Y$={class:"text-[13px] font-medium text-gray-600"},W$={class:"py-4 px-4 border-b border-b-gray-200"},G$={class:"flex space-x-5"},Q$={class:"text-[13px] font-medium text-gray-600"},X$={class:"py-4 px-4 border-b border-b-gray-200"},J$={class:"flex space-x-5"},Z$={class:"text-[13px] font-medium text-gray-600"},e6={class:"py-4 px-4 border-b border-b-gray-200 flex justify-between"},t6={class:"button-container relative flex flex-row gap-1"},n6=["onClick"],r6=["onClick"],i6=["onClick"],o6={class:"pagination-container flex justify-end mt-4 w-full"},s6=["disabled"],a6=["disabled"],l6={__name:"BlogManagement",emits:["goAddBlog"],setup(t,{emit:e}){const n=pe(!1),r=pe(!1);let i=null;const o=pe(null),s=e;function a(w){n.value=!0,o.value=w,console.log(o.value.created_date),console.log("blog id to edit",w.id)}function l(w){i=w,r.value=!0}const u=Gc(Ei,"blogs"),c=pe([]),d=me(()=>c.value.length),f=pe(324),h=pe(1),m=pe(10),p=pe(""),_=me(()=>p.value?c.value.filter(w=>w.title.toLowerCase().includes(p.value.toLowerCase())):c.value),y=me(()=>(h.value-1)*m.value),v=me(()=>{if(_.value.length===0){const w=y.value,R=w+m.value;return c.value.slice(w,R)}else return _.value.slice(y.value,y.value+m.value)}),b=me(()=>_.value.length===0?Math.ceil(c.value.length/m.value):Math.ceil(_.value.length/m.value)),g=me(()=>{const w={};return c.value.forEach(R=>{w[R.category]?w[R.category]++:w[R.category]=1}),w}),T=()=>{h.value>1&&h.value--},O=()=>{h.value<b.value&&h.value++};async function A(){let w=[];const R=await Xc(u);for(const F of R.docs){let D=F.data();D.id=F.id;const B=Gc(Ei,"blogs",F.id,"comments"),V=[];(await Xc(B)).docs.forEach(W=>{V.push(W.data())}),D.comments=V,w.push(D)}return w=w.map(F=>({...F,created_date:N(F.created_date),updated_date:N(F.updated_date)})),w}async function I(){try{const w=localStorage.getItem("cachedBlogs"),R=localStorage.getItem("cachedTimeBlogs"),F=30*60*1e3;if(w&&R&&new Date-new Date(parseInt(R))<F)return JSON.parse(w);{const D=await A();return localStorage.setItem("cachedBlogs",JSON.stringify(D)),localStorage.setItem("cachedTimeBlogs",new Date().getTime().toString()),D}}catch(w){return console.error("Error getting blogs with comments:",w),[]}}function N(w){return w?w.seconds?new Date(w.seconds*1e3).toLocaleDateString("tr-TR"):typeof w=="string"?w:new Date(w).toLocaleDateString("tr-TR"):""}async function S(){if(r.value=!1,i)try{await V4(ql(Ei,"blogs",i)),c.value=c.value.filter(w=>w.id!==i),localStorage.setItem("cachedBlogs",JSON.stringify(c.value)),console.log(`Blog with ID ${i} deleted successfully.`)}catch(w){console.error("Error deleting blog:",w)}}async function E(w){console.log("Received updated blog data:",w);try{await L4(ql(Ei,"blogs",w.id),w);const R={...w,created_date:N(w.created_date),updated_date:N(w.updated_date)};c.value=c.value.map(F=>F.id===w.id?R:F),localStorage.setItem("cachedBlogs",JSON.stringify(c.value))}catch(R){console.error("Error updating document:",R)}}return xt(async()=>{I().then(w=>{w.sort(D$),c.value=w})}),(w,R)=>(ie(),ce("div",null,[Ye(R5,{show:r.value,onClose:R[0]||(R[0]=F=>r.value=!1),onDelete:S},null,8,["show"]),Ye(p$,{show:n.value,onClose:R[1]||(R[1]=F=>n.value=!1),onUpdateBlog:E,editBlogData:o.value},null,8,["show","editBlogData"]),Ye(C$,{totalBlogs:d.value,totalBlogView:f.value,blogsCategorySummary:g.value},null,8,["totalBlogs","totalBlogView","blogsCategorySummary"]),Ye(JE,{class:"p-6"},{default:He(()=>{var F;return[$("div",N$,[M$,$("button",{onClick:R[2]||(R[2]=D=>s("goAddBlog")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded"}," + Ekle ")]),$("form",L$,[$("div",V$,[Ot($("input",{"onUpdate:modelValue":R[3]||(R[3]=D=>p.value=D),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full shadow-md shadow-black/5 outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Başlığa göre ara..."},null,512),[[Ks,p.value]]),$$])]),(F=c.value)!=null&&F.length?(ie(),ce("table",F$,[B$,$("tbody",null,[(ie(!0),ce(Pe,null,et(v.value,D=>(ie(),ce("tr",{key:D.id},[$("td",j$,[$("div",U$,[$("a",q$,Ce(D.title&&D.title.length>27?D.title.substring(0,27)+"...":D.title||""),1)])]),$("td",H$,[$("span",z$,Ce(D.author||""),1)]),$("td",K$,[$("span",Y$,Ce(D.created_date),1)]),$("td",W$,[$("div",G$,[$("span",Q$,Ce(D.category),1)])]),$("td",X$,[$("div",J$,[$("span",Z$,Ce(D.updated_date),1)])]),$("td",e6,[$("div",t6,[$("button",{onClick:B=>a(D),class:"ri-edit-line text-lg bg-orange-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,n6),$("button",{onClick:B=>w.openURL(D.url),class:"ri-eye-line text-lg bg-green-500 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,r6),$("button",{onClick:B=>l(D.id),id:"delete-blog-modal-button",class:"ri-delete-bin-6-line text-lg bg-red-700 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,i6)])])]))),128))])])):ye("",!0),$("div",o6,[$("button",{onClick:T,disabled:h.value===1,class:"ri-arrow-left-fill h-8 px-4 m-2 text-l text-white transition-colors duration-150 bg-gray-800 rounded-lg focus:shadow-outline hover:bg-indigo-800"},null,8,s6),$("button",{onClick:O,disabled:h.value===b.value,class:"ri-arrow-right-fill h-8 px-4 m-2 text-l text-white transition-colors duration-150 bg-gray-800 rounded-lg focus:shadow-outline hover:bg-indigo-800"},null,8,a6)])]}),_:1})]))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firebasestorage.googleapis.com",fA="storageBucket",u6=2*60*1e3,c6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends _r{constructor(e,n,r=0){super(Vh(e),`Firebase Storage: ${n} (${Vh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lt||(Lt={}));function Vh(t){return"storage/"+t}function Hg(){const t="An unknown error occurred, please check the error payload for server response.";return new $t(Lt.UNKNOWN,t)}function d6(t){return new $t(Lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function f6(t){return new $t(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function h6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t(Lt.UNAUTHENTICATED,t)}function p6(){return new $t(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m6(t){return new $t(Lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function g6(){return new $t(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function v6(){return new $t(Lt.CANCELED,"User canceled the upload/download.")}function y6(t){return new $t(Lt.INVALID_URL,"Invalid URL '"+t+"'.")}function _6(t){return new $t(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function b6(){return new $t(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fA+"' property when initializing the app?")}function w6(){return new $t(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function T6(){return new $t(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function E6(t){return new $t(Lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qp(t){return new $t(Lt.INVALID_ARGUMENT,t)}function hA(){return new $t(Lt.APP_DELETED,"The Firebase app was deleted.")}function A6(t){return new $t(Lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fl(t,e){return new $t(Lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Va(t){throw new $t(Lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sr.makeFromUrl(e,n)}catch{return new sr(e,"")}if(r.path==="")return r;throw _6(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},p=n===dA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",y=new RegExp(`^https?://${p}/${i}/${_}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:h,indices:m,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<b.length;g++){const T=b[g],O=T.regex.exec(e);if(O){const A=O[T.indices.bucket];let I=O[T.indices.path];I||(I=""),r=new sr(A,I),T.postModify(r);break}}if(r==null)throw y6(e);return r}}class k6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(h,l())},_)}function f(){o&&clearTimeout(o)}function h(_,...y){if(u){f();return}if(_){f(),c.call(null,_,...y);return}if(l()||s){f(),c.call(null,_,...y);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let m=!1;function p(_){m||(m=!0,f(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,p(!0)},n),p}function x6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){return t!==void 0}function R6(t){return typeof t=="object"&&!Array.isArray(t)}function zg(t){return typeof t=="string"||t instanceof String}function c0(t){return Kg()&&t instanceof Blob}function Kg(){return typeof Blob<"u"}function d0(t,e,n,r){if(r<e)throw Qp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wo||(Wo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,r,i,o,s,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Zu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Wo.NO_ERROR,l=o.getStatus();if(!a||O6(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Wo.ABORT;r(!1,new Zu(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Zu(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());S6(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Hg();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?hA():v6();s(l)}else{const l=g6();s(l)}};this.canceled_?n(!1,new Zu(!1,null,!0)):this.backoffId_=I6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function C6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function D6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function M6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function L6(t,e,n,r,i,o,s=!0){const a=pA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return N6(u,e),C6(u,n),D6(u,o),M6(u,r),new P6(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $6(...t){const e=V6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Kg())return new Blob(t);throw new $t(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function F6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){if(typeof atob>"u")throw E6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $h{constructor(e,n){this.data=e,this.contentType=n||null}}function j6(t,e){switch(t){case Jr.RAW:return new $h(mA(e));case Jr.BASE64:case Jr.BASE64URL:return new $h(gA(t,e));case Jr.DATA_URL:return new $h(q6(e),H6(e))}throw Hg()}function mA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function U6(t){let e;try{e=decodeURIComponent(t)}catch{throw fl(Jr.DATA_URL,"Malformed data URL.")}return mA(e)}function gA(t,e){switch(t){case Jr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw fl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Jr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw fl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=B6(e)}catch(i){throw i.message.includes("polyfill")?i:fl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class vA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fl(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=z6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function q6(t){const e=new vA(t);return e.base64?gA(Jr.BASE64,e.rest):U6(e.rest)}function H6(t){return new vA(t).contentType}function z6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){let r=0,i="";c0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(c0(this.data_)){const r=this.data_,i=F6(r,e,n);return i===null?null:new eo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new eo(r,!0)}}static getBlob(...e){if(Kg()){const n=e.map(r=>r instanceof eo?r.data_:r);return new eo($6.apply(null,n))}else{const n=e.map(s=>zg(s)?j6(Jr.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new eo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){let e;try{e=JSON.parse(t)}catch{return null}return R6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _A(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t,e){return e}class Bn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||W6}}let ec=null;function G6(t){return!zg(t)||t.length<2?t:_A(t)}function bA(){if(ec)return ec;const t=[];t.push(new Bn("bucket")),t.push(new Bn("generation")),t.push(new Bn("metageneration")),t.push(new Bn("name","fullPath",!0));function e(o,s){return G6(s)}const n=new Bn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Bn("size");return i.xform=r,t.push(i),t.push(new Bn("timeCreated")),t.push(new Bn("updated")),t.push(new Bn("md5Hash",null,!0)),t.push(new Bn("cacheControl",null,!0)),t.push(new Bn("contentDisposition",null,!0)),t.push(new Bn("contentEncoding",null,!0)),t.push(new Bn("contentLanguage",null,!0)),t.push(new Bn("contentType",null,!0)),t.push(new Bn("metadata","customMetadata",!0)),ec=t,ec}function Q6(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new sr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function X6(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Q6(r,t),r}function wA(t,e,n){const r=yA(e);return r===null?null:X6(t,r,n)}function J6(t,e,n,r){const i=yA(e);if(i===null||!zg(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+s(c)+"/o/"+s(d),h=Yg(f,n,r),m=pA({alt:"media",token:u});return h+m})[0]}function Z6(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class TA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){if(!t)throw Hg()}function eF(t,e){function n(r,i){const o=wA(t,i,e);return EA(o!==null),o}return n}function tF(t,e){function n(r,i){const o=wA(t,i,e);return EA(o!==null),J6(o,i,t.host,t._protocol)}return n}function AA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=p6():i=h6():n.getStatus()===402?i=f6(t.bucket):n.getStatus()===403?i=m6(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function nF(t){const e=AA(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=d6(t.path)),o.serverResponse=i.serverResponse,o}return n}function rF(t,e,n){const r=e.fullServerUrl(),i=Yg(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new TA(i,o,tF(t,n),s);return a.errorHandler=nF(e),a}function iF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=iF(null,e)),r}function sF(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=oF(e,r,i),c=Z6(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=eo.getBlob(d,r,f);if(h===null)throw w6();const m={name:u.fullPath},p=Yg(o,t.host,t._protocol),_="POST",y=t.maxUploadRetryTime,v=new TA(p,_,eF(t,n),y);return v.urlParams=m,v.headers=s,v.body=h.uploadData(),v.errorHandler=AA(e),v}class aF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lF extends aF{initXhr(){this.xhr_.responseType="text"}}function kA(){return new lF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this._service=e,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new is(e,n)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _A(this._location.path)}get storage(){return this._service}get parent(){const e=K6(this._location.path);if(e===null)return null;const n=new sr(this._location.bucket,e);return new is(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw A6(e)}}function uF(t,e,n){t._throwIfRoot("uploadBytes");const r=sF(t.storage,t._location,bA(),new eo(e,!0),n);return t.storage.makeRequestWithTokens(r,kA).then(i=>({metadata:i,ref:t}))}function cF(t){t._throwIfRoot("getDownloadURL");const e=rF(t.storage,t._location,bA());return t.storage.makeRequestWithTokens(e,kA).then(n=>{if(n===null)throw T6();return n})}function dF(t,e){const n=Y6(t._location.path,e),r=new sr(t._location.bucket,n);return new is(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){return/^[A-Za-z]+:\/\//.test(t)}function hF(t,e){return new is(t,e)}function IA(t,e){if(t instanceof Wg){const n=t;if(n._bucket==null)throw b6();const r=new is(n,n._bucket);return e!=null?IA(r,e):r}else return e!==void 0?dF(t,e):t}function pF(t,e){if(e&&fF(e)){if(t instanceof Wg)return hF(t,e);throw Qp("To use ref(service, url), the first argument must be a Storage instance.")}else return IA(t,e)}function f0(t,e){const n=e==null?void 0:e[fA];return n==null?null:sr.makeFromBucketSpec(n,t)}function mF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:T1(i,t.app.options.projectId))}class Wg{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=dA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u6,this._maxUploadRetryTime=c6,this._requests=new Set,i!=null?this._bucket=sr.makeFromBucketSpec(i,this._host):this._bucket=f0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=f0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new is(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new k6(hA());{const s=L6(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const h0="@firebase/storage",p0="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="storage";function gF(t,e,n){return t=It(t),uF(t,e,n)}function vF(t){return t=It(t),cF(t)}function yF(t,e){return t=It(t),pF(t,e)}function _F(t=wd(),e){t=It(t);const r=wo(t,xA).getImmediate({identifier:e}),i=_1("storage");return i&&bF(r,...i),r}function bF(t,e,n,r={}){mF(t,e,n,r)}function wF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Wg(n,r,i,e,us)}function TF(){Cr(new yr(xA,wF,"PUBLIC").setMultipleInstances(!0)),Jn(h0,p0,""),Jn(h0,p0,"esm2017")}TF();const EF={key:0,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},AF={class:"bg-white rounded-lg p-4 max-w-sm w-full"},kF={class:"mt-1"},IF={class:"flex justify-end"},xF={class:"relative bg-white rounded-lg shadow border border-gray-200"},SF={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},RF=$("h3",{class:"text-lg font-semibold text-gray-900"},"Yeni Blog Yazısı",-1),OF={class:"grid gap-4 mb-4 grid-cols-2"},PF={class:"col-span-2"},CF=$("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},null,-1),DF={class:"col-span-2 sm:col-span-1"},NF=$("label",{for:"file-input",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Fotoğraf Seç",-1),MF={class:"col-span-2 sm:col-span-1"},LF=$("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kategori",-1),VF=$("option",{value:"Hukuk"},"Hukuk",-1),$F=$("option",{value:"Haberler"},"Haberler",-1),FF=$("option",{value:"Son Dakika"},"Son Dakika",-1),BF=$("option",{value:"Blog Yazısı"},"Blog Yazısı",-1),jF=[VF,$F,FF,BF],UF={class:"col-span-2"},qF=$("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Yazı İçeriği",-1),HF={class:"bg-gray-100"},zF=["disabled"],KF={__name:"AddBlog",emits:["goBlogManagement"],setup(t,{emit:e}){const n=e,r=pe(!1),i=pe(!1),o=pe(""),s=pe(""),a=pe("Blog Yazısı"),l=pe(null),u=pe(null),c=pe(null),d=h=>{const m=h.target.files[0];m&&m.type==="image/jpeg"?(u.value=m,c.value=m.name):(c.value=null,console.error("Please select a JPEG file."))},f=async()=>{if(r.value=!0,i.value=!0,!u.value){console.error("Please select an image file.");return}const h=_F(),m=yF(h,`images/${u.value.name}`);try{console.log("Uploading file..."),await gF(m,u.value);const p=await vF(m);console.log("File uploaded:",p);const _={author:"admin",created_date:new Date,updated_date:new Date,url:"https://konect-software-solutions.github.io/tiryaki-hukuk-web-project/blog-single.html",title:o.value,image:p,content:s.value,category:a.value};console.log("Adding blog post:",_),o.value="",s.value="",a.value="Blog Yazısı",u.value=null,c.value=null}catch(p){console.error("Error uploading file or saving blog post:",p)}finally{r.value=!1}};return(h,m)=>(ie(),ce("div",null,[i.value?(ie(),ce("div",EF,[$("div",AF,[$("div",kF,[r.value?(ie(),ze(XE,{key:0,text:"Blog Yazısı Yükleniyor..."})):ye("",!0),Tn(" "+Ce(r.value?"":"Blog yazısı yüklendi."),1)]),$("div",IF,[r.value?ye("",!0):(ie(),ce("button",{key:0,onClick:m[0]||(m[0]=p=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dön "))])])])):ye("",!0),$("div",xF,[$("div",SF,[RF,$("button",{onClick:m[1]||(m[1]=p=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dön ")]),$("form",{onSubmit:ai(f,["prevent"]),class:"p-4 md:p-5"},[$("div",OF,[$("div",PF,[CF,Ot($("input",{"onUpdate:modelValue":m[2]||(m[2]=p=>o.value=p),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[Ks,o.value]])]),$("div",DF,[NF,$("input",{type:"file",id:"file_input",ref_key:"fileInput",ref:l,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",accept:"image/jpeg",onChange:d,required:""},null,544)]),$("div",MF,[LF,Ot($("select",{"onUpdate:modelValue":m[3]||(m[3]=p=>a.value=p),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},jF,512),[[Ys,a.value]])]),$("div",UF,[qF,$("div",HF,[Ye(ae(cA),{content:s.value,"onUpdate:content":m[4]||(m[4]=p=>s.value=p),contentType:"html",toolbar:"essential",theme:"snow",class:"h-[30rem]",required:""},null,8,["content"])])])]),$("button",{type:"submit",disabled:r.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-600"}," Blog Yazısı Ekle ",8,zF)],32)])]))}},YF={__name:"Blogs",setup(t){const e=pe(!0);return(n,r)=>e.value?(ie(),ze(l6,{key:0,onGoAddBlog:r[0]||(r[0]=i=>e.value=!1)})):(ie(),ze(KF,{key:1,onGoBlogManagement:r[1]||(r[1]=i=>e.value=!0)}))}},WF={};function GF(t,e){return ie(),ce("h3",null,"Empty tab")}const QF=ci(WF,[["render",GF]]),XF={class:"flex bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},JF={class:"max-w mx-auto bg-white rounded-lg shadow-md p-4"},ZF={class:"flex items-center mb-3 w-[54rem] p-2"},eB={class:"w-24"},tB={class:"flex-grow flex justify-between items-center"},nB={class:"relative w-[36rem] h-10 bg-gray-200 rounded-lg grid grid-cols-12"},rB={class:"text-white text-[0.875rem]"},iB=Gl('<div class="flex items-center mb-3 w-[54rem] p-2"><span class="w-24">Salı</span><div class="flex-grow flex justify-between items-center"><div class="relative w-[36rem] h-10 bg-gray-200 rounded-lg grid grid-cols-24"><div class="col-start-2 bg-blue-500 rounded-lg flex items-center justify-center w-[15rem]"><span class="text-white text-[0.875rem]">07:00 - 12:00</span></div><div class="col-start-8 bg-blue-500 rounded-lg flex items-center justify-center w-[6rem]"><span class="text-white text-[0.875rem]">13:00 - 15:00</span></div></div></div></div>',1),oB={__name:"PeriodicSchedule",props:{schedule:Object,exceptions:Array},setup(t){const e=i=>`${i*3}rem`,n=i=>{const[o,s]=i.split(":"),a=(parseInt(o)-6)*2+(parseInt(s)===30?1:0)+1;return console.log(`col-start-${a}`),`col-start-${a}`},r=t;return Tb(()=>{console.log("Updated"),console.log(r.schedule),console.log(r.exceptions),console.log("test 1 for 07:00 ",n("07:00")),console.log("test 1 for 13:00 ",n("13:00"))}),(i,o)=>(ie(),ce("div",XF,[$("div",JF,[(ie(!0),ce(Pe,null,et(t.schedule.days,(s,a)=>(ie(),ce("div",{key:a},[$("div",ZF,[$("span",eB,Ce(s.name),1),$("div",tB,[$("div",nB,[(ie(!0),ce(Pe,null,et(s.intervals,(l,u)=>(ie(),ce("div",{key:u,class:Xe(["bg-blue-500 rounded-lg flex items-center justify-center",n(l.start)]),style:en({width:e(l.length)})},[$("span",rB,Ce(l.start)+" - "+Ce(l.end),1)],6))),128))])])])]))),128)),iB])]))}};function Le(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ft(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Er(t,e){const n=Le(t);return isNaN(e)?ft(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Rr(t,e){const n=Le(t);if(isNaN(e))return ft(t,NaN);if(!e)return n;const r=n.getDate(),i=ft(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function SA(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,u=Le(t),c=r||n?Rr(u,r+n*12):u,d=o||i?Er(c,o+i*7):c,f=a+s*60,m=(l+f*60)*1e3;return ft(t,d.getTime()+m)}function sB(t,e){const n=+Le(t);return ft(t,n+e)}const RA=6048e5,aB=864e5,lB=6e4,OA=36e5,uB=1e3;function cB(t,e){return sB(t,e*OA)}let dB={};function ms(){return dB}function Mr(t,e){var a,l,u,c;const n=ms(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Le(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function oa(t){return Mr(t,{weekStartsOn:1})}function PA(t){const e=Le(t),n=e.getFullYear(),r=ft(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=oa(r),o=ft(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=oa(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function m0(t){const e=Le(t);return e.setHours(0,0,0,0),e}function ed(t){const e=Le(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function CA(t,e){const n=m0(t),r=m0(e),i=+n-ed(n),o=+r-ed(r);return Math.round((i-o)/aB)}function fB(t){const e=PA(t),n=ft(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),oa(n)}function hB(t,e){const n=e*3;return Rr(t,n)}function Gg(t,e){return Rr(t,e*12)}function g0(t,e){const n=Le(t),r=Le(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function DA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hl(t){if(!DA(t)&&typeof t!="number")return!1;const e=Le(t);return!isNaN(Number(e))}function v0(t){const e=Le(t);return Math.trunc(e.getMonth()/3)+1}function pB(t,e){const n=Le(t),r=Le(e);return n.getFullYear()-r.getFullYear()}function mB(t,e){const n=Le(t),r=Le(e),i=g0(n,r),o=Math.abs(pB(n,r));n.setFullYear(1584),r.setFullYear(1584);const s=g0(n,r)===-i,a=i*(o-+s);return a===0?0:a}function NA(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const o=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let a=1;const l=[];for(;+s<=o;)l.push(Le(s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return i?l.reverse():l}function Ho(t){const e=Le(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function gB(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const o=i?+Ho(n):+Ho(r);let s=Ho(i?r:n),a=1;const l=[];for(;+s<=o;)l.push(Le(s)),s=hB(s,a);return i?l.reverse():l}function vB(t){const e=Le(t);return e.setDate(1),e.setHours(0,0,0,0),e}function MA(t){const e=Le(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Qg(t){const e=Le(t),n=ft(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function LA(t,e){var a,l,u,c;const n=ms(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Le(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function y0(t){const e=Le(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const yB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_B=(t,e,n)=>{let r;const i=yB[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Fh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const bB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EB={date:Fh({formats:bB,defaultWidth:"full"}),time:Fh({formats:wB,defaultWidth:"full"}),dateTime:Fh({formats:TB,defaultWidth:"full"})},AB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kB=(t,e,n,r)=>AB[t];function $a(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const IB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CB=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},DB={ordinalNumber:CB,era:$a({values:IB,defaultWidth:"wide"}),quarter:$a({values:xB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$a({values:SB,defaultWidth:"wide"}),day:$a({values:RB,defaultWidth:"wide"}),dayPeriod:$a({values:OB,defaultWidth:"wide",formattingValues:PB,defaultFormattingWidth:"wide"})};function Fa(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?MB(a,d=>d.test(s)):NB(a,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function NB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function MB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function LB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const VB=/^(\d+)(th|st|nd|rd)?/i,$B=/\d+/i,FB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BB={any:[/^b/i,/^(a|c)/i]},jB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UB={any:[/1/i,/2/i,/3/i,/4/i]},qB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GB={ordinalNumber:LB({matchPattern:VB,parsePattern:$B,valueCallback:t=>parseInt(t,10)}),era:Fa({matchPatterns:FB,defaultMatchWidth:"wide",parsePatterns:BB,defaultParseWidth:"any"}),quarter:Fa({matchPatterns:jB,defaultMatchWidth:"wide",parsePatterns:UB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fa({matchPatterns:qB,defaultMatchWidth:"wide",parsePatterns:HB,defaultParseWidth:"any"}),day:Fa({matchPatterns:zB,defaultMatchWidth:"wide",parsePatterns:KB,defaultParseWidth:"any"}),dayPeriod:Fa({matchPatterns:YB,defaultMatchWidth:"any",parsePatterns:WB,defaultParseWidth:"any"})},VA={code:"en-US",formatDistance:_B,formatLong:EB,formatRelative:kB,localize:DB,match:GB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QB(t){const e=Le(t);return CA(e,Qg(e))+1}function Xg(t){const e=Le(t),n=+oa(e)-+fB(e);return Math.round(n/RA)+1}function Jg(t,e){var c,d,f,h;const n=Le(t),r=n.getFullYear(),i=ms(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=ft(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Mr(s,e),l=ft(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Mr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function XB(t,e){var a,l,u,c;const n=ms(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=Jg(t,e),o=ft(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Mr(o,e)}function Zg(t,e){const n=Le(t),r=+Mr(n,e)-+XB(n,e);return Math.round(r/RA)+1}function gt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ui={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return gt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):gt(n+1,2)},d(t,e){return gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return gt(t.getHours()%12||12,e.length)},H(t,e){return gt(t.getHours(),e.length)},m(t,e){return gt(t.getMinutes(),e.length)},s(t,e){return gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return gt(i,e.length)}},As={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ui.y(t,e)},Y:function(t,e,n,r){const i=Jg(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return gt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):gt(o,e.length)},R:function(t,e){const n=PA(t);return gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return gt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ui.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Zg(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):gt(i,e.length)},I:function(t,e,n){const r=Xg(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ui.d(t,e)},D:function(t,e,n){const r=QB(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return gt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return gt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=As.noon:r===0?i=As.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=As.evening:r>=12?i=As.afternoon:r>=4?i=As.morning:i=As.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ui.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ui.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ui.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ui.s(t,e)},S:function(t,e){return Ui.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return w0(r);case"XXXX":case"XX":return Mo(r);case"XXXXX":case"XXX":default:return Mo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return w0(r);case"xxxx":case"xx":return Mo(r);case"xxxxx":case"xxx":default:return Mo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+b0(r,":");case"OOOO":default:return"GMT"+Mo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+b0(r,":");case"zzzz":default:return"GMT"+Mo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return gt(r,e.length)},T:function(t,e,n){const r=t.getTime();return gt(r,e.length)}};function b0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+gt(o,2)}function w0(t,e){return t%60===0?(t>0?"-":"+")+gt(Math.abs(t)/60,2):Mo(t,e)}function Mo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=gt(Math.trunc(r/60),2),o=gt(r%60,2);return n+i+e+o}const T0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$A=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},JB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return T0(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",T0(r,e)).replace("{{time}}",$A(i,e))},Xp={p:$A,P:JB},ZB=/^D+$/,ej=/^Y+$/,tj=["D","DD","YY","YYYY"];function FA(t){return ZB.test(t)}function BA(t){return ej.test(t)}function Jp(t,e,n){const r=nj(t,e,n);if(console.warn(r),tj.includes(t))throw new RangeError(r)}function nj(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ij=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oj=/^'([^]*?)'?$/,sj=/''/g,aj=/[a-zA-Z]/;function Or(t,e,n){var c,d,f,h,m,p,_,y;const r=ms(),i=(n==null?void 0:n.locale)??r.locale??VA,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(_=r.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??0,a=Le(t);if(!hl(a))throw new RangeError("Invalid time value");let l=e.match(ij).map(v=>{const b=v[0];if(b==="p"||b==="P"){const g=Xp[b];return g(v,i.formatLong)}return v}).join("").match(rj).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:lj(v)};if(_0[b])return{isToken:!0,value:v};if(b.match(aj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&BA(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&FA(b))&&Jp(b,e,String(t));const g=_0[b[0]];return g(a,b,i.localize,u)}).join("")}function lj(t){const e=t.match(oj);return e?e[1].replace(sj,"'"):t}function uj(t){return Le(t).getDay()}function cj(t){const e=Le(t),n=e.getFullYear(),r=e.getMonth(),i=ft(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function dj(){return Object.assign({},ms())}function Di(t){return Le(t).getHours()}function fj(t){let n=Le(t).getDay();return n===0&&(n=7),n}function yo(t){return Le(t).getMinutes()}function nt(t){return Le(t).getMonth()}function sa(t){return Le(t).getSeconds()}function Ze(t){return Le(t).getFullYear()}function aa(t,e){const n=Le(t),r=Le(e);return n.getTime()>r.getTime()}function zl(t,e){const n=Le(t),r=Le(e);return+n<+r}function Ns(t,e){const n=Le(t),r=Le(e);return+n==+r}function hj(t,e){const n=e instanceof Date?ft(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const pj=10;class jA{constructor(){Re(this,"subPriority",0)}validate(e,n){return!0}}class mj extends jA{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class gj extends jA{constructor(){super(...arguments);Re(this,"priority",pj);Re(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ft(n,hj(n,Date))}}class ht{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new mj(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class vj extends ht{constructor(){super(...arguments);Re(this,"priority",140);Re(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ut={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Yr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Rt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Wr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*OA+o*lB+s*uB),rest:e.slice(n[0].length)}}function UA(t){return Rt(Ut.anyDigitsSigned,t)}function Vt(t,e){switch(t){case 1:return Rt(Ut.singleDigit,e);case 2:return Rt(Ut.twoDigits,e);case 3:return Rt(Ut.threeDigits,e);case 4:return Rt(Ut.fourDigits,e);default:return Rt(new RegExp("^\\d{1,"+t+"}"),e)}}function td(t,e){switch(t){case 1:return Rt(Ut.singleDigitSigned,e);case 2:return Rt(Ut.twoDigitsSigned,e);case 3:return Rt(Ut.threeDigitsSigned,e);case 4:return Rt(Ut.fourDigitsSigned,e);default:return Rt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ev(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function qA(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function HA(t){return t%400===0||t%4===0&&t%100!==0}class yj extends ht{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return qt(Vt(4,n),o);case"yo":return qt(i.ordinalNumber(n,{unit:"year"}),o);default:return qt(Vt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=qA(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class _j extends ht{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return qt(Vt(4,n),o);case"Yo":return qt(i.ordinalNumber(n,{unit:"year"}),o);default:return qt(Vt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=Jg(n,o);if(i.isTwoDigitYear){const l=qA(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Mr(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Mr(n,o)}}class bj extends ht{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return td(r==="R"?4:r.length,n)}set(n,r,i){const o=ft(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),oa(o)}}class wj extends ht{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return td(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Tj extends ht{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Vt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Ej extends ht{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Vt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Aj extends ht{constructor(){super(...arguments);Re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Re(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return qt(Rt(Ut.month,n),o);case"MM":return qt(Vt(2,n),o);case"Mo":return qt(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class kj extends ht{constructor(){super(...arguments);Re(this,"priority",110);Re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return qt(Rt(Ut.month,n),o);case"LL":return qt(Vt(2,n),o);case"Lo":return qt(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Ij(t,e,n){const r=Le(t),i=Zg(r,n)-e;return r.setDate(r.getDate()-i*7),r}class xj extends ht{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Rt(Ut.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return Mr(Ij(n,i,o),o)}}function Sj(t,e){const n=Le(t),r=Xg(n)-e;return n.setDate(n.getDate()-r*7),n}class Rj extends ht{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Rt(Ut.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return oa(Sj(n,i))}}const Oj=[31,28,31,30,31,30,31,31,30,31,30,31],Pj=[31,29,31,30,31,30,31,31,30,31,30,31];class Cj extends ht{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subPriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Rt(Ut.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Vt(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=HA(i),s=n.getMonth();return o?r>=1&&r<=Pj[s]:r>=1&&r<=Oj[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Dj extends ht{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subpriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Rt(Ut.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Vt(r.length,n)}}validate(n,r){const i=n.getFullYear();return HA(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function tv(t,e,n){var d,f,h,m;const r=ms(),i=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,o=Le(t),s=o.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(s+u)%7:(l+u)%7-(s+u)%7;return Er(o,c)}class Nj extends ht{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=tv(n,i,o),n.setHours(0,0,0,0),n}}class Mj extends ht{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return qt(Vt(r.length,n),s);case"eo":return qt(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=tv(n,i,o),n.setHours(0,0,0,0),n}}class Lj extends ht{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return qt(Vt(r.length,n),s);case"co":return qt(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=tv(n,i,o),n.setHours(0,0,0,0),n}}function Vj(t,e){const n=Le(t),r=fj(n),i=e-r;return Er(n,i)}class $j extends ht{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return Vt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return qt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return qt(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return qt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return qt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=Vj(n,i),n.setHours(0,0,0,0),n}}class Fj extends ht{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(ev(i),0,0,0),n}}class Bj extends ht{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(ev(i),0,0,0),n}}class jj extends ht{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(ev(i),0,0,0),n}}class Uj extends ht{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Rt(Ut.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class qj extends ht{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Rt(Ut.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Hj extends ht{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Rt(Ut.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class zj extends ht{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Rt(Ut.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Vt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class Kj extends ht{constructor(){super(...arguments);Re(this,"priority",60);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Rt(Ut.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Yj extends ht{constructor(){super(...arguments);Re(this,"priority",50);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Rt(Ut.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class Wj extends ht{constructor(){super(...arguments);Re(this,"priority",30);Re(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return qt(Vt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Gj extends ht{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Wr(Yr.basicOptionalMinutes,n);case"XX":return Wr(Yr.basic,n);case"XXXX":return Wr(Yr.basicOptionalSeconds,n);case"XXXXX":return Wr(Yr.extendedOptionalSeconds,n);case"XXX":default:return Wr(Yr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ft(n,n.getTime()-ed(n)-i)}}class Qj extends ht{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Wr(Yr.basicOptionalMinutes,n);case"xx":return Wr(Yr.basic,n);case"xxxx":return Wr(Yr.basicOptionalSeconds,n);case"xxxxx":return Wr(Yr.extendedOptionalSeconds,n);case"xxx":default:return Wr(Yr.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ft(n,n.getTime()-ed(n)-i)}}class Xj extends ht{constructor(){super(...arguments);Re(this,"priority",40);Re(this,"incompatibleTokens","*")}parse(n){return UA(n)}set(n,r,i){return[ft(n,i*1e3),{timestampIsSet:!0}]}}class Jj extends ht{constructor(){super(...arguments);Re(this,"priority",20);Re(this,"incompatibleTokens","*")}parse(n){return UA(n)}set(n,r,i){return[ft(n,i),{timestampIsSet:!0}]}}const Zj={G:new vj,y:new yj,Y:new _j,R:new bj,u:new wj,Q:new Tj,q:new Ej,M:new Aj,L:new kj,w:new xj,I:new Rj,d:new Cj,D:new Dj,E:new Nj,e:new Mj,c:new Lj,i:new $j,a:new Fj,b:new Bj,B:new jj,h:new Uj,H:new qj,K:new Hj,k:new zj,m:new Kj,s:new Yj,S:new Wj,X:new Gj,x:new Qj,t:new Xj,T:new Jj},eU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nU=/^'([^]*?)'?$/,rU=/''/g,iU=/\S/,oU=/[a-zA-Z]/;function Zp(t,e,n,r){var p,_,y,v,b,g,T,O;const i=dj(),o=(r==null?void 0:r.locale)??i.locale??VA,s=(r==null?void 0:r.firstWeekContainsDate)??((_=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(y=i.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((O=(T=i.locale)==null?void 0:T.options)==null?void 0:O.weekStartsOn)??0;if(e==="")return t===""?Le(n):ft(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},u=[new gj],c=e.match(tU).map(A=>{const I=A[0];if(I in Xp){const N=Xp[I];return N(A,o.formatLong)}return A}).join("").match(eU),d=[];for(let A of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&BA(A)&&Jp(A,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&FA(A)&&Jp(A,e,t);const I=A[0],N=Zj[I];if(N){const{incompatibleTokens:S}=N;if(Array.isArray(S)){const w=d.find(R=>S.includes(R.token)||R.token===I);if(w)throw new RangeError(`The format string mustn't contain \`${w.fullToken}\` and \`${A}\` at the same time`)}else if(N.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);d.push({token:I,fullToken:A});const E=N.run(t,A,o.match,l);if(!E)return ft(n,NaN);u.push(E.setter),t=E.rest}else{if(I.match(oU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(A==="''"?A="'":I==="'"&&(A=sU(A)),t.indexOf(A)===0)t=t.slice(A.length);else return ft(n,NaN)}}if(t.length>0&&iU.test(t))return ft(n,NaN);const f=u.map(A=>A.priority).sort((A,I)=>I-A).filter((A,I,N)=>N.indexOf(A)===I).map(A=>u.filter(I=>I.priority===A).sort((I,N)=>N.subPriority-I.subPriority)).map(A=>A[0]);let h=Le(n);if(isNaN(h.getTime()))return ft(n,NaN);const m={};for(const A of f){if(!A.validate(h,l))return ft(n,NaN);const I=A.set(h,m,l);Array.isArray(I)?(h=I[0],Object.assign(m,I[1])):h=I}return ft(n,h)}function sU(t){return t.match(nU)[1].replace(rU,"'")}function E0(t,e){const n=Ho(t),r=Ho(e);return+n==+r}function aU(t,e){return Er(t,-e)}function zA(t,e){const n=Le(t),r=n.getFullYear(),i=n.getDate(),o=ft(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=cj(o);return n.setMonth(e,Math.min(i,s)),n}function bt(t,e){let n=Le(t);return isNaN(+n)?ft(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=zA(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function lU(t,e){const n=Le(t);return n.setHours(e),n}function KA(t,e){const n=Le(t);return n.setMilliseconds(e),n}function uU(t,e){const n=Le(t);return n.setMinutes(e),n}function YA(t,e){const n=Le(t);return n.setSeconds(e),n}function Zr(t,e){const n=Le(t);return isNaN(+n)?ft(t,NaN):(n.setFullYear(e),n)}function la(t,e){return Rr(t,-e)}function cU(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,u=la(t,r+n*12),c=aU(u,o+i*7),d=a+s*60,h=(l+d*60)*1e3;return ft(t,c.getTime()-h)}function WA(t,e){return Gg(t,-e)}function Ta(){return ie(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),$("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),$("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),$("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ta.compatConfig={MODE:3};function GA(){return ie(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),$("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}GA.compatConfig={MODE:3};function nv(){return ie(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}nv.compatConfig={MODE:3};function rv(){return ie(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}rv.compatConfig={MODE:3};function iv(){return ie(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),$("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}iv.compatConfig={MODE:3};function ov(){return ie(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ov.compatConfig={MODE:3};function sv(){return ie(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[$("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}sv.compatConfig={MODE:3};const oi=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),av=(t,e,n)=>em(t,e,n)||Te(),dU=(t,e,n)=>{const r=e.dateInTz?oi(new Date(t),e.dateInTz):Te(t);return n?zn(r,!0):r},em=(t,e,n)=>{if(!t)return null;const r=n?zn(Te(t),!0):Te(t);return e?e.exactMatch?dU(t,e,n):oi(r,e.timezone):r},fU=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Tr=(t=>(t.month="month",t.year="year",t))(Tr||{}),Lo=(t=>(t.top="top",t.bottom="bottom",t))(Lo||{}),Go=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Go||{}),On=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(On||{});const hU=["timestamp","date","iso"];var Un=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Un||{}),St=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(St||{});function A0(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function pU(t){return e=>Or(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const mU=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(pU(t))}catch{i=r.map(A0(e))}else i=r.map(A0(e));const o=i.slice(0,n),s=i.slice(n+1,i.length);return[i[n]].concat(...s).concat(...o)},lv=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:ZA(i,e)});return n?r.reverse():r},QA=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const s=o<10?`0${o}`:o;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const o=n==="long"?"MMMM":"MMM";return r.map((s,a)=>{const l=Or(oi(s,"UTC"),o,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((o,s)=>{const a=i.format(o);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:s}})},gU=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Zt=t=>{const e=ae(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},vU=t=>({type:"dot",...t??{}}),XA=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,uv={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},on=t=>t,k0=t=>t===0?t:!t||isNaN(+t)?null:+t,I0=t=>t===null,JA=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},yU=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Kl=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const o=+n,s=+e;return r&&i?+t>o||+t<s:r?+t>o:i?+t<s:!1},ua=(t,e)=>yU(t).map(n=>n.map(r=>{const{active:i,disabled:o,isBetween:s,highlighted:a}=e(r);return{...r,active:i,disabled:o,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:o,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:o&&i,dp__cell_in_between:s,"dp--highlighted":a}}})),uo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},_U=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function bU(t,e){let n=[...document.querySelectorAll(_U())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const wU=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),ZA=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),cv=t=>Or(t,"dd-MM-yyyy"),Bh=t=>Array.isArray(t),nd=(t,e)=>e.get(cv(t)),TU=(t,e)=>t?e?e instanceof Map?!!nd(t,e):e(Te(t)):!1:!0,Xn=(t,e,n=!1)=>{if(t.key===St.enter||t.key===St.space)return n&&t.preventDefault(),e()},x0=(t,e,n,r,i,o)=>{const s=Zp(t,e.slice(0,t.length),new Date,{locale:o});return hl(s)&&DA(s)?r||i?s:bt(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},EU=(t,e,n,r,i,o)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return x0(t,e,s,r,i,o);if(Array.isArray(e)){let a=null;for(const l of e)if(a=x0(t,l,s,r,i,o),a)break;return a}return typeof e=="function"?e(t):null},Te=t=>t?new Date(t):new Date,AU=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${o}T${s}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},zn=(t,e)=>{const n=Te(JSON.parse(JSON.stringify(t))),r=bt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?vB(r):r},co=(t,e,n,r)=>{let i=t?Te(t):Te();return(e||e===0)&&(i=lU(i,+e)),(n||n===0)&&(i=uU(i,+n)),(r||r===0)&&(i=YA(i,+r)),KA(i,0)},Nt=(t,e)=>!t||!e?!1:zl(zn(t),zn(e)),rt=(t,e)=>!t||!e?!1:Ns(zn(t),zn(e)),jt=(t,e)=>!t||!e?!1:aa(zn(t),zn(e)),cf=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?jt(n,t[0])&&Nt(n,t[1]):t!=null&&t[0]&&e?jt(n,t[0])&&Nt(n,e)||Nt(n,t[0])&&jt(n,e):!1,Ar=t=>{const e=bt(new Date(t),{date:1});return zn(e)},jh=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Qo=t=>({hours:Di(t),minutes:yo(t),seconds:sa(t)}),ek=(t,e)=>{if(e){const n=Ze(Te(e));if(n>t)return 12;if(n===t)return nt(Te(e))}},tk=(t,e)=>{if(e){const n=Ze(Te(e));return n<t?-1:n===t?nt(Te(e)):void 0}},ca=t=>{if(t)return Ze(Te(t))},nk=(t,e)=>{const n=jt(t,e)?e:t,r=jt(e,t)?e:t;return NA({start:n,end:r})},kU=t=>{const e=Rr(t,1);return{month:nt(e),year:Ze(e)}},vi=(t,e)=>{const n=Mr(t,{weekStartsOn:+e}),r=LA(t,{weekStartsOn:+e});return[n,r]},rk=(t,e)=>{const n={hours:Di(Te()),minutes:yo(Te()),seconds:e?sa(Te()):0};return Object.assign(n,t)},no=(t,e,n)=>[bt(Te(t),{date:1}),bt(Te(),{month:e,year:n,date:1})],Ai=(t,e,n)=>{let r=t?Te(t):Te();return(e||e===0)&&(r=zA(r,e)),n&&(r=Zr(r,n)),r},ik=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const o=i?Rr(t,1):la(t,1),s=[nt(o),Ze(o)];return i?!xU(...s,e):!IU(...s,n)},IU=(t,e,n)=>Nt(...no(n,t,e))||rt(...no(n,t,e)),xU=(t,e,n)=>jt(...no(n,t,e))||rt(...no(n,t,e)),ok=(t,e,n,r,i,o,s)=>{if(typeof e=="function"&&!s)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Or(t[0],o,a)}${i&&!t[1]?"":r}${t[1]?Or(t[1],o,a):""}`:Or(t,o,a)},ks=t=>{if(t)return null;throw new Error(uv.prop("partial-range"))},tc=(t,e)=>{if(e)return t();throw new Error(uv.prop("range"))},tm=t=>Array.isArray(t)?hl(t[0])&&(t[1]?hl(t[1]):!0):t?hl(t):!1,SU=(t,e)=>bt(e??Te(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Uh=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?zl(t,e):aa(t,e),o={seconds:0,milliseconds:0};return i||Ns(bt(t,o),bt(e,o))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},qh=(t,e,n)=>t?SU(t,e):Te(n??e),S0=(t,e,n,r,i)=>{if(Array.isArray(r)){const s=qh(t,r[0],e),a=qh(t,r[1],e);return Uh(r[0],s,n,!!e)&&Uh(r[1],a,n,!!e)&&i}const o=qh(t,r,e);return Uh(r,o,n,!!e)&&i},Hh=t=>bt(Te(),Qo(t)),RU=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>Ze(Te(n))===e).map(n=>nt(n)):[],sk=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),dv=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),ak=t=>Or(t,"yyyy-MM-dd"),Ba=vr({menuFocused:!1,shiftKeyInMenu:!1}),lk=()=>{const t=n=>{Ba.menuFocused=n},e=n=>{Ba.shiftKeyInMenu!==n&&(Ba.shiftKeyInMenu=n)};return{control:me(()=>({shiftKeyInMenu:Ba.shiftKeyInMenu,menuFocused:Ba.menuFocused})),setMenuFocused:t,setShiftKey:e}},Tt=vr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),zh=pe(null),nc=pe(!1),Kh=pe(!1),Yh=pe(!1),Wh=pe(!1),Sn=pe(0),Bt=pe(0),ko=()=>{const t=me(()=>nc.value?[...Tt.selectionGrid,Tt.actionRow].filter(d=>d.length):Kh.value?[...Tt.timePicker[0],...Tt.timePicker[1],Wh.value?[]:[zh.value],Tt.actionRow].filter(d=>d.length):Yh.value?[...Tt.monthPicker,Tt.actionRow]:[Tt.monthYear,...Tt.calendar,Tt.time,Tt.actionRow].filter(d=>d.length)),e=d=>{Sn.value=d?Sn.value+1:Sn.value-1;let f=null;t.value[Bt.value]&&(f=t.value[Bt.value][Sn.value]),!f&&t.value[Bt.value+(d?1:-1)]?(Bt.value=Bt.value+(d?1:-1),Sn.value=d?0:t.value[Bt.value].length-1):f||(Sn.value=d?Sn.value-1:Sn.value+1)},n=d=>{Bt.value===0&&!d||Bt.value===t.value.length&&d||(Bt.value=d?Bt.value+1:Bt.value-1,t.value[Bt.value]?t.value[Bt.value]&&!t.value[Bt.value][Sn.value]&&Sn.value!==0&&(Sn.value=t.value[Bt.value].length-1):Bt.value=d?Bt.value-1:Bt.value+1)},r=d=>{let f=null;t.value[Bt.value]&&(f=t.value[Bt.value][Sn.value]),f?f.focus({preventScroll:!nc.value}):Sn.value=d?Sn.value-1:Sn.value+1},i=()=>{e(!0),r(!0)},o=()=>{e(!1),r(!1)},s=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{Tt[f]=d},u=(d,f)=>{Tt[f]=d},c=()=>{Sn.value=0,Bt.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{zh.value=d},setSelectionGrid:d=>{nc.value=d,c(),d||(Tt.selectionGrid=[])},setTimePicker:(d,f=!1)=>{Kh.value=d,Wh.value=f,c(),d||(Tt.timePicker[0]=[],Tt.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{Tt.timePicker[f]=d},arrowRight:i,arrowLeft:o,arrowUp:s,arrowDown:a,clearArrowNav:()=>{Tt.monthYear=[],Tt.calendar=[],Tt.time=[],Tt.actionRow=[],Tt.selectionGrid=[],Tt.timePicker[0]=[],Tt.timePicker[1]=[],nc.value=!1,Kh.value=!1,Wh.value=!1,Yh.value=!1,c(),zh.value=null},setMonthPicker:d=>{Yh.value=d,c()},refSets:Tt}},R0=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),OU=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),O0=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,PU=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:O0(!1)};const r=e?t:{},i=e?r.count??!0:t,o=O0(i);return Object.assign(n,r,{count:o})},CU=(t,e,n)=>t||(typeof n=="string"?n:e),DU=t=>typeof t=="boolean"?t?R0({}):!1:R0(t),NU=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},MU=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),LU=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),VU=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},$U=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),FU=t=>{const e={dates:Array.isArray(t)?t.map(n=>Te(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},BU=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},jU=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},UU=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Gh=(t,e,n)=>new Map(t.map(r=>{const i=av(r,e,n);return[cv(i),i]})),qU=(t,e)=>t.length?new Map(t.map(n=>{const r=av(n.date,e);return[cv(r),n]})):null,HU=t=>{var e;return{minDate:em(t.minDate,t.timezone,t.isSpecific),maxDate:em(t.maxDate,t.timezone,t.isSpecific),disabledDates:Bh(t.disabledDates)?Gh(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Bh(t.allowedDates)?Gh(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Bh((e=t.highlight)==null?void 0:e.dates)?Gh(t.highlight.dates,t.timezone):t.highlight,markers:qU(t.markers,t.timezone)}},zU=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Dt=t=>{const e=()=>{const T=t.enableSeconds?":ss":"",O=t.enableMinutes?":mm":"";return t.is24?`HH${O}${T}`:`hh${O}${T} aa`},n=()=>{var T;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((T=_.value)==null?void 0:T.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=T=>rk(T,t.enableSeconds),i=()=>g.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,o=me(()=>PU(t.multiCalendars)),s=me(()=>i()),a=me(()=>OU(t.ariaLabels)),l=me(()=>MU(t.filters)),u=me(()=>DU(t.transitions)),c=me(()=>LU(t.actionRow)),d=me(()=>CU(t.previewFormat,t.format,n())),f=me(()=>NU(t.textInput)),h=me(()=>VU(t.inline)),m=me(()=>$U(t.config)),p=me(()=>FU(t.highlight)),_=me(()=>BU(t.weekNumbers)),y=me(()=>UU(t.timezone,t.emitTimezone)),v=me(()=>zU(t.multiDates,t.multiDatesLimit)),b=me(()=>HU({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:p.value,markers:t.markers,timezone:y.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),g=me(()=>jU(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:u,defaultedMultiCalendars:o,defaultedStartTime:s,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:m,defaultedHighlight:p,defaultedWeekNumbers:_,defaultedRange:g,propDates:b,defaultedTz:y,defaultedMultiDates:v,getDefaultPattern:n,getDefaultStartTime:i}},KU=(t,e,n)=>{const r=pe(),{defaultedTextInput:i,defaultedRange:o,defaultedTz:s,defaultedMultiDates:a,getDefaultPattern:l}=Dt(e),u=pe(""),c=vl(e,"format"),d=vl(e,"formatLocale");Wt(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,j(!0))},{deep:!0}),Wt(o,(P,X)=>{P.enabled!==X.enabled&&(r.value=null)}),Wt(c,()=>{ee()});const f=P=>s.value.timezone&&s.value.convertModel?oi(P,s.value.timezone):P,h=P=>{if(s.value.timezone&&s.value.convertModel){const X=fU(s.value.timezone);return cB(P,X)}return P},m=(P,X,z=!1)=>ok(P,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,X??l(),z),p=P=>P?e.modelType?U(P):{hours:Di(P),minutes:yo(P),seconds:e.enableSeconds?sa(P):0}:null,_=P=>e.modelType?U(P):{month:nt(P),year:Ze(P)},y=P=>Array.isArray(P)?a.value.enabled?P.map(X=>v(X,Zr(Te(),X))):tc(()=>[Zr(Te(),P[0]),P[1]?Zr(Te(),P[1]):ks(o.value.partialRange)],o.value.enabled):Zr(Te(),+P),v=(P,X)=>(typeof P=="string"||typeof P=="number")&&e.modelType?W(P):X,b=P=>Array.isArray(P)?[v(P[0],co(null,+P[0].hours,+P[0].minutes,P[0].seconds)),v(P[1],co(null,+P[1].hours,+P[1].minutes,P[1].seconds))]:v(P,co(null,P.hours,P.minutes,P.seconds)),g=P=>{const X=bt(Te(),{date:1});return Array.isArray(P)?a.value.enabled?P.map(z=>v(z,Ai(X,+z.month,+z.year))):tc(()=>[v(P[0],Ai(X,+P[0].month,+P[0].year)),v(P[1],P[1]?Ai(X,+P[1].month,+P[1].year):ks(o.value.partialRange))],o.value.enabled):v(P,Ai(X,+P.month,+P.year))},T=P=>{if(Array.isArray(P))return P.map(X=>W(X));throw new Error(uv.dateArr("multi-dates"))},O=P=>{if(Array.isArray(P)&&o.value.enabled){const X=P[0],z=P[1];return[Te(Array.isArray(X)?X[0]:null),Te(Array.isArray(z)?z[0]:null)]}return Te(P[0])},A=P=>e.modelAuto?Array.isArray(P)?[W(P[0]),W(P[1])]:e.autoApply?[W(P)]:[W(P),null]:Array.isArray(P)?tc(()=>P[1]?[W(P[0]),P[1]?W(P[1]):ks(o.value.partialRange)]:[W(P[0])],o.value.enabled):W(P),I=()=>{Array.isArray(r.value)&&o.value.enabled&&r.value.length===1&&r.value.push(ks(o.value.partialRange))},N=()=>{const P=r.value;return[U(P[0]),P[1]?U(P[1]):ks(o.value.partialRange)]},S=()=>r.value[1]?N():U(on(r.value[0])),E=()=>(r.value||[]).map(P=>U(P)),w=(P=!1)=>(P||I(),e.modelAuto?S():a.value.enabled?E():Array.isArray(r.value)?tc(()=>N(),o.value.enabled):U(on(r.value))),R=P=>!P||Array.isArray(P)&&!P.length?null:e.timePicker?b(on(P)):e.monthPicker?g(on(P)):e.yearPicker?y(on(P)):a.value.enabled?T(on(P)):e.weekPicker?O(on(P)):A(on(P)),F=P=>{const X=R(P);tm(on(X))?(r.value=on(X),ee()):(r.value=null,u.value="")},D=()=>{const P=X=>Or(X,i.value.format);return`${P(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?P(r.value[1]):""}`},B=()=>n.value&&r.value?Array.isArray(r.value)?D():Or(r.value,i.value.format):m(r.value),V=()=>r.value?a.value.enabled?r.value.map(P=>m(P)).join("; "):i.value.enabled&&typeof i.value.format=="string"?B():m(r.value):"",ee=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=V():u.value=e.format(r.value)},W=P=>{if(e.utc){const X=new Date(P);return e.utc==="preserve"?new Date(X.getTime()+X.getTimezoneOffset()*6e4):X}return e.modelType?hU.includes(e.modelType)?f(new Date(P)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?f(Zp(P,l(),new Date,{locale:d.value})):f(Zp(P,e.modelType,new Date,{locale:d.value})):f(new Date(P))},U=P=>P?e.utc?AU(P,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(P):e.modelType==="iso"?h(P).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?m(h(P)):m(h(P),e.modelType,!0):h(P):"",C=(P,X=!1,z=!1)=>{if(z)return P;if(t("update:model-value",P),s.value.emitTimezone&&X){const se=Array.isArray(P)?P.map(le=>oi(on(le),s.value.emitTimezone)):oi(on(P),s.value.emitTimezone);t("update:model-timezone-value",se)}},L=P=>Array.isArray(r.value)?a.value.enabled?r.value.map(X=>P(X)):[P(r.value[0]),r.value[1]?P(r.value[1]):ks(o.value.partialRange)]:P(on(r.value)),x=()=>{if(Array.isArray(r.value)){const P=vi(r.value[0],e.weekStart),X=r.value[1]?vi(r.value[1],e.weekStart):[];return[P.map(z=>Te(z)),X.map(z=>Te(z))]}return vi(r.value,e.weekStart).map(P=>Te(P))},Y=(P,X)=>C(on(L(P)),!1,X),Z=P=>{const X=x();return P?X:t("update:model-value",x())},j=(P=!1)=>(P||ee(),e.monthPicker?Y(_,P):e.timePicker?Y(p,P):e.yearPicker?Y(Ze,P):e.weekPicker?Z(P):C(w(P),!0,P));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?o.value.enabled?o.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:F,formatInputValue:ee,emitModelValue:j}},YU=(t,e)=>{const{defaultedFilters:n,propDates:r}=Dt(t),{validateMonthYearInRange:i}=Io(t),o=(c,d)=>{let f=c;return n.value.months.includes(nt(f))?(f=d?Rr(c,1):la(c,1),o(f,d)):f},s=(c,d)=>{let f=c;return n.value.years.includes(Ze(f))?(f=d?Gg(c,1):WA(c,1),s(f,d)):f},a=(c,d=!1)=>{const f=bt(Te(),{month:t.month,year:t.year});let h=c?Rr(f,1):la(f,1);t.disableYearSelect&&(h=Zr(h,t.year));let m=nt(h),p=Ze(h);n.value.months.includes(m)&&(h=o(h,c),m=nt(h),p=Ze(h)),n.value.years.includes(p)&&(h=s(h,c),p=Ze(h)),i(m,p,c,t.preventMinMaxNavigation)&&l(m,p,d)},l=(c,d,f)=>{e("update-month-year",{month:c,year:d,fromNav:f})},u=me(()=>c=>ik(bt(Te(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:a,isDisabled:u,updateMonthYear:l}},df={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},Vr={...df,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},WU=["title"],GU=["disabled"],QU=Qt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Vr},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:o,defaultedMultiCalendars:s,defaultedTextInput:a,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=Dt(r),{isTimeValid:f,isMonthValid:h}=Io(r),{buildMatrix:m}=ko(),p=pe(null),_=pe(null),y=pe(!1),v=pe({}),b=pe(null),g=pe(null);xt(()=>{r.arrowNavigation&&m([Zt(p),Zt(_)],"actionRow"),T(),window.addEventListener("resize",T)}),fa(()=>{window.removeEventListener("resize",T)});const T=()=>{y.value=!1,setTimeout(()=>{var D,B;const V=(D=b.value)==null?void 0:D.getBoundingClientRect(),ee=(B=g.value)==null?void 0:B.getBoundingClientRect();V&&ee&&(v.value.maxWidth=`${ee.width-V.width-20}px`),y.value=!0},0)},O=me(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),A=me(()=>!f.value(r.internalModelValue)||!h.value(r.internalModelValue)||!O.value),I=()=>{const D=o.value;return r.timePicker||r.monthPicker,D(on(r.internalModelValue))},N=()=>{const D=r.internalModelValue;return s.value.count>0?`${S(D[0])} - ${S(D[1])}`:[S(D[0]),S(D[1])]},S=D=>ok(D,o.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,d()),E=me(()=>!r.internalModelValue||!r.menuMount?"":typeof o.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?N():c.value.enabled?r.internalModelValue.map(D=>`${S(D)}`):r.modelAuto?`${S(r.internalModelValue[0])}`:`${S(r.internalModelValue[0])} -`:S(r.internalModelValue):I()),w=()=>c.value.enabled?"; ":" - ",R=me(()=>Array.isArray(E.value)?E.value.join(w()):E.value),F=()=>{f.value(r.internalModelValue)&&h.value(r.internalModelValue)&&O.value?n("select-date"):n("invalid-select")};return(D,B)=>(ie(),ce("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[D.$slots["action-row"]?Oe(D.$slots,"action-row",an(nn({key:0},{internalModelValue:D.internalModelValue,disabled:A.value,selectDate:()=>D.$emit("select-date"),closePicker:()=>D.$emit("close-picker")}))):(ie(),ce(Pe,{key:1},[ae(i).showPreview?(ie(),ce("div",{key:0,class:"dp__selection_preview",title:R.value,style:en(v.value)},[D.$slots["action-preview"]&&y.value?Oe(D.$slots,"action-preview",{key:0,value:D.internalModelValue}):ye("",!0),!D.$slots["action-preview"]&&y.value?(ie(),ce(Pe,{key:1},[Tn(Ce(R.value),1)],64)):ye("",!0)],12,WU)):ye("",!0),$("div",{ref_key:"actionBtnContainer",ref:b,class:"dp__action_buttons","data-dp-element":"action-row"},[D.$slots["action-buttons"]?Oe(D.$slots,"action-buttons",{key:0,value:D.internalModelValue}):ye("",!0),D.$slots["action-buttons"]?ye("",!0):(ie(),ce(Pe,{key:1},[!ae(l).enabled&&ae(i).showCancel?(ie(),ce("button",{key:0,ref_key:"cancelButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_cancel",onClick:B[0]||(B[0]=V=>D.$emit("close-picker")),onKeydown:B[1]||(B[1]=V=>ae(Xn)(V,()=>D.$emit("close-picker")))},Ce(D.cancelText),545)):ye("",!0),ae(i).showNow?(ie(),ce("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:B[2]||(B[2]=V=>D.$emit("select-now")),onKeydown:B[3]||(B[3]=V=>ae(Xn)(V,()=>D.$emit("select-now")))},Ce(D.nowButtonLabel),33)):ye("",!0),ae(i).showSelect?(ie(),ce("button",{key:2,ref_key:"selectButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_select",disabled:A.value,"data-test":"select-button",onKeydown:B[4]||(B[4]=V=>ae(Xn)(V,()=>F())),onClick:F},Ce(D.selectText),41,GU)):ye("",!0)],64))],512)],64))],512))}}),XU={class:"dp__selection_grid_header"},JU=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],ZU=["aria-label"],vu=Qt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:o}=ko(),s=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Dt(a),{hideNavigationButtons:d}=pf(),f=pe(!1),h=pe(null),m=pe(null),p=pe([]),_=pe(),y=pe(null),v=pe(0),b=pe(null);wb(()=>{h.value=null}),xt(()=>{wn().then(()=>E()),a.noOverlayFocus||T(),g(!0)}),fa(()=>g(!1));const g=L=>{var x;a.arrowNavigation&&((x=a.headerRefs)!=null&&x.length?o(L):r(L))},T=()=>{var L;const x=Zt(m);x&&(u.value.enabled||(h.value?(L=h.value)==null||L.focus({preventScroll:!0}):x.focus({preventScroll:!0})),f.value=x.clientHeight<x.scrollHeight)},O=me(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),A=me(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),I=me(()=>({dp__overlay_col:!0})),N=me(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),S=me(()=>{var L,x;return{dp__overlay_container:!0,dp__container_flex:((L=a.items)==null?void 0:L.length)<=6,dp__container_block:((x=a.items)==null?void 0:x.length)>6}});Wt(()=>a.items,()=>E(!1),{deep:!0});const E=(L=!0)=>{wn().then(()=>{const x=Zt(h),Y=Zt(m),Z=Zt(y),j=Zt(b),P=Z?Z.getBoundingClientRect().height:0;Y&&(Y.getBoundingClientRect().height?v.value=Y.getBoundingClientRect().height-P:v.value=c.value.modeHeight-P),x&&j&&L&&(j.scrollTop=x.offsetTop-j.offsetTop-(v.value/2-x.getBoundingClientRect().height)-P)})},w=L=>{L.disabled||s("selected",L.value)},R=()=>{s("toggle"),s("reset-flow")},F=()=>{a.escClose&&R()},D=(L,x,Y,Z)=>{L&&((x.active||x.value===a.focusValue)&&(h.value=L),a.arrowNavigation&&(Array.isArray(p.value[Y])?p.value[Y][Z]=L:p.value[Y]=[L],B()))},B=()=>{var L,x;const Y=(L=a.headerRefs)!=null&&L.length?[a.headerRefs].concat(p.value):p.value.concat([a.skipButtonRef?[]:[y.value]]);i(on(Y),(x=a.headerRefs)!=null&&x.length?"monthPicker":"selectionGrid")},V=L=>{a.arrowNavigation||uo(L,c.value,!0)},ee=L=>{_.value=L,s("hover-value",L)},W=()=>{if(R(),!a.isLast){const L=wU(a.menuWrapRef??null,"action-row");if(L){const x=JA(L);x==null||x.focus()}}},U=L=>{switch(L.key){case St.esc:return F();case St.arrowLeft:return V(L);case St.arrowRight:return V(L);case St.arrowUp:return V(L);case St.arrowDown:return V(L);default:return}},C=L=>{if(L.key===St.enter)return R();if(L.key===St.tab)return W()};return e({focusGrid:T}),(L,x)=>{var Y;return ie(),ce("div",{ref_key:"gridWrapRef",ref:m,class:Xe(O.value),style:en(A.value),role:"dialog",tabindex:"0",onKeydown:U,onClick:x[0]||(x[0]=ai(()=>{},["prevent"]))},[$("div",{ref_key:"containerRef",ref:b,class:Xe(S.value),role:"grid",style:en({"--dp-overlay-height":`${v.value}px`})},[$("div",XU,[Oe(L.$slots,"header")]),L.$slots.overlay?Oe(L.$slots,"overlay",{key:0}):(ie(!0),ce(Pe,{key:1},et(L.items,(Z,j)=>(ie(),ce("div",{key:j,class:Xe(["dp__overlay_row",{dp__flex_row:L.items.length>=3}]),role:"row"},[(ie(!0),ce(Pe,null,et(Z,(P,X)=>(ie(),ce("div",{key:P.value,ref_for:!0,ref:z=>D(z,P,j,X),role:"gridcell",class:Xe(I.value),"aria-selected":P.active||void 0,"aria-disabled":P.disabled||void 0,tabindex:"0","data-test":P.text,onClick:ai(z=>w(P),["prevent"]),onKeydown:z=>ae(Xn)(z,()=>w(P),!0),onMouseover:z=>ee(P.value)},[$("div",{class:Xe(P.className)},[L.$slots.item?Oe(L.$slots,"item",{key:0,item:P}):ye("",!0),L.$slots.item?ye("",!0):(ie(),ce(Pe,{key:1},[Tn(Ce(P.text),1)],64))],2)],42,JU))),128))],2))),128))],6),L.$slots["button-icon"]?Ot((ie(),ce("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(Y=ae(l))==null?void 0:Y.toggleOverlay,class:Xe(N.value),tabindex:"0",onClick:R,onKeydown:C},[Oe(L.$slots,"button-icon")],42,ZU)),[[nl,!ae(d)(L.hideNavigation,L.type)]]):ye("",!0)],38)}}}),ff=Qt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=me(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=me(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,o)=>(ie(),ce("div",{class:Xe({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(ie(!0),ce(Pe,null,et(n.value,(s,a)=>(ie(),ce("div",{key:s,class:Xe(r.value)},[Oe(i.$slots,"default",{instance:s,index:a})],2))),128))],2))}}),e9=["aria-label","aria-disabled"],pl=Qt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=pe(null);return xt(()=>n("set-ref",r)),(i,o)=>(ie(),ce("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:o[0]||(o[0]=s=>i.$emit("activate")),onKeydown:o[1]||(o[1]=s=>ae(Xn)(s,()=>i.$emit("activate"),!0))},[$("span",{class:Xe(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Oe(i.$slots,"default")],2)],40,e9))}}),t9={class:"dp--year-mode-picker"},n9=["aria-label","data-test"],uk=Qt({__name:"YearModePicker",props:{...Vr,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:o}=pf(),{defaultedConfig:s,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Dt(r),{showTransition:c,transitionName:d}=yu(u),f=(p=!1,_)=>{n("toggle-year-picker",{flow:p,show:_})},h=p=>{n("year-select",p)},m=(p=!1)=>{n("handle-year",p)};return(p,_)=>{var y,v,b;return ie(),ce("div",t9,[ae(o)(ae(a),t.instance)?(ie(),ze(pl,{key:0,ref:"mpPrevIconRef","aria-label":(y=ae(l))==null?void 0:y.prevYear,disabled:t.isDisabled(!1),onActivate:_[0]||(_[0]=g=>m(!1))},{default:He(()=>[p.$slots["arrow-left"]?Oe(p.$slots,"arrow-left",{key:0}):ye("",!0),p.$slots["arrow-left"]?ye("",!0):(ie(),ze(ae(nv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),$("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(v=ae(l))==null?void 0:v.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:_[1]||(_[1]=()=>f(!1)),onKeydown:_[2]||(_[2]=jx(()=>f(!1),["enter"]))},[p.$slots.year?Oe(p.$slots,"year",{key:0,year:t.year}):ye("",!0),p.$slots.year?ye("",!0):(ie(),ce(Pe,{key:1},[Tn(Ce(t.year),1)],64))],40,n9),ae(i)(ae(a),t.instance)?(ie(),ze(pl,{key:1,ref:"mpNextIconRef","aria-label":(b=ae(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:_[3]||(_[3]=g=>m(!0))},{default:He(()=>[p.$slots["arrow-right"]?Oe(p.$slots,"arrow-right",{key:0}):ye("",!0),p.$slots["arrow-right"]?ye("",!0):(ie(),ze(ae(rv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),Ye(Mi,{name:ae(d)(t.showYearPicker),css:ae(c)},{default:He(()=>[t.showYearPicker?(ie(),ze(vu,{key:0,items:t.items,"text-input":p.textInput,"esc-close":p.escClose,config:p.config,"is-last":p.autoApply&&!ae(s).keepActionRow,"hide-navigation":p.hideNavigation,"aria-labels":p.ariaLabels,type:"year",onToggle:f,onSelected:_[4]||(_[4]=g=>h(g))},Dn({"button-icon":He(()=>[p.$slots["calendar-icon"]?Oe(p.$slots,"calendar-icon",{key:0}):ye("",!0),p.$slots["calendar-icon"]?ye("",!0):(ie(),ze(ae(Ta),{key:1}))]),_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:He(({item:g})=>[Oe(p.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ye("",!0)]),_:3},8,["name","css"])])}}}),fv=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>rt(t,r))){const r=e.value.filter(i=>!rt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},hv=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Nt(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},hf=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},ck=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>oi(Te(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=oi(Te(t.value),t.timezone))},dk=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(jt(t,e.value[0])||rt(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Nt(t,e.value[1])||rt(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],fk=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:o,props:s,filters:a,year:l,month:u,emit:c})=>{const d=me(()=>lv(s.yearRange,s.locale,s.reverseYears)),f=pe([!1]),h=me(()=>(N,S)=>{const E=bt(Ar(new Date),{month:u.value(N),year:l.value(N)}),w=S?MA(E):Qg(E);return ik(w,r.value.maxDate,r.value.minDate,s.preventMinMaxNavigation,S)}),m=()=>Array.isArray(o.value)&&t.value.solo&&o.value[1],p=()=>{for(let N=0;N<t.value.count;N++)if(N===0)i.value[N]=i.value[0];else if(N===t.value.count-1&&m())i.value[N]={month:nt(o.value[1]),year:Ze(o.value[1])};else{const S=bt(Te(),i.value[N-1]);i.value[N]={month:nt(S),year:Ze(Gg(S,1))}}},_=N=>{if(!N)return p();const S=bt(Te(),i.value[N]);return i.value[0].year=Ze(WA(S,t.value.count-1)),p()},y=(N,S)=>{const E=mB(S,N);return e.value.showLastInRange&&E>1?S:N},v=N=>s.focusStartDate||t.value.solo?N[0]:N[1]?y(N[0],N[1]):N[0],b=()=>{if(o.value){const N=Array.isArray(o.value)?v(o.value):o.value;i.value[0]={month:nt(N),year:Ze(N)}}};xt(()=>{b(),t.value.count&&p()});const g=(N,S)=>{i.value[S].year=N,c("update-month-year",{instance:S,year:N,month:i.value[S].month}),t.value.count&&!t.value.solo&&_(S)},T=me(()=>N=>ua(d.value,S=>{var E;const w=l.value(N)===S.value,R=Kl(S.value,ca(r.value.minDate),ca(r.value.maxDate))||((E=a.value.years)==null?void 0:E.includes(l.value(N))),F=dv(n.value,S.value);return{active:w,disabled:R,highlighted:F}})),O=(N,S)=>{g(N,S),I(S)},A=(N,S=!1)=>{if(!h.value(N,S)){const E=S?l.value(N)+1:l.value(N)-1;g(E,N)}},I=(N,S=!1,E)=>{S||c("reset-flow"),E!==void 0?f.value[N]=E:f.value[N]=!f.value[N],f.value[N]?c("overlay-toggle",{open:!0,overlay:On.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:On.year}))};return{isDisabled:h,groupedYears:T,showYearPicker:f,selectYear:g,toggleYearPicker:I,handleYearSelect:O,handleYear:A}},r9=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,defaultedRange:s,defaultedHighlight:a,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=Dt(t),{modelValue:f,year:h,month:m,calendars:p}=_u(t,e),_=me(()=>QA(t.formatLocale,t.locale,t.monthNameFormat)),y=pe(null),{checkMinMaxRange:v}=Io(t),{selectYear:b,groupedYears:g,showYearPicker:T,toggleYearPicker:O,handleYearSelect:A,handleYear:I,isDisabled:N}=fk({modelValue:f,multiCalendars:n,range:s,highlight:a,calendars:p,year:h,propDates:l,month:m,filters:c,props:t,emit:e});xt(()=>{t.startDate&&(f.value&&t.focusStartDate||!f.value)&&b(Ze(Te(t.startDate)),0)});const S=x=>x?{month:nt(x),year:Ze(x)}:{month:null,year:null},E=()=>f.value?Array.isArray(f.value)?f.value.map(x=>S(x)):S(f.value):S(),w=(x,Y)=>{const Z=p.value[x],j=E();return Array.isArray(j)?j.some(P=>P.year===(Z==null?void 0:Z.year)&&P.month===Y):(Z==null?void 0:Z.year)===j.year&&Y===j.month},R=(x,Y,Z)=>{var j,P;const X=E();return Array.isArray(X)?h.value(Y)===((j=X[Z])==null?void 0:j.year)&&x===((P=X[Z])==null?void 0:P.month):!1},F=(x,Y)=>{if(s.value.enabled){const Z=E();if(Array.isArray(f.value)&&Array.isArray(Z)){const j=R(x,Y,0)||R(x,Y,1),P=Ai(Ar(Te()),x,h.value(Y));return cf(f.value,y.value,P)&&!j}return!1}return!1},D=me(()=>x=>ua(_.value,Y=>{var Z;const j=w(x,Y.value),P=Kl(Y.value,ek(h.value(x),l.value.minDate),tk(h.value(x),l.value.maxDate))||RU(l.value.disabledDates,h.value(x)).includes(Y.value)||((Z=c.value.months)==null?void 0:Z.includes(Y.value)),X=F(Y.value,x),z=sk(a.value,Y.value,h.value(x));return{active:j,disabled:P,isBetween:X,highlighted:z}})),B=(x,Y)=>Ai(Ar(Te()),x,h.value(Y)),V=(x,Y)=>{const Z=f.value?f.value:Ar(new Date);f.value=Ai(Z,x,h.value(Y)),e("auto-apply"),e("update-flow-step")},ee=(x,Y)=>{const Z=B(x,Y);s.value.fixedEnd||s.value.fixedStart?f.value=dk(Z,f,e,s):f.value?v(Z,f.value)&&(f.value=hv(f,B(x,Y),e)):f.value=[B(x,Y)],wn().then(()=>{hf(f.value,e,t.autoApply,t.modelAuto)})},W=(x,Y)=>{fv(B(x,Y),f,d.value.limit),e("auto-apply",!0)},U=(x,Y)=>(p.value[Y].month=x,L(Y,p.value[Y].year,x),d.value.enabled?W(x,Y):s.value.enabled?ee(x,Y):V(x,Y)),C=(x,Y)=>{b(x,Y),L(Y,x,null)},L=(x,Y,Z)=>{let j=Z;if(!j&&j!==0){const P=E();j=Array.isArray(P)?P[x].month:P.month}e("update-month-year",{instance:x,year:Y,month:j})};return{groupedMonths:D,groupedYears:g,year:h,isDisabled:N,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,showYearPicker:T,modelValue:f,presetDate:(x,Y)=>{ck({value:x,modelValue:f,range:s.value.enabled,timezone:Y?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(x,Y)=>{y.value=B(x,Y)},selectMonth:U,selectYear:C,toggleYearPicker:O,handleYearSelect:A,handleYear:I,getModelMonthYear:E}},i9=Qt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Vr},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=ss(),o=ar(i,"yearMode"),s=t;xt(()=>{s.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:m,presetDate:p,setHoverDate:_,selectMonth:y,selectYear:v,toggleYearPicker:b,handleYearSelect:g,handleYear:T,getModelMonthYear:O}=r9(s,r);return e({getSidebarProps:()=>({modelValue:m,year:u,getModelMonthYear:O,selectMonth:y,selectYear:v,handleYear:T}),presetDate:p,toggleYearPicker:A=>b(0,A)}),(A,I)=>(ie(),ze(ff,{"multi-calendars":ae(d).count,collapse:A.collapse,stretch:""},{default:He(({instance:N})=>[A.$slots["top-extra"]?Oe(A.$slots,"top-extra",{key:0,value:A.internalModelValue}):ye("",!0),A.$slots["month-year"]?Oe(A.$slots,"month-year",an(nn({key:1},{year:ae(u),months:ae(a)(N),years:ae(l)(N),selectMonth:ae(y),selectYear:ae(v),instance:N}))):(ie(),ze(vu,{key:2,items:ae(a)(N),"arrow-navigation":A.arrowNavigation,"is-last":A.autoApply&&!ae(f).keepActionRow,"esc-close":A.escClose,height:ae(f).modeHeight,config:A.config,"no-overlay-focus":!!(A.noOverlayFocus||A.textInput),"use-relative":"",type:"month",onSelected:S=>ae(y)(S,N),onHoverValue:S=>ae(_)(S,N)},Dn({header:He(()=>[Ye(uk,nn(A.$props,{items:ae(l)(N),instance:N,"show-year-picker":ae(h)[N],year:ae(u)(N),"is-disabled":S=>ae(c)(N,S),onHandleYear:S=>ae(T)(N,S),onYearSelect:S=>ae(g)(S,N),onToggleYearPicker:S=>ae(b)(N,S==null?void 0:S.flow,S==null?void 0:S.show)}),Dn({_:2},[et(ae(o),(S,E)=>({name:S,fn:He(w=>[Oe(A.$slots,S,an(qn(w)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[A.$slots["month-overlay-value"]?{name:"item",fn:He(({item:S})=>[Oe(A.$slots,"month-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),o9=(t,e)=>{const{modelValue:n}=_u(t,e),r=pe(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:a,propDates:l}=Dt(t),u=pe();xt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(u.value=Ze(Te(t.startDate)))});const c=m=>Array.isArray(n.value)?n.value.some(p=>Ze(p)===m):n.value?Ze(n.value)===m:!1,d=m=>a.value.enabled&&Array.isArray(n.value)?cf(n.value,r.value,h(m)):!1,f=me(()=>ua(lv(t.yearRange,t.locale,t.reverseYears),m=>{const p=c(m.value),_=Kl(m.value,ca(l.value.minDate),ca(l.value.maxDate))||s.value.years.includes(m.value),y=d(m.value)&&!p,v=dv(i.value,m.value);return{active:p,disabled:_,isBetween:y,highlighted:v}})),h=m=>Zr(Ar(new Date),m);return{groupedYears:f,modelValue:n,focusYear:u,setHoverValue:m=>{r.value=Zr(Ar(new Date),m)},selectYear:m=>{var p;if(e("update-month-year",{instance:0,year:m}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((p=n.value)==null?void 0:p.map(_=>Ze(_))).includes(m)?n.value=n.value.filter(_=>Ze(_)!==m):n.value.push(Zr(zn(Te()),m))):n.value=[Zr(zn(Te()),m)],e("auto-apply",!0);a.value.enabled?(n.value=hv(n,h(m),e),wn().then(()=>{hf(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(m),e("auto-apply"))}}},s9=Qt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Vr},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:o,modelValue:s,focusYear:a,selectYear:l,setHoverValue:u}=o9(i,r),{defaultedConfig:c}=Dt(i);return e({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(d,f)=>(ie(),ce("div",null,[d.$slots["top-extra"]?Oe(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):ye("",!0),d.$slots["month-year"]?Oe(d.$slots,"month-year",an(nn({key:1},{years:ae(o),selectYear:ae(l)}))):(ie(),ze(vu,{key:2,items:ae(o),"is-last":d.autoApply&&!ae(c).keepActionRow,height:ae(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":ae(a),type:"year","use-relative":"",onSelected:ae(l),onHoverValue:ae(u)},Dn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:He(({item:h})=>[Oe(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),a9={key:0,class:"dp__time_input"},l9=["data-test","aria-label","onKeydown","onClick","onMousedown"],u9=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),c9=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),d9=["aria-label","disabled","data-test","onKeydown","onClick"],f9=["data-test","aria-label","onKeydown","onClick","onMousedown"],h9=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),p9=$("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),m9={key:0},g9=["aria-label"],v9=Qt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Vr},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:o,setTimePickerBackRef:s}=ko(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=Dt(i),{transitionName:f,showTransition:h}=yu(l),m=vr({hours:!1,minutes:!1,seconds:!1}),p=pe("AM"),_=pe(null),y=pe([]),v=pe();xt(()=>{r("mounted")});const b=Q=>bt(new Date,{hours:Q.hours,minutes:Q.minutes,seconds:i.enableSeconds?Q.seconds:0,milliseconds:0}),g=me(()=>Q=>B(Q,i[Q])||O(Q,i[Q])),T=me(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),O=(Q,M)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(Q,M):!1,A=(Q,M)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const K=M?+i[`${Q}Increment`]:-+i[`${Q}Increment`],H=i[Q]+K;return!i.validateTime(Q,H)}return!1},I=me(()=>Q=>!C(+i[Q]+ +i[`${Q}Increment`],Q)||A(Q,!0)),N=me(()=>Q=>!C(+i[Q]-+i[`${Q}Increment`],Q)||A(Q,!1)),S=(Q,M)=>SA(bt(Te(),Q),M),E=(Q,M)=>cU(bt(Te(),Q),M),w=me(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),R=me(()=>{const Q=[{type:"hours"}];return i.enableMinutes&&Q.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Q.push({type:"",separator:!0},{type:"seconds"}),Q}),F=me(()=>R.value.filter(Q=>!Q.separator)),D=me(()=>Q=>{if(Q==="hours"){const M=P(+i.hours);return{text:M<10?`0${M}`:`${M}`,value:M}}return{text:i[Q]<10?`0${i[Q]}`:`${i[Q]}`,value:i[Q]}}),B=(Q,M)=>{var K;if(!i.disabledTimesConfig)return!1;const H=i.disabledTimesConfig(i.order,Q==="hours"?M:void 0);return H[Q]?!!((K=H[Q])!=null&&K.includes(M)):!0},V=(Q,M)=>M!=="hours"||p.value==="AM"?Q:Q+12,ee=Q=>{const M=i.is24?24:12,K=Q==="hours"?M:60,H=+i[`${Q}GridIncrement`],de=Q==="hours"&&!i.is24?H:0,J=[];for(let G=de;G<K;G+=H)J.push({value:i.is24?G:V(G,Q),text:G<10?`0${G}`:`${G}`});return Q==="hours"&&!i.is24&&J.unshift({value:p.value==="PM"?12:0,text:"12"}),ua(J,G=>({active:!1,disabled:u.value.times[Q].includes(G.value)||!C(G.value,Q)||B(Q,G.value)||O(Q,G.value)}))},W=Q=>Q>=0?Q:59,U=Q=>Q>=0?Q:23,C=(Q,M)=>{const K=i.minTime?b(jh(i.minTime)):null,H=i.maxTime?b(jh(i.maxTime)):null,de=b(jh(T.value,M,M==="minutes"||M==="seconds"?W(Q):U(Q)));return K&&H?(zl(de,H)||Ns(de,H))&&(aa(de,K)||Ns(de,K)):K?aa(de,K)||Ns(de,K):H?zl(de,H)||Ns(de,H):!0},L=Q=>i[`no${Q[0].toUpperCase()+Q.slice(1)}Overlay`],x=Q=>{L(Q)||(m[Q]=!m[Q],m[Q]?r("overlay-opened",Q):r("overlay-closed",Q))},Y=Q=>Q==="hours"?Di:Q==="minutes"?yo:sa,Z=()=>{v.value&&clearTimeout(v.value)},j=(Q,M=!0,K)=>{const H=M?S:E,de=M?+i[`${Q}Increment`]:-+i[`${Q}Increment`];C(+i[Q]+de,Q)&&r(`update:${Q}`,Y(Q)(H({[Q]:+i[Q]},{[Q]:+i[`${Q}Increment`]}))),!(K!=null&&K.keyboard)&&c.value.timeArrowHoldThreshold&&(v.value=setTimeout(()=>{j(Q,M)},c.value.timeArrowHoldThreshold))},P=Q=>i.is24?Q:(Q>=12?p.value="PM":p.value="AM",gU(Q)),X=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},z=Q=>{m[Q]=!0},se=(Q,M,K)=>{if(Q&&i.arrowNavigation){Array.isArray(y.value[M])?y.value[M][K]=Q:y.value[M]=[Q];const H=y.value.reduce((de,J)=>J.map((G,ne)=>[...de[ne]||[],J[ne]]),[]);s(i.closeTimePickerBtn),_.value&&(H[1]=H[1].concat(_.value)),o(H,i.order)}},le=(Q,M)=>(x(Q),r(`update:${Q}`,M));return e({openChildCmp:z}),(Q,M)=>{var K;return Q.disabled?ye("",!0):(ie(),ce("div",a9,[(ie(!0),ce(Pe,null,et(R.value,(H,de)=>{var J,G,ne;return ie(),ce("div",{key:de,class:Xe(w.value)},[H.separator?(ie(),ce(Pe,{key:0},[Tn(" : ")],64)):(ie(),ce(Pe,{key:1},[$("button",{ref_for:!0,ref:re=>se(re,de,0),type:"button",class:Xe({dp__btn:!0,dp__inc_dec_button:!Q.timePickerInline,dp__inc_dec_button_inline:Q.timePickerInline,dp__tp_inline_btn_top:Q.timePickerInline,dp__inc_dec_button_disabled:I.value(H.type)}),"data-test":`${H.type}-time-inc-btn-${i.order}`,"aria-label":(J=ae(a))==null?void 0:J.incrementValue(H.type),tabindex:"0",onKeydown:re=>ae(Xn)(re,()=>j(H.type,!0,{keyboard:!0}),!0),onClick:re=>ae(c).timeArrowHoldThreshold?void 0:j(H.type,!0),onMousedown:re=>ae(c).timeArrowHoldThreshold?j(H.type,!0):void 0,onMouseup:Z},[i.timePickerInline?(ie(),ce(Pe,{key:1},[u9,c9],64)):(ie(),ce(Pe,{key:0},[Q.$slots["arrow-up"]?Oe(Q.$slots,"arrow-up",{key:0}):ye("",!0),Q.$slots["arrow-up"]?ye("",!0):(ie(),ze(ae(ov),{key:1}))],64))],42,l9),$("button",{ref_for:!0,ref:re=>se(re,de,1),type:"button","aria-label":(G=ae(a))==null?void 0:G.openTpOverlay(H.type),class:Xe({dp__time_display:!0,dp__time_display_block:!Q.timePickerInline,dp__time_display_inline:Q.timePickerInline,"dp--time-invalid":g.value(H.type),"dp--time-overlay-btn":!g.value(H.type)}),disabled:L(H.type),tabindex:"0","data-test":`${H.type}-toggle-overlay-btn-${i.order}`,onKeydown:re=>ae(Xn)(re,()=>x(H.type),!0),onClick:re=>x(H.type)},[Q.$slots[H.type]?Oe(Q.$slots,H.type,{key:0,text:D.value(H.type).text,value:D.value(H.type).value}):ye("",!0),Q.$slots[H.type]?ye("",!0):(ie(),ce(Pe,{key:1},[Tn(Ce(D.value(H.type).text),1)],64))],42,d9),$("button",{ref_for:!0,ref:re=>se(re,de,2),type:"button",class:Xe({dp__btn:!0,dp__inc_dec_button:!Q.timePickerInline,dp__inc_dec_button_inline:Q.timePickerInline,dp__tp_inline_btn_bottom:Q.timePickerInline,dp__inc_dec_button_disabled:N.value(H.type)}),"data-test":`${H.type}-time-dec-btn-${i.order}`,"aria-label":(ne=ae(a))==null?void 0:ne.decrementValue(H.type),tabindex:"0",onKeydown:re=>ae(Xn)(re,()=>j(H.type,!1,{keyboard:!0}),!0),onClick:re=>ae(c).timeArrowHoldThreshold?void 0:j(H.type,!1),onMousedown:re=>ae(c).timeArrowHoldThreshold?j(H.type,!1):void 0,onMouseup:Z},[i.timePickerInline?(ie(),ce(Pe,{key:1},[h9,p9],64)):(ie(),ce(Pe,{key:0},[Q.$slots["arrow-down"]?Oe(Q.$slots,"arrow-down",{key:0}):ye("",!0),Q.$slots["arrow-down"]?ye("",!0):(ie(),ze(ae(sv),{key:1}))],64))],42,f9)],64))],2)}),128)),Q.is24?ye("",!0):(ie(),ce("div",m9,[Q.$slots["am-pm-button"]?Oe(Q.$slots,"am-pm-button",{key:0,toggle:X,value:p.value}):ye("",!0),Q.$slots["am-pm-button"]?ye("",!0):(ie(),ce("button",{key:1,ref_key:"amPmButton",ref:_,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(K=ae(a))==null?void 0:K.amPmButton,tabindex:"0",onClick:X,onKeydown:M[0]||(M[0]=H=>ae(Xn)(H,()=>X(),!0))},Ce(p.value),41,g9))])),(ie(!0),ce(Pe,null,et(F.value,(H,de)=>(ie(),ze(Mi,{key:de,name:ae(f)(m[H.type]),css:ae(h)},{default:He(()=>[m[H.type]?(ie(),ze(vu,{key:0,items:ee(H.type),"is-last":Q.autoApply&&!ae(c).keepActionRow,"esc-close":Q.escClose,type:H.type,"text-input":Q.textInput,config:Q.config,"arrow-navigation":Q.arrowNavigation,"aria-labels":Q.ariaLabels,onSelected:J=>le(H.type,J),onToggle:J=>x(H.type),onResetFlow:M[1]||(M[1]=J=>Q.$emit("reset-flow"))},Dn({"button-icon":He(()=>[Q.$slots["clock-icon"]?Oe(Q.$slots,"clock-icon",{key:0}):ye("",!0),Q.$slots["clock-icon"]?ye("",!0):(ie(),ze(cd(Q.timePickerInline?ae(Ta):ae(iv)),{key:1}))]),_:2},[Q.$slots[`${H.type}-overlay-value`]?{name:"item",fn:He(({item:J})=>[Oe(Q.$slots,`${H.type}-overlay-value`,{text:J.text,value:J.value})]),key:"0"}:void 0,Q.$slots[`${H.type}-overlay-header`]?{name:"header",fn:He(()=>[Oe(Q.$slots,`${H.type}-overlay-header`,{toggle:()=>x(H.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),y9={class:"dp--tp-wrap"},_9=["aria-label","tabindex"],b9=["tabindex"],w9=["aria-label"],hk=Qt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Vr},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:o,setTimePicker:s}=ko(),a=ss(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:f}=Dt(i),{transitionName:h,showTransition:m}=yu(l),{hideNavigationButtons:p}=pf(),_=pe(null),y=pe(null),v=pe([]),b=pe(null);xt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?o([Zt(_.value)],"time"):s(!0,i.timePicker)});const g=me(()=>f.value.enabled&&i.modelAuto?XA(i.internalModelValue):!0),T=pe(!1),O=V=>({hours:Array.isArray(i.hours)?i.hours[V]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[V]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[V]:i.seconds}),A=me(()=>{const V=[];if(f.value.enabled)for(let ee=0;ee<2;ee++)V.push(O(ee));else V.push(O(0));return V}),I=(V,ee=!1,W="")=>{ee||r("reset-flow"),T.value=V,r(V?"overlay-opened":"overlay-closed",On.time),i.arrowNavigation&&s(V),wn(()=>{W!==""&&v.value[0]&&v.value[0].openChildCmp(W)})},N=me(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),S=ar(a,"timePicker"),E=(V,ee,W)=>f.value.enabled?ee===0?[V,A.value[1][W]]:[A.value[0][W],V]:V,w=V=>{r("update:hours",V)},R=V=>{r("update:minutes",V)},F=V=>{r("update:seconds",V)},D=()=>{if(b.value&&!c.value.enabled&&!i.noOverlayFocus){const V=JA(b.value);V&&V.focus({preventScroll:!0})}},B=V=>{r("overlay-closed",V)};return e({toggleTimePicker:I}),(V,ee)=>{var W;return ie(),ce("div",y9,[!V.timePicker&&!V.timePickerInline?Ot((ie(),ce("button",{key:0,ref_key:"openTimePickerBtn",ref:_,type:"button",class:Xe(N.value),"aria-label":(W=ae(u))==null?void 0:W.openTimePicker,tabindex:V.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:ee[0]||(ee[0]=U=>ae(Xn)(U,()=>I(!0))),onClick:ee[1]||(ee[1]=U=>I(!0))},[V.$slots["clock-icon"]?Oe(V.$slots,"clock-icon",{key:0}):ye("",!0),V.$slots["clock-icon"]?ye("",!0):(ie(),ze(ae(iv),{key:1}))],42,_9)),[[nl,!ae(p)(V.hideNavigation,"time")]]):ye("",!0),Ye(Mi,{name:ae(h)(T.value),css:ae(m)&&!V.timePickerInline},{default:He(()=>{var U;return[T.value||V.timePicker||V.timePickerInline?(ie(),ce("div",{key:0,ref_key:"overlayRef",ref:b,class:Xe({dp__overlay:!V.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!V.timePickerInline,"dp--overlay-relative":i.timePicker}),style:en(V.timePicker?{height:`${ae(d).modeHeight}px`}:void 0),tabindex:V.timePickerInline?void 0:0},[$("div",{class:Xe(V.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[V.$slots["time-picker-overlay"]?Oe(V.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:w,setMinutes:R,setSeconds:F}):ye("",!0),V.$slots["time-picker-overlay"]?ye("",!0):(ie(),ce("div",{key:1,class:Xe(V.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ie(!0),ce(Pe,null,et(A.value,(C,L)=>Ot((ie(),ze(v9,nn({key:L,ref_for:!0},{...V.$props,order:L,hours:C.hours,minutes:C.minutes,seconds:C.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:L===0?V.fixedStart:V.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:v,"validate-time":(x,Y)=>t.validateTime(x,E(Y,L,x)),"onUpdate:hours":x=>w(E(x,L,"hours")),"onUpdate:minutes":x=>R(E(x,L,"minutes")),"onUpdate:seconds":x=>F(E(x,L,"seconds")),onMounted:D,onOverlayClosed:B,onOverlayOpened:ee[2]||(ee[2]=x=>V.$emit("overlay-opened",x)),onAmPmChange:ee[3]||(ee[3]=x=>V.$emit("am-pm-change",x))}),Dn({_:2},[et(ae(S),(x,Y)=>({name:x,fn:He(Z=>[Oe(V.$slots,x,nn({ref_for:!0},Z))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[nl,L===0?!0:g.value]])),128))],2)),!V.timePicker&&!V.timePickerInline?Ot((ie(),ce("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:Xe(N.value),"aria-label":(U=ae(u))==null?void 0:U.closeTimePicker,tabindex:"0",onKeydown:ee[4]||(ee[4]=C=>ae(Xn)(C,()=>I(!1))),onClick:ee[5]||(ee[5]=C=>I(!1))},[V.$slots["calendar-icon"]?Oe(V.$slots,"calendar-icon",{key:0}):ye("",!0),V.$slots["calendar-icon"]?ye("",!0):(ie(),ze(ae(Ta),{key:1}))],42,w9)),[[nl,!ae(p)(V.hideNavigation,"time")]]):ye("",!0)],2)],14,b9)):ye("",!0)]}),_:3},8,["name","css"])])}}}),pk=(t,e,n,r)=>{const{defaultedRange:i}=Dt(t),o=(b,g)=>Array.isArray(e[b])?e[b][g]:e[b],s=b=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[b]:e.seconds:0,a=(b,g)=>b?g!==void 0?co(b,o("hours",g),o("minutes",g),s(g)):co(b,e.hours,e.minutes,s()):YA(Te(),s(g)),l=(b,g)=>{e[b]=g},u=me(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),c=(b,g)=>{const T=Object.fromEntries(Object.keys(e).map(O=>O===b?[O,g]:[O,e[O]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const O=I=>n.value?co(n.value[I],T.hours[I],T.minutes[I],T.seconds[I]):null,A=I=>KA(n.value[I],0);return!(rt(O(0),O(1))&&(aa(O(0),A(1))||zl(O(1),A(0))))}return!0},d=(b,g)=>{c(b,g)&&(l(b,g),r&&r())},f=b=>{d("hours",b)},h=b=>{d("minutes",b)},m=b=>{d("seconds",b)},p=(b,g,T,O)=>{g&&f(b),!g&&!T&&h(b),T&&m(b),n.value&&O(n.value)},_=b=>{if(b){const g=Array.isArray(b),T=g?[+b[0].hours,+b[1].hours]:+b.hours,O=g?[+b[0].minutes,+b[1].minutes]:+b.minutes,A=g?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",T),l("minutes",O),t.enableSeconds&&l("seconds",A)}},y=(b,g)=>{const T={hours:Array.isArray(e.hours)?e.hours[b]:e.hours,disabledArr:[]};return(g||g===0)&&(T.hours=g),Array.isArray(t.disabledTimes)&&(T.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),T},v=me(()=>(b,g)=>{var T;if(Array.isArray(t.disabledTimes)){const{disabledArr:O,hours:A}=y(b,g),I=O.filter(N=>+N.hours===A);return((T=I[0])==null?void 0:T.minutes)==="*"?{hours:[A],minutes:void 0,seconds:void 0}:{hours:[],minutes:(I==null?void 0:I.map(N=>+N.minutes))??[],seconds:(I==null?void 0:I.map(N=>N.seconds?+N.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:f,updateMinutes:h,updateSeconds:m,getSetDateTime:a,updateTimeValues:p,getSecondsValue:s,assignStartTime:_,validateTime:c,disabledTimesConfig:v}},T9=(t,e)=>{const{modelValue:n,time:r}=_u(t,e),{defaultedStartTime:i,defaultedRange:o}=Dt(t),{updateTimeValues:s,getSetDateTime:a,setTime:l,assignStartTime:u,disabledTimesConfig:c,validateTime:d}=pk(t,r,n,f);function f(){e("update-flow-step")}const h=g=>{const{hours:T,minutes:O,seconds:A}=g;return{hours:+T,minutes:+O,seconds:A?+A:0}},m=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=h(t.startTime[0]),O=h(t.startTime[1]);return[bt(Te(),T),bt(Te(),O)]}const g=h(t.startTime);return bt(Te(),g)}return o.value.enabled?[null,null]:null},p=()=>{if(o.value.enabled){const[g,T]=m();n.value=[a(g,0),a(T,1)]}else n.value=a(m())},_=g=>Array.isArray(g)?[Qo(Te(g[0])),Qo(Te(g[1]))]:[Qo(g??Te())],y=(g,T,O)=>{l("hours",g),l("minutes",T),l("seconds",t.enableSeconds?O:0)},v=()=>{const[g,T]=_(n.value);return o.value.enabled?y([g.hours,T.hours],[g.minutes,T.minutes],[g.seconds,T.seconds]):y(g.hours,g.minutes,g.seconds)};xt(()=>{if(!t.shadow)return u(i.value),n.value?v():p()});const b=()=>{Array.isArray(n.value)?n.value=n.value.map((g,T)=>g&&a(g,T)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:c,updateTime:(g,T=!0,O=!1)=>{s(g,T,O,b)},validateTime:d}},E9=Qt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Vr},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ss(),s=ar(o,"timePicker"),a=pe(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:d,validateTime:f}=T9(i,r);return xt(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:u,time:l,updateTime:d}),toggleTimePicker:(h,m=!1,p="")=>{var _;(_=a.value)==null||_.toggleTimePicker(h,m,p)}}),(h,m)=>(ie(),ze(ff,{"multi-calendars":0,stretch:""},{default:He(()=>[Ye(hk,nn({ref_key:"tpRef",ref:a},h.$props,{hours:ae(l).hours,minutes:ae(l).minutes,seconds:ae(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":ae(c),"validate-time":ae(f),"onUpdate:hours":m[0]||(m[0]=p=>ae(d)(p)),"onUpdate:minutes":m[1]||(m[1]=p=>ae(d)(p,!1)),"onUpdate:seconds":m[2]||(m[2]=p=>ae(d)(p,!1,!0)),onAmPmChange:m[3]||(m[3]=p=>h.$emit("am-pm-change",p)),onResetFlow:m[4]||(m[4]=p=>h.$emit("reset-flow")),onOverlayClosed:m[5]||(m[5]=p=>h.$emit("overlay-toggle",{open:!1,overlay:p})),onOverlayOpened:m[6]||(m[6]=p=>h.$emit("overlay-toggle",{open:!0,overlay:p}))}),Dn({_:2},[et(ae(s),(p,_)=>({name:p,fn:He(y=>[Oe(h.$slots,p,an(qn(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),A9={class:"dp--header-wrap"},k9={key:0,class:"dp__month_year_wrap"},I9={key:0},x9={class:"dp__month_year_wrap"},S9=["aria-label","data-test","onClick","onKeydown"],R9=Qt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Vr},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:o,defaultedAriaLabels:s,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d}=Dt(i),{transitionName:f,showTransition:h}=yu(o),{buildMatrix:m}=ko(),{handleMonthYearChange:p,isDisabled:_,updateMonthYear:y}=YU(i,r),{showLeftIcon:v,showRightIcon:b}=pf(),g=pe(!1),T=pe(!1),O=pe([null,null,null,null]);xt(()=>{r("mount")});const A=C=>({get:()=>i[C],set:L=>{const x=C===Tr.month?Tr.year:Tr.month;r("update-month-year",{[C]:L,[x]:i[x]}),C===Tr.month?D(!0):B(!0)}}),I=me(A(Tr.month)),N=me(A(Tr.year)),S=me(()=>C=>({month:i.month,year:i.year,items:C===Tr.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:C===Tr.month?D:B})),E=me(()=>i.months.find(L=>L.value===i.month)||{text:"",value:0}),w=me(()=>ua(i.months,C=>{const L=i.month===C.value,x=Kl(C.value,ek(i.year,d.value.minDate),tk(i.year,d.value.maxDate))||l.value.months.includes(C.value),Y=sk(c.value,C.value,i.year);return{active:L,disabled:x,highlighted:Y}})),R=me(()=>ua(i.years,C=>{const L=i.year===C.value,x=Kl(C.value,ca(d.value.minDate),ca(d.value.maxDate))||l.value.years.includes(C.value),Y=dv(c.value,C.value);return{active:L,disabled:x,highlighted:Y}})),F=(C,L,x)=>{x!==void 0?C.value=x:C.value=!C.value,C.value?r("overlay-opened",L):r("overlay-closed",L)},D=(C=!1,L)=>{V(C),F(g,On.month,L)},B=(C=!1,L)=>{V(C),F(T,On.year,L)},V=C=>{C||r("reset-flow")},ee=(C,L)=>{i.arrowNavigation&&(O.value[L]=Zt(C),m(O.value,"monthYear"))},W=me(()=>{var C,L;return[{type:Tr.month,index:1,toggle:D,modelValue:I.value,updateModelValue:x=>I.value=x,text:E.value.text,showSelectionGrid:g.value,items:w.value,ariaLabel:(C=s.value)==null?void 0:C.openMonthsOverlay},{type:Tr.year,index:2,toggle:B,modelValue:N.value,updateModelValue:x=>N.value=x,text:ZA(i.year,i.locale),showSelectionGrid:T.value,items:R.value,ariaLabel:(L=s.value)==null?void 0:L.openYearsOverlay}]}),U=me(()=>i.disableYearSelect?[W.value[0]]:i.yearFirst?[...W.value].reverse():W.value);return e({toggleMonthPicker:D,toggleYearPicker:B,handleMonthYearChange:p}),(C,L)=>{var x,Y,Z;return ie(),ce("div",A9,[C.$slots["month-year"]?(ie(),ce("div",k9,[Oe(C.$slots,"month-year",an(qn({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:ae(y),handleMonthYearChange:ae(p),instance:t.instance})))])):(ie(),ce(Pe,{key:1},[C.$slots["top-extra"]?(ie(),ce("div",I9,[Oe(C.$slots,"top-extra",{value:C.internalModelValue})])):ye("",!0),$("div",x9,[ae(v)(ae(a),t.instance)&&!C.vertical?(ie(),ze(pl,{key:0,"aria-label":(x=ae(s))==null?void 0:x.prevMonth,disabled:ae(_)(!1),onActivate:L[0]||(L[0]=j=>ae(p)(!1,!0)),onSetRef:L[1]||(L[1]=j=>ee(j,0))},{default:He(()=>[C.$slots["arrow-left"]?Oe(C.$slots,"arrow-left",{key:0}):ye("",!0),C.$slots["arrow-left"]?ye("",!0):(ie(),ze(ae(nv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),$("div",{class:Xe(["dp__month_year_wrap",{dp__year_disable_select:C.disableYearSelect}])},[(ie(!0),ce(Pe,null,et(U.value,(j,P)=>(ie(),ce(Pe,{key:j.type},[$("button",{ref_for:!0,ref:X=>ee(X,P+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":j.ariaLabel,"data-test":`${j.type}-toggle-overlay-${t.instance}`,onClick:j.toggle,onKeydown:X=>ae(Xn)(X,()=>j.toggle(),!0)},[C.$slots[j.type]?Oe(C.$slots,j.type,{key:0,text:j.text,value:i[j.type]}):ye("",!0),C.$slots[j.type]?ye("",!0):(ie(),ce(Pe,{key:1},[Tn(Ce(j.text),1)],64))],40,S9),Ye(Mi,{name:ae(f)(j.showSelectionGrid),css:ae(h)},{default:He(()=>[j.showSelectionGrid?(ie(),ze(vu,{key:0,items:j.items,"arrow-navigation":C.arrowNavigation,"hide-navigation":C.hideNavigation,"is-last":C.autoApply&&!ae(u).keepActionRow,"skip-button-ref":!1,config:C.config,type:j.type,"header-refs":[],"esc-close":C.escClose,"menu-wrap-ref":C.menuWrapRef,"text-input":C.textInput,"aria-labels":C.ariaLabels,onSelected:j.updateModelValue,onToggle:j.toggle},Dn({"button-icon":He(()=>[C.$slots["calendar-icon"]?Oe(C.$slots,"calendar-icon",{key:0}):ye("",!0),C.$slots["calendar-icon"]?ye("",!0):(ie(),ze(ae(Ta),{key:1}))]),_:2},[C.$slots[`${j.type}-overlay-value`]?{name:"item",fn:He(({item:X})=>[Oe(C.$slots,`${j.type}-overlay-value`,{text:X.text,value:X.value})]),key:"0"}:void 0,C.$slots[`${j.type}-overlay`]?{name:"overlay",fn:He(()=>[Oe(C.$slots,`${j.type}-overlay`,nn({ref_for:!0},S.value(j.type)))]),key:"1"}:void 0,C.$slots[`${j.type}-overlay-header`]?{name:"header",fn:He(()=>[Oe(C.$slots,`${j.type}-overlay-header`,{toggle:j.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"])],64))),128))],2),ae(v)(ae(a),t.instance)&&C.vertical?(ie(),ze(pl,{key:1,"aria-label":(Y=ae(s))==null?void 0:Y.prevMonth,disabled:ae(_)(!1),onActivate:L[2]||(L[2]=j=>ae(p)(!1,!0))},{default:He(()=>[C.$slots["arrow-up"]?Oe(C.$slots,"arrow-up",{key:0}):ye("",!0),C.$slots["arrow-up"]?ye("",!0):(ie(),ze(ae(ov),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),ae(b)(ae(a),t.instance)?(ie(),ze(pl,{key:2,ref:"rightIcon",disabled:ae(_)(!0),"aria-label":(Z=ae(s))==null?void 0:Z.nextMonth,onActivate:L[3]||(L[3]=j=>ae(p)(!0,!0)),onSetRef:L[4]||(L[4]=j=>ee(j,C.disableYearSelect?2:3))},{default:He(()=>[C.$slots[C.vertical?"arrow-down":"arrow-right"]?Oe(C.$slots,C.vertical?"arrow-down":"arrow-right",{key:0}):ye("",!0),C.$slots[C.vertical?"arrow-down":"arrow-right"]?ye("",!0):(ie(),ze(cd(C.vertical?ae(sv):ae(rv)),{key:1}))]),_:3},8,["disabled","aria-label"])):ye("",!0)])],64))])}}}),O9=["aria-label"],P9={class:"dp__calendar_header",role:"row"},C9={key:0,class:"dp__calendar_header_item",role:"gridcell"},D9=["aria-label"],N9=$("div",{class:"dp__calendar_header_separator"},null,-1),M9=["aria-label"],L9={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},V9={class:"dp__cell_inner"},$9=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],F9=Qt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Vr},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:o}=ko(),{defaultedTransitions:s,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d}=Dt(i),f=pe(null),h=pe({bottom:"",left:"",transform:""}),m=pe([]),p=pe(null),_=pe(!0),y=pe(""),v=pe({startX:0,endX:0,startY:0,endY:0}),b=pe([]),g=pe({left:"50%"}),T=pe(!1),O=me(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),A=me(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):mU(i.formatLocale,i.locale,+i.weekStart));xt(()=>{r("mount",{cmp:"calendar",refs:m}),a.value.noSwipe||p.value&&(p.value.addEventListener("touchstart",ee,{passive:!1}),p.value.addEventListener("touchend",W,{passive:!1}),p.value.addEventListener("touchmove",U,{passive:!1})),i.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",x,{passive:!1})});const I=z=>z?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",N=(z,se)=>{if(i.transitions){const le=zn(Ai(Te(),i.month,i.year));y.value=jt(zn(Ai(Te(),z,se)),le)?s.value[I(!0)]:s.value[I(!1)],_.value=!1,wn(()=>{_.value=!0})}},S=me(()=>({[i.calendarClassName]:!!i.calendarClassName})),E=me(()=>z=>{const se=vU(z);return{dp__marker_dot:se.type==="dot",dp__marker_line:se.type==="line"}}),w=me(()=>z=>rt(z,f.value)),R=me(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),F=me(()=>z=>i.hideOffsetDates?z.current:!0),D=async(z,se,le)=>{const Q=Zt(m.value[se][le]);if(Q){const{width:M,height:K}=Q.getBoundingClientRect();f.value=z.value;let H={left:`${M/2}px`},de=-50;if(await wn(),b.value[0]){const{left:J,width:G}=b.value[0].getBoundingClientRect();J<0&&(H={left:"0"},de=0,g.value.left=`${M/2}px`),window.innerWidth<J+G&&(H={right:"0"},de=0,g.value.left=`${G-M/2}px`)}h.value={bottom:`${K}px`,...H,transform:`translateX(${de}%)`},r("tooltip-open",z.marker)}},B=async(z,se,le)=>{var Q,M;if(T.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",z);r("set-hover-date",z),(M=(Q=z.marker)==null?void 0:Q.tooltip)!=null&&M.length&&await D(z,se,le)},V=z=>{f.value&&(f.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",z.marker))},ee=z=>{v.value.startX=z.changedTouches[0].screenX,v.value.startY=z.changedTouches[0].screenY},W=z=>{v.value.endX=z.changedTouches[0].screenX,v.value.endY=z.changedTouches[0].screenY,C()},U=z=>{i.vertical&&!i.inline&&z.preventDefault()},C=()=>{const z=i.vertical?"Y":"X";Math.abs(v.value[`start${z}`]-v.value[`end${z}`])>10&&r("handle-swipe",v.value[`start${z}`]>v.value[`end${z}`]?"right":"left")},L=(z,se,le)=>{z&&(Array.isArray(m.value[se])?m.value[se][le]=z:m.value[se]=[z]),i.arrowNavigation&&o(m.value,"calendar")},x=z=>{i.monthChangeOnScroll&&(z.preventDefault(),r("handle-scroll",z))},Y=z=>c.value.type==="local"?Zg(z.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Xg(z.value):typeof c.value.type=="function"?c.value.type(z.value):"",Z=z=>{const se=z[0];return c.value.hideOnOffsetDates?z.some(le=>le.current)?Y(se):"":Y(se)},j=(z,se)=>{d.value.enabled||(uo(z,a.value),r("select-date",se))},P=z=>{uo(z,a.value)},X=z=>{d.value.enabled&&d.value.dragSelect?(T.value=!0,r("select-date",z)):d.value.enabled&&r("select-date",z)};return e({triggerTransition:N}),(z,se)=>{var le;return ie(),ce("div",{class:Xe(R.value)},[$("div",{ref_key:"calendarWrapRef",ref:p,role:"grid",class:Xe(S.value),"aria-label":(le=ae(l))==null?void 0:le.calendarWrap},[$("div",P9,[z.weekNumbers?(ie(),ce("div",C9,Ce(z.weekNumName),1)):ye("",!0),(ie(!0),ce(Pe,null,et(A.value,(Q,M)=>{var K,H;return ie(),ce("div",{key:M,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(H=(K=ae(l))==null?void 0:K.weekDay)==null?void 0:H.call(K,M)},[z.$slots["calendar-header"]?Oe(z.$slots,"calendar-header",{key:0,day:Q,index:M}):ye("",!0),z.$slots["calendar-header"]?ye("",!0):(ie(),ce(Pe,{key:1},[Tn(Ce(Q),1)],64))],8,D9)}),128))]),N9,Ye(Mi,{name:y.value,css:!!z.transitions},{default:He(()=>{var Q;return[_.value?(ie(),ce("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Q=ae(l))==null?void 0:Q.calendarDays)||void 0,onMouseleave:se[1]||(se[1]=M=>T.value=!1)},[(ie(!0),ce(Pe,null,et(O.value,(M,K)=>(ie(),ce("div",{key:K,class:"dp__calendar_row",role:"row"},[z.weekNumbers?(ie(),ce("div",L9,[$("div",V9,Ce(Z(M.days)),1)])):ye("",!0),(ie(!0),ce(Pe,null,et(M.days,(H,de)=>{var J,G,ne;return ie(),ce("div",{id:ae(ak)(H.value),ref_for:!0,ref:re=>L(re,K,de),key:de+K,role:"gridcell",class:"dp__calendar_item","aria-selected":(H.classData.dp__active_date||H.classData.dp__range_start||H.classData.dp__range_start)??void 0,"aria-disabled":H.classData.dp__cell_disabled||void 0,"aria-label":(G=(J=ae(l))==null?void 0:J.day)==null?void 0:G.call(J,H),tabindex:"0","data-test":H.value,onClick:ai(re=>j(re,H),["prevent"]),onKeydown:re=>ae(Xn)(re,()=>z.$emit("select-date",H)),onMouseenter:re=>B(H,K,de),onMouseleave:re=>V(H),onMousedown:re=>X(H),onMouseup:se[0]||(se[0]=re=>T.value=!1)},[$("div",{class:Xe(["dp__cell_inner",H.classData])},[z.$slots.day&&F.value(H)?Oe(z.$slots,"day",{key:0,day:+H.text,date:H.value}):ye("",!0),z.$slots.day?ye("",!0):(ie(),ce(Pe,{key:1},[Tn(Ce(H.text),1)],64)),H.marker&&F.value(H)?(ie(),ce(Pe,{key:2},[z.$slots.marker?Oe(z.$slots,"marker",{key:0,marker:H.marker,day:+H.text,date:H.value}):(ie(),ce("div",{key:1,class:Xe(E.value(H.marker)),style:en(H.marker.color?{backgroundColor:H.marker.color}:{})},null,6))],64)):ye("",!0),w.value(H.value)?(ie(),ce("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:en(h.value)},[(ne=H.marker)!=null&&ne.tooltip?(ie(),ce("div",{key:0,class:"dp__tooltip_content",onClick:P},[(ie(!0),ce(Pe,null,et(H.marker.tooltip,(re,fe)=>(ie(),ce("div",{key:fe,class:"dp__tooltip_text"},[z.$slots["marker-tooltip"]?Oe(z.$slots,"marker-tooltip",{key:0,tooltip:re,day:H.value}):ye("",!0),z.$slots["marker-tooltip"]?ye("",!0):(ie(),ce(Pe,{key:1},[$("div",{class:"dp__tooltip_mark",style:en(re.color?{backgroundColor:re.color}:{})},null,4),$("div",null,Ce(re.text),1)],64))]))),128)),$("div",{class:"dp__arrow_bottom_tp",style:en(g.value)},null,4)])):ye("",!0)],4)):ye("",!0)],2)],40,$9)}),128))]))),128))],40,M9)):ye("",!0)]}),_:3},8,["name","css"])],10,O9)],2)}}}),P0=t=>Array.isArray(t),B9=(t,e,n,r)=>{const i=pe([]),o=pe(new Date),s=pe(),{modelValue:a,calendars:l,time:u,today:c}=_u(t,e),{defaultedMultiCalendars:d,defaultedStartTime:f,defaultedRange:h,defaultedConfig:m,defaultedTz:p,propDates:_,defaultedMultiDates:y}=Dt(t),{validateMonthYearInRange:v,isDisabled:b,isDateRangeAllowed:g,checkMinMaxRange:T}=Io(t),{updateTimeValues:O,getSetDateTime:A,setTime:I,assignStartTime:N,validateTime:S,disabledTimesConfig:E}=pk(t,u,a,r),w=me(()=>ue=>l.value[ue]?l.value[ue].month:0),R=me(()=>ue=>l.value[ue]?l.value[ue].year:0),F=ue=>!m.value.keepViewOnOffsetClick||ue?!0:!s.value,D=(ue,be,he,Ee=!1)=>{var Ie,Ft;F(Ee)&&(l.value[ue]||(l.value[ue]={month:0,year:0}),l.value[ue].month=I0(be)?(Ie=l.value[ue])==null?void 0:Ie.month:be,l.value[ue].year=I0(he)?(Ft=l.value[ue])==null?void 0:Ft.year:he)},B=()=>{t.autoApply&&e("select-date")};Wt(a,(ue,be)=>{JSON.stringify(ue)!==JSON.stringify(be)&&W()},{deep:!0}),xt(()=>{t.shadow||(a.value||(se(),f.value&&N(f.value)),W(!0),t.focusStartDate&&t.startDate&&se())});const V=me(()=>{var ue;return(ue=t.flow)!=null&&ue.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),ee=()=>{t.autoApply&&V.value&&e("auto-apply")},W=(ue=!1)=>{if(a.value)return Array.isArray(a.value)?(i.value=a.value,j(ue)):L(a.value,ue);if(d.value.count&&ue&&!t.startDate)return C(Te(),ue)},U=()=>Array.isArray(a.value)&&h.value.enabled?nt(a.value[0])===nt(a.value[1]??a.value[0]):!1,C=(ue,be=!1)=>{if((!d.value.count||!d.value.static||be)&&D(0,nt(ue),Ze(ue)),d.value.count&&(!d.value.solo||!a.value||U()))for(let he=1;he<d.value.count;he++){const Ee=bt(Te(),{month:w.value(he-1),year:R.value(he-1)}),Ie=SA(Ee,{months:1});l.value[he]={month:nt(Ie),year:Ze(Ie)}}},L=(ue,be)=>{C(ue),I("hours",Di(ue)),I("minutes",yo(ue)),I("seconds",sa(ue)),d.value.count&&be&&z()},x=ue=>{if(d.value.count){if(d.value.solo)return 0;const be=nt(ue[0]),he=nt(ue[1]);return Math.abs(he-be)<d.value.count?0:1}return 1},Y=(ue,be)=>{ue[1]&&h.value.showLastInRange?C(ue[x(ue)],be):C(ue[0],be);const he=(Ee,Ie)=>[Ee(ue[0]),ue[1]?Ee(ue[1]):u[Ie][1]];I("hours",he(Di,"hours")),I("minutes",he(yo,"minutes")),I("seconds",he(sa,"seconds"))},Z=(ue,be)=>{if((h.value.enabled||t.weekPicker)&&!y.value.enabled)return Y(ue,be);if(y.value.enabled&&be){const he=ue[ue.length-1];return L(he,be)}},j=ue=>{const be=a.value;Z(be,ue),d.value.count&&d.value.solo&&z()},P=(ue,be)=>{const he=bt(Te(),{month:w.value(be),year:R.value(be)}),Ee=ue<0?Rr(he,1):la(he,1);v(nt(Ee),Ze(Ee),ue<0,t.preventMinMaxNavigation)&&(D(be,nt(Ee),Ze(Ee)),e("update-month-year",{instance:be,month:nt(Ee),year:Ze(Ee)}),d.value.count&&!d.value.solo&&X(be),n())},X=ue=>{for(let be=ue-1;be>=0;be--){const he=la(bt(Te(),{month:w.value(be+1),year:R.value(be+1)}),1);D(be,nt(he),Ze(he))}for(let be=ue+1;be<=d.value.count-1;be++){const he=Rr(bt(Te(),{month:w.value(be-1),year:R.value(be-1)}),1);D(be,nt(he),Ze(he))}},z=()=>{if(Array.isArray(a.value)&&a.value.length===2){const ue=Te(Te(a.value[1]?a.value[1]:Rr(a.value[0],1))),[be,he]=[nt(a.value[0]),Ze(a.value[0])],[Ee,Ie]=[nt(a.value[1]),Ze(a.value[1])];(be!==Ee||be===Ee&&he!==Ie)&&d.value.solo&&D(1,nt(ue),Ze(ue))}else a.value&&!Array.isArray(a.value)&&(D(0,nt(a.value),Ze(a.value)),C(Te()))},se=()=>{t.startDate&&(D(0,nt(Te(t.startDate)),Ze(Te(t.startDate))),d.value.count&&X(0))},le=(ue,be)=>{if(t.monthChangeOnScroll){const he=new Date().getTime()-o.value.getTime(),Ee=Math.abs(ue.deltaY);let Ie=500;Ee>1&&(Ie=100),Ee>100&&(Ie=0),he>Ie&&(o.value=new Date,P(t.monthChangeOnScroll!=="inverse"?-ue.deltaY:ue.deltaY,be))}},Q=(ue,be,he=!1)=>{t.monthChangeOnArrows&&t.vertical===he&&M(ue,be)},M=(ue,be)=>{P(ue==="right"?-1:1,be)},K=ue=>{if(_.value.markers)return nd(ue.value,_.value.markers)},H=(ue,be)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[ue==0,!0];case"fair":return[ue==0||be>ue,!0];case"append":return[!1,!1];default:return[!1,!1]}},de=(ue,be,he,Ee)=>{if(t.sixWeeks&&ue.length<6){const Ie=6-ue.length,Ft=(be.getDay()+7-Ee)%7,Ht=6-(he.getDay()+7-Ee)%7,[rr,dr]=H(Ft,Ht);for(let br=1;br<=Ie;br++)if(dr?!!(br%2)==rr:rr){const Kn=ue[0].days[0],di=J(Er(Kn.value,-7),nt(be));ue.unshift({days:di})}else{const Kn=ue[ue.length-1],di=Kn.days[Kn.days.length-1],Fr=J(Er(di.value,1),nt(be));ue.push({days:Fr})}}return ue},J=(ue,be)=>{const he=Te(ue),Ee=[];for(let Ie=0;Ie<7;Ie++){const Ft=Er(he,Ie),Ht=nt(Ft)!==be;Ee.push({text:t.hideOffsetDates&&Ht?"":Ft.getDate(),value:Ft,current:!Ht,classData:{}})}return Ee},G=(ue,be)=>{const he=[],Ee=new Date(be,ue),Ie=new Date(be,ue+1,0),Ft=t.weekStart,Ht=Mr(Ee,{weekStartsOn:Ft}),rr=dr=>{const br=J(dr,ue);if(he.push({days:br}),!he[he.length-1].days.some(Kn=>rt(zn(Kn.value),zn(Ie)))){const Kn=Er(dr,7);rr(Kn)}};return rr(Ht),de(he,Ee,Ie,Ft)},ne=ue=>{const be=co(Te(ue.value),u.hours,u.minutes,xe());e("date-update",be),y.value.enabled?fv(be,a,y.value.limit):a.value=be,r(),wn().then(()=>{ee()})},re=ue=>h.value.noDisabledRange?nk(i.value[0],ue).some(be=>b(be)):!1,fe=()=>{i.value=a.value?a.value.slice():[],i.value.length===2&&!(h.value.fixedStart||h.value.fixedEnd)&&(i.value=[])},te=(ue,be)=>{const he=[Te(ue.value),Er(Te(ue.value),+h.value.autoRange)];g(he)?(be&&ve(ue.value),i.value=he):e("invalid-date",ue.value)},ve=ue=>{const be=nt(Te(ue)),he=Ze(Te(ue));if(D(0,be,he),d.value.count>0)for(let Ee=1;Ee<d.value.count;Ee++){const Ie=kU(bt(Te(ue),{year:w.value(Ee-1),month:R.value(Ee-1)}));D(Ee,Ie.month,Ie.year)}},_e=ue=>{if(re(ue.value)||!T(ue.value,a.value,h.value.fixedStart?0:1))return e("invalid-date",ue.value);i.value=dk(Te(ue.value),a,e,h)},we=(ue,be)=>{if(fe(),h.value.autoRange)return te(ue,be);if(h.value.fixedStart||h.value.fixedEnd)return _e(ue);i.value[0]?T(Te(ue.value),a.value)&&!re(ue.value)?Nt(Te(ue.value),Te(i.value[0]))?(i.value.unshift(Te(ue.value)),e("range-end",i.value[0])):(i.value[1]=Te(ue.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",ue.value),e("invalid-date",ue.value)):(i.value[0]=Te(ue.value),e("range-start",i.value[0]))},xe=(ue=!0)=>t.enableSeconds?Array.isArray(u.seconds)?ue?u.seconds[0]:u.seconds[1]:u.seconds:0,Me=ue=>{i.value[ue]=co(i.value[ue],u.hours[ue],u.minutes[ue],xe(ue!==1))},De=()=>{var ue,be;i.value[0]&&i.value[1]&&+((ue=i.value)==null?void 0:ue[0])>+((be=i.value)==null?void 0:be[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},tt=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Me(0):(Me(0),Me(1),r()),De(),a.value=i.value.slice(),hf(i.value,e,t.autoApply,t.modelAuto))},Ve=(ue,be=!1)=>{if(b(ue.value)||!ue.current&&t.hideOffsetDates)return e("invalid-date",ue.value);if(s.value=JSON.parse(JSON.stringify(ue)),!h.value.enabled)return ne(ue);P0(u.hours)&&P0(u.minutes)&&!y.value.enabled&&(we(ue,be),tt())},mt=(ue,be)=>{var he;D(ue,be.month,be.year,!0),d.value.count&&!d.value.solo&&X(ue),e("update-month-year",{instance:ue,month:be.month,year:be.year}),n(d.value.solo?ue:void 0);const Ee=(he=t.flow)!=null&&he.length?t.flow[t.flowStep]:void 0;!be.fromNav&&(Ee===On.month||Ee===On.year)&&r()},Vn=(ue,be)=>{ck({value:ue,modelValue:a,range:h.value.enabled,timezone:be?void 0:p.value.timezone}),B(),t.multiCalendars&&wn().then(()=>W(!0))},$r=()=>{const ue=av(Te(),p.value);h.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Nt(ue,a.value[0])?[ue,a.value[0]]:[a.value[0],ue]:a.value=[ue]:a.value=ue,B()},$n=()=>{if(Array.isArray(a.value))if(y.value.enabled){const ue=nr();a.value[a.value.length-1]=A(ue)}else a.value=a.value.map((ue,be)=>ue&&A(ue,be));else a.value=A(a.value);e("time-update")},nr=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:l,modelValue:a,month:w,year:R,time:u,disabledTimesConfig:E,today:c,validateTime:S,getCalendarDays:G,getMarker:K,handleScroll:le,handleSwipe:M,handleArrow:Q,selectDate:Ve,updateMonthYear:mt,presetDate:Vn,selectCurrentDate:$r,updateTime:(ue,be=!0,he=!1)=>{O(ue,be,he,$n)}}},j9={key:0},U9=Qt({__name:"DatePicker",props:{...Vr},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:o,month:s,year:a,modelValue:l,time:u,disabledTimesConfig:c,today:d,validateTime:f,getCalendarDays:h,getMarker:m,handleArrow:p,handleScroll:_,handleSwipe:y,selectDate:v,updateMonthYear:b,presetDate:g,selectCurrentDate:T,updateTime:O}=B9(i,r,U,C),A=ss(),{setHoverDate:I,getDayClassData:N,clearHoverDate:S}=iq(l,i),{defaultedMultiCalendars:E}=Dt(i),w=pe([]),R=pe([]),F=pe(null),D=ar(A,"calendar"),B=ar(A,"monthYear"),V=ar(A,"timePicker"),ee=le=>{i.shadow||r("mount",le)};Wt(o,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const W=me(()=>le=>h(s.value(le),a.value(le)).map(Q=>({...Q,days:Q.days.map(M=>(M.marker=m(M),M.classData=N(M),M))})));function U(le){var Q;le||le===0?(Q=R.value[le])==null||Q.triggerTransition(s.value(le),a.value(le)):R.value.forEach((M,K)=>M.triggerTransition(s.value(K),a.value(K)))}function C(){r("update-flow-step")}const L=(le,Q=!1)=>{v(le,Q),i.spaceConfirm&&r("select-date")},x=(le,Q,M=0)=>{var K;(K=w.value[M])==null||K.toggleMonthPicker(le,Q)},Y=(le,Q,M=0)=>{var K;(K=w.value[M])==null||K.toggleYearPicker(le,Q)},Z=(le,Q,M)=>{var K;(K=F.value)==null||K.toggleTimePicker(le,Q,M)},j=(le,Q)=>{var M;if(!i.range){const K=l.value?l.value:d,H=Q?new Date(Q):K,de=le?Mr(H,{weekStartsOn:1}):LA(H,{weekStartsOn:1});v({value:de,current:nt(H)===s.value(0),text:"",classData:{}}),(M=document.getElementById(ak(de)))==null||M.focus()}},P=le=>{var Q;(Q=w.value[0])==null||Q.handleMonthYearChange(le,!0)},X=le=>{b(0,{month:s.value(0),year:a.value(0)+(le?1:-1),fromNav:!0})},z=(le,Q)=>{le===On.time&&r(`time-picker-${Q?"open":"close"}`),r("overlay-toggle",{open:Q,overlay:le})},se=le=>{r("overlay-toggle",{open:!1,overlay:le}),r("focus-menu")};return e({clearHoverDate:S,presetDate:g,selectCurrentDate:T,toggleMonthPicker:x,toggleYearPicker:Y,toggleTimePicker:Z,handleArrow:p,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:s,year:a,time:u,updateTime:O,updateMonthYear:b,selectDate:v,presetDate:g}),changeMonth:P,changeYear:X,selectWeekDate:j}),(le,Q)=>(ie(),ce(Pe,null,[Ye(ff,{"multi-calendars":ae(E).count,collapse:le.collapse},{default:He(({instance:M,index:K})=>[le.disableMonthYearSelect?ye("",!0):(ie(),ze(R9,nn({key:0,ref:H=>{H&&(w.value[K]=H)},months:ae(QA)(le.formatLocale,le.locale,le.monthNameFormat),years:ae(lv)(le.yearRange,le.locale,le.reverseYears),month:ae(s)(M),year:ae(a)(M),instance:M},le.$props,{onMount:Q[0]||(Q[0]=H=>ee(ae(Go).header)),onResetFlow:Q[1]||(Q[1]=H=>le.$emit("reset-flow")),onUpdateMonthYear:H=>ae(b)(M,H),onOverlayClosed:se,onOverlayOpened:Q[2]||(Q[2]=H=>le.$emit("overlay-toggle",{open:!0,overlay:H}))}),Dn({_:2},[et(ae(B),(H,de)=>({name:H,fn:He(J=>[Oe(le.$slots,H,an(qn(J)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ye(F9,nn({ref:H=>{H&&(R.value[K]=H)},"mapped-dates":W.value(M),month:ae(s)(M),year:ae(a)(M),instance:M},le.$props,{onSelectDate:H=>ae(v)(H,M!==1),onHandleSpace:H=>L(H,M!==1),onSetHoverDate:Q[3]||(Q[3]=H=>ae(I)(H)),onHandleScroll:H=>ae(_)(H,M),onHandleSwipe:H=>ae(y)(H,M),onMount:Q[4]||(Q[4]=H=>ee(ae(Go).calendar)),onResetFlow:Q[5]||(Q[5]=H=>le.$emit("reset-flow")),onTooltipOpen:Q[6]||(Q[6]=H=>le.$emit("tooltip-open",H)),onTooltipClose:Q[7]||(Q[7]=H=>le.$emit("tooltip-close",H))}),Dn({_:2},[et(ae(D),(H,de)=>({name:H,fn:He(J=>[Oe(le.$slots,H,an(qn({...J})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),le.enableTimePicker?(ie(),ce("div",j9,[le.$slots["time-picker"]?Oe(le.$slots,"time-picker",an(nn({key:0},{time:ae(u),updateTime:ae(O)}))):(ie(),ze(hk,nn({key:1,ref_key:"timePickerRef",ref:F},le.$props,{hours:ae(u).hours,minutes:ae(u).minutes,seconds:ae(u).seconds,"internal-model-value":le.internalModelValue,"disabled-times-config":ae(c),"validate-time":ae(f),onMount:Q[8]||(Q[8]=M=>ee(ae(Go).timePicker)),"onUpdate:hours":Q[9]||(Q[9]=M=>ae(O)(M)),"onUpdate:minutes":Q[10]||(Q[10]=M=>ae(O)(M,!1)),"onUpdate:seconds":Q[11]||(Q[11]=M=>ae(O)(M,!1,!0)),onResetFlow:Q[12]||(Q[12]=M=>le.$emit("reset-flow")),onOverlayClosed:Q[13]||(Q[13]=M=>z(M,!1)),onOverlayOpened:Q[14]||(Q[14]=M=>z(M,!0)),onAmPmChange:Q[15]||(Q[15]=M=>le.$emit("am-pm-change",M))}),Dn({_:2},[et(ae(V),(M,K)=>({name:M,fn:He(H=>[Oe(le.$slots,M,an(qn(H)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ye("",!0)],64))}}),q9=(t,e)=>{const n=pe(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:o,defaultedRange:s,propDates:a,defaultedFilters:l,defaultedMultiDates:u}=Dt(t),{modelValue:c,year:d,month:f,calendars:h}=_u(t,e),{isDisabled:m}=Io(t),{selectYear:p,groupedYears:_,showYearPicker:y,isDisabled:v,toggleYearPicker:b,handleYearSelect:g,handleYear:T}=fk({modelValue:c,multiCalendars:r,range:s,highlight:o,calendars:h,propDates:a,month:f,year:d,filters:l,props:t,emit:e}),O=(D,B)=>[D,B].map(V=>Or(V,"MMMM",{locale:t.formatLocale})).join("-"),A=me(()=>D=>c.value?Array.isArray(c.value)?c.value.some(B=>E0(D,B)):E0(c.value,D):!1),I=D=>{if(s.value.enabled){if(Array.isArray(c.value)){const B=rt(D,c.value[0])||rt(D,c.value[1]);return cf(c.value,n.value,D)&&!B}return!1}return!1},N=(D,B)=>D.quarter===v0(B)&&D.year===Ze(B),S=D=>typeof o.value=="function"?o.value({quarter:v0(D),year:Ze(D)}):!!o.value.quarters.find(B=>N(B,D)),E=me(()=>D=>{const B=bt(new Date,{year:d.value(D)});return gB({start:Qg(B),end:MA(B)}).map(V=>{const ee=Ho(V),W=y0(V),U=m(V),C=I(ee),L=S(ee);return{text:O(ee,W),value:ee,active:A.value(ee),highlighted:L,disabled:U,isBetween:C}})}),w=D=>{fv(D,c,u.value.limit),e("auto-apply",!0)},R=D=>{c.value=hv(c,D,e),hf(c.value,e,t.autoApply,t.modelAuto)},F=D=>{c.value=D,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:_,year:d,isDisabled:v,quarters:E,showYearPicker:y,modelValue:c,setHoverDate:D=>{n.value=D},selectYear:p,selectQuarter:(D,B,V)=>{if(!V)return h.value[B].month=nt(y0(D)),u.value.enabled?w(D):s.value.enabled?R(D):F(D)},toggleYearPicker:b,handleYearSelect:g,handleYear:T}},H9={class:"dp--quarter-items"},z9=["data-test","disabled","onClick","onMouseover"],K9=Qt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Vr},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ss(),s=ar(o,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:m,setHoverDate:p,selectQuarter:_,toggleYearPicker:y,handleYearSelect:v,handleYear:b}=q9(i,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:_,handleYearSelect:v,handleYear:b})}),(g,T)=>(ie(),ze(ff,{"multi-calendars":ae(a).count,collapse:g.collapse,stretch:""},{default:He(({instance:O})=>[$("div",{class:"dp-quarter-picker-wrap",style:en({minHeight:`${ae(l).modeHeight}px`})},[g.$slots["top-extra"]?Oe(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):ye("",!0),$("div",null,[Ye(uk,nn(g.$props,{items:ae(u)(O),instance:O,"show-year-picker":ae(m)[O],year:ae(c)(O),"is-disabled":A=>ae(d)(O,A),onHandleYear:A=>ae(b)(O,A),onYearSelect:A=>ae(v)(A,O),onToggleYearPicker:A=>ae(y)(O,A==null?void 0:A.flow,A==null?void 0:A.show)}),Dn({_:2},[et(ae(s),(A,I)=>({name:A,fn:He(N=>[Oe(g.$slots,A,an(qn(N)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),$("div",H9,[(ie(!0),ce(Pe,null,et(ae(f)(O),(A,I)=>(ie(),ce("div",{key:I},[$("button",{type:"button",class:Xe(["dp--qr-btn",{"dp--qr-btn-active":A.active,"dp--qr-btn-between":A.isBetween,"dp--qr-btn-disabled":A.disabled,"dp--highlighted":A.highlighted}]),"data-test":A.value,disabled:A.disabled,onClick:N=>ae(_)(A.value,O,A.disabled),onMouseover:N=>ae(p)(A.value)},[g.$slots.quarter?Oe(g.$slots,"quarter",{key:0,value:A.value,text:A.text}):(ie(),ce(Pe,{key:1},[Tn(Ce(A.text),1)],64))],42,z9)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),Y9=["id","aria-label"],W9={key:0,class:"dp--menu-load-container"},G9=$("span",{class:"dp--menu-loader"},null,-1),Q9=[G9],X9={key:0,class:"dp__sidebar_left"},J9=["data-test","onClick","onKeydown"],Z9={key:2,class:"dp__sidebar_right"},eq={key:3,class:"dp__action_extra"},C0=Qt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...df,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=pe(null),s=me(()=>{const{openOnTop:J,...G}=i;return{...G,flowStep:I.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:o.value}}),{setMenuFocused:a,setShiftKey:l,control:u}=lk(),c=ss(),{defaultedTextInput:d,defaultedInline:f,defaultedConfig:h}=Dt(i),m=pe(null),p=pe(0),_=pe(null),y=pe(!1),v=pe(null);xt(()=>{if(!i.shadow){y.value=!0,b(),window.addEventListener("resize",b);const J=Zt(o);if(J&&!d.value.enabled&&!f.value.enabled&&(a(!0),D()),J){const G=ne=>{h.value.allowPreventDefault&&ne.preventDefault(),uo(ne,h.value,!0)};J.addEventListener("pointerdown",G),J.addEventListener("mousedown",G)}}}),fa(()=>{window.removeEventListener("resize",b)});const b=()=>{const J=Zt(_);J&&(p.value=J.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:T,arrowDown:O,arrowUp:A}=ko(),{flowStep:I,updateFlowStep:N,childMount:S,resetFlow:E,handleFlow:w}=oq(i,r,v),R=me(()=>i.monthPicker?i9:i.yearPicker?s9:i.timePicker?E9:i.quarterPicker?K9:U9),F=me(()=>{var J;if(h.value.arrowLeft)return h.value.arrowLeft;const G=(J=o.value)==null?void 0:J.getBoundingClientRect(),ne=i.getInputRect();return ne.width<p.value&&ne.left<=((G==null?void 0:G.left)??0)?`${ne.width/2}px`:"50%"}),D=()=>{const J=Zt(o);J&&J.focus({preventScroll:!0})},B=me(()=>{var J;return((J=v.value)==null?void 0:J.getSidebarProps())||{}}),V=()=>{i.openOnTop&&r("recalculate-position")},ee=ar(c,"action"),W=me(()=>i.monthPicker||i.yearPicker?ar(c,"monthYear"):i.timePicker?ar(c,"timePicker"):ar(c,"shared")),U=me(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),C=me(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),L=me(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[i.menuClassName]:!!i.menuClassName})),x=J=>{uo(J,h.value,!0)},Y=()=>{i.escClose&&r("close-picker")},Z=J=>{if(i.arrowNavigation){if(J===Un.up)return A();if(J===Un.down)return O();if(J===Un.left)return T();if(J===Un.right)return g()}else J===Un.left||J===Un.up?se("handleArrow",Un.left,0,J===Un.up):se("handleArrow",Un.right,0,J===Un.down)},j=J=>{l(J.shiftKey),!i.disableMonthYearSelect&&J.code===St.tab&&J.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(J.preventDefault(),uo(J,h.value,!0),r("close-picker"))},P=()=>{D(),r("time-picker-close")},X=J=>{var G,ne,re;(G=v.value)==null||G.toggleTimePicker(!1,!1),(ne=v.value)==null||ne.toggleMonthPicker(!1,!1,J),(re=v.value)==null||re.toggleYearPicker(!1,!1,J)},z=(J,G=0)=>{var ne,re,fe;return J==="month"?(ne=v.value)==null?void 0:ne.toggleMonthPicker(!1,!0,G):J==="year"?(re=v.value)==null?void 0:re.toggleYearPicker(!1,!0,G):J==="time"?(fe=v.value)==null?void 0:fe.toggleTimePicker(!0,!1):X(G)},se=(J,...G)=>{var ne,re;(ne=v.value)!=null&&ne[J]&&((re=v.value)==null||re[J](...G))},le=()=>{se("selectCurrentDate")},Q=(J,G)=>{se("presetDate",J,G)},M=()=>{se("clearHoverDate")},K=(J,G)=>{se("updateMonthYear",J,G)},H=(J,G)=>{J.preventDefault(),Z(G)},de=J=>{var G;if(j(J),J.key===St.home||J.key===St.end)return se("selectWeekDate",J.key===St.home,J.target.getAttribute("id"));switch((J.key===St.pageUp||J.key===St.pageDown)&&(J.shiftKey?se("changeYear",J.key===St.pageUp):se("changeMonth",J.key===St.pageUp),J.target.getAttribute("id")&&((G=o.value)==null||G.focus({preventScroll:!0}))),J.key){case St.esc:return Y();case St.arrowLeft:return H(J,Un.left);case St.arrowRight:return H(J,Un.right);case St.arrowUp:return H(J,Un.up);case St.arrowDown:return H(J,Un.down);default:return}};return e({updateMonthYear:K,switchView:z,handleFlow:w}),(J,G)=>{var ne,re,fe;return ie(),ce("div",{id:J.uid?`dp-menu-${J.uid}`:void 0,ref_key:"dpMenuRef",ref:o,tabindex:"0",role:"dialog","aria-label":(ne=J.ariaLabels)==null?void 0:ne.menu,class:Xe(L.value),style:en({"--dp-arrow-left":F.value}),onMouseleave:M,onClick:x,onKeydown:de},[(J.disabled||J.readonly)&&ae(f).enabled||J.loading?(ie(),ce("div",{key:0,class:Xe(C.value)},[J.loading?(ie(),ce("div",W9,Q9)):ye("",!0)],2)):ye("",!0),!ae(f).enabled&&!J.teleportCenter?(ie(),ce("div",{key:1,class:Xe(U.value)},null,2)):ye("",!0),$("div",{ref_key:"innerMenuRef",ref:_,class:Xe({dp__menu_content_wrapper:((re=J.presetDates)==null?void 0:re.length)||!!J.$slots["left-sidebar"]||!!J.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((fe=J.presetDates)==null?void 0:fe.length)||!!J.$slots["left-sidebar"]||!!J.$slots["right-sidebar"])}),style:en({"--dp-menu-width":`${p.value}px`})},[J.$slots["left-sidebar"]?(ie(),ce("div",X9,[Oe(J.$slots,"left-sidebar",an(qn(B.value)))])):ye("",!0),J.presetDates.length?(ie(),ce("div",{key:1,class:Xe({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ie(!0),ce(Pe,null,et(J.presetDates,(te,ve)=>(ie(),ce(Pe,{key:ve},[te.slot?Oe(J.$slots,te.slot,{key:0,presetDate:Q,label:te.label,value:te.value}):(ie(),ce("button",{key:1,type:"button",style:en(te.style||{}),class:Xe(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":te.testId??void 0,onClick:ai(_e=>Q(te.value,te.noTz),["prevent"]),onKeydown:_e=>ae(Xn)(_e,()=>Q(te.value,te.noTz),!0)},Ce(te.label),47,J9))],64))),128))],2)):ye("",!0),$("div",{ref_key:"calendarWrapperRef",ref:m,class:"dp__instance_calendar",role:"document"},[(ie(),ze(cd(R.value),nn({ref_key:"dynCmpRef",ref:v},s.value,{"flow-step":ae(I),onMount:ae(S),onUpdateFlowStep:ae(N),onResetFlow:ae(E),onFocusMenu:D,onSelectDate:G[0]||(G[0]=te=>J.$emit("select-date")),onDateUpdate:G[1]||(G[1]=te=>J.$emit("date-update",te)),onTooltipOpen:G[2]||(G[2]=te=>J.$emit("tooltip-open",te)),onTooltipClose:G[3]||(G[3]=te=>J.$emit("tooltip-close",te)),onAutoApply:G[4]||(G[4]=te=>J.$emit("auto-apply",te)),onRangeStart:G[5]||(G[5]=te=>J.$emit("range-start",te)),onRangeEnd:G[6]||(G[6]=te=>J.$emit("range-end",te)),onInvalidFixedRange:G[7]||(G[7]=te=>J.$emit("invalid-fixed-range",te)),onTimeUpdate:G[8]||(G[8]=te=>J.$emit("time-update")),onAmPmChange:G[9]||(G[9]=te=>J.$emit("am-pm-change",te)),onTimePickerOpen:G[10]||(G[10]=te=>J.$emit("time-picker-open",te)),onTimePickerClose:P,onRecalculatePosition:V,onUpdateMonthYear:G[11]||(G[11]=te=>J.$emit("update-month-year",te)),onAutoApplyInvalid:G[12]||(G[12]=te=>J.$emit("auto-apply-invalid",te)),onInvalidDate:G[13]||(G[13]=te=>J.$emit("invalid-date",te)),onOverlayToggle:G[14]||(G[14]=te=>J.$emit("overlay-toggle",te)),"onUpdate:internalModelValue":G[15]||(G[15]=te=>J.$emit("update:internal-model-value",te))}),Dn({_:2},[et(W.value,(te,ve)=>({name:te,fn:He(_e=>[Oe(J.$slots,te,an(qn({..._e})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),J.$slots["right-sidebar"]?(ie(),ce("div",Z9,[Oe(J.$slots,"right-sidebar",an(qn(B.value)))])):ye("",!0),J.$slots["action-extra"]?(ie(),ce("div",eq,[J.$slots["action-extra"]?Oe(J.$slots,"action-extra",{key:0,selectCurrentDate:le}):ye("",!0)])):ye("",!0)],6),!J.autoApply||ae(h).keepActionRow?(ie(),ze(QU,nn({key:2,"menu-mount":y.value},s.value,{"calendar-width":p.value,onClosePicker:G[16]||(G[16]=te=>J.$emit("close-picker")),onSelectDate:G[17]||(G[17]=te=>J.$emit("select-date")),onInvalidSelect:G[18]||(G[18]=te=>J.$emit("invalid-select")),onSelectNow:le}),Dn({_:2},[et(ae(ee),(te,ve)=>({name:te,fn:He(_e=>[Oe(J.$slots,te,an(qn({..._e})))])}))]),1040,["menu-mount","calendar-width"])):ye("",!0)],46,Y9)}}});var Ps=(t=>(t.center="center",t.left="left",t.right="right",t))(Ps||{});const tq=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:o,props:s,slots:a})=>{const l=pe({}),u=pe(!1),c=pe({top:"0",left:"0"}),d=pe(!1),f=vl(s,"teleportCenter");Wt(f,()=>{c.value=JSON.parse(JSON.stringify({})),g()});const h=D=>{if(s.teleport){const B=D.getBoundingClientRect();return{left:B.left+window.scrollX,top:B.top+window.scrollY}}return{top:0,left:0}},m=(D,B)=>{c.value.left=`${D+B-l.value.width}px`},p=D=>{c.value.left=`${D}px`},_=(D,B)=>{s.position===Ps.left&&p(D),s.position===Ps.right&&m(D,B),s.position===Ps.center&&(c.value.left=`${D+B/2-l.value.width/2}px`)},y=D=>{const{width:B,height:V}=D.getBoundingClientRect(),{top:ee,left:W}=s.altPosition?s.altPosition(D):h(D);return{top:+ee,left:+W,width:B,height:V}},v=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},b=()=>{const D=Zt(n),{top:B,left:V,transform:ee}=s.altPosition(D);c.value={top:`${B}px`,left:`${V}px`,transform:ee??""}},g=(D=!0)=>{var B;if(!i.value.enabled){if(f.value)return v();if(s.altPosition!==null)return b();if(D){const V=s.teleport?(B=e.value)==null?void 0:B.$el:t.value;V&&(l.value=V.getBoundingClientRect()),o("recalculate-position")}return E()}},T=({inputEl:D,left:B,width:V})=>{window.screen.width>768&&!u.value&&_(B,V),I(D)},O=D=>{const{top:B,left:V,height:ee,width:W}=y(D);c.value.top=`${ee+B+ +s.offset}px`,d.value=!1,u.value||(c.value.left=`${V+W/2-l.value.width/2}px`),T({inputEl:D,left:V,width:W})},A=D=>{const{top:B,left:V,width:ee}=y(D);c.value.top=`${B-+s.offset-l.value.height}px`,d.value=!0,T({inputEl:D,left:V,width:ee})},I=D=>{if(s.autoPosition){const{left:B,width:V}=y(D),{left:ee,right:W}=l.value;if(!u.value){if(Math.abs(ee)!==Math.abs(W)){if(ee<=0)return u.value=!0,p(B);if(W>=document.documentElement.clientWidth)return u.value=!0,m(B,V)}return _(B,V)}}},N=()=>{const D=Zt(n);if(D){const{height:B}=l.value,{top:V,height:ee}=D.getBoundingClientRect(),W=window.innerHeight-V-ee,U=V;return B<=W?Lo.bottom:B>W&&B<=U?Lo.top:W>=U?Lo.bottom:Lo.top}return Lo.bottom},S=D=>N()===Lo.bottom?O(D):A(D),E=()=>{const D=Zt(n);if(D)return s.autoPosition?S(D):O(D)},w=function(D){if(D){const B=D.scrollHeight>D.clientHeight,V=window.getComputedStyle(D).overflowY.indexOf("hidden")!==-1;return B&&!V}return!0},R=function(D){return!D||D===document.body||D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:w(D)?D:R(D.assignedSlot?D.assignedSlot.parentNode:D.parentNode)},F=D=>{if(D)switch(s.position){case Ps.left:return{left:0,transform:"translateX(0)"};case Ps.right:return{left:`${D.width}px`,transform:"translateX(-100%)"};default:return{left:`${D.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:g,getScrollableParent:R,shadowRender:(D,B)=>{var V,ee,W;const U=document.createElement("div"),C=(V=Zt(n))==null?void 0:V.getBoundingClientRect();U.setAttribute("id","dp--temp-container");const L=(ee=r.value)!=null&&ee.clientWidth?r.value:document.body;L.append(U);const x=F(C),Y=Xl(D,{...B,shadow:!0,style:{opacity:0,position:"absolute",...x}},Object.fromEntries(Object.keys(a).filter(Z=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(Z)).map(Z=>[Z,a[Z]])));iy(Y,U),l.value=(W=Y.el)==null?void 0:W.getBoundingClientRect(),iy(null,U),L.removeChild(U)}}},qi=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],nq=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],rq={all:()=>qi,monthYear:()=>qi.filter(t=>t.use.includes("month-year")),input:()=>nq,timePicker:()=>qi.filter(t=>t.use.includes("time")),action:()=>qi.filter(t=>t.use.includes("action")),calendar:()=>qi.filter(t=>t.use.includes("calendar")),menu:()=>qi.filter(t=>t.use.includes("menu")),shared:()=>qi.filter(t=>t.use.includes("shared")),yearMode:()=>qi.filter(t=>t.use.includes("year-mode"))},ar=(t,e,n)=>{const r=[];return rq[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},yu=t=>{const e=me(()=>r=>t.value?r?t.value.open:t.value.close:""),n=me(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},_u=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=Dt(t),i=Te(oi(Te(),r.value.timezone)),o=pe([{month:nt(i),year:Ze(i)}]),s=d=>{const f={hours:Di(i),minutes:yo(i),seconds:0};return n.value.enabled?[f[d],f[d]]:f[d]},a=vr({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});Wt(n,(d,f)=>{d.enabled!==f.enabled&&(a.hours=s("hours"),a.minutes=s("minutes"),a.seconds=s("seconds"))},{deep:!0});const l=me({get:()=>t.internalModelValue,set:d=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",d)}}),u=me(()=>d=>o.value[d]?o.value[d].month:0),c=me(()=>d=>o.value[d]?o.value[d].year:0);return{calendars:o,time:a,modelValue:l,month:u,year:c,today:i}},iq=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:a}=Dt(e),{isDisabled:l}=Io(e),u=pe(null),c=pe(oi(new Date,o.value.timezone)),d=x=>{!x.current&&e.hideOffsetDates||(u.value=x.value)},f=()=>{u.value=null},h=x=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&u.value?x?jt(u.value,t.value[0]):Nt(u.value,t.value[0]):!0,m=(x,Y)=>{const Z=()=>t.value?Y?t.value[0]||null:t.value[1]:null,j=t.value&&Array.isArray(t.value)?Z():null;return rt(Te(x.value),j)},p=x=>{const Y=Array.isArray(t.value)?t.value[0]:null;return x?!Nt(u.value??null,Y):!0},_=(x,Y=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!x.current?!1:rt(Te(x.value),t.value[Y?0:1]):a.value.enabled?m(x,Y)&&p(Y)||rt(x.value,Array.isArray(t.value)?t.value[0]:null)&&h(Y):!1,y=(x,Y)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const Z=rt(x.value,u.value);return Y?jt(t.value[0],x.value)&&Z:Nt(t.value[0],x.value)&&Z}return!1},v=x=>!t.value||e.hideOffsetDates&&!x.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?rt(x.value,t.value[0]?t.value[0]:c.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(Y=>rt(Y,x.value)):rt(x.value,t.value?t.value:c.value),b=x=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!x.current)return!1;const Y=Er(u.value,+a.value.autoRange),Z=vi(Te(u.value),e.weekStart);return e.weekPicker?rt(Z[1],Te(x.value)):rt(Y,Te(x.value))}return!1}return!1},g=x=>{if(a.value.autoRange||e.weekPicker){if(u.value){const Y=Er(u.value,+a.value.autoRange);if(e.hideOffsetDates&&!x.current)return!1;const Z=vi(Te(u.value),e.weekStart);return e.weekPicker?jt(x.value,Z[0])&&Nt(x.value,Z[1]):jt(x.value,u.value)&&Nt(x.value,Y)}return!1}return!1},T=x=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!x.current)return!1;const Y=vi(Te(u.value),e.weekStart);return e.weekPicker?rt(Y[0],x.value):rt(u.value,x.value)}return!1}return!1},O=x=>cf(t.value,u.value,x.value),A=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,I=()=>e.modelAuto?XA(e.internalModelValue):!0,N=x=>{if(e.weekPicker)return!1;const Y=a.value.enabled?!_(x)&&!_(x,!1):!0;return!l(x.value)&&!v(x)&&!(!x.current&&e.hideOffsetDates)&&Y},S=x=>a.value.enabled?e.modelAuto?A()&&v(x):!1:v(x),E=x=>i.value?TU(x.value,s.value.highlight):!1,w=x=>{const Y=l(x.value);return Y&&(typeof i.value=="function"?!i.value(x.value,Y):!i.value.options.highlightDisabled)},R=x=>{var Y;return typeof i.value=="function"?i.value(x.value):(Y=i.value.weekdays)==null?void 0:Y.includes(x.value.getDay())},F=x=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||x.current)&&I()&&!(!x.current&&e.hideOffsetDates)&&!v(x)?O(x):!1,D=x=>{const{isRangeStart:Y,isRangeEnd:Z}=W(x),j=a.value.enabled?Y||Z:!1;return{dp__cell_offset:!x.current,dp__pointer:!e.disabled&&!(!x.current&&e.hideOffsetDates)&&!l(x.value),dp__cell_disabled:l(x.value),dp__cell_highlight:!w(x)&&(E(x)||R(x))&&!S(x)&&!j&&!T(x)&&!(F(x)&&e.weekPicker)&&!Z,dp__cell_highlight_active:!w(x)&&(E(x)||R(x))&&S(x),dp__today:!e.noToday&&rt(x.value,c.value)&&x.current,"dp--past":Nt(x.value,c.value),"dp--future":jt(x.value,c.value)}},B=x=>({dp__active_date:S(x),dp__date_hover:N(x)}),V=x=>{if(t.value&&!Array.isArray(t.value)){const Y=vi(t.value,e.weekStart);return{...C(x),dp__range_start:rt(Y[0],x.value),dp__range_end:rt(Y[1],x.value),dp__range_between_week:jt(x.value,Y[0])&&Nt(x.value,Y[1])}}return{...C(x)}},ee=x=>{if(t.value&&Array.isArray(t.value)){const Y=vi(t.value[0],e.weekStart),Z=t.value[1]?vi(t.value[1],e.weekStart):[];return{...C(x),dp__range_start:rt(Y[0],x.value)||rt(Z[0],x.value),dp__range_end:rt(Y[1],x.value)||rt(Z[1],x.value),dp__range_between_week:jt(x.value,Y[0])&&Nt(x.value,Y[1])||jt(x.value,Z[0])&&Nt(x.value,Z[1]),dp__range_between:jt(x.value,Y[1])&&Nt(x.value,Z[0])}}return{...C(x)}},W=x=>{const Y=n.value.count>0?x.current&&_(x)&&I():_(x)&&I(),Z=n.value.count>0?x.current&&_(x,!1)&&I():_(x,!1)&&I();return{isRangeStart:Y,isRangeEnd:Z}},U=x=>{const{isRangeStart:Y,isRangeEnd:Z}=W(x);return{dp__range_start:Y,dp__range_end:Z,dp__range_between:F(x),dp__date_hover:rt(x.value,u.value)&&!Y&&!Z&&!e.weekPicker,dp__date_hover_start:y(x,!0),dp__date_hover_end:y(x,!1)}},C=x=>({...U(x),dp__cell_auto_range:g(x),dp__cell_auto_range_start:T(x),dp__cell_auto_range_end:b(x)}),L=x=>a.value.enabled?a.value.autoRange?C(x):e.modelAuto?{...B(x),...U(x)}:e.weekPicker?ee(x):U(x):e.weekPicker?V(x):B(x);return{setHoverDate:d,clearHoverDate:f,getDayClassData:x=>e.hideOffsetDates&&!x.current?{}:{...D(x),...L(x),[e.dayClass?e.dayClass(x.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Io=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=Dt(t),o=w=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Te(w)):!!nd(w,r.value.disabledDates):!1,s=w=>{const R=r.value.maxDate?jt(w,r.value.maxDate):!1,F=r.value.minDate?Nt(w,r.value.minDate):!1,D=o(w),B=e.value.months.map(C=>+C).includes(nt(w)),V=t.disabledWeekDays.length?t.disabledWeekDays.some(C=>+C===uj(w)):!1,ee=d(w),W=Ze(w),U=W<+t.yearRange[0]||W>+t.yearRange[1];return!(R||F||D||B||U||V||ee)},a=(w,R)=>Nt(...no(r.value.minDate,w,R))||rt(...no(r.value.minDate,w,R)),l=(w,R)=>jt(...no(r.value.maxDate,w,R))||rt(...no(r.value.maxDate,w,R)),u=(w,R,F)=>{let D=!1;return r.value.maxDate&&F&&l(w,R)&&(D=!0),r.value.minDate&&!F&&a(w,R)&&(D=!0),D},c=(w,R,F,D)=>{let B=!1;return D?r.value.minDate&&r.value.maxDate?B=u(w,R,F):(r.value.minDate&&a(w,R)||r.value.maxDate&&l(w,R))&&(B=!0):B=!0,B},d=w=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!nd(w,r.value.allowedDates):!1,f=w=>!s(w),h=w=>n.value.noDisabledRange?!NA({start:w[0],end:w[1]}).some(R=>f(R)):!0,m=w=>{if(w){const R=Ze(w);return R>=+t.yearRange[0]&&R<=t.yearRange[1]}return!0},p=(w,R)=>!!(Array.isArray(w)&&w[R]&&(n.value.maxRange||n.value.minRange)&&m(w[R])),_=(w,R,F=0)=>{if(p(R,F)&&m(w)){const D=CA(w,R[F]),B=nk(R[F],w),V=B.length===1?0:B.filter(W=>f(W)).length,ee=Math.abs(D)-(n.value.minMaxRawRange?0:V);if(n.value.minRange&&n.value.maxRange)return ee>=+n.value.minRange&&ee<=+n.value.maxRange;if(n.value.minRange)return ee>=+n.value.minRange;if(n.value.maxRange)return ee<=+n.value.maxRange}return!0},y=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,v=w=>Array.isArray(w)?[w[0]?Hh(w[0]):null,w[1]?Hh(w[1]):null]:Hh(w),b=(w,R,F)=>w.find(D=>+D.hours===Di(R)&&D.minutes==="*"?!0:+D.minutes===yo(R)&&+D.hours===Di(R))&&F,g=(w,R,F)=>{const[D,B]=w,[V,ee]=R;return!b(D,V,F)&&!b(B,ee,F)&&F},T=(w,R)=>{const F=Array.isArray(R)?R:[R];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?g(t.disabledTimes,F,w):!F.some(D=>b(t.disabledTimes,D,w)):w},O=(w,R)=>{const F=Array.isArray(R)?[Qo(R[0]),R[1]?Qo(R[1]):void 0]:Qo(R),D=!t.disabledTimes(F);return w&&D},A=(w,R)=>t.disabledTimes?Array.isArray(t.disabledTimes)?T(R,w):O(R,w):R,I=w=>{let R=!0;if(!w||y())return!0;const F=!r.value.minDate&&!r.value.maxDate?v(w):w;return(t.maxTime||r.value.maxDate)&&(R=S0(t.maxTime,r.value.maxDate,"max",on(F),R)),(t.minTime||r.value.minDate)&&(R=S0(t.minTime,r.value.minDate,"min",on(F),R)),A(w,R)},N=w=>{if(!t.monthPicker)return!0;let R=!0;const F=Te(Ar(w));if(r.value.minDate&&r.value.maxDate){const D=Te(Ar(r.value.minDate)),B=Te(Ar(r.value.maxDate));return jt(F,D)&&Nt(F,B)||rt(F,D)||rt(F,B)}if(r.value.minDate){const D=Te(Ar(r.value.minDate));R=jt(F,D)||rt(F,D)}if(r.value.maxDate){const D=Te(Ar(r.value.maxDate));R=Nt(F,D)||rt(F,D)}return R},S=me(()=>w=>!t.enableTimePicker||t.ignoreTimeValidation?!0:I(w)),E=me(()=>w=>t.monthPicker?Array.isArray(w)&&(n.value.enabled||i.value.enabled)?!w.filter(R=>!N(R)).length:N(w):!0);return{isDisabled:f,validateDate:s,validateMonthYearInRange:c,isDateRangeAllowed:h,checkMinMaxRange:_,isValidTime:I,isTimeValid:S,isMonthValid:E}},pf=()=>{const t=me(()=>(r,i)=>r==null?void 0:r.includes(i)),e=me(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=me(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},oq=(t,e,n)=>{const r=pe(0),i=vr({[Go.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Go.calendar]:!1,[Go.header]:!1}),o=me(()=>t.monthPicker||t.timePicker),s=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&o.value)return c();i[d]=!0,Object.keys(i).filter(h=>!i[h]).length||c()}},a=()=>{var d,f;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c()),((f=t.flow)==null?void 0:f.length)===r.value&&wn().then(()=>l())},l=()=>{r.value=-1},u=(d,f,...h)=>{var m,p;t.flow[r.value]===d&&n.value&&((p=(m=n.value)[f])==null||p.call(m,...h))},c=(d=0)=>{d&&(r.value+=d),u(On.month,"toggleMonthPicker",!0),u(On.year,"toggleYearPicker",!0),u(On.calendar,"toggleTimePicker",!1,!0),u(On.time,"toggleTimePicker",!0,!0);const f=t.flow[r.value];(f===On.hours||f===On.minutes||f===On.seconds)&&u(f,"toggleTimePicker",!0,!0,f)};return{childMount:s,updateFlowStep:a,resetFlow:l,handleFlow:c,flowStep:r}},sq={key:1,class:"dp__input_wrap"},aq=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],lq={key:2,class:"dp__clear_icon"},uq=Qt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...df},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:o,defaultedAriaLabels:s,defaultedInline:a,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d,getDefaultStartTime:f}=Dt(i),{checkMinMaxRange:h}=Io(i),m=pe(),p=pe(null),_=pe(!1),y=pe(!1),v=me(()=>({dp__pointer:!i.disabled&&!i.readonly&&!o.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:_.value||i.isMenuOpen,dp__input_reg:!o.value.enabled,[i.inputClassName]:!!i.inputClassName})),b=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),m.value=null)},g=B=>{const V=f();return EU(B,o.value.format??d(),V??rk({},i.enableSeconds),i.inputValue,y.value,i.formatLocale)},T=B=>{const{rangeSeparator:V}=o.value,[ee,W]=B.split(`${V}`);if(ee){const U=g(ee.trim()),C=W?g(W.trim()):null;if(aa(U,C))return;const L=U&&C?[U,C]:[U];h(C,L,0)&&(m.value=U?L:null)}},O=()=>{y.value=!0},A=B=>{if(u.value.enabled)T(B);else if(c.value.enabled){const V=B.split(";");m.value=V.map(ee=>g(ee.trim())).filter(ee=>ee)}else m.value=g(B)},I=B=>{var V;const ee=typeof B=="string"?B:(V=B.target)==null?void 0:V.value;ee!==""?(o.value.openMenu&&!i.isMenuOpen&&r("open"),A(ee),r("set-input-date",m.value)):b(),y.value=!1,r("update:input-value",ee)},N=B=>{o.value.enabled?(A(B.target.value),o.value.enterSubmit&&tm(m.value)&&i.inputValue!==""?(r("set-input-date",m.value,!0),m.value=null):o.value.enterSubmit&&i.inputValue===""&&(m.value=null,r("clear"))):w(B)},S=B=>{o.value.enabled&&o.value.tabSubmit&&A(B.target.value),o.value.tabSubmit&&tm(m.value)&&i.inputValue!==""?(r("set-input-date",m.value,!0,!0),m.value=null):o.value.tabSubmit&&i.inputValue===""&&(m.value=null,r("clear",!0))},E=()=>{_.value=!0,r("focus"),wn().then(()=>{var B;o.value.enabled&&o.value.selectOnFocus&&((B=p.value)==null||B.select())})},w=B=>{B.preventDefault(),uo(B,l.value,!0),o.value.enabled&&o.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):o.value.enabled||r("toggle")},R=()=>{r("real-blur"),_.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&o.value.enabled&&m.value&&!i.isMenuOpen&&(r("set-input-date",m.value),r("select-date"),m.value=null)},F=B=>{uo(B,l.value,!0),r("clear")},D=B=>{if(B.key==="Tab"&&S(B),B.key==="Enter"&&N(B),!o.value.enabled){if(B.code==="Tab")return;B.preventDefault()}};return e({focusInput:()=>{var B;(B=p.value)==null||B.focus({preventScroll:!0})},setParsedDate:B=>{m.value=B}}),(B,V)=>{var ee;return ie(),ce("div",{onClick:w},[B.$slots.trigger&&!B.$slots["dp-input"]&&!ae(a).enabled?Oe(B.$slots,"trigger",{key:0}):ye("",!0),!B.$slots.trigger&&(!ae(a).enabled||ae(a).input)?(ie(),ce("div",sq,[B.$slots["dp-input"]&&!B.$slots.trigger&&(!ae(a).enabled||ae(a).enabled&&ae(a).input)?Oe(B.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:I,onEnter:N,onTab:S,onClear:F,onBlur:R,onKeypress:D,onPaste:O,onFocus:E,openMenu:()=>B.$emit("open"),closeMenu:()=>B.$emit("close"),toggleMenu:()=>B.$emit("toggle")}):ye("",!0),B.$slots["dp-input"]?ye("",!0):(ie(),ce("input",{key:1,id:B.uid?`dp-input-${B.uid}`:void 0,ref_key:"inputRef",ref:p,"data-test":"dp-input",name:B.name,class:Xe(v.value),inputmode:ae(o).enabled?"text":"none",placeholder:B.placeholder,disabled:B.disabled,readonly:B.readonly,required:B.required,value:t.inputValue,autocomplete:B.autocomplete,"aria-label":(ee=ae(s))==null?void 0:ee.input,"aria-disabled":B.disabled||void 0,"aria-invalid":B.state===!1?!0:void 0,onInput:I,onBlur:R,onFocus:E,onKeypress:D,onKeydown:D,onPaste:O},null,42,aq)),$("div",{onClick:V[2]||(V[2]=W=>r("toggle"))},[B.$slots["input-icon"]&&!B.hideInputIcon?(ie(),ce("span",{key:0,class:"dp__input_icon",onClick:V[0]||(V[0]=W=>r("toggle"))},[Oe(B.$slots,"input-icon")])):ye("",!0),!B.$slots["input-icon"]&&!B.hideInputIcon&&!B.$slots["dp-input"]?(ie(),ze(ae(Ta),{key:1,class:"dp__input_icon dp__input_icons",onClick:V[1]||(V[1]=W=>r("toggle"))})):ye("",!0)]),B.$slots["clear-icon"]&&t.inputValue&&B.clearable&&!B.disabled&&!B.readonly?(ie(),ce("span",lq,[Oe(B.$slots,"clear-icon",{clear:F})])):ye("",!0),B.clearable&&!B.$slots["clear-icon"]&&t.inputValue&&!B.disabled&&!B.readonly?(ie(),ze(ae(GA),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:V[3]||(V[3]=ai(W=>F(W),["prevent"]))})):ye("",!0)])):ye("",!0)])}}}),cq=typeof window<"u"?window:void 0,Qh=()=>{},dq=t=>U0()?(Dk(t),!0):!1,fq=(t,e,n,r)=>{if(!t)return Qh;let i=Qh;const o=Wt(()=>ae(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Qh})},{immediate:!0,flush:"post"}),s=()=>{o(),i()};return dq(s),s},hq=(t,e,n,r={})=>{const{window:i=cq,event:o="pointerdown"}=r;return i?fq(i,o,s=>{const a=Zt(t),l=Zt(e);!a||!l||a===s.target||s.composedPath().includes(a)||s.composedPath().includes(l)||n(s)},{passive:!0}):void 0},pq=Qt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...df},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ss(),s=pe(!1),a=vl(i,"modelValue"),l=vl(i,"timezone"),u=pe(null),c=pe(null),d=pe(null),f=pe(!1),h=pe(null),m=pe(!1),p=pe(!1),_=pe(!1),{setMenuFocused:y,setShiftKey:v}=lk(),{clearArrowNav:b}=ko(),{validateDate:g,isValidTime:T}=Io(i),{defaultedTransitions:O,defaultedTextInput:A,defaultedInline:I,defaultedConfig:N,defaultedRange:S,defaultedMultiDates:E}=Dt(i),{menuTransition:w,showTransition:R}=yu(O);xt(()=>{Y(i.modelValue),wn().then(()=>{if(!I.value.enabled){const he=U(h.value);he==null||he.addEventListener("scroll",K),window==null||window.addEventListener("resize",H)}}),I.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",de),window==null||window.addEventListener("keydown",J)}),fa(()=>{if(!I.value.enabled){const he=U(h.value);he==null||he.removeEventListener("scroll",K),window==null||window.removeEventListener("resize",H)}window==null||window.removeEventListener("keyup",de),window==null||window.removeEventListener("keydown",J)});const F=ar(o,"all",i.presetDates),D=ar(o,"input");Wt([a,l],()=>{Y(a.value)},{deep:!0});const{openOnTop:B,menuStyle:V,xCorrect:ee,setMenuPosition:W,getScrollableParent:U,shadowRender:C}=tq({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:I,emit:r,props:i,slots:o}),{inputValue:L,internalModelValue:x,parseExternalModelValue:Y,emitModelValue:Z,formatInputValue:j,checkBeforeEmit:P}=KU(r,i,f),X=me(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:I.value.enabled,"dp--flex-display-collapsed":_.value,dp__flex_display_with_input:I.value.input})),z=me(()=>i.dark?"dp__theme_dark":"dp__theme_light"),se=me(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||I.value.enabled}:{}),le=me(()=>({class:"dp__outer_menu_wrap"})),Q=me(()=>I.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),M=()=>{var he,Ee;return(Ee=(he=d.value)==null?void 0:he.$el)==null?void 0:Ee.getBoundingClientRect()},K=()=>{s.value&&(N.value.closeOnScroll?xe():W())},H=()=>{var he;s.value&&W();const Ee=(he=c.value)==null?void 0:he.$el.getBoundingClientRect().width;_.value=document.body.offsetWidth<=Ee},de=he=>{he.key==="Tab"&&!I.value.enabled&&!i.teleport&&N.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||xe()),p.value=he.shiftKey},J=he=>{p.value=he.shiftKey},G=()=>{!i.disabled&&!i.readonly&&(C(C0,i),W(!1),s.value=!0,s.value&&r("open"),s.value||we(),Y(i.modelValue))},ne=()=>{var he;L.value="",we(),(he=d.value)==null||he.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),N.value.closeOnClearValue&&xe()},re=()=>{const he=x.value;return!he||!Array.isArray(he)&&g(he)?!0:Array.isArray(he)?E.value.enabled||he.length===2&&g(he[0])&&g(he[1])?!0:S.value.partialRange&&!i.timePicker?g(he[0]):!1:!1},fe=()=>{P()&&re()?(Z(),xe()):r("invalid-select",x.value)},te=he=>{ve(),Z(),N.value.closeOnAutoApply&&!he&&xe()},ve=()=>{d.value&&A.value.enabled&&d.value.setParsedDate(x.value)},_e=(he=!1)=>{i.autoApply&&T(x.value)&&re()&&(S.value.enabled&&Array.isArray(x.value)?(S.value.partialRange||x.value.length===2)&&te(he):te(he))},we=()=>{A.value.enabled||(x.value=null)},xe=()=>{I.value.enabled||(s.value&&(s.value=!1,ee.value=!1,y(!1),v(!1),b(),r("closed"),L.value&&Y(a.value)),we(),r("blur"))},Me=(he,Ee,Ie=!1)=>{if(!he){x.value=null;return}const Ft=Array.isArray(he)?!he.some(rr=>!g(rr)):g(he),Ht=T(he);Ft&&Ht&&(x.value=he,Ee&&(m.value=Ie,fe(),r("text-submit")))},De=()=>{i.autoApply&&T(x.value)&&Z(),ve()},tt=()=>s.value?xe():G(),Ve=he=>{x.value=he},mt=()=>{A.value.enabled&&(f.value=!0,j()),r("focus")},Vn=()=>{if(A.value.enabled&&(f.value=!1,Y(i.modelValue),m.value)){const he=bU(h.value,p.value);he==null||he.focus()}r("blur")},$r=he=>{c.value&&c.value.updateMonthYear(0,{month:k0(he.month),year:k0(he.year)})},$n=he=>{Y(he??i.modelValue)},nr=(he,Ee)=>{var Ie;(Ie=c.value)==null||Ie.switchView(he,Ee)},ue=he=>N.value.onClickOutside?N.value.onClickOutside(he):xe(),be=(he=0)=>{var Ee;(Ee=c.value)==null||Ee.handleFlow(he)};return hq(u,d,()=>ue(re)),e({closeMenu:xe,selectDate:fe,clearValue:ne,openMenu:G,onScroll:K,formatInputValue:j,updateInternalModelValue:Ve,setMonthYear:$r,parseModel:$n,switchView:nr,toggleMenu:tt,handleFlow:be}),(he,Ee)=>(ie(),ce("div",{ref_key:"pickerWrapperRef",ref:h,class:Xe(X.value),"data-datepicker-instance":""},[Ye(uq,nn({ref_key:"inputRef",ref:d,"input-value":ae(L),"onUpdate:inputValue":Ee[0]||(Ee[0]=Ie=>ln(L)?L.value=Ie:null),"is-menu-open":s.value},he.$props,{onClear:ne,onOpen:G,onSetInputDate:Me,onSetEmptyDate:ae(Z),onSelectDate:fe,onToggle:tt,onClose:xe,onFocus:mt,onBlur:Vn,onRealBlur:Ee[1]||(Ee[1]=Ie=>f.value=!1)}),Dn({_:2},[et(ae(D),(Ie,Ft)=>({name:Ie,fn:He(Ht=>[Oe(he.$slots,Ie,an(qn(Ht)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ie(),ze(cd(he.teleport?tx:"div"),an(qn(se.value)),{default:He(()=>[Ye(Mi,{name:ae(w)(ae(B)),css:ae(R)&&!ae(I).enabled},{default:He(()=>[s.value?(ie(),ce("div",nn({key:0,ref_key:"dpWrapMenuRef",ref:u},le.value,{class:{"dp--menu-wrapper":!ae(I).enabled},style:ae(I).enabled?void 0:ae(V)}),[Ye(C0,nn({ref_key:"dpMenuRef",ref:c},he.$props,{"internal-model-value":ae(x),"onUpdate:internalModelValue":Ee[2]||(Ee[2]=Ie=>ln(x)?x.value=Ie:null),class:{[z.value]:!0,"dp--menu-wrapper":he.teleport},"open-on-top":ae(B),"no-overlay-focus":Q.value,collapse:_.value,"get-input-rect":M,onClosePicker:xe,onSelectDate:fe,onAutoApply:_e,onTimeUpdate:De,onFlowStep:Ee[3]||(Ee[3]=Ie=>he.$emit("flow-step",Ie)),onUpdateMonthYear:Ee[4]||(Ee[4]=Ie=>he.$emit("update-month-year",Ie)),onInvalidSelect:Ee[5]||(Ee[5]=Ie=>he.$emit("invalid-select",ae(x))),onAutoApplyInvalid:Ee[6]||(Ee[6]=Ie=>he.$emit("invalid-select",Ie)),onInvalidFixedRange:Ee[7]||(Ee[7]=Ie=>he.$emit("invalid-fixed-range",Ie)),onRecalculatePosition:ae(W),onTooltipOpen:Ee[8]||(Ee[8]=Ie=>he.$emit("tooltip-open",Ie)),onTooltipClose:Ee[9]||(Ee[9]=Ie=>he.$emit("tooltip-close",Ie)),onTimePickerOpen:Ee[10]||(Ee[10]=Ie=>he.$emit("time-picker-open",Ie)),onTimePickerClose:Ee[11]||(Ee[11]=Ie=>he.$emit("time-picker-close",Ie)),onAmPmChange:Ee[12]||(Ee[12]=Ie=>he.$emit("am-pm-change",Ie)),onRangeStart:Ee[13]||(Ee[13]=Ie=>he.$emit("range-start",Ie)),onRangeEnd:Ee[14]||(Ee[14]=Ie=>he.$emit("range-end",Ie)),onDateUpdate:Ee[15]||(Ee[15]=Ie=>he.$emit("date-update",Ie)),onInvalidDate:Ee[16]||(Ee[16]=Ie=>he.$emit("invalid-date",Ie)),onOverlayToggle:Ee[17]||(Ee[17]=Ie=>he.$emit("overlay-toggle",Ie))}),Dn({_:2},[et(ae(F),(Ie,Ft)=>({name:Ie,fn:He(Ht=>[Oe(he.$slots,Ie,an(qn({...Ht})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):ye("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),mf=(()=>{const t=pq;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),mq=Object.freeze(Object.defineProperty({__proto__:null,default:mf},Symbol.toStringTag,{value:"Module"}));Object.entries(mq).forEach(([t,e])=>{t!=="default"&&(mf[t]=e)});const gq=$("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),vq={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},yq={class:"relative p-4 w-[30rem] max-h-full"},_q={class:"relative bg-white rounded-lg shadow"},bq={class:"flex items-center justify-between p-4 border-b rounded-t"},wq=$("h3",{class:"text-lg font-semibold text-gray-900"}," Uygun Olmayan Tarih ve Saat Aralığını Seç ",-1),Tq=$("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14","aria-hidden":"true"},[$("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Eq=$("span",{class:"sr-only"},"Close modal",-1),Aq=[Tq,Eq],kq={class:"grid gap-4 mb-4 grid-cols-2"},Iq={class:"col-span-2"},xq=$("label",{for:"date",class:"block mb-2 text-sm font-medium text-gray-900"},"Tarih",-1),Sq={class:"col-span-1"},Rq=$("label",{for:"start-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Başlangıç",-1),Oq=["value"],Pq={class:"col-span-1"},Cq=$("label",{for:"end-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Bitiş",-1),Dq=["value"],Nq={class:"col-span-2"},Mq={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4 mt-4"},Lq={class:"flex justify-between items-center mb-3"},Vq=$("span",{class:"text-gray-900 text-base font-medium"},"Tekrarla",-1),$q={class:"inline-flex items-center cursor-pointer"},Fq=$("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.18rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Bq=$("div",{class:"flex items-center"},[$("p",{class:"text-sm text-gray-500 font-normal"}," Eğer seçiliyse, bu tarih ve saat aralığı haftalık olarak tekrarlanacaktır. ")],-1),jq=$("div",{class:"col-span-2"},[$("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),Uq={__name:"WorkingHoursExceptionModal",emits:["close","save-exception"],setup(t,{emit:e}){const n=pe(new Date),r=pe("12:00"),i=pe("13:00"),o=pe(!1),s=e,a=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],l=()=>{const c={date:n.value?Or(new Date(n.value),"dd/MM/yy"):"",startTime:r.value,endTime:i.value,repeat:o.value};s("save-exception",c),s("close")};return(u,c)=>(ie(),ce(Pe,null,[gq,$("div",vq,[$("div",yq,[$("div",_q,[$("div",bq,[wq,$("button",{onClick:c[0]||(c[0]=d=>u.$emit("close")),type:"button",class:"text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},Aq)]),$("form",{onSubmit:ai(l,["prevent"]),class:"p-4"},[$("div",kq,[$("div",Iq,[xq,Ye(ae(mf),{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=d=>n.value=d),name:"date",class:"form-input","enable-time-picker":!1,required:""},null,8,["modelValue"])]),$("div",Sq,[Rq,Ot($("select",{"onUpdate:modelValue":c[2]||(c[2]=d=>r.value=d),required:"",id:"start-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),ce(Pe,null,et(a,d=>$("option",{key:d,value:d},Ce(d),9,Oq)),64))],512),[[Ys,r.value]])]),$("div",Pq,[Cq,Ot($("select",{"onUpdate:modelValue":c[3]||(c[3]=d=>i.value=d),required:"",id:"end-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),ce(Pe,null,et(a,d=>$("option",{key:d,value:d},Ce(d),9,Dq)),64))],512),[[Ys,i.value]])])]),$("div",Nq,[$("div",Mq,[$("div",Lq,[Vq,$("label",$q,[Ot($("input",{"onUpdate:modelValue":c[4]||(c[4]=d=>o.value=d),type:"checkbox",class:"sr-only peer"},null,512),[[$s,o.value]]),Fq])]),Bq])]),jq],32)])])])],64))}},qq={class:"max-w-xl mx-auto bg-white"},Hq={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},zq={class:"flex justify-between items-center mb-3"},Kq=$("span",{class:"text-gray-900 text-base font-medium"},"Çalışma Saatleri",-1),Yq={class:"inline-flex items-center cursor-pointer"},Wq=$("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.18rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Gq=$("span",{class:"sr-only"},"Çalışma Saatleri",-1),Qq=$("div",{class:"flex items-center"},[$("p",{class:"text-sm text-gray-500 font-normal"}," Tüm haftalık çalışma günleri için iş çalışma saatlerini etkinleştir veya devre dışı bırak ")],-1),Xq={class:"flex items-center justify-between"},Jq={class:"flex items-center"},Zq={class:"inline-flex items-center cursor-pointer"},e8=["onUpdate:modelValue","id"],t8=$("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.18rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),n8=$("span",{class:"sr-only"},"Çalışma Saatleri",-1),r8=["for"],i8=["onClick"],o8={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s8=["d"],a8={key:0,class:"mt-4"},l8=["onUpdate:modelValue"],u8=["value"],c8=$("span",null,"-",-1),d8=["onUpdate:modelValue"],f8=["value"],h8={key:0,class:"flex items-center"},p8=["onClick"],m8=$("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g8=[m8],v8=["disabled","onClick"],y8=$("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[$("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),_8=[y8],b8=["onClick"],w8=$("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[$("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),T8=[w8],E8=$("button",{type:"submit",class:"text-white w-full inline-flex items-center justify-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ",-1),A8={__name:"WorkingHoursScheduler",emits:["save-schedule"],setup(t,{emit:e}){const n=e,r=pe(!0),i=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],o=vr([{name:"Pazartesi",enabled:!0,timeSlots:[{start:"07:00",end:"12:00"}]},{name:"Salı",enabled:!0,timeSlots:[{start:"07:00",end:"12:00"}]},{name:"Çarşamba",enabled:!0,timeSlots:[{start:"07:00",end:"12:00"}]},{name:"Perşembe",enabled:!0,timeSlots:[{start:"07:00",end:"12:00"}]},{name:"Cuma",enabled:!0,timeSlots:[{start:"07:00",end:"12:00"}]}]),s=vr(Array(o.length).fill(!0));o.forEach((f,h)=>{Wt(()=>f.enabled,m=>{m||(s[h]=!0)})});const a=f=>{s[f]=!s[f]},l=f=>{o[f].timeSlots.push({start:"09:00",end:"17:00"})},u=(f,h)=>{o[f].timeSlots.splice(h,1)};function c(f){const[h,m]=f.split(":").map(Number);return h*60+m}const d=()=>{const f={isWorkingHoursEnabled:r.value,days:o.map(h=>({name:h.name,enabled:h.enabled,intervals:h.timeSlots.map(m=>{const p=c(m.start),y=(c(m.end)-p)/60;return{start:m.start,end:m.end,length:y}})}))};n("save-schedule",f)};return xt(()=>{console.log("WorkingHoursScheduler component mounted"),d()}),(f,h)=>(ie(),ce("div",qq,[$("form",{onSubmit:ai(d,["prevent"])},[$("div",Hq,[$("div",zq,[Kq,$("label",Yq,[Ot($("input",{"onUpdate:modelValue":h[0]||(h[0]=m=>r.value=m),type:"checkbox",class:"sr-only peer"},null,512),[[$s,r.value]]),Wq,Gq])]),Qq]),(ie(!0),ce(Pe,null,et(o,(m,p)=>(ie(),ce("div",{key:p,class:Xe(["border rounded-lg p-4 mb-4",{"border-gray-300":m.enabled,"opacity-50":!m.enabled}])},[$("div",Xq,[$("div",Jq,[$("label",Zq,[Ot($("input",{"onUpdate:modelValue":_=>m.enabled=_,type:"checkbox",id:`toggle-${m.name}`,class:"sr-only peer"},null,8,e8),[[$s,m.enabled]]),t8,n8]),$("label",{for:`toggle-${m.name}`,class:"ml-2 p-1.5 text-sm font-medium text-gray-900"},Ce(m.name),9,r8)]),m.enabled?(ie(),ce("div",{key:0,onClick:_=>a(p),class:"text-gray-500 p-1.5 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},[(ie(),ce("svg",o8,[$("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s[p]?"M19 9l-7 7-7-7":"M19 15l-7-7-7 7"},null,8,s8)]))],8,i8)):ye("",!0)]),s[p]?ye("",!0):(ie(),ce("div",a8,[(ie(!0),ce(Pe,null,et(m.timeSlots,(_,y)=>(ie(),ce("div",{key:y,class:"flex items-center mb-2"},[Ot($("select",{"onUpdate:modelValue":v=>_.start=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ie(),ce(Pe,null,et(i,v=>$("option",{key:v,value:v},Ce(v),9,u8)),64))],8,l8),[[Ys,_.start]]),c8,Ot($("select",{"onUpdate:modelValue":v=>_.end=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 ml-2"},[(ie(),ce(Pe,null,et(i,v=>$("option",{key:v,value:v},Ce(v),9,f8)),64))],8,d8),[[Ys,_.end]]),y===m.timeSlots.length-1?(ie(),ce("div",h8,[$("button",{onClick:v=>l(p),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},g8,8,p8),$("button",{disabled:m.timeSlots.length===1,onClick:v=>u(p,y),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},_8,8,v8)])):(ie(),ce("button",{key:1,onClick:v=>u(p,y),type:"button",class:"inline-flex items-center ml-2 mr-10 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},T8,8,b8))]))),128))]))],2))),128)),E8],32)]))}},k8={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},I8={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},x8=$("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[$("span",{class:"mb-2"},"Periyodik Çalışma Saatlerini Seç")],-1),S8={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},R8=$("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[$("span",{class:"mb-2"},"İstisnai Çalışma Saatleri")],-1),O8={key:0,class:"mb-4 mt-4"},P8={class:"flex justify-between items-center"},C8={class:"text-sm font-medium text-gray-900 dark:text-white"},D8={class:"text-sm text-gray-600 dark:text-gray-300"},N8={class:"text-sm text-gray-600 dark:text-gray-300"},M8={key:0,class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 rounded-lg focus:outline-none"},L8=$("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[$("path",{d:"M6 4H21C21.5523 4 22 4.44772 22 5V12H20V6H6V9L1 5L6 1V4ZM18 20H3C2.44772 20 2 19.5523 2 19V12H4V18H18V15L23 19L18 23V20Z"})],-1),V8=[L8],$8=["onClick"],F8=$("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[$("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),B8=[F8],j8=$("svg",{class:"w-4 h-4 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[$("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1),D0={__name:"Settings",setup(t){const e=pe(!1),n=pe([{date:"01/01/22",startTime:"12:00",endTime:"13:00",repeat:!1}]),r=pe(),i=a=>{n.value.push(a),console.log("Saved Exception:",n.value)},o=a=>{r.value=a,console.log("Saved Schedule:",r.value)},s=a=>{n.value.splice(a,1)};return(a,l)=>(ie(),ce("div",k8,[$("div",I8,[x8,Ye(A8,{onSaveSchedule:o})]),$("div",S8,[R8,n.value.length?(ie(),ce("div",O8,[(ie(!0),ce(Pe,null,et(n.value,(u,c)=>(ie(),ce("div",{key:c,class:"p-4 mb-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},[$("div",P8,[$("div",null,[$("p",C8," Tarih: "+Ce(u.date),1),$("p",D8," Başlangıç: "+Ce(u.startTime),1),$("p",N8," Bitiş: "+Ce(u.endTime),1)]),$("div",null,[u.repeat?(ie(),ce("button",M8,V8)):ye("",!0),$("button",{onClick:d=>s(c),class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200rounded-lg focus:outline-none"},B8,8,$8)])])]))),128))])):ye("",!0),$("button",{onClick:l[0]||(l[0]=u=>e.value=!0),type:"button",class:"inline-flex items-center justify-center w-full py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[j8,Tn(" Ekle ")]),e.value?(ie(),ze(Uq,{key:1,onClose:l[1]||(l[1]=u=>e.value=!1),onSaveException:i})):ye("",!0)]),Ye(oB,{schedule:r.value,exceptions:n.value,class:"col-span-2"},null,8,["schedule","exceptions"])]))}},U8={},q8={class:"bg-gray-800"},H8=Gl('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfa mecvut değil.</p><div class="flex justify-center"><a href="/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),z8=[H8];function K8(t,e,n,r,i,o){return ie(),ce("section",q8,z8)}const Y8=ci(U8,[["render",K8]]),W8={},G8={class:"bg-gray-800"},Q8=Gl('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfayı görmek için yetkiniz yok.</p><div class="flex justify-center"><a href="/main/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),X8=[Q8];function J8(t,e,n,r,i,o){return ie(),ce("section",G8,X8)}const Z8=ci(W8,[["render",J8]]),e7=[{path:"/",name:"LoginPage",component:Z4},{path:"/unauthorized",name:"Unauthorized",component:Z8},{path:"/:pathMatch(.*)*",name:"NotFound",component:Y8},{path:"/",component:V3,meta:{requiresAuth:!0},children:[{path:"home",name:"Home",component:i0,meta:{requiresAuth:!0}},{path:"home/:uid",name:"HomeWithUID",component:i0,meta:{requiresAuth:!0}},{path:"online-meetings",name:"OnlineMeetings",component:o0,meta:{requiresAuth:!0,role:"admin"}},{path:"online-meetings/:uid",name:"OnlineMeetingsWithUID",component:o0,meta:{requiresAuth:!0}},{path:"blogs",name:"Blogs",component:YF,meta:{requiresAuth:!0,role:"admin"}},{path:"lawyers",name:"Lawyers",component:QF,meta:{requiresAuth:!0,role:"admin"}},{path:"settings",name:"Settings",component:D0,meta:{requiresAuth:!0}},{path:"settings/:uid",name:"SettingsWithUID",component:D0,meta:{requiresAuth:!0}}]}],mk=tR({history:OS(),routes:e7,linkActiveClass:"bg-gray-950 text-white"});mk.beforeEach(async(t,e,n)=>{if(await vc.dispatch("initializeAuth"),t.meta.requiresAuth&&!vc.getters.isAuthenticated)n("/");else if(t.meta.requiresAuth){const r=vc.getters.userRole;t.meta.role&&t.meta.role!==r?n(r==="attorney"?"/home":"/unauthorized"):n()}else n()});const t7={};function n7(t,e){const n=ym("router-view");return ie(),ze(n)}const r7=ci(t7,[["render",n7]]);qx(r7).use(mk).use(vc).component("VueDatePicker",mf).mount("#app");
