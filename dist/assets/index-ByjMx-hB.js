var tO=Object.defineProperty;var nO=(t,e,n)=>e in t?tO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Le=(t,e,n)=>nO(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bv(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Dt={},ma=[],Mr=()=>{},rO=()=>!1,xd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),wv=t=>t.startsWith("onUpdate:"),cn=Object.assign,Ev=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},iO=Object.prototype.hasOwnProperty,ht=(t,e)=>iO.call(t,e),qe=Array.isArray,ga=t=>Vu(t)==="[object Map]",Ya=t=>Vu(t)==="[object Set]",Q0=t=>Vu(t)==="[object Date]",Ze=t=>typeof t=="function",jt=t=>typeof t=="string",Qi=t=>typeof t=="symbol",It=t=>t!==null&&typeof t=="object",Zw=t=>(It(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),eE=Object.prototype.toString,Vu=t=>eE.call(t),sO=t=>Vu(t).slice(8,-1),tE=t=>Vu(t)==="[object Object]",Tv=t=>jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vl=bv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},oO=/-(\w)/g,Oi=kd(t=>t.replace(oO,(e,n)=>n?n.toUpperCase():"")),aO=/\B([A-Z])/g,Vo=kd(t=>t.replace(aO,"-$1").toLowerCase()),Sd=kd(t=>t.charAt(0).toUpperCase()+t.slice(1)),Lp=kd(t=>t?`on${Sd(t)}`:""),Fs=(t,e)=>!Object.is(t,e),cf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},nE=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Cf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},lO=t=>{const e=jt(t)?Number(t):NaN;return isNaN(e)?t:e};let X0;const rE=()=>X0||(X0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{});function wn(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=jt(r)?dO(r):wn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(jt(t)||It(t))return t}const uO=/;(?![^(]*\))/g,cO=/:([^]+)/,fO=/\/\*[^]*?\*\//g;function dO(t){const e={};return t.replace(fO,"").split(uO).forEach(n=>{if(n){const r=n.split(cO);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ke(t){let e="";if(jt(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const r=Ke(t[n]);r&&(e+=r+" ")}else if(It(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function En(t){if(!t)return null;let{class:e,style:n}=t;return e&&!jt(e)&&(t.class=Ke(e)),n&&(t.style=wn(n)),t}const hO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pO=bv(hO);function iE(t){return!!t||t===""}function mO(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Uu(t[r],e[r]);return n}function Uu(t,e){if(t===e)return!0;let n=Q0(t),r=Q0(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Qi(t),r=Qi(e),n||r)return t===e;if(n=qe(t),r=qe(e),n||r)return n&&r?mO(t,e):!1;if(n=It(t),r=It(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Uu(t[o],e[o]))return!1}}return String(t)===String(e)}function Av(t,e){return t.findIndex(n=>Uu(n,e))}const we=t=>jt(t)?t:t==null?"":qe(t)||It(t)&&(t.toString===eE||!Ze(t.toString))?JSON.stringify(t,sE,2):String(t),sE=(t,e)=>e&&e.__v_isRef?sE(t,e.value):ga(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[$p(r,s)+" =>"]=i,n),{})}:Ya(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>$p(n))}:Qi(e)?$p(e):It(e)&&!qe(e)&&!tE(e)?String(e):e,$p=(t,e="")=>{var n;return Qi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tr;class oE{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Tr,!e&&Tr&&(this.index=(Tr.scopes||(Tr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Tr;try{return Tr=this,e()}finally{Tr=n}}}on(){Tr=this}off(){Tr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function gO(t){return new oE(t)}function vO(t,e=Tr){e&&e.active&&e.effects.push(t)}function aE(){return Tr}function yO(t){Tr&&Tr.cleanups.push(t)}let Eo;class xv{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,vO(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,zs();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(_O(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ws()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Os,n=Eo;try{return Os=!0,Eo=this,this._runnings++,J0(this),this.fn()}finally{Z0(this),this._runnings--,Eo=n,Os=e}}stop(){this.active&&(J0(this),Z0(this),this.onStop&&this.onStop(),this.active=!1)}}function _O(t){return t.value}function J0(t){t._trackId++,t._depsLength=0}function Z0(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)lE(t.deps[e],t);t.deps.length=t._depsLength}}function lE(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Os=!0,zm=0;const uE=[];function zs(){uE.push(Os),Os=!1}function Ws(){const t=uE.pop();Os=t===void 0?!0:t}function kv(){zm++}function Sv(){for(zm--;!zm&&Wm.length;)Wm.shift()()}function cE(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&lE(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Wm=[];function fE(t,e,n){kv();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Wm.push(r.scheduler)))}Sv()}const dE=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Df=new WeakMap,To=Symbol(""),Km=Symbol("");function wr(t,e,n){if(Os&&Eo){let r=Df.get(t);r||Df.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=dE(()=>r.delete(n))),cE(Eo,i)}}function Ki(t,e,n,r,i,s){const o=Df.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&qe(t)){const l=Number(r);o.forEach((f,u)=>{(u==="length"||!Qi(u)&&u>=l)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":qe(t)?Tv(n)&&a.push(o.get("length")):(a.push(o.get(To)),ga(t)&&a.push(o.get(Km)));break;case"delete":qe(t)||(a.push(o.get(To)),ga(t)&&a.push(o.get(Km)));break;case"set":ga(t)&&a.push(o.get(To));break}kv();for(const l of a)l&&fE(l,4);Sv()}function bO(t,e){const n=Df.get(t);return n&&n.get(e)}const wO=bv("__proto__,__v_isRef,__isVue"),hE=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qi)),e_=EO();function EO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=gt(this);for(let s=0,o=this.length;s<o;s++)wr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(gt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){zs(),kv();const r=gt(this)[e].apply(this,n);return Sv(),Ws(),r}}),t}function TO(t){Qi(t)||(t=String(t));const e=gt(this);return wr(e,"has",t),e.hasOwnProperty(t)}class pE{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?LO:yE:s?vE:gE).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=qe(e);if(!i){if(o&&ht(e_,n))return Reflect.get(e_,n,r);if(n==="hasOwnProperty")return TO}const a=Reflect.get(e,n,r);return(Qi(n)?hE.has(n):wO(n))||(i||wr(e,"get",n),s)?a:Tn(a)?o&&Tv(n)?a:a.value:It(a)?i?bE(a):Fr(a):a}}class mE extends pE{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=su(s);if(!Mf(r)&&!su(r)&&(s=gt(s),r=gt(r)),!qe(e)&&Tn(s)&&!Tn(r))return l?!1:(s.value=r,!0)}const o=qe(e)&&Tv(n)?Number(n)<e.length:ht(e,n),a=Reflect.set(e,n,r,i);return e===gt(i)&&(o?Fs(r,s)&&Ki(e,"set",n,r):Ki(e,"add",n,r)),a}deleteProperty(e,n){const r=ht(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ki(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Qi(n)||!hE.has(n))&&wr(e,"has",n),r}ownKeys(e){return wr(e,"iterate",qe(e)?"length":To),Reflect.ownKeys(e)}}class AO extends pE{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const xO=new mE,kO=new AO,SO=new mE(!0);const Iv=t=>t,Id=t=>Reflect.getPrototypeOf(t);function Oc(t,e,n=!1,r=!1){t=t.__v_raw;const i=gt(t),s=gt(e);n||(Fs(e,s)&&wr(i,"get",e),wr(i,"get",s));const{has:o}=Id(i),a=r?Iv:n?Pv:ou;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Pc(t,e=!1){const n=this.__v_raw,r=gt(n),i=gt(t);return e||(Fs(t,i)&&wr(r,"has",t),wr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Cc(t,e=!1){return t=t.__v_raw,!e&&wr(gt(t),"iterate",To),Reflect.get(t,"size",t)}function t_(t){t=gt(t);const e=gt(this);return Id(e).has.call(e,t)||(e.add(t),Ki(e,"add",t,t)),this}function n_(t,e){e=gt(e);const n=gt(this),{has:r,get:i}=Id(n);let s=r.call(n,t);s||(t=gt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Fs(e,o)&&Ki(n,"set",t,e):Ki(n,"add",t,e),this}function r_(t){const e=gt(this),{has:n,get:r}=Id(e);let i=n.call(e,t);i||(t=gt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ki(e,"delete",t,void 0),s}function i_(){const t=gt(this),e=t.size!==0,n=t.clear();return e&&Ki(t,"clear",void 0,void 0),n}function Dc(t,e){return function(r,i){const s=this,o=s.__v_raw,a=gt(o),l=e?Iv:t?Pv:ou;return!t&&wr(a,"iterate",To),o.forEach((f,u)=>r.call(i,l(f),l(u),s))}}function Mc(t,e,n){return function(...r){const i=this.__v_raw,s=gt(i),o=ga(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=i[t](...r),u=n?Iv:e?Pv:ou;return!e&&wr(s,"iterate",l?Km:To),{next(){const{value:c,done:d}=f.next();return d?{value:c,done:d}:{value:a?[u(c[0]),u(c[1])]:u(c),done:d}},[Symbol.iterator](){return this}}}}function us(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function IO(){const t={get(s){return Oc(this,s)},get size(){return Cc(this)},has:Pc,add:t_,set:n_,delete:r_,clear:i_,forEach:Dc(!1,!1)},e={get(s){return Oc(this,s,!1,!0)},get size(){return Cc(this)},has:Pc,add:t_,set:n_,delete:r_,clear:i_,forEach:Dc(!1,!0)},n={get(s){return Oc(this,s,!0)},get size(){return Cc(this,!0)},has(s){return Pc.call(this,s,!0)},add:us("add"),set:us("set"),delete:us("delete"),clear:us("clear"),forEach:Dc(!0,!1)},r={get(s){return Oc(this,s,!0,!0)},get size(){return Cc(this,!0)},has(s){return Pc.call(this,s,!0)},add:us("add"),set:us("set"),delete:us("delete"),clear:us("clear"),forEach:Dc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Mc(s,!1,!1),n[s]=Mc(s,!0,!1),e[s]=Mc(s,!1,!0),r[s]=Mc(s,!0,!0)}),[t,n,e,r]}const[RO,OO,PO,CO]=IO();function Rv(t,e){const n=e?t?CO:PO:t?OO:RO;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ht(n,i)&&i in r?n:r,i,s)}const DO={get:Rv(!1,!1)},MO={get:Rv(!1,!0)},NO={get:Rv(!0,!1)};const gE=new WeakMap,vE=new WeakMap,yE=new WeakMap,LO=new WeakMap;function $O(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FO(t){return t.__v_skip||!Object.isExtensible(t)?0:$O(sO(t))}function Fr(t){return su(t)?t:Ov(t,!1,xO,DO,gE)}function _E(t){return Ov(t,!1,SO,MO,vE)}function bE(t){return Ov(t,!0,kO,NO,yE)}function Ov(t,e,n,r,i){if(!It(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=FO(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ul(t){return su(t)?Ul(t.__v_raw):!!(t&&t.__v_isReactive)}function su(t){return!!(t&&t.__v_isReadonly)}function Mf(t){return!!(t&&t.__v_isShallow)}function wE(t){return t?!!t.__v_raw:!1}function gt(t){const e=t&&t.__v_raw;return e?gt(e):t}function VO(t){return Object.isExtensible(t)&&nE(t,"__v_skip",!0),t}const ou=t=>It(t)?Fr(t):t,Pv=t=>It(t)?bE(t):t;class EE{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new xv(()=>e(this._value),()=>ff(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=gt(this);return(!e._cacheable||e.effect.dirty)&&Fs(e._value,e._value=e.effect.run())&&ff(e,4),TE(e),e.effect._dirtyLevel>=2&&ff(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function UO(t,e,n=!1){let r,i;const s=Ze(t);return s?(r=t,i=Mr):(r=t.get,i=t.set),new EE(r,i,s||!i,n)}function TE(t){var e;Os&&Eo&&(t=gt(t),cE(Eo,(e=t.dep)!=null?e:t.dep=dE(()=>t.dep=void 0,t instanceof EE?t:void 0)))}function ff(t,e=4,n){t=gt(t);const r=t.dep;r&&fE(r,e)}function Tn(t){return!!(t&&t.__v_isRef===!0)}function he(t){return AE(t,!1)}function BO(t){return AE(t,!0)}function AE(t,e){return Tn(t)?t:new jO(t,e)}class jO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:gt(e),this._value=n?e:ou(e)}get value(){return TE(this),this._value}set value(e){const n=this.__v_isShallow||Mf(e)||su(e);e=n?e:gt(e),Fs(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ou(e),ff(this,4))}}function ue(t){return Tn(t)?t.value:t}const qO={get:(t,e,n)=>ue(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Tn(i)&&!Tn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function xE(t){return Ul(t)?t:new Proxy(t,qO)}class HO{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return bO(gt(this._object),this._key)}}class zO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function au(t,e,n){return Tn(t)?t:Ze(t)?new zO(t):It(t)&&arguments.length>1?WO(t,e,n):he(t)}function WO(t,e,n){const r=t[e];return Tn(r)?r:new HO(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ps(t,e,n,r){try{return r?t(...r):t()}catch(i){Rd(i,e,n)}}function Nr(t,e,n,r){if(Ze(t)){const i=Ps(t,e,n,r);return i&&Zw(i)&&i.catch(s=>{Rd(s,e,n)}),i}if(qe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Nr(t[s],e,n,r));return i}}function Rd(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const f=s.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){zs(),Ps(l,null,10,[t,o,a]),Ws();return}}KO(t,n,i,r)}function KO(t,e,n,r=!0){console.error(t)}let lu=!1,Ym=!1;const Qn=[];let gi=0;const va=[];let vs=null,co=0;const kE=Promise.resolve();let Cv=null;function Vn(t){const e=Cv||kE;return t?e.then(this?t.bind(this):t):e}function YO(t){let e=gi+1,n=Qn.length;for(;e<n;){const r=e+n>>>1,i=Qn[r],s=uu(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Dv(t){(!Qn.length||!Qn.includes(t,lu&&t.allowRecurse?gi+1:gi))&&(t.id==null?Qn.push(t):Qn.splice(YO(t.id),0,t),SE())}function SE(){!lu&&!Ym&&(Ym=!0,Cv=kE.then(RE))}function GO(t){const e=Qn.indexOf(t);e>gi&&Qn.splice(e,1)}function QO(t){qe(t)?va.push(...t):(!vs||!vs.includes(t,t.allowRecurse?co+1:co))&&va.push(t),SE()}function s_(t,e,n=lu?gi+1:0){for(;n<Qn.length;n++){const r=Qn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Qn.splice(n,1),n--,r()}}}function IE(t){if(va.length){const e=[...new Set(va)].sort((n,r)=>uu(n)-uu(r));if(va.length=0,vs){vs.push(...e);return}for(vs=e,co=0;co<vs.length;co++)vs[co]();vs=null,co=0}}const uu=t=>t.id==null?1/0:t.id,XO=(t,e)=>{const n=uu(t)-uu(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function RE(t){Ym=!1,lu=!0,Qn.sort(XO);try{for(gi=0;gi<Qn.length;gi++){const e=Qn[gi];e&&e.active!==!1&&Ps(e,null,14)}}finally{gi=0,Qn.length=0,IE(),lu=!1,Cv=null,(Qn.length||va.length)&&RE()}}function JO(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Dt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:d}=r[u]||Dt;d&&(i=n.map(h=>jt(h)?h.trim():h)),c&&(i=n.map(Cf))}let a,l=r[a=Lp(e)]||r[a=Lp(Oi(e))];!l&&s&&(l=r[a=Lp(Vo(e))]),l&&Nr(l,t,6,i);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Nr(f,t,6,i)}}function OE(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ze(t)){const l=f=>{const u=OE(f,e,!0);u&&(a=!0,cn(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(It(t)&&r.set(t,null),null):(qe(s)?s.forEach(l=>o[l]=null):cn(o,s),It(t)&&r.set(t,o),o)}function Od(t,e){return!t||!xd(e)?!1:(e=e.slice(2).replace(/Once$/,""),ht(t,e[0].toLowerCase()+e.slice(1))||ht(t,Vo(e))||ht(t,e))}let mn=null,Pd=null;function Nf(t){const e=mn;return mn=t,Pd=t&&t.type.__scopeId||null,e}function Cd(t){Pd=t}function Dd(){Pd=null}function He(t,e=mn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&__(-1);const s=Nf(e);let o;try{o=t(...i)}finally{Nf(s),r._d&&__(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Fp(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:f,renderCache:u,props:c,data:d,setupState:h,ctx:p,inheritAttrs:m}=t,y=Nf(t);let v,_;try{if(n.shapeFlag&4){const g=i||r,w=g;v=pi(f.call(w,g,u,c,h,d,p)),_=a}else{const g=e;v=pi(g.length>1?g(c,{attrs:a,slots:o,emit:l}):g(c,null)),_=e.props?a:ZO(a)}}catch(g){zl.length=0,Rd(g,t,1),v=Ce(Ar)}let b=v;if(_&&m!==!1){const g=Object.keys(_),{shapeFlag:w}=b;g.length&&w&7&&(s&&g.some(wv)&&(_=eP(_,s)),b=Vs(b,_,!1,!0))}return n.dirs&&(b=Vs(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,Nf(y),v}const ZO=t=>{let e;for(const n in t)(n==="class"||n==="style"||xd(n))&&((e||(e={}))[n]=t[n]);return e},eP=(t,e)=>{const n={};for(const r in t)(!wv(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function tP(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?o_(r,o,f):!!o;if(l&8){const u=e.dynamicProps;for(let c=0;c<u.length;c++){const d=u[c];if(o[d]!==r[d]&&!Od(f,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?o_(r,o,f):!0:!!o;return!1}function o_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Od(n,s))return!0}return!1}function nP({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const PE="components";function Md(t,e){return DE(PE,t,!0,e)||t}const CE=Symbol.for("v-ndc");function Nd(t){return jt(t)?DE(PE,t,!1)||t:t||CE}function DE(t,e,n=!0,r=!1){const i=mn||Nn;if(i){const s=i.type;{const a=XP(s,!1);if(a&&(a===e||a===Oi(e)||a===Sd(Oi(e))))return s}const o=a_(i[t]||s[t],e)||a_(i.appContext[t],e);return!o&&r?s:o}}function a_(t,e){return t&&(t[e]||t[Oi(e)]||t[Sd(Oi(e))])}const rP=t=>t.__isSuspense;function iP(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):QO(t)}const sP=Symbol.for("v-scx"),oP=()=>Yr(sP),Nc={};function un(t,e,n){return ME(t,e,n)}function ME(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=Dt){if(e&&s){const x=e;e=(...I)=>{x(...I),w()}}const l=Nn,f=x=>r===!0?x:po(x,r===!1?1:void 0);let u,c=!1,d=!1;if(Tn(t)?(u=()=>t.value,c=Mf(t)):Ul(t)?(u=()=>f(t),c=!0):qe(t)?(d=!0,c=t.some(x=>Ul(x)||Mf(x)),u=()=>t.map(x=>{if(Tn(x))return x.value;if(Ul(x))return f(x);if(Ze(x))return Ps(x,l,2)})):Ze(t)?e?u=()=>Ps(t,l,2):u=()=>(h&&h(),Nr(t,l,3,[p])):u=Mr,e&&r){const x=u;u=()=>po(x())}let h,p=x=>{h=b.onStop=()=>{Ps(x,l,4),h=b.onStop=void 0}},m;if(Vd)if(p=Mr,e?n&&Nr(e,l,3,[u(),d?[]:void 0,p]):u(),i==="sync"){const x=oP();m=x.__watcherHandles||(x.__watcherHandles=[])}else return Mr;let y=d?new Array(t.length).fill(Nc):Nc;const v=()=>{if(!(!b.active||!b.dirty))if(e){const x=b.run();(r||c||(d?x.some((I,E)=>Fs(I,y[E])):Fs(x,y)))&&(h&&h(),Nr(e,l,3,[x,y===Nc?void 0:d&&y[0]===Nc?[]:y,p]),y=x)}else b.run()};v.allowRecurse=!!e;let _;i==="sync"?_=v:i==="post"?_=()=>fr(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),_=()=>Dv(v));const b=new xv(u,Mr,_),g=aE(),w=()=>{b.stop(),g&&Ev(g.effects,b)};return e?n?v():y=b.run():i==="post"?fr(b.run.bind(b),l&&l.suspense):b.run(),m&&m.push(w),w}function aP(t,e,n){const r=this.proxy,i=jt(t)?t.includes(".")?NE(r,t):()=>r[t]:t.bind(r,r);let s;Ze(e)?s=e:(s=e.handler,n=e);const o=Bu(this),a=ME(i,s.bind(r),n);return o(),a}function NE(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function po(t,e=1/0,n){if(e<=0||!It(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Tn(t))po(t.value,e,n);else if(qe(t))for(let r=0;r<t.length;r++)po(t[r],e,n);else if(Ya(t)||ga(t))t.forEach(r=>{po(r,e,n)});else if(tE(t))for(const r in t)po(t[r],e,n);return t}function wt(t,e){if(mn===null)return t;const n=Ud(mn)||mn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Dt]=e[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&po(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ro(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(zs(),Nr(l,n,8,[t.el,a,t,e]),Ws())}}const ys=Symbol("_leaveCb"),Lc=Symbol("_enterCb");function lP(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pt(()=>{t.isMounted=!0}),Mv(()=>{t.isUnmounting=!0}),t}const Cr=[Function,Array],LE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cr,onEnter:Cr,onAfterEnter:Cr,onEnterCancelled:Cr,onBeforeLeave:Cr,onLeave:Cr,onAfterLeave:Cr,onLeaveCancelled:Cr,onBeforeAppear:Cr,onAppear:Cr,onAfterAppear:Cr,onAppearCancelled:Cr},uP={name:"BaseTransition",props:LE,setup(t,{slots:e}){const n=nT(),r=lP();return()=>{const i=e.default&&FE(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const d of i)if(d.type!==Ar){s=d;break}}const o=gt(t),{mode:a}=o;if(r.isLeaving)return Vp(s);const l=l_(s);if(!l)return Vp(s);const f=Gm(l,o,r,n);Qm(l,f);const u=n.subTree,c=u&&l_(u);if(c&&c.type!==Ar&&!fo(l,c)){const d=Gm(c,o,r,n);if(Qm(c,d),a==="out-in"&&l.type!==Ar)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Vp(s);a==="in-out"&&l.type!==Ar&&(d.delayLeave=(h,p,m)=>{const y=$E(r,c);y[String(c.key)]=c,h[ys]=()=>{p(),h[ys]=void 0,delete f.delayedLeave},f.delayedLeave=m})}return s}}},cP=uP;function $E(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Gm(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:u,onBeforeLeave:c,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:_}=e,b=String(t.key),g=$E(n,t),w=(E,S)=>{E&&Nr(E,r,9,S)},x=(E,S)=>{const k=S[1];w(E,S),qe(E)?E.every(A=>A.length<=1)&&k():E.length<=1&&k()},I={mode:s,persisted:o,beforeEnter(E){let S=a;if(!n.isMounted)if(i)S=m||a;else return;E[ys]&&E[ys](!0);const k=g[b];k&&fo(t,k)&&k.el[ys]&&k.el[ys](),w(S,[E])},enter(E){let S=l,k=f,A=u;if(!n.isMounted)if(i)S=y||l,k=v||f,A=_||u;else return;let T=!1;const R=E[Lc]=N=>{T||(T=!0,N?w(A,[E]):w(k,[E]),I.delayedLeave&&I.delayedLeave(),E[Lc]=void 0)};S?x(S,[E,R]):R()},leave(E,S){const k=String(t.key);if(E[Lc]&&E[Lc](!0),n.isUnmounting)return S();w(c,[E]);let A=!1;const T=E[ys]=R=>{A||(A=!0,S(),R?w(p,[E]):w(h,[E]),E[ys]=void 0,g[k]===t&&delete g[k])};g[k]=t,d?x(d,[E,T]):T()},clone(E){return Gm(E,e,n,r)}};return I}function Vp(t){if(Ld(t))return t=Vs(t),t.children=null,t}function l_(t){if(!Ld(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function Qm(t,e){t.shapeFlag&6&&t.component?Qm(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function FE(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ie?(o.patchFlag&128&&i++,r=r.concat(FE(o.children,e,a))):(e||o.type!==Ar)&&r.push(a!=null?Vs(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rn(t,e){return Ze(t)?cn({name:t.name},e,{setup:t}):t}const Bl=t=>!!t.type.__asyncLoader,Ld=t=>t.type.__isKeepAlive;function fP(t,e){VE(t,"a",e)}function dP(t,e){VE(t,"da",e)}function VE(t,e,n=Nn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if($d(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Ld(i.parent.vnode)&&hP(r,e,n,i),i=i.parent}}function hP(t,e,n,r){const i=$d(e,t,r,!0);Ga(()=>{Ev(r[e],i)},n)}function $d(t,e,n=Nn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;zs();const a=Bu(n),l=Nr(e,n,t,o);return a(),Ws(),l});return r?i.unshift(s):i.push(s),s}}const ss=t=>(e,n=Nn)=>(!Vd||t==="sp")&&$d(t,(...r)=>e(...r),n),pP=ss("bm"),pt=ss("m"),UE=ss("bu"),mP=ss("u"),Mv=ss("bum"),Ga=ss("um"),gP=ss("sp"),vP=ss("rtg"),yP=ss("rtc");function _P(t,e=Nn){$d("ec",t,e)}function Ge(t,e,n,r){let i;const s=n;if(qe(t)||jt(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s)}else if(It(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const f=o[a];i[a]=e(t[f],f,a,s)}}else i=[];return i}function Xn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(qe(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Ne(t,e,n={},r,i){if(mn.isCE||mn.parent&&Bl(mn.parent)&&mn.parent.isCE)return e!=="default"&&(n.name=e),Ce("slot",n,r);let s=t[e];s&&s._c&&(s._d=!1),ne();const o=s&&BE(s(n)),a=Ue(Ie,{key:n.key||o&&o.key||`_${e}`},o||[],o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function BE(t){return t.some(e=>$f(e)?!(e.type===Ar||e.type===Ie&&!BE(e.children)):!0)?t:null}const Xm=t=>t?rT(t)?Ud(t)||t.proxy:Xm(t.parent):null,jl=cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xm(t.parent),$root:t=>Xm(t.root),$emit:t=>t.emit,$options:t=>Nv(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Dv(t.update)}),$nextTick:t=>t.n||(t.n=Vn.bind(t.proxy)),$watch:t=>aP.bind(t)}),Up=(t,e)=>t!==Dt&&!t.__isScriptSetup&&ht(t,e),bP={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Up(r,e))return o[e]=1,r[e];if(i!==Dt&&ht(i,e))return o[e]=2,i[e];if((f=t.propsOptions[0])&&ht(f,e))return o[e]=3,s[e];if(n!==Dt&&ht(n,e))return o[e]=4,n[e];Jm&&(o[e]=0)}}const u=jl[e];let c,d;if(u)return e==="$attrs"&&wr(t.attrs,"get",""),u(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==Dt&&ht(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,ht(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Up(i,e)?(i[e]=n,!0):r!==Dt&&ht(r,e)?(r[e]=n,!0):ht(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Dt&&ht(t,o)||Up(e,o)||(a=s[0])&&ht(a,o)||ht(r,o)||ht(jl,o)||ht(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ht(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Uo(){return wP().slots}function wP(){const t=nT();return t.setupContext||(t.setupContext=sT(t))}function u_(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Jm=!0;function EP(t){const e=Nv(t),n=t.proxy,r=t.ctx;Jm=!1,e.beforeCreate&&c_(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:f,created:u,beforeMount:c,mounted:d,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:_,destroyed:b,unmounted:g,render:w,renderTracked:x,renderTriggered:I,errorCaptured:E,serverPrefetch:S,expose:k,inheritAttrs:A,components:T,directives:R,filters:N}=e;if(f&&TP(f,r,null),o)for(const C in o){const G=o[C];Ze(G)&&(r[C]=G.bind(n))}if(i){const C=i.call(n,n);It(C)&&(t.data=Fr(C))}if(Jm=!0,s)for(const C in s){const G=s[C],H=Ze(G)?G.bind(n,n):Ze(G.get)?G.get.bind(n,n):Mr,B=!Ze(G)&&Ze(G.set)?G.set.bind(n):Mr,$=ge({get:H,set:B});Object.defineProperty(r,C,{enumerable:!0,configurable:!0,get:()=>$.value,set:V=>$.value=V})}if(a)for(const C in a)jE(a[C],r,n,C);if(l){const C=Ze(l)?l.call(n):l;Reflect.ownKeys(C).forEach(G=>{df(G,C[G])})}u&&c_(u,t,"c");function P(C,G){qe(G)?G.forEach(H=>C(H.bind(n))):G&&C(G.bind(n))}if(P(pP,c),P(pt,d),P(UE,h),P(mP,p),P(fP,m),P(dP,y),P(_P,E),P(yP,x),P(vP,I),P(Mv,_),P(Ga,g),P(gP,S),qe(k))if(k.length){const C=t.exposed||(t.exposed={});k.forEach(G=>{Object.defineProperty(C,G,{get:()=>n[G],set:H=>n[G]=H})})}else t.exposed||(t.exposed={});w&&t.render===Mr&&(t.render=w),A!=null&&(t.inheritAttrs=A),T&&(t.components=T),R&&(t.directives=R)}function TP(t,e,n=Mr){qe(t)&&(t=Zm(t));for(const r in t){const i=t[r];let s;It(i)?"default"in i?s=Yr(i.from||r,i.default,!0):s=Yr(i.from||r):s=Yr(i),Tn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function c_(t,e,n){Nr(qe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function jE(t,e,n,r){const i=r.includes(".")?NE(n,r):()=>n[r];if(jt(t)){const s=e[t];Ze(s)&&un(i,s)}else if(Ze(t))un(i,t.bind(n));else if(It(t))if(qe(t))t.forEach(s=>jE(s,e,n,r));else{const s=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(s)&&un(i,s,t)}}function Nv(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(f=>Lf(l,f,o,!0)),Lf(l,e,o)),It(e)&&s.set(e,l),l}function Lf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Lf(t,s,n,!0),i&&i.forEach(o=>Lf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=AP[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const AP={data:f_,props:d_,emits:d_,methods:Ol,computed:Ol,beforeCreate:rr,created:rr,beforeMount:rr,mounted:rr,beforeUpdate:rr,updated:rr,beforeDestroy:rr,beforeUnmount:rr,destroyed:rr,unmounted:rr,activated:rr,deactivated:rr,errorCaptured:rr,serverPrefetch:rr,components:Ol,directives:Ol,watch:kP,provide:f_,inject:xP};function f_(t,e){return e?t?function(){return cn(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function xP(t,e){return Ol(Zm(t),Zm(e))}function Zm(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function rr(t,e){return t?[...new Set([].concat(t,e))]:e}function Ol(t,e){return t?cn(Object.create(null),t,e):e}function d_(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:cn(Object.create(null),u_(t),u_(e??{})):e}function kP(t,e){if(!t)return e;if(!e)return t;const n=cn(Object.create(null),t);for(const r in e)n[r]=rr(t[r],e[r]);return n}function qE(){return{app:null,config:{isNativeTag:rO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let SP=0;function IP(t,e){return function(r,i=null){Ze(r)||(r=cn({},r)),i!=null&&!It(i)&&(i=null);const s=qE(),o=new WeakSet;let a=!1;const l=s.app={_uid:SP++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:ZP,get config(){return s.config},set config(f){},use(f,...u){return o.has(f)||(f&&Ze(f.install)?(o.add(f),f.install(l,...u)):Ze(f)&&(o.add(f),f(l,...u))),l},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),l},component(f,u){return u?(s.components[f]=u,l):s.components[f]},directive(f,u){return u?(s.directives[f]=u,l):s.directives[f]},mount(f,u,c){if(!a){const d=Ce(r,i);return d.appContext=s,c===!0?c="svg":c===!1&&(c=void 0),u&&e?e(d,f):t(d,f,c),a=!0,l._container=f,f.__vue_app__=l,Ud(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(f,u){return s.provides[f]=u,l},runWithContext(f){const u=ql;ql=l;try{return f()}finally{ql=u}}};return l}}let ql=null;function df(t,e){if(Nn){let n=Nn.provides;const r=Nn.parent&&Nn.parent.provides;r===n&&(n=Nn.provides=Object.create(r)),n[t]=e}}function Yr(t,e,n=!1){const r=Nn||mn;if(r||ql){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:ql._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}const HE={},zE=()=>Object.create(HE),WE=t=>Object.getPrototypeOf(t)===HE;function RP(t,e,n,r=!1){const i={},s=zE();t.propsDefaults=Object.create(null),KE(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:_E(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function OP(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=gt(i),[l]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let c=0;c<u.length;c++){let d=u[c];if(Od(t.emitsOptions,d))continue;const h=e[d];if(l)if(ht(s,d))h!==s[d]&&(s[d]=h,f=!0);else{const p=Oi(d);i[p]=eg(l,a,p,h,t,!1)}else h!==s[d]&&(s[d]=h,f=!0)}}}else{KE(t,e,i,s)&&(f=!0);let u;for(const c in a)(!e||!ht(e,c)&&((u=Vo(c))===c||!ht(e,u)))&&(l?n&&(n[c]!==void 0||n[u]!==void 0)&&(i[c]=eg(l,a,c,void 0,t,!0)):delete i[c]);if(s!==a)for(const c in s)(!e||!ht(e,c))&&(delete s[c],f=!0)}f&&Ki(t.attrs,"set","")}function KE(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Vl(l))continue;const f=e[l];let u;i&&ht(i,u=Oi(l))?!s||!s.includes(u)?n[u]=f:(a||(a={}))[u]=f:Od(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,o=!0)}if(s){const l=gt(n),f=a||Dt;for(let u=0;u<s.length;u++){const c=s[u];n[c]=eg(i,l,c,f[c],t,!ht(f,c))}}return o}function eg(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=ht(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const u=Bu(i);r=f[n]=l.call(null,e),u()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Vo(n))&&(r=!0))}return r}function YE(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ze(t)){const u=c=>{l=!0;const[d,h]=YE(c,e,!0);cn(o,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return It(t)&&r.set(t,ma),ma;if(qe(s))for(let u=0;u<s.length;u++){const c=Oi(s[u]);h_(c)&&(o[c]=Dt)}else if(s)for(const u in s){const c=Oi(u);if(h_(c)){const d=s[u],h=o[c]=qe(d)||Ze(d)?{type:d}:cn({},d);if(h){const p=g_(Boolean,h.type),m=g_(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||ht(h,"default"))&&a.push(c)}}}const f=[o,a];return It(t)&&r.set(t,f),f}function h_(t){return t[0]!=="$"&&!Vl(t)}function p_(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function m_(t,e){return p_(t)===p_(e)}function g_(t,e){return qe(e)?e.findIndex(n=>m_(n,t)):Ze(e)&&m_(e,t)?0:-1}const GE=t=>t[0]==="_"||t==="$stable",Lv=t=>qe(t)?t.map(pi):[pi(t)],PP=(t,e,n)=>{if(e._n)return e;const r=He((...i)=>Lv(e(...i)),n);return r._c=!1,r},QE=(t,e,n)=>{const r=t._ctx;for(const i in t){if(GE(i))continue;const s=t[i];if(Ze(s))e[i]=PP(i,s,r);else if(s!=null){const o=Lv(s);e[i]=()=>o}}},XE=(t,e)=>{const n=Lv(e);t.slots.default=()=>n},CP=(t,e)=>{const n=t.slots=zE();if(t.vnode.shapeFlag&32){const r=e._;r?(cn(n,e),nE(n,"_",r,!0)):QE(e,n)}else e&&XE(t,e)},DP=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Dt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(cn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,QE(e,i)),o=e}else e&&(XE(t,e),o={default:1});if(s)for(const a in i)!GE(a)&&o[a]==null&&delete i[a]};function tg(t,e,n,r,i=!1){if(qe(t)){t.forEach((d,h)=>tg(d,e&&(qe(e)?e[h]:e),n,r,i));return}if(Bl(r)&&!i)return;const s=r.shapeFlag&4?Ud(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,f=e&&e.r,u=a.refs===Dt?a.refs={}:a.refs,c=a.setupState;if(f!=null&&f!==l&&(jt(f)?(u[f]=null,ht(c,f)&&(c[f]=null)):Tn(f)&&(f.value=null)),Ze(l))Ps(l,a,12,[o,u]);else{const d=jt(l),h=Tn(l);if(d||h){const p=()=>{if(t.f){const m=d?ht(c,l)?c[l]:u[l]:l.value;i?qe(m)&&Ev(m,s):qe(m)?m.includes(s)||m.push(s):d?(u[l]=[s],ht(c,l)&&(c[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else d?(u[l]=o,ht(c,l)&&(c[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};o?(p.id=-1,fr(p,n)):p()}}}const fr=iP;function MP(t){return NP(t)}function NP(t,e){const n=rE();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:f,setElementText:u,parentNode:c,nextSibling:d,setScopeId:h=Mr,insertStaticContent:p}=t,m=(q,Q,Y,fe=null,ee=null,U=null,te=void 0,ie=null,oe=!!Q.dynamicChildren)=>{if(q===Q)return;q&&!fo(q,Q)&&(fe=F(q),V(q,ee,U,!0),q=null),Q.patchFlag===-2&&(oe=!1,Q.dynamicChildren=null);const{type:re,ref:pe,shapeFlag:ve}=Q;switch(re){case Fd:y(q,Q,Y,fe);break;case Ar:v(q,Q,Y,fe);break;case hf:q==null&&_(Q,Y,fe,te);break;case Ie:T(q,Q,Y,fe,ee,U,te,ie,oe);break;default:ve&1?w(q,Q,Y,fe,ee,U,te,ie,oe):ve&6?R(q,Q,Y,fe,ee,U,te,ie,oe):(ve&64||ve&128)&&re.process(q,Q,Y,fe,ee,U,te,ie,oe,se)}pe!=null&&ee&&tg(pe,q&&q.ref,U,Q||q,!Q)},y=(q,Q,Y,fe)=>{if(q==null)r(Q.el=a(Q.children),Y,fe);else{const ee=Q.el=q.el;Q.children!==q.children&&f(ee,Q.children)}},v=(q,Q,Y,fe)=>{q==null?r(Q.el=l(Q.children||""),Y,fe):Q.el=q.el},_=(q,Q,Y,fe)=>{[q.el,q.anchor]=p(q.children,Q,Y,fe,q.el,q.anchor)},b=({el:q,anchor:Q},Y,fe)=>{let ee;for(;q&&q!==Q;)ee=d(q),r(q,Y,fe),q=ee;r(Q,Y,fe)},g=({el:q,anchor:Q})=>{let Y;for(;q&&q!==Q;)Y=d(q),i(q),q=Y;i(Q)},w=(q,Q,Y,fe,ee,U,te,ie,oe)=>{Q.type==="svg"?te="svg":Q.type==="math"&&(te="mathml"),q==null?x(Q,Y,fe,ee,U,te,ie,oe):S(q,Q,ee,U,te,ie,oe)},x=(q,Q,Y,fe,ee,U,te,ie)=>{let oe,re;const{props:pe,shapeFlag:ve,transition:Ee,dirs:Re}=q;if(oe=q.el=o(q.type,U,pe&&pe.is,pe),ve&8?u(oe,q.children):ve&16&&E(q.children,oe,null,fe,ee,Bp(q,U),te,ie),Re&&ro(q,null,fe,"created"),I(oe,q,q.scopeId,te,fe),pe){for(const Pe in pe)Pe!=="value"&&!Vl(Pe)&&s(oe,Pe,null,pe[Pe],U,q.children,fe,ee,j);"value"in pe&&s(oe,"value",null,pe.value,U),(re=pe.onVnodeBeforeMount)&&di(re,fe,q)}Re&&ro(q,null,fe,"beforeMount");const $e=LP(ee,Ee);$e&&Ee.beforeEnter(oe),r(oe,Q,Y),((re=pe&&pe.onVnodeMounted)||$e||Re)&&fr(()=>{re&&di(re,fe,q),$e&&Ee.enter(oe),Re&&ro(q,null,fe,"mounted")},ee)},I=(q,Q,Y,fe,ee)=>{if(Y&&h(q,Y),fe)for(let U=0;U<fe.length;U++)h(q,fe[U]);if(ee){let U=ee.subTree;if(Q===U){const te=ee.vnode;I(q,te,te.scopeId,te.slotScopeIds,ee.parent)}}},E=(q,Q,Y,fe,ee,U,te,ie,oe=0)=>{for(let re=oe;re<q.length;re++){const pe=q[re]=ie?_s(q[re]):pi(q[re]);m(null,pe,Q,Y,fe,ee,U,te,ie)}},S=(q,Q,Y,fe,ee,U,te)=>{const ie=Q.el=q.el;let{patchFlag:oe,dynamicChildren:re,dirs:pe}=Q;oe|=q.patchFlag&16;const ve=q.props||Dt,Ee=Q.props||Dt;let Re;if(Y&&io(Y,!1),(Re=Ee.onVnodeBeforeUpdate)&&di(Re,Y,Q,q),pe&&ro(Q,q,Y,"beforeUpdate"),Y&&io(Y,!0),re?k(q.dynamicChildren,re,ie,Y,fe,Bp(Q,ee),U):te||G(q,Q,ie,null,Y,fe,Bp(Q,ee),U,!1),oe>0){if(oe&16)A(ie,Q,ve,Ee,Y,fe,ee);else if(oe&2&&ve.class!==Ee.class&&s(ie,"class",null,Ee.class,ee),oe&4&&s(ie,"style",ve.style,Ee.style,ee),oe&8){const $e=Q.dynamicProps;for(let Pe=0;Pe<$e.length;Pe++){const Qe=$e[Pe],Me=ve[Qe],rt=Ee[Qe];(rt!==Me||Qe==="value")&&s(ie,Qe,Me,rt,ee,q.children,Y,fe,j)}}oe&1&&q.children!==Q.children&&u(ie,Q.children)}else!te&&re==null&&A(ie,Q,ve,Ee,Y,fe,ee);((Re=Ee.onVnodeUpdated)||pe)&&fr(()=>{Re&&di(Re,Y,Q,q),pe&&ro(Q,q,Y,"updated")},fe)},k=(q,Q,Y,fe,ee,U,te)=>{for(let ie=0;ie<Q.length;ie++){const oe=q[ie],re=Q[ie],pe=oe.el&&(oe.type===Ie||!fo(oe,re)||oe.shapeFlag&70)?c(oe.el):Y;m(oe,re,pe,null,fe,ee,U,te,!0)}},A=(q,Q,Y,fe,ee,U,te)=>{if(Y!==fe){if(Y!==Dt)for(const ie in Y)!Vl(ie)&&!(ie in fe)&&s(q,ie,Y[ie],null,te,Q.children,ee,U,j);for(const ie in fe){if(Vl(ie))continue;const oe=fe[ie],re=Y[ie];oe!==re&&ie!=="value"&&s(q,ie,re,oe,te,Q.children,ee,U,j)}"value"in fe&&s(q,"value",Y.value,fe.value,te)}},T=(q,Q,Y,fe,ee,U,te,ie,oe)=>{const re=Q.el=q?q.el:a(""),pe=Q.anchor=q?q.anchor:a("");let{patchFlag:ve,dynamicChildren:Ee,slotScopeIds:Re}=Q;Re&&(ie=ie?ie.concat(Re):Re),q==null?(r(re,Y,fe),r(pe,Y,fe),E(Q.children||[],Y,pe,ee,U,te,ie,oe)):ve>0&&ve&64&&Ee&&q.dynamicChildren?(k(q.dynamicChildren,Ee,Y,ee,U,te,ie),(Q.key!=null||ee&&Q===ee.subTree)&&$v(q,Q,!0)):G(q,Q,Y,pe,ee,U,te,ie,oe)},R=(q,Q,Y,fe,ee,U,te,ie,oe)=>{Q.slotScopeIds=ie,q==null?Q.shapeFlag&512?ee.ctx.activate(Q,Y,fe,te,oe):N(Q,Y,fe,ee,U,te,oe):D(q,Q,oe)},N=(q,Q,Y,fe,ee,U,te)=>{const ie=q.component=KP(q,fe,ee);if(Ld(q)&&(ie.ctx.renderer=se),YP(ie),ie.asyncDep){if(ee&&ee.registerDep(ie,P),!q.el){const oe=ie.subTree=Ce(Ar);v(null,oe,Q,Y)}}else P(ie,q,Q,Y,ee,U,te)},D=(q,Q,Y)=>{const fe=Q.component=q.component;if(tP(q,Q,Y))if(fe.asyncDep&&!fe.asyncResolved){C(fe,Q,Y);return}else fe.next=Q,GO(fe.update),fe.effect.dirty=!0,fe.update();else Q.el=q.el,fe.vnode=Q},P=(q,Q,Y,fe,ee,U,te)=>{const ie=()=>{if(q.isMounted){let{next:pe,bu:ve,u:Ee,parent:Re,vnode:$e}=q;{const St=JE(q);if(St){pe&&(pe.el=$e.el,C(q,pe,te)),St.asyncDep.then(()=>{q.isUnmounted||ie()});return}}let Pe=pe,Qe;io(q,!1),pe?(pe.el=$e.el,C(q,pe,te)):pe=$e,ve&&cf(ve),(Qe=pe.props&&pe.props.onVnodeBeforeUpdate)&&di(Qe,Re,pe,$e),io(q,!0);const Me=Fp(q),rt=q.subTree;q.subTree=Me,m(rt,Me,c(rt.el),F(rt),q,ee,U),pe.el=Me.el,Pe===null&&nP(q,Me.el),Ee&&fr(Ee,ee),(Qe=pe.props&&pe.props.onVnodeUpdated)&&fr(()=>di(Qe,Re,pe,$e),ee)}else{let pe;const{el:ve,props:Ee}=Q,{bm:Re,m:$e,parent:Pe}=q,Qe=Bl(Q);if(io(q,!1),Re&&cf(Re),!Qe&&(pe=Ee&&Ee.onVnodeBeforeMount)&&di(pe,Pe,Q),io(q,!0),ve&&Z){const Me=()=>{q.subTree=Fp(q),Z(ve,q.subTree,q,ee,null)};Qe?Q.type.__asyncLoader().then(()=>!q.isUnmounted&&Me()):Me()}else{const Me=q.subTree=Fp(q);m(null,Me,Y,fe,q,ee,U),Q.el=Me.el}if($e&&fr($e,ee),!Qe&&(pe=Ee&&Ee.onVnodeMounted)){const Me=Q;fr(()=>di(pe,Pe,Me),ee)}(Q.shapeFlag&256||Pe&&Bl(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&q.a&&fr(q.a,ee),q.isMounted=!0,Q=Y=fe=null}},oe=q.effect=new xv(ie,Mr,()=>Dv(re),q.scope),re=q.update=()=>{oe.dirty&&oe.run()};re.id=q.uid,io(q,!0),re()},C=(q,Q,Y)=>{Q.component=q;const fe=q.vnode.props;q.vnode=Q,q.next=null,OP(q,Q.props,fe,Y),DP(q,Q.children,Y),zs(),s_(q),Ws()},G=(q,Q,Y,fe,ee,U,te,ie,oe=!1)=>{const re=q&&q.children,pe=q?q.shapeFlag:0,ve=Q.children,{patchFlag:Ee,shapeFlag:Re}=Q;if(Ee>0){if(Ee&128){B(re,ve,Y,fe,ee,U,te,ie,oe);return}else if(Ee&256){H(re,ve,Y,fe,ee,U,te,ie,oe);return}}Re&8?(pe&16&&j(re,ee,U),ve!==re&&u(Y,ve)):pe&16?Re&16?B(re,ve,Y,fe,ee,U,te,ie,oe):j(re,ee,U,!0):(pe&8&&u(Y,""),Re&16&&E(ve,Y,fe,ee,U,te,ie,oe))},H=(q,Q,Y,fe,ee,U,te,ie,oe)=>{q=q||ma,Q=Q||ma;const re=q.length,pe=Q.length,ve=Math.min(re,pe);let Ee;for(Ee=0;Ee<ve;Ee++){const Re=Q[Ee]=oe?_s(Q[Ee]):pi(Q[Ee]);m(q[Ee],Re,Y,null,ee,U,te,ie,oe)}re>pe?j(q,ee,U,!0,!1,ve):E(Q,Y,fe,ee,U,te,ie,oe,ve)},B=(q,Q,Y,fe,ee,U,te,ie,oe)=>{let re=0;const pe=Q.length;let ve=q.length-1,Ee=pe-1;for(;re<=ve&&re<=Ee;){const Re=q[re],$e=Q[re]=oe?_s(Q[re]):pi(Q[re]);if(fo(Re,$e))m(Re,$e,Y,null,ee,U,te,ie,oe);else break;re++}for(;re<=ve&&re<=Ee;){const Re=q[ve],$e=Q[Ee]=oe?_s(Q[Ee]):pi(Q[Ee]);if(fo(Re,$e))m(Re,$e,Y,null,ee,U,te,ie,oe);else break;ve--,Ee--}if(re>ve){if(re<=Ee){const Re=Ee+1,$e=Re<pe?Q[Re].el:fe;for(;re<=Ee;)m(null,Q[re]=oe?_s(Q[re]):pi(Q[re]),Y,$e,ee,U,te,ie,oe),re++}}else if(re>Ee)for(;re<=ve;)V(q[re],ee,U,!0),re++;else{const Re=re,$e=re,Pe=new Map;for(re=$e;re<=Ee;re++){const de=Q[re]=oe?_s(Q[re]):pi(Q[re]);de.key!=null&&Pe.set(de.key,re)}let Qe,Me=0;const rt=Ee-$e+1;let St=!1,sn=0;const Ot=new Array(rt);for(re=0;re<rt;re++)Ot[re]=0;for(re=Re;re<=ve;re++){const de=q[re];if(Me>=rt){V(de,ee,U,!0);continue}let Te;if(de.key!=null)Te=Pe.get(de.key);else for(Qe=$e;Qe<=Ee;Qe++)if(Ot[Qe-$e]===0&&fo(de,Q[Qe])){Te=Qe;break}Te===void 0?V(de,ee,U,!0):(Ot[Te-$e]=re+1,Te>=sn?sn=Te:St=!0,m(de,Q[Te],Y,null,ee,U,te,ie,oe),Me++)}const Xt=St?$P(Ot):ma;for(Qe=Xt.length-1,re=rt-1;re>=0;re--){const de=$e+re,Te=Q[de],ye=de+1<pe?Q[de+1].el:fe;Ot[re]===0?m(null,Te,Y,ye,ee,U,te,ie,oe):St&&(Qe<0||re!==Xt[Qe]?$(Te,Y,ye,2):Qe--)}}},$=(q,Q,Y,fe,ee=null)=>{const{el:U,type:te,transition:ie,children:oe,shapeFlag:re}=q;if(re&6){$(q.component.subTree,Q,Y,fe);return}if(re&128){q.suspense.move(Q,Y,fe);return}if(re&64){te.move(q,Q,Y,se);return}if(te===Ie){r(U,Q,Y);for(let ve=0;ve<oe.length;ve++)$(oe[ve],Q,Y,fe);r(q.anchor,Q,Y);return}if(te===hf){b(q,Q,Y);return}if(fe!==2&&re&1&&ie)if(fe===0)ie.beforeEnter(U),r(U,Q,Y),fr(()=>ie.enter(U),ee);else{const{leave:ve,delayLeave:Ee,afterLeave:Re}=ie,$e=()=>r(U,Q,Y),Pe=()=>{ve(U,()=>{$e(),Re&&Re()})};Ee?Ee(U,$e,Pe):Pe()}else r(U,Q,Y)},V=(q,Q,Y,fe=!1,ee=!1)=>{const{type:U,props:te,ref:ie,children:oe,dynamicChildren:re,shapeFlag:pe,patchFlag:ve,dirs:Ee}=q;if(ie!=null&&tg(ie,null,Y,q,!0),pe&256){Q.ctx.deactivate(q);return}const Re=pe&1&&Ee,$e=!Bl(q);let Pe;if($e&&(Pe=te&&te.onVnodeBeforeUnmount)&&di(Pe,Q,q),pe&6)z(q.component,Y,fe);else{if(pe&128){q.suspense.unmount(Y,fe);return}Re&&ro(q,null,Q,"beforeUnmount"),pe&64?q.type.remove(q,Q,Y,ee,se,fe):re&&(U!==Ie||ve>0&&ve&64)?j(re,Q,Y,!1,!0):(U===Ie&&ve&384||!ee&&pe&16)&&j(oe,Q,Y),fe&&M(q)}($e&&(Pe=te&&te.onVnodeUnmounted)||Re)&&fr(()=>{Pe&&di(Pe,Q,q),Re&&ro(q,null,Q,"unmounted")},Y)},M=q=>{const{type:Q,el:Y,anchor:fe,transition:ee}=q;if(Q===Ie){W(Y,fe);return}if(Q===hf){g(q);return}const U=()=>{i(Y),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(q.shapeFlag&1&&ee&&!ee.persisted){const{leave:te,delayLeave:ie}=ee,oe=()=>te(Y,U);ie?ie(q.el,U,oe):oe()}else U()},W=(q,Q)=>{let Y;for(;q!==Q;)Y=d(q),i(q),q=Y;i(Q)},z=(q,Q,Y)=>{const{bum:fe,scope:ee,update:U,subTree:te,um:ie}=q;fe&&cf(fe),ee.stop(),U&&(U.active=!1,V(te,q,Q,Y)),ie&&fr(ie,Q),fr(()=>{q.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},j=(q,Q,Y,fe=!1,ee=!1,U=0)=>{for(let te=U;te<q.length;te++)V(q[te],Q,Y,fe,ee)},F=q=>q.shapeFlag&6?F(q.component.subTree):q.shapeFlag&128?q.suspense.next():d(q.anchor||q.el);let J=!1;const K=(q,Q,Y)=>{q==null?Q._vnode&&V(Q._vnode,null,null,!0):m(Q._vnode||null,q,Q,null,null,null,Y),J||(J=!0,s_(),IE(),J=!1),Q._vnode=q},se={p:m,um:V,m:$,r:M,mt:N,mc:E,pc:G,pbc:k,n:F,o:t};let ce,Z;return{render:K,hydrate:ce,createApp:IP(K,ce)}}function Bp({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function io({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function LP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $v(t,e,n=!1){const r=t.children,i=e.children;if(qe(r)&&qe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=_s(i[s]),a.el=o.el),n||$v(o,a)),a.type===Fd&&(a.el=o.el)}}function $P(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<f?s=a+1:o=a;f<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function JE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:JE(e)}const FP=t=>t.__isTeleport,Hl=t=>t&&(t.disabled||t.disabled===""),v_=t=>typeof SVGElement<"u"&&t instanceof SVGElement,y_=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ng=(t,e)=>{const n=t&&t.to;return jt(n)?e?e(n):null:n},VP={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,f){const{mc:u,pc:c,pbc:d,o:{insert:h,querySelector:p,createText:m,createComment:y}}=f,v=Hl(e.props);let{shapeFlag:_,children:b,dynamicChildren:g}=e;if(t==null){const w=e.el=m(""),x=e.anchor=m("");h(w,n,r),h(x,n,r);const I=e.target=ng(e.props,p),E=e.targetAnchor=m("");I&&(h(E,I),o==="svg"||v_(I)?o="svg":(o==="mathml"||y_(I))&&(o="mathml"));const S=(k,A)=>{_&16&&u(b,k,A,i,s,o,a,l)};v?S(n,x):I&&S(I,E)}else{e.el=t.el;const w=e.anchor=t.anchor,x=e.target=t.target,I=e.targetAnchor=t.targetAnchor,E=Hl(t.props),S=E?n:x,k=E?w:I;if(o==="svg"||v_(x)?o="svg":(o==="mathml"||y_(x))&&(o="mathml"),g?(d(t.dynamicChildren,g,S,i,s,o,a),$v(t,e,!0)):l||c(t,e,S,k,i,s,o,a,!1),v)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):$c(e,n,w,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=ng(e.props,p);A&&$c(e,A,null,f,0)}else E&&$c(e,x,I,f,1)}ZE(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:f,targetAnchor:u,target:c,props:d}=t;if(c&&s(u),o&&s(f),a&16){const h=o||!Hl(d);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:$c,hydrate:UP};function $c(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:f,props:u}=t,c=s===2;if(c&&r(o,e,n),(!c||Hl(u))&&l&16)for(let d=0;d<f.length;d++)i(f[d],e,n,2);c&&r(a,e,n)}function UP(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},f){const u=e.target=ng(e.props,l);if(u){const c=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Hl(e.props))e.anchor=f(o(t),e,a(t),n,r,i,s),e.targetAnchor=c;else{e.anchor=o(t);let d=c;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}f(c,e,u,n,r,i,s)}ZE(e)}return e.anchor&&o(e.anchor)}const BP=VP;function ZE(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ie=Symbol.for("v-fgt"),Fd=Symbol.for("v-txt"),Ar=Symbol.for("v-cmt"),hf=Symbol.for("v-stc"),zl=[];let Wr=null;function ne(t=!1){zl.push(Wr=t?null:[])}function jP(){zl.pop(),Wr=zl[zl.length-1]||null}let cu=1;function __(t){cu+=t}function eT(t){return t.dynamicChildren=cu>0?Wr||ma:null,jP(),cu>0&&Wr&&Wr.push(t),t}function ae(t,e,n,r,i,s){return eT(O(t,e,n,r,i,s,!0))}function Ue(t,e,n,r,i){return eT(Ce(t,e,n,r,i,!0))}function $f(t){return t?t.__v_isVNode===!0:!1}function fo(t,e){return t.type===e.type&&t.key===e.key}const tT=({key:t})=>t??null,pf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?jt(t)||Tn(t)||Ze(t)?{i:mn,r:t,k:e,f:!!n}:t:null);function O(t,e=null,n=null,r=0,i=null,s=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tT(e),ref:e&&pf(e),scopeId:Pd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:mn};return a?(Fv(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=jt(n)?8:16),cu>0&&!o&&Wr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Wr.push(l),l}const Ce=qP;function qP(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===CE)&&(t=Ar),$f(t)){const a=Vs(t,e,!0);return n&&Fv(a,n),cu>0&&!s&&Wr&&(a.shapeFlag&6?Wr[Wr.indexOf(t)]=a:Wr.push(a)),a.patchFlag|=-2,a}if(JP(t)&&(t=t.__vccOpts),e){e=or(e);let{class:a,style:l}=e;a&&!jt(a)&&(e.class=Ke(a)),It(l)&&(wE(l)&&!qe(l)&&(l=cn({},l)),e.style=wn(l))}const o=jt(t)?1:rP(t)?128:FP(t)?64:It(t)?4:Ze(t)?2:0;return O(t,e,n,r,i,o,s,!0)}function or(t){return t?wE(t)||WE(t)?cn({},t):t:null}function Vs(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,f=e?gn(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&tT(f),ref:e&&e.ref?n&&s?qe(s)?s.concat(pf(e)):[s,pf(e)]:pf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vs(t.ssContent),ssFallback:t.ssFallback&&Vs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(u.transition=l.clone(u)),u}function ot(t=" ",e=0){return Ce(Fd,null,t,e)}function HP(t,e){const n=Ce(hf,null,t);return n.staticCount=e,n}function me(t="",e=!1){return e?(ne(),Ue(Ar,null,t)):Ce(Ar,null,t)}function pi(t){return t==null||typeof t=="boolean"?Ce(Ar):qe(t)?Ce(Ie,null,t.slice()):typeof t=="object"?_s(t):Ce(Fd,null,String(t))}function _s(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vs(t)}function Fv(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Fv(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!WE(e)?e._ctx=mn:i===3&&mn&&(mn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:mn},n=32):(e=String(e),r&64?(n=16,e=[ot(e)]):n=8);t.children=e,t.shapeFlag|=n}function gn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ke([e.class,r.class]));else if(i==="style")e.style=wn([e.style,r.style]);else if(xd(i)){const s=e[i],o=r[i];o&&s!==o&&!(qe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function di(t,e,n,r=null){Nr(t,e,7,[n,r])}const zP=qE();let WP=0;function KP(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||zP,s={uid:WP++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new oE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YE(r,i),emitsOptions:OE(r,i),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:r.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=JO.bind(null,s),t.ce&&t.ce(s),s}let Nn=null;const nT=()=>Nn||mn;let Ff,rg;{const t=rE(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Ff=e("__VUE_INSTANCE_SETTERS__",n=>Nn=n),rg=e("__VUE_SSR_SETTERS__",n=>Vd=n)}const Bu=t=>{const e=Nn;return Ff(t),t.scope.on(),()=>{t.scope.off(),Ff(e)}},b_=()=>{Nn&&Nn.scope.off(),Ff(null)};function rT(t){return t.vnode.shapeFlag&4}let Vd=!1;function YP(t,e=!1){e&&rg(e);const{props:n,children:r}=t.vnode,i=rT(t);RP(t,n,i,e),CP(t,r);const s=i?GP(t,e):void 0;return e&&rg(!1),s}function GP(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,bP);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?sT(t):null,s=Bu(t);zs();const o=Ps(r,t,0,[t.props,i]);if(Ws(),s(),Zw(o)){if(o.then(b_,b_),e)return o.then(a=>{w_(t,a,e)}).catch(a=>{Rd(a,t,0)});t.asyncDep=o}else w_(t,o,e)}else iT(t,e)}function w_(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:It(e)&&(t.setupState=xE(e)),iT(t,n)}let E_;function iT(t,e,n){const r=t.type;if(!t.render){if(!e&&E_&&!r.render){const i=r.template||Nv(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,f=cn(cn({isCustomElement:s,delimiters:a},o),l);r.render=E_(i,f)}}t.render=r.render||Mr}{const i=Bu(t);zs();try{EP(t)}finally{Ws(),i()}}}const QP={get(t,e){return wr(t,"get",""),t[e]}};function sT(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,QP),slots:t.slots,emit:t.emit,expose:e}}function Ud(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(xE(VO(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in jl)return jl[n](t)},has(e,n){return n in e||n in jl}}))}function XP(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function JP(t){return Ze(t)&&"__vccOpts"in t}const ge=(t,e)=>UO(t,e,Vd);function Qa(t,e,n){const r=arguments.length;return r===2?It(e)&&!qe(e)?$f(e)?Ce(t,null,[e]):Ce(t,e):Ce(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&$f(n)&&(n=[n]),Ce(t,e,n))}const ZP="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const eC="http://www.w3.org/2000/svg",tC="http://www.w3.org/1998/Math/MathML",bs=typeof document<"u"?document:null,T_=bs&&bs.createElement("template"),nC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?bs.createElementNS(eC,t):e==="mathml"?bs.createElementNS(tC,t):bs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>bs.createTextNode(t),createComment:t=>bs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{T_.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=T_.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cs="transition",ml="animation",fu=Symbol("_vtc"),Zr=(t,{slots:e})=>Qa(cP,rC(t),e);Zr.displayName="Transition";const oT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Zr.props=cn({},LE,oT);const so=(t,e=[])=>{qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},A_=t=>t?qe(t)?t.some(e=>e.length>1):t.length>1:!1;function rC(t){const e={};for(const T in t)T in oT||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:f=o,appearToClass:u=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=iC(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:b,onLeave:g,onLeaveCancelled:w,onBeforeAppear:x=v,onAppear:I=_,onAppearCancelled:E=b}=e,S=(T,R,N)=>{oo(T,R?u:a),oo(T,R?f:o),N&&N()},k=(T,R)=>{T._isLeaving=!1,oo(T,c),oo(T,h),oo(T,d),R&&R()},A=T=>(R,N)=>{const D=T?I:_,P=()=>S(R,T,N);so(D,[R,P]),x_(()=>{oo(R,T?l:s),fs(R,T?u:a),A_(D)||k_(R,r,m,P)})};return cn(e,{onBeforeEnter(T){so(v,[T]),fs(T,s),fs(T,o)},onBeforeAppear(T){so(x,[T]),fs(T,l),fs(T,f)},onEnter:A(!1),onAppear:A(!0),onLeave(T,R){T._isLeaving=!0;const N=()=>k(T,R);fs(T,c),fs(T,d),aC(),x_(()=>{T._isLeaving&&(oo(T,c),fs(T,h),A_(g)||k_(T,r,y,N))}),so(g,[T,N])},onEnterCancelled(T){S(T,!1),so(b,[T])},onAppearCancelled(T){S(T,!0),so(E,[T])},onLeaveCancelled(T){k(T),so(w,[T])}})}function iC(t){if(t==null)return null;if(It(t))return[jp(t.enter),jp(t.leave)];{const e=jp(t);return[e,e]}}function jp(t){return lO(t)}function fs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[fu]||(t[fu]=new Set)).add(e)}function oo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[fu];n&&(n.delete(e),n.size||(t[fu]=void 0))}function x_(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let sC=0;function k_(t,e,n,r){const i=t._endId=++sC,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=oC(t,e);if(!o)return r();const f=o+"end";let u=0;const c=()=>{t.removeEventListener(f,d),s()},d=h=>{h.target===t&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},a+1),t.addEventListener(f,d)}function oC(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${cs}Delay`),s=r(`${cs}Duration`),o=S_(i,s),a=r(`${ml}Delay`),l=r(`${ml}Duration`),f=S_(a,l);let u=null,c=0,d=0;e===cs?o>0&&(u=cs,c=o,d=s.length):e===ml?f>0&&(u=ml,c=f,d=l.length):(c=Math.max(o,f),u=c>0?o>f?cs:ml:null,d=u?u===cs?s.length:l.length:0);const h=u===cs&&/\b(transform|all)(,|$)/.test(r(`${cs}Property`).toString());return{type:u,timeout:c,propCount:d,hasTransform:h}}function S_(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>I_(n)+I_(t[r])))}function I_(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function aC(){return document.body.offsetHeight}function lC(t,e,n){const r=t[fu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Vf=Symbol("_vod"),aT=Symbol("_vsh"),Wl={beforeMount(t,{value:e},{transition:n}){t[Vf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):gl(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),gl(t,!0),r.enter(t)):r.leave(t,()=>{gl(t,!1)}):gl(t,e))},beforeUnmount(t,{value:e}){gl(t,e)}};function gl(t,e){t.style.display=e?t[Vf]:"none",t[aT]=!e}const uC=Symbol(""),cC=/(^|;)\s*display\s*:/;function fC(t,e,n){const r=t.style,i=jt(n);let s=!1;if(n&&!i){if(e)if(jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&mf(r,a,"")}else for(const o in e)n[o]==null&&mf(r,o,"");for(const o in n)o==="display"&&(s=!0),mf(r,o,n[o])}else if(i){if(e!==n){const o=r[uC];o&&(n+=";"+o),r.cssText=n,s=cC.test(n)}}else e&&t.removeAttribute("style");Vf in t&&(t[Vf]=s?r.display:"",t[aT]&&(r.display="none"))}const R_=/\s*!important$/;function mf(t,e,n){if(qe(n))n.forEach(r=>mf(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=dC(t,e);R_.test(n)?t.setProperty(Vo(r),n.replace(R_,""),"important"):t[r]=n}}const O_=["Webkit","Moz","ms"],qp={};function dC(t,e){const n=qp[e];if(n)return n;let r=Oi(e);if(r!=="filter"&&r in t)return qp[e]=r;r=Sd(r);for(let i=0;i<O_.length;i++){const s=O_[i]+r;if(s in t)return qp[e]=s}return e}const P_="http://www.w3.org/1999/xlink";function hC(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(P_,e.slice(6,e.length)):t.setAttributeNS(P_,e,n);else{const s=pO(e);n==null||s&&!iE(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function pC(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(f!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=iE(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Es(t,e,n,r){t.addEventListener(e,n,r)}function mC(t,e,n,r){t.removeEventListener(e,n,r)}const C_=Symbol("_vei");function gC(t,e,n,r,i=null){const s=t[C_]||(t[C_]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=vC(e);if(r){const f=s[e]=bC(r,i);Es(t,a,f,l)}else o&&(mC(t,a,o,l),s[e]=void 0)}}const D_=/(?:Once|Passive|Capture)$/;function vC(t){let e;if(D_.test(t)){e={};let r;for(;r=t.match(D_);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vo(t.slice(2)),e]}let Hp=0;const yC=Promise.resolve(),_C=()=>Hp||(yC.then(()=>Hp=0),Hp=Date.now());function bC(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Nr(wC(r,n.value),e,5,[r])};return n.value=t,n.attached=_C(),n}function wC(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const M_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,EC=(t,e,n,r,i,s,o,a,l)=>{const f=i==="svg";e==="class"?lC(t,r,f):e==="style"?fC(t,n,r):xd(e)?wv(e)||gC(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):TC(t,e,r,f))?pC(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),hC(t,e,r,f))};function TC(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&M_(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return M_(e)&&jt(n)?!1:e in t}const xa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?n=>cf(e,n):e};function AC(t){t.target.composing=!0}function N_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Yi=Symbol("_assign"),Gr={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Yi]=xa(i);const s=r||i.props&&i.props.type==="number";Es(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Cf(a)),t[Yi](a)}),n&&Es(t,"change",()=>{t.value=t.value.trim()}),e||(Es(t,"compositionstart",AC),Es(t,"compositionend",N_),Es(t,"change",N_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Yi]=xa(s),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?Cf(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},ya={deep:!0,created(t,e,n){t[Yi]=xa(n),Es(t,"change",()=>{const r=t._modelValue,i=du(t),s=t.checked,o=t[Yi];if(qe(r)){const a=Av(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const f=[...r];f.splice(a,1),o(f)}}else if(Ya(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(lT(t,s))})},mounted:L_,beforeUpdate(t,e,n){t[Yi]=xa(n),L_(t,e,n)}};function L_(t,{value:e,oldValue:n},r){t._modelValue=e,qe(e)?t.checked=Av(e,r.props.value)>-1:Ya(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Uu(e,lT(t,!0)))}const Us={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ya(e);Es(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Cf(du(o)):du(o));t[Yi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Vn(()=>{t._assigning=!1})}),t[Yi]=xa(r)},mounted(t,{value:e,modifiers:{number:n}}){$_(t,e)},beforeUpdate(t,e,n){t[Yi]=xa(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||$_(t,e)}};function $_(t,e,n){const r=t.multiple,i=qe(e);if(!(r&&!i&&!Ya(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=du(a);if(r)if(i){const f=typeof l;f==="string"||f==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=Av(e,l)>-1}else a.selected=e.has(l);else if(Uu(du(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function du(t){return"_value"in t?t._value:t.value}function lT(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const xC=["ctrl","shift","alt","meta"],kC={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>xC.some(n=>t[`${n}Key`]&&!e.includes(n))},Lr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=kC[e[o]];if(a&&a(i,e))return}return t(i,...s)})},SC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},uT=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Vo(i.key);if(e.some(o=>o===s||SC[o]===s))return t(i)})},IC=cn({patchProp:EC},nC);let F_;function cT(){return F_||(F_=MP(IC))}const V_=(...t)=>{cT().render(...t)},RC=(...t)=>{const e=cT().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=PC(r);if(!i)return;const s=e._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,OC(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function OC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function PC(t){return jt(t)?document.querySelector(t):t}function CC(){return fT().__VUE_DEVTOOLS_GLOBAL_HOOK__}function fT(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const DC=typeof Proxy=="function",MC="devtools-plugin:setup",NC="plugin:settings:set";let ta,ig;function LC(){var t;return ta!==void 0||(typeof window<"u"&&window.performance?(ta=!0,ig=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(ta=!0,ig=globalThis.perf_hooks.performance):ta=!1),ta}function $C(){return LC()?ig.now():Date.now()}class FC{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(i),a=JSON.parse(o);Object.assign(s,a)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(i,JSON.stringify(o))}catch{}s=o},now(){return $C()}},n&&n.on(NC,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(f=>{this.targetQueue.push({method:a,args:l,resolve:f})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function VC(t,e){const n=t,r=fT(),i=CC(),s=DC&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(MC,t,e);else{const o=s?new FC(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const oa=typeof document<"u";function UC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const At=Object.assign;function zp(t,e){const n={};for(const r in e){const i=e[r];n[r]=ei(i)?i.map(t):t(i)}return n}const Kl=()=>{},ei=Array.isArray,dT=/#/g,BC=/&/g,jC=/\//g,qC=/=/g,HC=/\?/g,hT=/\+/g,zC=/%5B/g,WC=/%5D/g,pT=/%5E/g,KC=/%60/g,mT=/%7B/g,YC=/%7C/g,gT=/%7D/g,GC=/%20/g;function Vv(t){return encodeURI(""+t).replace(YC,"|").replace(zC,"[").replace(WC,"]")}function QC(t){return Vv(t).replace(mT,"{").replace(gT,"}").replace(pT,"^")}function sg(t){return Vv(t).replace(hT,"%2B").replace(GC,"+").replace(dT,"%23").replace(BC,"%26").replace(KC,"`").replace(mT,"{").replace(gT,"}").replace(pT,"^")}function XC(t){return sg(t).replace(qC,"%3D")}function JC(t){return Vv(t).replace(dT,"%23").replace(HC,"%3F")}function ZC(t){return t==null?"":JC(t).replace(jC,"%2F")}function hu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const e2=/\/$/,t2=t=>t.replace(e2,"");function Wp(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=s2(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:hu(o)}}function n2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function U_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function r2(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ka(e.matched[r],n.matched[i])&&vT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ka(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!i2(t[n],e[n]))return!1;return!0}function i2(t,e){return ei(t)?B_(t,e):ei(e)?B_(e,t):t===e}function B_(t,e){return ei(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function s2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var pu;(function(t){t.pop="pop",t.push="push"})(pu||(pu={}));var Yl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Yl||(Yl={}));function o2(t){if(!t)if(oa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),t2(t)}const a2=/^[^#]+#/;function l2(t,e){return t.replace(a2,"#")+e}function u2(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Bd=()=>({left:window.scrollX,top:window.scrollY});function c2(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=u2(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function j_(t,e){return(history.state?history.state.position-e:-1)+t}const og=new Map;function f2(t,e){og.set(t,e)}function d2(t){const e=og.get(t);return og.delete(t),e}let h2=()=>location.protocol+"//"+location.host;function yT(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),U_(l,"")}return U_(n,t)+r+i}function p2(t,e,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const h=yT(t,location),p=n.value,m=e.value;let y=0;if(d){if(n.value=h,e.value=d,o&&o===p){o=null;return}y=m?d.position-m.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:y,type:pu.pop,direction:y?y>0?Yl.forward:Yl.back:Yl.unknown})})};function l(){o=n.value}function f(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return s.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(At({},d.state,{scroll:Bd()}),"")}function c(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:f,destroy:c}}function q_(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Bd():null}}function m2(t){const{history:e,location:n}=window,r={value:yT(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,f,u){const c=t.indexOf("#"),d=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+l:h2()+t+l;try{e[u?"replaceState":"pushState"](f,"",d),i.value=f}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,f){const u=At({},e.state,q_(i.value.back,l,i.value.forward,!0),f,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,f){const u=At({},i.value,e.state,{forward:l,scroll:Bd()});s(u.current,u,!0);const c=At({},q_(r.value,l,null),{position:u.position+1},f);s(l,c,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function g2(t){t=o2(t);const e=m2(t),n=p2(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=At({location:"",base:t,go:r,createHref:l2.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function v2(t){return typeof t=="string"||t&&typeof t=="object"}function _T(t){return typeof t=="string"||typeof t=="symbol"}const ds={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bT=Symbol("");var H_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(H_||(H_={}));function Sa(t,e){return At(new Error,{type:t,[bT]:!0},e)}function Fi(t,e){return t instanceof Error&&bT in t&&(e==null||!!(t.type&e))}const z_="[^/]+?",y2={sensitive:!1,strict:!1,start:!0,end:!0},_2=/[.+*?^${}()[\]/\\]/g;function b2(t,e){const n=At({},y2,e),r=[];let i=n.start?"^":"";const s=[];for(const f of t){const u=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let c=0;c<f.length;c++){const d=f[c];let h=40+(n.sensitive?.25:0);if(d.type===0)c||(i+="/"),i+=d.value.replace(_2,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:m,optional:y,regexp:v}=d;s.push({name:p,repeatable:m,optional:y});const _=v||z_;if(_!==z_){h+=10;try{new RegExp(`(${_})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+g.message)}}let b=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;c||(b=y&&f.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),i+=b,h+=20,y&&(h+=-8),m&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(f){const u=f.match(o),c={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=s[d-1];c[p.name]=h&&p.repeatable?h.split("/"):h}return c}function l(f){let u="",c=!1;for(const d of t){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,v=p in f?f[p]:"";if(ei(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=ei(v)?v.join("/"):v;if(!_)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);u+=_}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function w2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function E2(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=w2(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(W_(r))return 1;if(W_(i))return-1}return i.length-r.length}function W_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const T2={type:0,value:""},A2=/[a-zA-Z0-9_]/;function x2(t){if(!t)return[[]];if(t==="/")return[[T2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${f}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,f="",u="";function c(){f&&(n===0?s.push({type:0,value:f}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function d(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&c(),o()):l===":"?(c(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:A2.test(l)?d():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),c(),o(),i}function k2(t,e,n){const r=b2(x2(t.path),n),i=At(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function S2(t,e){const n=[],r=new Map;e=G_({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function s(u,c,d){const h=!d,p=I2(u);p.aliasOf=d&&d.record;const m=G_(e,u),y=[p];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const g of b)y.push(At({},p,{components:d?d.record.components:p.components,path:g,aliasOf:d?d.record:p}))}let v,_;for(const b of y){const{path:g}=b;if(c&&g[0]!=="/"){const w=c.record.path,x=w[w.length-1]==="/"?"":"/";b.path=c.record.path+(g&&x+g)}if(v=k2(b,c,m),d?d.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),h&&u.name&&!Y_(v)&&o(u.name)),p.children){const w=p.children;for(let x=0;x<w.length;x++)s(w[x],v,d&&d.children[x])}d=d||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return _?()=>{o(_)}:Kl}function o(u){if(_T(u)){const c=r.get(u);c&&(r.delete(u),n.splice(n.indexOf(c),1),c.children.forEach(o),c.alias.forEach(o))}else{const c=n.indexOf(u);c>-1&&(n.splice(c,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let c=0;for(;c<n.length&&E2(u,n[c])>=0&&(u.record.path!==n[c].record.path||!wT(u,n[c]));)c++;n.splice(c,0,u),u.record.name&&!Y_(u)&&r.set(u.record.name,u)}function f(u,c){let d,h={},p,m;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw Sa(1,{location:u});m=d.record.name,h=At(K_(c.params,d.keys.filter(_=>!_.optional).concat(d.parent?d.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),u.params&&K_(u.params,d.keys.map(_=>_.name))),p=d.stringify(h)}else if(u.path!=null)p=u.path,d=n.find(_=>_.re.test(p)),d&&(h=d.parse(p),m=d.record.name);else{if(d=c.name?r.get(c.name):n.find(_=>_.re.test(c.path)),!d)throw Sa(1,{location:u,currentLocation:c});m=d.record.name,h=At({},c.params,u.params),p=d.stringify(h)}const y=[];let v=d;for(;v;)y.unshift(v.record),v=v.parent;return{name:m,path:p,params:h,matched:y,meta:O2(y)}}return t.forEach(u=>s(u)),{addRoute:s,resolve:f,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function K_(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function I2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:R2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function R2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Y_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function O2(t){return t.reduce((e,n)=>At(e,n.meta),{})}function G_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function wT(t,e){return e.children.some(n=>n===t||wT(t,n))}function P2(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(hT," "),o=s.indexOf("="),a=hu(o<0?s:s.slice(0,o)),l=o<0?null:hu(s.slice(o+1));if(a in e){let f=e[a];ei(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function Q_(t){let e="";for(let n in t){const r=t[n];if(n=XC(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ei(r)?r.map(s=>s&&sg(s)):[r&&sg(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function C2(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ei(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const D2=Symbol(""),X_=Symbol(""),jd=Symbol(""),ET=Symbol(""),ag=Symbol("");function vl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ws(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const f=d=>{d===!1?l(Sa(4,{from:n,to:e})):d instanceof Error?l(d):v2(d)?l(Sa(2,{from:e,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>t.call(r&&r.instances[i],e,n,f));let c=Promise.resolve(u);t.length<3&&(c=c.then(f)),c.catch(d=>l(d))})}function Kp(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(M2(l)){const u=(l.__vccOpts||l)[e];u&&s.push(ws(u,n,r,o,a,i))}else{let f=l();s.push(()=>f.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const c=UC(u)?u.default:u;o.components[a]=c;const h=(c.__vccOpts||c)[e];return h&&ws(h,n,r,o,a,i)()}))}}return s}function M2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function J_(t){const e=Yr(jd),n=Yr(ET),r=ge(()=>{const l=ue(t.to);return e.resolve(l)}),i=ge(()=>{const{matched:l}=r.value,{length:f}=l,u=l[f-1],c=n.matched;if(!u||!c.length)return-1;const d=c.findIndex(ka.bind(null,u));if(d>-1)return d;const h=Z_(l[f-2]);return f>1&&Z_(u)===h&&c[c.length-1].path!==h?c.findIndex(ka.bind(null,l[f-2])):d}),s=ge(()=>i.value>-1&&F2(n.params,r.value.params)),o=ge(()=>i.value>-1&&i.value===n.matched.length-1&&vT(n.params,r.value.params));function a(l={}){return $2(l)?e[ue(t.replace)?"replace":"push"](ue(t.to)).catch(Kl):Promise.resolve()}return{route:r,href:ge(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const N2=rn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:J_,setup(t,{slots:e}){const n=Fr(J_(t)),{options:r}=Yr(jd),i=ge(()=>({[e1(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[e1(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Qa("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),L2=N2;function $2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function F2(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ei(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Z_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const e1=(t,e,n)=>t??e??n,V2=rn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Yr(ag),i=ge(()=>t.route||r.value),s=Yr(X_,0),o=ge(()=>{let f=ue(s);const{matched:u}=i.value;let c;for(;(c=u[f])&&!c.components;)f++;return f}),a=ge(()=>i.value.matched[o.value]);df(X_,ge(()=>o.value+1)),df(D2,a),df(ag,i);const l=he();return un(()=>[l.value,a.value,t.name],([f,u,c],[d,h,p])=>{u&&(u.instances[c]=f,h&&h!==u&&f&&f===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),f&&u&&(!h||!ka(u,h)||!d)&&(u.enterCallbacks[c]||[]).forEach(m=>m(f))},{flush:"post"}),()=>{const f=i.value,u=t.name,c=a.value,d=c&&c.components[u];if(!d)return t1(n.default,{Component:d,route:f});const h=c.props[u],p=h?h===!0?f.params:typeof h=="function"?h(f):h:null,y=Qa(d,At({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[u]=null)},ref:l}));return t1(n.default,{Component:y,route:f})||y}}});function t1(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const U2=V2;function B2(t){const e=S2(t.routes,t),n=t.parseQuery||P2,r=t.stringifyQuery||Q_,i=t.history,s=vl(),o=vl(),a=vl(),l=BO(ds);let f=ds;oa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=zp.bind(null,F=>""+F),c=zp.bind(null,ZC),d=zp.bind(null,hu);function h(F,J){let K,se;return _T(F)?(K=e.getRecordMatcher(F),se=J):se=F,e.addRoute(se,K)}function p(F){const J=e.getRecordMatcher(F);J&&e.removeRoute(J)}function m(){return e.getRoutes().map(F=>F.record)}function y(F){return!!e.getRecordMatcher(F)}function v(F,J){if(J=At({},J||l.value),typeof F=="string"){const Q=Wp(n,F,J.path),Y=e.resolve({path:Q.path},J),fe=i.createHref(Q.fullPath);return At(Q,Y,{params:d(Y.params),hash:hu(Q.hash),redirectedFrom:void 0,href:fe})}let K;if(F.path!=null)K=At({},F,{path:Wp(n,F.path,J.path).path});else{const Q=At({},F.params);for(const Y in Q)Q[Y]==null&&delete Q[Y];K=At({},F,{params:c(Q)}),J.params=c(J.params)}const se=e.resolve(K,J),ce=F.hash||"";se.params=u(d(se.params));const Z=n2(r,At({},F,{hash:QC(ce),path:se.path})),q=i.createHref(Z);return At({fullPath:Z,hash:ce,query:r===Q_?C2(F.query):F.query||{}},se,{redirectedFrom:void 0,href:q})}function _(F){return typeof F=="string"?Wp(n,F,l.value.path):At({},F)}function b(F,J){if(f!==F)return Sa(8,{from:J,to:F})}function g(F){return I(F)}function w(F){return g(At(_(F),{replace:!0}))}function x(F){const J=F.matched[F.matched.length-1];if(J&&J.redirect){const{redirect:K}=J;let se=typeof K=="function"?K(F):K;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=_(se):{path:se},se.params={}),At({query:F.query,hash:F.hash,params:se.path!=null?{}:F.params},se)}}function I(F,J){const K=f=v(F),se=l.value,ce=F.state,Z=F.force,q=F.replace===!0,Q=x(K);if(Q)return I(At(_(Q),{state:typeof Q=="object"?At({},ce,Q.state):ce,force:Z,replace:q}),J||K);const Y=K;Y.redirectedFrom=J;let fe;return!Z&&r2(r,se,K)&&(fe=Sa(16,{to:Y,from:se}),$(se,se,!0,!1)),(fe?Promise.resolve(fe):k(Y,se)).catch(ee=>Fi(ee)?Fi(ee,2)?ee:B(ee):G(ee,Y,se)).then(ee=>{if(ee){if(Fi(ee,2))return I(At({replace:q},_(ee.to),{state:typeof ee.to=="object"?At({},ce,ee.to.state):ce,force:Z}),J||Y)}else ee=T(Y,se,!0,q,ce);return A(Y,se,ee),ee})}function E(F,J){const K=b(F,J);return K?Promise.reject(K):Promise.resolve()}function S(F){const J=W.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(F):F()}function k(F,J){let K;const[se,ce,Z]=j2(F,J);K=Kp(se.reverse(),"beforeRouteLeave",F,J);for(const Q of se)Q.leaveGuards.forEach(Y=>{K.push(ws(Y,F,J))});const q=E.bind(null,F,J);return K.push(q),j(K).then(()=>{K=[];for(const Q of s.list())K.push(ws(Q,F,J));return K.push(q),j(K)}).then(()=>{K=Kp(ce,"beforeRouteUpdate",F,J);for(const Q of ce)Q.updateGuards.forEach(Y=>{K.push(ws(Y,F,J))});return K.push(q),j(K)}).then(()=>{K=[];for(const Q of Z)if(Q.beforeEnter)if(ei(Q.beforeEnter))for(const Y of Q.beforeEnter)K.push(ws(Y,F,J));else K.push(ws(Q.beforeEnter,F,J));return K.push(q),j(K)}).then(()=>(F.matched.forEach(Q=>Q.enterCallbacks={}),K=Kp(Z,"beforeRouteEnter",F,J,S),K.push(q),j(K))).then(()=>{K=[];for(const Q of o.list())K.push(ws(Q,F,J));return K.push(q),j(K)}).catch(Q=>Fi(Q,8)?Q:Promise.reject(Q))}function A(F,J,K){a.list().forEach(se=>S(()=>se(F,J,K)))}function T(F,J,K,se,ce){const Z=b(F,J);if(Z)return Z;const q=J===ds,Q=oa?history.state:{};K&&(se||q?i.replace(F.fullPath,At({scroll:q&&Q&&Q.scroll},ce)):i.push(F.fullPath,ce)),l.value=F,$(F,J,K,q),B()}let R;function N(){R||(R=i.listen((F,J,K)=>{if(!z.listening)return;const se=v(F),ce=x(se);if(ce){I(At(ce,{replace:!0}),se).catch(Kl);return}f=se;const Z=l.value;oa&&f2(j_(Z.fullPath,K.delta),Bd()),k(se,Z).catch(q=>Fi(q,12)?q:Fi(q,2)?(I(q.to,se).then(Q=>{Fi(Q,20)&&!K.delta&&K.type===pu.pop&&i.go(-1,!1)}).catch(Kl),Promise.reject()):(K.delta&&i.go(-K.delta,!1),G(q,se,Z))).then(q=>{q=q||T(se,Z,!1),q&&(K.delta&&!Fi(q,8)?i.go(-K.delta,!1):K.type===pu.pop&&Fi(q,20)&&i.go(-1,!1)),A(se,Z,q)}).catch(Kl)}))}let D=vl(),P=vl(),C;function G(F,J,K){B(F);const se=P.list();return se.length?se.forEach(ce=>ce(F,J,K)):console.error(F),Promise.reject(F)}function H(){return C&&l.value!==ds?Promise.resolve():new Promise((F,J)=>{D.add([F,J])})}function B(F){return C||(C=!F,N(),D.list().forEach(([J,K])=>F?K(F):J()),D.reset()),F}function $(F,J,K,se){const{scrollBehavior:ce}=t;if(!oa||!ce)return Promise.resolve();const Z=!K&&d2(j_(F.fullPath,0))||(se||!K)&&history.state&&history.state.scroll||null;return Vn().then(()=>ce(F,J,Z)).then(q=>q&&c2(q)).catch(q=>G(q,F,J))}const V=F=>i.go(F);let M;const W=new Set,z={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:y,getRoutes:m,resolve:v,options:t,push:g,replace:w,go:V,back:()=>V(-1),forward:()=>V(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:P.add,isReady:H,install(F){const J=this;F.component("RouterLink",L2),F.component("RouterView",U2),F.config.globalProperties.$router=J,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),oa&&!M&&l.value===ds&&(M=!0,g(i.location).catch(ce=>{}));const K={};for(const ce in ds)Object.defineProperty(K,ce,{get:()=>l.value[ce],enumerable:!0});F.provide(jd,J),F.provide(ET,_E(K)),F.provide(ag,l);const se=F.unmount;W.add(F),F.unmount=function(){W.delete(F),W.size<1&&(f=ds,R&&R(),R=null,l.value=ds,M=!1,C=!1),se()}}};function j(F){return F.reduce((J,K)=>J.then(()=>S(K)),Promise.resolve())}return z}function j2(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(f=>ka(f,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(f=>ka(f,l))||i.push(l))}return[n,r,i]}function TT(){return Yr(jd)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var AT="store";function Vr(t){return t===void 0&&(t=null),Yr(t!==null?t:AT)}function Xa(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function q2(t){return t!==null&&typeof t=="object"}function H2(t){return t&&typeof t.then=="function"}function z2(t,e){return function(){return t(e)}}function xT(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function kT(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;qd(t,n,[],t._modules.root,!0),Uv(t,n,e)}function Uv(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,o={},a={},l=gO(!0);l.run(function(){Xa(s,function(f,u){o[u]=z2(f,t),a[u]=ge(function(){return o[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=Fr({data:e}),t._scope=l,t.strict&&Q2(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function qd(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var a=Bv(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var f=r.context=W2(t,o,n);r.forEachMutation(function(u,c){var d=o+c;K2(t,d,u,f)}),r.forEachAction(function(u,c){var d=u.root?c:o+c,h=u.handler||u;Y2(t,d,h,f)}),r.forEachGetter(function(u,c){var d=o+c;G2(t,d,u,f)}),r.forEachChild(function(u,c){qd(t,e,n.concat(c),u,i)})}function W2(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,o,a){var l=Uf(s,o,a),f=l.payload,u=l.options,c=l.type;return(!u||!u.root)&&(c=e+c),t.dispatch(c,f)},commit:r?t.commit:function(s,o,a){var l=Uf(s,o,a),f=l.payload,u=l.options,c=l.type;(!u||!u.root)&&(c=e+c),t.commit(c,f,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return ST(t,e)}},state:{get:function(){return Bv(t.state,n)}}}),i}function ST(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function K2(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(o){n.call(t,r.state,o)})}function Y2(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return H2(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function G2(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function Q2(t){un(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Bv(t,e){return e.reduce(function(n,r){return n[r]},t)}function Uf(t,e,n){return q2(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var X2="vuex bindings",n1="vuex:mutations",Yp="vuex:actions",na="vuex",J2=0;function Z2(t,e){VC({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[X2]},function(n){n.addTimelineLayer({id:n1,label:"Vuex Mutations",color:r1}),n.addTimelineLayer({id:Yp,label:"Vuex Actions",color:r1}),n.addInspector({id:na,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===na)if(r.filter){var i=[];PT(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[OT(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===na){var i=r.nodeId;ST(e,i),r.state=nD(iD(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===na){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(na),n.sendInspectorState(na),n.addTimelineEvent({layerId:n1,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=J2++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Yp,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Yp,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var r1=8702998,eD=6710886,tD=16777215,IT={label:"namespaced",textColor:tD,backgroundColor:eD};function RT(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function OT(t,e){return{id:e||"root",label:RT(e),tags:t.namespaced?[IT]:[],children:Object.keys(t._children).map(function(n){return OT(t._children[n],e+n+"/")})}}function PT(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[IT]:[]}),Object.keys(e._children).forEach(function(i){PT(t,e._children[i],n,r+i+"/")})}function nD(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var s=rD(e);i.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?RT(o):o,editable:!1,value:lg(function(){return s[o]})}})}return i}function rD(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(o){i[o]||(i[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),i=i[o]._custom.value}),i[s]=lg(function(){return t[n]})}else e[n]=lg(function(){return t[n]})}),e}function iD(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var o=r[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?o:o._children},e==="root"?t:t.root._children)}function lg(t){try{return t()}catch(e){return e}}var si=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},CT={namespaced:{configurable:!0}};CT.namespaced.get=function(){return!!this._rawModule.namespaced};si.prototype.addChild=function(e,n){this._children[e]=n};si.prototype.removeChild=function(e){delete this._children[e]};si.prototype.getChild=function(e){return this._children[e]};si.prototype.hasChild=function(e){return e in this._children};si.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};si.prototype.forEachChild=function(e){Xa(this._children,e)};si.prototype.forEachGetter=function(e){this._rawModule.getters&&Xa(this._rawModule.getters,e)};si.prototype.forEachAction=function(e){this._rawModule.actions&&Xa(this._rawModule.actions,e)};si.prototype.forEachMutation=function(e){this._rawModule.mutations&&Xa(this._rawModule.mutations,e)};Object.defineProperties(si.prototype,CT);var Bo=function(e){this.register([],e,!1)};Bo.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Bo.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Bo.prototype.update=function(e){DT([],this.root,e)};Bo.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new si(n,r);if(e.length===0)this.root=s;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],s)}n.modules&&Xa(n.modules,function(a,l){i.register(e.concat(l),a,r)})};Bo.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Bo.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function DT(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;DT(t.concat(r),e.getChild(r),n.modules[r])}}function sD(t){return new Er(t)}var Er=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Bo(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var o=this,a=this,l=a.dispatch,f=a.commit;this.dispatch=function(d,h){return l.call(o,d,h)},this.commit=function(d,h,p){return f.call(o,d,h,p)},this.strict=i;var u=this._modules.root.state;qd(this,u,[],this._modules.root),Uv(this,u),r.forEach(function(c){return c(n)})},jv={state:{configurable:!0}};Er.prototype.install=function(e,n){e.provide(n||AT,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Z2(e,this)};jv.state.get=function(){return this._state.data};jv.state.set=function(t){};Er.prototype.commit=function(e,n,r){var i=this,s=Uf(e,n,r),o=s.type,a=s.payload,l={type:o,payload:a},f=this._mutations[o];f&&(this._withCommit(function(){f.forEach(function(c){c(a)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};Er.prototype.dispatch=function(e,n){var r=this,i=Uf(e,n),s=i.type,o=i.payload,a={type:s,payload:o},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var f=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,c){f.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,r.state,d)})}catch{}c(d)})})}};Er.prototype.subscribe=function(e,n){return xT(e,this._subscribers,n)};Er.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return xT(r,this._actionSubscribers,n)};Er.prototype.watch=function(e,n,r){var i=this;return un(function(){return e(i.state,i.getters)},n,Object.assign({},r))};Er.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Er.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),qd(this,this.state,e,this._modules.get(e),r.preserveState),Uv(this,this.state)};Er.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Bv(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),kT(this)};Er.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Er.prototype.hotUpdate=function(e){this._modules.update(e),kT(this,!0)};Er.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Er.prototype,jv);var i1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,u=s>>2,c=(s&3)<<4|a>>4;let d=(a&15)<<2|f>>6,h=f&63;l||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||f==null||c==null)throw new aD;const d=s<<2|a>>4;if(r.push(d),f!==64){const h=a<<4&240|f>>2;if(r.push(h),c!==64){const p=f<<6&192|c;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lD=function(t){const e=MT(t);return NT.encodeByteArray(e,!0)},Bf=function(t){return lD(t).replace(/\./g,"")},LT=function(t){try{return NT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=()=>uD().__FIREBASE_DEFAULTS__,fD=()=>{if(typeof process>"u"||typeof i1>"u")return;const t=i1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LT(t[1]);return e&&JSON.parse(e)},Hd=()=>{try{return cD()||fD()||dD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$T=t=>{var e,n;return(n=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FT=t=>{const e=$T(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VT=()=>{var t;return(t=Hd())===null||t===void 0?void 0:t.config},UT=t=>{var e;return(e=Hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bf(JSON.stringify(n)),Bf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function mD(){var t;const e=(t=Hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function jT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vD(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yD(){return!mD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function _D(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bD,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jo.prototype.create)}}class jo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ur(i,a,r)}}function wD(t,e){return t.replace(ED,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ED=/\{\$([^}]+)}/g;function TD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(s1(s)&&s1(o)){if(!Ia(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function s1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AD(t,e){const n=new xD(t,e);return n.subscribe.bind(n)}class xD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gp),i.error===void 0&&(i.error=Gp),i.complete===void 0&&(i.complete=Gp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,ID=2,RD=4*60*60*1e3,OD=.5;function o1(t,e=SD,n=ID){const r=e*Math.pow(n,t),i=Math.round(OD*r*(Math.random()-.5)*2);return Math.min(RD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class $r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DD(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CD(t){return t===ao?void 0:t}function DD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const ND={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},LD=ct.INFO,$D={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},FD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$D[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zd{constructor(e){this.name=e,this._logLevel=LD,this._logHandler=FD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ND[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const VD=(t,e)=>e.some(n=>t instanceof n);let a1,l1;function UD(){return a1||(a1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BD(){return l1||(l1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,ug=new WeakMap,WT=new WeakMap,Qp=new WeakMap,qv=new WeakMap;function jD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zT.set(n,t)}).catch(()=>{}),qv.set(e,t),e}function qD(t){if(ug.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ug.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HD(t){cg=t(cg)}function zD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return WT.set(r,e.sort?e.sort():[e]),Cs(r)}:BD().includes(t)?function(...e){return t.apply(Xp(this),e),Cs(zT.get(this))}:function(...e){return Cs(t.apply(Xp(this),e))}}function WD(t){return typeof t=="function"?zD(t):(t instanceof IDBTransaction&&qD(t),VD(t,UD())?new Proxy(t,cg):t)}function Cs(t){if(t instanceof IDBRequest)return jD(t);if(Qp.has(t))return Qp.get(t);const e=WD(t);return e!==t&&(Qp.set(t,e),qv.set(e,t)),e}const Xp=t=>qv.get(t);function KT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Cs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Cs(o.result),l.oldVersion,l.newVersion,Cs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const KD=["get","getKey","getAll","getAllKeys","count"],YD=["put","add","delete","clear"],Jp=new Map;function u1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),i&&l.done]))[0]};return Jp.set(e,s),s}HD(t=>({...t,get:(e,n,r)=>u1(e,n)||t.get(e,n,r),has:(e,n)=>!!u1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fg="@firebase/app",c1="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new zd("@firebase/app"),XD="@firebase/app-compat",JD="@firebase/analytics-compat",ZD="@firebase/analytics",eM="@firebase/app-check-compat",tM="@firebase/app-check",nM="@firebase/auth",rM="@firebase/auth-compat",iM="@firebase/database",sM="@firebase/database-compat",oM="@firebase/functions",aM="@firebase/functions-compat",lM="@firebase/installations",uM="@firebase/installations-compat",cM="@firebase/messaging",fM="@firebase/messaging-compat",dM="@firebase/performance",hM="@firebase/performance-compat",pM="@firebase/remote-config",mM="@firebase/remote-config-compat",gM="@firebase/storage",vM="@firebase/storage-compat",yM="@firebase/firestore",_M="@firebase/firestore-compat",bM="firebase",wM="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",EM={[fg]:"fire-core",[XD]:"fire-core-compat",[ZD]:"fire-analytics",[JD]:"fire-analytics-compat",[tM]:"fire-app-check",[eM]:"fire-app-check-compat",[nM]:"fire-auth",[rM]:"fire-auth-compat",[iM]:"fire-rtdb",[sM]:"fire-rtdb-compat",[oM]:"fire-fn",[aM]:"fire-fn-compat",[lM]:"fire-iid",[uM]:"fire-iid-compat",[cM]:"fire-fcm",[fM]:"fire-fcm-compat",[dM]:"fire-perf",[hM]:"fire-perf-compat",[pM]:"fire-rc",[mM]:"fire-rc-compat",[gM]:"fire-gcs",[vM]:"fire-gcs-compat",[yM]:"fire-fst",[_M]:"fire-fst-compat","fire-js":"fire-js",[bM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,TM=new Map,hg=new Map;function f1(t,e){try{t.container.addComponent(e)}catch(n){Ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(hg.has(e))return Ro.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of jf.values())f1(n,t);for(const n of TM.values())f1(n,t);return!0}function Ks(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ui(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new jo("app","Firebase",AM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=wM;function YT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ds.create("bad-app-name",{appName:String(i)});if(n||(n=VT()),!n)throw Ds.create("no-options");const s=jf.get(i);if(s){if(Ia(n,s.options)&&Ia(r,s.config))return s;throw Ds.create("duplicate-app",{appName:i})}const o=new MD(i);for(const l of hg.values())o.addComponent(l);const a=new xM(n,r,o);return jf.set(i,a),a}function Wd(t=dg){const e=jf.get(t);if(!e&&t===dg&&VT())return YT();if(!e)throw Ds.create("no-app",{appName:t});return e}function vr(t,e,n){var r;let i=(r=EM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ro.warn(a.join(" "));return}ti(new $r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="firebase-heartbeat-database",SM=1,mu="firebase-heartbeat-store";let Zp=null;function GT(){return Zp||(Zp=KT(kM,SM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function IM(t){try{const n=(await GT()).transaction(mu),r=await n.objectStore(mu).get(QT(t));return await n.done,r}catch(e){if(e instanceof Ur)Ro.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ro.warn(n.message)}}}async function d1(t,e){try{const r=(await GT()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,QT(t)),await r.done}catch(n){if(n instanceof Ur)Ro.warn(n.message);else{const r=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ro.warn(r.message)}}}function QT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=1024,OM=30*24*60*60*1e3;class PM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=OM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h1(),{heartbeatsToSend:r,unsentEntries:i}=CM(this._heartbeatsCache.heartbeats),s=Bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function h1(){return new Date().toISOString().substring(0,10)}function CM(t,e=RM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),p1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p1(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){ti(new $r("platform-logger",e=>new GD(e),"PRIVATE")),ti(new $r("heartbeat",e=>new PM(e),"PRIVATE")),vr(fg,c1,t),vr(fg,c1,"esm2017"),vr("fire-js","")}MM("");var NM="firebase",LM="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(NM,LM,"app");const XT="@firebase/installations",Hv="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1e4,ZT=`w:${Hv}`,eA="FIS_v2",$M="https://firebaseinstallations.googleapis.com/v1",FM=60*60*1e3,VM="installations",UM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oo=new jo(VM,UM,BM);function tA(t){return t instanceof Ur&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA({projectId:t}){return`${$M}/projects/${t}/installations`}function rA(t){return{token:t.token,requestStatus:2,expiresIn:qM(t.expiresIn),creationTime:Date.now()}}async function iA(t,e){const r=(await e.json()).error;return Oo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jM(t,{refreshToken:e}){const n=sA(t);return n.append("Authorization",HM(e)),n}async function oA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function qM(t){return Number(t.replace("s","000"))}function HM(t){return`${eA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nA(t),i=sA(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:n,authVersion:eA,appId:t.appId,sdkVersion:ZT},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await oA(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:rA(f.authToken)}}else throw await iA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=/^[cdef][\w-]{21}$/,pg="";function YM(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=GM(t);return KM.test(n)?n:pg}catch{return pg}}function GM(t){return WM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Map;function uA(t,e){const n=Kd(t);cA(n,e),QM(n,e)}function cA(t,e){const n=lA.get(t);if(n)for(const r of n)r(e)}function QM(t,e){const n=XM();n&&n.postMessage({key:t,fid:e}),JM()}let mo=null;function XM(){return!mo&&"BroadcastChannel"in self&&(mo=new BroadcastChannel("[Firebase] FID Change"),mo.onmessage=t=>{cA(t.data.key,t.data.fid)}),mo}function JM(){lA.size===0&&mo&&(mo.close(),mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="firebase-installations-database",e4=1,Po="firebase-installations-store";let em=null;function zv(){return em||(em=KT(ZM,e4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Po)}}})),em}async function qf(t,e){const n=Kd(t),i=(await zv()).transaction(Po,"readwrite"),s=i.objectStore(Po),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&uA(t,e.fid),e}async function fA(t){const e=Kd(t),r=(await zv()).transaction(Po,"readwrite");await r.objectStore(Po).delete(e),await r.done}async function Yd(t,e){const n=Kd(t),i=(await zv()).transaction(Po,"readwrite"),s=i.objectStore(Po),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&uA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(t){let e;const n=await Yd(t.appConfig,r=>{const i=t4(r),s=n4(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===pg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function t4(t){const e=t||{fid:YM(),registrationStatus:0};return dA(e)}function n4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Oo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:i4(t)}:{installationEntry:e}}async function r4(t,e){try{const n=await zM(t,e);return qf(t.appConfig,n)}catch(n){throw tA(n)&&n.customData.serverCode===409?await fA(t.appConfig):await qf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function i4(t){let e=await m1(t.appConfig);for(;e.registrationStatus===1;)await aA(100),e=await m1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Wv(t);return r||n}return e}function m1(t){return Yd(t,e=>{if(!e)throw Oo.create("installation-not-found");return dA(e)})}function dA(t){return s4(t)?{fid:t.fid,registrationStatus:0}:t}function s4(t){return t.registrationStatus===1&&t.registrationTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4({appConfig:t,heartbeatServiceProvider:e},n){const r=a4(t,n),i=jM(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:ZT,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await oA(()=>fetch(r,a));if(l.ok){const f=await l.json();return rA(f)}else throw await iA("Generate Auth Token",l)}function a4(t,{fid:e}){return`${nA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t,e=!1){let n;const r=await Yd(t.appConfig,s=>{if(!hA(s))throw Oo.create("not-registered");const o=s.authToken;if(!e&&c4(o))return s;if(o.requestStatus===1)return n=l4(t,e),s;{if(!navigator.onLine)throw Oo.create("app-offline");const a=d4(s);return n=u4(t,a),a}});return n?await n:r.authToken}async function l4(t,e){let n=await g1(t.appConfig);for(;n.authToken.requestStatus===1;)await aA(100),n=await g1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Kv(t,e):r}function g1(t){return Yd(t,e=>{if(!hA(e))throw Oo.create("not-registered");const n=e.authToken;return h4(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function u4(t,e){try{const n=await o4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await qf(t.appConfig,r),n}catch(n){if(tA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await fA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qf(t.appConfig,r)}throw n}}function hA(t){return t!==void 0&&t.registrationStatus===2}function c4(t){return t.requestStatus===2&&!f4(t)}function f4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FM}function d4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function h4(t){return t.requestStatus===1&&t.requestTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t){const e=t,{installationEntry:n,registrationPromise:r}=await Wv(e);return r?r.catch(console.error):Kv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e=!1){const n=t;return await g4(n),(await Kv(n,e)).token}async function g4(t){const{registrationPromise:e}=await Wv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){if(!t||!t.options)throw tm("App Configuration");if(!t.name)throw tm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function tm(t){return Oo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="installations",y4="installations-internal",_4=t=>{const e=t.getProvider("app").getImmediate(),n=v4(e),r=Ks(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},b4=t=>{const e=t.getProvider("app").getImmediate(),n=Ks(e,pA).getImmediate();return{getId:()=>p4(n),getToken:i=>m4(n,i)}};function w4(){ti(new $r(pA,_4,"PUBLIC")),ti(new $r(y4,b4,"PRIVATE"))}w4();vr(XT,Hv);vr(XT,Hv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="analytics",E4="firebase_id",T4="origin",A4=60*1e3,x4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new zd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ir=new jo("analytics","Analytics",k4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){if(!t.startsWith(Yv)){const e=Ir.create("invalid-gtag-resource",{gtagURL:t});return yr.warn(e.message),""}return t}function mA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function I4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function R4(t,e){const n=I4("firebase-js-sdk-policy",{createScriptURL:S4}),r=document.createElement("script"),i=`${Yv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function O4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function P4(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await mA(n)).find(f=>f.measurementId===i);l&&await e[l.appId]}}catch(a){yr.error(a)}t("config",i,s)}async function C4(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await mA(n);for(const l of o){const f=a.find(c=>c.measurementId===l),u=f&&e[f.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){yr.error(s)}}function D4(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await C4(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await P4(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,f]=o;t("get",a,l,f)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){yr.error(a)}}return i}function M4(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=D4(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function N4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=30,$4=1e3;class F4{constructor(e={},n=$4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gA=new F4;function V4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function U4(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:V4(r)},s=x4.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function B4(t,e=gA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ir.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ir.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H4;return setTimeout(async()=>{a.abort()},A4),vA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function vA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gA){var s;const{appId:o,measurementId:a}=t;try{await j4(r,e)}catch(l){if(a)return yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await U4(t);return i.deleteThrottleMetadata(o),l}catch(l){const f=l;if(!q4(f)){if(i.deleteThrottleMetadata(o),a)return yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:a};throw l}const u=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?o1(n,i.intervalMillis,L4):o1(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,c),yr.debug(`Calling attemptFetch again in ${u} millis`),vA(t,c,r,i)}}function j4(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function q4(t){if(!(t instanceof Ur)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function z4(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(){if(qT())try{await HT()}catch(t){return yr.warn(Ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return yr.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K4(t,e,n,r,i,s,o){var a;const l=B4(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&yr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>yr.error(h)),e.push(l);const f=W4().then(h=>{if(h)return r.getId()}),[u,c]=await Promise.all([l,f]);N4(s)||R4(s,u.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[T4]="firebase",d.update=!0,c!=null&&(d[E4]=c),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.app=e}_delete(){return delete Gl[this.app.options.appId],Promise.resolve()}}let Gl={},v1=[];const y1={};let nm="dataLayer",G4="gtag",_1,yA,b1=!1;function Q4(){const t=[];if(jT()&&t.push("This is a browser extension environment."),_D()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:e});yr.warn(n.message)}}function X4(t,e,n){Q4();const r=t.options.appId;if(!r)throw Ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ir.create("no-api-key");if(Gl[r]!=null)throw Ir.create("already-exists",{id:r});if(!b1){O4(nm);const{wrappedGtag:s,gtagCore:o}=M4(Gl,v1,y1,nm,G4);yA=s,_1=o,b1=!0}return Gl[r]=K4(t,v1,y1,e,_1,nm,n),new Y4(t)}function J4(t=Wd()){t=Nt(t);const e=Ks(t,Hf);return e.isInitialized()?e.getImmediate():Z4(t)}function Z4(t,e={}){const n=Ks(t,Hf);if(n.isInitialized()){const i=n.getImmediate();if(Ia(e,n.getOptions()))return i;throw Ir.create("already-initialized")}return n.initialize({options:e})}function eN(t,e,n,r){t=Nt(t),z4(yA,Gl[t.app.options.appId],e,n,r).catch(i=>yr.error(i))}const w1="@firebase/analytics",E1="0.10.2";function tN(){ti(new $r(Hf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return X4(r,i,n)},"PUBLIC")),ti(new $r("analytics-internal",t,"PRIVATE")),vr(w1,E1),vr(w1,E1,"esm2017");function t(e){try{const n=e.getProvider(Hf).getImmediate();return{logEvent:(r,i,s)=>eN(n,r,i,s)}}catch(n){throw Ir.create("interop-component-reg-failed",{reason:n})}}}tN();function Gv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=_A,bA=new jo("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new zd("@firebase/auth");function rN(t,...e){zf.logLevel<=ct.WARN&&zf.warn(`Auth (${qo}): ${t}`,...e)}function gf(t,...e){zf.logLevel<=ct.ERROR&&zf.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw Qv(t,...e)}function xi(t,...e){return Qv(t,...e)}function wA(t,e,n){const r=Object.assign(Object.assign({},nN()),{[e]:n});return new jo("auth","Firebase",r).create(e,{appName:t.name})}function Ms(t){return wA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bA.create(t,...e)}function We(t,e,...n){if(!t)throw Qv(e,...n)}function Bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gf(e),new Error(e)}function Xi(t,e){t||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iN(){return T1()==="http:"||T1()==="https:"}function T1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iN()||jT()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=pD()||gD()}get(){return sN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new qu(3e4,6e4);function Ys(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,n,r,i={}){return TA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ju(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),EA.fetch()(AA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function TA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aN),e);try{const i=new cN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw wA(t,u,f);ni(t,u)}}catch(i){if(i instanceof Ur)throw i;ni(t,"network-request-failed",{message:String(i)})}}async function Gd(t,e,n,r,i={}){const s=await os(t,e,n,r,i);return"mfaPendingCredential"in s&&ni(t,"multi-factor-auth-required",{_serverResponse:s}),s}function AA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Xv(t.config,i):`${t.config.apiScheme}://${i}`}function uN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),lN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xi(t,e,r);return i.customData._tokenResponse=n,i}function A1(t){return t!==void 0&&t.enterprise!==void 0}class fN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function dN(t,e){return os(t,"GET","/v2/recaptchaConfig",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function xA(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pN(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=Jv(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ql(rm(i.auth_time)),issuedAtTime:Ql(rm(i.iat)),expirationTime:Ql(rm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rm(t){return Number(t)*1e3}function Jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const i=LT(n);return i?JSON.parse(i):(gf("Failed to decode base64 JWT payload"),null)}catch(i){return gf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function x1(t){const e=Jv(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ur&&mN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gu(t,xA(n,{idToken:r}));We(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kA(s.providerUserInfo):[],a=yN(t.providerData,o),l=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?f:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function vN(t){const e=Nt(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kA(t){return t.map(e=>{var{providerId:n}=e,r=Gv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t,e){const n=await TA(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=AA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",EA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bN(t,e){return os(t,"POST","/v2/accounts:revokeToken",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=x1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _N(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _a;return r&&(We(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(We(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await gu(this,hN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,f,u;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(f=n.createdAt)!==null&&f!==void 0?f:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:g,isAnonymous:w,providerData:x,stsTokenManager:I}=n;We(b&&I,e,"internal-error");const E=_a.fromJSON(this.name,I);We(typeof b=="string",e,"internal-error"),hs(c,e.name),hs(d,e.name),We(typeof g=="boolean",e,"internal-error"),We(typeof w=="boolean",e,"internal-error"),hs(h,e.name),hs(p,e.name),hs(m,e.name),hs(y,e.name),hs(v,e.name),hs(_,e.name);const S=new ji({uid:b,auth:e,email:d,emailVerified:g,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:_});return x&&Array.isArray(x)&&(S.providerData=x.map(k=>Object.assign({},k))),y&&(S._redirectEventId=y),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new _a;i.updateFromServerResponse(n);const s=new ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];We(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _a;a.updateFromIdToken(r);const l=new ji({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;function qi(t){Xi(t instanceof Function,"Expected a class definition");let e=k1.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SA.type="NONE";const S1=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e,n){return`firebase:${t}:${e}:${n}`}class ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vf(this.userKey,i.apiKey,s),this.fullPersistenceKey=vf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ba(qi(S1),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||qi(S1);const o=vf(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const u=await f._get(o);if(u){const c=ji._fromJSON(e,u);f!==s&&(a=c),s=f;break}}catch{}const l=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ba(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new ba(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CA(e))return"Blackberry";if(DA(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||RA(e))&&!e.includes("edge/"))return"Chrome";if(PA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IA(t=Un()){return/firefox\//i.test(t)}function Zv(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RA(t=Un()){return/crios\//i.test(t)}function OA(t=Un()){return/iemobile/i.test(t)}function PA(t=Un()){return/android/i.test(t)}function CA(t=Un()){return/blackberry/i.test(t)}function DA(t=Un()){return/webos/i.test(t)}function Qd(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wN(t=Un()){var e;return Qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EN(){return vD()&&document.documentMode===10}function MA(t=Un()){return Qd(t)||PA(t)||DA(t)||CA(t)||/windows phone/i.test(t)||OA(t)}function TN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e=[]){let n;switch(t){case"Browser":n=I1(Un());break;case"Worker":n=`${I1(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e={}){return os(t,"GET","/v2/passwordPolicy",Ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=6;class SN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R1(this),this.idTokenSubscription=new R1(this),this.beforeStateQueue=new AN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xA(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ui(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject(Ms(this));const n=e?Nt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xN(this),n=new SN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return Nt(t)}class R1{constructor(e){this.auth=e,this.observer=null,this.addObserver=AD(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RN(t){Xd=t}function LA(t){return Xd.loadJS(t)}function ON(){return Xd.recaptchaEnterpriseScript}function PN(){return Xd.gapiScript}function CN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const DN="recaptcha-enterprise",MN="NO_RECAPTCHA";class NN{constructor(e){this.type=DN,this.auth=Ho(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{dN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const f=new fN(l);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;A1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(f=>{o(f)}).catch(()=>{o(MN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&A1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ON();l.length!==0&&(l+=a),LA(l).then(()=>{i(a,s,o)}).catch(f=>{o(f)})}}).catch(a=>{o(a)})})}}async function O1(t,e,n,r=!1){const i=new NN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await O1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await O1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){const n=Ks(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ia(s,e??{}))return i;ni(i,"already-initialized")}return n.initialize({options:e})}function $N(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FN(t,e,n){const r=Ho(t);We(r._canInitEmulator,r,"emulator-config-failed"),We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$A(e),{host:o,port:a}=VN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),UN()}function $A(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VN(t){const e=$A(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:P1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:P1(o)}}}function P1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function BN(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){return Gd(t,"POST","/v1/accounts:signInWithPassword",Ys(t,e))}async function qN(t,e){return os(t,"POST","/v1/accounts:sendOobCode",Ys(t,e))}async function HN(t,e){return qN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e){return Gd(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}async function WN(t,e){return Gd(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends ey{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,n,"signInWithPassword",jN);case"emailLink":return zN(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,r,"signUpPassword",BN);case"emailLink":return WN(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e){return Gd(t,"POST","/v1/accounts:signInWithIdp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="http://localhost";class Co extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Gv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Co(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wa(e,n)}buildRequest(){const e={requestUri:KN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GN(t){const e=Pl(Cl(t)).link,n=e?Pl(Cl(e)).deep_link_id:null,r=Pl(Cl(t)).deep_link_id;return(r?Pl(Cl(r)).link:null)||r||n||e||t}class ty{constructor(e){var n,r,i,s,o,a;const l=Pl(Cl(e)),f=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,c=YN((i=l.mode)!==null&&i!==void 0?i:null);We(f&&u&&c,"argument-error"),this.apiKey=f,this.operation=c,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=GN(e);try{return new ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ty.parseLink(n);return We(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends FA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Hu{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Co._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Hu{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Hu{constructor(){super("twitter.com")}static credential(e,n){return Co._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ji._fromIdTokenResponse(e,r,i),o=C1(r);return new Ra({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=C1(r);return new Ra({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function C1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Ur{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kf(e,n,r,i)}}function VA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(t,s,e,r):s})}async function QN(t,e,n=!1){const r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e,n=!1){const{auth:r}=t;if(Ui(r.app))return Promise.reject(Ms(r));const i="reauthenticate";try{const s=await gu(t,VA(r,i,e,t),n);We(s.idToken,r,"internal-error");const o=Jv(s.idToken);We(o,r,"internal-error");const{sub:a}=o;return We(t.uid===a,r,"user-mismatch"),Ra._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ni(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t,e,n=!1){if(Ui(t.app))return Promise.reject(Ms(t));const r="signIn",i=await VA(t,r,e),s=await Ra._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function JN(t,e){return UA(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e5(t,e,n){const r=Ho(t);await vg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",HN)}function t5(t,e,n){return Ui(t.app)?Promise.reject(Ms(t)):JN(Nt(t),Ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){return Nt(t).setPersistence(e)}function n5(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function r5(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function i5(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function D1(t){return Nt(t).signOut()}const Yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(){const t=Un();return Zv(t)||Qd(t)}const o5=1e3,a5=10;class qA extends jA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=s5()&&TN(),this.fallbackToPolling=MA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);EN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,a5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},o5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qA.type="LOCAL";const ny=qA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends jA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HA.type="SESSION";const zA=HA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async f=>f(n.origin,s)),l=await l5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const f=ry("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(c){const d=c;if(d.data.eventId===f)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function c5(t){ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function f5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h5(){return WA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebaseLocalStorageDb",p5=1,Gf="firebaseLocalStorage",YA="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function m5(){const t=indexedDB.deleteDatabase(KA);return new zu(t).toPromise()}function yg(){const t=indexedDB.open(KA,p5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gf,{keyPath:YA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gf)?e(r):(r.close(),await m5(),e(await yg()))})})}async function M1(t,e,n){const r=Zd(t,!0).put({[YA]:e,value:n});return new zu(r).toPromise()}async function g5(t,e){const n=Zd(t,!1).get(e),r=await new zu(n).toPromise();return r===void 0?null:r.value}function N1(t,e){const n=Zd(t,!0).delete(e);return new zu(n).toPromise()}const v5=800,y5=3;class GA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(h5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f5(),!this.activeServiceWorker)return;this.sender=new u5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await M1(e,Yf,"1"),await N1(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zd(i,!1).getAll();return new zu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GA.type="LOCAL";const _5=GA;new qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e){return e?qi(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w5(t){return UA(t.auth,new iy(t),t.bypassAuthState)}function E5(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),XN(n,new iy(t),t.bypassAuthState)}async function T5(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),QN(n,new iy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w5;case"linkViaPopup":case"linkViaRedirect":return T5;case"reauthViaPopup":case"reauthViaRedirect":return E5;default:ni(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new qu(2e3,1e4);class fa extends QA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A5.get())};e()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="pendingRedirect",yf=new Map;class k5 extends QA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const r=await S5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S5(t,e){const n=O5(e),r=R5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function I5(t,e){yf.set(t._key(),e)}function R5(t){return qi(t._redirectPersistence)}function O5(t){return vf(x5,t.config.apiKey,t.name)}async function P5(t,e,n=!1){if(Ui(t.app))return Promise.reject(Ms(t));const r=Ho(t),i=b5(r,e),o=await new k5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=10*60*1e3;class D5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C5&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(e))}saveEventToCache(e){this.cachedEventUids.add(L1(e)),this.lastProcessedEventTime=Date.now()}}function L1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$5=/^https?/;async function F5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N5(t);for(const n of e)try{if(V5(n))return}catch{}ni(t,"unauthorized-domain")}function V5(t){const e=mg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$5.test(n))return!1;if(L5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new qu(3e4,6e4);function $1(){const t=ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function B5(t){return new Promise((e,n)=>{var r,i,s;function o(){$1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$1(),n(xi(t,"network-request-failed"))},timeout:U5.get()})}if(!((i=(r=ki().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ki().gapi)===null||s===void 0)&&s.load)o();else{const a=CN("iframefcb");return ki()[a]=()=>{gapi.load?o():n(xi(t,"network-request-failed"))},LA(`${PN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _f=null,e})}let _f=null;function j5(t){return _f=_f||B5(t),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new qu(5e3,15e3),H5="__/auth/iframe",z5="emulator/auth/iframe",W5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y5(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xv(e,z5):`https://${t.config.authDomain}/${H5}`,r={apiKey:e.apiKey,appName:t.name,v:qo},i=K5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ju(r).slice(1)}`}async function G5(t){const e=await j5(t),n=ki().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:Y5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=xi(t,"network-request-failed"),a=ki().setTimeout(()=>{s(o)},q5.get());function l(){ki().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X5=500,J5=600,Z5="_blank",eL="http://localhost";class F1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tL(t,e,n,r=X5,i=J5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Q5),{width:r.toString(),height:i.toString(),top:s,left:o}),f=Un().toLowerCase();n&&(a=RA(f)?Z5:n),IA(f)&&(e=e||eL,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(wN(f)&&a!=="_self")return nL(e||"",a),new F1(null);const c=window.open(e||"",a,u);We(c,t,"popup-blocked");try{c.focus()}catch{}return new F1(c)}function nL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="__/auth/handler",iL="emulator/auth/handler",sL=encodeURIComponent("fac");async function V1(t,e,n,r,i,s){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qo,eventId:i};if(e instanceof FA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries({}))o[u]=c}if(e instanceof Hu){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),f=l?`#${sL}=${encodeURIComponent(l)}`:"";return`${oL(t)}?${ju(a).slice(1)}${f}`}function oL({config:t}){return t.emulator?Xv(t,iL):`https://${t.authDomain}/${rL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class aL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zA,this._completeRedirectFn=P5,this._overrideRedirectResult=I5}async _openPopup(e,n,r,i){var s;Xi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await V1(e,n,r,mg(),i);return tL(e,o,ry())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await V1(e,n,r,mg(),i);return c5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G5(e),r=new D5(e);return n.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[im];o!==void 0&&n(!!o),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MA()||Zv()||Qd()}}const lL=aL;var U1="@firebase/auth",B1="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fL(t){ti(new $r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;We(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NA(t)},f=new IN(r,i,s,l);return $N(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new $r("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(r=>new uL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(U1,B1,cL(t)),vr(U1,B1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=5*60,hL=UT("authIdTokenMaxAge")||dL;let j1=null;const pL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hL)return;const i=n==null?void 0:n.token;j1!==i&&(j1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mL(t=Wd()){const e=Ks(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LN(t,{popupRedirectResolver:lL,persistence:[_5,ny,zA]}),r=UT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=pL(s.toString());r5(n,o,()=>o(n.currentUser)),n5(n,a=>o(a))}}const i=$T("auth");return i&&FN(n,`http://${i}`),n}function gL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fL("Browser");var vL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},De,sy=sy||{},Xe=vL||self;function eh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function th(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yL(t){return Object.prototype.hasOwnProperty.call(t,sm)&&t[sm]||(t[sm]=++_L)}var sm="closure_uid_"+(1e9*Math.random()>>>0),_L=0;function bL(t,e,n){return t.call.apply(t.bind,arguments)}function wL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jn=bL:Jn=wL,Jn.apply(null,arguments)}function Vc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gs(){this.s=this.s,this.o=this.o}var EL=0;Gs.prototype.s=!1;Gs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),EL!=0)&&yL(this)};Gs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function q1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(eh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zn.prototype.h=function(){this.defaultPrevented=!0};var TL=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Xe.addEventListener("test",n,e),Xe.removeEventListener("test",n,e)}catch{}return t}();function yu(t){return/^[\s\xa0]*$/.test(t)}function nh(){var t=Xe.navigator;return t&&(t=t.userAgent)?t:""}function vi(t){return nh().indexOf(t)!=-1}function ay(t){return ay[" "](t),t}ay[" "]=function(){};function AL(t,e){var n=v6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xL=vi("Opera"),Oa=vi("Trident")||vi("MSIE"),ZA=vi("Edge"),_g=ZA||Oa,ex=vi("Gecko")&&!(nh().toLowerCase().indexOf("webkit")!=-1&&!vi("Edge"))&&!(vi("Trident")||vi("MSIE"))&&!vi("Edge"),kL=nh().toLowerCase().indexOf("webkit")!=-1&&!vi("Edge");function tx(){var t=Xe.document;return t?t.documentMode:void 0}var bg;e:{var om="",am=function(){var t=nh();if(ex)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZA)return/Edge\/([\d\.]+)/.exec(t);if(Oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(kL)return/WebKit\/(\S+)/.exec(t);if(xL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(am&&(om=am?am[1]:""),Oa){var lm=tx();if(lm!=null&&lm>parseFloat(om)){bg=String(lm);break e}}bg=om}var wg;if(Xe.document&&Oa){var H1=tx();wg=H1||parseInt(bg,10)||void 0}else wg=void 0;var SL=wg;function _u(t,e){if(Zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ex){e:{try{ay(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:IL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_u.$.h.call(this)}}xn(_u,Zn);var IL={2:"touch",3:"pen",4:"mouse"};_u.prototype.h=function(){_u.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rh="closure_listenable_"+(1e6*Math.random()|0),RL=0;function OL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++RL,this.fa=this.ia=!1}function ih(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ly(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function nx(t){const e={};for(const n in t)e[n]=t[n];return e}const z1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<z1.length;s++)n=z1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sh(t){this.src=t,this.g={},this.h=0}sh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Tg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new OL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Eg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=JA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ih(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var uy="closure_lm_"+(1e6*Math.random()|0),um={};function ix(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ix(t,e[s],n,r,i);return null}return n=ax(n),t&&t[rh]?t.O(e,n,th(r)?!!r.capture:!!r,i):CL(t,e,n,!1,r,i)}function CL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=th(i)?!!i.capture:!!i,a=fy(t);if(a||(t[uy]=a=new sh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=DL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)TL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ox(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function DL(){function t(n){return e.call(t.src,t.listener,n)}const e=ML;return t}function sx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sx(t,e[s],n,r,i);else r=th(r)?!!r.capture:!!r,n=ax(n),t&&t[rh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Tg(s,n,r,i),-1<n&&(ih(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=fy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tg(e,n,r,i)),(n=-1<t?e[t]:null)&&cy(n))}function cy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rh])Eg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ox(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fy(e))?(Eg(n,t),n.h==0&&(n.src=null,e[uy]=null)):ih(t)}}}function ox(t){return t in um?um[t]:um[t]="on"+t}function ML(t,e){if(t.fa)t=!0;else{e=new _u(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cy(t),t=n.call(r,e)}return t}function fy(t){return t=t[uy],t instanceof sh?t:null}var cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ax(t){return typeof t=="function"?t:(t[cm]||(t[cm]=function(e){return t.handleEvent(e)}),t[cm])}function An(){Gs.call(this),this.i=new sh(this),this.S=this,this.J=null}xn(An,Gs);An.prototype[rh]=!0;An.prototype.removeEventListener=function(t,e,n,r){sx(this,t,e,n,r)};function $n(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Zn(e,t);else if(e instanceof Zn)e.target=e.target||t;else{var i=e;e=new Zn(r,t),rx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Uc(o,r,!0,e)&&i}if(o=e.g=t,i=Uc(o,r,!0,e)&&i,i=Uc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Uc(o,r,!1,e)&&i}An.prototype.N=function(){if(An.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ih(n[r]);delete t.g[e],t.h--}}this.J=null};An.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};An.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Uc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Eg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var dy=Xe.JSON.stringify;class NL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function LL(){var t=hy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class $L{constructor(){this.h=this.g=null}add(e,n){const r=lx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var lx=new NL(()=>new FL,t=>t.reset());class FL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function UL(t){Xe.setTimeout(()=>{throw t},0)}let bu,wu=!1,hy=new $L,ux=()=>{const t=Xe.Promise.resolve(void 0);bu=()=>{t.then(BL)}};var BL=()=>{for(var t;t=LL();){try{t.h.call(t.g)}catch(n){UL(n)}var e=lx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wu=!1};function oh(t,e){An.call(this),this.h=t||1,this.g=e||Xe,this.j=Jn(this.qb,this),this.l=Date.now()}xn(oh,An);De=oh.prototype;De.ga=!1;De.T=null;De.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$n(this,"tick"),this.ga&&(py(this),this.start()))}};De.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function py(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}De.N=function(){oh.$.N.call(this),py(this),delete this.g};function my(t,e,n){if(typeof t=="function")n&&(t=Jn(t,n));else if(t&&typeof t.handleEvent=="function")t=Jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Xe.setTimeout(t,e||0)}function cx(t){t.g=my(()=>{t.g=null,t.i&&(t.i=!1,cx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jL extends Gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cx(this)}N(){super.N(),this.g&&(Xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eu(t){Gs.call(this),this.h=t,this.g={}}xn(Eu,Gs);var W1=[];function fx(t,e,n,r){Array.isArray(n)||(n&&(W1[0]=n.toString()),n=W1);for(var i=0;i<n.length;i++){var s=ix(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dx(t){ly(t.g,function(e,n){this.g.hasOwnProperty(n)&&cy(e)},t),t.g={}}Eu.prototype.N=function(){Eu.$.N.call(this),dx(this)};Eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ah(){this.g=!0}ah.prototype.Ea=function(){this.g=!1};function qL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var f=a[l].split("=");if(1<f.length){var u=f[0];f=f[1];var c=u.split("_");o=2<=c.length&&c[1]=="type"?o+(u+"="+f+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function HL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function da(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WL(t,n)+(r?" "+r:"")})}function zL(t,e){t.info(function(){return"TIMEOUT: "+e})}ah.prototype.info=function(){};function WL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return dy(n)}catch{return e}}var zo={},K1=null;function lh(){return K1=K1||new An}zo.Ta="serverreachability";function hx(t){Zn.call(this,zo.Ta,t)}xn(hx,Zn);function Tu(t){const e=lh();$n(e,new hx(e))}zo.STAT_EVENT="statevent";function px(t,e){Zn.call(this,zo.STAT_EVENT,t),this.stat=e}xn(px,Zn);function ar(t){const e=lh();$n(e,new px(e,t))}zo.Ua="timingevent";function mx(t,e){Zn.call(this,zo.Ua,t),this.size=e}xn(mx,Zn);function Wu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){t()},e)}var uh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gy(){}gy.prototype.h=null;function Y1(t){return t.h||(t.h=t.i())}function vx(){}var Ku={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vy(){Zn.call(this,"d")}xn(vy,Zn);function yy(){Zn.call(this,"c")}xn(yy,Zn);var Ag;function ch(){}xn(ch,gy);ch.prototype.g=function(){return new XMLHttpRequest};ch.prototype.i=function(){return{}};Ag=new ch;function Yu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Eu(this),this.P=KL,t=_g?125:void 0,this.V=new oh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yx}function yx(){this.i=null,this.g="",this.h=!1}var KL=45e3,_x={},xg={};De=Yu.prototype;De.setTimeout=function(t){this.P=t};function kg(t,e,n){t.L=1,t.A=dh(Ji(e)),t.u=n,t.S=!0,bx(t,null)}function bx(t,e){t.G=Date.now(),Gu(t),t.B=Ji(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Ix(n.i,"t",r),t.o=0,n=t.l.J,t.h=new yx,t.g=Gx(t.l,n?e:null,!t.u),0<t.O&&(t.M=new jL(Jn(t.Pa,t,t.g),t.O)),fx(t.U,t.g,"readystatechange",t.nb),e=t.I?nx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Tu(),qL(t.j,t.v,t.B,t.m,t.W,t.u)}De.nb=function(t){t=t.target;const e=this.M;e&&bi(t)==3?e.l():this.Pa(t)};De.Pa=function(t){try{if(t==this.g)e:{const u=bi(this.g);var e=this.g.Ia();const c=this.g.da();if(!(3>u)&&(u!=3||_g||this.g&&(this.h.h||this.g.ja()||J1(this.g)))){this.J||u!=4||e==7||(e==8||0>=c?Tu(3):Tu(2)),fh(this);var n=this.g.da();this.ca=n;t:if(wx(this)){var r=J1(this.g);t="";var i=r.length,s=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){go(this),Xl(this);var o="";break t}this.h.i=new Xe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,HL(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yu(a)){var f=a;break t}}f=null}if(n=f)da(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sg(this,n);else{this.i=!1,this.s=3,ar(12),go(this),Xl(this);break e}}this.S?(Ex(this,u,o),_g&&this.i&&u==3&&(fx(this.U,this.V,"tick",this.mb),this.V.start())):(da(this.j,this.m,o,null),Sg(this,o)),u==4&&go(this),this.i&&!this.J&&(u==4?zx(this.l,this):(this.i=!1,Gu(this)))}else p6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ar(12)):(this.s=0,ar(13)),go(this),Xl(this)}}}catch{}finally{}};function wx(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Ex(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=YL(t,n),i==xg){e==4&&(t.s=4,ar(14),r=!1),da(t.j,t.m,null,"[Incomplete Response]");break}else if(i==_x){t.s=4,ar(15),da(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else da(t.j,t.m,i,null),Sg(t,i);wx(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,ar(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ay(e),e.M=!0,ar(11))):(da(t.j,t.m,n,"[Invalid Chunked Response]"),go(t),Xl(t))}De.mb=function(){if(this.g){var t=bi(this.g),e=this.g.ja();this.o<e.length&&(fh(this),Ex(this,t,e),this.i&&t!=4&&Gu(this))}};function YL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?xg:(n=Number(e.substring(n,r)),isNaN(n)?_x:(r+=1,r+n>e.length?xg:(e=e.slice(r,r+n),t.o=r+n,e)))}De.cancel=function(){this.J=!0,go(this)};function Gu(t){t.Y=Date.now()+t.P,Tx(t,t.P)}function Tx(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Wu(Jn(t.lb,t),e)}function fh(t){t.C&&(Xe.clearTimeout(t.C),t.C=null)}De.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(zL(this.j,this.B),this.L!=2&&(Tu(),ar(17)),go(this),this.s=2,Xl(this)):Tx(this,this.Y-t)};function Xl(t){t.l.H==0||t.J||zx(t.l,t)}function go(t){fh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,py(t.V),dx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ig(n.i,t))){if(!t.K&&Ig(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jf(n),mh(n);else break e;Ty(n),ar(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wu(Jn(n.ib,n),6e3));if(1>=Px(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vo(n,11)}else if((t.K||n.g==t)&&Jf(n),!yu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const u=f[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const c=f[4];c!=null&&(n.Ga=c,n.l.info("SVER="+n.Ga));const d=f[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(_y(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Mt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Yx(r,r.J?r.pa:null,r.Y),o.K){Cx(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(fh(a),Gu(a)),r.g=o}else qx(r);0<n.j.length&&gh(n)}else f[0]!="stop"&&f[0]!="close"||vo(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?vo(n,7):Ey(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Tu(4)}catch{}}function GL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(eh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function QL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(eh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ax(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(eh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=QL(t),r=GL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var xx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ao(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ao){this.h=t.h,Qf(this,t.j),this.s=t.s,this.g=t.g,Xf(this,t.m),this.l=t.l;var e=t.i,n=new Au;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),G1(this,n),this.o=t.o}else t&&(e=String(t).match(xx))?(this.h=!1,Qf(this,e[1]||"",!0),this.s=Dl(e[2]||""),this.g=Dl(e[3]||"",!0),Xf(this,e[4]),this.l=Dl(e[5]||"",!0),G1(this,e[6]||"",!0),this.o=Dl(e[7]||"")):(this.h=!1,this.i=new Au(null,this.h))}Ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ml(e,Q1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ml(e,Q1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ml(n,n.charAt(0)=="/"?e6:ZL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ml(n,n6)),t.join("")};function Ji(t){return new Ao(t)}function Qf(t,e,n){t.j=n?Dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function G1(t,e,n){e instanceof Au?(t.i=e,r6(t.i,t.h)):(n||(e=Ml(e,t6)),t.i=new Au(e,t.h))}function Mt(t,e,n){t.i.set(e,n)}function dh(t){return Mt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ml(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,JL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function JL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Q1=/[#\/\?@]/g,ZL=/[#\?:]/g,e6=/[#\?]/g,t6=/[#\?@]/g,n6=/#/g;function Au(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qs(t){t.g||(t.g=new Map,t.h=0,t.i&&XL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}De=Au.prototype;De.add=function(t,e){Qs(this),this.i=null,t=Za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function kx(t,e){Qs(t),e=Za(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Sx(t,e){return Qs(t),e=Za(t,e),t.g.has(e)}De.forEach=function(t,e){Qs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};De.ta=function(){Qs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};De.Z=function(t){Qs(this);let e=[];if(typeof t=="string")Sx(this,t)&&(e=e.concat(this.g.get(Za(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};De.set=function(t,e){return Qs(this),this.i=null,t=Za(this,t),Sx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};De.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Ix(t,e,n){kx(t,e),0<n.length&&(t.i=null,t.g.set(Za(t,e),oy(n)),t.h+=n.length)}De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function r6(t,e){e&&!t.j&&(Qs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(kx(this,r),Ix(this,i,n))},t)),t.j=e}var i6=class{constructor(t,e){this.g=t,this.map=e}};function Rx(t){this.l=t||s6,Xe.PerformanceNavigationTiming?(t=Xe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Xe.g&&Xe.g.Ka&&Xe.g.Ka()&&Xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var s6=10;function Ox(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Px(t){return t.h?1:t.g?t.g.size:0}function Ig(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function _y(t,e){t.g?t.g.add(e):t.h=e}function Cx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Rx.prototype.cancel=function(){if(this.i=Dx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Dx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return oy(t.i)}var o6=class{stringify(t){return Xe.JSON.stringify(t,void 0)}parse(t){return Xe.JSON.parse(t,void 0)}};function a6(){this.g=new o6}function l6(t,e,n){const r=n||"";try{Ax(t,function(i,s){let o=i;th(i)&&(o=dy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function u6(t,e){const n=new ah;if(Xe.Image){const r=new Image;r.onload=Vc(Bc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vc(Bc,n,r,"TestLoadImage: error",!1,e),r.onabort=Vc(Bc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vc(Bc,n,r,"TestLoadImage: timeout",!1,e),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qu(t){this.l=t.ec||null,this.j=t.ob||!1}xn(Qu,gy);Qu.prototype.g=function(){return new hh(this.l,this.j)};Qu.prototype.i=function(t){return function(){return t}}({});function hh(t,e){An.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=by,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xn(hh,An);var by=0;De=hh.prototype;De.open=function(t,e){if(this.readyState!=by)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xu(this)};De.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xu(this)),this.readyState=by};De.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Mx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}De.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xu(this):xu(this),this.readyState==3&&Mx(this)}};De.Za=function(t){this.g&&(this.response=this.responseText=t,Xu(this))};De.Ya=function(t){this.g&&(this.response=t,Xu(this))};De.ka=function(){this.g&&Xu(this)};function Xu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xu(t)}De.setRequestHeader=function(t,e){this.v.append(t,e)};De.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};De.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var c6=Xe.JSON.parse;function Kt(t){An.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nx,this.L=this.M=!1}xn(Kt,An);var Nx="",f6=/^https?$/i,d6=["POST","PUT"];De=Kt.prototype;De.Oa=function(t){this.M=t};De.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ag.g(),this.C=this.u?Y1(this.u):Y1(Ag),this.g.onreadystatechange=Jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){X1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Xe.FormData&&t instanceof Xe.FormData,!(0<=JA(d6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fx(this),0<this.B&&((this.L=h6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.ua,this)):this.A=my(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){X1(this,s)}};function h6(t){return Oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}De.ua=function(){typeof sy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$n(this,"timeout"),this.abort(8))};function X1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Lx(t),ph(t)}function Lx(t){t.F||(t.F=!0,$n(t,"complete"),$n(t,"error"))}De.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$n(this,"complete"),$n(this,"abort"),ph(this))};De.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ph(this,!0)),Kt.$.N.call(this)};De.La=function(){this.s||(this.G||this.v||this.l?$x(this):this.kb())};De.kb=function(){$x(this)};function $x(t){if(t.h&&typeof sy<"u"&&(!t.C[1]||bi(t)!=4||t.da()!=2)){if(t.v&&bi(t)==4)my(t.La,0,t);else if($n(t,"readystatechange"),bi(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(xx)[1]||null;!i&&Xe.self&&Xe.self.location&&(i=Xe.self.location.protocol.slice(0,-1)),r=!f6.test(i?i.toLowerCase():"")}n=r}if(n)$n(t,"complete"),$n(t,"success");else{t.m=6;try{var s=2<bi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Lx(t)}}finally{ph(t)}}}}function ph(t,e){if(t.g){Fx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||$n(t,"ready");try{n.onreadystatechange=r}catch{}}}function Fx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Xe.clearTimeout(t.A),t.A=null)}De.isActive=function(){return!!this.g};function bi(t){return t.g?t.g.readyState:0}De.da=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}};De.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};De.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),c6(e)}};function J1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Nx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function p6(t){const e={};t=(t.g&&2<=bi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(yu(t[r]))continue;var n=VL(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}PL(e,function(r){return r.join(", ")})}De.Ia=function(){return this.m};De.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Vx(t){let e="";return ly(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function wy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vx(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Mt(t,e,n))}function yl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ux(t){this.Ga=0,this.j=[],this.l=new ah,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yl("baseRetryDelayMs",5e3,t),this.hb=yl("retryDelaySeedMs",1e4,t),this.eb=yl("forwardChannelMaxRetries",2,t),this.xa=yl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Rx(t&&t.concurrentRequestLimit),this.Ja=new a6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}De=Ux.prototype;De.ra=8;De.H=1;function Ey(t){if(Bx(t),t.H==3){var e=t.W++,n=Ji(t.I);if(Mt(n,"SID",t.K),Mt(n,"RID",e),Mt(n,"TYPE","terminate"),Ju(t,n),e=new Yu(t,t.l,e),e.L=2,e.A=dh(Ji(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon)try{n=Xe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Xe.Image&&(new Image().src=e.A,n=!0),n||(e.g=Gx(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Gu(e)}Kx(t)}function mh(t){t.g&&(Ay(t),t.g.cancel(),t.g=null)}function Bx(t){mh(t),t.u&&(Xe.clearTimeout(t.u),t.u=null),Jf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Xe.clearTimeout(t.m),t.m=null)}function gh(t){if(!Ox(t.i)&&!t.m){t.m=!0;var e=t.Na;bu||ux(),wu||(bu(),wu=!0),hy.add(e,t),t.C=0}}function m6(t,e){return Px(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Wu(Jn(t.Na,t,e),Wx(t,t.C)),t.C++,!0)}De.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Yu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=nx(s),rx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jx(this,i,e),n=Ji(this.I),Mt(n,"RID",t),Mt(n,"CVER",22),this.F&&Mt(n,"X-HTTP-Session-Id",this.F),Ju(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Vx(s)))+"&"+e:this.o&&wy(n,this.o,s)),_y(this.i,i),this.bb&&Mt(n,"TYPE","init"),this.P?(Mt(n,"$req",e),Mt(n,"SID","null"),i.aa=!0,kg(i,n,null)):kg(i,n,e),this.H=2}}else this.H==3&&(t?Z1(this,t):this.j.length==0||Ox(this.i)||Z1(this))};function Z1(t,e){var n;e?n=e.m:n=t.W++;const r=Ji(t.I);Mt(r,"SID",t.K),Mt(r,"RID",n),Mt(r,"AID",t.V),Ju(t,r),t.o&&t.s&&wy(r,t.o,t.s),n=new Yu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_y(t.i,n),kg(n,r,e)}function Ju(t,e){t.na&&ly(t.na,function(n,r){Mt(e,r,n)}),t.h&&Ax({},function(n,r){Mt(e,r,n)})}function jx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let f=i[l].g;const u=i[l].map;if(f-=s,0>f)s=Math.max(0,i[l].g-100),a=!1;else try{l6(u,o,"req"+f+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function qx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bu||ux(),wu||(bu(),wu=!0),hy.add(e,t),t.A=0}}function Ty(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Wu(Jn(t.Ma,t),Wx(t,t.A)),t.A++,!0)}De.Ma=function(){if(this.u=null,Hx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wu(Jn(this.jb,this),t)}};De.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ar(10),mh(this),Hx(this))};function Ay(t){t.B!=null&&(Xe.clearTimeout(t.B),t.B=null)}function Hx(t){t.g=new Yu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ji(t.wa);Mt(e,"RID","rpc"),Mt(e,"SID",t.K),Mt(e,"AID",t.V),Mt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Mt(e,"TO",t.qa),Mt(e,"TYPE","xmlhttp"),Ju(t,e),t.o&&t.s&&wy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=dh(Ji(e)),n.u=null,n.S=!0,bx(n,t)}De.ib=function(){this.v!=null&&(this.v=null,mh(this),Ty(this),ar(19))};function Jf(t){t.v!=null&&(Xe.clearTimeout(t.v),t.v=null)}function zx(t,e){var n=null;if(t.g==e){Jf(t),Ay(t),t.g=null;var r=2}else if(Ig(t.i,e))n=e.F,Cx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=lh(),$n(r,new mx(r,n)),gh(t)}else qx(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&m6(t,e)||r==2&&Ty(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vo(t,5);break;case 4:vo(t,10);break;case 3:vo(t,6);break;default:vo(t,2)}}}function Wx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Jn(t.pb,t);n||(n=new Ao("//www.google.com/images/cleardot.gif"),Xe.location&&Xe.location.protocol=="http"||Qf(n,"https"),dh(n)),u6(n.toString(),r)}else ar(2);t.H=0,t.h&&t.h.za(e),Kx(t),Bx(t)}De.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ar(2)):(this.l.info("Failed to ping google.com"),ar(1))};function Kx(t){if(t.H=0,t.ma=[],t.h){const e=Dx(t.i);(e.length!=0||t.j.length!=0)&&(q1(t.ma,e),q1(t.ma,t.j),t.i.i.length=0,oy(t.j),t.j.length=0),t.h.ya()}}function Yx(t,e,n){var r=n instanceof Ao?Ji(n):new Ao(n);if(r.g!="")e&&(r.g=e+"."+r.g),Xf(r,r.m);else{var i=Xe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ao(null);r&&Qf(s,r),e&&(s.g=e),i&&Xf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Mt(r,n,e),Mt(r,"VER",t.ra),Ju(t,r),r}function Gx(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Kt(new Qu({ob:n})):new Kt(t.va),e.Oa(t.J),e}De.isActive=function(){return!!this.h&&this.h.isActive(this)};function Qx(){}De=Qx.prototype;De.Ba=function(){};De.Aa=function(){};De.za=function(){};De.ya=function(){};De.isActive=function(){return!0};De.Va=function(){};function Zf(){if(Oa&&!(10<=Number(SL)))throw Error("Environmental error: no available transport.")}Zf.prototype.g=function(t,e){return new Pr(t,e)};function Pr(t,e){An.call(this),this.g=new Ux(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new el(this)}xn(Pr,An);Pr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ar(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Yx(t,null,t.Y),gh(t)};Pr.prototype.close=function(){Ey(this.g)};Pr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dy(t),t=n);e.j.push(new i6(e.fb++,t)),e.H==3&&gh(e)};Pr.prototype.N=function(){this.g.h=null,delete this.j,Ey(this.g),delete this.g,Pr.$.N.call(this)};function Xx(t){vy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xn(Xx,vy);function Jx(){yy.call(this),this.status=1}xn(Jx,yy);function el(t){this.g=t}xn(el,Qx);el.prototype.Ba=function(){$n(this.g,"a")};el.prototype.Aa=function(t){$n(this.g,new Xx(t))};el.prototype.za=function(t){$n(this.g,new Jx)};el.prototype.ya=function(){$n(this.g,"b")};function g6(){this.blockSize=-1}function ri(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xn(ri,g6);ri.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ri.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)fm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){fm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){fm(this,r),i=0;break}}this.h=i,this.i+=e};ri.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var v6={};function xy(t){return-128<=t&&128>t?AL(t,function(e){return new xt([e|0],0>e?-1:0)}):new xt([t|0],0>t?-1:0)}function wi(t){if(isNaN(t)||!isFinite(t))return Ea;if(0>t)return Mn(wi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Rg;return new xt(e,0)}function Zx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Mn(Zx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wi(Math.pow(e,8)),r=Ea,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=wi(Math.pow(e,s)),r=r.R(s).add(wi(o))):(r=r.R(n),r=r.add(wi(o)))}return r}var Rg=4294967296,Ea=xy(0),Og=xy(1),eb=xy(16777216);De=xt.prototype;De.ea=function(){if(Dr(this))return-Mn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Rg+r)*e,e*=Rg}return t};De.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hi(this))return"0";if(Dr(this))return"-"+Mn(this).toString(t);for(var e=wi(Math.pow(t,6)),n=this,r="";;){var i=td(n,e).g;n=ed(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};De.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dr(t){return t.h==-1}De.X=function(t){return t=ed(this,t),Dr(t)?-1:Hi(t)?0:1};function Mn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xt(n,~t.h).add(Og)}De.abs=function(){return Dr(this)?Mn(this):this};De.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new xt(n,n[n.length-1]&-2147483648?-1:0)};function ed(t,e){return t.add(Mn(e))}De.R=function(t){if(Hi(this)||Hi(t))return Ea;if(Dr(this))return Dr(t)?Mn(this).R(Mn(t)):Mn(Mn(this).R(t));if(Dr(t))return Mn(this.R(Mn(t)));if(0>this.X(eb)&&0>t.X(eb))return wi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,jc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,jc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,jc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,jc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xt(n,0)};function jc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _l(t,e){this.g=t,this.h=e}function td(t,e){if(Hi(e))throw Error("division by zero");if(Hi(t))return new _l(Ea,Ea);if(Dr(t))return e=td(Mn(t),e),new _l(Mn(e.g),Mn(e.h));if(Dr(e))return e=td(t,Mn(e)),new _l(Mn(e.g),e.h);if(30<t.g.length){if(Dr(t)||Dr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Og,r=e;0>=r.X(t);)n=tb(n),r=tb(r);var i=ra(n,1),s=ra(r,1);for(r=ra(r,2),n=ra(n,2);!Hi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ra(r,1),n=ra(n,1)}return e=ed(t,i.R(e)),new _l(i,e)}for(i=Ea;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=wi(n),o=s.R(e);Dr(o)||0<o.X(t);)n-=r,s=wi(n),o=s.R(e);Hi(s)&&(s=Og),i=i.add(s),t=ed(t,o)}return new _l(i,t)}De.gb=function(t){return td(this,t).h};De.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xt(n,this.h&t.h)};De.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xt(n,this.h|t.h)};De.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xt(n,this.h^t.h)};function tb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xt(n,t.h)}function ra(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new xt(i,t.h)}Zf.prototype.createWebChannel=Zf.prototype.g;Pr.prototype.send=Pr.prototype.u;Pr.prototype.open=Pr.prototype.m;Pr.prototype.close=Pr.prototype.close;uh.NO_ERROR=0;uh.TIMEOUT=8;uh.HTTP_ERROR=6;gx.COMPLETE="complete";vx.EventType=Ku;Ku.OPEN="a";Ku.CLOSE="b";Ku.ERROR="c";Ku.MESSAGE="d";An.prototype.listen=An.prototype.O;Kt.prototype.listenOnce=Kt.prototype.P;Kt.prototype.getLastError=Kt.prototype.Sa;Kt.prototype.getLastErrorCode=Kt.prototype.Ia;Kt.prototype.getStatus=Kt.prototype.da;Kt.prototype.getResponseJson=Kt.prototype.Wa;Kt.prototype.getResponseText=Kt.prototype.ja;Kt.prototype.send=Kt.prototype.ha;Kt.prototype.setWithCredentials=Kt.prototype.Oa;ri.prototype.digest=ri.prototype.l;ri.prototype.reset=ri.prototype.reset;ri.prototype.update=ri.prototype.j;xt.prototype.add=xt.prototype.add;xt.prototype.multiply=xt.prototype.R;xt.prototype.modulo=xt.prototype.gb;xt.prototype.compare=xt.prototype.X;xt.prototype.toNumber=xt.prototype.ea;xt.prototype.toString=xt.prototype.toString;xt.prototype.getBits=xt.prototype.D;xt.fromNumber=wi;xt.fromString=Zx;var y6=function(){return new Zf},_6=function(){return lh()},dm=uh,b6=gx,w6=zo,nb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},E6=Qu,qc=vx,T6=Kt,A6=ri,Ta=xt;const rb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new zd("@firebase/firestore");function bl(){return Do.logLevel}function Fe(t,...e){if(Do.logLevel<=ct.DEBUG){const n=e.map(ky);Do.debug(`Firestore (${tl}): ${t}`,...n)}}function Zi(t,...e){if(Do.logLevel<=ct.ERROR){const n=e.map(ky);Do.error(`Firestore (${tl}): ${t}`,...n)}}function Pa(t,...e){if(Do.logLevel<=ct.WARN){const n=e.map(ky);Do.warn(`Firestore (${tl}): ${t}`,...n)}}function ky(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t="Unexpected state"){const e=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function Pt(t,e){t||Ye()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class k6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class S6{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string"),new ek(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string"),new Kn(e)}}class I6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new I6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pt(typeof n.token=="string"),this.R=n.token,new O6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=C6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Ca(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new je(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new vn(0,0))}static max(){return new Je(new vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(),r===void 0?r=e.length-n:r>e.length-n&&Ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ku.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ku?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Lt extends ku{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const D6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends ku{construct(e,n,r){return new Ln(e,n,r)}static isValidIdentifier(e){return D6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ln(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new je(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new je(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new je(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Lt.fromString(e))}static fromName(e){return new ze(Lt.fromString(e).popFirst(5))}static empty(){return new ze(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Lt(e.slice()))}}function M6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new vn(n+1,0):new vn(n,r));return new Bs(i,ze.empty(),e)}function N6(t){return new Bs(t.readTime,t.key,-1)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(Je.min(),ze.empty(),-1)}static max(){return new Bs(Je.max(),ze.empty(),-1)}}function L6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==$6)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const f=l;n(e[f]).next(u=>{o[f]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function V6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sy.oe=-1;function vh(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function U6(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=s??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sb(this.data.getIterator())}getIteratorFrom(e){return new sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new xr([])}unionWith(e){let n=new Fn(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rk("Invalid base64 string: "+s):s}}(e);return new er(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const B6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(Pt(!!t),typeof t=="string"){let e=0;const n=B6.exec(t);if(Pt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?er.fromBase64String(t):er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ry(t){const e=t.mapValue.fields.__previous_value__;return Iy(e)?Ry(e):e}function Su(t){const e=js(t.mapValue.fields.__local_write_time__.timestampValue);return new vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n,r,i,s,o,a,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f}}class Iu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:q6(t)?9007199254740991:10:Ye()}function Pi(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=js(i.timestampValue),a=js(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Mo(i.bytesValue).isEqual(Mo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ln(i.geoPointValue.latitude)===ln(s.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ln(i.integerValue)===ln(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ln(i.doubleValue),a=ln(s.doubleValue);return o===a?nd(o)===nd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ib(o)!==ib(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Pi(o[l],a[l])))return!1;return!0}(t,e);default:return Ye()}}function Ru(t,e){return(t.values||[]).find(n=>Pi(n,e))!==void 0}function Da(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ln(s.integerValue||s.doubleValue),l=ln(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ob(t.timestampValue,e.timestampValue);case 4:return ob(Su(t),Su(e));case 5:return vt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Mo(s),l=Mo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let f=0;f<a.length&&f<l.length;f++){const u=vt(a[f],l[f]);if(u!==0)return u}return vt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=vt(ln(s.latitude),ln(o.latitude));return a!==0?a:vt(ln(s.longitude),ln(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let f=0;f<a.length&&f<l.length;++f){const u=Da(a[f],l[f]);if(u)return u}return vt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===zc.mapValue&&o===zc.mapValue)return 0;if(s===zc.mapValue)return 1;if(o===zc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),f=o.fields||{},u=Object.keys(f);l.sort(),u.sort();for(let c=0;c<l.length&&c<u.length;++c){const d=vt(l[c],u[c]);if(d!==0)return d;const h=Da(a[l[c]],f[u[c]]);if(h!==0)return h}return vt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ye()}}function ob(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=js(t),r=js(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function Ma(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Pg(n.fields[o])}`;return i+"}"}(t.mapValue):Ye()}function Cg(t){return!!t&&"integerValue"in t}function Oy(t){return!!t&&"arrayValue"in t}function ab(t){return!!t&&"nullValue"in t}function lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}function Jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Jl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new pr(Jl(this.value))}}function ik(t){const e=[];return Wo(t.fields,(n,r)=>{const i=new Ln([n]);if(bf(r)){const s=ik(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gn(e,0,Je.min(),Je.min(),Je.min(),pr.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,Je.min(),Je.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Je.min(),Je.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.position=e,this.inclusive=n}}function ub(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ze.comparator(ze.fromName(o.referenceValue),n.key):r=Da(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function H6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{}class hn extends sk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W6(e,n,r):n==="array-contains"?new G6(e,r):n==="in"?new Q6(e,r):n==="not-in"?new X6(e,r):n==="array-contains-any"?new J6(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K6(e,r):new Y6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends sk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ci(e,n)}matches(e){return ok(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ok(t){return t.op==="and"}function ak(t){return z6(t)&&ok(t)}function z6(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function Dg(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(ak(t))return t.filters.map(e=>Dg(e)).join(",");{const e=t.filters.map(n=>Dg(n)).join(",");return`${t.op}(${e})`}}function lk(t,e){return t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.field.isEqual(i.field)&&Pi(r.value,i.value)}(t,e):t instanceof Ci?function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lk(o,i.filters[a]),!0):!1}(t,e):void Ye()}function uk(t){return t instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ma(n.value)}`}(t):t instanceof Ci?function(n){return n.op.toString()+" {"+n.getFilters().map(uk).join(" ,")+"}"}(t):"Filter"}class W6 extends hn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class K6 extends hn{constructor(e,n){super(e,"in",n),this.keys=ck("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y6 extends hn{constructor(e,n){super(e,"not-in",n),this.keys=ck("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ck(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class G6 extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oy(n)&&Ru(n.arrayValue,this.value)}}class Q6 extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class X6 extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ru(this.value.arrayValue,n)}}class J6 extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function fb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Z6(t,e,n,r,i,s,o)}function Py(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.ue=n}return e.ue}function Cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cb(t.startAt,e.startAt)&&cb(t.endAt,e.endAt)}function Mg(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function e$(t,e,n,r,i,s,o,a){return new yh(t,e,n,r,i,s,o,a)}function Dy(t){return new yh(t)}function db(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t$(t){return t.collectionGroup!==null}function Zl(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Fn(Ln.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new id(s,r))}),n.has(Ln.keyField().canonicalString())||e.ce.push(new id(Ln.keyField(),r))}return e.ce}function Si(t){const e=tt(t);return e.le||(e.le=n$(e,Zl(t))),e.le}function n$(t,e){if(t.limitType==="F")return fb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new id(i.field,s)});const n=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return fb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ng(t,e,n){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return Cy(Si(t),Si(e))&&t.limitType===e.limitType}function fk(t){return`${Py(Si(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uk(i)).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ma(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ma(i)).join(",")),`Target(${r})`}(Si(t))}; limitType=${t.limitType})`}function bh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Zl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const f=ub(o,a,l);return o.inclusive?f<=0:f<0}(r.startAt,Zl(r),i)||r.endAt&&!function(o,a,l){const f=ub(o,a,l);return o.inclusive?f>=0:f>0}(r.endAt,Zl(r),i))}(t,e)}function r$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dk(t){return(e,n)=>{let r=!1;for(const i of Zl(t)){const s=i$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function i$(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),f=a.data.field(s);return l!==null&&f!==null?Da(l,f):Ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new qt(ze.comparator);function es(){return s$}const hk=new qt(ze.comparator);function Nl(...t){let e=hk;for(const n of t)e=e.insert(n.key,n);return e}function pk(t){let e=hk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yo(){return eu()}function mk(){return eu()}function eu(){return new nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const o$=new qt(ze.comparator),a$=new Fn(ze.comparator);function ut(...t){let e=a$;for(const n of t)e=e.add(n);return e}const l$=new Fn(vt);function u$(){return l$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function vk(t){return{integerValue:""+t}}function c$(t,e){return U6(e)?vk(e):gk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function f$(t,e,n){return t instanceof sd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iy(s)&&(s=Ry(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Na?_k(t,e):t instanceof Ou?bk(t,e):function(i,s){const o=yk(i,s),a=hb(o)+hb(i.Pe);return Cg(o)&&Cg(i.Pe)?vk(a):gk(i.serializer,a)}(t,e)}function d$(t,e,n){return t instanceof Na?_k(t,e):t instanceof Ou?bk(t,e):n}function yk(t,e){return t instanceof od?function(r){return Cg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class sd extends wh{}class Na extends wh{constructor(e){super(),this.elements=e}}function _k(t,e){const n=wk(e);for(const r of t.elements)n.some(i=>Pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ou extends wh{constructor(e){super(),this.elements=e}}function bk(t,e){let n=wk(e);for(const r of t.elements)n=n.filter(i=>!Pi(i,r));return{arrayValue:{values:n}}}class od extends wh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hb(t){return ln(t.integerValue||t.doubleValue)}function wk(t){return Oy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n){this.field=e,this.transform=n}}function p$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Na&&i instanceof Na||r instanceof Ou&&i instanceof Ou?Ca(r.elements,i.elements,Pi):r instanceof od&&i instanceof od?Pi(r.Pe,i.Pe):r instanceof sd&&i instanceof sd}(t.transform,e.transform)}class m${constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function Ek(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new My(t.key,Qr.none()):new tc(t.key,t.data,Qr.none());{const n=t.data,r=pr.empty();let i=new Fn(Ln.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xs(t.key,r,new xr(i.toArray()),Qr.none())}}function g$(t,e,n){t instanceof tc?function(i,s,o){const a=i.value.clone(),l=mb(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(i,s,o){if(!wf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=mb(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Tk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tu(t,e,n,r){return t instanceof tc?function(s,o,a,l){if(!wf(s.precondition,o))return a;const f=s.value.clone(),u=gb(s.fieldTransforms,l,o);return f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(s,o,a,l){if(!wf(s.precondition,o))return a;const f=gb(s.fieldTransforms,l,o),u=o.data;return u.setAll(Tk(s)),u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(s,o,a){return wf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function v$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yk(r.transform,i||null);s!=null&&(n===null&&(n=pr.empty()),n.set(r.field,s))}return n||null}function pb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ca(r,i,(s,o)=>p$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tc extends Eh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends Eh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Tk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mb(t,e,n){const r=new Map;Pt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,d$(o,a,n[i]))}return r}function gb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,f$(s,o,e))}return r}class My extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y$ extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&g$(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ek(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>pb(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>pb(n,r))}}class Ny{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pt(e.mutations.length===r.length);let i=function(){return o$}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ny(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,ft;function E$(t){switch(t){default:return Ye();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function Ak(t){if(t===void 0)return Zi("GRPC error has no .code"),ke.UNKNOWN;switch(t){case an.OK:return ke.OK;case an.CANCELLED:return ke.CANCELLED;case an.UNKNOWN:return ke.UNKNOWN;case an.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case an.INTERNAL:return ke.INTERNAL;case an.UNAVAILABLE:return ke.UNAVAILABLE;case an.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case an.NOT_FOUND:return ke.NOT_FOUND;case an.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case an.ABORTED:return ke.ABORTED;case an.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case an.DATA_LOSS:return ke.DATA_LOSS;default:return Ye()}}(ft=an||(an={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=new Ta([4294967295,4294967295],0);function vb(t){const e=T$().encode(t),n=new A6;return n.update(e),new Uint8Array(n.digest())}function yb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ta([n,r],0),new Ta([i,s],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ta.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ta.fromNumber(r)));return i.compare(A$)===1&&(i=new Ta([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=vb(e),[r,i]=yb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ly(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=vb(e),[r,i]=yb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(Je.min(),i,new qt(vt),es(),ut())}}class nc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nc(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class xk{constructor(e,n){this.targetId=e,this.me=n}}class kk{constructor(e,n,r=er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _b{constructor(){this.fe=0,this.ge=wb(),this.pe=er.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ut(),n=ut(),r=ut();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new nc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=wb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class x${constructor(e){this.Le=e,this.Be=new Map,this.ke=es(),this.qe=bb(),this.Qe=new qt(vt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Mg(s))if(r===0){const o=new ze(s.path);this.Ue(n,o,Gn.newNoDocument(o,Je.min()))}else Pt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Mo(r).toUint8Array()}catch(l){if(l instanceof rk)return Pa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ly(o,i,s)}catch(l){return Pa(l instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Mg(a.target)){const l=new ze(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Gn.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ut();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const f=this.Je(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Th(e,n,this.Qe,this.ke,r);return this.ke=es(),this.qe=bb(),this.Qe=new qt(vt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _b,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Fn(vt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _b),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bb(){return new qt(ze.comparator)}function wb(){return new qt(ze.comparator)}const k$={asc:"ASCENDING",desc:"DESCENDING"},S$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I$={and:"AND",or:"OR"};class R${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lg(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O$(t,e){return ad(t,e.toTimestamp())}function Ii(t){return Pt(!!t),Je.fromTimestamp(function(n){const r=js(n);return new vn(r.seconds,r.nanos)}(t))}function $y(t,e){return $g(t,e).canonicalString()}function $g(t,e){const n=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ik(t){const e=Lt.fromString(t);return Pt(Dk(e)),e}function Fg(t,e){return $y(t.databaseId,e.path)}function hm(t,e){const n=Ik(e);if(n.get(1)!==t.databaseId.projectId)throw new je(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(Ok(n))}function Rk(t,e){return $y(t.databaseId,e)}function P$(t){const e=Ik(t);return e.length===4?Lt.emptyPath():Ok(e)}function Vg(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ok(t){return Pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Eb(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function C$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,u){return f.useProto3Json?(Pt(u===void 0||typeof u=="string"),er.fromBase64String(u||"")):(Pt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),er.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(f){const u=f.code===void 0?ke.UNKNOWN:Ak(f.code);return new je(u,f.message||"")}(o);n=new kk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hm(t,r.document.name),s=Ii(r.document.updateTime),o=r.document.createTime?Ii(r.document.createTime):Je.min(),a=new pr({mapValue:{fields:r.document.fields}}),l=Gn.newFoundDocument(i,s,o,a),f=r.targetIds||[],u=r.removedTargetIds||[];n=new Ef(f,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hm(t,r.document),s=r.readTime?Ii(r.readTime):Je.min(),o=Gn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ef([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hm(t,r.document),s=r.removedTargetIds||[];n=new Ef([],s,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new w$(i,s),a=r.targetId;n=new xk(a,o)}}return n}function D$(t,e){let n;if(e instanceof tc)n={update:Eb(t,e.key,e.value)};else if(e instanceof My)n={delete:Fg(t,e.key)};else if(e instanceof Xs)n={update:Eb(t,e.key,e.data),updateMask:j$(e.fieldMask)};else{if(!(e instanceof y$))return Ye();n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof sd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof od)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ye()}(t,e.precondition)),n}function M$(t,e){return t&&t.length>0?(Pt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ii(i.updateTime):Ii(s);return o.isEqual(Je.min())&&(o=Ii(s)),new m$(o,i.transformResults||[])}(n,e))):[]}function N$(t,e){return{documents:[Rk(t,e.path)]}}function L$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rk(t,i);const s=function(f){if(f.length!==0)return Ck(Ci.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(u=>function(d){return{field:la(d.field),direction:V$(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Lg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function $$(t){let e=P$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(c){const d=Pk(c);return d instanceof Ci&&ak(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(c){return c.map(d=>function(p){return new id(ua(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,vh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new rd(h,d)}(n.startAt));let f=null;return n.endAt&&(f=function(c){const d=!c.before,h=c.values||[];return new rd(h,d)}(n.endAt)),e$(e,i,o,s,a,"F",l,f)}function F$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ua(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(n.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ua(n.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ua(n.unaryFilter.field);return hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(t):t.fieldFilter!==void 0?function(n){return hn.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ci.create(n.compositeFilter.filters.map(r=>Pk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(n.compositeFilter.op))}(t):Ye()}function V$(t){return k$[t]}function U$(t){return S$[t]}function B$(t){return I$[t]}function la(t){return{fieldPath:t.canonicalString()}}function ua(t){return Ln.fromServerFormat(t.fieldPath)}function Ck(t){return t instanceof hn?function(n){if(n.op==="=="){if(lb(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(ab(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lb(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(ab(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:U$(n.op),value:n.value}}}(t):t instanceof Ci?function(n){const r=n.getFilters().map(i=>Ck(i));return r.length===1?r[0]:{compositeFilter:{op:B$(n.op),filters:r}}}(t):Ye()}function j$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,s=Je.min(),o=Je.min(),a=er.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.ut=e}}function H$(t){const e=$$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this.on=new W$}addToCollectionParentIndex(e,n){return this.on.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Bs.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class W${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(Lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new La(0)}static Nn(){return new La(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(){this.changes=new nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&tu(r.mutation,i,xr.empty(),vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const i=yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=es();const o=eu(),a=function(){return eu()}();return n.forEach((l,f)=>{const u=r.get(f.key);i.has(f.key)&&(u===void 0||u.mutation instanceof Xs)?s=s.insert(f.key,f):u!==void 0?(o.set(f.key,u.mutation.getFieldMask()),tu(u.mutation,f,u.mutation.getFieldMask(),vn.now())):o.set(f.key,xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((f,u)=>o.set(f,u)),n.forEach((f,u)=>{var c;return a.set(f,new Y$(u,(c=o.get(f))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=eu();let i=new qt((o,a)=>o-a),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const f=n.get(l);if(f===null)return;let u=r.get(l)||xr.empty();u=a.applyToLocalView(f,u),r.set(l,u);const c=(i.get(a.batchId)||ut()).add(l);i=i.insert(a.batchId,c)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,u=l.value,c=mk();u.forEach(d=>{if(!s.has(d)){const h=Ek(n.get(d),r.get(d));h!==null&&c.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,c))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Se.resolve(yo());let a=-1,l=s;return o.next(f=>Se.forEach(f,(u,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),s.get(u)?Se.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,l,f,ut())).next(u=>({batchId:a,changes:pk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=Nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nl();return this.indexManager.getCollectionParents(e,s).next(a=>Se.forEach(a,l=>{const f=function(c,d){return new yh(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,f)=>{const u=f.getKey();o.get(u)===null&&(o=o.insert(u,Gn.newInvalidDocument(u)))});let a=Nl();return o.forEach((l,f)=>{const u=s.get(l);u!==void 0&&tu(u.mutation,f,xr.empty(),vn.now()),bh(n,f)&&(a=a.insert(l,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Se.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:H$(i.bundledQuery),readTime:Ii(i.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.overlays=new qt(ze.comparator),this.lr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yo();return Se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=yo(),s=n.length+1,o=new ze(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qt((f,u)=>f-u);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let u=s.get(f.largestBatchId);u===null&&(u=yo(),s=s.insert(f.largestBatchId,u)),u.set(f.getKey(),f)}}const a=yo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,u)=>a.set(f,u)),!(a.size()>=i)););return Se.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new b$(n,r));let s=this.lr.get(n);s===void 0&&(s=ut(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.hr=new Fn(bn.Pr),this.Ir=new Fn(bn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new bn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ze(new Lt([])),r=new bn(n,e),i=new bn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ze(new Lt([])),r=new bn(n,e),i=new bn(n,e+1);let s=ut();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bn(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ze.comparator(e.key,n.key)||vt(e.gr,n.gr)}static Tr(e,n){return vt(e.gr,n.gr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Fn(bn.Pr)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _$(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new bn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(vt);return n.forEach(i=>{const s=new bn(i,0),o=new bn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Se.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ze.isDocumentKey(s)||(s=s.child(""));const o=new bn(new ze(s),0);let a=new Fn(vt);return this.yr.forEachWhile(l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(l.gr)),!0)},o),Se.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Se.forEach(n.mutations,i=>{const s=new bn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new bn(n,0),i=this.yr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.Cr=e,this.docs=function(){return new qt(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=es();const o=n.path,a=new ze(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:u}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||L6(N6(u),r)<=0||(i.has(u.key)||bh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ye()}vr(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new e3(this)}getSize(e){return Se.resolve(this.size)}}class e3 extends K${constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.persistence=e,this.Fr=new nl(n=>Py(n),Cy),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Fy,this.targetCount=0,this.Nr=La.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Se.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new La(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.kn(n),Se.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Se.waitFor(s).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Sy(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new t3(this),this.indexManager=new z$,this.remoteDocumentCache=function(i){return new Z$(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new q$(n),this.Kr=new Q$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new J$(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new r3(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return Se.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class r3 extends F6{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Gr=new Fy,this.zr=null}static jr(e){return new Vy(e)}get Hr(){if(this.zr)return this.zr;throw Ye()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Hr,r=>{const i=ze.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Je.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Se.or([()=>Se.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ut(),i=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return yD()?8:V6(Un())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new i3;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(bl()<=ct.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Se.resolve()):(bl()<=ct.DEBUG&&Fe("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(bl()<=ct.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(n))):Se.resolve())}zi(e,n){if(db(n))return Se.resolve(null);let r=Si(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ng(n,null,"F"),r=Si(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ut(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const f=this.Yi(n,a);return this.Zi(n,f,o,l.readTime)?this.zi(e,Ng(n,null,"F")):this.Xi(e,f,n,l)}))})))}ji(e,n,r,i){return db(n)||i.isEqual(Je.min())?Se.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Se.resolve(null):(bl()<=ct.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.Xi(e,o,n,M6(i,-1)).next(a=>a))})}Yi(e,n){let r=new Fn(dk(e));return n.forEach((i,s)=>{bh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return bl()<=ct.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Gi.getDocumentsMatchingQuery(e,n,Bs.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new qt(vt),this.ns=new nl(s=>Py(s),Cy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G$(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function a3(t,e,n,r){return new o3(t,e,n,r)}async function Mk(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ut();for(const f of i){o.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}for(const f of s){a.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(f=>({_s:f,removedBatchIds:o,addedBatchIds:a}))})})}function l3(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,f,u){const c=f.batch,d=c.keys();let h=Se.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(l,p)).next(m=>{const y=f.docVersions.get(p);Pt(y!==null),m.version.compareTo(y)<0&&(c.applyToRemoteDocument(m,f),m.isValidDocument()&&(m.setReadTime(f.commitVersion),u.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ut();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Nk(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function u3(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,c)=>{const d=i.get(c);if(!d)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,c).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(c)!==null?h=h.withResumeToken(er.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(c,h),function(m,y,v){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,h,u)&&a.push(n.qr.updateTargetData(s,h))});let l=es(),f=ut();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(c3(s,o,e.documentUpdates).next(u=>{l=u.us,f=u.cs})),!r.isEqual(Je.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(c=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,f)).next(()=>l)}).then(s=>(n.ts=i,s))}function c3(t,e,n){let r=ut(),i=ut();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=es();return n.forEach((a,l)=>{const f=s.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)}),{us:o,cs:i}})}function f3(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d3(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,Se.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=tt(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ec(o))throw o;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Tb(t,e,n){const r=tt(t);let i=Je.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,f,u){const c=tt(l),d=c.ns.get(u);return d!==void 0?Se.resolve(c.ts.get(d)):c.qr.getTargetData(f,u)}(r,o,Si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Je.min(),n?s:ut())).next(a=>(h3(r,r$(e),a),{documents:a,ls:s})))}function h3(t,e,n){let r=t.rs.get(e)||Je.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class Ab{constructor(){this.activeTargetIds=u$()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p3{constructor(){this.eo=new Ab,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ab,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function pm(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class y3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){const a=pm(),l=this.Co(n,r.toUriEncodedString());Fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const f={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(f,s,o),this.Fo(n,l,f,i).then(u=>(Fe("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Pa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){const i=g3[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const s=pm();return new Promise((o,a)=>{const l=new T6;l.setWithCredentials(!0),l.listenOnce(b6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dm.NO_ERROR:const u=l.getResponseJson();Fe(Hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case dm.TIMEOUT:Fe(Hn,`RPC '${e}' ${s} timed out`),a(new je(ke.DEADLINE_EXCEEDED,"Request time out"));break;case dm.HTTP_ERROR:const c=l.getStatus();if(Fe(Hn,`RPC '${e}' ${s} failed with status:`,c,"response text:",l.getResponseText()),c>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(v)>=0?v:ke.UNKNOWN}(h.status);a(new je(p,h.message))}else a(new je(ke.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(ke.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Fe(Hn,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Fe(Hn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}xo(e,n,r){const i=pm(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=y6(),a=_6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.xmlHttpFactory=new E6({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Fe(Hn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let d=!1,h=!1;const p=new v3({co:y=>{h?Fe(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(Fe(Hn,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),Fe(Hn,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},lo:()=>c.close()}),m=(y,v,_)=>{y.listen(v,b=>{try{_(b)}catch(g){setTimeout(()=>{throw g},0)}})};return m(c,qc.EventType.OPEN,()=>{h||(Fe(Hn,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),m(c,qc.EventType.CLOSE,()=>{h||(h=!0,Fe(Hn,`RPC '${e}' stream ${i} transport closed`),p.fo())}),m(c,qc.EventType.ERROR,y=>{h||(h=!0,Pa(Hn,`RPC '${e}' stream ${i} transport errored:`,y),p.fo(new je(ke.UNAVAILABLE,"The operation could not be completed")))}),m(c,qc.EventType.MESSAGE,y=>{var v;if(!h){const _=y.data[0];Pt(!!_);const b=_,g=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(g){Fe(Hn,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let x=function(S){const k=an[S];if(k!==void 0)return Ak(k)}(w),I=g.message;x===void 0&&(x=ke.INTERNAL,I="Unknown error status: "+w+" with message "+g.message),h=!0,p.fo(new je(x,I)),c.close()}else Fe(Hn,`RPC '${e}' stream ${i} received:`,_),p.po(_)}}),m(a,w6.STAT_EVENT,y=>{y.stat===nb.PROXY?Fe(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===nb.NOPROXY&&Fe(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return new R$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Lk(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new je(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _3 extends $k{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=C$(this.serializer,e),r=function(s){if(!("targetChange"in s))return Je.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Je.min():o.readTime?Ii(o.readTime):Je.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Vg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Mg(l)?{documents:N$(s,l)}:{query:L$(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Sk(s,o.resumeToken);const f=Lg(s,o.expectedCount);f!==null&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(Je.min())>0){a.readTime=ad(s,o.snapshotVersion.toTimestamp());const f=Lg(s,o.expectedCount);f!==null&&(a.expectedCount=f)}return a}(this.serializer,e);const r=F$(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.r_(n)}}class b3 extends $k{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=M$(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.d_(r,n)}return Pt(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Vg(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>D$(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new je(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,$g(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(ke.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,$g(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(ke.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class E3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Zi(n),this.y_=!1):Fe("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(async()=>{Ko(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const f=tt(l);f.M_.add(4),await rc(f),f.N_.set("Unknown"),f.M_.delete(4),await xh(f)}(this))})}),this.N_=new E3(r,i)}}async function xh(t){if(Ko(t))for(const e of t.x_)await e(!0)}async function rc(t){for(const e of t.x_)await e(!1)}function Fk(t,e){const n=tt(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Hy(n)?qy(n):rl(n).Zo()&&jy(n,e))}function By(t,e){const n=tt(t),r=rl(n);n.F_.delete(e),r.Zo()&&Vk(n,e),n.F_.size===0&&(r.Zo()?r.t_():Ko(n)&&n.N_.set("Unknown"))}function jy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).h_(e)}function Vk(t,e){t.L_.xe(e),rl(t).P_(e)}function qy(t){t.L_=new x$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.N_.w_()}function Hy(t){return Ko(t)&&!rl(t).Yo()&&t.F_.size>0}function Ko(t){return tt(t).M_.size===0}function Uk(t){t.L_=void 0}async function A3(t){t.N_.set("Online")}async function x3(t){t.F_.forEach((e,n)=>{jy(t,e)})}async function k3(t,e){Uk(t),Hy(t)?(t.N_.D_(e),qy(t)):t.N_.set("Unknown")}async function S3(t,e,n){if(t.N_.set("Online"),e instanceof kk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ld(t,r)}else if(e instanceof Ef?t.L_.Ke(e):e instanceof xk?t.L_.He(e):t.L_.We(e),!n.isEqual(Je.min()))try{const r=await Nk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.F_.get(f);u&&s.F_.set(f,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,f)=>{const u=s.F_.get(l);if(!u)return;s.F_.set(l,u.withResumeToken(er.EMPTY_BYTE_STRING,u.snapshotVersion)),Vk(s,l);const c=new Is(u.target,l,f,u.sequenceNumber);jy(s,c)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),await ld(t,r)}}async function ld(t,e,n){if(!ec(e))throw e;t.M_.add(1),await rc(t),t.N_.set("Offline"),n||(n=()=>Nk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await xh(t)})}function Bk(t,e){return e().catch(n=>ld(t,n,e))}async function kh(t){const e=tt(t),n=qs(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;I3(e);)try{const i=await f3(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,R3(e,i)}catch(i){await ld(e,i)}jk(e)&&qk(e)}function I3(t){return Ko(t)&&t.v_.length<10}function R3(t,e){t.v_.push(e);const n=qs(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function jk(t){return Ko(t)&&!qs(t).Yo()&&t.v_.length>0}function qk(t){qs(t).start()}async function O3(t){qs(t).R_()}async function P3(t){const e=qs(t);for(const n of t.v_)e.E_(n.mutations)}async function C3(t,e,n){const r=t.v_.shift(),i=Ny.from(r,e,n);await Bk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kh(t)}async function D3(t,e){e&&qs(t).T_&&await async function(r,i){if(function(o){return E$(o)&&o!==ke.ABORTED}(i.code)){const s=r.v_.shift();qs(r).e_(),await Bk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kh(r)}}(t,e),jk(t)&&qk(t)}async function kb(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Ko(n);n.M_.add(3),await rc(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await xh(n)}async function M3(t,e){const n=tt(t);e?(n.M_.delete(2),await xh(n)):e||(n.M_.add(2),await rc(n),n.N_.set("Unknown"))}function rl(t){return t.B_||(t.B_=function(n,r,i){const s=tt(n);return s.m_(),new _3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:A3.bind(null,t),Io:x3.bind(null,t),Eo:k3.bind(null,t),l_:S3.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),Hy(t)?qy(t):t.N_.set("Unknown")):(await t.B_.stop(),Uk(t))})),t.B_}function qs(t){return t.k_||(t.k_=function(n,r,i){const s=tt(n);return s.m_(),new b3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:O3.bind(null,t),Eo:D3.bind(null,t),A_:P3.bind(null,t),d_:C3.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await kh(t)):(await t.k_.stop(),t.v_.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),ec(t))return new je(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=Nl(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Aa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.q_=new qt(ze.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ye():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $a{constructor(e,n,r,i,s,o,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $a(e,n,Aa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class L3{constructor(){this.queries=new nl(e=>fk(e),_h),this.onlineState="Unknown",this.z_=new Set}}async function Hk(t,e){const n=tt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new N3,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Wy(o,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Ky(n)}async function zk(t,e){const n=tt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $3(t,e){const n=tt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Ky(n)}function F3(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Ky(t){t.z_.forEach(e=>{e.next()})}var Bg,Ib;(Ib=Bg||(Bg={})).J_="default",Ib.Cache="cache";class Wk{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.key=e}}class Yk{constructor(e){this.key=e}}class V3{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ut(),this.mutatedKeys=ut(),this.Ia=dk(e),this.Ta=new Aa(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Sb,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,c)=>{const d=i.get(u),h=bh(this.query,c)?c:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.Ra(d,h)||(r.track({type:2,doc:h}),y=!0,(l&&this.Ia(h,l)>0||f&&this.Ia(h,f)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(l||f)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((u,c)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return m(h)-m(p)}(u.type,c.type)||this.Ia(u.doc,c.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,f=l!==this.ha;return this.ha=l,o.length!==0||f?{snapshot:new $a(this.query,e.Ta,s,o,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Sb,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ut(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Yk(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Kk(r))}),n}pa(e){this.la=e.ls,this.Pa=ut();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return $a.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class U3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B3{constructor(e){this.key=e,this.wa=!1}}class j3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new nl(a=>fk(a),_h),this.Da=new Map,this.Ca=new Set,this.va=new qt(ze.comparator),this.Fa=new Map,this.Ma=new Fy,this.xa={},this.Oa=new Map,this.Na=La.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function q3(t,e,n=!0){const r=eS(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Gk(r,e,n,!0),i}async function H3(t,e){const n=eS(t);await Gk(n,e,!0,!1)}async function Gk(t,e,n,r){const i=await d3(t.localStore,Si(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await z3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Fk(t.remoteStore,i),a}async function z3(t,e,n,r,i){t.Ba=(c,d,h)=>async function(m,y,v,_){let b=y.view.da(v);b.Zi&&(b=await Tb(m.localStore,y.query,!1).then(({documents:I})=>y.view.da(I,b)));const g=_&&_.targetChanges.get(y.targetId),w=_&&_.targetMismatches.get(y.targetId)!=null,x=y.view.applyChanges(b,m.isPrimaryClient,g,w);return Ob(m,y.targetId,x.fa),x.snapshot}(t,c,d,h);const s=await Tb(t.localStore,e,!0),o=new V3(e,s.ls),a=o.da(s.documents),l=nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(a,t.isPrimaryClient,l);Ob(t,n,f.fa);const u=new U3(e,n,o);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function W3(t,e,n){const r=tt(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!_h(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ug(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&By(r.remoteStore,i.targetId),jg(r,i.targetId)}).catch(Zu)):(jg(r,i.targetId),await Ug(r.localStore,i.targetId,!0))}async function K3(t,e){const n=tt(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),By(n.remoteStore,r.targetId))}async function Y3(t,e,n){const r=tF(t);try{const i=await function(o,a){const l=tt(o),f=vn.now(),u=a.reduce((h,p)=>h.add(p.key),ut());let c,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=es(),m=ut();return l.ss.getEntries(h,u).next(y=>{p=y,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(y=>{c=y;const v=[];for(const _ of a){const b=v$(_,c.get(_.key).overlayedDocument);b!=null&&v.push(new Xs(_.key,b,ik(b.value.mapValue),Qr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,f,v,a)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(c,m);return l.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:pk(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let f=o.xa[o.currentUser.toKey()];f||(f=new qt(vt)),f=f.insert(a,l),o.xa[o.currentUser.toKey()]=f}(r,i.batchId,n),await ic(r,i.changes),await kh(r.remoteStore)}catch(i){const s=Wy(i,"Failed to persist write");n.reject(s)}}async function Qk(t,e){const n=tt(t);try{const r=await u3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Pt(o.wa):i.removedDocuments.size>0&&(Pt(o.wa),o.wa=!1))}),await ic(n,r,e)}catch(r){await Zu(r)}}function Rb(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=tt(o);l.onlineState=a;let f=!1;l.queries.forEach((u,c)=>{for(const d of c.U_)d.j_(a)&&(f=!0)}),f&&Ky(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G3(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new qt(ze.comparator);o=o.insert(s,Gn.newNoDocument(s,Je.min()));const a=ut().add(s),l=new Th(Je.min(),new Map,new qt(vt),o,a);await Qk(r,l),r.va=r.va.remove(s),r.Fa.delete(e),Yy(r)}else await Ug(r.localStore,e,!1).then(()=>jg(r,e,n)).catch(Zu)}async function Q3(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await l3(n.localStore,e);Jk(n,r,null),Xk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,i)}catch(i){await Zu(i)}}async function X3(t,e,n){const r=tt(t);try{const i=await function(o,a){const l=tt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let u;return l.mutationQueue.lookupMutationBatch(f,a).next(c=>(Pt(c!==null),u=c.keys(),l.mutationQueue.removeMutationBatch(f,c))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,u)).next(()=>l.localDocuments.getDocuments(f,u))})}(r.localStore,e);Jk(r,e,n),Xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ic(r,i)}catch(i){await Zu(i)}}function Xk(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Jk(t,e,n){const r=tt(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||Zk(t,r)})}function Zk(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(By(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Yy(t))}function Ob(t,e,n){for(const r of n)r instanceof Kk?(t.Ma.addReference(r.key,e),J3(t,r)):r instanceof Yk?(Fe("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Zk(t,r.key)):Ye()}function J3(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Fe("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Yy(t))}function Yy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ze(Lt.fromString(e)),r=t.Na.next();t.Fa.set(r,new B3(n)),t.va=t.va.insert(n,r),Fk(t.remoteStore,new Is(Si(Dy(n.path)),r,"TargetPurposeLimboResolution",Sy.oe))}}async function ic(t,e,n){const r=tt(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const u=Uy.Qi(l.targetId,f);s.push(u)}}))}),await Promise.all(o),r.Sa.l_(i),await async function(l,f){const u=tt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(f,d=>Se.forEach(d.ki,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>Se.forEach(d.qi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!ec(c))throw c;Fe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of f){const d=c.targetId;if(!c.fromCache){const h=u.ts.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(d,m)}}}(r.localStore,s))}async function Z3(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=await Mk(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new je(ke.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(n,r._s)}}function eF(t,e){const n=tt(t),r=n.Fa.get(e);if(r&&r.wa)return ut().add(r.key);{let i=ut();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function eS(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G3.bind(null,e),e.Sa.l_=$3.bind(null,e.eventManager),e.Sa.ka=F3.bind(null,e.eventManager),e}function tF(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X3.bind(null,e),e}class Pb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return a3(this.persistence,new s3,e.initialUser,this.serializer)}createPersistence(e){return new n3(Vy.jr,this.serializer)}createSharedClientState(e){return new p3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z3.bind(null,this.syncEngine),await M3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L3}()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),r=function(s){return new y3(s)}(e.databaseInfo);return function(s,o,a,l){return new w3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new T3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Rb(this.syncEngine,n,0),function(){return xb.D()?new xb:new m3}())}createSyncEngine(e,n){return function(i,s,o,a,l,f,u){const c=new j3(i,s,o,a,l,f);return u&&(c.La=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=tt(r);Fe("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await rc(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=tk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Fe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Fe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gm(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Mk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sF(t);Fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kb(e.remoteStore,i)),t._onlineComponents=e}function iF(t){return t.name==="FirebaseError"?t.code===ke.FAILED_PRECONDITION||t.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!iF(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await gm(t,new Pb)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),await gm(t,new Pb);return t._offlineComponents}async function nS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),await Cb(t,t._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),await Cb(t,new nF))),t._onlineComponents}function oF(t){return nS(t).then(e=>e.syncEngine)}async function rS(t){const e=await nS(t),n=e.eventManager;return n.onListen=q3.bind(null,e.syncEngine),n.onUnlisten=W3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K3.bind(null,e.syncEngine),n}function aF(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,f){const u=new tS({next:d=>{o.enqueueAndForget(()=>zk(s,c));const h=d.docs.has(a);!h&&d.fromCache?f.reject(new je(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?f.reject(new je(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(d)},error:d=>f.reject(d)}),c=new Wk(Dy(a.path),u,{includeMetadataChanges:!0,ra:!0});return Hk(s,c)}(await rS(t),t.asyncQueue,e,n,r)),r.promise}function lF(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,f){const u=new tS({next:d=>{o.enqueueAndForget(()=>zk(s,c)),d.fromCache&&l.source==="server"?f.reject(new je(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(d)},error:d=>f.reject(d)}),c=new Wk(a,u,{includeMetadataChanges:!0,ra:!0});return Hk(s,c)}(await rS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e,n){if(!n)throw new je(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uF(t,e,n,r){if(e===!0&&r===!0)throw new je(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mb(t){if(!ze.isDocumentKey(t))throw new je(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nb(t){if(ze.isDocumentKey(t))throw new je(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye()}function ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gy(t);throw new je(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new je(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new je(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x6;switch(r.type){case"firstParty":return new R6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Db.get(n);r&&(Fe("ComponentProvider","Removing Datastore"),Db.delete(n),r.terminate())}(this),Promise.resolve()}}function cF(t,e,n,r={}){var i;const s=(t=ts(t,Sh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Kn.MOCK_USER;else{a=BT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new je(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kn(f)}t._authCredentials=new k6(new ek(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ih(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class Ns extends Ih{constructor(e,n,r){super(e,n,Dy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new ze(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function sc(t,e,...n){if(t=Nt(t),sS("collection","path",e),t instanceof Sh){const r=Lt.fromString(e,...n);return Nb(r),new Ns(t,null,r)}{if(!(t instanceof Rr||t instanceof Ns))throw new je(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return Nb(r),new Ns(t.firestore,null,r)}}function sr(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=tk.newId()),sS("doc","path",e),t instanceof Sh){const r=Lt.fromString(e,...n);return Mb(r),new Rr(t,null,new ze(r))}{if(!(t instanceof Rr||t instanceof Ns))throw new je(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return Mb(r),new Rr(t.firestore,t instanceof Ns?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Lk(this,"async_queue_retry"),this.hu=()=>{const n=mm();n&&Fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Gi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!ec(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=zy.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Ye()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class il extends Sh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new fF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oS(this),this._firestoreClient.terminate()}}function dF(t,e){const n=typeof t=="object"?t:Wd(),r=typeof t=="string"?t:"(default)",i=Ks(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FT("firestore");s&&cF(i,...s)}return i}function Qy(t){return t._firestoreClient||oS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oS(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,f,u){return new j6(a,l,f,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(er.fromBase64String(e))}catch(n){throw new je(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fa(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=/^__.*__$/;class pF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class aS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class Ph{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ph(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ud(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(lS(this.fu)&&hF.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class mF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}Fu(e,n,r,i=!1){return new Ph({fu:e,methodName:n,vu:r,path:Ln.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uS(t){const e=t._freezeSettings(),n=Ah(t._databaseId);return new mF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gF(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Zy("Data must be an object, but it was:",o,r);const a=cS(r,o);let l,f;if(s.merge)l=new xr(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const c of s.mergeFields){const d=qg(e,c,n);if(!o.contains(d))throw new je(ke.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);dS(u,d)||u.push(d)}l=new xr(u),f=o.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,f=o.fieldTransforms;return new pF(new pr(a),l,f)}class Ch extends Oh{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function vF(t,e,n){return new Ph({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jy extends Oh{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=vF(this,e,!0),r=this.Mu.map(s=>oc(s,n)),i=new Na(r);return new h$(e.path,i)}isEqual(e){return e instanceof Jy&&Ia(this.Mu,e.Mu)}}function yF(t,e,n,r){const i=t.Fu(1,e,n);Zy("Data must be an object, but it was:",i,r);const s=[],o=pr.empty();Wo(r,(l,f)=>{const u=e0(e,l,n);f=Nt(f);const c=i.Su(u);if(f instanceof Ch)s.push(u);else{const d=oc(f,c);d!=null&&(s.push(u),o.set(u,d))}});const a=new xr(s);return new aS(o,a,i.fieldTransforms)}function _F(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[qg(e,r,n)],l=[i];if(s.length%2!=0)throw new je(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(qg(e,s[d])),l.push(s[d+1]);const f=[],u=pr.empty();for(let d=a.length-1;d>=0;--d)if(!dS(f,a[d])){const h=a[d];let p=l[d];p=Nt(p);const m=o.Su(h);if(p instanceof Ch)f.push(h);else{const y=oc(p,m);y!=null&&(f.push(h),u.set(h,y))}}const c=new xr(f);return new aS(u,c,o.fieldTransforms)}function oc(t,e){if(fS(t=Nt(t)))return Zy("Unsupported field value:",e,t),cS(t,e);if(t instanceof Oh)return function(r,i){if(!lS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=oc(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vn.fromDate(r);return{timestampValue:ad(i.serializer,s)}}if(r instanceof vn){const s=new vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ad(i.serializer,s)}}if(r instanceof Xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fa)return{bytesValue:Sk(i.serializer,r._byteString)};if(r instanceof Rr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$y(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Gy(r)}`)}(t,e)}function cS(t,e){const n={};return nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(r,i)=>{const s=oc(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vn||t instanceof Xy||t instanceof Fa||t instanceof Rr||t instanceof Oh)}function Zy(t,e,n){if(!fS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gy(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function qg(t,e,n){if((e=Nt(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return e0(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const bF=new RegExp("[~\\*/\\[\\]]");function e0(t,e,n){if(e.search(bF)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rh(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new je(ke.INVALID_ARGUMENT,a+t+l)}function dS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wF extends hS{data(){return super.data()}}function pS(t,e){return typeof e=="string"?e0(t,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TF{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Xy(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=js(e);return new vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Pt(Dk(r));const i=new Iu(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return i.isEqual(n)||Zi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mS extends hS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tf extends mS{data(e={}){return super.data(e)}}class xF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tf(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Tf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Tf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,u=-1;return a.type!==0&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:kF(a.type),doc:l,oldIndex:f,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){t=ts(t,Rr);const e=ts(t.firestore,il);return aF(Qy(e),t._key).then(n=>RF(e,t,n))}class gS extends TF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function Dh(t){t=ts(t,Ih);const e=ts(t.firestore,il),n=Qy(e),r=new gS(e);return EF(t._query),lF(n,t._query).then(i=>new xF(e,r,t,i))}function zi(t,e,n,...r){t=ts(t,Rr);const i=ts(t.firestore,il),s=uS(i);let o;return o=typeof(e=Nt(e))=="string"||e instanceof Rh?_F(s,"updateDoc",t._key,e,n,r):yF(s,"updateDoc",t._key,e),t0(i,[o.toMutation(t._key,Qr.exists(!0))])}function SF(t){return t0(ts(t.firestore,il),[new My(t._key,Qr.none())])}function IF(t,e){const n=ts(t.firestore,il),r=sr(t),i=AF(t.converter,e);return t0(n,[gF(uS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qr.exists(!1))]).then(()=>r)}function t0(t,e){return function(r,i){const s=new Gi;return r.asyncQueue.enqueueAndForget(async()=>Y3(await oF(r),i,s)),s.promise}(Qy(t),e)}function RF(t,e,n){const r=n.docs.get(e._key),i=new gS(t);return new mS(t,i,e._key,r,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function OF(...t){return new Jy("arrayUnion",t)}(function(e,n=!0){(function(i){tl=i})(qo),ti(new $r("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new il(new S6(r.getProvider("auth-internal")),new P6(r.getProvider("app-check-internal")),function(f,u){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new je(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(f.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vr(rb,"4.6.1",e),vr(rb,"4.6.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebasestorage.googleapis.com",yS="storageBucket",PF=2*60*1e3,CF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Ur{constructor(e,n,r=0){super(vm(e),`Firebase Storage: ${n} (${vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yt||(Yt={}));function vm(t){return"storage/"+t}function n0(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Yt.UNKNOWN,t)}function DF(t){return new Qt(Yt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function MF(t){return new Qt(Yt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Yt.UNAUTHENTICATED,t)}function LF(){return new Qt(Yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $F(t){return new Qt(Yt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function FF(){return new Qt(Yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VF(){return new Qt(Yt.CANCELED,"User canceled the upload/download.")}function UF(t){return new Qt(Yt.INVALID_URL,"Invalid URL '"+t+"'.")}function BF(t){return new Qt(Yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jF(){return new Qt(Yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yS+"' property when initializing the app?")}function qF(){return new Qt(Yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HF(){return new Qt(Yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zF(t){return new Qt(Yt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hg(t){return new Qt(Yt.INVALID_ARGUMENT,t)}function _S(){return new Qt(Yt.APP_DELETED,"The Firebase app was deleted.")}function WF(t){return new Qt(Yt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(t,e){return new Qt(Yt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wl(t){throw new Qt(Yt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=kr.makeFromUrl(e,n)}catch{return new kr(e,"")}if(r.path==="")return r;throw BF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function f(g){g.path_=decodeURIComponent(g.path)}const u="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${c}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===vS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:f},{regex:v,indices:{bucket:1,path:2},postModify:f}];for(let g=0;g<b.length;g++){const w=b[g],x=w.regex.exec(e);if(x){const I=x[w.indices.bucket];let E=x[w.indices.path];E||(E=""),r=new kr(I,E),w.postModify(r);break}}if(r==null)throw UF(e);return r}}class KF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let f=!1;function u(...y){f||(f=!0,e.apply(null,y))}function c(y){i=setTimeout(()=>{i=null,t(h,l())},y)}function d(){s&&clearTimeout(s)}function h(y,...v){if(f){d();return}if(y){d(),u.call(null,y,...v);return}if(l()||o){d(),u.call(null,y,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,c(b)}let p=!1;function m(y){p||(p=!0,d(),!f&&(i!==null?(y||(a=2),clearTimeout(i),c(0)):y||(a=1)))}return c(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function GF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){return t!==void 0}function XF(t){return typeof t=="object"&&!Array.isArray(t)}function r0(t){return typeof t=="string"||t instanceof String}function $b(t){return i0()&&t instanceof Blob}function i0(){return typeof Blob<"u"}function Fb(t,e,n,r){if(r<e)throw Hg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xo||(xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n,r,i,s,o,a,l,f,u,c,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=f,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Kc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,f=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===xo.NO_ERROR,l=s.getStatus();if(!a||JF(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===xo.ABORT;r(!1,new Kc(!1,null,u));return}const f=this.successCodes_.indexOf(l)!==-1;r(!0,new Kc(f,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());QF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=n0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?_S():VF();o(l)}else{const l=FF();o(l)}};this.canceled_?n(!1,new Kc(!1,null,!0)):this.backoffId_=YF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function eV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function iV(t,e,n,r,i,s,o=!0){const a=bS(t.urlParams),l=t.url+a,f=Object.assign({},t.headers);return nV(f,e),eV(f,n),tV(f,s),rV(f,r),new ZF(l,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oV(...t){const e=sV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(i0())return new Blob(t);throw new Qt(Yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){if(typeof atob>"u")throw zF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ym{constructor(e,n){this.data=e,this.contentType=n||null}}function uV(t,e){switch(t){case Ei.RAW:return new ym(wS(e));case Ei.BASE64:case Ei.BASE64URL:return new ym(ES(t,e));case Ei.DATA_URL:return new ym(fV(e),dV(e))}throw n0()}function wS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cV(t){let e;try{e=decodeURIComponent(t)}catch{throw nu(Ei.DATA_URL,"Malformed data URL.")}return wS(e)}function ES(t,e){switch(t){case Ei.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw nu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw nu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lV(e)}catch(i){throw i.message.includes("polyfill")?i:nu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class TS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nu(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function fV(t){const e=new TS(t);return e.base64?ES(Ei.BASE64,e.rest):cV(e.rest)}function dV(t){return new TS(t).contentType}function hV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){let r=0,i="";$b(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($b(this.data_)){const r=this.data_,i=aV(r,e,n);return i===null?null:new Ss(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ss(r,!0)}}static getBlob(...e){if(i0()){const n=e.map(r=>r instanceof Ss?r.data_:r);return new Ss(oV.apply(null,n))}else{const n=e.map(o=>r0(o)?uV(Ei.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ss(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){let e;try{e=JSON.parse(t)}catch{return null}return XF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e){return e}class nr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||gV}}let Yc=null;function vV(t){return!r0(t)||t.length<2?t:xS(t)}function kS(){if(Yc)return Yc;const t=[];t.push(new nr("bucket")),t.push(new nr("generation")),t.push(new nr("metageneration")),t.push(new nr("name","fullPath",!0));function e(s,o){return vV(o)}const n=new nr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new nr("size");return i.xform=r,t.push(i),t.push(new nr("timeCreated")),t.push(new nr("updated")),t.push(new nr("md5Hash",null,!0)),t.push(new nr("cacheControl",null,!0)),t.push(new nr("contentDisposition",null,!0)),t.push(new nr("contentEncoding",null,!0)),t.push(new nr("contentLanguage",null,!0)),t.push(new nr("contentType",null,!0)),t.push(new nr("metadata","customMetadata",!0)),Yc=t,Yc}function yV(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new kr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function _V(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return yV(r,t),r}function SS(t,e,n){const r=AS(e);return r===null?null:_V(t,r,n)}function bV(t,e,n,r){const i=AS(e);if(i===null||!r0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(f=>{const u=t.bucket,c=t.fullPath,d="/b/"+o(u)+"/o/"+o(c),h=Mh(d,n,r),p=bS({alt:"media",token:f});return h+p})[0]}function wV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class s0{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){if(!t)throw n0()}function EV(t,e){function n(r,i){const s=SS(t,i,e);return IS(s!==null),s}return n}function TV(t,e){function n(r,i){const s=SS(t,i,e);return IS(s!==null),bV(s,i,t.host,t._protocol)}return n}function RS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=LF():i=NF():n.getStatus()===402?i=MF(t.bucket):n.getStatus()===403?i=$F(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function OS(t){const e=RS(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=DF(t.path)),s.serverResponse=i.serverResponse,s}return n}function AV(t,e,n){const r=e.fullServerUrl(),i=Mh(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new s0(i,s,TV(t,n),o);return a.errorHandler=OS(e),a}function xV(t,e){const n=e.fullServerUrl(),r=Mh(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,f){}const a=new s0(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=OS(e),a}function kV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=kV(null,e)),r}function IV(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const f=SV(e,r,i),u=wV(f,n),c="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+f.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=Ss.getBlob(c,r,d);if(h===null)throw qF();const p={name:f.fullPath},m=Mh(s,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,_=new s0(m,y,EV(t,n),v);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=RS(e),_}class RV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OV extends RV{initXhr(){this.xhr_.responseType="text"}}function o0(){return new OV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this._service=e,n instanceof kr?this._location=n:this._location=kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $o(e,n)}get root(){const e=new kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xS(this._location.path)}get storage(){return this._service}get parent(){const e=pV(this._location.path);if(e===null)return null;const n=new kr(this._location.bucket,e);return new $o(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WF(e)}}function PV(t,e,n){t._throwIfRoot("uploadBytes");const r=IV(t.storage,t._location,kS(),new Ss(e,!0),n);return t.storage.makeRequestWithTokens(r,o0).then(i=>({metadata:i,ref:t}))}function CV(t){t._throwIfRoot("getDownloadURL");const e=AV(t.storage,t._location,kS());return t.storage.makeRequestWithTokens(e,o0).then(n=>{if(n===null)throw HF();return n})}function DV(t){t._throwIfRoot("deleteObject");const e=xV(t.storage,t._location);return t.storage.makeRequestWithTokens(e,o0)}function MV(t,e){const n=mV(t._location.path,e),r=new kr(t._location.bucket,n);return new $o(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){return/^[A-Za-z]+:\/\//.test(t)}function LV(t,e){return new $o(t,e)}function PS(t,e){if(t instanceof a0){const n=t;if(n._bucket==null)throw jF();const r=new $o(n,n._bucket);return e!=null?PS(r,e):r}else return e!==void 0?MV(t,e):t}function $V(t,e){if(e&&NV(e)){if(t instanceof a0)return LV(t,e);throw Hg("To use ref(service, url), the first argument must be a Storage instance.")}else return PS(t,e)}function Vb(t,e){const n=e==null?void 0:e[yS];return n==null?null:kr.makeFromBucketSpec(n,t)}function FV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:BT(i,t.app.options.projectId))}class a0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=vS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PF,this._maxUploadRetryTime=CF,this._requests=new Set,i!=null?this._bucket=kr.makeFromBucketSpec(i,this._host):this._bucket=Vb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kr.makeFromBucketSpec(this._url,e):this._bucket=Vb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $o(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new KF(_S());{const o=iV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ub="@firebase/storage",Bb="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="storage";function VV(t,e,n){return t=Nt(t),PV(t,e,n)}function UV(t){return t=Nt(t),CV(t)}function BV(t){return t=Nt(t),DV(t)}function DS(t,e){return t=Nt(t),$V(t,e)}function jV(t=Wd(),e){t=Nt(t);const r=Ks(t,CS).getImmediate({identifier:e}),i=FT("storage");return i&&qV(r,...i),r}function qV(t,e,n,r={}){FV(t,e,n,r)}function HV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new a0(n,r,i,e,qo)}function zV(){ti(new $r(CS,HV,"PUBLIC").setMultipleInstances(!0)),vr(Ub,Bb,""),vr(Ub,Bb,"esm2017")}zV();const WV={apiKey:"AIzaSyDvdTUs36DFXUIZ3S7EGZJlSeeDxXg1mGY",authDomain:"tiryaki-hukuk-admin-pane-9a3f2.firebaseapp.com",projectId:"tiryaki-hukuk-admin-pane-9a3f2",storageBucket:"tiryaki-hukuk-admin-pane-9a3f2.appspot.com",messagingSenderId:"432646173233",appId:"1:432646173233:web:1c8a7ad94bacb703781b10",measurementId:"G-0LMBJQ2524"},Nh=YT(WV);J4(Nh);const ho=mL(Nh),mr=dF(Nh),MS=jV(Nh);BA(ho,ny).then(()=>{console.log("Firebase Auth persistence set to local.")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const Fl=sD({state:{isAuthenticated:!1,user:null,role:null,errorMessage:null,notifications:[]},mutations:{login(t,{user:e,role:n}){t.isAuthenticated=!0,t.user=e,t.role=n},logout(t){t.isAuthenticated=!1,t.user=null,t.role=null,t.errorMessage=null},setError(t,e){t.errorMessage=e},setUser(t,e){t.user=e,t.isAuthenticated=!!e},setRole(t,e){t.role=e},setNotifications(t,e){t.notifications=e,console.log("state notifs",t.notifications)}},actions:{async login({commit:t},{username:e,password:n}){try{await BA(ho,ny);const i=(await t5(ho,e,n)).user,s=await Lo(sr(mr,"attorneys",i.uid));let o=null;if(s.exists()&&(o=s.data().role||"none"),o)t("login",{user:{email:i.email,uid:i.uid},role:o}),console.log("Login successful"),console.log("User role:",o);else throw await D1(ho),console.error("User not authorized"),new Error("User not authorized")}catch(r){throw console.error("Login failed",r),t("setError",r.message),new Error("Invalid credentials or unauthorized access")}},async logout({commit:t}){try{await D1(ho),t("logout"),console.log("Logout successful")}catch(e){throw console.error("Logout failed",e),new Error("Logout failed")}},async initializeAuth({commit:t}){return new Promise(e=>{i5(ho,async n=>{if(n){t("setUser",{email:n.email,uid:n.uid});const r=await Lo(sr(mr,"attorneys",n.uid));let i=null;r.exists()&&(i=r.data().role||"none"),t("setRole",i)}else t("setUser",null),t("setRole",null);e(n)})})},async fetchNotifications({commit:t}){console.log("fetchnotifs");const e=[],n=sc(mr,"notifications");(await Dh(n)).forEach(i=>{e.push(i.data())}),e.sort((i,s)=>s.date_tmsp-i.date_tmsp),t("setNotifications",e)}},getters:{isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,userRole:t=>t.role,errorMessage:t=>t.errorMessage,notifications:t=>t.notifications}}),KV={class:"flex items-center justify-center"},YV=O("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[O("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),O("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),ac={__name:"Loading",props:{text:String},setup(t){const e=t;return(n,r)=>(ne(),ae("div",KV,[YV,ot(" "+we(e.text),1)]))}},GV={class:"bg-gray-800"},QV={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},XV=O("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[O("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),ot(" Tiryaki Hukuk Admin Panel ")],-1),JV={class:"w-full bg-gray-700 rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},ZV={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},e8=O("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Email",-1),t8=O("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Şifre",-1),n8=["disabled"],r8={key:1},i8={key:0,class:"text-red-500 text-sm mt-2"},s8={__name:"LoginPage",setup(t){const e=Vr(),n=TT(),r=he(""),i=he(""),s=he(!1),o=he(""),a=async()=>{s.value=!0,o.value="";try{const l={username:r.value,password:i.value};await e.dispatch("login",l);const f=e.getters.userRole,u=e.getters.user?e.getters.user.uid:null;if(console.log(f),f==="attorney"&&u)n.push(`/online-meetings/${u}`);else if(f==="admin")n.push("/online-meetings");else throw new Error("Invalid user role")}catch{o.value="Hesap isim veya şifre yanlış. Lütfen tekrar deneyin."}finally{s.value=!1}};return(l,f)=>(ne(),ae("section",GV,[O("div",QV,[XV,O("div",JV,[O("div",ZV,[O("form",{onSubmit:Lr(a,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[O("div",null,[e8,wt(O("input",{"onUpdate:modelValue":f[0]||(f[0]=u=>r.value=u),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[Gr,r.value]])]),O("div",null,[t8,wt(O("input",{"onUpdate:modelValue":f[1]||(f[1]=u=>i.value=u),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[Gr,i.value]])]),O("button",{id:"signin",disabled:s.value,class:"w-full inline-block text-white bg-gray-600 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},[s.value?(ne(),Ue(ac,{key:0,text:"Giriş Yapılıyor..."})):(ne(),ae("span",r8,"Giriş Yap"))],8,n8),o.value?(ne(),ae("div",i8,we(o.value),1)):me("",!0)],32)])])])]))}},o8={class:"h-screen min-w-[16rem] bg-gray-800 p-4 z-50 sidebar-menu ease-in-out delay-150 duration-300 transition-transform"},a8=O("a",{href:"#",class:"flex items-center pb-4 border-b border-b-gray-800"},[O("img",{src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"",class:"w-8 h-8 rounded object-cover"}),O("span",{class:"text-lg font-bold text-white ml-3"},"Admin Panel")],-1),l8={class:"mt-4"},u8={class:"text-lg"},c8=O("i",{class:"mr-3 text-lg ri-logout-box-line"},null,-1),f8=O("span",{class:"text-lg"},"Çıkış",-1),d8=[c8,f8],h8={__name:"Sidebar",emits:["titleChange"],setup(t,{emit:e}){const n=Vr(),r=TT(),i=ge(()=>n.getters.userRole),s=ge(()=>n.getters.user?n.getters.user.uid:null),o=()=>{n.dispatch("logout"),r.push("/")},a=e;function l(d){a("titleChange",d)}const f=[{title:"Online Görüşmeler",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Blog Yönetimi",icon:"ri-article-line",link:"/blogs"},{title:"Bildirimler",icon:"ri-message-line",link:"/notifications"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],u=[{title:"Online Görüşmelerim",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Randevu Ayarlarım",icon:"ri-calendar-schedule-line",link:"/appointment-settings"}],c=ge(()=>i.value==="admin"?f:i.value==="attorney"?u.map(d=>({...d,link:`${d.link}/${s.value}`})):[]);return(d,h)=>{const p=Md("router-link");return ne(),ae("div",o8,[a8,O("ul",l8,[(ne(!0),ae(Ie,null,Ge(c.value,m=>(ne(),ae("li",{key:m.title,class:"mb-1 group"},[Ce(p,{to:m.link,onClick:y=>l(m.title),class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},{default:He(()=>[O("i",{class:Ke([m.icon,"mr-3 text-lg"])},null,2),O("span",u8,we(m.title),1)]),_:2},1032,["to","onClick"])]))),128)),O("li",null,[O("div",{onClick:o,class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},d8)])])])}}},Di=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},p8=t=>(Cd("data-v-a56662ca"),t=t(),Dd(),t),m8={class:"relative"},g8=p8(()=>O("i",{class:"ri-notification-4-fill ri-2x"},null,-1)),v8=[g8],y8={class:"absolute right-0 mt-2 w-64 border border-gray-300 shadow-xl bg-white rounded-md z-50"},_8={class:"max-h-64 overflow-auto"},b8={class:"text-sm font-medium text-gray-800"},w8={class:"text-xs text-gray-600"},E8={__name:"NotificationDropdown",setup(t){const e=Vr(),n=ge(()=>e.getters.notifications),r=a=>{switch(a){case"newUser":return"Yeni müşteri!";case"newAppointmentRequest":return"Randevu isteği!";case"appointmentAccepted":return"Ayarlanan randevu!";case"newContactForm":return"Yeni iletişim formu!";default:return"Unknown"}},i=a=>{switch(a.type){case"newUser":return`Yeni bir kullanıcı ${a.email} mail adresi ile kayıt oldu. Kontrol et! `;case"newAppointmentRequest":return`Avukat ${a.attorney_name} için yeni bir randevu talebi geldi. Kontrol et!`;case"appointmentAccepted":return`Danışan ${a.customer_name} için olan randevu talebi kabul edildi. Kontrol et!`;case"newContactForm":return"Yeni bir iletişim formu dolduruldu. Kontrol et!";default:return"Unknown"}},s=he(!1);function o(){s.value=!s.value}return pt(()=>{console.log("notifications",n.value)}),(a,l)=>{const f=Md("router-link");return ne(),ae("div",m8,[O("button",{onClick:o,class:"flex items-center justify-center w-8 h-8 rounded hover:bg-gray-50"},v8),wt(O("div",y8,[O("ul",_8,[(ne(!0),ae(Ie,null,Ge(n.value,u=>(ne(),ae("li",{key:u.id,class:"border-b last:border-b-0"},[Ce(f,{to:"/notifications"},{default:He(()=>[O("button",{onClick:l[0]||(l[0]=c=>s.value=!1),class:"block text-left hover:bg-gray-300 p-4"},[O("p",b8,we(r(u.type)),1),O("p",w8,we(i(u)),1)])]),_:2},1024)]))),128))])],512),[[Wl,s.value]])])}}},T8=Di(E8,[["__scopeId","data-v-a56662ca"]]),A8=t=>(Cd("data-v-f40bd199"),t=t(),Dd(),t),x8={class:"py-2 px-6 bg-white flex items-center shadow-md sticky top-0 left-0 z-40 justify-between"},k8={class:"flex items-center"},S8=A8(()=>O("i",{class:"ri-menu-line"},null,-1)),I8=[S8],R8={class:"flex items-center text-sm ml-4"},O8={class:"mr-2"},P8={href:"#",class:"text-gray-500 hover:text-gray-800 font-medium"},C8={class:"flex items-center"},D8={__name:"Navbar",props:{currentTab:String},setup(t){return(e,n)=>(ne(),ae("div",x8,[O("div",k8,[O("button",{onClick:n[0]||(n[0]=r=>e.$emit("toggleSidebar")),class:"text-lg text-gray-600 sidebar-toggle"},I8),O("ul",R8,[O("li",O8,[O("a",P8,we(t.currentTab),1)])])]),O("div",C8,[Ce(T8)])]))}},M8=Di(D8,[["__scopeId","data-v-f40bd199"]]),N8={},L8={class:"p-6"};function $8(t,e){return ne(),ae("section",L8,[Ne(t.$slots,"default")])}const F8=Di(N8,[["render",$8]]),V8={class:"flex flex-grow"},U8={class:"w-full h-screen overflow-y-scroll"},B8={__name:"MainPage",setup(t){const e=Vr(),n=he(!0);he(!1);const r=he(localStorage.getItem("currentTab")||"");function i(o){r.value=o,localStorage.setItem("currentTab",o)}function s(){n.value=!n.value}return pt(async()=>{r.value=localStorage.getItem("currentTab")||"",await e.dispatch("fetchNotifications")}),(o,a)=>{const l=Md("RouterView");return ne(),ae("div",V8,[n.value?(ne(),Ue(h8,{key:0,onToggleSidebar:s,onTitleChange:i,class:"hidden lg:block"})):me("",!0),O("main",U8,[Ce(M8,{onToggleSidebar:s,"current-tab":r.value},null,8,["current-tab"]),Ce(F8,null,{default:He(()=>[Ce(Zr,{name:"fade"},{default:He(()=>[Ce(l)]),_:1})]),_:1})])])}}},j8=Di(B8,[["__scopeId","data-v-15a98659"]]);var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function q8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var u0={exports:{}},it=String,NS=function(){return{isColorSupported:!1,reset:it,bold:it,dim:it,italic:it,underline:it,inverse:it,hidden:it,strikethrough:it,black:it,red:it,green:it,yellow:it,blue:it,magenta:it,cyan:it,white:it,gray:it,bgBlack:it,bgRed:it,bgGreen:it,bgYellow:it,bgBlue:it,bgMagenta:it,bgCyan:it,bgWhite:it,blackBright:it,redBright:it,greenBright:it,yellowBright:it,blueBright:it,magentaBright:it,cyanBright:it,whiteBright:it,bgBlackBright:it,bgRedBright:it,bgGreenBright:it,bgYellowBright:it,bgBlueBright:it,bgMagentaBright:it,bgCyanBright:it,bgWhiteBright:it}};u0.exports=NS();u0.exports.createColors=NS;var H8=u0.exports;const z8={},W8=Object.freeze(Object.defineProperty({__proto__:null,default:z8},Symbol.toStringTag,{value:"Module"})),oi=q8(W8);let jb=H8,qb=oi,zg=class LS extends Error{constructor(e,n,r,i,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),typeof n<"u"&&typeof r<"u"&&(typeof n=="number"?(this.line=n,this.column=r):(this.line=n.line,this.column=n.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,LS)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let n=this.source;e==null&&(e=jb.isColorSupported);let r=u=>u,i=u=>u,s=u=>u;if(e){let{bold:u,gray:c,red:d}=jb.createColors(!0);i=h=>u(d(h)),r=h=>c(h),qb&&(s=h=>qb(h))}let o=n.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),f=String(l).length;return o.slice(a,l).map((u,c)=>{let d=a+1+c,h=" "+(" "+d).slice(-f)+" | ";if(d===this.line){if(u.length>160){let m=20,y=Math.max(0,this.column-m),v=Math.max(this.column+m,this.endColumn+m),_=u.slice(y,v),b=r(h.replace(/\d/g," "))+u.slice(0,Math.min(this.column-1,m-1)).replace(/[^\t]/g," ");return i(">")+r(h)+s(_)+`
 `+b+i("^")}let p=r(h.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return i(">")+r(h)+s(u)+`
 `+p+i("^")}return" "+r(h)+s(u)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var c0=zg;zg.default=zg;const Hb={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function K8(t){return t[0].toUpperCase()+t.slice(1)}let Wg=class{constructor(e){this.builder=e}atrule(e,n){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let s=(e.raws.between||"")+(n?";":"");this.builder(r+i+s,e)}}beforeAfter(e,n){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):n==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&i.type!=="root";)s+=1,i=i.parent;if(r.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let a=0;a<s;a++)r+=o}return r}block(e,n){let r=this.raw(e,"between","beforeOpen");this.builder(n+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let n=e.nodes.length-1;for(;n>0&&e.nodes[n].type==="comment";)n-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,n!==i||r)}}comment(e){let n=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+n+e.text+r+"*/",e)}decl(e,n){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),n&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,n,r){let i;if(r||(r=n),n&&(i=e.raws[n],typeof i<"u"))return i;let s=e.parent;if(r==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return Hb[r];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[r]<"u")return o.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let a="raw"+K8(r);this[a]?i=this[a](o,e):o.walk(l=>{if(i=l.raws[n],typeof i<"u")return!1})}return typeof i>"u"&&(i=Hb[r]),o.rawCache[r]=i,i}rawBeforeClose(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return n=r.raws.after,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawBeforeComment(e,n){let r;return e.walkComments(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,n){let r;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(n,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let n;return e.walk(r=>{if(r.type!=="decl"&&(n=r.raws.between,typeof n<"u"))return!1}),n}rawBeforeRule(e){let n;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return n=r.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/\S/g,"")),n}rawColon(e){let n;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return n=r.raws.between.replace(/[^\s:]/g,""),!1}),n}rawEmptyBody(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(n=r.raws.after,typeof n<"u"))return!1}),n}rawIndent(e){if(e.raws.indent)return e.raws.indent;let n;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before<"u"){let s=r.raws.before.split(`
`);return n=s[s.length-1],n=n.replace(/\S/g,""),!1}}),n}rawSemicolon(e){let n;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(n=r.raws.semicolon,typeof n<"u"))return!1}),n}rawValue(e,n){let r=e[n],i=e.raws[n];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,n){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,n)}};var $S=Wg;Wg.default=Wg;let Y8=$S;function Kg(t,e){new Y8(e).stringify(t)}var Lh=Kg;Kg.default=Kg;var lc={};lc.isClean=Symbol("isClean");lc.my=Symbol("my");let G8=c0,Q8=$S,X8=Lh,{isClean:El,my:J8}=lc;function Yg(t,e){let n=new t.constructor;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r)||r==="proxyCache")continue;let i=t[r],s=typeof i;r==="parent"&&s==="object"?e&&(n[r]=e):r==="source"?n[r]=i:Array.isArray(i)?n[r]=i.map(o=>Yg(o,n)):(s==="object"&&i!==null&&(i=Yg(i)),n[r]=i)}return n}let Gg=class{constructor(e={}){this.raws={},this[El]=!1,this[J8]=!0;for(let n in e)if(n==="nodes"){this.nodes=[];for(let r of e[n])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[n]=e[n]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let n=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${n.input.from}:${n.start.line}:${n.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let n in e)this[n]=e[n];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let n=Yg(this);for(let r in e)n[r]=e[r];return n}cloneAfter(e={}){let n=this.clone(e);return this.parent.insertAfter(this,n),n}cloneBefore(e={}){let n=this.clone(e);return this.parent.insertBefore(this,n),n}error(e,n={}){if(this.source){let{end:r,start:i}=this.rangeBy(n);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},n)}return new G8(e)}getProxyProcessor(){return{get(e,n){return n==="proxyOf"?e:n==="root"?()=>e.root().toProxy():e[n]},set(e,n,r){return e[n]===r||(e[n]=r,(n==="prop"||n==="value"||n==="name"||n==="params"||n==="important"||n==="text")&&e.markDirty()),!0}}}markClean(){this[El]=!0}markDirty(){if(this[El]){this[El]=!1;let e=this;for(;e=e.parent;)e[El]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,n){let r=this.source.start;if(e.index)r=this.positionInside(e.index,n);else if(e.word){n=this.toString();let i=n.indexOf(e.word);i!==-1&&(r=this.positionInside(i,n))}return r}positionInside(e,n){let r=n||this.toString(),i=this.source.start.column,s=this.source.start.line;for(let o=0;o<e;o++)r[o]===`
`?(i=1,s+=1):i+=1;return{column:i,line:s}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let n={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:n.column+1,line:n.line};if(e.word){let i=this.toString(),s=i.indexOf(e.word);s!==-1&&(n=this.positionInside(s,i),r=this.positionInside(s+e.word.length,i))}else e.start?n={column:e.start.column,line:e.start.line}:e.index&&(n=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<n.line||r.line===n.line&&r.column<=n.column)&&(r={column:n.column+1,line:n.line}),{end:r,start:n}}raw(e,n){return new Q8().raw(this,e,n)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let n=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(n,i),n=i):this.parent.insertBefore(n,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,n){let r={},i=n==null;n=n||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let a=this[o];if(Array.isArray(a))r[o]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,n):l);else if(typeof a=="object"&&a.toJSON)r[o]=a.toJSON(null,n);else if(o==="source"){let l=n.get(a.input);l==null&&(l=s,n.set(a.input,s),s++),r[o]={end:a.end,inputId:l,start:a.start}}else r[o]=a}return i&&(r.inputs=[...n.keys()].map(o=>o.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=X8){e.stringify&&(e=e.stringify);let n="";return e(this,r=>{n+=r}),n}warn(e,n,r){let i={node:this};for(let s in r)i[s]=r[s];return e.warn(n,i)}get proxyOf(){return this}};var $h=Gg;Gg.default=Gg;let Z8=$h,Qg=class extends Z8{constructor(e){super(e),this.type="comment"}};var Fh=Qg;Qg.default=Qg;let eU=$h,Xg=class extends eU{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Vh=Xg;Xg.default=Xg;let FS=Fh,VS=Vh,tU=$h,{isClean:US,my:BS}=lc,f0,jS,qS,d0;function HS(t){return t.map(e=>(e.nodes&&(e.nodes=HS(e.nodes)),delete e.source,e))}function zS(t){if(t[US]=!1,t.proxyOf.nodes)for(let e of t.proxyOf.nodes)zS(e)}let rs=class WS extends tU{append(...e){for(let n of e){let r=this.normalize(n,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let n of this.nodes)n.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let n=this.getIterator(),r,i;for(;this.indexes[n]<this.proxyOf.nodes.length&&(r=this.indexes[n],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[n]+=1;return delete this.indexes[n],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,n){return n==="proxyOf"?e:e[n]?n==="each"||typeof n=="string"&&n.startsWith("walk")?(...r)=>e[n](...r.map(i=>typeof i=="function"?(s,o)=>i(s.toProxy(),o):i)):n==="every"||n==="some"?r=>e[n]((i,...s)=>r(i.toProxy(),...s)):n==="root"?()=>e.root().toProxy():n==="nodes"?e.nodes.map(r=>r.toProxy()):n==="first"||n==="last"?e[n].toProxy():e[n]:e[n]},set(e,n,r){return e[n]===r||(e[n]=r,(n==="name"||n==="params"||n==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,n){let r=this.index(e),i=this.normalize(n,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let o of i)this.proxyOf.nodes.splice(r+1,0,o);let s;for(let o in this.indexes)s=this.indexes[o],r<s&&(this.indexes[o]=s+i.length);return this.markDirty(),this}insertBefore(e,n){let r=this.index(e),i=r===0?"prepend":!1,s=this.normalize(n,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let a of s)this.proxyOf.nodes.splice(r,0,a);let o;for(let a in this.indexes)o=this.indexes[a],r<=o&&(this.indexes[a]=o+s.length);return this.markDirty(),this}normalize(e,n){if(typeof e=="string")e=HS(jS(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new VS(e)]}else if(e.selector||e.selectors)e=[new d0(e)];else if(e.name)e=[new f0(e)];else if(e.text)e=[new FS(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[BS]||WS.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[US]&&zS(i),i.raws||(i.raws={}),typeof i.raws.before>"u"&&n&&typeof n.raws.before<"u"&&(i.raws.before=n.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let n of e){let r=this.normalize(n,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let n;for(let r in this.indexes)n=this.indexes[r],n>=e&&(this.indexes[r]=n-1);return this.markDirty(),this}replaceValues(e,n,r){return r||(r=n,n={}),this.walkDecls(i=>{n.props&&!n.props.includes(i.prop)||n.fast&&!i.value.includes(n.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((n,r)=>{let i;try{i=e(n,r)}catch(s){throw n.addToError(s)}return i!==!1&&n.walk&&(i=n.walk(e)),i})}walkAtRules(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return n(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="atrule")return n(r,i)}))}walkComments(e){return this.walk((n,r)=>{if(n.type==="comment")return e(n,r)})}walkDecls(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return n(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="decl")return n(r,i)}))}walkRules(e,n){return n?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return n(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return n(r,i)}):(n=e,this.walk((r,i)=>{if(r.type==="rule")return n(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};rs.registerParse=t=>{jS=t};rs.registerRule=t=>{d0=t};rs.registerAtRule=t=>{f0=t};rs.registerRoot=t=>{qS=t};var Yo=rs;rs.default=rs;rs.rebuild=t=>{t.type==="atrule"?Object.setPrototypeOf(t,f0.prototype):t.type==="rule"?Object.setPrototypeOf(t,d0.prototype):t.type==="decl"?Object.setPrototypeOf(t,VS.prototype):t.type==="comment"?Object.setPrototypeOf(t,FS.prototype):t.type==="root"&&Object.setPrototypeOf(t,qS.prototype),t[BS]=!0,t.nodes&&t.nodes.forEach(e=>{rs.rebuild(e)})};let KS=Yo,cd=class extends KS{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var h0=cd;cd.default=cd;KS.registerAtRule(cd);let nU=Yo,YS,GS,Pu=class extends nU{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new YS(new GS,this,e).stringify()}};Pu.registerLazyResult=t=>{YS=t};Pu.registerProcessor=t=>{GS=t};var p0=Pu;Pu.default=Pu;let rU="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",iU=(t,e=21)=>(n=e)=>{let r="",i=n;for(;i--;)r+=t[Math.random()*t.length|0];return r},sU=(t=21)=>{let e="",n=t;for(;n--;)e+=rU[Math.random()*64|0];return e};var oU={nanoid:sU,customAlphabet:iU};let{existsSync:aU,readFileSync:lU}=oi,{dirname:_m,join:uU}=oi,{SourceMapConsumer:zb,SourceMapGenerator:Wb}=oi;function cU(t){return Buffer?Buffer.from(t,"base64").toString():window.atob(t)}let Jg=class{constructor(e,n){if(n.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=n.map?n.map.prev:void 0,i=this.loadMap(n.from,r);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=_m(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new zb(this.text)),this.consumerCache}decodeInline(e){let n=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/,o=e.match(i)||e.match(s);if(o)return decodeURIComponent(e.substr(o[0].length));let a=e.match(n)||e.match(r);if(a)return cU(e.substr(a[0].length));let l=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let n=e.match(/\/\*\s*# sourceMappingURL=/g);if(!n)return;let r=e.lastIndexOf(n.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=_m(e),aU(e))return this.mapFile=e,lU(e,"utf-8").toString().trim()}loadMap(e,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){let r=n(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(n instanceof zb)return Wb.fromSourceMap(n).toString();if(n instanceof Wb)return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=uU(_m(e),r)),this.loadFile(r)}}}startWith(e,n){return e?e.substr(0,n.length)===n:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var QS=Jg;Jg.default=Jg;let{nanoid:fU}=oU,{isAbsolute:Zg,resolve:ev}=oi,{SourceMapConsumer:dU,SourceMapGenerator:hU}=oi,{fileURLToPath:Kb,pathToFileURL:Gc}=oi,Yb=c0,pU=QS,bm=oi,wm=Symbol("fromOffsetCache"),mU=!!(dU&&hU),Gb=!!(ev&&Zg),fd=class{constructor(e,n={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,n.from&&(!Gb||/^\w+:\/\//.test(n.from)||Zg(n.from)?this.file=n.from:this.file=ev(n.from)),Gb&&mU){let r=new pU(this.css,n);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+fU(6)+">"),this.map&&(this.map.file=this.from)}error(e,n,r,i={}){let s,o,a;if(n&&typeof n=="object"){let f=n,u=r;if(typeof f.offset=="number"){let c=this.fromOffset(f.offset);n=c.line,r=c.col}else n=f.line,r=f.column;if(typeof u.offset=="number"){let c=this.fromOffset(u.offset);o=c.line,s=c.col}else o=u.line,s=u.column}else if(!r){let f=this.fromOffset(n);n=f.line,r=f.col}let l=this.origin(n,r,o,s);return l?a=new Yb(e,l.endLine===void 0?l.line:{column:l.column,line:l.line},l.endLine===void 0?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,i.plugin):a=new Yb(e,o===void 0?n:{column:r,line:n},o===void 0?r:{column:s,line:o},this.css,this.file,i.plugin),a.input={column:r,endColumn:s,endLine:o,line:n,source:this.css},this.file&&(Gc&&(a.input.url=Gc(this.file).toString()),a.input.file=this.file),a}fromOffset(e){let n,r;if(this[wm])r=this[wm];else{let s=this.css.split(`
`);r=new Array(s.length);let o=0;for(let a=0,l=s.length;a<l;a++)r[a]=o,o+=s[a].length+1;this[wm]=r}n=r[r.length-1];let i=0;if(e>=n)i=r.length-1;else{let s=r.length-2,o;for(;i<s;)if(o=i+(s-i>>1),e<r[o])s=o-1;else if(e>=r[o+1])i=o+1;else{i=o;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:ev(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,n,r,i){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({column:n,line:e});if(!o.source)return!1;let a;typeof r=="number"&&(a=s.originalPositionFor({column:i,line:r}));let l;Zg(o.source)?l=Gc(o.source):l=new URL(o.source,this.map.consumer().sourceRoot||Gc(this.map.mapFile));let f={column:o.column,endColumn:a&&a.column,endLine:a&&a.line,line:o.line,url:l.toString()};if(l.protocol==="file:")if(Kb)f.file=Kb(l);else throw new Error("file: protocol is not available in this PostCSS build");let u=s.sourceContentFor(o.source);return u&&(f.source=u),f}toJSON(){let e={};for(let n of["hasBOM","css","file","id"])this[n]!=null&&(e[n]=this[n]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Uh=fd;fd.default=fd;bm&&bm.registerInput&&bm.registerInput(fd);let XS=Yo,JS,ZS,Va=class extends XS{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,n,r){let i=super.normalize(e);if(n){if(r==="prepend")this.nodes.length>1?n.raws.before=this.nodes[1].raws.before:delete n.raws.before;else if(this.first!==n)for(let s of i)s.raws.before=n.raws.before}return i}removeChild(e,n){let r=this.index(e);return!n&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new JS(new ZS,this,e).stringify()}};Va.registerLazyResult=t=>{JS=t};Va.registerProcessor=t=>{ZS=t};var uc=Va;Va.default=Va;XS.registerRoot(Va);let Cu={comma(t){return Cu.split(t,[","],!0)},space(t){let e=[" ",`
`,"	"];return Cu.split(t,e)},split(t,e,n){let r=[],i="",s=!1,o=0,a=!1,l="",f=!1;for(let u of t)f?f=!1:u==="\\"?f=!0:a?u===l&&(a=!1):u==='"'||u==="'"?(a=!0,l=u):u==="("?o+=1:u===")"?o>0&&(o-=1):o===0&&e.includes(u)&&(s=!0),s?(i!==""&&r.push(i.trim()),i="",s=!1):i+=u;return(n||i!=="")&&r.push(i.trim()),r}};var eI=Cu;Cu.default=Cu;let tI=Yo,gU=eI,dd=class extends tI{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return gU.comma(this.selector)}set selectors(e){let n=this.selector?this.selector.match(/,\s*/):null,r=n?n[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var m0=dd;dd.default=dd;tI.registerRule(dd);let vU=h0,yU=Fh,_U=Vh,bU=Uh,wU=QS,EU=uc,TU=m0;function Du(t,e){if(Array.isArray(t))return t.map(i=>Du(i));let{inputs:n,...r}=t;if(n){e=[];for(let i of n){let s={...i,__proto__:bU.prototype};s.map&&(s.map={...s.map,__proto__:wU.prototype}),e.push(s)}}if(r.nodes&&(r.nodes=t.nodes.map(i=>Du(i,e))),r.source){let{inputId:i,...s}=r.source;r.source=s,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new EU(r);if(r.type==="decl")return new _U(r);if(r.type==="rule")return new TU(r);if(r.type==="comment")return new yU(r);if(r.type==="atrule")return new vU(r);throw new Error("Unknown node type: "+t.type)}var AU=Du;Du.default=Du;let{dirname:Af,relative:nI,resolve:rI,sep:iI}=oi,{SourceMapConsumer:sI,SourceMapGenerator:xf}=oi,{pathToFileURL:Qb}=oi,xU=Uh,kU=!!(sI&&xf),SU=!!(Af&&rI&&nI&&iI),IU=class{constructor(e,n,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=n,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let n=`
`;this.css.includes(`\r
`)&&(n=`\r
`),this.css+=n+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let n=this.toUrl(this.path(e.file)),r=e.root||Af(e.file),i;this.mapOpts.sourcesContent===!1?(i=new sI(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,n,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let n=this.root.nodes.length-1;n>=0;n--)e=this.root.nodes[n],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(n)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),SU&&kU&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,n=>{e+=n}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=xf.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new xf({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new xf({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,n=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},s,o;this.stringify(this.root,(a,l,f)=>{if(this.css+=a,l&&f!=="end"&&(i.generated.line=e,i.generated.column=n-1,l.source&&l.source.start?(i.source=this.sourcePath(l),i.original.line=l.source.start.line,i.original.column=l.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),o=a.match(/\n/g),o?(e+=o.length,s=a.lastIndexOf(`
`),n=a.length-s):n+=a.length,l&&f!=="start"){let u=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==u.last||u.raws.semicolon)&&(l.source&&l.source.end?(i.source=this.sourcePath(l),i.original.line=l.source.end.line,i.original.column=l.source.end.column-1,i.generated.line=e,i.generated.column=n-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=n-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(n=>n.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let n=this.memoizedPaths.get(e);if(n)return n;let r=this.opts.to?Af(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=Af(rI(r,this.mapOpts.annotation)));let i=nI(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let n=e.source.input.map;this.previousMaps.includes(n)||this.previousMaps.push(n)}});else{let e=new xU(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(n=>{if(n.source){let r=n.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,n.source.input.css)}}});else if(this.css){let n=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(n,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let n=this.memoizedFileURLs.get(e);if(n)return n;if(Qb){let r=Qb(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let n=this.memoizedURLs.get(e);if(n)return n;iI==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};var oI=IU;const Em=39,Xb=34,Qc=92,Jb=47,Xc=10,Tl=32,Jc=12,Zc=9,ef=13,RU=91,OU=93,PU=40,CU=41,DU=123,MU=125,NU=59,LU=42,$U=58,FU=64,tf=/[\t\n\f\r "#'()/;[\\\]{}]/g,nf=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,VU=/.[\r\n"'(/\\]/,Zb=/[\da-f]/i;var UU=function(e,n={}){let r=e.css.valueOf(),i=n.ignoreErrors,s,o,a,l,f,u,c,d,h,p,m=r.length,y=0,v=[],_=[];function b(){return y}function g(E){throw e.error("Unclosed "+E,y)}function w(){return _.length===0&&y>=m}function x(E){if(_.length)return _.pop();if(y>=m)return;let S=E?E.ignoreUnclosed:!1;switch(s=r.charCodeAt(y),s){case Xc:case Tl:case Zc:case ef:case Jc:{l=y;do l+=1,s=r.charCodeAt(l);while(s===Tl||s===Xc||s===Zc||s===ef||s===Jc);u=["space",r.slice(y,l)],y=l-1;break}case RU:case OU:case DU:case MU:case $U:case NU:case CU:{let k=String.fromCharCode(s);u=[k,k,y];break}case PU:{if(p=v.length?v.pop()[1]:"",h=r.charCodeAt(y+1),p==="url"&&h!==Em&&h!==Xb&&h!==Tl&&h!==Xc&&h!==Zc&&h!==Jc&&h!==ef){l=y;do{if(c=!1,l=r.indexOf(")",l+1),l===-1)if(i||S){l=y;break}else g("bracket");for(d=l;r.charCodeAt(d-1)===Qc;)d-=1,c=!c}while(c);u=["brackets",r.slice(y,l+1),y,l],y=l}else l=r.indexOf(")",y+1),o=r.slice(y,l+1),l===-1||VU.test(o)?u=["(","(",y]:(u=["brackets",o,y,l],y=l);break}case Em:case Xb:{f=s===Em?"'":'"',l=y;do{if(c=!1,l=r.indexOf(f,l+1),l===-1)if(i||S){l=y+1;break}else g("string");for(d=l;r.charCodeAt(d-1)===Qc;)d-=1,c=!c}while(c);u=["string",r.slice(y,l+1),y,l],y=l;break}case FU:{tf.lastIndex=y+1,tf.test(r),tf.lastIndex===0?l=r.length-1:l=tf.lastIndex-2,u=["at-word",r.slice(y,l+1),y,l],y=l;break}case Qc:{for(l=y,a=!0;r.charCodeAt(l+1)===Qc;)l+=1,a=!a;if(s=r.charCodeAt(l+1),a&&s!==Jb&&s!==Tl&&s!==Xc&&s!==Zc&&s!==ef&&s!==Jc&&(l+=1,Zb.test(r.charAt(l)))){for(;Zb.test(r.charAt(l+1));)l+=1;r.charCodeAt(l+1)===Tl&&(l+=1)}u=["word",r.slice(y,l+1),y,l],y=l;break}default:{s===Jb&&r.charCodeAt(y+1)===LU?(l=r.indexOf("*/",y+2)+1,l===0&&(i||S?l=r.length:g("comment")),u=["comment",r.slice(y,l+1),y,l],y=l):(nf.lastIndex=y+1,nf.test(r),nf.lastIndex===0?l=r.length-1:l=nf.lastIndex-2,u=["word",r.slice(y,l+1),y,l],v.push(u),y=l);break}}return y++,u}function I(E){_.push(E)}return{back:I,endOfFile:w,nextToken:x,position:b}};let BU=h0,jU=Fh,qU=Vh,HU=uc,ew=m0,zU=UU;const tw={empty:!0,space:!0};function WU(t){for(let e=t.length-1;e>=0;e--){let n=t[e],r=n[3]||n[2];if(r)return r}}let KU=class{constructor(e){this.input=e,this.root=new HU,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let n=new BU;n.name=e[1].slice(1),n.name===""&&this.unnamedAtrule(n,e),this.init(n,e[2]);let r,i,s,o=!1,a=!1,l=[],f=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?f.push(r==="("?")":"]"):r==="{"&&f.length>0?f.push("}"):r===f[f.length-1]&&f.pop(),f.length===0)if(r===";"){n.source.end=this.getPosition(e[2]),n.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){a=!0;break}else if(r==="}"){if(l.length>0){for(s=l.length-1,i=l[s];i&&i[0]==="space";)i=l[--s];i&&(n.source.end=this.getPosition(i[3]||i[2]),n.source.end.offset++)}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(n.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(n,"params",l),o&&(e=l[l.length-1],n.source.end=this.getPosition(e[3]||e[2]),n.source.end.offset++,this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),a&&(n.nodes=[],this.current=n)}checkMissedSemicolon(e){let n=this.colon(e);if(n===!1)return;let r=0,i;for(let s=n-1;s>=0&&(i=e[s],!(i[0]!=="space"&&(r+=1,r===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let n=0,r,i,s;for(let[o,a]of e.entries()){if(i=a,s=i[0],s==="("&&(n+=1),s===")"&&(n-=1),n===0&&s===":")if(!r)this.doubleColon(i);else{if(r[0]==="word"&&r[1]==="progid")continue;return o}r=i}return!1}comment(e){let n=new jU;this.init(n,e[2]),n.source.end=this.getPosition(e[3]||e[2]),n.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))n.text="",n.raws.left=r,n.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);n.text=i[2],n.raws.left=i[1],n.raws.right=i[3]}}createTokenizer(){this.tokenizer=zU(this.input)}decl(e,n){let r=new qU;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||WU(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let f=e[0][0];if(f===":"||f==="space"||f==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){r.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),r.raws.between+=s[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let o=[],a;for(;e.length&&(a=e[0][0],!(a!=="space"&&a!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let f=e.length-1;f>=0;f--){if(s=e[f],s[1].toLowerCase()==="!important"){r.important=!0;let u=this.stringFrom(e,f);u=this.spacesFromEnd(e)+u,u!==" !important"&&(r.raws.important=u);break}else if(s[1].toLowerCase()==="important"){let u=e.slice(0),c="";for(let d=f;d>0;d--){let h=u[d][0];if(c.trim().startsWith("!")&&h!=="space")break;c=u.pop()[1]+c}c.trim().startsWith("!")&&(r.important=!0,r.raws.important=c,e=u)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(f=>f[0]!=="space"&&f[0]!=="comment")&&(r.raws.between+=o.map(f=>f[1]).join(""),o=[]),this.raw(r,"value",o.concat(e),n),r.value.includes(":")&&!n&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let n=new ew;this.init(n,e[2]),n.selector="",n.raws.between="",this.current=n}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let n=this.current.nodes[this.current.nodes.length-1];n&&n.type==="rule"&&!n.raws.ownSemicolon&&(n.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let n=this.input.fromOffset(e);return{column:n.col,line:n.line,offset:e}}init(e,n){this.current.push(e),e.source={input:this.input,start:this.getPosition(n)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let n=!1,r=null,i=!1,s=null,o=[],a=e[1].startsWith("--"),l=[],f=e;for(;f;){if(r=f[0],l.push(f),r==="("||r==="[")s||(s=f),o.push(r==="("?")":"]");else if(a&&i&&r==="{")s||(s=f),o.push("}");else if(o.length===0)if(r===";")if(i){this.decl(l,a);return}else break;else if(r==="{"){this.rule(l);return}else if(r==="}"){this.tokenizer.back(l.pop()),n=!0;break}else r===":"&&(i=!0);else r===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));f=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(n=!0),o.length>0&&this.unclosedBracket(s),n&&i){if(!a)for(;l.length&&(f=l[l.length-1][0],!(f!=="space"&&f!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,n,r,i){let s,o,a=r.length,l="",f=!0,u,c;for(let d=0;d<a;d+=1)s=r[d],o=s[0],o==="space"&&d===a-1&&!i?f=!1:o==="comment"?(c=r[d-1]?r[d-1][0]:"empty",u=r[d+1]?r[d+1][0]:"empty",!tw[c]&&!tw[u]?l.slice(-1)===","?f=!1:l+=s[1]:f=!1):l+=s[1];if(!f){let d=r.reduce((h,p)=>h+p[1],"");e.raws[n]={raw:d,value:l}}e[n]=l}rule(e){e.pop();let n=new ew;this.init(n,e[0][2]),n.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(n,"selector",e),this.current=n}spacesAndCommentsFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],!(n!=="space"&&n!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let n,r="";for(;e.length&&(n=e[0][0],!(n!=="space"&&n!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let n,r="";for(;e.length&&(n=e[e.length-1][0],n==="space");)r=e.pop()[1]+r;return r}stringFrom(e,n){let r="";for(let i=n;i<e.length;i++)r+=e[i][1];return e.splice(n,e.length-n),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,n){throw this.input.error("At-rule without name",{offset:n[2]},{offset:n[2]+n[1].length})}};var YU=KU;let GU=Yo,QU=Uh,XU=YU;function hd(t,e){let n=new QU(t,e),r=new XU(n);try{r.parse()}catch(i){throw i}return r.root}var g0=hd;hd.default=hd;GU.registerParse(hd);let tv=class{constructor(e,n={}){if(this.type="warning",this.text=e,n.node&&n.node.source){let r=n.node.rangeBy(n);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in n)this[r]=n[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var aI=tv;tv.default=tv;let JU=aI,nv=class{constructor(e,n,r){this.processor=e,this.messages=[],this.root=n,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,n={}){n.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(n.plugin=this.lastPlugin.postcssPlugin);let r=new JU(e,n);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var v0=nv;nv.default=nv;let ZU=Yo,e9=p0,t9=oI,n9=g0,nw=v0,r9=uc,i9=Lh,{isClean:hi,my:s9}=lc;const o9={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},a9={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},l9={Once:!0,postcssPlugin:!0,prepare:!0},Ua=0;function Al(t){return typeof t=="object"&&typeof t.then=="function"}function lI(t){let e=!1,n=o9[t.type];return t.type==="decl"?e=t.prop.toLowerCase():t.type==="atrule"&&(e=t.name.toLowerCase()),e&&t.append?[n,n+"-"+e,Ua,n+"Exit",n+"Exit-"+e]:e?[n,n+"-"+e,n+"Exit",n+"Exit-"+e]:t.append?[n,Ua,n+"Exit"]:[n,n+"Exit"]}function rw(t){let e;return t.type==="document"?e=["Document",Ua,"DocumentExit"]:t.type==="root"?e=["Root",Ua,"RootExit"]:e=lI(t),{eventIndex:0,events:e,iterator:0,node:t,visitorIndex:0,visitors:[]}}function rv(t){return t[hi]=!1,t.nodes&&t.nodes.forEach(e=>rv(e)),t}let iv={},Ba=class uI{constructor(e,n,r){this.stringified=!1,this.processed=!1;let i;if(typeof n=="object"&&n!==null&&(n.type==="root"||n.type==="document"))i=rv(n);else if(n instanceof uI||n instanceof nw)i=rv(n.root),n.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=n.map);else{let s=n9;r.syntax&&(s=r.syntax.parse),r.parser&&(s=r.parser),s.parse&&(s=s.parse);try{i=s(n,r)}catch(o){this.processed=!0,this.error=o}i&&!i[s9]&&ZU.rebuild(i)}this.result=new nw(e,i,r),this.helpers={...iv,postcss:iv,result:this.result},this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?{...s,...s.prepare(this.result)}:s)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,n){let r=this.result.lastPlugin;try{n&&n.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(n,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([n,i])};for(let n of this.plugins)if(typeof n=="object")for(let r in n){if(!a9[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${n.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!l9[r])if(typeof n[r]=="object")for(let i in n[r])i==="*"?e(n,r,n[r][i]):e(n,r+"-"+i.toLowerCase(),n[r][i]);else typeof n[r]=="function"&&e(n,r,n[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let n=this.plugins[e],r=this.runOnRoot(n);if(Al(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[hi];){e[hi]=!0;let n=[rw(e)];for(;n.length>0;){let r=this.visitTick(n);if(Al(r))try{await r}catch(i){let s=n[n.length-1].node;throw this.handleError(i,s)}}}if(this.listeners.OnceExit)for(let[n,r]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if(e.type==="document"){let i=e.nodes.map(s=>r(s,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let n=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return Al(n[0])?Promise.all(n):n}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(n){throw this.handleError(n)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,n=i9;e.syntax&&(n=e.syntax.stringify),e.stringifier&&(n=e.stringifier),n.stringify&&(n=n.stringify);let i=new t9(n,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let n=this.runOnRoot(e);if(Al(n))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[hi];)e[hi]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let n of e.nodes)this.visitSync(this.listeners.OnceExit,n);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,n){return this.async().then(e,n)}toString(){return this.css}visitSync(e,n){for(let[r,i]of e){this.result.lastPlugin=r;let s;try{s=i(n,this.helpers)}catch(o){throw this.handleError(o,n.proxyOf)}if(n.type!=="root"&&n.type!=="document"&&!n.parent)return!0;if(Al(s))throw this.getAsyncError()}}visitTick(e){let n=e[e.length-1],{node:r,visitors:i}=n;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&n.visitorIndex<i.length){let[o,a]=i[n.visitorIndex];n.visitorIndex+=1,n.visitorIndex===i.length&&(n.visitors=[],n.visitorIndex=0),this.result.lastPlugin=o;try{return a(r.toProxy(),this.helpers)}catch(l){throw this.handleError(l,r)}}if(n.iterator!==0){let o=n.iterator,a;for(;a=r.nodes[r.indexes[o]];)if(r.indexes[o]+=1,!a[hi]){a[hi]=!0,e.push(rw(a));return}n.iterator=0,delete r.indexes[o]}let s=n.events;for(;n.eventIndex<s.length;){let o=s[n.eventIndex];if(n.eventIndex+=1,o===Ua){r.nodes&&r.nodes.length&&(r[hi]=!0,n.iterator=r.getIterator());return}else if(this.listeners[o]){n.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[hi]=!0;let n=lI(e);for(let r of n)if(r===Ua)e.nodes&&e.each(i=>{i[hi]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Ba.registerPostcss=t=>{iv=t};var cI=Ba;Ba.default=Ba;r9.registerLazyResult(Ba);e9.registerLazyResult(Ba);let u9=oI,c9=g0;const f9=v0;let d9=Lh,sv=class{constructor(e,n,r){n=n.toString(),this.stringified=!1,this._processor=e,this._css=n,this._opts=r,this._map=void 0;let i,s=d9;this.result=new f9(this._processor,i,this._opts),this.result.css=n;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let a=new u9(s,i,this._opts,n);if(a.isMap()){let[l,f]=a.generate();l&&(this.result.css=l),f&&(this.result.map=f)}else a.clearAnnotation(),this.result.css=a.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,n){return this.async().then(e,n)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,n=c9;try{e=n(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var h9=sv;sv.default=sv;let p9=p0,m9=cI,g9=h9,v9=uc,Mu=class{constructor(e=[]){this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let n=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))n=n.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)n.push(r);else if(typeof r=="function")n.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return n}process(e,n={}){return!this.plugins.length&&!n.parser&&!n.stringifier&&!n.syntax?new g9(this,e,n):new m9(this,e,n)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var y9=Mu;Mu.default=Mu;v9.registerProcessor(Mu);p9.registerProcessor(Mu);var iw={};let fI=h0,dI=Fh,_9=Yo,b9=c0,hI=Vh,pI=p0,w9=AU,E9=Uh,T9=cI,A9=eI,x9=$h,k9=g0,y0=y9,S9=v0,mI=uc,gI=m0,I9=Lh,R9=aI;function kt(...t){return t.length===1&&Array.isArray(t[0])&&(t=t[0]),new y0(t)}kt.plugin=function(e,n){let r=!1;function i(...o){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),iw.LANG&&iw.LANG.startsWith("cn")&&console.warn(e+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let a=n(...o);return a.postcssPlugin=e,a.postcssVersion=new y0().version,a}let s;return Object.defineProperty(i,"postcss",{get(){return s||(s=i()),s}}),i.process=function(o,a,l){return kt([i(l)]).process(o,a)},i};kt.stringify=I9;kt.parse=k9;kt.fromJSON=w9;kt.list=A9;kt.comment=t=>new dI(t);kt.atRule=t=>new fI(t);kt.decl=t=>new hI(t);kt.rule=t=>new gI(t);kt.root=t=>new mI(t);kt.document=t=>new pI(t);kt.CssSyntaxError=b9;kt.Declaration=hI;kt.Container=_9;kt.Processor=y0;kt.Document=pI;kt.Comment=dI;kt.Warning=R9;kt.AtRule=fI;kt.Result=S9;kt.Input=E9;kt.Rule=gI;kt.Root=mI;kt.Node=x9;T9.registerPostcss(kt);var O9=kt;kt.default=kt;const $t=l0(O9);$t.stringify;$t.fromJSON;$t.plugin;$t.parse;$t.list;$t.document;$t.comment;$t.atRule;$t.rule;$t.decl;$t.root;$t.CssSyntaxError;$t.Declaration;$t.Container;$t.Processor;$t.Document;$t.Comment;$t.Warning;$t.AtRule;$t.Result;$t.Input;$t.Rule;$t.Root;$t.Node;const P9=["disabled"],C9=O("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[O("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),O("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),Bt={__name:"Button",props:{text:String,loadingText:String,color:String,wFull:Boolean,isLoading:{type:Boolean,default:!1}},setup(t){const e=t,n=ge(()=>{switch(e.color){case"blue":return"bg-blue-700 hover:bg-blue-800 focus:ring-blue-300";case"green":return"bg-green-700 hover:bg-green-800 focus:ring-green-300";case"red":return"bg-red-700 hover:bg-red-800 focus:ring-red-300";case"yellow":return"bg-yellow-700 hover:bg-yellow-800 focus:ring-yellow-300";default:return"bg-blue-700 hover:bg-blue-800 focus:ring-blue-300"}});return(r,i)=>(ne(),ae("button",{type:"submit",class:Ke(["text-white inline-flex items-center justify-center focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center",[n.value,t.wFull?"w-full":"w-auto"]]),disabled:t.isLoading},[t.isLoading?(ne(),ae(Ie,{key:0},[C9,ot(" "+we(t.loadingText),1)],64)):(ne(),ae(Ie,{key:1},[ot(we(t.text),1)],64))],10,P9))}},D9={class:"bg-white rounded-lg border border-gray-200 p-6 mb-4 shadow-lg"},M9={class:"pb-4 border-b mb-4 border-gray-300 rounded-t flex justify-between"},N9=O("h3",{class:"text-lg font-semibold text-gray-900"},[O("span",{class:"mb-2"},"Randevu Ayarlarını Yap")],-1),L9=["for"],$9=O("p",{class:"pl-2 text-gray-500"},"(dk)",-1),F9=["onUpdate:modelValue","id"],V9=["value"],U9=["for"],B9=["onUpdate:modelValue","id"],j9=["value"],q9=["for"],H9=O("p",{class:"pl-2 text-gray-500"},"(TL)",-1),z9=["onUpdate:modelValue","id"],W9={key:0,class:"flex items-center justify-center md:justify-start"},K9=O("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Y9=[K9],G9=["disabled","onClick"],Q9=O("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[O("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),X9=[Q9],J9={key:1},Z9=["onClick"],eB=O("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[O("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),tB=[eB],vI={__name:"WorkingHoursMeetingSetup",props:{appointmentSettings:Array},emits:["save-appointment-settings"],setup(t,{emit:e}){const n=t,r=e,i=[30,45,60],s=["Online Video Görüşme","Telefonla Görüşme","Yüz Yüze Görüşme"],o=()=>{n.appointmentSettings.push({duration:"",price:"",type:""})},a=f=>{n.appointmentSettings.length>1&&n.appointmentSettings.splice(f,1)},l=()=>{r("save-appointment-settings",n.appointmentSettings)};return(f,u)=>(ne(),ae("div",D9,[O("form",{onSubmit:Lr(l,["prevent"])},[O("div",M9,[N9,Ce(Bt,{color:"blue",wFull:!1,text:"Kaydet"})]),O("div",null,[(ne(!0),ae(Ie,null,Ge(t.appointmentSettings,(c,d)=>(ne(),ae("div",{key:d,class:"flex flex-col space-y-2 md:space-y-0 mx-auto md:flex-row mb-4 w-full md:w-full items-center md:space-x-3"},[O("div",null,[O("label",{for:"meeting-duration-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},[ot("Randevu Süresi "),$9],8,L9),wt(O("select",{"onUpdate:modelValue":h=>c.duration=h,id:"meeting-duration-"+d,name:"meeting-duration",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ne(),ae(Ie,null,Ge(i,h=>O("option",{key:h,value:h},we(h),9,V9)),64))],8,F9),[[Us,c.duration]])]),O("div",null,[O("label",{for:"meeting-type-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},"Randevu Tipi",8,U9),wt(O("select",{"onUpdate:modelValue":h=>c.type=h,id:"meeting-type-"+d,name:"meeting-type",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(ne(),ae(Ie,null,Ge(s,h=>O("option",{key:h,value:h},we(h),9,j9)),64))],8,B9),[[Us,c.type]])]),O("div",null,[O("label",{for:"meeting-price-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},[ot("Randevu Ücreti "),H9],8,q9),wt(O("input",{type:"number","onUpdate:modelValue":h=>c.price=h,id:"meeting-price-"+d,name:"meeting-price",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,z9),[[Gr,c.price]])]),d===t.appointmentSettings.length-1?(ne(),ae("div",W9,[O("button",{onClick:o,type:"button",class:"inline-flex items-center mt-5 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},Y9),O("button",{disabled:t.appointmentSettings.length===1,onClick:h=>a(d),type:"button",class:"inline-flex items-center mt-5 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},X9,8,G9)])):(ne(),ae("div",J9,[O("button",{onClick:h=>a(d),type:"button",class:"inline-flex items-center p-1.5 mt-5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},tB,8,Z9)]))]))),128))])],32)]))}},nB=O("h1",{class:"font-bold text-4xl"},"Home",-1),rB={key:0},iB=O("p",null,"Welcome, Admin!",-1),sB={key:1},oB=O("p",null,null,-1),sw={__name:"Home",setup(t){const e=he([{duration:"",price:"",type:"",enabled:!0}]),n=Vr(),r=ge(()=>n.getters.userRole),i=ge(()=>n.getters.user?n.getters.user.uid:null),s=he(null),o=async a=>{const l=await Lo(sr(mr,"attorneys",a));s.value=l.data()};return pt(()=>{o(i.value)}),(a,l)=>(ne(),ae("div",null,[nB,r.value==="admin"?(ne(),ae("div",rB,[iB,O("p",null,"Your data "+we(s.value),1)])):r.value==="attorney"?(ne(),ae("div",sB,[O("p",null,[ot("Welcome, "),O("span",null,we(r.value),1),ot("!")]),oB])):me("",!0),Ce(vI,{appointmentSettings:e.value},null,8,["appointmentSettings"])]))}},aB={class:"min-h-[88vh] flex items-center justify-center"},lB={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},uB=O("div",{class:"flex flex-col items-center"},[O("div",{class:"text-[1.6rem] font-medium p-2 text-gray-500"}," Tüm Görüşmeleri "),O("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Gör")],-1),cB=[uB],fB=["onClick"],dB=["src"],hB={__name:"OnlineMeetingsMenu",emits:["optionSelected"],setup(t,{emit:e}){const n=e,r=he([]),i=sc(mr,"attorneys"),s=()=>n("optionSelected","showAll"),o=f=>n("optionSelected",f);async function a(){let f=[];return(await Dh(i)).forEach(c=>{f.push({id:c.id,...c.data()})}),f}async function l(){try{const f=localStorage.getItem("cachedAttorneys"),u=localStorage.getItem("cachedTimeAttorneys"),c=30*60*1e3;if(f&&u&&new Date-new Date(parseInt(u))<c)return JSON.parse(f);{const d=await a();return localStorage.setItem("cachedAttorneys",JSON.stringify(d)),localStorage.setItem("cachedTimeAttorneys",new Date().getTime().toString()),d}}catch(f){return console.error("Error getting meetings:",f),[]}}return pt(async()=>{let f=await l();f=f.filter(u=>u.email!=="admin@gmail.com"),r.value=f}),(f,u)=>(ne(),ae("section",aB,[O("div",lB,[O("button",{onClick:s,class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center"},cB),(ne(!0),ae(Ie,null,Ge(r.value,c=>(ne(),ae("button",{key:c.id,onClick:d=>o(c.id),class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center p-2"},[O("div",null,[O("img",{src:`assets/images/${c.id}.jpg`,alt:"Attorney Photo",class:"w-40 h-60 object-cover rounded-md"},null,8,dB)])],8,fB))),128))])]))}};function Ve(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function yt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Hr(t,e){const n=Ve(t);return isNaN(e)?yt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Xr(t,e){const n=Ve(t);if(isNaN(e))return yt(t,NaN);if(!e)return n;const r=n.getDate(),i=yt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function yI(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:o=0,minutes:a=0,seconds:l=0}=e,f=Ve(t),u=r||n?Xr(f,r+n*12):f,c=s||i?Hr(u,s+i*7):u,d=a+o*60,p=(l+d*60)*1e3;return yt(t,c.getTime()+p)}function pB(t,e){const n=+Ve(t);return yt(t,n+e)}const _I=6048e5,mB=864e5,gB=6e4,bI=36e5,vB=1e3;function yB(t,e){return pB(t,e*bI)}let _B={};function Go(){return _B}function ii(t,e){var a,l,f,u;const n=Go(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=Ve(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function ja(t){return ii(t,{weekStartsOn:1})}function wI(t){const e=Ve(t),n=e.getFullYear(),r=yt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ja(r),s=yt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=ja(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ow(t){const e=Ve(t);return e.setHours(0,0,0,0),e}function pd(t){const e=Ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function EI(t,e){const n=ow(t),r=ow(e),i=+n-pd(n),s=+r-pd(r);return Math.round((i-s)/mB)}function bB(t){const e=wI(t),n=yt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ja(n)}function wB(t,e){const n=e*3;return Xr(t,n)}function _0(t,e){return Xr(t,e*12)}function aw(t,e){const n=Ve(t),r=Ve(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function TI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ru(t){if(!TI(t)&&typeof t!="number")return!1;const e=Ve(t);return!isNaN(Number(e))}function lw(t){const e=Ve(t);return Math.trunc(e.getMonth()/3)+1}function EB(t,e){const n=Ve(t),r=Ve(e);return n.getFullYear()-r.getFullYear()}function TB(t,e){const n=Ve(t),r=Ve(e),i=aw(n,r),s=Math.abs(EB(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=aw(n,r)===-i,a=i*(s-+o);return a===0?0:a}function AI(t,e){const n=Ve(t.start),r=Ve(t.end);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=s;)l.push(Ve(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return i?l.reverse():l}function _o(t){const e=Ve(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function AB(t,e){const n=Ve(t.start),r=Ve(t.end);let i=+n>+r;const s=i?+_o(n):+_o(r);let o=_o(i?r:n),a=1;const l=[];for(;+o<=s;)l.push(Ve(o)),o=wB(o,a);return i?l.reverse():l}function xB(t){const e=Ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function xI(t){const e=Ve(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function b0(t){const e=Ve(t),n=yt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function kI(t,e){var a,l,f,u;const n=Go(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=Ve(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function uw(t){const e=Ve(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const kB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SB=(t,e,n)=>{let r;const i=kB[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Tm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const IB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PB={date:Tm({formats:IB,defaultWidth:"full"}),time:Tm({formats:RB,defaultWidth:"full"}),dateTime:Tm({formats:OB,defaultWidth:"full"})},CB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DB=(t,e,n,r)=>CB[t];function xl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const MB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$B={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UB=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},BB={ordinalNumber:UB,era:xl({values:MB,defaultWidth:"wide"}),quarter:xl({values:NB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:xl({values:LB,defaultWidth:"wide"}),day:xl({values:$B,defaultWidth:"wide"}),dayPeriod:xl({values:FB,defaultWidth:"wide",formattingValues:VB,defaultFormattingWidth:"wide"})};function kl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qB(a,c=>c.test(o)):jB(a,c=>c.test(o));let f;f=t.valueCallback?t.valueCallback(l):l,f=n.valueCallback?n.valueCallback(f):f;const u=e.slice(o.length);return{value:f,rest:u}}}function jB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function HB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const zB=/^(\d+)(th|st|nd|rd)?/i,WB=/\d+/i,KB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YB={any:[/^b/i,/^(a|c)/i]},GB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QB={any:[/1/i,/2/i,/3/i,/4/i]},XB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ej={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rj={ordinalNumber:HB({matchPattern:zB,parsePattern:WB,valueCallback:t=>parseInt(t,10)}),era:kl({matchPatterns:KB,defaultMatchWidth:"wide",parsePatterns:YB,defaultParseWidth:"any"}),quarter:kl({matchPatterns:GB,defaultMatchWidth:"wide",parsePatterns:QB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:kl({matchPatterns:XB,defaultMatchWidth:"wide",parsePatterns:JB,defaultParseWidth:"any"}),day:kl({matchPatterns:ZB,defaultMatchWidth:"wide",parsePatterns:ej,defaultParseWidth:"any"}),dayPeriod:kl({matchPatterns:tj,defaultMatchWidth:"any",parsePatterns:nj,defaultParseWidth:"any"})},SI={code:"en-US",formatDistance:SB,formatLong:PB,formatRelative:DB,localize:BB,match:rj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ij(t){const e=Ve(t);return EI(e,b0(e))+1}function w0(t){const e=Ve(t),n=+ja(e)-+bB(e);return Math.round(n/_I)+1}function E0(t,e){var u,c,d,h;const n=Ve(t),r=n.getFullYear(),i=Go(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=yt(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=ii(o,e),l=yt(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const f=ii(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function sj(t,e){var a,l,f,u;const n=Go(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,i=E0(t,e),s=yt(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ii(s,e)}function T0(t,e){const n=Ve(t),r=+ii(n,e)-+sj(n,e);return Math.round(r/_I)+1}function Tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ps={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Tt(i,e.length)}},ia={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ps.y(t,e)},Y:function(t,e,n,r){const i=E0(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Tt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tt(s,e.length)},R:function(t,e){const n=wI(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ps.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=T0(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Tt(i,e.length)},I:function(t,e,n){const r=w0(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ps.d(t,e)},D:function(t,e,n){const r=ij(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Tt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Tt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Tt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ia.noon:r===0?i=ia.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ia.evening:r>=12?i=ia.afternoon:r>=4?i=ia.morning:i=ia.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ps.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ps.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ps.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ps.s(t,e)},S:function(t,e){return ps.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return dw(r);case"XXXX":case"XX":return lo(r);case"XXXXX":case"XXX":default:return lo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return dw(r);case"xxxx":case"xx":return lo(r);case"xxxxx":case"xxx":default:return lo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fw(r,":");case"OOOO":default:return"GMT"+lo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fw(r,":");case"zzzz":default:return"GMT"+lo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Tt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Tt(r,e.length)}};function fw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Tt(s,2)}function dw(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):lo(t,e)}function lo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Tt(Math.trunc(r/60),2),s=Tt(r%60,2);return n+i+e+s}const hw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},II=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oj=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return hw(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",hw(r,e)).replace("{{time}}",II(i,e))},ov={p:II,P:oj},aj=/^D+$/,lj=/^Y+$/,uj=["D","DD","YY","YYYY"];function RI(t){return aj.test(t)}function OI(t){return lj.test(t)}function av(t,e,n){const r=cj(t,e,n);if(console.warn(r),uj.includes(t))throw new RangeError(r)}function cj(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hj=/^'([^]*?)'?$/,pj=/''/g,mj=/[a-zA-Z]/;function Jr(t,e,n){var u,c,d,h,p,m,y,v;const r=Go(),i=(n==null?void 0:n.locale)??r.locale??SI,s=(n==null?void 0:n.firstWeekContainsDate)??((c=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,a=Ve(t);if(!ru(a))throw new RangeError("Invalid time value");let l=e.match(dj).map(_=>{const b=_[0];if(b==="p"||b==="P"){const g=ov[b];return g(_,i.formatLong)}return _}).join("").match(fj).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:gj(_)};if(cw[b])return{isToken:!0,value:_};if(b.match(mj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const f={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const b=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&OI(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&RI(b))&&av(b,e,String(t));const g=cw[b[0]];return g(a,b,i.localize,f)}).join("")}function gj(t){const e=t.match(hj);return e?e[1].replace(pj,"'"):t}function vj(t){return Ve(t).getDay()}function yj(t){const e=Ve(t),n=e.getFullYear(),r=e.getMonth(),i=yt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function _j(){return Object.assign({},Go())}function is(t){return Ve(t).getHours()}function bj(t){let n=Ve(t).getDay();return n===0&&(n=7),n}function Hs(t){return Ve(t).getMinutes()}function at(t){return Ve(t).getMonth()}function qa(t){return Ve(t).getSeconds()}function st(t){return Ve(t).getFullYear()}function Ha(t,e){const n=Ve(t),r=Ve(e);return n.getTime()>r.getTime()}function Nu(t,e){const n=Ve(t),r=Ve(e);return+n<+r}function ha(t,e){const n=Ve(t),r=Ve(e);return+n==+r}function wj(t,e){const n=e instanceof Date?yt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const Ej=10;class PI{constructor(){Le(this,"subPriority",0)}validate(e,n){return!0}}class Tj extends PI{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class Aj extends PI{constructor(){super(...arguments);Le(this,"priority",Ej);Le(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:yt(n,wj(n,Date))}}class _t{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new Tj(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class xj extends _t{constructor(){super(...arguments);Le(this,"priority",140);Le(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const en={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},yi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function tn(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ut(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function _i(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*bI+s*gB+o*vB),rest:e.slice(n[0].length)}}function CI(t){return Ut(en.anyDigitsSigned,t)}function Gt(t,e){switch(t){case 1:return Ut(en.singleDigit,e);case 2:return Ut(en.twoDigits,e);case 3:return Ut(en.threeDigits,e);case 4:return Ut(en.fourDigits,e);default:return Ut(new RegExp("^\\d{1,"+t+"}"),e)}}function md(t,e){switch(t){case 1:return Ut(en.singleDigitSigned,e);case 2:return Ut(en.twoDigitsSigned,e);case 3:return Ut(en.threeDigitsSigned,e);case 4:return Ut(en.fourDigitsSigned,e);default:return Ut(new RegExp("^-?\\d{1,"+t+"}"),e)}}function A0(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function DI(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function MI(t){return t%400===0||t%4===0&&t%100!==0}class kj extends _t{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return tn(Gt(4,n),s);case"yo":return tn(i.ordinalNumber(n,{unit:"year"}),s);default:return tn(Gt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=DI(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Sj extends _t{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return tn(Gt(4,n),s);case"Yo":return tn(i.ordinalNumber(n,{unit:"year"}),s);default:return tn(Gt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=E0(n,s);if(i.isTwoDigitYear){const l=DI(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ii(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ii(n,s)}}class Ij extends _t{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return md(r==="R"?4:r.length,n)}set(n,r,i){const s=yt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),ja(s)}}class Rj extends _t{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return md(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Oj extends _t{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Gt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Pj extends _t{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Gt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Cj extends _t{constructor(){super(...arguments);Le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Le(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return tn(Ut(en.month,n),s);case"MM":return tn(Gt(2,n),s);case"Mo":return tn(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class Dj extends _t{constructor(){super(...arguments);Le(this,"priority",110);Le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return tn(Ut(en.month,n),s);case"LL":return tn(Gt(2,n),s);case"Lo":return tn(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Mj(t,e,n){const r=Ve(t),i=T0(r,n)-e;return r.setDate(r.getDate()-i*7),r}class Nj extends _t{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ut(en.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Gt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return ii(Mj(n,i,s),s)}}function Lj(t,e){const n=Ve(t),r=w0(n)-e;return n.setDate(n.getDate()-r*7),n}class $j extends _t{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ut(en.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Gt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return ja(Lj(n,i))}}const Fj=[31,28,31,30,31,30,31,31,30,31,30,31],Vj=[31,29,31,30,31,30,31,31,30,31,30,31];class Uj extends _t{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subPriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ut(en.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Gt(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=MI(i),o=n.getMonth();return s?r>=1&&r<=Vj[o]:r>=1&&r<=Fj[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Bj extends _t{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subpriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ut(en.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Gt(r.length,n)}}validate(n,r){const i=n.getFullYear();return MI(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function x0(t,e,n){var c,d,h,p;const r=Go(),i=(n==null?void 0:n.weekStartsOn)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=Ve(t),o=s.getDay(),l=(e%7+7)%7,f=7-i,u=e<0||e>6?e-(o+f)%7:(l+f)%7-(o+f)%7;return Hr(s,u)}class jj extends _t{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=x0(n,i,s),n.setHours(0,0,0,0),n}}class qj extends _t{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return tn(Gt(r.length,n),o);case"eo":return tn(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=x0(n,i,s),n.setHours(0,0,0,0),n}}class Hj extends _t{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return tn(Gt(r.length,n),o);case"co":return tn(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=x0(n,i,s),n.setHours(0,0,0,0),n}}function zj(t,e){const n=Ve(t),r=bj(n),i=e-r;return Hr(n,i)}class Wj extends _t{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Gt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return tn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return tn(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return tn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return tn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=zj(n,i),n.setHours(0,0,0,0),n}}class Kj extends _t{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(A0(i),0,0,0),n}}class Yj extends _t{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(A0(i),0,0,0),n}}class Gj extends _t{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(A0(i),0,0,0),n}}class Qj extends _t{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ut(en.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Gt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Xj extends _t{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ut(en.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Gt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Jj extends _t{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ut(en.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Gt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class Zj extends _t{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ut(en.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Gt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class e7 extends _t{constructor(){super(...arguments);Le(this,"priority",60);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ut(en.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Gt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class t7 extends _t{constructor(){super(...arguments);Le(this,"priority",50);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ut(en.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Gt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class n7 extends _t{constructor(){super(...arguments);Le(this,"priority",30);Le(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return tn(Gt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class r7 extends _t{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return _i(yi.basicOptionalMinutes,n);case"XX":return _i(yi.basic,n);case"XXXX":return _i(yi.basicOptionalSeconds,n);case"XXXXX":return _i(yi.extendedOptionalSeconds,n);case"XXX":default:return _i(yi.extended,n)}}set(n,r,i){return r.timestampIsSet?n:yt(n,n.getTime()-pd(n)-i)}}class i7 extends _t{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return _i(yi.basicOptionalMinutes,n);case"xx":return _i(yi.basic,n);case"xxxx":return _i(yi.basicOptionalSeconds,n);case"xxxxx":return _i(yi.extendedOptionalSeconds,n);case"xxx":default:return _i(yi.extended,n)}}set(n,r,i){return r.timestampIsSet?n:yt(n,n.getTime()-pd(n)-i)}}class s7 extends _t{constructor(){super(...arguments);Le(this,"priority",40);Le(this,"incompatibleTokens","*")}parse(n){return CI(n)}set(n,r,i){return[yt(n,i*1e3),{timestampIsSet:!0}]}}class o7 extends _t{constructor(){super(...arguments);Le(this,"priority",20);Le(this,"incompatibleTokens","*")}parse(n){return CI(n)}set(n,r,i){return[yt(n,i),{timestampIsSet:!0}]}}const a7={G:new xj,y:new kj,Y:new Sj,R:new Ij,u:new Rj,Q:new Oj,q:new Pj,M:new Cj,L:new Dj,w:new Nj,I:new $j,d:new Uj,D:new Bj,E:new jj,e:new qj,c:new Hj,i:new Wj,a:new Kj,b:new Yj,B:new Gj,h:new Qj,H:new Xj,K:new Jj,k:new Zj,m:new e7,s:new t7,S:new n7,X:new r7,x:new i7,t:new s7,T:new o7},l7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c7=/^'([^]*?)'?$/,f7=/''/g,d7=/\S/,h7=/[a-zA-Z]/;function lv(t,e,n,r){var m,y,v,_,b,g,w,x;const i=_j(),s=(r==null?void 0:r.locale)??i.locale??SI,o=(r==null?void 0:r.firstWeekContainsDate)??((y=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((x=(w=i.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0;if(e==="")return t===""?Ve(n):yt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},f=[new Aj],u=e.match(u7).map(I=>{const E=I[0];if(E in ov){const S=ov[E];return S(I,s.formatLong)}return I}).join("").match(l7),c=[];for(let I of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&OI(I)&&av(I,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&RI(I)&&av(I,e,t);const E=I[0],S=a7[E];if(S){const{incompatibleTokens:k}=S;if(Array.isArray(k)){const T=c.find(R=>k.includes(R.token)||R.token===E);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${I}\` at the same time`)}else if(S.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);c.push({token:E,fullToken:I});const A=S.run(t,I,s.match,l);if(!A)return yt(n,NaN);f.push(A.setter),t=A.rest}else{if(E.match(h7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(I==="''"?I="'":E==="'"&&(I=p7(I)),t.indexOf(I)===0)t=t.slice(I.length);else return yt(n,NaN)}}if(t.length>0&&d7.test(t))return yt(n,NaN);const d=f.map(I=>I.priority).sort((I,E)=>E-I).filter((I,E,S)=>S.indexOf(I)===E).map(I=>f.filter(E=>E.priority===I).sort((E,S)=>S.subPriority-E.subPriority)).map(I=>I[0]);let h=Ve(n);if(isNaN(h.getTime()))return yt(n,NaN);const p={};for(const I of d){if(!I.validate(h,l))return yt(n,NaN);const E=I.set(h,p,l);Array.isArray(E)?(h=E[0],Object.assign(p,E[1])):h=E}return yt(n,h)}function p7(t){return t.match(c7)[1].replace(f7,"'")}function pw(t,e){const n=_o(t),r=_o(e);return+n==+r}function m7(t,e){return Hr(t,-e)}function NI(t,e){const n=Ve(t),r=n.getFullYear(),i=n.getDate(),s=yt(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=yj(s);return n.setMonth(e,Math.min(i,o)),n}function Rt(t,e){let n=Ve(t);return isNaN(+n)?yt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=NI(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function g7(t,e){const n=Ve(t);return n.setHours(e),n}function LI(t,e){const n=Ve(t);return n.setMilliseconds(e),n}function v7(t,e){const n=Ve(t);return n.setMinutes(e),n}function $I(t,e){const n=Ve(t);return n.setSeconds(e),n}function Ti(t,e){const n=Ve(t);return isNaN(+n)?yt(t,NaN):(n.setFullYear(e),n)}function za(t,e){return Xr(t,-e)}function y7(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:o=0,minutes:a=0,seconds:l=0}=e,f=za(t,r+n*12),u=m7(f,s+i*7),c=a+o*60,h=(l+c*60)*1e3;return yt(t,u.getTime()-h)}function FI(t,e){return _0(t,-e)}function sl(){return ne(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[O("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),O("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),O("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),O("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}sl.compatConfig={MODE:3};function VI(){return ne(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[O("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),O("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}VI.compatConfig={MODE:3};function k0(){return ne(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[O("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}k0.compatConfig={MODE:3};function S0(){return ne(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[O("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}S0.compatConfig={MODE:3};function I0(){return ne(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[O("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),O("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}I0.compatConfig={MODE:3};function R0(){return ne(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[O("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}R0.compatConfig={MODE:3};function O0(){return ne(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[O("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}O0.compatConfig={MODE:3};const Ri=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),P0=(t,e,n)=>uv(t,e,n)||xe(),_7=(t,e,n)=>{const r=e.dateInTz?Ri(new Date(t),e.dateInTz):xe(t);return n?lr(r,!0):r},uv=(t,e,n)=>{if(!t)return null;const r=n?lr(xe(t),!0):xe(t);return e?e.exactMatch?_7(t,e,n):Ri(r,e.timezone):r},b7=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var jr=(t=>(t.month="month",t.year="year",t))(jr||{}),uo=(t=>(t.top="top",t.bottom="bottom",t))(uo||{}),ko=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ko||{}),Yn=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Yn||{});const w7=["timestamp","date","iso"];var ir=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(ir||{}),Vt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Vt||{});function mw(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function E7(t){return e=>Jr(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const T7=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(E7(t))}catch{i=r.map(mw(e))}else i=r.map(mw(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},C0=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:qI(i,e)});return n?r.reverse():r},UI=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Jr(Ri(o,"UTC"),s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},A7=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],pn=t=>{const e=ue(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},x7=t=>({type:"dot",...t??{}}),BI=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,D0={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},_n=t=>t,gw=t=>t===0?t:!t||isNaN(+t)?null:+t,vw=t=>t===null,jI=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},k7=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Lu=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Wa=(t,e)=>k7(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),Ls=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},S7=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function I7(t,e){let n=[...document.querySelectorAll(S7())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const R7=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),qI=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),M0=t=>Jr(t,"dd-MM-yyyy"),Am=t=>Array.isArray(t),gd=(t,e)=>e.get(M0(t)),O7=(t,e)=>t?e?e instanceof Map?!!gd(t,e):e(xe(t)):!1:!0,gr=(t,e,n=!1)=>{if(t.key===Vt.enter||t.key===Vt.space)return n&&t.preventDefault(),e()},yw=(t,e,n,r,i,s)=>{const o=lv(t,e.slice(0,t.length),new Date,{locale:s});return ru(o)&&TI(o)?r||i?o:Rt(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},P7=(t,e,n,r,i,s)=>{const o=Array.isArray(n)?n[0]:n;if(typeof e=="string")return yw(t,e,o,r,i,s);if(Array.isArray(e)){let a=null;for(const l of e)if(a=yw(t,l,o,r,i,s),a)break;return a}return typeof e=="function"?e(t):null},xe=t=>t?new Date(t):new Date,C7=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},lr=(t,e)=>{const n=xe(JSON.parse(JSON.stringify(t))),r=Rt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?xB(r):r},$s=(t,e,n,r)=>{let i=t?xe(t):xe();return(e||e===0)&&(i=g7(i,+e)),(n||n===0)&&(i=v7(i,+n)),(r||r===0)&&(i=$I(i,+r)),LI(i,0)},Wt=(t,e)=>!t||!e?!1:Nu(lr(t),lr(e)),lt=(t,e)=>!t||!e?!1:ha(lr(t),lr(e)),Zt=(t,e)=>!t||!e?!1:Ha(lr(t),lr(e)),Bh=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Zt(n,t[0])&&Wt(n,t[1]):t!=null&&t[0]&&e?Zt(n,t[0])&&Wt(n,e)||Wt(n,t[0])&&Zt(n,e):!1,zr=t=>{const e=Rt(new Date(t),{date:1});return lr(e)},xm=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},So=t=>({hours:is(t),minutes:Hs(t),seconds:qa(t)}),HI=(t,e)=>{if(e){const n=st(xe(e));if(n>t)return 12;if(n===t)return at(xe(e))}},zI=(t,e)=>{if(e){const n=st(xe(e));return n<t?-1:n===t?at(xe(e)):void 0}},Ka=t=>{if(t)return st(xe(t))},WI=(t,e)=>{const n=Zt(t,e)?e:t,r=Zt(e,t)?e:t;return AI({start:n,end:r})},D7=t=>{const e=Xr(t,1);return{month:at(e),year:st(e)}},Vi=(t,e)=>{const n=ii(t,{weekStartsOn:+e}),r=kI(t,{weekStartsOn:+e});return[n,r]},KI=(t,e)=>{const n={hours:is(xe()),minutes:Hs(xe()),seconds:e?qa(xe()):0};return Object.assign(n,t)},Rs=(t,e,n)=>[Rt(xe(t),{date:1}),Rt(xe(),{month:e,year:n,date:1})],Wi=(t,e,n)=>{let r=t?xe(t):xe();return(e||e===0)&&(r=NI(r,e)),n&&(r=Ti(r,n)),r},YI=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Xr(t,1):za(t,1),o=[at(s),st(s)];return i?!N7(...o,e):!M7(...o,n)},M7=(t,e,n)=>Wt(...Rs(n,t,e))||lt(...Rs(n,t,e)),N7=(t,e,n)=>Zt(...Rs(n,t,e))||lt(...Rs(n,t,e)),GI=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Jr(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?Jr(t[1],s,a):""}`:Jr(t,s,a)},sa=t=>{if(t)return null;throw new Error(D0.prop("partial-range"))},rf=(t,e)=>{if(e)return t();throw new Error(D0.prop("range"))},cv=t=>Array.isArray(t)?ru(t[0])&&(t[1]?ru(t[1]):!0):t?ru(t):!1,L7=(t,e)=>Rt(e??xe(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),km=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Nu(t,e):Ha(t,e),s={seconds:0,milliseconds:0};return i||ha(Rt(t,s),Rt(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Sm=(t,e,n)=>t?L7(t,e):xe(n??e),_w=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Sm(t,r[0],e),a=Sm(t,r[1],e);return km(r[0],o,n,!!e)&&km(r[1],a,n,!!e)&&i}const s=Sm(t,r,e);return km(r,s,n,!!e)&&i},Im=t=>Rt(xe(),So(t)),$7=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>st(xe(n))===e).map(n=>at(n)):[],QI=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),N0=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),XI=t=>Jr(t,"yyyy-MM-dd"),Sl=Fr({menuFocused:!1,shiftKeyInMenu:!1}),JI=()=>{const t=n=>{Sl.menuFocused=n},e=n=>{Sl.shiftKeyInMenu!==n&&(Sl.shiftKeyInMenu=n)};return{control:ge(()=>({shiftKeyInMenu:Sl.shiftKeyInMenu,menuFocused:Sl.menuFocused})),setMenuFocused:t,setShiftKey:e}},Ct=Fr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Rm=he(null),sf=he(!1),Om=he(!1),Pm=he(!1),Cm=he(!1),zn=he(0),Jt=he(0),Js=()=>{const t=ge(()=>sf.value?[...Ct.selectionGrid,Ct.actionRow].filter(c=>c.length):Om.value?[...Ct.timePicker[0],...Ct.timePicker[1],Cm.value?[]:[Rm.value],Ct.actionRow].filter(c=>c.length):Pm.value?[...Ct.monthPicker,Ct.actionRow]:[Ct.monthYear,...Ct.calendar,Ct.time,Ct.actionRow].filter(c=>c.length)),e=c=>{zn.value=c?zn.value+1:zn.value-1;let d=null;t.value[Jt.value]&&(d=t.value[Jt.value][zn.value]),!d&&t.value[Jt.value+(c?1:-1)]?(Jt.value=Jt.value+(c?1:-1),zn.value=c?0:t.value[Jt.value].length-1):d||(zn.value=c?zn.value-1:zn.value+1)},n=c=>{Jt.value===0&&!c||Jt.value===t.value.length&&c||(Jt.value=c?Jt.value+1:Jt.value-1,t.value[Jt.value]?t.value[Jt.value]&&!t.value[Jt.value][zn.value]&&zn.value!==0&&(zn.value=t.value[Jt.value].length-1):Jt.value=c?Jt.value-1:Jt.value+1)},r=c=>{let d=null;t.value[Jt.value]&&(d=t.value[Jt.value][zn.value]),d?d.focus({preventScroll:!sf.value}):zn.value=c?zn.value-1:zn.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(c,d)=>{Ct[d]=c},f=(c,d)=>{Ct[d]=c},u=()=>{zn.value=0,Jt.value=0};return{buildMatrix:l,buildMultiLevelMatrix:f,setTimePickerBackRef:c=>{Rm.value=c},setSelectionGrid:c=>{sf.value=c,u(),c||(Ct.selectionGrid=[])},setTimePicker:(c,d=!1)=>{Om.value=c,Cm.value=d,u(),c||(Ct.timePicker[0]=[],Ct.timePicker[1]=[])},setTimePickerElements:(c,d=0)=>{Ct.timePicker[d]=c},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Ct.monthYear=[],Ct.calendar=[],Ct.time=[],Ct.actionRow=[],Ct.selectionGrid=[],Ct.timePicker[0]=[],Ct.timePicker[1]=[],sf.value=!1,Om.value=!1,Cm.value=!1,Pm.value=!1,u(),Rm.value=null},setMonthPicker:c=>{Pm.value=c,u()},refSets:Ct}},bw=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),F7=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),ww=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,V7=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:ww(!1)};const r=e?t:{},i=e?r.count??!0:t,s=ww(i);return Object.assign(n,r,{count:s})},U7=(t,e,n)=>t||(typeof n=="string"?n:e),B7=t=>typeof t=="boolean"?t?bw({}):!1:bw(t),j7=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},q7=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),H7=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),z7=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},W7=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),K7=t=>{const e={dates:Array.isArray(t)?t.map(n=>xe(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},Y7=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},G7=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},Q7=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Dm=(t,e,n)=>new Map(t.map(r=>{const i=P0(r,e,n);return[M0(i),i]})),X7=(t,e)=>t.length?new Map(t.map(n=>{const r=P0(n.date,e);return[M0(r),n]})):null,J7=t=>{var e;return{minDate:uv(t.minDate,t.timezone,t.isSpecific),maxDate:uv(t.maxDate,t.timezone,t.isSpecific),disabledDates:Am(t.disabledDates)?Dm(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Am(t.allowedDates)?Dm(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Am((e=t.highlight)==null?void 0:e.dates)?Dm(t.highlight.dates,t.timezone):t.highlight,markers:X7(t.markers,t.timezone)}},Z7=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Ht=t=>{const e=()=>{const w=t.enableSeconds?":ss":"",x=t.enableMinutes?":mm":"";return t.is24?`HH${x}${w}`:`hh${x}${w} aa`},n=()=>{var w;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((w=y.value)==null?void 0:w.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=w=>KI(w,t.enableSeconds),i=()=>g.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ge(()=>V7(t.multiCalendars)),o=ge(()=>i()),a=ge(()=>F7(t.ariaLabels)),l=ge(()=>q7(t.filters)),f=ge(()=>B7(t.transitions)),u=ge(()=>H7(t.actionRow)),c=ge(()=>U7(t.previewFormat,t.format,n())),d=ge(()=>j7(t.textInput)),h=ge(()=>z7(t.inline)),p=ge(()=>W7(t.config)),m=ge(()=>K7(t.highlight)),y=ge(()=>Y7(t.weekNumbers)),v=ge(()=>Q7(t.timezone,t.emitTimezone)),_=ge(()=>Z7(t.multiDates,t.multiDatesLimit)),b=ge(()=>J7({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:m.value,markers:t.markers,timezone:v.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),g=ge(()=>G7(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:f,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:c,defaultedTextInput:d,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:y,defaultedRange:g,propDates:b,defaultedTz:v,defaultedMultiDates:_,getDefaultPattern:n,getDefaultStartTime:i}},eq=(t,e,n)=>{const r=he(),{defaultedTextInput:i,defaultedRange:s,defaultedTz:o,defaultedMultiDates:a,getDefaultPattern:l}=Ht(e),f=he(""),u=au(e,"format"),c=au(e,"formatLocale");un(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,j(!0))},{deep:!0}),un(s,(F,J)=>{F.enabled!==J.enabled&&(r.value=null)}),un(u,()=>{G()});const d=F=>o.value.timezone&&o.value.convertModel?Ri(F,o.value.timezone):F,h=F=>{if(o.value.timezone&&o.value.convertModel){const J=b7(o.value.timezone);return yB(F,J)}return F},p=(F,J,K=!1)=>GI(F,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,J??l(),K),m=F=>F?e.modelType?B(F):{hours:is(F),minutes:Hs(F),seconds:e.enableSeconds?qa(F):0}:null,y=F=>e.modelType?B(F):{month:at(F),year:st(F)},v=F=>Array.isArray(F)?a.value.enabled?F.map(J=>_(J,Ti(xe(),J))):rf(()=>[Ti(xe(),F[0]),F[1]?Ti(xe(),F[1]):sa(s.value.partialRange)],s.value.enabled):Ti(xe(),+F),_=(F,J)=>(typeof F=="string"||typeof F=="number")&&e.modelType?H(F):J,b=F=>Array.isArray(F)?[_(F[0],$s(null,+F[0].hours,+F[0].minutes,F[0].seconds)),_(F[1],$s(null,+F[1].hours,+F[1].minutes,F[1].seconds))]:_(F,$s(null,F.hours,F.minutes,F.seconds)),g=F=>{const J=Rt(xe(),{date:1});return Array.isArray(F)?a.value.enabled?F.map(K=>_(K,Wi(J,+K.month,+K.year))):rf(()=>[_(F[0],Wi(J,+F[0].month,+F[0].year)),_(F[1],F[1]?Wi(J,+F[1].month,+F[1].year):sa(s.value.partialRange))],s.value.enabled):_(F,Wi(J,+F.month,+F.year))},w=F=>{if(Array.isArray(F))return F.map(J=>H(J));throw new Error(D0.dateArr("multi-dates"))},x=F=>{if(Array.isArray(F)&&s.value.enabled){const J=F[0],K=F[1];return[xe(Array.isArray(J)?J[0]:null),xe(Array.isArray(K)?K[0]:null)]}return xe(F[0])},I=F=>e.modelAuto?Array.isArray(F)?[H(F[0]),H(F[1])]:e.autoApply?[H(F)]:[H(F),null]:Array.isArray(F)?rf(()=>F[1]?[H(F[0]),F[1]?H(F[1]):sa(s.value.partialRange)]:[H(F[0])],s.value.enabled):H(F),E=()=>{Array.isArray(r.value)&&s.value.enabled&&r.value.length===1&&r.value.push(sa(s.value.partialRange))},S=()=>{const F=r.value;return[B(F[0]),F[1]?B(F[1]):sa(s.value.partialRange)]},k=()=>r.value[1]?S():B(_n(r.value[0])),A=()=>(r.value||[]).map(F=>B(F)),T=(F=!1)=>(F||E(),e.modelAuto?k():a.value.enabled?A():Array.isArray(r.value)?rf(()=>S(),s.value.enabled):B(_n(r.value))),R=F=>!F||Array.isArray(F)&&!F.length?null:e.timePicker?b(_n(F)):e.monthPicker?g(_n(F)):e.yearPicker?v(_n(F)):a.value.enabled?w(_n(F)):e.weekPicker?x(_n(F)):I(_n(F)),N=F=>{const J=R(F);cv(_n(J))?(r.value=_n(J),G()):(r.value=null,f.value="")},D=()=>{const F=J=>Jr(J,i.value.format);return`${F(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?F(r.value[1]):""}`},P=()=>n.value&&r.value?Array.isArray(r.value)?D():Jr(r.value,i.value.format):p(r.value),C=()=>r.value?a.value.enabled?r.value.map(F=>p(F)).join("; "):i.value.enabled&&typeof i.value.format=="string"?P():p(r.value):"",G=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?f.value=C():f.value=e.format(r.value)},H=F=>{if(e.utc){const J=new Date(F);return e.utc==="preserve"?new Date(J.getTime()+J.getTimezoneOffset()*6e4):J}return e.modelType?w7.includes(e.modelType)?d(new Date(F)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?d(lv(F,l(),new Date,{locale:c.value})):d(lv(F,e.modelType,new Date,{locale:c.value})):d(new Date(F))},B=F=>F?e.utc?C7(F,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(F):e.modelType==="iso"?h(F).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(F)):p(h(F),e.modelType,!0):h(F):"",$=(F,J=!1,K=!1)=>{if(K)return F;if(t("update:model-value",F),o.value.emitTimezone&&J){const se=Array.isArray(F)?F.map(ce=>Ri(_n(ce),o.value.emitTimezone)):Ri(_n(F),o.value.emitTimezone);t("update:model-timezone-value",se)}},V=F=>Array.isArray(r.value)?a.value.enabled?r.value.map(J=>F(J)):[F(r.value[0]),r.value[1]?F(r.value[1]):sa(s.value.partialRange)]:F(_n(r.value)),M=()=>{if(Array.isArray(r.value)){const F=Vi(r.value[0],e.weekStart),J=r.value[1]?Vi(r.value[1],e.weekStart):[];return[F.map(K=>xe(K)),J.map(K=>xe(K))]}return Vi(r.value,e.weekStart).map(F=>xe(F))},W=(F,J)=>$(_n(V(F)),!1,J),z=F=>{const J=M();return F?J:t("update:model-value",M())},j=(F=!1)=>(F||G(),e.monthPicker?W(y,F):e.timePicker?W(m,F):e.yearPicker?W(st,F):e.weekPicker?z(F):$(T(F),!0,F));return{inputValue:f,internalModelValue:r,checkBeforeEmit:()=>r.value?s.value.enabled?s.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:N,formatInputValue:G,emitModelValue:j}},tq=(t,e)=>{const{defaultedFilters:n,propDates:r}=Ht(t),{validateMonthYearInRange:i}=Zs(t),s=(u,c)=>{let d=u;return n.value.months.includes(at(d))?(d=c?Xr(u,1):za(u,1),s(d,c)):d},o=(u,c)=>{let d=u;return n.value.years.includes(st(d))?(d=c?_0(u,1):FI(u,1),o(d,c)):d},a=(u,c=!1)=>{const d=Rt(xe(),{month:t.month,year:t.year});let h=u?Xr(d,1):za(d,1);t.disableYearSelect&&(h=Ti(h,t.year));let p=at(h),m=st(h);n.value.months.includes(p)&&(h=s(h,u),p=at(h),m=st(h)),n.value.years.includes(m)&&(h=o(h,u),m=st(h)),i(p,m,u,t.preventMinMaxNavigation)&&l(p,m,c)},l=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},f=ge(()=>u=>YI(Rt(xe(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:a,isDisabled:f,updateMonthYear:l}},jh={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},ai={...jh,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},nq=["title"],rq=["disabled"],iq=rn({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ai},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:c}=Ht(r),{isTimeValid:d,isMonthValid:h}=Zs(r),{buildMatrix:p}=Js(),m=he(null),y=he(null),v=he(!1),_=he({}),b=he(null),g=he(null);pt(()=>{r.arrowNavigation&&p([pn(m),pn(y)],"actionRow"),w(),window.addEventListener("resize",w)}),Ga(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var D,P;const C=(D=b.value)==null?void 0:D.getBoundingClientRect(),G=(P=g.value)==null?void 0:P.getBoundingClientRect();C&&G&&(_.value.maxWidth=`${G.width-C.width-20}px`),v.value=!0},0)},x=ge(()=>f.value.enabled&&!f.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),I=ge(()=>!d.value(r.internalModelValue)||!h.value(r.internalModelValue)||!x.value),E=()=>{const D=s.value;return r.timePicker||r.monthPicker,D(_n(r.internalModelValue))},S=()=>{const D=r.internalModelValue;return o.value.count>0?`${k(D[0])} - ${k(D[1])}`:[k(D[0]),k(D[1])]},k=D=>GI(D,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,c()),A=ge(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?S():u.value.enabled?r.internalModelValue.map(D=>`${k(D)}`):r.modelAuto?`${k(r.internalModelValue[0])}`:`${k(r.internalModelValue[0])} -`:k(r.internalModelValue):E()),T=()=>u.value.enabled?"; ":" - ",R=ge(()=>Array.isArray(A.value)?A.value.join(T()):A.value),N=()=>{d.value(r.internalModelValue)&&h.value(r.internalModelValue)&&x.value?n("select-date"):n("invalid-select")};return(D,P)=>(ne(),ae("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[D.$slots["action-row"]?Ne(D.$slots,"action-row",En(gn({key:0},{internalModelValue:D.internalModelValue,disabled:I.value,selectDate:()=>D.$emit("select-date"),closePicker:()=>D.$emit("close-picker")}))):(ne(),ae(Ie,{key:1},[ue(i).showPreview?(ne(),ae("div",{key:0,class:"dp__selection_preview",title:R.value,style:wn(_.value)},[D.$slots["action-preview"]&&v.value?Ne(D.$slots,"action-preview",{key:0,value:D.internalModelValue}):me("",!0),!D.$slots["action-preview"]&&v.value?(ne(),ae(Ie,{key:1},[ot(we(R.value),1)],64)):me("",!0)],12,nq)):me("",!0),O("div",{ref_key:"actionBtnContainer",ref:b,class:"dp__action_buttons","data-dp-element":"action-row"},[D.$slots["action-buttons"]?Ne(D.$slots,"action-buttons",{key:0,value:D.internalModelValue}):me("",!0),D.$slots["action-buttons"]?me("",!0):(ne(),ae(Ie,{key:1},[!ue(l).enabled&&ue(i).showCancel?(ne(),ae("button",{key:0,ref_key:"cancelButtonRef",ref:m,type:"button",class:"dp__action_button dp__action_cancel",onClick:P[0]||(P[0]=C=>D.$emit("close-picker")),onKeydown:P[1]||(P[1]=C=>ue(gr)(C,()=>D.$emit("close-picker")))},we(D.cancelText),545)):me("",!0),ue(i).showNow?(ne(),ae("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:P[2]||(P[2]=C=>D.$emit("select-now")),onKeydown:P[3]||(P[3]=C=>ue(gr)(C,()=>D.$emit("select-now")))},we(D.nowButtonLabel),33)):me("",!0),ue(i).showSelect?(ne(),ae("button",{key:2,ref_key:"selectButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_select",disabled:I.value,"data-test":"select-button",onKeydown:P[4]||(P[4]=C=>ue(gr)(C,()=>N())),onClick:N},we(D.selectText),41,rq)):me("",!0)],64))],512)],64))],512))}}),sq={class:"dp__selection_grid_header"},oq=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],aq=["aria-label"],cc=rn({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Js(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:f,defaultedConfig:u}=Ht(a),{hideNavigationButtons:c}=zh(),d=he(!1),h=he(null),p=he(null),m=he([]),y=he(),v=he(null),_=he(0),b=he(null);UE(()=>{h.value=null}),pt(()=>{Vn().then(()=>A()),a.noOverlayFocus||w(),g(!0)}),Ga(()=>g(!1));const g=V=>{var M;a.arrowNavigation&&((M=a.headerRefs)!=null&&M.length?s(V):r(V))},w=()=>{var V;const M=pn(p);M&&(f.value.enabled||(h.value?(V=h.value)==null||V.focus({preventScroll:!0}):M.focus({preventScroll:!0})),d.value=M.clientHeight<M.scrollHeight)},x=ge(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),I=ge(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=ge(()=>({dp__overlay_col:!0})),S=ge(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:d.value,dp__button_bottom:a.isLast})),k=ge(()=>{var V,M;return{dp__overlay_container:!0,dp__container_flex:((V=a.items)==null?void 0:V.length)<=6,dp__container_block:((M=a.items)==null?void 0:M.length)>6}});un(()=>a.items,()=>A(!1),{deep:!0});const A=(V=!0)=>{Vn().then(()=>{const M=pn(h),W=pn(p),z=pn(v),j=pn(b),F=z?z.getBoundingClientRect().height:0;W&&(W.getBoundingClientRect().height?_.value=W.getBoundingClientRect().height-F:_.value=u.value.modeHeight-F),M&&j&&V&&(j.scrollTop=M.offsetTop-j.offsetTop-(_.value/2-M.getBoundingClientRect().height)-F)})},T=V=>{V.disabled||o("selected",V.value)},R=()=>{o("toggle"),o("reset-flow")},N=()=>{a.escClose&&R()},D=(V,M,W,z)=>{V&&((M.active||M.value===a.focusValue)&&(h.value=V),a.arrowNavigation&&(Array.isArray(m.value[W])?m.value[W][z]=V:m.value[W]=[V],P()))},P=()=>{var V,M;const W=(V=a.headerRefs)!=null&&V.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[v.value]]);i(_n(W),(M=a.headerRefs)!=null&&M.length?"monthPicker":"selectionGrid")},C=V=>{a.arrowNavigation||Ls(V,u.value,!0)},G=V=>{y.value=V,o("hover-value",V)},H=()=>{if(R(),!a.isLast){const V=R7(a.menuWrapRef??null,"action-row");if(V){const M=jI(V);M==null||M.focus()}}},B=V=>{switch(V.key){case Vt.esc:return N();case Vt.arrowLeft:return C(V);case Vt.arrowRight:return C(V);case Vt.arrowUp:return C(V);case Vt.arrowDown:return C(V);default:return}},$=V=>{if(V.key===Vt.enter)return R();if(V.key===Vt.tab)return H()};return e({focusGrid:w}),(V,M)=>{var W;return ne(),ae("div",{ref_key:"gridWrapRef",ref:p,class:Ke(x.value),style:wn(I.value),role:"dialog",tabindex:"0",onKeydown:B,onClick:M[0]||(M[0]=Lr(()=>{},["prevent"]))},[O("div",{ref_key:"containerRef",ref:b,class:Ke(k.value),role:"grid",style:wn({"--dp-overlay-height":`${_.value}px`})},[O("div",sq,[Ne(V.$slots,"header")]),V.$slots.overlay?Ne(V.$slots,"overlay",{key:0}):(ne(!0),ae(Ie,{key:1},Ge(V.items,(z,j)=>(ne(),ae("div",{key:j,class:Ke(["dp__overlay_row",{dp__flex_row:V.items.length>=3}]),role:"row"},[(ne(!0),ae(Ie,null,Ge(z,(F,J)=>(ne(),ae("div",{key:F.value,ref_for:!0,ref:K=>D(K,F,j,J),role:"gridcell",class:Ke(E.value),"aria-selected":F.active||void 0,"aria-disabled":F.disabled||void 0,tabindex:"0","data-test":F.text,onClick:Lr(K=>T(F),["prevent"]),onKeydown:K=>ue(gr)(K,()=>T(F),!0),onMouseover:K=>G(F.value)},[O("div",{class:Ke(F.className)},[V.$slots.item?Ne(V.$slots,"item",{key:0,item:F}):me("",!0),V.$slots.item?me("",!0):(ne(),ae(Ie,{key:1},[ot(we(F.text),1)],64))],2)],42,oq))),128))],2))),128))],6),V.$slots["button-icon"]?wt((ne(),ae("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(W=ue(l))==null?void 0:W.toggleOverlay,class:Ke(S.value),tabindex:"0",onClick:R,onKeydown:$},[Ne(V.$slots,"button-icon")],42,aq)),[[Wl,!ue(c)(V.hideNavigation,V.type)]]):me("",!0)],38)}}}),qh=rn({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=ge(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ge(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(ne(),ae("div",{class:Ke({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(ne(!0),ae(Ie,null,Ge(n.value,(o,a)=>(ne(),ae("div",{key:o,class:Ke(r.value)},[Ne(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),lq=["aria-label","aria-disabled"],iu=rn({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=he(null);return pt(()=>n("set-ref",r)),(i,s)=>(ne(),ae("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:s[1]||(s[1]=o=>ue(gr)(o,()=>i.$emit("activate"),!0))},[O("span",{class:Ke(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Ne(i.$slots,"default")],2)],40,lq))}}),uq={class:"dp--year-mode-picker"},cq=["aria-label","data-test"],ZI=rn({__name:"YearModePicker",props:{...ai,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=zh(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:f}=Ht(r),{showTransition:u,transitionName:c}=fc(f),d=(m=!1,y)=>{n("toggle-year-picker",{flow:m,show:y})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,y)=>{var v,_,b;return ne(),ae("div",uq,[ue(s)(ue(a),t.instance)?(ne(),Ue(iu,{key:0,ref:"mpPrevIconRef","aria-label":(v=ue(l))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=g=>p(!1))},{default:He(()=>[m.$slots["arrow-left"]?Ne(m.$slots,"arrow-left",{key:0}):me("",!0),m.$slots["arrow-left"]?me("",!0):(ne(),Ue(ue(k0),{key:1}))]),_:3},8,["aria-label","disabled"])):me("",!0),O("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(_=ue(l))==null?void 0:_.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:y[1]||(y[1]=()=>d(!1)),onKeydown:y[2]||(y[2]=uT(()=>d(!1),["enter"]))},[m.$slots.year?Ne(m.$slots,"year",{key:0,year:t.year}):me("",!0),m.$slots.year?me("",!0):(ne(),ae(Ie,{key:1},[ot(we(t.year),1)],64))],40,cq),ue(i)(ue(a),t.instance)?(ne(),Ue(iu,{key:1,ref:"mpNextIconRef","aria-label":(b=ue(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=g=>p(!0))},{default:He(()=>[m.$slots["arrow-right"]?Ne(m.$slots,"arrow-right",{key:0}):me("",!0),m.$slots["arrow-right"]?me("",!0):(ne(),Ue(ue(S0),{key:1}))]),_:3},8,["aria-label","disabled"])):me("",!0),Ce(Zr,{name:ue(c)(t.showYearPicker),css:ue(u)},{default:He(()=>[t.showYearPicker?(ne(),Ue(cc,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!ue(o).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,type:"year",onToggle:d,onSelected:y[4]||(y[4]=g=>h(g))},Xn({"button-icon":He(()=>[m.$slots["calendar-icon"]?Ne(m.$slots,"calendar-icon",{key:0}):me("",!0),m.$slots["calendar-icon"]?me("",!0):(ne(),Ue(ue(sl),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:He(({item:g})=>[Ne(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):me("",!0)]),_:3},8,["name","css"])])}}}),L0=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>lt(t,r))){const r=e.value.filter(i=>!lt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},$0=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Wt(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},Hh=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},eR=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Ri(xe(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ri(xe(t.value),t.timezone))},tR=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Zt(t,e.value[0])||lt(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Wt(t,e.value[1])||lt(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],nR=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:s,props:o,filters:a,year:l,month:f,emit:u})=>{const c=ge(()=>C0(o.yearRange,o.locale,o.reverseYears)),d=he([!1]),h=ge(()=>(S,k)=>{const A=Rt(zr(new Date),{month:f.value(S),year:l.value(S)}),T=k?xI(A):b0(A);return YI(T,r.value.maxDate,r.value.minDate,o.preventMinMaxNavigation,k)}),p=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],m=()=>{for(let S=0;S<t.value.count;S++)if(S===0)i.value[S]=i.value[0];else if(S===t.value.count-1&&p())i.value[S]={month:at(s.value[1]),year:st(s.value[1])};else{const k=Rt(xe(),i.value[S-1]);i.value[S]={month:at(k),year:st(_0(k,1))}}},y=S=>{if(!S)return m();const k=Rt(xe(),i.value[S]);return i.value[0].year=st(FI(k,t.value.count-1)),m()},v=(S,k)=>{const A=TB(k,S);return e.value.showLastInRange&&A>1?k:S},_=S=>o.focusStartDate||t.value.solo?S[0]:S[1]?v(S[0],S[1]):S[0],b=()=>{if(s.value){const S=Array.isArray(s.value)?_(s.value):s.value;i.value[0]={month:at(S),year:st(S)}}};pt(()=>{b(),t.value.count&&m()});const g=(S,k)=>{i.value[k].year=S,u("update-month-year",{instance:k,year:S,month:i.value[k].month}),t.value.count&&!t.value.solo&&y(k)},w=ge(()=>S=>Wa(c.value,k=>{var A;const T=l.value(S)===k.value,R=Lu(k.value,Ka(r.value.minDate),Ka(r.value.maxDate))||((A=a.value.years)==null?void 0:A.includes(l.value(S))),N=N0(n.value,k.value);return{active:T,disabled:R,highlighted:N}})),x=(S,k)=>{g(S,k),E(k)},I=(S,k=!1)=>{if(!h.value(S,k)){const A=k?l.value(S)+1:l.value(S)-1;g(A,S)}},E=(S,k=!1,A)=>{k||u("reset-flow"),A!==void 0?d.value[S]=A:d.value[S]=!d.value[S],d.value[S]?u("overlay-toggle",{open:!0,overlay:Yn.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:Yn.year}))};return{isDisabled:h,groupedYears:w,showYearPicker:d,selectYear:g,toggleYearPicker:E,handleYearSelect:x,handleYear:I}},fq=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedRange:o,defaultedHighlight:a,propDates:l,defaultedTz:f,defaultedFilters:u,defaultedMultiDates:c}=Ht(t),{modelValue:d,year:h,month:p,calendars:m}=dc(t,e),y=ge(()=>UI(t.formatLocale,t.locale,t.monthNameFormat)),v=he(null),{checkMinMaxRange:_}=Zs(t),{selectYear:b,groupedYears:g,showYearPicker:w,toggleYearPicker:x,handleYearSelect:I,handleYear:E,isDisabled:S}=nR({modelValue:d,multiCalendars:n,range:o,highlight:a,calendars:m,year:h,propDates:l,month:p,filters:u,props:t,emit:e});pt(()=>{t.startDate&&(d.value&&t.focusStartDate||!d.value)&&b(st(xe(t.startDate)),0)});const k=M=>M?{month:at(M),year:st(M)}:{month:null,year:null},A=()=>d.value?Array.isArray(d.value)?d.value.map(M=>k(M)):k(d.value):k(),T=(M,W)=>{const z=m.value[M],j=A();return Array.isArray(j)?j.some(F=>F.year===(z==null?void 0:z.year)&&F.month===W):(z==null?void 0:z.year)===j.year&&W===j.month},R=(M,W,z)=>{var j,F;const J=A();return Array.isArray(J)?h.value(W)===((j=J[z])==null?void 0:j.year)&&M===((F=J[z])==null?void 0:F.month):!1},N=(M,W)=>{if(o.value.enabled){const z=A();if(Array.isArray(d.value)&&Array.isArray(z)){const j=R(M,W,0)||R(M,W,1),F=Wi(zr(xe()),M,h.value(W));return Bh(d.value,v.value,F)&&!j}return!1}return!1},D=ge(()=>M=>Wa(y.value,W=>{var z;const j=T(M,W.value),F=Lu(W.value,HI(h.value(M),l.value.minDate),zI(h.value(M),l.value.maxDate))||$7(l.value.disabledDates,h.value(M)).includes(W.value)||((z=u.value.months)==null?void 0:z.includes(W.value)),J=N(W.value,M),K=QI(a.value,W.value,h.value(M));return{active:j,disabled:F,isBetween:J,highlighted:K}})),P=(M,W)=>Wi(zr(xe()),M,h.value(W)),C=(M,W)=>{const z=d.value?d.value:zr(new Date);d.value=Wi(z,M,h.value(W)),e("auto-apply"),e("update-flow-step")},G=(M,W)=>{const z=P(M,W);o.value.fixedEnd||o.value.fixedStart?d.value=tR(z,d,e,o):d.value?_(z,d.value)&&(d.value=$0(d,P(M,W),e)):d.value=[P(M,W)],Vn().then(()=>{Hh(d.value,e,t.autoApply,t.modelAuto)})},H=(M,W)=>{L0(P(M,W),d,c.value.limit),e("auto-apply",!0)},B=(M,W)=>(m.value[W].month=M,V(W,m.value[W].year,M),c.value.enabled?H(M,W):o.value.enabled?G(M,W):C(M,W)),$=(M,W)=>{b(M,W),V(W,M,null)},V=(M,W,z)=>{let j=z;if(!j&&j!==0){const F=A();j=Array.isArray(F)?F[M].month:F.month}e("update-month-year",{instance:M,year:W,month:j})};return{groupedMonths:D,groupedYears:g,year:h,isDisabled:S,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:w,modelValue:d,presetDate:(M,W)=>{eR({value:M,modelValue:d,range:o.value.enabled,timezone:W?void 0:f.value.timezone}),e("auto-apply")},setHoverDate:(M,W)=>{v.value=P(M,W)},selectMonth:B,selectYear:$,toggleYearPicker:x,handleYearSelect:I,handleYear:E,getModelMonthYear:A}},dq=rn({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ai},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=Uo(),s=Sr(i,"yearMode"),o=t;pt(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:f,isDisabled:u,defaultedMultiCalendars:c,defaultedConfig:d,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:y,selectMonth:v,selectYear:_,toggleYearPicker:b,handleYearSelect:g,handleYear:w,getModelMonthYear:x}=fq(o,r);return e({getSidebarProps:()=>({modelValue:p,year:f,getModelMonthYear:x,selectMonth:v,selectYear:_,handleYear:w}),presetDate:m,toggleYearPicker:I=>b(0,I)}),(I,E)=>(ne(),Ue(qh,{"multi-calendars":ue(c).count,collapse:I.collapse,stretch:""},{default:He(({instance:S})=>[I.$slots["top-extra"]?Ne(I.$slots,"top-extra",{key:0,value:I.internalModelValue}):me("",!0),I.$slots["month-year"]?Ne(I.$slots,"month-year",En(gn({key:1},{year:ue(f),months:ue(a)(S),years:ue(l)(S),selectMonth:ue(v),selectYear:ue(_),instance:S}))):(ne(),Ue(cc,{key:2,items:ue(a)(S),"arrow-navigation":I.arrowNavigation,"is-last":I.autoApply&&!ue(d).keepActionRow,"esc-close":I.escClose,height:ue(d).modeHeight,config:I.config,"no-overlay-focus":!!(I.noOverlayFocus||I.textInput),"use-relative":"",type:"month",onSelected:k=>ue(v)(k,S),onHoverValue:k=>ue(y)(k,S)},Xn({header:He(()=>[Ce(ZI,gn(I.$props,{items:ue(l)(S),instance:S,"show-year-picker":ue(h)[S],year:ue(f)(S),"is-disabled":k=>ue(u)(S,k),onHandleYear:k=>ue(w)(S,k),onYearSelect:k=>ue(g)(k,S),onToggleYearPicker:k=>ue(b)(S,k==null?void 0:k.flow,k==null?void 0:k.show)}),Xn({_:2},[Ge(ue(s),(k,A)=>({name:k,fn:He(T=>[Ne(I.$slots,k,En(or(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[I.$slots["month-overlay-value"]?{name:"item",fn:He(({item:k})=>[Ne(I.$slots,"month-overlay-value",{text:k.text,value:k.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),hq=(t,e)=>{const{modelValue:n}=dc(t,e),r=he(null),{defaultedHighlight:i,defaultedMultiDates:s,defaultedFilters:o,defaultedRange:a,propDates:l}=Ht(t),f=he();pt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(f.value=st(xe(t.startDate)))});const u=p=>Array.isArray(n.value)?n.value.some(m=>st(m)===p):n.value?st(n.value)===p:!1,c=p=>a.value.enabled&&Array.isArray(n.value)?Bh(n.value,r.value,h(p)):!1,d=ge(()=>Wa(C0(t.yearRange,t.locale,t.reverseYears),p=>{const m=u(p.value),y=Lu(p.value,Ka(l.value.minDate),Ka(l.value.maxDate))||o.value.years.includes(p.value),v=c(p.value)&&!m,_=N0(i.value,p.value);return{active:m,disabled:y,isBetween:v,highlighted:_}})),h=p=>Ti(zr(new Date),p);return{groupedYears:d,modelValue:n,focusYear:f,setHoverValue:p=>{r.value=Ti(zr(new Date),p)},selectYear:p=>{var m;if(e("update-month-year",{instance:0,year:p}),s.value.enabled)return n.value?Array.isArray(n.value)&&(((m=n.value)==null?void 0:m.map(y=>st(y))).includes(p)?n.value=n.value.filter(y=>st(y)!==p):n.value.push(Ti(lr(xe()),p))):n.value=[Ti(lr(xe()),p)],e("auto-apply",!0);a.value.enabled?(n.value=$0(n,h(p),e),Vn().then(()=>{Hh(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},pq=rn({compatConfig:{MODE:3},__name:"YearPicker",props:{...ai},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:f}=hq(i,r),{defaultedConfig:u}=Ht(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(c,d)=>(ne(),ae("div",null,[c.$slots["top-extra"]?Ne(c.$slots,"top-extra",{key:0,value:c.internalModelValue}):me("",!0),c.$slots["month-year"]?Ne(c.$slots,"month-year",En(gn({key:1},{years:ue(s),selectYear:ue(l)}))):(ne(),Ue(cc,{key:2,items:ue(s),"is-last":c.autoApply&&!ue(u).keepActionRow,height:ue(u).modeHeight,config:c.config,"no-overlay-focus":!!(c.noOverlayFocus||c.textInput),"focus-value":ue(a),type:"year","use-relative":"",onSelected:ue(l),onHoverValue:ue(f)},Xn({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:He(({item:h})=>[Ne(c.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),mq={key:0,class:"dp__time_input"},gq=["data-test","aria-label","onKeydown","onClick","onMousedown"],vq=O("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),yq=O("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),_q=["aria-label","disabled","data-test","onKeydown","onClick"],bq=["data-test","aria-label","onKeydown","onClick","onMousedown"],wq=O("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Eq=O("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Tq={key:0},Aq=["aria-label"],xq=rn({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ai},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Js(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:f,defaultedConfig:u,defaultedRange:c}=Ht(i),{transitionName:d,showTransition:h}=fc(l),p=Fr({hours:!1,minutes:!1,seconds:!1}),m=he("AM"),y=he(null),v=he([]),_=he();pt(()=>{r("mounted")});const b=Z=>Rt(new Date,{hours:Z.hours,minutes:Z.minutes,seconds:i.enableSeconds?Z.seconds:0,milliseconds:0}),g=ge(()=>Z=>P(Z,i[Z])||x(Z,i[Z])),w=ge(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),x=(Z,q)=>c.value.enabled&&!c.value.disableTimeRangeValidation?!i.validateTime(Z,q):!1,I=(Z,q)=>{if(c.value.enabled&&!c.value.disableTimeRangeValidation){const Q=q?+i[`${Z}Increment`]:-+i[`${Z}Increment`],Y=i[Z]+Q;return!i.validateTime(Z,Y)}return!1},E=ge(()=>Z=>!$(+i[Z]+ +i[`${Z}Increment`],Z)||I(Z,!0)),S=ge(()=>Z=>!$(+i[Z]-+i[`${Z}Increment`],Z)||I(Z,!1)),k=(Z,q)=>yI(Rt(xe(),Z),q),A=(Z,q)=>y7(Rt(xe(),Z),q),T=ge(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),R=ge(()=>{const Z=[{type:"hours"}];return i.enableMinutes&&Z.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&Z.push({type:"",separator:!0},{type:"seconds"}),Z}),N=ge(()=>R.value.filter(Z=>!Z.separator)),D=ge(()=>Z=>{if(Z==="hours"){const q=F(+i.hours);return{text:q<10?`0${q}`:`${q}`,value:q}}return{text:i[Z]<10?`0${i[Z]}`:`${i[Z]}`,value:i[Z]}}),P=(Z,q)=>{var Q;if(!i.disabledTimesConfig)return!1;const Y=i.disabledTimesConfig(i.order,Z==="hours"?q:void 0);return Y[Z]?!!((Q=Y[Z])!=null&&Q.includes(q)):!0},C=(Z,q)=>q!=="hours"||m.value==="AM"?Z:Z+12,G=Z=>{const q=i.is24?24:12,Q=Z==="hours"?q:60,Y=+i[`${Z}GridIncrement`],fe=Z==="hours"&&!i.is24?Y:0,ee=[];for(let U=fe;U<Q;U+=Y)ee.push({value:i.is24?U:C(U,Z),text:U<10?`0${U}`:`${U}`});return Z==="hours"&&!i.is24&&ee.unshift({value:m.value==="PM"?12:0,text:"12"}),Wa(ee,U=>({active:!1,disabled:f.value.times[Z].includes(U.value)||!$(U.value,Z)||P(Z,U.value)||x(Z,U.value)}))},H=Z=>Z>=0?Z:59,B=Z=>Z>=0?Z:23,$=(Z,q)=>{const Q=i.minTime?b(xm(i.minTime)):null,Y=i.maxTime?b(xm(i.maxTime)):null,fe=b(xm(w.value,q,q==="minutes"||q==="seconds"?H(Z):B(Z)));return Q&&Y?(Nu(fe,Y)||ha(fe,Y))&&(Ha(fe,Q)||ha(fe,Q)):Q?Ha(fe,Q)||ha(fe,Q):Y?Nu(fe,Y)||ha(fe,Y):!0},V=Z=>i[`no${Z[0].toUpperCase()+Z.slice(1)}Overlay`],M=Z=>{V(Z)||(p[Z]=!p[Z],p[Z]?r("overlay-opened",Z):r("overlay-closed",Z))},W=Z=>Z==="hours"?is:Z==="minutes"?Hs:qa,z=()=>{_.value&&clearTimeout(_.value)},j=(Z,q=!0,Q)=>{const Y=q?k:A,fe=q?+i[`${Z}Increment`]:-+i[`${Z}Increment`];$(+i[Z]+fe,Z)&&r(`update:${Z}`,W(Z)(Y({[Z]:+i[Z]},{[Z]:+i[`${Z}Increment`]}))),!(Q!=null&&Q.keyboard)&&u.value.timeArrowHoldThreshold&&(_.value=setTimeout(()=>{j(Z,q)},u.value.timeArrowHoldThreshold))},F=Z=>i.is24?Z:(Z>=12?m.value="PM":m.value="AM",A7(Z)),J=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},K=Z=>{p[Z]=!0},se=(Z,q,Q)=>{if(Z&&i.arrowNavigation){Array.isArray(v.value[q])?v.value[q][Q]=Z:v.value[q]=[Z];const Y=v.value.reduce((fe,ee)=>ee.map((U,te)=>[...fe[te]||[],ee[te]]),[]);o(i.closeTimePickerBtn),y.value&&(Y[1]=Y[1].concat(y.value)),s(Y,i.order)}},ce=(Z,q)=>(M(Z),r(`update:${Z}`,q));return e({openChildCmp:K}),(Z,q)=>{var Q;return Z.disabled?me("",!0):(ne(),ae("div",mq,[(ne(!0),ae(Ie,null,Ge(R.value,(Y,fe)=>{var ee,U,te;return ne(),ae("div",{key:fe,class:Ke(T.value)},[Y.separator?(ne(),ae(Ie,{key:0},[ot(" : ")],64)):(ne(),ae(Ie,{key:1},[O("button",{ref_for:!0,ref:ie=>se(ie,fe,0),type:"button",class:Ke({dp__btn:!0,dp__inc_dec_button:!Z.timePickerInline,dp__inc_dec_button_inline:Z.timePickerInline,dp__tp_inline_btn_top:Z.timePickerInline,dp__inc_dec_button_disabled:E.value(Y.type)}),"data-test":`${Y.type}-time-inc-btn-${i.order}`,"aria-label":(ee=ue(a))==null?void 0:ee.incrementValue(Y.type),tabindex:"0",onKeydown:ie=>ue(gr)(ie,()=>j(Y.type,!0,{keyboard:!0}),!0),onClick:ie=>ue(u).timeArrowHoldThreshold?void 0:j(Y.type,!0),onMousedown:ie=>ue(u).timeArrowHoldThreshold?j(Y.type,!0):void 0,onMouseup:z},[i.timePickerInline?(ne(),ae(Ie,{key:1},[vq,yq],64)):(ne(),ae(Ie,{key:0},[Z.$slots["arrow-up"]?Ne(Z.$slots,"arrow-up",{key:0}):me("",!0),Z.$slots["arrow-up"]?me("",!0):(ne(),Ue(ue(R0),{key:1}))],64))],42,gq),O("button",{ref_for:!0,ref:ie=>se(ie,fe,1),type:"button","aria-label":(U=ue(a))==null?void 0:U.openTpOverlay(Y.type),class:Ke({dp__time_display:!0,dp__time_display_block:!Z.timePickerInline,dp__time_display_inline:Z.timePickerInline,"dp--time-invalid":g.value(Y.type),"dp--time-overlay-btn":!g.value(Y.type)}),disabled:V(Y.type),tabindex:"0","data-test":`${Y.type}-toggle-overlay-btn-${i.order}`,onKeydown:ie=>ue(gr)(ie,()=>M(Y.type),!0),onClick:ie=>M(Y.type)},[Z.$slots[Y.type]?Ne(Z.$slots,Y.type,{key:0,text:D.value(Y.type).text,value:D.value(Y.type).value}):me("",!0),Z.$slots[Y.type]?me("",!0):(ne(),ae(Ie,{key:1},[ot(we(D.value(Y.type).text),1)],64))],42,_q),O("button",{ref_for:!0,ref:ie=>se(ie,fe,2),type:"button",class:Ke({dp__btn:!0,dp__inc_dec_button:!Z.timePickerInline,dp__inc_dec_button_inline:Z.timePickerInline,dp__tp_inline_btn_bottom:Z.timePickerInline,dp__inc_dec_button_disabled:S.value(Y.type)}),"data-test":`${Y.type}-time-dec-btn-${i.order}`,"aria-label":(te=ue(a))==null?void 0:te.decrementValue(Y.type),tabindex:"0",onKeydown:ie=>ue(gr)(ie,()=>j(Y.type,!1,{keyboard:!0}),!0),onClick:ie=>ue(u).timeArrowHoldThreshold?void 0:j(Y.type,!1),onMousedown:ie=>ue(u).timeArrowHoldThreshold?j(Y.type,!1):void 0,onMouseup:z},[i.timePickerInline?(ne(),ae(Ie,{key:1},[wq,Eq],64)):(ne(),ae(Ie,{key:0},[Z.$slots["arrow-down"]?Ne(Z.$slots,"arrow-down",{key:0}):me("",!0),Z.$slots["arrow-down"]?me("",!0):(ne(),Ue(ue(O0),{key:1}))],64))],42,bq)],64))],2)}),128)),Z.is24?me("",!0):(ne(),ae("div",Tq,[Z.$slots["am-pm-button"]?Ne(Z.$slots,"am-pm-button",{key:0,toggle:J,value:m.value}):me("",!0),Z.$slots["am-pm-button"]?me("",!0):(ne(),ae("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Q=ue(a))==null?void 0:Q.amPmButton,tabindex:"0",onClick:J,onKeydown:q[0]||(q[0]=Y=>ue(gr)(Y,()=>J(),!0))},we(m.value),41,Aq))])),(ne(!0),ae(Ie,null,Ge(N.value,(Y,fe)=>(ne(),Ue(Zr,{key:fe,name:ue(d)(p[Y.type]),css:ue(h)},{default:He(()=>[p[Y.type]?(ne(),Ue(cc,{key:0,items:G(Y.type),"is-last":Z.autoApply&&!ue(u).keepActionRow,"esc-close":Z.escClose,type:Y.type,"text-input":Z.textInput,config:Z.config,"arrow-navigation":Z.arrowNavigation,"aria-labels":Z.ariaLabels,onSelected:ee=>ce(Y.type,ee),onToggle:ee=>M(Y.type),onResetFlow:q[1]||(q[1]=ee=>Z.$emit("reset-flow"))},Xn({"button-icon":He(()=>[Z.$slots["clock-icon"]?Ne(Z.$slots,"clock-icon",{key:0}):me("",!0),Z.$slots["clock-icon"]?me("",!0):(ne(),Ue(Nd(Z.timePickerInline?ue(sl):ue(I0)),{key:1}))]),_:2},[Z.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:He(({item:ee})=>[Ne(Z.$slots,`${Y.type}-overlay-value`,{text:ee.text,value:ee.value})]),key:"0"}:void 0,Z.$slots[`${Y.type}-overlay-header`]?{name:"header",fn:He(()=>[Ne(Z.$slots,`${Y.type}-overlay-header`,{toggle:()=>M(Y.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):me("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),kq={class:"dp--tp-wrap"},Sq=["aria-label","tabindex"],Iq=["tabindex"],Rq=["aria-label"],rR=rn({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ai},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Js(),a=Uo(),{defaultedTransitions:l,defaultedAriaLabels:f,defaultedTextInput:u,defaultedConfig:c,defaultedRange:d}=Ht(i),{transitionName:h,showTransition:p}=fc(l),{hideNavigationButtons:m}=zh(),y=he(null),v=he(null),_=he([]),b=he(null);pt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([pn(y.value)],"time"):o(!0,i.timePicker)});const g=ge(()=>d.value.enabled&&i.modelAuto?BI(i.internalModelValue):!0),w=he(!1),x=C=>({hours:Array.isArray(i.hours)?i.hours[C]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[C]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[C]:i.seconds}),I=ge(()=>{const C=[];if(d.value.enabled)for(let G=0;G<2;G++)C.push(x(G));else C.push(x(0));return C}),E=(C,G=!1,H="")=>{G||r("reset-flow"),w.value=C,r(C?"overlay-opened":"overlay-closed",Yn.time),i.arrowNavigation&&o(C),Vn(()=>{H!==""&&_.value[0]&&_.value[0].openChildCmp(H)})},S=ge(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!c.value.keepActionRow})),k=Sr(a,"timePicker"),A=(C,G,H)=>d.value.enabled?G===0?[C,I.value[1][H]]:[I.value[0][H],C]:C,T=C=>{r("update:hours",C)},R=C=>{r("update:minutes",C)},N=C=>{r("update:seconds",C)},D=()=>{if(b.value&&!u.value.enabled&&!i.noOverlayFocus){const C=jI(b.value);C&&C.focus({preventScroll:!0})}},P=C=>{r("overlay-closed",C)};return e({toggleTimePicker:E}),(C,G)=>{var H;return ne(),ae("div",kq,[!C.timePicker&&!C.timePickerInline?wt((ne(),ae("button",{key:0,ref_key:"openTimePickerBtn",ref:y,type:"button",class:Ke(S.value),"aria-label":(H=ue(f))==null?void 0:H.openTimePicker,tabindex:C.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:G[0]||(G[0]=B=>ue(gr)(B,()=>E(!0))),onClick:G[1]||(G[1]=B=>E(!0))},[C.$slots["clock-icon"]?Ne(C.$slots,"clock-icon",{key:0}):me("",!0),C.$slots["clock-icon"]?me("",!0):(ne(),Ue(ue(I0),{key:1}))],42,Sq)),[[Wl,!ue(m)(C.hideNavigation,"time")]]):me("",!0),Ce(Zr,{name:ue(h)(w.value),css:ue(p)&&!C.timePickerInline},{default:He(()=>{var B;return[w.value||C.timePicker||C.timePickerInline?(ne(),ae("div",{key:0,ref_key:"overlayRef",ref:b,class:Ke({dp__overlay:!C.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!C.timePickerInline,"dp--overlay-relative":i.timePicker}),style:wn(C.timePicker?{height:`${ue(c).modeHeight}px`}:void 0),tabindex:C.timePickerInline?void 0:0},[O("div",{class:Ke(C.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[C.$slots["time-picker-overlay"]?Ne(C.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:T,setMinutes:R,setSeconds:N}):me("",!0),C.$slots["time-picker-overlay"]?me("",!0):(ne(),ae("div",{key:1,class:Ke(C.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ne(!0),ae(Ie,null,Ge(I.value,($,V)=>wt((ne(),Ue(xq,gn({key:V,ref_for:!0},{...C.$props,order:V,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:V===0?C.fixedStart:C.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:_,"validate-time":(M,W)=>t.validateTime(M,A(W,V,M)),"onUpdate:hours":M=>T(A(M,V,"hours")),"onUpdate:minutes":M=>R(A(M,V,"minutes")),"onUpdate:seconds":M=>N(A(M,V,"seconds")),onMounted:D,onOverlayClosed:P,onOverlayOpened:G[2]||(G[2]=M=>C.$emit("overlay-opened",M)),onAmPmChange:G[3]||(G[3]=M=>C.$emit("am-pm-change",M))}),Xn({_:2},[Ge(ue(k),(M,W)=>({name:M,fn:He(z=>[Ne(C.$slots,M,gn({ref_for:!0},z))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Wl,V===0?!0:g.value]])),128))],2)),!C.timePicker&&!C.timePickerInline?wt((ne(),ae("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:Ke(S.value),"aria-label":(B=ue(f))==null?void 0:B.closeTimePicker,tabindex:"0",onKeydown:G[4]||(G[4]=$=>ue(gr)($,()=>E(!1))),onClick:G[5]||(G[5]=$=>E(!1))},[C.$slots["calendar-icon"]?Ne(C.$slots,"calendar-icon",{key:0}):me("",!0),C.$slots["calendar-icon"]?me("",!0):(ne(),Ue(ue(sl),{key:1}))],42,Rq)),[[Wl,!ue(m)(C.hideNavigation,"time")]]):me("",!0)],2)],14,Iq)):me("",!0)]}),_:3},8,["name","css"])])}}}),iR=(t,e,n,r)=>{const{defaultedRange:i}=Ht(t),s=(b,g)=>Array.isArray(e[b])?e[b][g]:e[b],o=b=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[b]:e.seconds:0,a=(b,g)=>b?g!==void 0?$s(b,s("hours",g),s("minutes",g),o(g)):$s(b,e.hours,e.minutes,o()):$I(xe(),o(g)),l=(b,g)=>{e[b]=g},f=ge(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),u=(b,g)=>{const w=Object.fromEntries(Object.keys(e).map(x=>x===b?[x,g]:[x,e[x]].slice()));if(f.value&&!i.value.disableTimeRangeValidation){const x=E=>n.value?$s(n.value[E],w.hours[E],w.minutes[E],w.seconds[E]):null,I=E=>LI(n.value[E],0);return!(lt(x(0),x(1))&&(Ha(x(0),I(1))||Nu(x(1),I(0))))}return!0},c=(b,g)=>{u(b,g)&&(l(b,g),r&&r())},d=b=>{c("hours",b)},h=b=>{c("minutes",b)},p=b=>{c("seconds",b)},m=(b,g,w,x)=>{g&&d(b),!g&&!w&&h(b),w&&p(b),n.value&&x(n.value)},y=b=>{if(b){const g=Array.isArray(b),w=g?[+b[0].hours,+b[1].hours]:+b.hours,x=g?[+b[0].minutes,+b[1].minutes]:+b.minutes,I=g?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",w),l("minutes",x),t.enableSeconds&&l("seconds",I)}},v=(b,g)=>{const w={hours:Array.isArray(e.hours)?e.hours[b]:e.hours,disabledArr:[]};return(g||g===0)&&(w.hours=g),Array.isArray(t.disabledTimes)&&(w.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),w},_=ge(()=>(b,g)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:x,hours:I}=v(b,g),E=x.filter(S=>+S.hours===I);return((w=E[0])==null?void 0:w.minutes)==="*"?{hours:[I],minutes:void 0,seconds:void 0}:{hours:[],minutes:(E==null?void 0:E.map(S=>+S.minutes))??[],seconds:(E==null?void 0:E.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:d,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:m,getSecondsValue:o,assignStartTime:y,validateTime:u,disabledTimesConfig:_}},Oq=(t,e)=>{const{modelValue:n,time:r}=dc(t,e),{defaultedStartTime:i,defaultedRange:s}=Ht(t),{updateTimeValues:o,getSetDateTime:a,setTime:l,assignStartTime:f,disabledTimesConfig:u,validateTime:c}=iR(t,r,n,d);function d(){e("update-flow-step")}const h=g=>{const{hours:w,minutes:x,seconds:I}=g;return{hours:+w,minutes:+x,seconds:I?+I:0}},p=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),x=h(t.startTime[1]);return[Rt(xe(),w),Rt(xe(),x)]}const g=h(t.startTime);return Rt(xe(),g)}return s.value.enabled?[null,null]:null},m=()=>{if(s.value.enabled){const[g,w]=p();n.value=[a(g,0),a(w,1)]}else n.value=a(p())},y=g=>Array.isArray(g)?[So(xe(g[0])),So(xe(g[1]))]:[So(g??xe())],v=(g,w,x)=>{l("hours",g),l("minutes",w),l("seconds",t.enableSeconds?x:0)},_=()=>{const[g,w]=y(n.value);return s.value.enabled?v([g.hours,w.hours],[g.minutes,w.minutes],[g.seconds,w.seconds]):v(g.hours,g.minutes,g.seconds)};pt(()=>{if(!t.shadow)return f(i.value),n.value?_():m()});const b=()=>{Array.isArray(n.value)?n.value=n.value.map((g,w)=>g&&a(g,w)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(g,w=!0,x=!1)=>{o(g,w,x,b)},validateTime:c}},Pq=rn({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ai},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Uo(),o=Sr(s,"timePicker"),a=he(null),{time:l,modelValue:f,disabledTimesConfig:u,updateTime:c,validateTime:d}=Oq(i,r);return pt(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:f,time:l,updateTime:c}),toggleTimePicker:(h,p=!1,m="")=>{var y;(y=a.value)==null||y.toggleTimePicker(h,p,m)}}),(h,p)=>(ne(),Ue(qh,{"multi-calendars":0,stretch:""},{default:He(()=>[Ce(rR,gn({ref_key:"tpRef",ref:a},h.$props,{hours:ue(l).hours,minutes:ue(l).minutes,seconds:ue(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":ue(u),"validate-time":ue(d),"onUpdate:hours":p[0]||(p[0]=m=>ue(c)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>ue(c)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>ue(c)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m)),onResetFlow:p[4]||(p[4]=m=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=m=>h.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:p[6]||(p[6]=m=>h.$emit("overlay-toggle",{open:!0,overlay:m}))}),Xn({_:2},[Ge(ue(o),(m,y)=>({name:m,fn:He(v=>[Ne(h.$slots,m,En(or(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Cq={class:"dp--header-wrap"},Dq={key:0,class:"dp__month_year_wrap"},Mq={key:0},Nq={class:"dp__month_year_wrap"},Lq=["aria-label","data-test","onClick","onKeydown"],$q=rn({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ai},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:f,defaultedHighlight:u,propDates:c}=Ht(i),{transitionName:d,showTransition:h}=fc(s),{buildMatrix:p}=Js(),{handleMonthYearChange:m,isDisabled:y,updateMonthYear:v}=tq(i,r),{showLeftIcon:_,showRightIcon:b}=zh(),g=he(!1),w=he(!1),x=he([null,null,null,null]);pt(()=>{r("mount")});const I=$=>({get:()=>i[$],set:V=>{const M=$===jr.month?jr.year:jr.month;r("update-month-year",{[$]:V,[M]:i[M]}),$===jr.month?D(!0):P(!0)}}),E=ge(I(jr.month)),S=ge(I(jr.year)),k=ge(()=>$=>({month:i.month,year:i.year,items:$===jr.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:$===jr.month?D:P})),A=ge(()=>i.months.find(V=>V.value===i.month)||{text:"",value:0}),T=ge(()=>Wa(i.months,$=>{const V=i.month===$.value,M=Lu($.value,HI(i.year,c.value.minDate),zI(i.year,c.value.maxDate))||l.value.months.includes($.value),W=QI(u.value,$.value,i.year);return{active:V,disabled:M,highlighted:W}})),R=ge(()=>Wa(i.years,$=>{const V=i.year===$.value,M=Lu($.value,Ka(c.value.minDate),Ka(c.value.maxDate))||l.value.years.includes($.value),W=N0(u.value,$.value);return{active:V,disabled:M,highlighted:W}})),N=($,V,M)=>{M!==void 0?$.value=M:$.value=!$.value,$.value?r("overlay-opened",V):r("overlay-closed",V)},D=($=!1,V)=>{C($),N(g,Yn.month,V)},P=($=!1,V)=>{C($),N(w,Yn.year,V)},C=$=>{$||r("reset-flow")},G=($,V)=>{i.arrowNavigation&&(x.value[V]=pn($),p(x.value,"monthYear"))},H=ge(()=>{var $,V;return[{type:jr.month,index:1,toggle:D,modelValue:E.value,updateModelValue:M=>E.value=M,text:A.value.text,showSelectionGrid:g.value,items:T.value,ariaLabel:($=o.value)==null?void 0:$.openMonthsOverlay},{type:jr.year,index:2,toggle:P,modelValue:S.value,updateModelValue:M=>S.value=M,text:qI(i.year,i.locale),showSelectionGrid:w.value,items:R.value,ariaLabel:(V=o.value)==null?void 0:V.openYearsOverlay}]}),B=ge(()=>i.disableYearSelect?[H.value[0]]:i.yearFirst?[...H.value].reverse():H.value);return e({toggleMonthPicker:D,toggleYearPicker:P,handleMonthYearChange:m}),($,V)=>{var M,W,z;return ne(),ae("div",Cq,[$.$slots["month-year"]?(ne(),ae("div",Dq,[Ne($.$slots,"month-year",En(or({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:ue(v),handleMonthYearChange:ue(m),instance:t.instance})))])):(ne(),ae(Ie,{key:1},[$.$slots["top-extra"]?(ne(),ae("div",Mq,[Ne($.$slots,"top-extra",{value:$.internalModelValue})])):me("",!0),O("div",Nq,[ue(_)(ue(a),t.instance)&&!$.vertical?(ne(),Ue(iu,{key:0,"aria-label":(M=ue(o))==null?void 0:M.prevMonth,disabled:ue(y)(!1),onActivate:V[0]||(V[0]=j=>ue(m)(!1,!0)),onSetRef:V[1]||(V[1]=j=>G(j,0))},{default:He(()=>[$.$slots["arrow-left"]?Ne($.$slots,"arrow-left",{key:0}):me("",!0),$.$slots["arrow-left"]?me("",!0):(ne(),Ue(ue(k0),{key:1}))]),_:3},8,["aria-label","disabled"])):me("",!0),O("div",{class:Ke(["dp__month_year_wrap",{dp__year_disable_select:$.disableYearSelect}])},[(ne(!0),ae(Ie,null,Ge(B.value,(j,F)=>(ne(),ae(Ie,{key:j.type},[O("button",{ref_for:!0,ref:J=>G(J,F+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":j.ariaLabel,"data-test":`${j.type}-toggle-overlay-${t.instance}`,onClick:j.toggle,onKeydown:J=>ue(gr)(J,()=>j.toggle(),!0)},[$.$slots[j.type]?Ne($.$slots,j.type,{key:0,text:j.text,value:i[j.type]}):me("",!0),$.$slots[j.type]?me("",!0):(ne(),ae(Ie,{key:1},[ot(we(j.text),1)],64))],40,Lq),Ce(Zr,{name:ue(d)(j.showSelectionGrid),css:ue(h)},{default:He(()=>[j.showSelectionGrid?(ne(),Ue(cc,{key:0,items:j.items,"arrow-navigation":$.arrowNavigation,"hide-navigation":$.hideNavigation,"is-last":$.autoApply&&!ue(f).keepActionRow,"skip-button-ref":!1,config:$.config,type:j.type,"header-refs":[],"esc-close":$.escClose,"menu-wrap-ref":$.menuWrapRef,"text-input":$.textInput,"aria-labels":$.ariaLabels,onSelected:j.updateModelValue,onToggle:j.toggle},Xn({"button-icon":He(()=>[$.$slots["calendar-icon"]?Ne($.$slots,"calendar-icon",{key:0}):me("",!0),$.$slots["calendar-icon"]?me("",!0):(ne(),Ue(ue(sl),{key:1}))]),_:2},[$.$slots[`${j.type}-overlay-value`]?{name:"item",fn:He(({item:J})=>[Ne($.$slots,`${j.type}-overlay-value`,{text:J.text,value:J.value})]),key:"0"}:void 0,$.$slots[`${j.type}-overlay`]?{name:"overlay",fn:He(()=>[Ne($.$slots,`${j.type}-overlay`,gn({ref_for:!0},k.value(j.type)))]),key:"1"}:void 0,$.$slots[`${j.type}-overlay-header`]?{name:"header",fn:He(()=>[Ne($.$slots,`${j.type}-overlay-header`,{toggle:j.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):me("",!0)]),_:2},1032,["name","css"])],64))),128))],2),ue(_)(ue(a),t.instance)&&$.vertical?(ne(),Ue(iu,{key:1,"aria-label":(W=ue(o))==null?void 0:W.prevMonth,disabled:ue(y)(!1),onActivate:V[2]||(V[2]=j=>ue(m)(!1,!0))},{default:He(()=>[$.$slots["arrow-up"]?Ne($.$slots,"arrow-up",{key:0}):me("",!0),$.$slots["arrow-up"]?me("",!0):(ne(),Ue(ue(R0),{key:1}))]),_:3},8,["aria-label","disabled"])):me("",!0),ue(b)(ue(a),t.instance)?(ne(),Ue(iu,{key:2,ref:"rightIcon",disabled:ue(y)(!0),"aria-label":(z=ue(o))==null?void 0:z.nextMonth,onActivate:V[3]||(V[3]=j=>ue(m)(!0,!0)),onSetRef:V[4]||(V[4]=j=>G(j,$.disableYearSelect?2:3))},{default:He(()=>[$.$slots[$.vertical?"arrow-down":"arrow-right"]?Ne($.$slots,$.vertical?"arrow-down":"arrow-right",{key:0}):me("",!0),$.$slots[$.vertical?"arrow-down":"arrow-right"]?me("",!0):(ne(),Ue(Nd($.vertical?ue(O0):ue(S0)),{key:1}))]),_:3},8,["disabled","aria-label"])):me("",!0)])],64))])}}}),Fq=["aria-label"],Vq={class:"dp__calendar_header",role:"row"},Uq={key:0,class:"dp__calendar_header_item",role:"gridcell"},Bq=["aria-label"],jq=O("div",{class:"dp__calendar_header_separator"},null,-1),qq=["aria-label"],Hq={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},zq={class:"dp__cell_inner"},Wq=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],Kq=rn({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ai},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Js(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:f,defaultedWeekNumbers:u,defaultedMultiDates:c}=Ht(i),d=he(null),h=he({bottom:"",left:"",transform:""}),p=he([]),m=he(null),y=he(!0),v=he(""),_=he({startX:0,endX:0,startY:0,endY:0}),b=he([]),g=he({left:"50%"}),w=he(!1),x=ge(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),I=ge(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):T7(i.formatLocale,i.locale,+i.weekStart));pt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",G,{passive:!1}),m.value.addEventListener("touchend",H,{passive:!1}),m.value.addEventListener("touchmove",B,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",M,{passive:!1})});const E=K=>K?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",S=(K,se)=>{if(i.transitions){const ce=lr(Wi(xe(),i.month,i.year));v.value=Zt(lr(Wi(xe(),K,se)),ce)?o.value[E(!0)]:o.value[E(!1)],y.value=!1,Vn(()=>{y.value=!0})}},k=ge(()=>({[i.calendarClassName]:!!i.calendarClassName})),A=ge(()=>K=>{const se=x7(K);return{dp__marker_dot:se.type==="dot",dp__marker_line:se.type==="line"}}),T=ge(()=>K=>lt(K,d.value)),R=ge(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&i.instance!==0})),N=ge(()=>K=>i.hideOffsetDates?K.current:!0),D=async(K,se,ce)=>{const Z=pn(p.value[se][ce]);if(Z){const{width:q,height:Q}=Z.getBoundingClientRect();d.value=K.value;let Y={left:`${q/2}px`},fe=-50;if(await Vn(),b.value[0]){const{left:ee,width:U}=b.value[0].getBoundingClientRect();ee<0&&(Y={left:"0"},fe=0,g.value.left=`${q/2}px`),window.innerWidth<ee+U&&(Y={right:"0"},fe=0,g.value.left=`${U-q/2}px`)}h.value={bottom:`${Q}px`,...Y,transform:`translateX(${fe}%)`},r("tooltip-open",K.marker)}},P=async(K,se,ce)=>{var Z,q;if(w.value&&c.value.enabled&&c.value.dragSelect)return r("select-date",K);r("set-hover-date",K),(q=(Z=K.marker)==null?void 0:Z.tooltip)!=null&&q.length&&await D(K,se,ce)},C=K=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",K.marker))},G=K=>{_.value.startX=K.changedTouches[0].screenX,_.value.startY=K.changedTouches[0].screenY},H=K=>{_.value.endX=K.changedTouches[0].screenX,_.value.endY=K.changedTouches[0].screenY,$()},B=K=>{i.vertical&&!i.inline&&K.preventDefault()},$=()=>{const K=i.vertical?"Y":"X";Math.abs(_.value[`start${K}`]-_.value[`end${K}`])>10&&r("handle-swipe",_.value[`start${K}`]>_.value[`end${K}`]?"right":"left")},V=(K,se,ce)=>{K&&(Array.isArray(p.value[se])?p.value[se][ce]=K:p.value[se]=[K]),i.arrowNavigation&&s(p.value,"calendar")},M=K=>{i.monthChangeOnScroll&&(K.preventDefault(),r("handle-scroll",K))},W=K=>u.value.type==="local"?T0(K.value,{weekStartsOn:+i.weekStart}):u.value.type==="iso"?w0(K.value):typeof u.value.type=="function"?u.value.type(K.value):"",z=K=>{const se=K[0];return u.value.hideOnOffsetDates?K.some(ce=>ce.current)?W(se):"":W(se)},j=(K,se)=>{c.value.enabled||(Ls(K,a.value),r("select-date",se))},F=K=>{Ls(K,a.value)},J=K=>{c.value.enabled&&c.value.dragSelect?(w.value=!0,r("select-date",K)):c.value.enabled&&r("select-date",K)};return e({triggerTransition:S}),(K,se)=>{var ce;return ne(),ae("div",{class:Ke(R.value)},[O("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:Ke(k.value),"aria-label":(ce=ue(l))==null?void 0:ce.calendarWrap},[O("div",Vq,[K.weekNumbers?(ne(),ae("div",Uq,we(K.weekNumName),1)):me("",!0),(ne(!0),ae(Ie,null,Ge(I.value,(Z,q)=>{var Q,Y;return ne(),ae("div",{key:q,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(Y=(Q=ue(l))==null?void 0:Q.weekDay)==null?void 0:Y.call(Q,q)},[K.$slots["calendar-header"]?Ne(K.$slots,"calendar-header",{key:0,day:Z,index:q}):me("",!0),K.$slots["calendar-header"]?me("",!0):(ne(),ae(Ie,{key:1},[ot(we(Z),1)],64))],8,Bq)}),128))]),jq,Ce(Zr,{name:v.value,css:!!K.transitions},{default:He(()=>{var Z;return[y.value?(ne(),ae("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((Z=ue(l))==null?void 0:Z.calendarDays)||void 0,onMouseleave:se[1]||(se[1]=q=>w.value=!1)},[(ne(!0),ae(Ie,null,Ge(x.value,(q,Q)=>(ne(),ae("div",{key:Q,class:"dp__calendar_row",role:"row"},[K.weekNumbers?(ne(),ae("div",Hq,[O("div",zq,we(z(q.days)),1)])):me("",!0),(ne(!0),ae(Ie,null,Ge(q.days,(Y,fe)=>{var ee,U,te;return ne(),ae("div",{id:ue(XI)(Y.value),ref_for:!0,ref:ie=>V(ie,Q,fe),key:fe+Q,role:"gridcell",class:"dp__calendar_item","aria-selected":(Y.classData.dp__active_date||Y.classData.dp__range_start||Y.classData.dp__range_start)??void 0,"aria-disabled":Y.classData.dp__cell_disabled||void 0,"aria-label":(U=(ee=ue(l))==null?void 0:ee.day)==null?void 0:U.call(ee,Y),tabindex:"0","data-test":Y.value,onClick:Lr(ie=>j(ie,Y),["prevent"]),onKeydown:ie=>ue(gr)(ie,()=>K.$emit("select-date",Y)),onMouseenter:ie=>P(Y,Q,fe),onMouseleave:ie=>C(Y),onMousedown:ie=>J(Y),onMouseup:se[0]||(se[0]=ie=>w.value=!1)},[O("div",{class:Ke(["dp__cell_inner",Y.classData])},[K.$slots.day&&N.value(Y)?Ne(K.$slots,"day",{key:0,day:+Y.text,date:Y.value}):me("",!0),K.$slots.day?me("",!0):(ne(),ae(Ie,{key:1},[ot(we(Y.text),1)],64)),Y.marker&&N.value(Y)?(ne(),ae(Ie,{key:2},[K.$slots.marker?Ne(K.$slots,"marker",{key:0,marker:Y.marker,day:+Y.text,date:Y.value}):(ne(),ae("div",{key:1,class:Ke(A.value(Y.marker)),style:wn(Y.marker.color?{backgroundColor:Y.marker.color}:{})},null,6))],64)):me("",!0),T.value(Y.value)?(ne(),ae("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:wn(h.value)},[(te=Y.marker)!=null&&te.tooltip?(ne(),ae("div",{key:0,class:"dp__tooltip_content",onClick:F},[(ne(!0),ae(Ie,null,Ge(Y.marker.tooltip,(ie,oe)=>(ne(),ae("div",{key:oe,class:"dp__tooltip_text"},[K.$slots["marker-tooltip"]?Ne(K.$slots,"marker-tooltip",{key:0,tooltip:ie,day:Y.value}):me("",!0),K.$slots["marker-tooltip"]?me("",!0):(ne(),ae(Ie,{key:1},[O("div",{class:"dp__tooltip_mark",style:wn(ie.color?{backgroundColor:ie.color}:{})},null,4),O("div",null,we(ie.text),1)],64))]))),128)),O("div",{class:"dp__arrow_bottom_tp",style:wn(g.value)},null,4)])):me("",!0)],4)):me("",!0)],2)],40,Wq)}),128))]))),128))],40,qq)):me("",!0)]}),_:3},8,["name","css"])],10,Fq)],2)}}}),Ew=t=>Array.isArray(t),Yq=(t,e,n,r)=>{const i=he([]),s=he(new Date),o=he(),{modelValue:a,calendars:l,time:f,today:u}=dc(t,e),{defaultedMultiCalendars:c,defaultedStartTime:d,defaultedRange:h,defaultedConfig:p,defaultedTz:m,propDates:y,defaultedMultiDates:v}=Ht(t),{validateMonthYearInRange:_,isDisabled:b,isDateRangeAllowed:g,checkMinMaxRange:w}=Zs(t),{updateTimeValues:x,getSetDateTime:I,setTime:E,assignStartTime:S,validateTime:k,disabledTimesConfig:A}=iR(t,f,a,r),T=ge(()=>de=>l.value[de]?l.value[de].month:0),R=ge(()=>de=>l.value[de]?l.value[de].year:0),N=de=>!p.value.keepViewOnOffsetClick||de?!0:!o.value,D=(de,Te,ye,Ae=!1)=>{var Oe,Ft;N(Ae)&&(l.value[de]||(l.value[de]={month:0,year:0}),l.value[de].month=vw(Te)?(Oe=l.value[de])==null?void 0:Oe.month:Te,l.value[de].year=vw(ye)?(Ft=l.value[de])==null?void 0:Ft.year:ye)},P=()=>{t.autoApply&&e("select-date")};un(a,(de,Te)=>{JSON.stringify(de)!==JSON.stringify(Te)&&H()},{deep:!0}),pt(()=>{t.shadow||(a.value||(se(),d.value&&S(d.value)),H(!0),t.focusStartDate&&t.startDate&&se())});const C=ge(()=>{var de;return(de=t.flow)!=null&&de.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),G=()=>{t.autoApply&&C.value&&e("auto-apply")},H=(de=!1)=>{if(a.value)return Array.isArray(a.value)?(i.value=a.value,j(de)):V(a.value,de);if(c.value.count&&de&&!t.startDate)return $(xe(),de)},B=()=>Array.isArray(a.value)&&h.value.enabled?at(a.value[0])===at(a.value[1]??a.value[0]):!1,$=(de,Te=!1)=>{if((!c.value.count||!c.value.static||Te)&&D(0,at(de),st(de)),c.value.count&&(!c.value.solo||!a.value||B()))for(let ye=1;ye<c.value.count;ye++){const Ae=Rt(xe(),{month:T.value(ye-1),year:R.value(ye-1)}),Oe=yI(Ae,{months:1});l.value[ye]={month:at(Oe),year:st(Oe)}}},V=(de,Te)=>{$(de),E("hours",is(de)),E("minutes",Hs(de)),E("seconds",qa(de)),c.value.count&&Te&&K()},M=de=>{if(c.value.count){if(c.value.solo)return 0;const Te=at(de[0]),ye=at(de[1]);return Math.abs(ye-Te)<c.value.count?0:1}return 1},W=(de,Te)=>{de[1]&&h.value.showLastInRange?$(de[M(de)],Te):$(de[0],Te);const ye=(Ae,Oe)=>[Ae(de[0]),de[1]?Ae(de[1]):f[Oe][1]];E("hours",ye(is,"hours")),E("minutes",ye(Hs,"minutes")),E("seconds",ye(qa,"seconds"))},z=(de,Te)=>{if((h.value.enabled||t.weekPicker)&&!v.value.enabled)return W(de,Te);if(v.value.enabled&&Te){const ye=de[de.length-1];return V(ye,Te)}},j=de=>{const Te=a.value;z(Te,de),c.value.count&&c.value.solo&&K()},F=(de,Te)=>{const ye=Rt(xe(),{month:T.value(Te),year:R.value(Te)}),Ae=de<0?Xr(ye,1):za(ye,1);_(at(Ae),st(Ae),de<0,t.preventMinMaxNavigation)&&(D(Te,at(Ae),st(Ae)),e("update-month-year",{instance:Te,month:at(Ae),year:st(Ae)}),c.value.count&&!c.value.solo&&J(Te),n())},J=de=>{for(let Te=de-1;Te>=0;Te--){const ye=za(Rt(xe(),{month:T.value(Te+1),year:R.value(Te+1)}),1);D(Te,at(ye),st(ye))}for(let Te=de+1;Te<=c.value.count-1;Te++){const ye=Xr(Rt(xe(),{month:T.value(Te-1),year:R.value(Te-1)}),1);D(Te,at(ye),st(ye))}},K=()=>{if(Array.isArray(a.value)&&a.value.length===2){const de=xe(xe(a.value[1]?a.value[1]:Xr(a.value[0],1))),[Te,ye]=[at(a.value[0]),st(a.value[0])],[Ae,Oe]=[at(a.value[1]),st(a.value[1])];(Te!==Ae||Te===Ae&&ye!==Oe)&&c.value.solo&&D(1,at(de),st(de))}else a.value&&!Array.isArray(a.value)&&(D(0,at(a.value),st(a.value)),$(xe()))},se=()=>{t.startDate&&(D(0,at(xe(t.startDate)),st(xe(t.startDate))),c.value.count&&J(0))},ce=(de,Te)=>{if(t.monthChangeOnScroll){const ye=new Date().getTime()-s.value.getTime(),Ae=Math.abs(de.deltaY);let Oe=500;Ae>1&&(Oe=100),Ae>100&&(Oe=0),ye>Oe&&(s.value=new Date,F(t.monthChangeOnScroll!=="inverse"?-de.deltaY:de.deltaY,Te))}},Z=(de,Te,ye=!1)=>{t.monthChangeOnArrows&&t.vertical===ye&&q(de,Te)},q=(de,Te)=>{F(de==="right"?-1:1,Te)},Q=de=>{if(y.value.markers)return gd(de.value,y.value.markers)},Y=(de,Te)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[de==0,!0];case"fair":return[de==0||Te>de,!0];case"append":return[!1,!1];default:return[!1,!1]}},fe=(de,Te,ye,Ae)=>{if(t.sixWeeks&&de.length<6){const Oe=6-de.length,Ft=(Te.getDay()+7-Ae)%7,Et=6-(ye.getDay()+7-Ae)%7,[zt,fn]=Y(Ft,Et);for(let kn=1;kn<=Oe;kn++)if(fn?!!(kn%2)==zt:zt){const Sn=de[0].days[0],In=ee(Hr(Sn.value,-7),at(Te));de.unshift({days:In})}else{const Sn=de[de.length-1],In=Sn.days[Sn.days.length-1],yn=ee(Hr(In.value,1),at(Te));de.push({days:yn})}}return de},ee=(de,Te)=>{const ye=xe(de),Ae=[];for(let Oe=0;Oe<7;Oe++){const Ft=Hr(ye,Oe),Et=at(Ft)!==Te;Ae.push({text:t.hideOffsetDates&&Et?"":Ft.getDate(),value:Ft,current:!Et,classData:{}})}return Ae},U=(de,Te)=>{const ye=[],Ae=new Date(Te,de),Oe=new Date(Te,de+1,0),Ft=t.weekStart,Et=ii(Ae,{weekStartsOn:Ft}),zt=fn=>{const kn=ee(fn,de);if(ye.push({days:kn}),!ye[ye.length-1].days.some(Sn=>lt(lr(Sn.value),lr(Oe)))){const Sn=Hr(fn,7);zt(Sn)}};return zt(Et),fe(ye,Ae,Oe,Ft)},te=de=>{const Te=$s(xe(de.value),f.hours,f.minutes,Re());e("date-update",Te),v.value.enabled?L0(Te,a,v.value.limit):a.value=Te,r(),Vn().then(()=>{G()})},ie=de=>h.value.noDisabledRange?WI(i.value[0],de).some(Te=>b(Te)):!1,oe=()=>{i.value=a.value?a.value.slice():[],i.value.length===2&&!(h.value.fixedStart||h.value.fixedEnd)&&(i.value=[])},re=(de,Te)=>{const ye=[xe(de.value),Hr(xe(de.value),+h.value.autoRange)];g(ye)?(Te&&pe(de.value),i.value=ye):e("invalid-date",de.value)},pe=de=>{const Te=at(xe(de)),ye=st(xe(de));if(D(0,Te,ye),c.value.count>0)for(let Ae=1;Ae<c.value.count;Ae++){const Oe=D7(Rt(xe(de),{year:T.value(Ae-1),month:R.value(Ae-1)}));D(Ae,Oe.month,Oe.year)}},ve=de=>{if(ie(de.value)||!w(de.value,a.value,h.value.fixedStart?0:1))return e("invalid-date",de.value);i.value=tR(xe(de.value),a,e,h)},Ee=(de,Te)=>{if(oe(),h.value.autoRange)return re(de,Te);if(h.value.fixedStart||h.value.fixedEnd)return ve(de);i.value[0]?w(xe(de.value),a.value)&&!ie(de.value)?Wt(xe(de.value),xe(i.value[0]))?(i.value.unshift(xe(de.value)),e("range-end",i.value[0])):(i.value[1]=xe(de.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",de.value),e("invalid-date",de.value)):(i.value[0]=xe(de.value),e("range-start",i.value[0]))},Re=(de=!0)=>t.enableSeconds?Array.isArray(f.seconds)?de?f.seconds[0]:f.seconds[1]:f.seconds:0,$e=de=>{i.value[de]=$s(i.value[de],f.hours[de],f.minutes[de],Re(de!==1))},Pe=()=>{var de,Te;i.value[0]&&i.value[1]&&+((de=i.value)==null?void 0:de[0])>+((Te=i.value)==null?void 0:Te[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Qe=()=>{i.value.length&&(i.value[0]&&!i.value[1]?$e(0):($e(0),$e(1),r()),Pe(),a.value=i.value.slice(),Hh(i.value,e,t.autoApply,t.modelAuto))},Me=(de,Te=!1)=>{if(b(de.value)||!de.current&&t.hideOffsetDates)return e("invalid-date",de.value);if(o.value=JSON.parse(JSON.stringify(de)),!h.value.enabled)return te(de);Ew(f.hours)&&Ew(f.minutes)&&!v.value.enabled&&(Ee(de,Te),Qe())},rt=(de,Te)=>{var ye;D(de,Te.month,Te.year,!0),c.value.count&&!c.value.solo&&J(de),e("update-month-year",{instance:de,month:Te.month,year:Te.year}),n(c.value.solo?de:void 0);const Ae=(ye=t.flow)!=null&&ye.length?t.flow[t.flowStep]:void 0;!Te.fromNav&&(Ae===Yn.month||Ae===Yn.year)&&r()},St=(de,Te)=>{eR({value:de,modelValue:a,range:h.value.enabled,timezone:Te?void 0:m.value.timezone}),P(),t.multiCalendars&&Vn().then(()=>H(!0))},sn=()=>{const de=P0(xe(),m.value);h.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Wt(de,a.value[0])?[de,a.value[0]]:[a.value[0],de]:a.value=[de]:a.value=de,P()},Ot=()=>{if(Array.isArray(a.value))if(v.value.enabled){const de=Xt();a.value[a.value.length-1]=I(de)}else a.value=a.value.map((de,Te)=>de&&I(de,Te));else a.value=I(a.value);e("time-update")},Xt=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:l,modelValue:a,month:T,year:R,time:f,disabledTimesConfig:A,today:u,validateTime:k,getCalendarDays:U,getMarker:Q,handleScroll:ce,handleSwipe:q,handleArrow:Z,selectDate:Me,updateMonthYear:rt,presetDate:St,selectCurrentDate:sn,updateTime:(de,Te=!0,ye=!1)=>{x(de,Te,ye,Ot)}}},Gq={key:0},Qq=rn({__name:"DatePicker",props:{...ai},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:f,disabledTimesConfig:u,today:c,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:y,handleSwipe:v,selectDate:_,updateMonthYear:b,presetDate:g,selectCurrentDate:w,updateTime:x}=Yq(i,r,B,$),I=Uo(),{setHoverDate:E,getDayClassData:S,clearHoverDate:k}=dH(l,i),{defaultedMultiCalendars:A}=Ht(i),T=he([]),R=he([]),N=he(null),D=Sr(I,"calendar"),P=Sr(I,"monthYear"),C=Sr(I,"timePicker"),G=ce=>{i.shadow||r("mount",ce)};un(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const H=ge(()=>ce=>h(o.value(ce),a.value(ce)).map(Z=>({...Z,days:Z.days.map(q=>(q.marker=p(q),q.classData=S(q),q))})));function B(ce){var Z;ce||ce===0?(Z=R.value[ce])==null||Z.triggerTransition(o.value(ce),a.value(ce)):R.value.forEach((q,Q)=>q.triggerTransition(o.value(Q),a.value(Q)))}function $(){r("update-flow-step")}const V=(ce,Z=!1)=>{_(ce,Z),i.spaceConfirm&&r("select-date")},M=(ce,Z,q=0)=>{var Q;(Q=T.value[q])==null||Q.toggleMonthPicker(ce,Z)},W=(ce,Z,q=0)=>{var Q;(Q=T.value[q])==null||Q.toggleYearPicker(ce,Z)},z=(ce,Z,q)=>{var Q;(Q=N.value)==null||Q.toggleTimePicker(ce,Z,q)},j=(ce,Z)=>{var q;if(!i.range){const Q=l.value?l.value:c,Y=Z?new Date(Z):Q,fe=ce?ii(Y,{weekStartsOn:1}):kI(Y,{weekStartsOn:1});_({value:fe,current:at(Y)===o.value(0),text:"",classData:{}}),(q=document.getElementById(XI(fe)))==null||q.focus()}},F=ce=>{var Z;(Z=T.value[0])==null||Z.handleMonthYearChange(ce,!0)},J=ce=>{b(0,{month:o.value(0),year:a.value(0)+(ce?1:-1),fromNav:!0})},K=(ce,Z)=>{ce===Yn.time&&r(`time-picker-${Z?"open":"close"}`),r("overlay-toggle",{open:Z,overlay:ce})},se=ce=>{r("overlay-toggle",{open:!1,overlay:ce}),r("focus-menu")};return e({clearHoverDate:k,presetDate:g,selectCurrentDate:w,toggleMonthPicker:M,toggleYearPicker:W,toggleTimePicker:z,handleArrow:m,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:f,updateTime:x,updateMonthYear:b,selectDate:_,presetDate:g}),changeMonth:F,changeYear:J,selectWeekDate:j}),(ce,Z)=>(ne(),ae(Ie,null,[Ce(qh,{"multi-calendars":ue(A).count,collapse:ce.collapse},{default:He(({instance:q,index:Q})=>[ce.disableMonthYearSelect?me("",!0):(ne(),Ue($q,gn({key:0,ref:Y=>{Y&&(T.value[Q]=Y)},months:ue(UI)(ce.formatLocale,ce.locale,ce.monthNameFormat),years:ue(C0)(ce.yearRange,ce.locale,ce.reverseYears),month:ue(o)(q),year:ue(a)(q),instance:q},ce.$props,{onMount:Z[0]||(Z[0]=Y=>G(ue(ko).header)),onResetFlow:Z[1]||(Z[1]=Y=>ce.$emit("reset-flow")),onUpdateMonthYear:Y=>ue(b)(q,Y),onOverlayClosed:se,onOverlayOpened:Z[2]||(Z[2]=Y=>ce.$emit("overlay-toggle",{open:!0,overlay:Y}))}),Xn({_:2},[Ge(ue(P),(Y,fe)=>({name:Y,fn:He(ee=>[Ne(ce.$slots,Y,En(or(ee)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ce(Kq,gn({ref:Y=>{Y&&(R.value[Q]=Y)},"mapped-dates":H.value(q),month:ue(o)(q),year:ue(a)(q),instance:q},ce.$props,{onSelectDate:Y=>ue(_)(Y,q!==1),onHandleSpace:Y=>V(Y,q!==1),onSetHoverDate:Z[3]||(Z[3]=Y=>ue(E)(Y)),onHandleScroll:Y=>ue(y)(Y,q),onHandleSwipe:Y=>ue(v)(Y,q),onMount:Z[4]||(Z[4]=Y=>G(ue(ko).calendar)),onResetFlow:Z[5]||(Z[5]=Y=>ce.$emit("reset-flow")),onTooltipOpen:Z[6]||(Z[6]=Y=>ce.$emit("tooltip-open",Y)),onTooltipClose:Z[7]||(Z[7]=Y=>ce.$emit("tooltip-close",Y))}),Xn({_:2},[Ge(ue(D),(Y,fe)=>({name:Y,fn:He(ee=>[Ne(ce.$slots,Y,En(or({...ee})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),ce.enableTimePicker?(ne(),ae("div",Gq,[ce.$slots["time-picker"]?Ne(ce.$slots,"time-picker",En(gn({key:0},{time:ue(f),updateTime:ue(x)}))):(ne(),Ue(rR,gn({key:1,ref_key:"timePickerRef",ref:N},ce.$props,{hours:ue(f).hours,minutes:ue(f).minutes,seconds:ue(f).seconds,"internal-model-value":ce.internalModelValue,"disabled-times-config":ue(u),"validate-time":ue(d),onMount:Z[8]||(Z[8]=q=>G(ue(ko).timePicker)),"onUpdate:hours":Z[9]||(Z[9]=q=>ue(x)(q)),"onUpdate:minutes":Z[10]||(Z[10]=q=>ue(x)(q,!1)),"onUpdate:seconds":Z[11]||(Z[11]=q=>ue(x)(q,!1,!0)),onResetFlow:Z[12]||(Z[12]=q=>ce.$emit("reset-flow")),onOverlayClosed:Z[13]||(Z[13]=q=>K(q,!1)),onOverlayOpened:Z[14]||(Z[14]=q=>K(q,!0)),onAmPmChange:Z[15]||(Z[15]=q=>ce.$emit("am-pm-change",q))}),Xn({_:2},[Ge(ue(C),(q,Q)=>({name:q,fn:He(Y=>[Ne(ce.$slots,q,En(or(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):me("",!0)],64))}}),Xq=(t,e)=>{const n=he(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s,defaultedRange:o,propDates:a,defaultedFilters:l,defaultedMultiDates:f}=Ht(t),{modelValue:u,year:c,month:d,calendars:h}=dc(t,e),{isDisabled:p}=Zs(t),{selectYear:m,groupedYears:y,showYearPicker:v,isDisabled:_,toggleYearPicker:b,handleYearSelect:g,handleYear:w}=nR({modelValue:u,multiCalendars:r,range:o,highlight:s,calendars:h,propDates:a,month:d,year:c,filters:l,props:t,emit:e}),x=(D,P)=>[D,P].map(C=>Jr(C,"MMMM",{locale:t.formatLocale})).join("-"),I=ge(()=>D=>u.value?Array.isArray(u.value)?u.value.some(P=>pw(D,P)):pw(u.value,D):!1),E=D=>{if(o.value.enabled){if(Array.isArray(u.value)){const P=lt(D,u.value[0])||lt(D,u.value[1]);return Bh(u.value,n.value,D)&&!P}return!1}return!1},S=(D,P)=>D.quarter===lw(P)&&D.year===st(P),k=D=>typeof s.value=="function"?s.value({quarter:lw(D),year:st(D)}):!!s.value.quarters.find(P=>S(P,D)),A=ge(()=>D=>{const P=Rt(new Date,{year:c.value(D)});return AB({start:b0(P),end:xI(P)}).map(C=>{const G=_o(C),H=uw(C),B=p(C),$=E(G),V=k(G);return{text:x(G,H),value:G,active:I.value(G),highlighted:V,disabled:B,isBetween:$}})}),T=D=>{L0(D,u,f.value.limit),e("auto-apply",!0)},R=D=>{u.value=$0(u,D,e),Hh(u.value,e,t.autoApply,t.modelAuto)},N=D=>{u.value=D,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:y,year:c,isDisabled:_,quarters:A,showYearPicker:v,modelValue:u,setHoverDate:D=>{n.value=D},selectYear:m,selectQuarter:(D,P,C)=>{if(!C)return h.value[P].month=at(uw(D)),f.value.enabled?T(D):o.value.enabled?R(D):N(D)},toggleYearPicker:b,handleYearSelect:g,handleYear:w}},Jq={class:"dp--quarter-items"},Zq=["data-test","disabled","onClick","onMouseover"],eH=rn({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ai},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Uo(),o=Sr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:f,year:u,isDisabled:c,quarters:d,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:y,toggleYearPicker:v,handleYearSelect:_,handleYear:b}=Xq(i,r);return e({getSidebarProps:()=>({modelValue:h,year:u,selectQuarter:y,handleYearSelect:_,handleYear:b})}),(g,w)=>(ne(),Ue(qh,{"multi-calendars":ue(a).count,collapse:g.collapse,stretch:""},{default:He(({instance:x})=>[O("div",{class:"dp-quarter-picker-wrap",style:wn({minHeight:`${ue(l).modeHeight}px`})},[g.$slots["top-extra"]?Ne(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):me("",!0),O("div",null,[Ce(ZI,gn(g.$props,{items:ue(f)(x),instance:x,"show-year-picker":ue(p)[x],year:ue(u)(x),"is-disabled":I=>ue(c)(x,I),onHandleYear:I=>ue(b)(x,I),onYearSelect:I=>ue(_)(I,x),onToggleYearPicker:I=>ue(v)(x,I==null?void 0:I.flow,I==null?void 0:I.show)}),Xn({_:2},[Ge(ue(o),(I,E)=>({name:I,fn:He(S=>[Ne(g.$slots,I,En(or(S)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),O("div",Jq,[(ne(!0),ae(Ie,null,Ge(ue(d)(x),(I,E)=>(ne(),ae("div",{key:E},[O("button",{type:"button",class:Ke(["dp--qr-btn",{"dp--qr-btn-active":I.active,"dp--qr-btn-between":I.isBetween,"dp--qr-btn-disabled":I.disabled,"dp--highlighted":I.highlighted}]),"data-test":I.value,disabled:I.disabled,onClick:S=>ue(y)(I.value,x,I.disabled),onMouseover:S=>ue(m)(I.value)},[g.$slots.quarter?Ne(g.$slots,"quarter",{key:0,value:I.value,text:I.text}):(ne(),ae(Ie,{key:1},[ot(we(I.text),1)],64))],42,Zq)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),tH=["id","aria-label"],nH={key:0,class:"dp--menu-load-container"},rH=O("span",{class:"dp--menu-loader"},null,-1),iH=[rH],sH={key:0,class:"dp__sidebar_left"},oH=["data-test","onClick","onKeydown"],aH={key:2,class:"dp__sidebar_right"},lH={key:3,class:"dp__action_extra"},Tw=rn({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...jh,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=he(null),o=ge(()=>{const{openOnTop:ee,...U}=i;return{...U,flowStep:E.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:a,setShiftKey:l,control:f}=JI(),u=Uo(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=Ht(i),p=he(null),m=he(0),y=he(null),v=he(!1),_=he(null);pt(()=>{if(!i.shadow){v.value=!0,b(),window.addEventListener("resize",b);const ee=pn(s);if(ee&&!c.value.enabled&&!d.value.enabled&&(a(!0),D()),ee){const U=te=>{h.value.allowPreventDefault&&te.preventDefault(),Ls(te,h.value,!0)};ee.addEventListener("pointerdown",U),ee.addEventListener("mousedown",U)}}}),Ga(()=>{window.removeEventListener("resize",b)});const b=()=>{const ee=pn(y);ee&&(m.value=ee.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:w,arrowDown:x,arrowUp:I}=Js(),{flowStep:E,updateFlowStep:S,childMount:k,resetFlow:A,handleFlow:T}=hH(i,r,_),R=ge(()=>i.monthPicker?dq:i.yearPicker?pq:i.timePicker?Pq:i.quarterPicker?eH:Qq),N=ge(()=>{var ee;if(h.value.arrowLeft)return h.value.arrowLeft;const U=(ee=s.value)==null?void 0:ee.getBoundingClientRect(),te=i.getInputRect();return te.width<m.value&&te.left<=((U==null?void 0:U.left)??0)?`${te.width/2}px`:"50%"}),D=()=>{const ee=pn(s);ee&&ee.focus({preventScroll:!0})},P=ge(()=>{var ee;return((ee=_.value)==null?void 0:ee.getSidebarProps())||{}}),C=()=>{i.openOnTop&&r("recalculate-position")},G=Sr(u,"action"),H=ge(()=>i.monthPicker||i.yearPicker?Sr(u,"monthYear"):i.timePicker?Sr(u,"timePicker"):Sr(u,"shared")),B=ge(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$=ge(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),V=ge(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),M=ee=>{Ls(ee,h.value,!0)},W=()=>{i.escClose&&r("close-picker")},z=ee=>{if(i.arrowNavigation){if(ee===ir.up)return I();if(ee===ir.down)return x();if(ee===ir.left)return w();if(ee===ir.right)return g()}else ee===ir.left||ee===ir.up?se("handleArrow",ir.left,0,ee===ir.up):se("handleArrow",ir.right,0,ee===ir.down)},j=ee=>{l(ee.shiftKey),!i.disableMonthYearSelect&&ee.code===Vt.tab&&ee.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(ee.preventDefault(),Ls(ee,h.value,!0),r("close-picker"))},F=()=>{D(),r("time-picker-close")},J=ee=>{var U,te,ie;(U=_.value)==null||U.toggleTimePicker(!1,!1),(te=_.value)==null||te.toggleMonthPicker(!1,!1,ee),(ie=_.value)==null||ie.toggleYearPicker(!1,!1,ee)},K=(ee,U=0)=>{var te,ie,oe;return ee==="month"?(te=_.value)==null?void 0:te.toggleMonthPicker(!1,!0,U):ee==="year"?(ie=_.value)==null?void 0:ie.toggleYearPicker(!1,!0,U):ee==="time"?(oe=_.value)==null?void 0:oe.toggleTimePicker(!0,!1):J(U)},se=(ee,...U)=>{var te,ie;(te=_.value)!=null&&te[ee]&&((ie=_.value)==null||ie[ee](...U))},ce=()=>{se("selectCurrentDate")},Z=(ee,U)=>{se("presetDate",ee,U)},q=()=>{se("clearHoverDate")},Q=(ee,U)=>{se("updateMonthYear",ee,U)},Y=(ee,U)=>{ee.preventDefault(),z(U)},fe=ee=>{var U;if(j(ee),ee.key===Vt.home||ee.key===Vt.end)return se("selectWeekDate",ee.key===Vt.home,ee.target.getAttribute("id"));switch((ee.key===Vt.pageUp||ee.key===Vt.pageDown)&&(ee.shiftKey?se("changeYear",ee.key===Vt.pageUp):se("changeMonth",ee.key===Vt.pageUp),ee.target.getAttribute("id")&&((U=s.value)==null||U.focus({preventScroll:!0}))),ee.key){case Vt.esc:return W();case Vt.arrowLeft:return Y(ee,ir.left);case Vt.arrowRight:return Y(ee,ir.right);case Vt.arrowUp:return Y(ee,ir.up);case Vt.arrowDown:return Y(ee,ir.down);default:return}};return e({updateMonthYear:Q,switchView:K,handleFlow:T}),(ee,U)=>{var te,ie,oe;return ne(),ae("div",{id:ee.uid?`dp-menu-${ee.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(te=ee.ariaLabels)==null?void 0:te.menu,class:Ke(V.value),style:wn({"--dp-arrow-left":N.value}),onMouseleave:q,onClick:M,onKeydown:fe},[(ee.disabled||ee.readonly)&&ue(d).enabled||ee.loading?(ne(),ae("div",{key:0,class:Ke($.value)},[ee.loading?(ne(),ae("div",nH,iH)):me("",!0)],2)):me("",!0),!ue(d).enabled&&!ee.teleportCenter?(ne(),ae("div",{key:1,class:Ke(B.value)},null,2)):me("",!0),O("div",{ref_key:"innerMenuRef",ref:y,class:Ke({dp__menu_content_wrapper:((ie=ee.presetDates)==null?void 0:ie.length)||!!ee.$slots["left-sidebar"]||!!ee.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((oe=ee.presetDates)==null?void 0:oe.length)||!!ee.$slots["left-sidebar"]||!!ee.$slots["right-sidebar"])}),style:wn({"--dp-menu-width":`${m.value}px`})},[ee.$slots["left-sidebar"]?(ne(),ae("div",sH,[Ne(ee.$slots,"left-sidebar",En(or(P.value)))])):me("",!0),ee.presetDates.length?(ne(),ae("div",{key:1,class:Ke({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ne(!0),ae(Ie,null,Ge(ee.presetDates,(re,pe)=>(ne(),ae(Ie,{key:pe},[re.slot?Ne(ee.$slots,re.slot,{key:0,presetDate:Z,label:re.label,value:re.value}):(ne(),ae("button",{key:1,type:"button",style:wn(re.style||{}),class:Ke(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":re.testId??void 0,onClick:Lr(ve=>Z(re.value,re.noTz),["prevent"]),onKeydown:ve=>ue(gr)(ve,()=>Z(re.value,re.noTz),!0)},we(re.label),47,oH))],64))),128))],2)):me("",!0),O("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(ne(),Ue(Nd(R.value),gn({ref_key:"dynCmpRef",ref:_},o.value,{"flow-step":ue(E),onMount:ue(k),onUpdateFlowStep:ue(S),onResetFlow:ue(A),onFocusMenu:D,onSelectDate:U[0]||(U[0]=re=>ee.$emit("select-date")),onDateUpdate:U[1]||(U[1]=re=>ee.$emit("date-update",re)),onTooltipOpen:U[2]||(U[2]=re=>ee.$emit("tooltip-open",re)),onTooltipClose:U[3]||(U[3]=re=>ee.$emit("tooltip-close",re)),onAutoApply:U[4]||(U[4]=re=>ee.$emit("auto-apply",re)),onRangeStart:U[5]||(U[5]=re=>ee.$emit("range-start",re)),onRangeEnd:U[6]||(U[6]=re=>ee.$emit("range-end",re)),onInvalidFixedRange:U[7]||(U[7]=re=>ee.$emit("invalid-fixed-range",re)),onTimeUpdate:U[8]||(U[8]=re=>ee.$emit("time-update")),onAmPmChange:U[9]||(U[9]=re=>ee.$emit("am-pm-change",re)),onTimePickerOpen:U[10]||(U[10]=re=>ee.$emit("time-picker-open",re)),onTimePickerClose:F,onRecalculatePosition:C,onUpdateMonthYear:U[11]||(U[11]=re=>ee.$emit("update-month-year",re)),onAutoApplyInvalid:U[12]||(U[12]=re=>ee.$emit("auto-apply-invalid",re)),onInvalidDate:U[13]||(U[13]=re=>ee.$emit("invalid-date",re)),onOverlayToggle:U[14]||(U[14]=re=>ee.$emit("overlay-toggle",re)),"onUpdate:internalModelValue":U[15]||(U[15]=re=>ee.$emit("update:internal-model-value",re))}),Xn({_:2},[Ge(H.value,(re,pe)=>({name:re,fn:He(ve=>[Ne(ee.$slots,re,En(or({...ve})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ee.$slots["right-sidebar"]?(ne(),ae("div",aH,[Ne(ee.$slots,"right-sidebar",En(or(P.value)))])):me("",!0),ee.$slots["action-extra"]?(ne(),ae("div",lH,[ee.$slots["action-extra"]?Ne(ee.$slots,"action-extra",{key:0,selectCurrentDate:ce}):me("",!0)])):me("",!0)],6),!ee.autoApply||ue(h).keepActionRow?(ne(),Ue(iq,gn({key:2,"menu-mount":v.value},o.value,{"calendar-width":m.value,onClosePicker:U[16]||(U[16]=re=>ee.$emit("close-picker")),onSelectDate:U[17]||(U[17]=re=>ee.$emit("select-date")),onInvalidSelect:U[18]||(U[18]=re=>ee.$emit("invalid-select")),onSelectNow:ce}),Xn({_:2},[Ge(ue(G),(re,pe)=>({name:re,fn:He(ve=>[Ne(ee.$slots,re,En(or({...ve})))])}))]),1040,["menu-mount","calendar-width"])):me("",!0)],46,tH)}}});var ca=(t=>(t.center="center",t.left="left",t.right="right",t))(ca||{});const uH=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=he({}),f=he(!1),u=he({top:"0",left:"0"}),c=he(!1),d=au(o,"teleportCenter");un(d,()=>{u.value=JSON.parse(JSON.stringify({})),g()});const h=D=>{if(o.teleport){const P=D.getBoundingClientRect();return{left:P.left+window.scrollX,top:P.top+window.scrollY}}return{top:0,left:0}},p=(D,P)=>{u.value.left=`${D+P-l.value.width}px`},m=D=>{u.value.left=`${D}px`},y=(D,P)=>{o.position===ca.left&&m(D),o.position===ca.right&&p(D,P),o.position===ca.center&&(u.value.left=`${D+P/2-l.value.width/2}px`)},v=D=>{const{width:P,height:C}=D.getBoundingClientRect(),{top:G,left:H}=o.altPosition?o.altPosition(D):h(D);return{top:+G,left:+H,width:P,height:C}},_=()=>{u.value.left="50%",u.value.top="50%",u.value.transform="translate(-50%, -50%)",u.value.position="fixed",delete u.value.opacity},b=()=>{const D=pn(n),{top:P,left:C,transform:G}=o.altPosition(D);u.value={top:`${P}px`,left:`${C}px`,transform:G??""}},g=(D=!0)=>{var P;if(!i.value.enabled){if(d.value)return _();if(o.altPosition!==null)return b();if(D){const C=o.teleport?(P=e.value)==null?void 0:P.$el:t.value;C&&(l.value=C.getBoundingClientRect()),s("recalculate-position")}return A()}},w=({inputEl:D,left:P,width:C})=>{window.screen.width>768&&!f.value&&y(P,C),E(D)},x=D=>{const{top:P,left:C,height:G,width:H}=v(D);u.value.top=`${G+P+ +o.offset}px`,c.value=!1,f.value||(u.value.left=`${C+H/2-l.value.width/2}px`),w({inputEl:D,left:C,width:H})},I=D=>{const{top:P,left:C,width:G}=v(D);u.value.top=`${P-+o.offset-l.value.height}px`,c.value=!0,w({inputEl:D,left:C,width:G})},E=D=>{if(o.autoPosition){const{left:P,width:C}=v(D),{left:G,right:H}=l.value;if(!f.value){if(Math.abs(G)!==Math.abs(H)){if(G<=0)return f.value=!0,m(P);if(H>=document.documentElement.clientWidth)return f.value=!0,p(P,C)}return y(P,C)}}},S=()=>{const D=pn(n);if(D){const{height:P}=l.value,{top:C,height:G}=D.getBoundingClientRect(),H=window.innerHeight-C-G,B=C;return P<=H?uo.bottom:P>H&&P<=B?uo.top:H>=B?uo.bottom:uo.top}return uo.bottom},k=D=>S()===uo.bottom?x(D):I(D),A=()=>{const D=pn(n);if(D)return o.autoPosition?k(D):x(D)},T=function(D){if(D){const P=D.scrollHeight>D.clientHeight,C=window.getComputedStyle(D).overflowY.indexOf("hidden")!==-1;return P&&!C}return!0},R=function(D){return!D||D===document.body||D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:T(D)?D:R(D.assignedSlot?D.assignedSlot.parentNode:D.parentNode)},N=D=>{if(D)switch(o.position){case ca.left:return{left:0,transform:"translateX(0)"};case ca.right:return{left:`${D.width}px`,transform:"translateX(-100%)"};default:return{left:`${D.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:c,menuStyle:u,xCorrect:f,setMenuPosition:g,getScrollableParent:R,shadowRender:(D,P)=>{var C,G,H;const B=document.createElement("div"),$=(C=pn(n))==null?void 0:C.getBoundingClientRect();B.setAttribute("id","dp--temp-container");const V=(G=r.value)!=null&&G.clientWidth?r.value:document.body;V.append(B);const M=N($),W=Qa(D,{...P,shadow:!0,style:{opacity:0,position:"absolute",...M}},Object.fromEntries(Object.keys(a).filter(z=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(z)).map(z=>[z,a[z]])));V_(W,B),l.value=(H=W.el)==null?void 0:H.getBoundingClientRect(),V_(null,B),V.removeChild(B)}}},ms=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],cH=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],fH={all:()=>ms,monthYear:()=>ms.filter(t=>t.use.includes("month-year")),input:()=>cH,timePicker:()=>ms.filter(t=>t.use.includes("time")),action:()=>ms.filter(t=>t.use.includes("action")),calendar:()=>ms.filter(t=>t.use.includes("calendar")),menu:()=>ms.filter(t=>t.use.includes("menu")),shared:()=>ms.filter(t=>t.use.includes("shared")),yearMode:()=>ms.filter(t=>t.use.includes("year-mode"))},Sr=(t,e,n)=>{const r=[];return fH[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},fc=t=>{const e=ge(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ge(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},dc=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=Ht(t),i=xe(Ri(xe(),r.value.timezone)),s=he([{month:at(i),year:st(i)}]),o=c=>{const d={hours:is(i),minutes:Hs(i),seconds:0};return n.value.enabled?[d[c],d[c]]:d[c]},a=Fr({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});un(n,(c,d)=>{c.enabled!==d.enabled&&(a.hours=o("hours"),a.minutes=o("minutes"),a.seconds=o("seconds"))},{deep:!0});const l=ge({get:()=>t.internalModelValue,set:c=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",c)}}),f=ge(()=>c=>s.value[c]?s.value[c].month:0),u=ge(()=>c=>s.value[c]?s.value[c].year:0);return{calendars:s,time:a,modelValue:l,month:f,year:u,today:i}},dH=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:s,propDates:o,defaultedRange:a}=Ht(e),{isDisabled:l}=Zs(e),f=he(null),u=he(Ri(new Date,s.value.timezone)),c=M=>{!M.current&&e.hideOffsetDates||(f.value=M.value)},d=()=>{f.value=null},h=M=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&f.value?M?Zt(f.value,t.value[0]):Wt(f.value,t.value[0]):!0,p=(M,W)=>{const z=()=>t.value?W?t.value[0]||null:t.value[1]:null,j=t.value&&Array.isArray(t.value)?z():null;return lt(xe(M.value),j)},m=M=>{const W=Array.isArray(t.value)?t.value[0]:null;return M?!Wt(f.value??null,W):!0},y=(M,W=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!M.current?!1:lt(xe(M.value),t.value[W?0:1]):a.value.enabled?p(M,W)&&m(W)||lt(M.value,Array.isArray(t.value)?t.value[0]:null)&&h(W):!1,v=(M,W)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const z=lt(M.value,f.value);return W?Zt(t.value[0],M.value)&&z:Wt(t.value[0],M.value)&&z}return!1},_=M=>!t.value||e.hideOffsetDates&&!M.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?lt(M.value,t.value[0]?t.value[0]:u.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(W=>lt(W,M.value)):lt(M.value,t.value?t.value:u.value),b=M=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!M.current)return!1;const W=Hr(f.value,+a.value.autoRange),z=Vi(xe(f.value),e.weekStart);return e.weekPicker?lt(z[1],xe(M.value)):lt(W,xe(M.value))}return!1}return!1},g=M=>{if(a.value.autoRange||e.weekPicker){if(f.value){const W=Hr(f.value,+a.value.autoRange);if(e.hideOffsetDates&&!M.current)return!1;const z=Vi(xe(f.value),e.weekStart);return e.weekPicker?Zt(M.value,z[0])&&Wt(M.value,z[1]):Zt(M.value,f.value)&&Wt(M.value,W)}return!1}return!1},w=M=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!M.current)return!1;const W=Vi(xe(f.value),e.weekStart);return e.weekPicker?lt(W[0],M.value):lt(f.value,M.value)}return!1}return!1},x=M=>Bh(t.value,f.value,M.value),I=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,E=()=>e.modelAuto?BI(e.internalModelValue):!0,S=M=>{if(e.weekPicker)return!1;const W=a.value.enabled?!y(M)&&!y(M,!1):!0;return!l(M.value)&&!_(M)&&!(!M.current&&e.hideOffsetDates)&&W},k=M=>a.value.enabled?e.modelAuto?I()&&_(M):!1:_(M),A=M=>i.value?O7(M.value,o.value.highlight):!1,T=M=>{const W=l(M.value);return W&&(typeof i.value=="function"?!i.value(M.value,W):!i.value.options.highlightDisabled)},R=M=>{var W;return typeof i.value=="function"?i.value(M.value):(W=i.value.weekdays)==null?void 0:W.includes(M.value.getDay())},N=M=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||M.current)&&E()&&!(!M.current&&e.hideOffsetDates)&&!_(M)?x(M):!1,D=M=>{const{isRangeStart:W,isRangeEnd:z}=H(M),j=a.value.enabled?W||z:!1;return{dp__cell_offset:!M.current,dp__pointer:!e.disabled&&!(!M.current&&e.hideOffsetDates)&&!l(M.value),dp__cell_disabled:l(M.value),dp__cell_highlight:!T(M)&&(A(M)||R(M))&&!k(M)&&!j&&!w(M)&&!(N(M)&&e.weekPicker)&&!z,dp__cell_highlight_active:!T(M)&&(A(M)||R(M))&&k(M),dp__today:!e.noToday&&lt(M.value,u.value)&&M.current,"dp--past":Wt(M.value,u.value),"dp--future":Zt(M.value,u.value)}},P=M=>({dp__active_date:k(M),dp__date_hover:S(M)}),C=M=>{if(t.value&&!Array.isArray(t.value)){const W=Vi(t.value,e.weekStart);return{...$(M),dp__range_start:lt(W[0],M.value),dp__range_end:lt(W[1],M.value),dp__range_between_week:Zt(M.value,W[0])&&Wt(M.value,W[1])}}return{...$(M)}},G=M=>{if(t.value&&Array.isArray(t.value)){const W=Vi(t.value[0],e.weekStart),z=t.value[1]?Vi(t.value[1],e.weekStart):[];return{...$(M),dp__range_start:lt(W[0],M.value)||lt(z[0],M.value),dp__range_end:lt(W[1],M.value)||lt(z[1],M.value),dp__range_between_week:Zt(M.value,W[0])&&Wt(M.value,W[1])||Zt(M.value,z[0])&&Wt(M.value,z[1]),dp__range_between:Zt(M.value,W[1])&&Wt(M.value,z[0])}}return{...$(M)}},H=M=>{const W=n.value.count>0?M.current&&y(M)&&E():y(M)&&E(),z=n.value.count>0?M.current&&y(M,!1)&&E():y(M,!1)&&E();return{isRangeStart:W,isRangeEnd:z}},B=M=>{const{isRangeStart:W,isRangeEnd:z}=H(M);return{dp__range_start:W,dp__range_end:z,dp__range_between:N(M),dp__date_hover:lt(M.value,f.value)&&!W&&!z&&!e.weekPicker,dp__date_hover_start:v(M,!0),dp__date_hover_end:v(M,!1)}},$=M=>({...B(M),dp__cell_auto_range:g(M),dp__cell_auto_range_start:w(M),dp__cell_auto_range_end:b(M)}),V=M=>a.value.enabled?a.value.autoRange?$(M):e.modelAuto?{...P(M),...B(M)}:e.weekPicker?G(M):B(M):e.weekPicker?C(M):P(M);return{setHoverDate:c,clearHoverDate:d,getDayClassData:M=>e.hideOffsetDates&&!M.current?{}:{...D(M),...V(M),[e.dayClass?e.dayClass(M.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Zs=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=Ht(t),s=T=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(xe(T)):!!gd(T,r.value.disabledDates):!1,o=T=>{const R=r.value.maxDate?Zt(T,r.value.maxDate):!1,N=r.value.minDate?Wt(T,r.value.minDate):!1,D=s(T),P=e.value.months.map($=>+$).includes(at(T)),C=t.disabledWeekDays.length?t.disabledWeekDays.some($=>+$===vj(T)):!1,G=c(T),H=st(T),B=H<+t.yearRange[0]||H>+t.yearRange[1];return!(R||N||D||P||B||C||G)},a=(T,R)=>Wt(...Rs(r.value.minDate,T,R))||lt(...Rs(r.value.minDate,T,R)),l=(T,R)=>Zt(...Rs(r.value.maxDate,T,R))||lt(...Rs(r.value.maxDate,T,R)),f=(T,R,N)=>{let D=!1;return r.value.maxDate&&N&&l(T,R)&&(D=!0),r.value.minDate&&!N&&a(T,R)&&(D=!0),D},u=(T,R,N,D)=>{let P=!1;return D?r.value.minDate&&r.value.maxDate?P=f(T,R,N):(r.value.minDate&&a(T,R)||r.value.maxDate&&l(T,R))&&(P=!0):P=!0,P},c=T=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!gd(T,r.value.allowedDates):!1,d=T=>!o(T),h=T=>n.value.noDisabledRange?!AI({start:T[0],end:T[1]}).some(R=>d(R)):!0,p=T=>{if(T){const R=st(T);return R>=+t.yearRange[0]&&R<=t.yearRange[1]}return!0},m=(T,R)=>!!(Array.isArray(T)&&T[R]&&(n.value.maxRange||n.value.minRange)&&p(T[R])),y=(T,R,N=0)=>{if(m(R,N)&&p(T)){const D=EI(T,R[N]),P=WI(R[N],T),C=P.length===1?0:P.filter(H=>d(H)).length,G=Math.abs(D)-(n.value.minMaxRawRange?0:C);if(n.value.minRange&&n.value.maxRange)return G>=+n.value.minRange&&G<=+n.value.maxRange;if(n.value.minRange)return G>=+n.value.minRange;if(n.value.maxRange)return G<=+n.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=T=>Array.isArray(T)?[T[0]?Im(T[0]):null,T[1]?Im(T[1]):null]:Im(T),b=(T,R,N)=>T.find(D=>+D.hours===is(R)&&D.minutes==="*"?!0:+D.minutes===Hs(R)&&+D.hours===is(R))&&N,g=(T,R,N)=>{const[D,P]=T,[C,G]=R;return!b(D,C,N)&&!b(P,G,N)&&N},w=(T,R)=>{const N=Array.isArray(R)?R:[R];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?g(t.disabledTimes,N,T):!N.some(D=>b(t.disabledTimes,D,T)):T},x=(T,R)=>{const N=Array.isArray(R)?[So(R[0]),R[1]?So(R[1]):void 0]:So(R),D=!t.disabledTimes(N);return T&&D},I=(T,R)=>t.disabledTimes?Array.isArray(t.disabledTimes)?w(R,T):x(R,T):R,E=T=>{let R=!0;if(!T||v())return!0;const N=!r.value.minDate&&!r.value.maxDate?_(T):T;return(t.maxTime||r.value.maxDate)&&(R=_w(t.maxTime,r.value.maxDate,"max",_n(N),R)),(t.minTime||r.value.minDate)&&(R=_w(t.minTime,r.value.minDate,"min",_n(N),R)),I(T,R)},S=T=>{if(!t.monthPicker)return!0;let R=!0;const N=xe(zr(T));if(r.value.minDate&&r.value.maxDate){const D=xe(zr(r.value.minDate)),P=xe(zr(r.value.maxDate));return Zt(N,D)&&Wt(N,P)||lt(N,D)||lt(N,P)}if(r.value.minDate){const D=xe(zr(r.value.minDate));R=Zt(N,D)||lt(N,D)}if(r.value.maxDate){const D=xe(zr(r.value.maxDate));R=Wt(N,D)||lt(N,D)}return R},k=ge(()=>T=>!t.enableTimePicker||t.ignoreTimeValidation?!0:E(T)),A=ge(()=>T=>t.monthPicker?Array.isArray(T)&&(n.value.enabled||i.value.enabled)?!T.filter(R=>!S(R)).length:S(T):!0);return{isDisabled:d,validateDate:o,validateMonthYearInRange:u,isDateRangeAllowed:h,checkMinMaxRange:y,isValidTime:E,isTimeValid:k,isMonthValid:A}},zh=()=>{const t=ge(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ge(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ge(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},hH=(t,e,n)=>{const r=he(0),i=Fr({[ko.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ko.calendar]:!1,[ko.header]:!1}),s=ge(()=>t.monthPicker||t.timePicker),o=c=>{var d;if((d=t.flow)!=null&&d.length){if(!c&&s.value)return u();i[c]=!0,Object.keys(i).filter(h=>!i[h]).length||u()}},a=()=>{var c,d;(c=t.flow)!=null&&c.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u()),((d=t.flow)==null?void 0:d.length)===r.value&&Vn().then(()=>l())},l=()=>{r.value=-1},f=(c,d,...h)=>{var p,m;t.flow[r.value]===c&&n.value&&((m=(p=n.value)[d])==null||m.call(p,...h))},u=(c=0)=>{c&&(r.value+=c),f(Yn.month,"toggleMonthPicker",!0),f(Yn.year,"toggleYearPicker",!0),f(Yn.calendar,"toggleTimePicker",!1,!0),f(Yn.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===Yn.hours||d===Yn.minutes||d===Yn.seconds)&&f(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,handleFlow:u,flowStep:r}},pH={key:1,class:"dp__input_wrap"},mH=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],gH={key:2,class:"dp__clear_icon"},vH=rn({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...jh},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:c,getDefaultStartTime:d}=Ht(i),{checkMinMaxRange:h}=Zs(i),p=he(),m=he(null),y=he(!1),v=he(!1),_=ge(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:y.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),b=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),p.value=null)},g=P=>{const C=d();return P7(P,s.value.format??c(),C??KI({},i.enableSeconds),i.inputValue,v.value,i.formatLocale)},w=P=>{const{rangeSeparator:C}=s.value,[G,H]=P.split(`${C}`);if(G){const B=g(G.trim()),$=H?g(H.trim()):null;if(Ha(B,$))return;const V=B&&$?[B,$]:[B];h($,V,0)&&(p.value=B?V:null)}},x=()=>{v.value=!0},I=P=>{if(f.value.enabled)w(P);else if(u.value.enabled){const C=P.split(";");p.value=C.map(G=>g(G.trim())).filter(G=>G)}else p.value=g(P)},E=P=>{var C;const G=typeof P=="string"?P:(C=P.target)==null?void 0:C.value;G!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),I(G),r("set-input-date",p.value)):b(),v.value=!1,r("update:input-value",G)},S=P=>{s.value.enabled?(I(P.target.value),s.value.enterSubmit&&cv(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):s.value.enterSubmit&&i.inputValue===""&&(p.value=null,r("clear"))):T(P)},k=P=>{s.value.enabled&&s.value.tabSubmit&&I(P.target.value),s.value.tabSubmit&&cv(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):s.value.tabSubmit&&i.inputValue===""&&(p.value=null,r("clear",!0))},A=()=>{y.value=!0,r("focus"),Vn().then(()=>{var P;s.value.enabled&&s.value.selectOnFocus&&((P=m.value)==null||P.select())})},T=P=>{P.preventDefault(),Ls(P,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},R=()=>{r("real-blur"),y.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&p.value&&!i.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},N=P=>{Ls(P,l.value,!0),r("clear")},D=P=>{if(P.key==="Tab"&&k(P),P.key==="Enter"&&S(P),!s.value.enabled){if(P.code==="Tab")return;P.preventDefault()}};return e({focusInput:()=>{var P;(P=m.value)==null||P.focus({preventScroll:!0})},setParsedDate:P=>{p.value=P}}),(P,C)=>{var G;return ne(),ae("div",{onClick:T},[P.$slots.trigger&&!P.$slots["dp-input"]&&!ue(a).enabled?Ne(P.$slots,"trigger",{key:0}):me("",!0),!P.$slots.trigger&&(!ue(a).enabled||ue(a).input)?(ne(),ae("div",pH,[P.$slots["dp-input"]&&!P.$slots.trigger&&(!ue(a).enabled||ue(a).enabled&&ue(a).input)?Ne(P.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:E,onEnter:S,onTab:k,onClear:N,onBlur:R,onKeypress:D,onPaste:x,onFocus:A,openMenu:()=>P.$emit("open"),closeMenu:()=>P.$emit("close"),toggleMenu:()=>P.$emit("toggle")}):me("",!0),P.$slots["dp-input"]?me("",!0):(ne(),ae("input",{key:1,id:P.uid?`dp-input-${P.uid}`:void 0,ref_key:"inputRef",ref:m,"data-test":"dp-input",name:P.name,class:Ke(_.value),inputmode:ue(s).enabled?"text":"none",placeholder:P.placeholder,disabled:P.disabled,readonly:P.readonly,required:P.required,value:t.inputValue,autocomplete:P.autocomplete,"aria-label":(G=ue(o))==null?void 0:G.input,"aria-disabled":P.disabled||void 0,"aria-invalid":P.state===!1?!0:void 0,onInput:E,onBlur:R,onFocus:A,onKeypress:D,onKeydown:D,onPaste:x},null,42,mH)),O("div",{onClick:C[2]||(C[2]=H=>r("toggle"))},[P.$slots["input-icon"]&&!P.hideInputIcon?(ne(),ae("span",{key:0,class:"dp__input_icon",onClick:C[0]||(C[0]=H=>r("toggle"))},[Ne(P.$slots,"input-icon")])):me("",!0),!P.$slots["input-icon"]&&!P.hideInputIcon&&!P.$slots["dp-input"]?(ne(),Ue(ue(sl),{key:1,class:"dp__input_icon dp__input_icons",onClick:C[1]||(C[1]=H=>r("toggle"))})):me("",!0)]),P.$slots["clear-icon"]&&t.inputValue&&P.clearable&&!P.disabled&&!P.readonly?(ne(),ae("span",gH,[Ne(P.$slots,"clear-icon",{clear:N})])):me("",!0),P.clearable&&!P.$slots["clear-icon"]&&t.inputValue&&!P.disabled&&!P.readonly?(ne(),Ue(ue(VI),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:C[3]||(C[3]=Lr(H=>N(H),["prevent"]))})):me("",!0)])):me("",!0)])}}}),yH=typeof window<"u"?window:void 0,Mm=()=>{},_H=t=>aE()?(yO(t),!0):!1,bH=(t,e,n,r)=>{if(!t)return Mm;let i=Mm;const s=un(()=>ue(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Mm})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return _H(o),o},wH=(t,e,n,r={})=>{const{window:i=yH,event:s="pointerdown"}=r;return i?bH(i,s,o=>{const a=pn(t),l=pn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},EH=rn({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...jh},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Uo(),o=he(!1),a=au(i,"modelValue"),l=au(i,"timezone"),f=he(null),u=he(null),c=he(null),d=he(!1),h=he(null),p=he(!1),m=he(!1),y=he(!1),{setMenuFocused:v,setShiftKey:_}=JI(),{clearArrowNav:b}=Js(),{validateDate:g,isValidTime:w}=Zs(i),{defaultedTransitions:x,defaultedTextInput:I,defaultedInline:E,defaultedConfig:S,defaultedRange:k,defaultedMultiDates:A}=Ht(i),{menuTransition:T,showTransition:R}=fc(x);pt(()=>{W(i.modelValue),Vn().then(()=>{if(!E.value.enabled){const ye=B(h.value);ye==null||ye.addEventListener("scroll",Q),window==null||window.addEventListener("resize",Y)}}),E.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",fe),window==null||window.addEventListener("keydown",ee)}),Ga(()=>{if(!E.value.enabled){const ye=B(h.value);ye==null||ye.removeEventListener("scroll",Q),window==null||window.removeEventListener("resize",Y)}window==null||window.removeEventListener("keyup",fe),window==null||window.removeEventListener("keydown",ee)});const N=Sr(s,"all",i.presetDates),D=Sr(s,"input");un([a,l],()=>{W(a.value)},{deep:!0});const{openOnTop:P,menuStyle:C,xCorrect:G,setMenuPosition:H,getScrollableParent:B,shadowRender:$}=uH({menuRef:f,menuRefInner:u,inputRef:c,pickerWrapperRef:h,inline:E,emit:r,props:i,slots:s}),{inputValue:V,internalModelValue:M,parseExternalModelValue:W,emitModelValue:z,formatInputValue:j,checkBeforeEmit:F}=eq(r,i,d),J=ge(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,"dp--flex-display-collapsed":y.value,dp__flex_display_with_input:E.value.input})),K=ge(()=>i.dark?"dp__theme_dark":"dp__theme_light"),se=ge(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled}:{}),ce=ge(()=>({class:"dp__outer_menu_wrap"})),Z=ge(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),q=()=>{var ye,Ae;return(Ae=(ye=c.value)==null?void 0:ye.$el)==null?void 0:Ae.getBoundingClientRect()},Q=()=>{o.value&&(S.value.closeOnScroll?Re():H())},Y=()=>{var ye;o.value&&H();const Ae=(ye=u.value)==null?void 0:ye.$el.getBoundingClientRect().width;y.value=document.body.offsetWidth<=Ae},fe=ye=>{ye.key==="Tab"&&!E.value.enabled&&!i.teleport&&S.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Re()),m.value=ye.shiftKey},ee=ye=>{m.value=ye.shiftKey},U=()=>{!i.disabled&&!i.readonly&&($(Tw,i),H(!1),o.value=!0,o.value&&r("open"),o.value||Ee(),W(i.modelValue))},te=()=>{var ye;V.value="",Ee(),(ye=c.value)==null||ye.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),S.value.closeOnClearValue&&Re()},ie=()=>{const ye=M.value;return!ye||!Array.isArray(ye)&&g(ye)?!0:Array.isArray(ye)?A.value.enabled||ye.length===2&&g(ye[0])&&g(ye[1])?!0:k.value.partialRange&&!i.timePicker?g(ye[0]):!1:!1},oe=()=>{F()&&ie()?(z(),Re()):r("invalid-select",M.value)},re=ye=>{pe(),z(),S.value.closeOnAutoApply&&!ye&&Re()},pe=()=>{c.value&&I.value.enabled&&c.value.setParsedDate(M.value)},ve=(ye=!1)=>{i.autoApply&&w(M.value)&&ie()&&(k.value.enabled&&Array.isArray(M.value)?(k.value.partialRange||M.value.length===2)&&re(ye):re(ye))},Ee=()=>{I.value.enabled||(M.value=null)},Re=()=>{E.value.enabled||(o.value&&(o.value=!1,G.value=!1,v(!1),_(!1),b(),r("closed"),V.value&&W(a.value)),Ee(),r("blur"))},$e=(ye,Ae,Oe=!1)=>{if(!ye){M.value=null;return}const Ft=Array.isArray(ye)?!ye.some(zt=>!g(zt)):g(ye),Et=w(ye);Ft&&Et&&(M.value=ye,Ae&&(p.value=Oe,oe(),r("text-submit")))},Pe=()=>{i.autoApply&&w(M.value)&&z(),pe()},Qe=()=>o.value?Re():U(),Me=ye=>{M.value=ye},rt=()=>{I.value.enabled&&(d.value=!0,j()),r("focus")},St=()=>{if(I.value.enabled&&(d.value=!1,W(i.modelValue),p.value)){const ye=I7(h.value,m.value);ye==null||ye.focus()}r("blur")},sn=ye=>{u.value&&u.value.updateMonthYear(0,{month:gw(ye.month),year:gw(ye.year)})},Ot=ye=>{W(ye??i.modelValue)},Xt=(ye,Ae)=>{var Oe;(Oe=u.value)==null||Oe.switchView(ye,Ae)},de=ye=>S.value.onClickOutside?S.value.onClickOutside(ye):Re(),Te=(ye=0)=>{var Ae;(Ae=u.value)==null||Ae.handleFlow(ye)};return wH(f,c,()=>de(ie)),e({closeMenu:Re,selectDate:oe,clearValue:te,openMenu:U,onScroll:Q,formatInputValue:j,updateInternalModelValue:Me,setMonthYear:sn,parseModel:Ot,switchView:Xt,toggleMenu:Qe,handleFlow:Te}),(ye,Ae)=>(ne(),ae("div",{ref_key:"pickerWrapperRef",ref:h,class:Ke(J.value),"data-datepicker-instance":""},[Ce(vH,gn({ref_key:"inputRef",ref:c,"input-value":ue(V),"onUpdate:inputValue":Ae[0]||(Ae[0]=Oe=>Tn(V)?V.value=Oe:null),"is-menu-open":o.value},ye.$props,{onClear:te,onOpen:U,onSetInputDate:$e,onSetEmptyDate:ue(z),onSelectDate:oe,onToggle:Qe,onClose:Re,onFocus:rt,onBlur:St,onRealBlur:Ae[1]||(Ae[1]=Oe=>d.value=!1)}),Xn({_:2},[Ge(ue(D),(Oe,Ft)=>({name:Oe,fn:He(Et=>[Ne(ye.$slots,Oe,En(or(Et)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ne(),Ue(Nd(ye.teleport?BP:"div"),En(or(se.value)),{default:He(()=>[Ce(Zr,{name:ue(T)(ue(P)),css:ue(R)&&!ue(E).enabled},{default:He(()=>[o.value?(ne(),ae("div",gn({key:0,ref_key:"dpWrapMenuRef",ref:f},ce.value,{class:{"dp--menu-wrapper":!ue(E).enabled},style:ue(E).enabled?void 0:ue(C)}),[Ce(Tw,gn({ref_key:"dpMenuRef",ref:u},ye.$props,{"internal-model-value":ue(M),"onUpdate:internalModelValue":Ae[2]||(Ae[2]=Oe=>Tn(M)?M.value=Oe:null),class:{[K.value]:!0,"dp--menu-wrapper":ye.teleport},"open-on-top":ue(P),"no-overlay-focus":Z.value,collapse:y.value,"get-input-rect":q,onClosePicker:Re,onSelectDate:oe,onAutoApply:ve,onTimeUpdate:Pe,onFlowStep:Ae[3]||(Ae[3]=Oe=>ye.$emit("flow-step",Oe)),onUpdateMonthYear:Ae[4]||(Ae[4]=Oe=>ye.$emit("update-month-year",Oe)),onInvalidSelect:Ae[5]||(Ae[5]=Oe=>ye.$emit("invalid-select",ue(M))),onAutoApplyInvalid:Ae[6]||(Ae[6]=Oe=>ye.$emit("invalid-select",Oe)),onInvalidFixedRange:Ae[7]||(Ae[7]=Oe=>ye.$emit("invalid-fixed-range",Oe)),onRecalculatePosition:ue(H),onTooltipOpen:Ae[8]||(Ae[8]=Oe=>ye.$emit("tooltip-open",Oe)),onTooltipClose:Ae[9]||(Ae[9]=Oe=>ye.$emit("tooltip-close",Oe)),onTimePickerOpen:Ae[10]||(Ae[10]=Oe=>ye.$emit("time-picker-open",Oe)),onTimePickerClose:Ae[11]||(Ae[11]=Oe=>ye.$emit("time-picker-close",Oe)),onAmPmChange:Ae[12]||(Ae[12]=Oe=>ye.$emit("am-pm-change",Oe)),onRangeStart:Ae[13]||(Ae[13]=Oe=>ye.$emit("range-start",Oe)),onRangeEnd:Ae[14]||(Ae[14]=Oe=>ye.$emit("range-end",Oe)),onDateUpdate:Ae[15]||(Ae[15]=Oe=>ye.$emit("date-update",Oe)),onInvalidDate:Ae[16]||(Ae[16]=Oe=>ye.$emit("invalid-date",Oe)),onOverlayToggle:Ae[17]||(Ae[17]=Oe=>ye.$emit("overlay-toggle",Oe))}),Xn({_:2},[Ge(ue(N),(Oe,Ft)=>({name:Oe,fn:He(Et=>[Ne(ye.$slots,Oe,En(or({...Et})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):me("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),hc=(()=>{const t=EH;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),TH=Object.freeze(Object.defineProperty({__proto__:null,default:hc},Symbol.toStringTag,{value:"Module"}));Object.entries(TH).forEach(([t,e])=>{t!=="default"&&(hc[t]=e)});const AH=O("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),xH={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},kH={class:"relative p-4 max-w-2xl max-h-full"},SH={class:"relative bg-white rounded-lg shadow"},IH={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},RH=O("h3",{class:"text-lg font-semibold text-black"}," Avukat Uygun Randevu Saatleri ",-1),OH=O("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),PH=O("span",{class:"sr-only"},"Close modal",-1),CH=[OH,PH],DH={class:"p-4 px-10 max-h-full flex items-center justify-center"},MH={id:"timetable",class:"pt-4 grid w-full grid-cols-3 gap-2 mb-5"},NH=["id"],LH=["for"],$H={__name:"AttorneyScheduleModal",emits:["close"],setup(t,{emit:e}){const n=he(new Date),r={Monday:["09:00","10:00","11:30","13:00","14:30","16:00"],Tuesday:["09:30","10:30","12:00","13:30","15:00","16:30"],Wednesday:["09:00","11:00","12:30","14:00","15:30","17:00"],Thursday:["08:30","10:00","11:30","13:00","14:30","16:00"],Friday:["09:00","10:30","12:00","13:30","15:00","16:30"],Saturday:["10:00","11:30","13:00","14:30","16:00","17:30"],Sunday:["09:30","11:00","12:30","14:00","15:30","17:00"]},i=ge(()=>{const s=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n.value);return r[s]});return pt(()=>{console.log("Component mounted")}),(s,o)=>(ne(),ae(Ie,null,[AH,O("div",xH,[O("div",kH,[O("div",SH,[O("div",IH,[RH,O("button",{type:"button",onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},CH)]),O("div",DH,[O("div",null,[Ce(ue(hc),{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),inline:"","auto-apply":"",name:"date",class:"form-input w-full","enable-time-picker":!1},null,8,["modelValue"]),O("ul",MH,[(ne(!0),ae(Ie,null,Ge(i.value,(a,l)=>(ne(),ae("li",{key:l},[O("input",{type:"radio",id:"time-"+l,value:"",class:"hidden peer",name:"timetable"},null,8,NH),O("label",{for:"time-"+l,class:"inline-flex items-center justify-center w-full px-2 py-1 text-sm font-medium text-center hover:text-gray-900 dark:hover:text-white bg-white border rounded-lg cursor-pointer text-gray-500 border-gray-200 peer-checked:border-blue-700 peer-checked:bg-blue-50 peer-checked:text-blue-700 hover:bg-gray-50"},we(a),9,LH)]))),128))])])])])])])],64))}},FH={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},VH={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},UH={class:"flex justify-between items-center mb-4"},BH={class:"text-4xl font-bold text-gray-800"},jH=O("div",{class:"text-lg font-medium text-gray-500"}," Toplam Online Görüşmeler ",-1),qH=O("div",{class:"text-gray-400"},[O("i",{class:"ri-group-line text-4xl"})],-1),HH={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},zH={class:"text-right text-sm font-medium text-gray-600 mt-2"},WH={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},KH={class:"flex justify-between items-center mb-4"},YH={class:"flex items-center mb-1"},GH={class:"text-4xl font-bold text-gray-800"},QH={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},XH=O("div",{class:"text-lg font-medium text-gray-500"}," Yaklaşan Görüşmeler ",-1),JH=O("div",{class:"text-gray-400"},[O("i",{class:"ri-calendar-check-line text-4xl"})],-1),ZH=O("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),ez={class:"mt-2 flex flex-wrap"},tz={key:0,class:"bg-white flex justify-center rounded-lg border border-gray-200 p-2 shadow-lg"},nz={key:0},rz=["src"],iz={key:1,class:"bg-white border border-gray-200 rounded-lg p-6 shadow-lg"},sz=O("div",{class:"flex justify-between items-center mb-4 bg-gray-800 p-2 rounded-t-lg"},[O("div",{class:"flex items-center p-2"},[O("i",{class:"ri-award-line text-2xl text-white"}),O("div",{class:"ml-2 text-lg font-bold text-white"}," En çok Görüşme Yapan Avukatlar ")])],-1),oz={class:"mt-2 space-y-2"},az={class:"flex items-center"},lz={class:"bg-gray-800 text-white rounded-full h-8 w-8 flex items-center justify-center font-bold"},uz={class:"pl-4 flex items-center justify-stretch"},cz={class:"text-lg font-bold"},fz={class:"text-xl border-l-2 border-gray-800 px-4"},dz={__name:"MeetingCards",props:{totalMeetings:Number,approvedMeetings:Number,satisfactionRate:Number,meetingStatusSummary:Object,topAttorneys:Array,showTopAttorneys:Boolean,showAttorneySchedule:Boolean,uid:String},setup(t){const e=Vr(),n=ge(()=>e.getters.userRole),r=he(!1),i=()=>n.value==="admin",s=t,o={0:"bg-blue-100 text-blue-700",1:"bg-green-100 text-green-700",2:"bg-gray-100 text-gray-700",3:"bg-red-100 text-red-700",4:"bg-orange-100 text-orange-700",5:"bg-orange-100 text-orange-700",6:"bg-black text-white",7:"bg-black text-white"},a=u=>{switch(u){case"0":return"İstek";case"1":return"Kabul Edildi";case"2":return"Tamamlandı";case"3":return"Reddedildi";case"4":return"Müşteri Onayı";case"5":return"Avukat Onayı";case"6":return"İptal Edildi";default:return"Unknown"}},l=ge(()=>s.totalMeetings===0?0:(s.approvedMeetings/s.totalMeetings*100).toFixed(2)),f=ge(()=>s.totalMeetings===0?0:(s.totalMeetings/100*100).toFixed(2));return pt(()=>{console.log("isAdmin",i()),console.log("uid",s.uid)}),(u,c)=>(ne(),ae(Ie,null,[r.value?(ne(),Ue($H,{key:0,onClose:c[0]||(c[0]=d=>r.value=!1)})):me("",!0),O("div",FH,[O("div",VH,[O("div",UH,[O("div",null,[O("div",BH,we(t.totalMeetings),1),jH]),qH]),O("div",HH,[O("div",{class:"h-full bg-blue-600",style:wn({width:f.value+"%"})},null,4)]),O("div",zH,we(f.value)+"% ",1)]),O("div",WH,[O("div",KH,[O("div",null,[O("div",YH,[O("div",GH,we(t.approvedMeetings),1),O("div",QH," +"+we(l.value)+"% ",1)]),XH]),JH]),ZH,O("div",ez,[(ne(!0),ae(Ie,null,Ge(t.meetingStatusSummary,(d,h)=>(ne(),ae("span",{key:h,class:Ke([o[h],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},we(a(h))+": "+we(d),3))),128))])]),t.showTopAttorneys?me("",!0):(ne(),ae("div",tz,[t.uid?(ne(),ae("div",nz,[O("img",{src:`/assets/images/${t.uid}.jpg`,alt:"Attorney Photo",class:"w-56 object-cover rounded-md"},null,8,rz)])):me("",!0)])),t.showTopAttorneys?(ne(),ae("div",iz,[sz,O("ul",oz,[(ne(!0),ae(Ie,null,Ge(t.topAttorneys,(d,h)=>(ne(),ae("li",{key:h,class:"flex items-center justify-between text-lg font-medium text-black bg-gray-100 h-10 rounded-lg"},[O("div",az,[O("div",lz,we(h+1),1),O("div",uz,[O("div",cz,we(d.name),1)])]),O("div",fz,we(d.meetings),1)]))),128))])])):me("",!0)])],64))}},hz={},pz={class:"bg-white border border-gray-200 shadow-md shadow-black/5 p-6 rounded-md"};function mz(t,e){return ne(),ae("section",pz,[Ne(t.$slots,"default")])}const sR=Di(hz,[["render",mz]]),gz={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},vz={key:1,tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},yz={class:"relative p-4 w-full max-w-2xl max-h-full"},_z={class:"relative bg-white rounded-lg shadow"},bz={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},wz=O("h3",{class:"text-lg font-semibold text-black"}," Danışan Dökümanları ",-1),Ez=O("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Tz=O("span",{class:"sr-only"},"Close modal",-1),Az=[Ez,Tz],xz={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},kz={class:"col-span-2"},Sz=O("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Notu",-1),Iz={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},Rz={class:"col-span-2"},Oz=O("label",{for:"documents",class:"block mb-2 text-sm font-medium text-gray-900"},"Görüşme Evrakları",-1),Pz={key:0,class:"grid gap-4 grid-cols-1 md:grid-cols-2"},Cz={class:"flex items-center justify-between"},Dz={class:"flex items-center"},Mz={class:"flex flex-col items-center justify-center mr-4"},Nz=O("i",{class:"ri-file-fill text-3xl"},null,-1),Lz={class:"text-sm text-gray-500"},$z={class:"text-sm text-gray-500"},Fz=["onClick"],Vz=O("i",{class:"ri-download-2-line text-2xl"},null,-1),Uz=O("span",{class:"sr-only"},"Close modal",-1),Bz=[Vz,Uz],jz={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 w-full flex items-center"},qz=O("p",{class:"text-sm text-gray-500 font-normal"}," Danışan herhangi bir evrak eklemedi. ",-1),Hz=[qz],zz={__name:"DocumentsModal",props:{show:Boolean,customerNotes:String,customerDocuments:Array},emits:["close"],setup(t,{emit:e}){const n=s=>{window.open(s.file_url,"_blank")},r=s=>s.length>15?s.substring(0,6)+"..."+s.substring(s.length-8):s,i=s=>s>=1073741824?(s/1073741824).toFixed(2)+" GB":s>=1048576?(s/1048576).toFixed(2)+" MB":s>=1024?(s/1024).toFixed(2)+" KB":s+" B";return(s,o)=>(ne(),ae(Ie,null,[t.show?(ne(),ae("div",gz)):me("",!0),t.show?(ne(),ae("div",vz,[O("div",yz,[O("div",_z,[O("div",bz,[wz,O("button",{type:"button",onClick:o[0]||(o[0]=a=>s.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Az)]),O("div",xz,[O("div",kz,[Sz,O("p",Iz,we(t.customerNotes),1)]),O("div",Rz,[Oz,t.customerDocuments.length!=0?(ne(),ae("div",Pz,[(ne(!0),ae(Ie,null,Ge(t.customerDocuments,a=>(ne(),ae("div",{key:a.name,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},[O("div",Cz,[O("div",Dz,[O("div",Mz,[Nz,O("p",Lz,we(r(a.kind)),1)]),O("div",null,[O("p",null,we(r(a.name)),1),O("p",$z,we(i(a.size)),1)])]),O("button",{type:"button",onClick:l=>n(a),class:"bg-transparent mt-1 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Bz,8,Fz)])]))),128))])):(ne(),ae("div",jz,Hz))])])])])])):me("",!0)],64))}},Wz=O("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),Kz={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},Yz={class:"relative p-4 w-[32rem] max-h-full"},Gz={class:"relative bg-white rounded-lg shadow"},Qz={class:"flex items-center justify-between p-4 border-b rounded-t"},Xz=O("h3",{class:"text-lg font-semibold text-black"},"Yeni Randevu İsteği",-1),Jz=O("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Zz=O("span",{class:"sr-only"},"Close modal",-1),eW=[Jz,Zz],tW={class:"px-6 py-4 w-full mx-auto bg-white rounded-xl space-y-4"},nW={class:"flex items-center justify-center space-x-4"},rW={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},iW={class:"text-sm"},sW={class:"text-4xl font-bold"},oW={class:"text-sm"},aW={class:"p-2"},lW=O("h2",{class:"text-xl font-bold"},"Onaylıyor musun?",-1),uW={class:"flex items-center text-gray-500 space-x-2"},cW=O("i",{class:"ri-time-line text-lg"},null,-1),fW={class:"flex space-x-2 mt-2"},dW={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},hW={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},pW={key:0,class:"bg-green-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},mW=O("p",{class:"text-sm text-gray-500 font-normal"}," Online görüşme başarıyla oluşturuldu. ",-1),gW=[mW],vW={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},yW=O("p",{class:"text-sm text-gray-500 font-normal"}," Randevu başarıyla reddedildi. ",-1),_W=[yW],bW={key:2,class:"bg-gray-50 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},wW=O("p",{class:"text-sm text-gray-500 font-normal"}," Randevuyu onaylarsanız, online görüşme oluşturulup ilgili avukat ve müvekkil mail bilgilendirilecektir. ",-1),EW=[wW],TW={key:3,class:"flex items-center justify-center space-x-4 mt-2"},AW={key:4,class:"mb-2 rounded-lg"},xW=O("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},"Reddetme sebebi",-1),kW={class:"flex items-center justify-center space-x-4 mt-4"},SW={__name:"Status0Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close","accept-meeting","reject-meeting"],setup(t,{emit:e}){const n=he(!1),r=he(!1),i=he(!1),s=he(!1),o=he(""),a=e,l=()=>{n.value=!0,setTimeout(()=>{n.value=!1,r.value=!0,setTimeout(()=>{a("accept-meeting"),a("close")},1e3)},4e3)},f=()=>{n.value=!0,setTimeout(()=>{n.value=!1,s.value=!1,i.value=!0,setTimeout(()=>{a("reject-meeting",o.value)},700)},2e3)};return pt(()=>{console.log("status 0 modal mounted")}),(u,c)=>(ne(),ae(Ie,null,[Wz,O("div",Kz,[O("div",Yz,[O("div",Gz,[O("div",Qz,[Xz,O("button",{type:"buttona",onClick:c[0]||(c[0]=d=>u.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},eW)]),O("div",tW,[O("div",nW,[O("div",rW,[O("div",iW,we(t.formattedDate.month),1),O("div",sW,we(t.formattedDate.dayNumber),1),O("div",oW,we(t.formattedDate.dayName),1)]),O("div",aW,[lW,O("div",uW,[cW,O("span",null,we(t.formattedDate.time)+" -",1),O("span",null,we(t.formattedDate.meetingTimeEnd),1)]),O("div",fW,[O("span",dW,we(t.meetingData.attorney_name),1),O("span",hW,we(t.meetingData.customer_name),1)])])]),O("div",null,[r.value?(ne(),ae("div",pW,gW)):me("",!0),i.value?(ne(),ae("div",vW,_W)):me("",!0),!r.value&&!i.value&&!s.value?(ne(),ae("div",bW,EW)):me("",!0),!r.value&&!i.value&&!s.value?(ne(),ae("div",TW,[Ce(Bt,{onClick:l,color:"green",wFull:!1,isLoading:n.value,loadingText:"Oluşturuluyor",text:"Evet"},null,8,["isLoading"]),Ce(Bt,{onClick:c[1]||(c[1]=d=>s.value=!0),color:"red",wFull:!1,loadingText:"Oluşturuluyor",text:"Hayır"})])):me("",!0),s.value?(ne(),ae("div",AW,[xW,wt(O("textarea",{id:"reason","onUpdate:modelValue":c[2]||(c[2]=d=>o.value=d),rows:"3",class:"block w-full h-32 bg-gray-100 rounded-md border-gray-300 shadow-sm"},null,512),[[Gr,o.value]]),O("div",kW,[Ce(Bt,{onClick:f,color:"blue",wFull:!1,isLoading:n.value,loadingText:"Kaydediliyor",text:"Kaydet"},null,8,["isLoading"])])])):me("",!0)])])])])])],64))}},IW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20aria-label='Google%20Meet'%20role='img'%20viewBox='0%200%20512%20512'%3e%3crect%20width='512'%20height='512'%20rx='15%25'%20fill='%23ffffff'/%3e%3cpath%20d='M166%20106v90h-90'%20fill='%23ea4335'/%3e%3cpath%20d='M166%20106v90h120v62l90-73v-49q0-30-30-30'%20fill='%23ffba00'/%3e%3cpath%20d='M164%20406v-90h122v-60l90%2071v49q0%2030-30%2030'%20fill='%2300ac47'/%3e%3cpath%20d='M286%20256l90-73v146'%20fill='%2300832d'/%3e%3cpath%20d='M376%20183l42-34c9-7%2018-7%2018%207v200c0%2014-9%2014-18%207l-42-34'%20fill='%2300ac47'/%3e%3cpath%20d='M76%20314v62q0%2030%2030%2030h60v-92'%20fill='%230066da'/%3e%3cpath%20d='M76%20196h90v120h-90'%20fill='%232684fc'/%3e%3c/svg%3e";/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const kf=1e3,Sf=60*kf,If=60*Sf,Aw=24*If,xw="abort",kw="end",Sw="progress",Iw="start",Rw="visibilitychange";var Nm=rn({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[xw,kw,Sw,Iw],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/Aw)},hours(){return Math.floor(this.totalMilliseconds%Aw/If)},minutes(){return Math.floor(this.totalMilliseconds%If/Sf)},seconds(){return Math.floor(this.totalMilliseconds%Sf/kf)},milliseconds(){return Math.floor(this.totalMilliseconds%kf)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/If)},totalMinutes(){return Math.floor(this.totalMilliseconds/Sf)},totalSeconds(){return Math.floor(this.totalMilliseconds/kf)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(Rw,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(Rw,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(Iw),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const r=i=>{e||(e=i),n||(n=i);const s=i-e;s>=t||s+(i-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(r),n=i};this.requestId=requestAnimationFrame(r)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(Sw,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(xw))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(kw))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return Qa(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const RW=O("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),OW={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},PW={class:"relative p-4 w-[40rem] max-h-full"},CW={class:"relative bg-white rounded-lg shadow"},DW={class:"flex items-center justify-between p-4 border-b rounded-t"},MW=O("h3",{class:"text-lg font-semibold text-black"},"Toplantı Detayları",-1),NW=O("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),LW=O("span",{class:"sr-only"},"Close modal",-1),$W=[NW,LW],FW={class:"px-6 py-4"},VW={class:"flex items-center justify-center space-x-4"},UW={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},BW={class:"text-sm"},jW={class:"text-4xl font-bold"},qW={class:"text-sm"},HW={class:"p-2"},zW=O("h2",{class:"text-xl font-bold"},"Toplantı Detayları",-1),WW={class:"flex items-center text-gray-500 space-x-2"},KW=O("i",{class:"ri-time-line text-lg"},null,-1),YW={class:"flex space-x-2 mt-2"},GW={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},QW={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},XW={class:"mb-4"},JW=O("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Randevu Sebebi",-1),ZW={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",required:""},eK={key:0},tK={class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5 leading-7",required:""},nK=O("span",null,"Online video görüşme randevunuza",-1),rK={class:"space-x-1 mx-1 items-center text-nowrap bg-yellow-100 rounded-xl px-2 text-sm inline-block"},iK=O("i",{class:"ri-time-fill mr-1 text-lg"},null,-1),sK={key:0},oK=O("span",null," kaldı. Randevu saatinde aşağıdaki butona tıklayarak görüşmeye katılabilirsiniz. ",-1),aK={class:"flex items-center justify-center space-x-2 mt-4"},lK=["href"],uK=O("img",{src:IW,class:"w-8 h-8",alt:"google-meet"},null,-1),cK=O("span",{class:"text-lg font-semibold"},"Katıl",-1),fK=[uK,cK],dK={key:1},hK={class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5 leading-7",required:""},pK=O("span",null,"Telefon görüşme randevunuza",-1),mK={class:"space-x-1 mx-1 items-center text-nowrap bg-yellow-100 rounded-xl px-2 text-sm inline-block"},gK=O("i",{class:"ri-time-fill mr-1 text-lg"},null,-1),vK={key:0},yK=O("span",null," kaldı. Vakit geldiğinde danışanınıza aşağıdaki numaradan ulaşabilirsiniz.",-1),_K={class:"flex items-center justify-center mt-4"},bK={key:2},wK={class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg p-2.5 leading-7",required:""},EK=O("span",null,"Yüzyüze görüşme randevunuza",-1),TK={class:"space-x-1 mx-1 items-center text-nowrap bg-yellow-100 rounded-xl px-2 text-sm inline-block"},AK=O("i",{class:"ri-time-fill mr-1 text-lg"},null,-1),xK={key:0},kK=O("span",null," kaldı. Danışanınıza aşşağıdaki iletişim bilgilerinden ulaşabilirsiniz. ",-1),SK={class:"flex items-center space-x-2 justify-center mt-4"},IK={__name:"Status1Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=ge(()=>{if(n.meetingData.date_time&&n.meetingData.date_time.seconds){const o=new Date(n.meetingData.date_time.seconds*1e3)-new Date;return o>0?o:0}return 0});return pt(()=>{console.log(n.formattedDate)}),(i,s)=>(ne(),ae(Ie,null,[RW,O("div",OW,[O("div",PW,[O("div",CW,[O("div",DW,[MW,O("button",{type:"button",onClick:s[0]||(s[0]=o=>i.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},$W)]),O("div",FW,[O("div",VW,[O("div",UW,[O("div",BW,we(t.formattedDate.month),1),O("div",jW,we(t.formattedDate.dayNumber),1),O("div",qW,we(t.formattedDate.dayName),1)]),O("div",HW,[zW,O("div",WW,[KW,O("span",null,we(t.formattedDate.time)+" -",1),O("span",null,we(t.formattedDate.meetingTimeEnd),1)]),O("div",YW,[O("span",GW,we(t.meetingData.attorney_name),1),O("span",QW,we(t.meetingData.customer_name),1)])])]),O("div",XW,[JW,O("p",ZW,we(t.meetingData.topic),1)]),t.meetingData.type==="video"?(ne(),ae("div",eK,[O("p",tK,[nK,Ce(ue(Nm),{time:r.value},{default:He(({days:o,hours:a,minutes:l,seconds:f})=>[O("div",rK,[iK,o>1?(ne(),ae("span",sK,we(o)+" gün",1)):me("",!0),O("span",null,we(a)+" saat "+we(l)+" dk "+we(f)+"sn",1)])]),_:1},8,["time"]),oK]),O("div",aK,[O("a",{href:t.meetingData.meeting_url,target:"_blank",class:"flex items-center justify-center space-x-3 px-6 py-2 rounded-lg bg-gradient-to-r from-green-400 to-lime-400 text-white shadow-md hover:shadow-lg hover:from-green-500 hover:to-lime-500 transition-all duration-300 ease-in-out transform hover:scale-105"},fK,8,lK)])])):me("",!0),t.meetingData.type==="phone"?(ne(),ae("div",dK,[O("p",hK,[pK,Ce(ue(Nm),{time:r.value},{default:He(({days:o,hours:a,minutes:l,seconds:f})=>[O("div",mK,[gK,o>1?(ne(),ae("span",vK,we(o)+" gün",1)):me("",!0),O("span",null,we(a)+" saat "+we(l)+" dk "+we(f)+"sn",1)])]),_:1},8,["time"]),yK]),O("div",_K,[Ce(Bt,{color:"blue",wFull:!1,text:" +90 "+t.meetingData.customer_phone},null,8,["text"])])])):me("",!0),t.meetingData.type==="inPerson"?(ne(),ae("div",bK,[O("p",wK,[EK,Ce(ue(Nm),{time:r.value},{default:He(({days:o,hours:a,minutes:l,seconds:f})=>[O("div",TK,[AK,o>1?(ne(),ae("span",xK,we(o)+" gün",1)):me("",!0),O("span",null,we(a)+" saat "+we(l)+" dk "+we(f)+"sn",1)])]),_:1},8,["time"]),kK]),O("div",SK,[Ce(Bt,{color:"blue",wFull:!1,text:" +90 "+t.meetingData.customer_phone},null,8,["text"]),Ce(Bt,{color:"blue",wFull:!1,text:" +90 "+t.meetingData.customer_email},null,8,["text"])])])):me("",!0)])])])])],64))}},RK=O("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),OK={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},PK={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},CK={class:"relative bg-white rounded-lg shadow"},DK={class:"flex items-center justify-between p-4 border-b rounded-t"},MK=O("h3",{class:"text-lg font-semibold text-black"}," Reddedilme Edilme Sebebi ",-1),NK=O("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),LK=O("span",{class:"sr-only"},"Close modal",-1),$K=[NK,LK],FK={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},VK={class:"col-span-2"},UK=O("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),BK={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},jK={__name:"Status3Modal",props:{rejectReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ne(),ae(Ie,null,[RK,O("div",OK,[O("div",PK,[O("div",CK,[O("div",DK,[MK,O("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},$K)]),O("div",FK,[O("div",VK,[UK,O("p",BK,we(t.rejectReason),1)])])])])])],64))}};function fv(t,e="all"){if(!t)return"";if(t.seconds){const n=new Date(t.seconds*1e3),r=n.toLocaleDateString("tr-TR"),i=n.getHours().toString().padStart(2,"0"),s=n.getMinutes().toString().padStart(2,"0"),o=`${i}:${s}`,a=n.toLocaleDateString("tr-TR",{month:"short"}).toUpperCase(),l=n.getDate(),f=n.toLocaleDateString("tr-TR",{weekday:"long"});switch(e){case"date":return r;case"time":return o;case"month":return a;case"day-number":return l;case"day-name":return f;case"all":default:return{date:r,time:o,month:a,dayNumber:l,dayName:f}}}}function oR(t){const e={Ç:"C",ç:"c",Ğ:"G",ğ:"g",İ:"I",ı:"i",Ö:"O",ö:"o",Ş:"S",ş:"s",Ü:"U",ü:"u"};return t.toString().toLowerCase().replace(/[ÇçĞğİıÖöŞşÜü]/g,n=>e[n]).replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const qK=O("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),HK={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},zK={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},WK={class:"relative bg-white rounded-lg shadow"},KK={class:"flex items-center justify-between p-4 border-b rounded-t"},YK=O("h3",{class:"text-lg font-semibold text-black"}," İptal Edilme Sebebi ",-1),GK=O("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),QK=O("span",{class:"sr-only"},"Close modal",-1),XK=[GK,QK],JK={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},ZK={class:"col-span-2"},eY=O("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),tY={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},nY={__name:"Status6Modal",props:{cancelReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ne(),ae(Ie,null,[qK,O("div",HK,[O("div",zK,[O("div",WK,[O("div",KK,[YK,O("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},XK)]),O("div",JK,[O("div",ZK,[eY,O("p",tY,we(t.cancelReason),1)])])])])])],64))}},rY={__name:"StatusActionModalHandler",props:{meetingData:{type:Object,required:!0},keepStatusModalOpen:{type:Boolean,required:!0}},emits:["close","accept-meeting","reject-meeting"],setup(t,{emit:e}){const n=e,r=t;function i(a){const l=new Date(a*1e3);l.setHours(l.getHours()+1);const f=l.getHours().toString().padStart(2,"0"),u=l.getMinutes().toString().padStart(2,"0");return`${f}:${u}`}const s=ge(()=>{const a=r.meetingData.date_time,l=fv(a,"all");return l.meetingTimeEnd=i(a),l}),o=a=>{n("reject-meeting",a)};return(a,l)=>(ne(),ae(Ie,null,[t.meetingData.status==="0"&&t.keepStatusModalOpen?(ne(),Ue(SW,{key:0,onClose:l[0]||(l[0]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:s.value,onAcceptMeeting:l[1]||(l[1]=f=>a.$emit("accept-meeting")),onRejectMeeting:o},null,8,["meetingData","formattedDate"])):me("",!0),t.meetingData.status==="1"&&t.keepStatusModalOpen?(ne(),Ue(IK,{key:1,onClose:l[2]||(l[2]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:s.value},null,8,["meetingData","formattedDate"])):me("",!0),t.meetingData.status==="3"&&t.keepStatusModalOpen?(ne(),Ue(jK,{key:2,onClose:l[3]||(l[3]=f=>a.$emit("close")),rejectReason:t.meetingData.cancel_reason},null,8,["rejectReason"])):me("",!0),t.meetingData.status==="6"&&t.keepStatusModalOpen?(ne(),Ue(nY,{key:3,onClose:l[4]||(l[4]=f=>a.$emit("close")),cancelReason:t.meetingData.cancel_reason},null,8,["cancelReason"])):me("",!0)],64))}};function aR(t,e){return function(){return t.apply(e,arguments)}}const{toString:iY}=Object.prototype,{getPrototypeOf:F0}=Object,Wh=(t=>e=>{const n=iY.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),li=t=>(t=t.toLowerCase(),e=>Wh(e)===t),Kh=t=>e=>typeof e===t,{isArray:ol}=Array,$u=Kh("undefined");function sY(t){return t!==null&&!$u(t)&&t.constructor!==null&&!$u(t.constructor)&&Or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lR=li("ArrayBuffer");function oY(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lR(t.buffer),e}const aY=Kh("string"),Or=Kh("function"),uR=Kh("number"),Yh=t=>t!==null&&typeof t=="object",lY=t=>t===!0||t===!1,Rf=t=>{if(Wh(t)!=="object")return!1;const e=F0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uY=li("Date"),cY=li("File"),fY=li("Blob"),dY=li("FileList"),hY=t=>Yh(t)&&Or(t.pipe),pY=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Or(t.append)&&((e=Wh(t))==="formdata"||e==="object"&&Or(t.toString)&&t.toString()==="[object FormData]"))},mY=li("URLSearchParams"),[gY,vY,yY,_Y]=["ReadableStream","Request","Response","Headers"].map(li),bY=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ol(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function cR(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,fR=t=>!$u(t)&&t!==bo;function dv(){const{caseless:t}=fR(this)&&this||{},e={},n=(r,i)=>{const s=t&&cR(e,i)||i;Rf(e[s])&&Rf(r)?e[s]=dv(e[s],r):Rf(r)?e[s]=dv({},r):ol(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&pc(arguments[r],n);return e}const wY=(t,e,n,{allOwnKeys:r}={})=>(pc(e,(i,s)=>{n&&Or(i)?t[s]=aR(i,n):t[s]=i},{allOwnKeys:r}),t),EY=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TY=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},AY=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&F0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xY=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},kY=t=>{if(!t)return null;if(ol(t))return t;let e=t.length;if(!uR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},SY=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&F0(Uint8Array)),IY=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},RY=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},OY=li("HTMLFormElement"),PY=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Ow=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),CY=li("RegExp"),dR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};pc(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},DY=t=>{dR(t,(e,n)=>{if(Or(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MY=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ol(t)?r(t):r(String(t).split(e)),n},NY=()=>{},LY=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Lm="abcdefghijklmnopqrstuvwxyz",Pw="0123456789",hR={DIGIT:Pw,ALPHA:Lm,ALPHA_DIGIT:Lm+Lm.toUpperCase()+Pw},$Y=(t=16,e=hR.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function FY(t){return!!(t&&Or(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const VY=t=>{const e=new Array(10),n=(r,i)=>{if(Yh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ol(r)?[]:{};return pc(r,(o,a)=>{const l=n(o,i+1);!$u(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},UY=li("AsyncFunction"),BY=t=>t&&(Yh(t)||Or(t))&&Or(t.then)&&Or(t.catch),pR=((t,e)=>t?setImmediate:e?((n,r)=>(bo.addEventListener("message",({source:i,data:s})=>{i===bo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),bo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Or(bo.postMessage)),jY=typeof queueMicrotask<"u"?queueMicrotask.bind(bo):typeof process<"u"&&process.nextTick||pR,_e={isArray:ol,isArrayBuffer:lR,isBuffer:sY,isFormData:pY,isArrayBufferView:oY,isString:aY,isNumber:uR,isBoolean:lY,isObject:Yh,isPlainObject:Rf,isReadableStream:gY,isRequest:vY,isResponse:yY,isHeaders:_Y,isUndefined:$u,isDate:uY,isFile:cY,isBlob:fY,isRegExp:CY,isFunction:Or,isStream:hY,isURLSearchParams:mY,isTypedArray:SY,isFileList:dY,forEach:pc,merge:dv,extend:wY,trim:bY,stripBOM:EY,inherits:TY,toFlatObject:AY,kindOf:Wh,kindOfTest:li,endsWith:xY,toArray:kY,forEachEntry:IY,matchAll:RY,isHTMLForm:OY,hasOwnProperty:Ow,hasOwnProp:Ow,reduceDescriptors:dR,freezeMethods:DY,toObjectSet:MY,toCamelCase:PY,noop:NY,toFiniteNumber:LY,findKey:cR,global:bo,isContextDefined:fR,ALPHABET:hR,generateString:$Y,isSpecCompliantForm:FY,toJSONObject:VY,isAsyncFn:UY,isThenable:BY,setImmediate:pR,asap:jY};function nt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_e.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const mR=nt.prototype,gR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gR[t]={value:t}});Object.defineProperties(nt,gR);Object.defineProperty(mR,"isAxiosError",{value:!0});nt.from=(t,e,n,r,i,s)=>{const o=Object.create(mR);return _e.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),nt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const qY=null;function hv(t){return _e.isPlainObject(t)||_e.isArray(t)}function vR(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function Cw(t,e,n){return t?t.concat(e).map(function(i,s){return i=vR(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function HY(t){return _e.isArray(t)&&!t.some(hv)}const zY=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function Gh(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!_e.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(_e.isDate(p))return p.toISOString();if(!l&&_e.isBlob(p))throw new nt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(p)||_e.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let v=p;if(p&&!y&&typeof p=="object"){if(_e.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(_e.isArray(p)&&HY(p)||(_e.isFileList(p)||_e.endsWith(m,"[]"))&&(v=_e.toArray(p)))return m=vR(m),v.forEach(function(b,g){!(_e.isUndefined(b)||b===null)&&e.append(o===!0?Cw([m],g,s):o===null?m:m+"[]",f(b))}),!1}return hv(p)?!0:(e.append(Cw(y,m,s),f(p)),!1)}const c=[],d=Object.assign(zY,{defaultVisitor:u,convertValue:f,isVisitable:hv});function h(p,m){if(!_e.isUndefined(p)){if(c.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(p),_e.forEach(p,function(v,_){(!(_e.isUndefined(v)||v===null)&&i.call(e,v,_e.isString(_)?_.trim():_,m,d))===!0&&h(v,m?m.concat(_):[_])}),c.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Dw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function V0(t,e){this._pairs=[],t&&Gh(t,this,e)}const yR=V0.prototype;yR.append=function(e,n){this._pairs.push([e,n])};yR.toString=function(e){const n=e?function(r){return e.call(this,r,Dw)}:Dw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function WY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _R(t,e,n){if(!e)return t;const r=n&&n.encode||WY,i=n&&n.serialize;let s;if(i?s=i(e,n):s=_e.isURLSearchParams(e)?e.toString():new V0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Mw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(r){r!==null&&e(r)})}}const bR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KY=typeof URLSearchParams<"u"?URLSearchParams:V0,YY=typeof FormData<"u"?FormData:null,GY=typeof Blob<"u"?Blob:null,QY={isBrowser:!0,classes:{URLSearchParams:KY,FormData:YY,Blob:GY},protocols:["http","https","file","blob","url","data"]},U0=typeof window<"u"&&typeof document<"u",pv=typeof navigator=="object"&&navigator||void 0,XY=U0&&(!pv||["ReactNative","NativeScript","NS"].indexOf(pv.product)<0),JY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZY=U0&&window.location.href||"http://localhost",eG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:U0,hasStandardBrowserEnv:XY,hasStandardBrowserWebWorkerEnv:JY,navigator:pv,origin:ZY},Symbol.toStringTag,{value:"Module"})),_r={...eG,...QY};function tG(t,e){return Gh(t,new _r.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return _r.isNode&&_e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function nG(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rG(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function wR(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&_e.isArray(i)?i.length:o,l?(_e.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!_e.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&_e.isArray(i[o])&&(i[o]=rG(i[o])),!a)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(r,i)=>{e(nG(r),i,n,0)}),n}return null}function iG(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const mc={transitional:bR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=_e.isObject(e);if(s&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return i?JSON.stringify(wR(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tG(e,this.formSerializer).toString();if((a=_e.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),iG(e)):e}],transformResponse:[function(e){const n=this.transitional||mc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?nt.from(a,nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_r.classes.FormData,Blob:_r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{mc.headers[t]={}});const sG=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oG=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&sG[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Nw=Symbol("internals");function Il(t){return t&&String(t).trim().toLowerCase()}function Of(t){return t===!1||t==null?t:_e.isArray(t)?t.map(Of):String(t)}function aG(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const lG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $m(t,e,n,r,i){if(_e.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_e.isString(e)){if(_e.isString(r))return e.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(e)}}function uG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function cG(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class br{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,f){const u=Il(l);if(!u)throw new Error("header name must be a non-empty string");const c=_e.findKey(i,u);(!c||i[c]===void 0||f===!0||f===void 0&&i[c]!==!1)&&(i[c||l]=Of(a))}const o=(a,l)=>_e.forEach(a,(f,u)=>s(f,u,l));if(_e.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(_e.isString(e)&&(e=e.trim())&&!lG(e))o(oG(e),n);else if(_e.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Il(e),e){const r=_e.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return aG(i);if(_e.isFunction(n))return n.call(this,i,r);if(_e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Il(e),e){const r=_e.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$m(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Il(o),o){const a=_e.findKey(r,o);a&&(!n||$m(r,r[a],a,n))&&(delete r[a],i=!0)}}return _e.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||$m(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return _e.forEach(this,(i,s)=>{const o=_e.findKey(r,s);if(o){n[o]=Of(i),delete n[s];return}const a=e?uG(s):String(s).trim();a!==s&&delete n[s],n[a]=Of(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Nw]=this[Nw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Il(o);r[a]||(cG(i,o),r[a]=!0)}return _e.isArray(e)?e.forEach(s):s(e),this}}br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(br.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_e.freezeMethods(br);function Fm(t,e){const n=this||mc,r=e||n,i=br.from(r.headers);let s=r.data;return _e.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ER(t){return!!(t&&t.__CANCEL__)}function al(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(al,nt,{__CANCEL__:!0});function TR(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function dG(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const f=Date.now(),u=r[s];o||(o=f),n[i]=l,r[i]=f;let c=s,d=0;for(;c!==i;)d+=n[c++],c=c%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-o<e)return;const h=u&&f-u;return h?Math.round(d*1e3/h):void 0}}function hG(t,e){let n=0,r=1e3/e,i,s;const o=(f,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,f)};return[(...f)=>{const u=Date.now(),c=u-n;c>=r?o(f,u):(i=f,s||(s=setTimeout(()=>{s=null,o(i)},r-c)))},()=>i&&o(i)]}const vd=(t,e,n=3)=>{let r=0;const i=dG(50,250);return hG(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,f=i(l),u=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:f||void 0,estimated:f&&a&&u?(a-o)/f:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(c)},n)},Lw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$w=t=>(...e)=>_e.asap(()=>t(...e)),pG=_r.hasStandardBrowserEnv?function(){const e=_r.navigator&&/(msie|trident)/i.test(_r.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=_e.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),mG=_r.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&o.push("path="+r),_e.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vG(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function AR(t,e){return t&&!gG(e)?vG(t,e):e}const Fw=t=>t instanceof br?{...t}:t;function Fo(t,e){e=e||{};const n={};function r(f,u,c){return _e.isPlainObject(f)&&_e.isPlainObject(u)?_e.merge.call({caseless:c},f,u):_e.isPlainObject(u)?_e.merge({},u):_e.isArray(u)?u.slice():u}function i(f,u,c){if(_e.isUndefined(u)){if(!_e.isUndefined(f))return r(void 0,f,c)}else return r(f,u,c)}function s(f,u){if(!_e.isUndefined(u))return r(void 0,u)}function o(f,u){if(_e.isUndefined(u)){if(!_e.isUndefined(f))return r(void 0,f)}else return r(void 0,u)}function a(f,u,c){if(c in e)return r(f,u);if(c in t)return r(void 0,f)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(f,u)=>i(Fw(f),Fw(u),!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),function(u){const c=l[u]||i,d=c(t[u],e[u],u);_e.isUndefined(d)&&c!==a||(n[u]=d)}),n}const xR=t=>{const e=Fo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=br.from(o),e.url=_R(AR(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(_e.isFormData(n)){if(_r.hasStandardBrowserEnv||_r.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[f,...u]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...u].join("; "))}}if(_r.hasStandardBrowserEnv&&(r&&_e.isFunction(r)&&(r=r(e)),r||r!==!1&&pG(e.url))){const f=i&&s&&mG.read(s);f&&o.set(i,f)}return e},yG=typeof XMLHttpRequest<"u",_G=yG&&function(t){return new Promise(function(n,r){const i=xR(t);let s=i.data;const o=br.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:f}=i,u,c,d,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const b=br.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};TR(function(I){n(I),m()},function(I){r(I),m()},w),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new nt("Request aborted",nt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new nt("Network Error",nt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let g=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||bR;i.timeoutErrorMessage&&(g=i.timeoutErrorMessage),r(new nt(g,w.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&_e.forEach(o.toJSON(),function(g,w){y.setRequestHeader(w,g)}),_e.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),f&&([d,p]=vd(f,!0),y.addEventListener("progress",d)),l&&y.upload&&([c,h]=vd(l),y.upload.addEventListener("progress",c),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new al(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const _=fG(i.url);if(_&&_r.protocols.indexOf(_)===-1){r(new nt("Unsupported protocol "+_+":",nt.ERR_BAD_REQUEST,t));return}y.send(s||null)})},bG=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,a();const u=f instanceof Error?f:this.reason;r.abort(u instanceof nt?u:new al(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new nt(`timeout ${e} of ms exceeded`,nt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),t=null)};t.forEach(f=>f.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>_e.asap(a),l}},wG=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},EG=async function*(t,e){for await(const n of TG(t))yield*wG(n,e)},TG=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Vw=(t,e,n,r)=>{const i=EG(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:f,value:u}=await i.next();if(f){a(),l.close();return}let c=u.byteLength;if(n){let d=s+=c;n(d)}l.enqueue(new Uint8Array(u))}catch(f){throw a(f),f}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Qh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kR=Qh&&typeof ReadableStream=="function",AG=Qh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),SR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},xG=kR&&SR(()=>{let t=!1;const e=new Request(_r.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Uw=64*1024,mv=kR&&SR(()=>_e.isReadableStream(new Response("").body)),yd={stream:mv&&(t=>t.body)};Qh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yd[e]&&(yd[e]=_e.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new nt(`Response type '${e}' is not supported`,nt.ERR_NOT_SUPPORT,r)})})})(new Response);const kG=async t=>{if(t==null)return 0;if(_e.isBlob(t))return t.size;if(_e.isSpecCompliantForm(t))return(await new Request(_r.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(t)||_e.isArrayBuffer(t))return t.byteLength;if(_e.isURLSearchParams(t)&&(t=t+""),_e.isString(t))return(await AG(t)).byteLength},SG=async(t,e)=>{const n=_e.toFiniteNumber(t.getContentLength());return n??kG(e)},IG=Qh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:f,headers:u,withCredentials:c="same-origin",fetchOptions:d}=xR(t);f=f?(f+"").toLowerCase():"text";let h=bG([i,s&&s.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&xG&&n!=="get"&&n!=="head"&&(y=await SG(u,r))!==0){let w=new Request(e,{method:"POST",body:r,duplex:"half"}),x;if(_e.isFormData(r)&&(x=w.headers.get("content-type"))&&u.setContentType(x),w.body){const[I,E]=Lw(y,vd($w(l)));r=Vw(w.body,Uw,I,E)}}_e.isString(c)||(c=c?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...d,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?c:void 0});let _=await fetch(p);const b=mv&&(f==="stream"||f==="response");if(mv&&(a||b&&m)){const w={};["status","statusText","headers"].forEach(S=>{w[S]=_[S]});const x=_e.toFiniteNumber(_.headers.get("content-length")),[I,E]=a&&Lw(x,vd($w(a),!0))||[];_=new Response(Vw(_.body,Uw,I,()=>{E&&E(),m&&m()}),w)}f=f||"text";let g=await yd[_e.findKey(yd,f)||"text"](_,t);return!b&&m&&m(),await new Promise((w,x)=>{TR(w,x,{data:g,headers:br.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,t,p),{cause:v.cause||v}):nt.from(v,v&&v.code,t,p)}}),gv={http:qY,xhr:_G,fetch:IG};_e.forEach(gv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bw=t=>`- ${t}`,RG=t=>_e.isFunction(t)||t===null||t===!1,IR={getAdapter:t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!RG(n)&&(r=gv[(o=String(n)).toLowerCase()],r===void 0))throw new nt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Bw).join(`
`):" "+Bw(s[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:gv};function Vm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new al(null,t)}function jw(t){return Vm(t),t.headers=br.from(t.headers),t.data=Fm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),IR.getAdapter(t.adapter||mc.adapter)(t).then(function(r){return Vm(t),r.data=Fm.call(t,t.transformResponse,r),r.headers=br.from(r.headers),r},function(r){return ER(r)||(Vm(t),r&&r.response&&(r.response.data=Fm.call(t,t.transformResponse,r.response),r.response.headers=br.from(r.response.headers))),Promise.reject(r)})}const RR="1.7.7",B0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{B0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qw={};B0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+RR+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new nt(i(o," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!qw[o]&&(qw[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function OG(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new nt("option "+s+" must be "+l,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+s,nt.ERR_BAD_OPTION)}}const vv={assertOptions:OG,validators:B0},gs=vv.validators;class Io{constructor(e){this.defaults=e,this.interceptors={request:new Mw,response:new Mw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&vv.assertOptions(r,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),i!=null&&(_e.isFunction(i)?n.paramsSerializer={serialize:i}:vv.assertOptions(i,{encode:gs.function,serialize:gs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&_e.merge(s.common,s[n.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=br.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const f=[];this.interceptors.response.forEach(function(m){f.push(m.fulfilled,m.rejected)});let u,c=0,d;if(!l){const p=[jw.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,f),d=p.length,u=Promise.resolve(n);c<d;)u=u.then(p[c++],p[c++]);return u}d=a.length;let h=n;for(c=0;c<d;){const p=a[c++],m=a[c++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=jw.call(this,h)}catch(p){return Promise.reject(p)}for(c=0,d=f.length;c<d;)u=u.then(f[c++],f[c++]);return u}getUri(e){e=Fo(this.defaults,e);const n=AR(e.baseURL,e.url);return _R(n,e.params,e.paramsSerializer)}}_e.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(n,r){return this.request(Fo(r||{},{method:e,url:n,data:(r||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Fo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Io.prototype[e]=n(),Io.prototype[e+"Form"]=n(!0)});class j0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new al(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new j0(function(i){e=i}),cancel:e}}}function PG(t){return function(n){return t.apply(null,n)}}function CG(t){return _e.isObject(t)&&t.isAxiosError===!0}const yv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yv).forEach(([t,e])=>{yv[e]=t});function OR(t){const e=new Io(t),n=aR(Io.prototype.request,e);return _e.extend(n,Io.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return OR(Fo(t,i))},n}const nn=OR(mc);nn.Axios=Io;nn.CanceledError=al;nn.CancelToken=j0;nn.isCancel=ER;nn.VERSION=RR;nn.toFormData=Gh;nn.AxiosError=nt;nn.Cancel=nn.CanceledError;nn.all=function(e){return Promise.all(e)};nn.spread=PG;nn.isAxiosError=CG;nn.mergeConfig=Fo;nn.AxiosHeaders=br;nn.formToJSON=t=>wR(_e.isHTMLForm(t)?new FormData(t):t);nn.getAdapter=IR.getAdapter;nn.HttpStatusCode=yv;nn.default=nn;const as=t=>(Cd("data-v-25277287"),t=t(),Dd(),t),DG={class:"flex justify-between mb-4 items-center"},MG=as(()=>O("h1",{class:"font-medium"},"Online Görüşmeler",-1)),NG={action:"",class:"flex items-center mb-4"},LG={class:"relative w-full mr-2"},$G=as(()=>O("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1)),FG={class:"flex"},VG={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},UG=as(()=>O("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),BG=as(()=>O("p",{class:"text-sm font-medium text-gray-800"},"Görüşme İstekleri",-1)),jG={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},qG=as(()=>O("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),HG=as(()=>O("p",{class:"text-sm font-medium text-gray-800"},"Kabul Edilenler",-1)),zG={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},WG=as(()=>O("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),KG=as(()=>O("p",{class:"text-sm font-medium text-gray-800"},"Beklemede Olanlar",-1)),YG={key:0,class:"w-full mt-4 table-fixed"},GG=as(()=>O("thead",null,[O("tr",null,[O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Avukat "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danışan Tel "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Tarih "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Saat "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Görüşme Türü "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Evrak "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Ödeme "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Durum ")])],-1)),QG={class:"py-2 px-4 border-b border-b-gray-200"},XG={class:"flex items-center"},JG={class:"text-gray-600 text-sm font-medium hover:text-blue-500"},ZG={class:"py-2 px-4 border-b border-b-gray-200"},eQ={class:"text-[13px] font-medium text-gray-600"},tQ={class:"py-2 px-4 border-b border-b-gray-200"},nQ={class:"text-[13px] font-medium text-gray-600"},rQ={class:"py-2 px-4 border-b border-b-gray-200"},iQ={class:"text-[13px] font-medium text-gray-600"},sQ={class:"py-2 px-4 border-b border-b-gray-200"},oQ={class:"text-[13px] font-medium text-gray-600"},aQ={class:"py-2 border-b px-4 border-b-gray-200"},lQ={class:"tooltip"},uQ={class:"w-10 h-10 flex items-center justify-center bg-gray-600 text-white text-xl font-medium rounded-full ml-2 ring-0"},cQ={class:"tooltiptext"},fQ={class:"py-2 px-4 border-b border-b-gray-200"},dQ=["onClick"],hQ={class:"py-2 border-b px-4 border-b-gray-200"},pQ={class:"tooltip"},mQ={class:"tooltiptext"},gQ={class:"py-2 px-4 border-b border-b-gray-200"},vQ={class:"tooltip"},yQ=["onClick"],_Q={class:"tooltiptext"},bQ={class:"pagination-container flex justify-end mt-4 w-full"},wQ=["disabled"],EQ=["disabled"],TQ={__name:"OnlineMeetingsManagement",props:{showAll:Boolean,uid:String},emits:["goBack"],setup(t,{emit:e}){const n=Vr(),r=ge(()=>n.getters.userRole),i=t,s=e,o=he(null),a=he(!1),l=he(!1),f=he(!1),u=he(null),c=he([]),d=he({requests:!1,accepted:!1,pending:!1}),h=he(85),p=ge(()=>{const U={};return v.value.forEach(te=>{U[te.status]?U[te.status]++:U[te.status]=1}),U}),m=ge(()=>v.value.filter(U=>U.status==="1").length),y=ge(()=>{const U={};return v.value.forEach(ie=>{U[ie.attorney_name]?U[ie.attorney_name]++:U[ie.attorney_name]=1}),Object.entries(U).sort((ie,oe)=>oe[1]-ie[1]).map(([ie,oe])=>({name:ie,meetings:oe})).slice(0,3)}),v=he([]),_=sc(mr,"meetings"),b=ge(()=>v.value.length),g=he(1),w=he(10),x=he(""),I=()=>{s("goBack")},E=async(U,te,ie,oe)=>{if(oe!=="video")return"no-meeting-url-type-is-not-video";const re=new Date(U.seconds*1e3).toISOString().split(".")[0]+"Z";console.log("start_time_iso",re);try{const pe=await nn.post("https://ykt7hblm31.execute-api.eu-north-1.amazonaws.com/prod/create-meeting",{start_time:re,attorney_email:te,customer_email:ie}),ve=JSON.parse(pe.data.body).meet_link;return console.log("response data",JSON.parse(pe.data.body).meet_link),console.log("Meeting created successfully"),ve}catch(pe){pe.response?(console.error("Error response data:",pe.response.data),console.error("Error response status:",pe.response.status),console.error("Error response headers:",pe.response.headers)):pe.request?console.error("No response received:",pe.request):console.error("Error setting up the request:",pe.message)}},S=async U=>{console.log("Exception data to add:",U);try{const te=sr(mr,"attorneys",U.attorney_id),ie=await Lo(te);if(ie.exists()){const re=ie.data().exceptions||[];delete U.attorney_id,re.push(U),await zi(te,{exceptions:re})}}catch(te){console.error("Error fetching attorney by ID:",te)}},k=async U=>{console.log("Exception data to delete:",U);try{const te=sr(mr,"attorneys",U.attorney_id),ie=await Lo(te);if(ie.exists()){const pe=(ie.data().exceptions||[]).filter(ve=>ve.meeting_id!==U.meeting_id);await zi(te,{exceptions:pe})}}catch(te){console.error("Error fetching attorney by ID:",te)}};async function A(){v.value=await Promise.all(v.value.map(async U=>{if(U.id===o.value.id){U.status="1",console.log("Meeting data to set meeting",U);try{const te=await E(U.date_time,U.attorney_email,U.customer_email,U.type);U.meeting_url=te,await Y(U),await S({date:U.date,startTime:U.slot,endTime:U.end_time,repeat:!1,isMeeting:!0,attorney_id:U.attorney_id,meeting_id:U.id}),console.log("Meeting updated successfully:",U),console.log("meeting accepted mail sended"),T(U),o.value={}}catch(te){console.error("Failed to create meeting URL:",te)}}return U}))}const T=async U=>{try{const te=await nn.post("https://ykt7hblm31.execute-api.eu-north-1.amazonaws.com/prod/send-meeting-accepted-email",{customer_name:U.customer_name,customer_email:U.customer_email,customer_phone:U.customer_phone,attorney_email:U.attorney_email,attorney_name:U.attorney_name,date_for_display:U.date_for_display,day:U.day,slot:U.slot,end_time:U.end_time,meeting_url:U.meeting_url,type:U.type},{headers:{"Content-Type":"application/json"}});console.log(te),console.log("Meeting accepted email sent successfully")}catch(te){console.error("Error sending appointment recieved email:",te)}};function R(U){v.value=v.value.map(te=>(te.id===o.value.id&&(te.status="3",te.cancel_reason=U,te.payment_status="2",Y(te),l.value=!1),te))}function N(U,te){a.value=!0,u.value=U,c.value=te}function D(U){l.value=!0,o.value=U,f.value=!0}const P=ge(()=>{let U=v.value;x.value&&(U=U.filter(re=>re.customer_name.toLowerCase().includes(x.value.toLowerCase())));const{requests:te,accepted:ie,pending:oe}=d.value;return(te||ie||oe)&&(U=U.filter(re=>{let pe=!1;return te&&re.status==="0"&&(pe=!0),ie&&re.status==="1"&&(pe=!0),oe&&re.status==="4"&&(pe=!0),pe})),U}),C=ge(()=>(g.value-1)*w.value),G=ge(()=>{if(P.value.length===0){const U=C.value,te=U+w.value;return v.value.slice(U,te)}else return P.value.slice(C.value,C.value+w.value)}),H=ge(()=>P.value.length===0?Math.ceil(v.value.length/w.value):Math.ceil(P.value.length/w.value)),B=()=>{g.value<H.value&&g.value++},$=()=>{g.value>1&&g.value--};he(null);const V=U=>{switch(U){case"0":return{color:"bg-blue-300 hover:bg-blue-400",text:"İstek",icon:"ri-user-add-line"};case"1":return{color:"bg-green-300 hover:bg-green-400 ",text:"Kabul edildi",icon:"ri-calendar-check-line"};case"2":return{color:"bg-gray-300 hover:bg-gray-400 ",text:"Tamamlandı",icon:"ri-check-line"};case"3":return{color:"bg-red-300 hover:bg-red-400 ",text:"Reddedildi",icon:"ri-close-line"};case"4":return{color:"bg-orange-200",text:"Müşteri onayı",icon:"ri-time-line"};case"5":return{color:"bg-orange-200",text:"Avukat onayı",icon:"ri-time-line"};case"6":return{color:"bg-gray-600 text-white hover:bg-gray-700 ",text:"İptal Edildi",icon:"ri-close-line"};case"7":return{color:"bg-gray-600 text-white hover:bg-gray-700 ",text:"Ödeme Süresi Geçti",icon:"ri-calendar-close-line"};default:return{color:"bg-gray-200",text:"Unknown status",icon:"ri-question-line"}}},M=U=>V(U).color,W=U=>V(U).icon,z=U=>V(U).text,j=U=>{switch(U){case"0":return{class:"bg-orange-300",text:"Bekleniyor",icon:"ri-time-line"};case"1":return{class:"bg-green-300",text:"Ödendi",icon:"ri-check-double-line"};case"2":return{class:"bg-red-300",text:"Ödenmedi",icon:"ri-close-line"};default:return{class:"bg-gray-200",text:"Bilinmiyor",icon:"ri-question-line"}}},F=U=>j(U).class,J=U=>j(U).icon,K=U=>j(U).text,se=U=>{switch(U){case"phone":return{class:"bg-orange-300",text:"Telefonla Görüşme",icon:"ri-phone-line"};case"video":return{class:"bg-green-300",text:"Online Video Görüşme",icon:"ri-video-on-line"};case"inPerson":return{class:"bg-red-300",text:"Yüzyüze Görüşme",icon:"ri-user-line"};default:return{class:"bg-gray-200",icon:"ri-question-line"}}},ce=U=>se(U).icon,Z=U=>se(U).text;async function q(){let U=[];return(await Dh(_)).forEach(ie=>{U.push({id:ie.id,...ie.data()})}),U}async function Q(){try{const U=localStorage.getItem("cachedMeetings"),te=localStorage.getItem("cachedTimeMeetings"),ie=0*60*1e3;if(U&&te&&new Date-new Date(parseInt(te))<ie)return JSON.parse(U);{const oe=await q();return localStorage.setItem("cachedMeetings",JSON.stringify(oe)),localStorage.setItem("cachedTimeMeetings",new Date().getTime().toString()),oe}}catch(U){return console.error("Error getting meetings:",U),[]}}async function Y(U){console.log("Received updated meeting data:",U);try{console.log("Updating document with ID:",U.id),await zi(sr(mr,"meetings",U.id),U),localStorage.setItem("cachedMeetings",JSON.stringify(v.value))}catch(te){console.error("Error updating meeting document:",te)}}function fe(U){const te={1:1,0:2,4:3,5:3,2:4,3:5,6:6,7:7};return U.sort((ie,oe)=>{const re=te[ie.status]-te[oe.status];if(re!==0)return re;{const pe=new Date(ie.date_time.seconds*1e3),ve=new Date(oe.date_time.seconds*1e3);return pe-ve}})}const ee=U=>{const te=new Date(U.deadline.seconds*1e3);if(new Date>te&&U.status==="0"){const oe=sr(mr,"meetings",U.id);return zi(oe,{status:"7",cancel_reason:"Ödeme süresi geçti.",payment_status:"2"}),k({attorney_id:U.attorney_id,meeting_id:U.id}),!0}else return!1};return pt(async()=>{const U=await Q();U.forEach(ie=>{const oe=ee(ie);ie.deadline_exceeded=oe});const te=fe(U);i.showAll?v.value=te:v.value=te.filter(ie=>ie.attorney_id===i.uid),console.log("Meetings data:",v.value)}),(U,te)=>(ne(),ae("div",null,[Ce(zz,{show:a.value,onClose:te[0]||(te[0]=ie=>a.value=!1),customerDocuments:c.value,customerNotes:u.value},null,8,["show","customerDocuments","customerNotes"]),l.value?(ne(),Ue(rY,{key:0,keepStatusModalOpen:f.value,meetingData:o.value,onAcceptMeeting:A,onRejectMeeting:R,onClose:te[1]||(te[1]=ie=>l.value=!1)},null,8,["keepStatusModalOpen","meetingData"])):me("",!0),Ce(dz,{totalMeetings:b.value,approvedMeetings:m.value,satisfactionRate:h.value,meetingStatusSummary:p.value,topAttorneys:y.value,showTopAttorneys:i.showAll,showAttorneySchedule:!i.showAll,uid:i.uid},null,8,["totalMeetings","approvedMeetings","satisfactionRate","meetingStatusSummary","topAttorneys","showTopAttorneys","showAttorneySchedule","uid"]),Ce(sR,{class:"p-6"},{default:He(()=>{var ie;return[O("div",DG,[MG,r.value==="admin"?(ne(),Ue(Bt,{key:0,onClick:I,type:"submit",text:"Geri Dön",color:"blue",wFull:!1})):me("",!0)]),O("form",NG,[O("div",LG,[wt(O("input",{"onUpdate:modelValue":te[2]||(te[2]=oe=>x.value=oe),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Müşteri ismine göre ara..."},null,512),[[Gr,x.value]]),$G])]),O("div",FG,[O("label",VG,[wt(O("input",{"onUpdate:modelValue":te[3]||(te[3]=oe=>d.value.requests=oe),type:"checkbox",class:"sr-only peer"},null,512),[[ya,d.value.requests]]),UG,BG]),O("label",jG,[wt(O("input",{"onUpdate:modelValue":te[4]||(te[4]=oe=>d.value.accepted=oe),type:"checkbox",class:"sr-only peer"},null,512),[[ya,d.value.accepted]]),qG,HG]),O("label",zG,[wt(O("input",{"onUpdate:modelValue":te[5]||(te[5]=oe=>d.value.pending=oe),type:"checkbox",class:"sr-only peer"},null,512),[[ya,d.value.pending]]),WG,KG])]),(ie=v.value)!=null&&ie.length?(ne(),ae("table",YG,[GG,O("tbody",null,[(ne(!0),ae(Ie,null,Ge(G.value,oe=>(ne(),ae("tr",{key:oe.id},[O("td",QG,[O("div",XG,[O("span",JG,we(oe.attorney_name),1)])]),O("td",ZG,[O("span",eQ,we(oe.customer_name),1)]),O("td",tQ,[O("span",nQ,we(oe.customer_phone),1)]),O("td",rQ,[O("span",iQ,we(ue(fv)(oe.date_time,U.format="date")),1)]),O("td",sQ,[O("span",oQ,we(ue(fv)(oe.date_time,U.format="time")),1)]),O("td",aQ,[O("div",lQ,[O("div",uQ,[O("i",{class:Ke(ce(oe.type))},null,2),O("span",cQ,we(Z(oe.type)),1)])])]),O("td",fQ,[O("button",{onClick:re=>N(oe.notes,oe.customer_documents),class:"ri-file-text-line flex items-center justify-center ml-2 text-lg bg-yellow-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,dQ)]),O("td",hQ,[O("div",pQ,[O("div",{class:Ke(["w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0",F(oe.payment_status)])},[O("i",{class:Ke(J(oe.payment_status))},null,2),O("span",mQ,we(K(oe.payment_status)),1)],2)])]),O("td",gQ,[O("div",vQ,[O("button",{onClick:re=>D(oe),class:Ke([M(oe.status),"w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0 focus:ring-[0.12rem] focus:ring-gray-600 focus:outline-none"])},[O("i",{class:Ke(W(oe.status))},null,2)],10,yQ),O("span",_Q,we(z(oe.status)),1)])])]))),128))])])):me("",!0),O("div",bQ,[O("button",{onClick:$,disabled:g.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,wQ),O("button",{onClick:B,disabled:g.value===H.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,EQ)])]}),_:1})]))}},AQ=Di(TQ,[["__scopeId","data-v-25277287"]]),Hw={__name:"OnlineMeetings",setup(t){const e=he(!0),n=Vr(),r=ge(()=>n.getters.userRole),i=ge(()=>n.getters.user?n.getters.user.uid:null),s=he("");r.value!=="admin"&&(s.value=i.value,e.value=!1);const o=a=>{s.value=a,e.value=!1};return(a,l)=>r.value==="admin"&&e.value?(ne(),Ue(hB,{key:0,onOptionSelected:o})):(ne(),Ue(AQ,{key:1,showAll:s.value==="showAll",uid:s.value,onGoBack:l[0]||(l[0]=f=>e.value=!0)},null,8,["showAll","uid"]))}},xQ={key:0,id:"deleteModal",class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},kQ={class:"bg-white rounded-lg p-4 max-w-sm w-full"},SQ={key:0},IQ=O("div",{class:"mb-4"},[O("p",{class:"text-gray-800 text-sm"}," Bu blog yazısını silmek istediğinize emin misiniz? ")],-1),RQ={class:"flex justify-end space-x-2"},OQ={key:1},PQ={key:2},CQ=O("p",{class:"text-sm mb-4"},"Blog yazısı başarıyla silindi.",-1),DQ={class:"flex justify-end"},MQ={key:3},NQ=O("p",{class:"text-sm mb-4"},"Blog yazısı silinirken bir hata oluştu.",-1),LQ={class:"flex justify-end"},$Q={__name:"DeleteModal",props:{show:Boolean},emits:["close","delete"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),s=he(!1),o=async()=>{r.value=!0;try{await new Promise(l=>setTimeout(l,2e3)),n("delete"),r.value=!1,i.value=!0}catch{r.value=!1,s.value=!0}},a=()=>{r.value=!1,i.value=!1,s.value=!1,n("close")};return(l,f)=>t.show?(ne(),ae("div",xQ,[O("div",kQ,[!r.value&&!i.value&&!s.value?(ne(),ae("div",SQ,[IQ,O("div",RQ,[Ce(Bt,{onClick:o,id:"confirmDelete",text:"Evet",color:"green",wFull:!1}),Ce(Bt,{onClick:f[0]||(f[0]=u=>l.$emit("close")),text:"Hayır",id:"cancelDelete",color:"red",wFull:!1})])])):r.value?(ne(),ae("div",OQ,[Ce(ac,{text:"Blog yazısı siliniyor..."})])):i.value?(ne(),ae("div",PQ,[CQ,O("div",DQ,[Ce(Bt,{onClick:a,text:"Tamam",color:"blue",wFull:!1})])])):s.value?(ne(),ae("div",MQ,[NQ,O("div",LQ,[Ce(Bt,{onClick:a,text:"Geri Dön",color:"blue",wFull:!1})])])):me("",!0)])])):me("",!0)}};var PR={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:ns,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),f=i(46),u=i(47),c=i(48),d=i(49),h=i(12),p=i(32),m=i(33),y=i(31),v=i(1),_={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:c.default,Scroll:l.default,Block:u.default,Inline:f.default,Text:d.default,Attributor:{Attribute:h.default,Class:p.default,Style:m.default,Store:y.default}};r.default=_},function(n,r,i){var s=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var b in _)_.hasOwnProperty(b)&&(v[b]=_[b])};return function(v,_){y(v,_);function b(){this.constructor=v}v.prototype=_===null?Object.create(_):(b.prototype=_.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(y){s(v,y);function v(_){var b=this;return _="[Parchment] "+_,b=y.call(this,_)||this,b.message=_,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=o;var a={},l={},f={},u={};r.DATA_KEY="__blot";var c;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function d(y,v){var _=p(y);if(_==null)throw new o("Unable to create "+y+" blot");var b=_,g=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:b.create(v);return new b(g,v)}r.create=d;function h(y,v){return v===void 0&&(v=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:v?h(y.parentNode,v):null}r.find=h;function p(y,v){v===void 0&&(v=c.ANY);var _;if(typeof y=="string")_=u[y]||a[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)_=u.text;else if(typeof y=="number")y&c.LEVEL&c.BLOCK?_=u.block:y&c.LEVEL&c.INLINE&&(_=u.inline);else if(y instanceof HTMLElement){var b=(y.getAttribute("class")||"").split(/\s+/);for(var g in b)if(_=l[b[g]],_)break;_=_||f[y.tagName]}return _==null?null:v&c.LEVEL&_.scope&&v&c.TYPE&_.scope?_:null}r.query=p;function m(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(y.length>1)return y.map(function(g){return m(g)});var _=y[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new o("Invalid definition");if(_.blotName==="abstract")throw new o("Cannot register abstract class");if(u[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(g){return g.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var b=Array.isArray(_.tagName)?_.tagName:[_.tagName];b.forEach(function(g){(f[g]==null||_.className==null)&&(f[g]=_)})}return _}r.register=m},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),f="\0",u=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};u.prototype.insert=function(c,d){var h={};return c.length===0?this:(h.insert=c,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h))},u.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},u.prototype.retain=function(c,d){if(c<=0)return this;var h={retain:c};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h)},u.prototype.push=function(c){var d=this.ops.length,h=this.ops[d-1];if(c=a(!0,{},c),typeof h=="object"){if(typeof c.delete=="number"&&typeof h.delete=="number")return this.ops[d-1]={delete:h.delete+c.delete},this;if(typeof h.delete=="number"&&c.insert!=null&&(d-=1,h=this.ops[d-1],typeof h!="object"))return this.ops.unshift(c),this;if(o(c.attributes,h.attributes)){if(typeof c.insert=="string"&&typeof h.insert=="string")return this.ops[d-1]={insert:h.insert+c.insert},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof h.retain=="number")return this.ops[d-1]={retain:h.retain+c.retain},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this}}return d===this.ops.length?this.ops.push(c):this.ops.splice(d,0,c),this},u.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},u.prototype.filter=function(c){return this.ops.filter(c)},u.prototype.forEach=function(c){this.ops.forEach(c)},u.prototype.map=function(c){return this.ops.map(c)},u.prototype.partition=function(c){var d=[],h=[];return this.forEach(function(p){var m=c(p)?d:h;m.push(p)}),[d,h]},u.prototype.reduce=function(c,d){return this.ops.reduce(c,d)},u.prototype.changeLength=function(){return this.reduce(function(c,d){return d.insert?c+l.length(d):d.delete?c-d.delete:c},0)},u.prototype.length=function(){return this.reduce(function(c,d){return c+l.length(d)},0)},u.prototype.slice=function(c,d){c=c||0,typeof d!="number"&&(d=1/0);for(var h=[],p=l.iterator(this.ops),m=0;m<d&&p.hasNext();){var y;m<c?y=p.next(c-m):(y=p.next(d-m),h.push(y)),m+=l.length(y)}return new u(h)},u.prototype.compose=function(c){var d=l.iterator(this.ops),h=l.iterator(c.ops),p=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var y=m.retain;d.peekType()==="insert"&&d.peekLength()<=y;)y-=d.peekLength(),p.push(d.next());m.retain-y>0&&h.next(m.retain-y)}for(var v=new u(p);d.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(d.peekType()==="delete")v.push(d.next());else{var _=Math.min(d.peekLength(),h.peekLength()),b=d.next(_),g=h.next(_);if(typeof g.retain=="number"){var w={};typeof b.retain=="number"?w.retain=_:w.insert=b.insert;var x=l.attributes.compose(b.attributes,g.attributes,typeof b.retain=="number");if(x&&(w.attributes=x),v.push(w),!h.hasNext()&&o(v.ops[v.ops.length-1],w)){var I=new u(d.rest());return v.concat(I).chop()}}else typeof g.delete=="number"&&typeof b.retain=="number"&&v.push(g)}return v.chop()},u.prototype.concat=function(c){var d=new u(this.ops.slice());return c.ops.length>0&&(d.push(c.ops[0]),d.ops=d.ops.concat(c.ops.slice(1))),d},u.prototype.diff=function(c,d){if(this.ops===c.ops)return new u;var h=[this,c].map(function(_){return _.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:f;var g=_===c?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),p=new u,m=s(h[0],h[1],d),y=l.iterator(this.ops),v=l.iterator(c.ops);return m.forEach(function(_){for(var b=_[1].length;b>0;){var g=0;switch(_[0]){case s.INSERT:g=Math.min(v.peekLength(),b),p.push(v.next(g));break;case s.DELETE:g=Math.min(b,y.peekLength()),y.next(g),p.delete(g);break;case s.EQUAL:g=Math.min(y.peekLength(),v.peekLength(),b);var w=y.next(g),x=v.next(g);o(w.insert,x.insert)?p.retain(g,l.attributes.diff(w.attributes,x.attributes)):p.push(x).delete(g);break}b-=g}}),p.chop()},u.prototype.eachLine=function(c,d){d=d||`
`;for(var h=l.iterator(this.ops),p=new u,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),v=l.length(y)-h.peekLength(),_=typeof y.insert=="string"?y.insert.indexOf(d,v)-v:-1;if(_<0)p.push(h.next());else if(_>0)p.push(h.next(_));else{if(c(p,h.next(1).attributes||{},m)===!1)return;m+=1,p=new u}}p.length()>0&&c(p,{},m)},u.prototype.transform=function(c,d){if(d=!!d,typeof c=="number")return this.transformPosition(c,d);for(var h=l.iterator(this.ops),p=l.iterator(c.ops),m=new u;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(d||p.peekType()!=="insert"))m.retain(l.length(h.next()));else if(p.peekType()==="insert")m.push(p.next());else{var y=Math.min(h.peekLength(),p.peekLength()),v=h.next(y),_=p.next(y);if(v.delete)continue;_.delete?m.push(_):m.retain(y,l.attributes.transform(v.attributes,_.attributes,d))}return m.chop()},u.prototype.transformPosition=function(c,d){d=!!d;for(var h=l.iterator(this.ops),p=0;h.hasNext()&&p<=c;){var m=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){c-=Math.min(m,c-p);continue}else y==="insert"&&(p<c||!d)&&(c+=m);p+=m}return c},n.exports=u},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):s.call(h)==="[object Array]"},f=function(h){if(!h||s.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var y;for(y in h);return typeof y>"u"||i.call(h,y)},u=function(h,p){o&&p.name==="__proto__"?o(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(a)return a(h,p).value}else return;return h[p]};n.exports=function d(){var h,p,m,y,v,_,b=arguments[0],g=1,w=arguments.length,x=!1;for(typeof b=="boolean"&&(x=b,b=arguments[1]||{},g=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});g<w;++g)if(h=arguments[g],h!=null)for(p in h)m=c(b,p),y=c(h,p),b!==y&&(x&&y&&(f(y)||(v=l(y)))?(v?(v=!1,_=m&&l(m)?m:[]):_=m&&f(m)?m:{},u(b,{name:p,newValue:d(x,_,y)})):typeof y<"u"&&u(b,{name:p,newValue:y}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(T,R){for(var N=0;N<R.length;N++){var D=R[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,R,N){return R&&A(T.prototype,R),N&&A(T,N),T}}(),o=function A(T,R,N){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,R);if(D===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:A(P,R,N)}else{if("value"in D)return D.value;var C=D.get;return C===void 0?void 0:C.call(N)}},a=i(3),l=b(a),f=i(2),u=b(f),c=i(0),d=b(c),h=i(16),p=b(h),m=i(6),y=b(m),v=i(7),_=b(v);function b(A){return A&&A.__esModule?A:{default:A}}function g(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function w(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function x(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var I=1,E=function(A){x(T,A);function T(){return g(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"attach",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,D){var P=d.default.query(N,d.default.Scope.BLOCK_ATTRIBUTE);P!=null&&this.attributes.attribute(P,D)}},{key:"formatAt",value:function(N,D,P,C){this.format(P,C)}},{key:"insertAt",value:function(N,D,P){if(typeof D=="string"&&D.endsWith(`
`)){var C=d.default.create(S.blotName);this.parent.insertBefore(C,N===0?this:this.next),C.insertAt(0,D.slice(0,-1))}else o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,N,D,P)}}]),T}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var S=function(A){x(T,A);function T(R){g(this,T);var N=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R));return N.cache={},N}return s(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(N,D){return D.length()===0?N:N.insert(D.value(),k(D))},new u.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(N,D){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,N,D),this.cache={}}},{key:"formatAt",value:function(N,D,P,C){D<=0||(d.default.query(P,d.default.Scope.BLOCK)?N+D===this.length()&&this.format(P,C):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,N,Math.min(D,this.length()-N-1),P,C),this.cache={})}},{key:"insertAt",value:function(N,D,P){if(P!=null)return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,N,D,P);if(D.length!==0){var C=D.split(`
`),G=C.shift();G.length>0&&(N<this.length()-1||this.children.tail==null?o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var H=this;C.reduce(function(B,$){return H=H.split(B,!0),H.insertAt(0,$),$.length},N+G.length)}}},{key:"insertBefore",value:function(N,D){var P=this.children.head;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,N,D),P instanceof p.default&&P.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+I),this.cache.length}},{key:"moveChildren",value:function(N,D){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,N,D),this.cache={}}},{key:"optimize",value:function(N){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(N===0||N>=this.length()-I)){var P=this.clone();return N===0?(this.parent.insertBefore(P,this),this):(this.parent.insertBefore(P,this.next),P)}else{var C=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,N,D);return this.cache={},C}}}]),T}(d.default.Block);S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[y.default,d.default.Embed,_.default];function k(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(T=(0,l.default)(T,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?T:k(A.parent,T)}r.bubbleFormats=k,r.BlockEmbed=E,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(B,$){var V=[],M=!0,W=!1,z=void 0;try{for(var j=B[Symbol.iterator](),F;!(M=(F=j.next()).done)&&(V.push(F.value),!($&&V.length===$));M=!0);}catch(J){W=!0,z=J}finally{try{!M&&j.return&&j.return()}finally{if(W)throw z}}return V}return function(B,$){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return H(B,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(B,$){for(var V=0;V<$.length;V++){var M=$[V];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(B,M.key,M)}}return function(B,$,V){return $&&H(B.prototype,$),V&&H(B,V),B}}();i(50);var l=i(2),f=k(l),u=i(14),c=k(u),d=i(8),h=k(d),p=i(9),m=k(p),y=i(0),v=k(y),_=i(15),b=k(_),g=i(3),w=k(g),x=i(10),I=k(x),E=i(34),S=k(E);function k(H){return H&&H.__esModule?H:{default:H}}function A(H,B,$){return B in H?Object.defineProperty(H,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[B]=$,H}function T(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}var R=(0,I.default)("quill"),N=function(){a(H,null,[{key:"debug",value:function($){$===!0&&($="log"),I.default.level($)}},{key:"find",value:function($){return $.__quill||v.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&R.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,V){var M=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var z=$.attrName||$.blotName;typeof z=="string"?this.register("formats/"+z,$,V):Object.keys($).forEach(function(j){M.register(j,$[j],V)})}else this.imports[$]!=null&&!W&&R.warn("Overwriting "+$+" with",V),this.imports[$]=V,($.startsWith("blots/")||$.startsWith("formats/"))&&V.blotName!=="abstract"?v.default.register(V):$.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function H(B){var $=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,H),this.options=D(B,V),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",B);this.options.debug&&H.debug(this.options.debug);var M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(z){z===h.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(z,j){var F=$.selection.lastRange,J=F&&F.length===0?F.index:void 0;P.call($,function(){return $.editor.update(null,j,J)},z)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+M+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function($){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var M=$;$=document.createElement("div"),$.classList.add(M)}return this.container.insertBefore($,V),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,V,M){var W=this,z=C($,V,M),j=o(z,4);return $=j[0],V=j[1],M=j[3],P.call(this,function(){return W.editor.deleteText($,V)},M,$,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,V){var M=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return P.call(this,function(){var z=M.getSelection(!0),j=new f.default;if(z==null)return j;if(v.default.query($,v.default.Scope.BLOCK))j=M.editor.formatLine(z.index,z.length,A({},$,V));else{if(z.length===0)return M.selection.format($,V),j;j=M.editor.formatText(z.index,z.length,A({},$,V))}return M.setSelection(z,h.default.sources.SILENT),j},W)}},{key:"formatLine",value:function($,V,M,W,z){var j=this,F=void 0,J=C($,V,M,W,z),K=o(J,4);return $=K[0],V=K[1],F=K[2],z=K[3],P.call(this,function(){return j.editor.formatLine($,V,F)},z,$,0)}},{key:"formatText",value:function($,V,M,W,z){var j=this,F=void 0,J=C($,V,M,W,z),K=o(J,4);return $=K[0],V=K[1],F=K[2],z=K[3],P.call(this,function(){return j.editor.formatText($,V,F)},z,$,0)}},{key:"getBounds",value:function($){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=void 0;typeof $=="number"?M=this.selection.getBounds($,V):M=this.selection.getBounds($.index,$.length);var W=this.container.getBoundingClientRect();return{bottom:M.bottom-W.top,height:M.height,left:M.left-W.left,right:M.right-W.left,top:M.top-W.top,width:M.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,M=C($,V),W=o(M,2);return $=W[0],V=W[1],this.editor.getContents($,V)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,V):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,V)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,M=C($,V),W=o(M,2);return $=W[0],V=W[1],this.editor.getText($,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,V,M){var W=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return P.call(this,function(){return W.editor.insertEmbed($,V,M)},z,$)}},{key:"insertText",value:function($,V,M,W,z){var j=this,F=void 0,J=C($,0,M,W,z),K=o(J,4);return $=K[0],F=K[2],z=K[3],P.call(this,function(){return j.editor.insertText($,V,F)},z,$,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,V,M){this.clipboard.dangerouslyPasteHTML($,V,M)}},{key:"removeFormat",value:function($,V,M){var W=this,z=C($,V,M),j=o(z,4);return $=j[0],V=j[1],M=j[3],P.call(this,function(){return W.editor.removeFormat($,V)},M,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var V=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return P.call(this,function(){$=new f.default($);var W=V.getLength(),z=V.editor.deleteText(0,W),j=V.editor.applyDelta($),F=j.ops[j.ops.length-1];F!=null&&typeof F.insert=="string"&&F.insert[F.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),j.delete(1));var J=z.compose(j);return J},M)}},{key:"setSelection",value:function($,V,M){if($==null)this.selection.setRange(null,V||H.sources.API);else{var W=C($,V,M),z=o(W,4);$=z[0],V=z[1],M=z[3],this.selection.setRange(new _.Range($,V),M),M!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,M=new f.default().insert($);return this.setContents(M,V)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,V=this.scroll.update($);return this.selection.update($),V}},{key:"updateContents",value:function($){var V=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return P.call(this,function(){return $=new f.default($),V.editor.applyDelta($,M)},M,!0)}}]),H}();N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=h.default.events,N.sources=h.default.sources,N.version="1.3.7",N.imports={delta:f.default,parchment:v.default,"core/module":m.default,"core/theme":S.default};function D(H,B){if(B=(0,w.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===N.DEFAULTS.theme)B.theme=S.default;else if(B.theme=N.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var $=(0,w.default)(!0,{},B.theme.DEFAULTS);[$,B].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(z){W.modules[z]===!0&&(W.modules[z]={})})});var V=Object.keys($.modules).concat(Object.keys(B.modules)),M=V.reduce(function(W,z){var j=N.import("modules/"+z);return j==null?R.error("Cannot load "+z+" module. Are you sure you registered it?"):W[z]=j.DEFAULTS||{},W},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,w.default)(!0,{},N.DEFAULTS,{modules:M},$,B),["bounds","container","scrollingContainer"].forEach(function(W){typeof B[W]=="string"&&(B[W]=document.querySelector(B[W]))}),B.modules=Object.keys(B.modules).reduce(function(W,z){return B.modules[z]&&(W[z]=B.modules[z]),W},{}),B}function P(H,B,$,V){if(this.options.strict&&!this.isEnabled()&&B===h.default.sources.USER)return new f.default;var M=$==null?null:this.getSelection(),W=this.editor.delta,z=H();if(M!=null&&($===!0&&($=M.index),V==null?M=G(M,z,B):V!==0&&(M=G(M,$,V,B)),this.setSelection(M,h.default.sources.SILENT)),z.length()>0){var j,F=[h.default.events.TEXT_CHANGE,z,W,B];if((j=this.emitter).emit.apply(j,[h.default.events.EDITOR_CHANGE].concat(F)),B!==h.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,F)}}return z}function C(H,B,$,V,M){var W={};return typeof H.index=="number"&&typeof H.length=="number"?typeof B!="number"?(M=V,V=$,$=B,B=H.length,H=H.index):(B=H.length,H=H.index):typeof B!="number"&&(M=V,V=$,$=B,B=0),(typeof $>"u"?"undefined":s($))==="object"?(W=$,M=V):typeof $=="string"&&(V!=null?W[$]=V:M=$),M=M||h.default.sources.API,[H,B,W,M]}function G(H,B,$,V){if(H==null)return null;var M=void 0,W=void 0;if(B instanceof f.default){var z=[H.index,H.index+H.length].map(function(K){return B.transformPosition(K,V!==h.default.sources.USER)}),j=o(z,2);M=j[0],W=j[1]}else{var F=[H.index,H.index+H.length].map(function(K){return K<B||K===B&&V===h.default.sources.USER?K:$>=0?K+$:Math.max(B,K+$)}),J=o(F,2);M=J[0],W=J[1]}return new _.Range(M,W-M)}r.expandConfig=D,r.overload=C,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),o=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(b)}},a=i(7),l=c(a),f=i(0),u=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){p(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"formatAt",value:function(b,g,w,x){if(v.compare(this.statics.blotName,w)<0&&u.default.query(w,u.default.Scope.BLOT)){var I=this.isolate(b,g);x&&I.wrap(w,x)}else o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,g,w,x)}},{key:"optimize",value:function(b){if(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(b,g){var w=v.order.indexOf(b),x=v.order.indexOf(g);return w>=0||x>=0?w-x:b===g?0:b<g?-1:1}}]),v}(u.default.Inline);m.allowedChildren=[m,u.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(b,g){for(var w=0;w<g.length;w++){var x=g[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,g,w){return g&&_(b.prototype,g),w&&_(b,w),b}}(),o=function _(b,g,w){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,g);if(x===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:_(I,g,w)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(w)}},a=i(54),l=c(a),f=i(10),u=c(f);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function p(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var m=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(_){document.addEventListener(_,function(){for(var b=arguments.length,g=Array(b),w=0;w<b;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var I;(I=x.__quill.emitter).handleDOM.apply(I,g)}})})});var v=function(_){p(b,_);function b(){d(this,b);var g=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return g.listeners={},g.on("error",m.error),g}return s(b,[{key:"emit",value:function(){m.log.apply(m,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var x=arguments.length,I=Array(x>1?x-1:0),E=1;E<x;E++)I[E-1]=arguments[E];(this.listeners[w.type]||[]).forEach(function(S){var k=S.node,A=S.handler;(w.target===k||k.contains(w.target))&&A.apply(void 0,[w].concat(I))})}},{key:"listenDOM",value:function(w,x,I){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:x,handler:I})}}]),b}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=f};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(f){if(s.indexOf(f)<=s.indexOf(o)){for(var u,c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];(u=console)[f].apply(u,d)}}function l(f){return s.reduce(function(u,c){return u[c]=a.bind(console,c,f),u},{})}a.level=l.level=function(f){o=f},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(d,h,p){return p||(p={}),d===h?!0:d instanceof Date&&h instanceof Date?d.getTime()===h.getTime():!d||!h||typeof d!="object"&&typeof h!="object"?p.strict?d===h:d==h:c(d,h,p)};function f(d){return d==null}function u(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function c(d,h,p){var m,y;if(f(d)||f(h)||d.prototype!==h.prototype)return!1;if(a(d))return a(h)?(d=s.call(d),h=s.call(h),l(d,h,p)):!1;if(u(d)){if(!u(h)||d.length!==h.length)return!1;for(m=0;m<d.length;m++)if(d[m]!==h[m])return!1;return!0}try{var v=o(d),_=o(h)}catch{return!1}if(v.length!=_.length)return!1;for(v.sort(),_.sort(),m=v.length-1;m>=0;m--)if(v[m]!=_[m])return!1;for(m=v.length-1;m>=0;m--)if(y=v[m],!l(d[y],h[y],p))return!1;return typeof d==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,f,u){u===void 0&&(u={}),this.attrName=l,this.keyName=f;var c=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|c:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(f){return f.name})},a.prototype.add=function(l,f){return this.canAdd(l,f)?(l.setAttribute(this.keyName,f),!0):!1},a.prototype.canAdd=function(l,f){var u=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var f=l.getAttribute(this.keyName);return this.canAdd(l,f)&&f?f:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function E(S,k){var A=[],T=!0,R=!1,N=void 0;try{for(var D=S[Symbol.iterator](),P;!(T=(P=D.next()).done)&&(A.push(P.value),!(k&&A.length===k));T=!0);}catch(C){R=!0,N=C}finally{try{!T&&D.return&&D.return()}finally{if(R)throw N}}return A}return function(S,k){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(S,k){for(var A=0;A<k.length;A++){var T=k[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,k,A){return k&&E(S.prototype,k),A&&E(S,A),S}}(),a=function E(S,k,A){S===null&&(S=Function.prototype);var T=Object.getOwnPropertyDescriptor(S,k);if(T===void 0){var R=Object.getPrototypeOf(S);return R===null?void 0:E(R,k,A)}else{if("value"in T)return T.value;var N=T.get;return N===void 0?void 0:N.call(A)}},l=i(2),f=_(l),u=i(0),c=_(u),d=i(4),h=_(d),p=i(6),m=_(p),y=i(7),v=_(y);function _(E){return E&&E.__esModule?E:{default:E}}function b(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function w(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var x=function(E){w(S,E);function S(){return b(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return S}(m.default);x.blotName="code",x.tagName="CODE";var I=function(E){w(S,E);function S(){return b(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"delta",value:function(){var A=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(R,N){return R.insert(N).insert(`
`,A.formats())},new f.default)}},{key:"format",value:function(A,T){if(!(A===this.statics.blotName&&T)){var R=this.descendant(v.default,this.length()-1),N=s(R,1),D=N[0];D!=null&&D.deleteAt(D.length()-1,1),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,A,T)}}},{key:"formatAt",value:function(A,T,R,N){if(T!==0&&!(c.default.query(R,c.default.Scope.BLOCK)==null||R===this.statics.blotName&&N===this.statics.formats(this.domNode))){var D=this.newlineIndex(A);if(!(D<0||D>=A+T)){var P=this.newlineIndex(A,!0)+1,C=D-P+1,G=this.isolate(P,C),H=G.next;G.format(R,N),H instanceof S&&H.formatAt(0,A-P+T-C,R,N)}}}},{key:"insertAt",value:function(A,T,R){if(R==null){var N=this.descendant(v.default,A),D=s(N,2),P=D[0],C=D[1];P.insertAt(C,T)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var R=this.domNode.textContent.slice(A).indexOf(`
`);return R>-1?A+R:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,A);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(A),T.moveChildren(this),T.remove())}},{key:"replace",value:function(A){a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var R=c.default.find(T);R==null?T.parentNode.removeChild(T):R instanceof c.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(A){var T=a(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,A);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),S}(h.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",r.Code=x,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},o=function(){function H(B,$){var V=[],M=!0,W=!1,z=void 0;try{for(var j=B[Symbol.iterator](),F;!(M=(F=j.next()).done)&&(V.push(F.value),!($&&V.length===$));M=!0);}catch(J){W=!0,z=J}finally{try{!M&&j.return&&j.return()}finally{if(W)throw z}}return V}return function(B,$){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return H(B,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(B,$){for(var V=0;V<$.length;V++){var M=$[V];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(B,M.key,M)}}return function(B,$,V){return $&&H(B.prototype,$),V&&H(B,V),B}}(),l=i(2),f=T(l),u=i(20),c=T(u),d=i(0),h=T(d),p=i(13),m=T(p),y=i(24),v=T(y),_=i(4),b=T(_),g=i(16),w=T(g),x=i(21),I=T(x),E=i(11),S=T(E),k=i(3),A=T(k);function T(H){return H&&H.__esModule?H:{default:H}}function R(H,B,$){return B in H?Object.defineProperty(H,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[B]=$,H}function N(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,P=function(){function H(B){N(this,H),this.scroll=B,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function($){var V=this,M=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),$=G($),$.reduce(function(z,j){var F=j.retain||j.delete||j.insert.length||1,J=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var K=j.insert;K.endsWith(`
`)&&M&&(M=!1,K=K.slice(0,-1)),z>=W&&!K.endsWith(`
`)&&(M=!0),V.scroll.insertAt(z,K);var se=V.scroll.line(z),ce=o(se,2),Z=ce[0],q=ce[1],Q=(0,A.default)({},(0,_.bubbleFormats)(Z));if(Z instanceof b.default){var Y=Z.descendant(h.default.Leaf,q),fe=o(Y,1),ee=fe[0];Q=(0,A.default)(Q,(0,_.bubbleFormats)(ee))}J=c.default.attributes.diff(Q,J)||{}}else if(s(j.insert)==="object"){var U=Object.keys(j.insert)[0];if(U==null)return z;V.scroll.insertAt(z,U,j.insert[U])}W+=F}return Object.keys(J).forEach(function(te){V.scroll.formatAt(z,F,te,J[te])}),z+F},0),$.reduce(function(z,j){return typeof j.delete=="number"?(V.scroll.deleteAt(z,j.delete),z):z+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,V){return this.scroll.deleteAt($,V),this.update(new f.default().retain($).delete(V))}},{key:"formatLine",value:function($,V){var M=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(z){if(!(M.scroll.whitelist!=null&&!M.scroll.whitelist[z])){var j=M.scroll.lines($,Math.max(V,1)),F=V;j.forEach(function(J){var K=J.length();if(!(J instanceof m.default))J.format(z,W[z]);else{var se=$-J.offset(M.scroll),ce=J.newlineIndex(se+F)-se+1;J.formatAt(se,ce,z,W[z])}F-=K})}}),this.scroll.optimize(),this.update(new f.default().retain($).retain(V,(0,I.default)(W)))}},{key:"formatText",value:function($,V){var M=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(z){M.scroll.formatAt($,V,z,W[z])}),this.update(new f.default().retain($).retain(V,(0,I.default)(W)))}},{key:"getContents",value:function($,V){return this.delta.slice($,$+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,V){return $.concat(V.delta())},new f.default)}},{key:"getFormat",value:function($){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=[],W=[];V===0?this.scroll.path($).forEach(function(j){var F=o(j,1),J=F[0];J instanceof b.default?M.push(J):J instanceof h.default.Leaf&&W.push(J)}):(M=this.scroll.lines($,V),W=this.scroll.descendants(h.default.Leaf,$,V));var z=[M,W].map(function(j){if(j.length===0)return{};for(var F=(0,_.bubbleFormats)(j.shift());Object.keys(F).length>0;){var J=j.shift();if(J==null)return F;F=C((0,_.bubbleFormats)(J),F)}return F});return A.default.apply(A.default,z)}},{key:"getText",value:function($,V){return this.getContents($,V).filter(function(M){return typeof M.insert=="string"}).map(function(M){return M.insert}).join("")}},{key:"insertEmbed",value:function($,V,M){return this.scroll.insertAt($,V,M),this.update(new f.default().retain($).insert(R({},V,M)))}},{key:"insertText",value:function($,V){var M=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,V),Object.keys(W).forEach(function(z){M.scroll.formatAt($,V.length,z,W[z])}),this.update(new f.default().retain($).insert(V,(0,I.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==b.default.blotName||$.children.length>1?!1:$.children.head instanceof w.default}},{key:"removeFormat",value:function($,V){var M=this.getText($,V),W=this.scroll.line($+V),z=o(W,2),j=z[0],F=z[1],J=0,K=new f.default;j!=null&&(j instanceof m.default?J=j.newlineIndex(F)-F+1:J=j.length()-F,K=j.delta().slice(F,F+J-1).insert(`
`));var se=this.getContents($,V+J),ce=se.diff(new f.default().insert(M).concat(K)),Z=new f.default().retain($).concat(ce);return this.applyDelta(Z)}},{key:"update",value:function($){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(D)&&h.default.find(V[0].target)){var z=h.default.find(V[0].target),j=(0,_.bubbleFormats)(z),F=z.offset(this.scroll),J=V[0].oldValue.replace(v.default.CONTENTS,""),K=new f.default().insert(J),se=new f.default().insert(z.value()),ce=new f.default().retain(F).concat(K.diff(se,M));$=ce.reduce(function(Z,q){return q.insert?Z.insert(q.insert,j):Z.push(q)},new f.default),this.delta=W.compose($)}else this.delta=this.getDelta(),(!$||!(0,S.default)(W.compose($),this.delta))&&($=W.diff(this.delta,M));return $}}]),H}();function C(H,B){return Object.keys(B).reduce(function($,V){return H[V]==null||(B[V]===H[V]?$[V]=B[V]:Array.isArray(B[V])?B[V].indexOf(H[V])<0&&($[V]=B[V].concat([H[V]])):$[V]=[B[V],H[V]]),$},{})}function G(H){return H.reduce(function(B,$){if($.insert===1){var V=(0,I.default)($.attributes);return delete V.image,B.insert({image:$.attributes.image},V)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,I.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var M=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert(M,$.attributes)}return B.push($)},new f.default)}r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function E(S,k){var A=[],T=!0,R=!1,N=void 0;try{for(var D=S[Symbol.iterator](),P;!(T=(P=D.next()).done)&&(A.push(P.value),!(k&&A.length===k));T=!0);}catch(C){R=!0,N=C}finally{try{!T&&D.return&&D.return()}finally{if(R)throw N}}return A}return function(S,k){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(S,k){for(var A=0;A<k.length;A++){var T=k[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,k,A){return k&&E(S.prototype,k),A&&E(S,A),S}}(),a=i(0),l=v(a),f=i(21),u=v(f),c=i(11),d=v(c),h=i(8),p=v(h),m=i(10),y=v(m);function v(E){return E&&E.__esModule?E:{default:E}}function _(E){if(Array.isArray(E)){for(var S=0,k=Array(E.length);S<E.length;S++)k[S]=E[S];return k}else return Array.from(E)}function b(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}var g=(0,y.default)("quill:selection"),w=function E(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,E),this.index=S,this.length=k},x=function(){function E(S,k){var A=this;b(this,E),this.emitter=k,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(T,R){T===p.default.events.TEXT_CHANGE&&R.length()>0&&A.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var T=A.getNativeRange();T!=null&&T.start.node!==A.cursor.textNode&&A.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(T,R){if(R.range){var N=R.range,D=N.startNode,P=N.startOffset,C=N.endNode,G=N.endOffset;A.setNativeRange(D,P,C,G)}}),this.update(p.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var A=k.cursor.restore();if(!A)return;setTimeout(function(){k.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||l.default.query(k,l.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var R=l.default.find(T.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var N=R.split(T.start.offset);R.parent.insertBefore(this.cursor,N)}else R.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(k,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();k=Math.min(k,T-1),A=Math.min(k+A,T-1)-k;var R=void 0,N=this.scroll.leaf(k),D=s(N,2),P=D[0],C=D[1];if(P==null)return null;var G=P.position(C,!0),H=s(G,2);R=H[0],C=H[1];var B=document.createRange();if(A>0){B.setStart(R,C);var $=this.scroll.leaf(k+A),V=s($,2);if(P=V[0],C=V[1],P==null)return null;var M=P.position(C,!0),W=s(M,2);return R=W[0],C=W[1],B.setEnd(R,C),B.getBoundingClientRect()}else{var z="left",j=void 0;return R instanceof Text?(C<R.data.length?(B.setStart(R,C),B.setEnd(R,C+1)):(B.setStart(R,C-1),B.setEnd(R,C),z="right"),j=B.getBoundingClientRect()):(j=P.domNode.getBoundingClientRect(),C>0&&(z="right")),{bottom:j.top+j.height,height:j.height,left:j[z],right:j[z],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var A=k.getRangeAt(0);if(A==null)return null;var T=this.normalizeNative(A);return g.info("getNativeRange",T),T}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var A=this.normalizedToRange(k);return[A,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var A=this,T=[[k.start.node,k.start.offset]];k.native.collapsed||T.push([k.end.node,k.end.offset]);var R=T.map(function(P){var C=s(P,2),G=C[0],H=C[1],B=l.default.find(G,!0),$=B.offset(A.scroll);return H===0?$:B instanceof l.default.Container?$+B.length():$+B.index(G,H)}),N=Math.min(Math.max.apply(Math,_(R)),this.scroll.length()-1),D=Math.min.apply(Math,[N].concat(_(R)));return new w(D,N-D)}},{key:"normalizeNative",value:function(k){if(!I(this.root,k.startContainer)||!k.collapsed&&!I(this.root,k.endContainer))return null;var A={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[A.start,A.end].forEach(function(T){for(var R=T.node,N=T.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>N)R=R.childNodes[N],N=0;else if(R.childNodes.length===N)R=R.lastChild,N=R instanceof Text?R.data.length:R.childNodes.length+1;else break;T.node=R,T.offset=N}),A}},{key:"rangeToNative",value:function(k){var A=this,T=k.collapsed?[k.index]:[k.index,k.index+k.length],R=[],N=this.scroll.length();return T.forEach(function(D,P){D=Math.min(N-1,D);var C=void 0,G=A.scroll.leaf(D),H=s(G,2),B=H[0],$=H[1],V=B.position($,P!==0),M=s(V,2);C=M[0],$=M[1],R.push(C,$)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(k){var A=this.lastRange;if(A!=null){var T=this.getBounds(A.index,A.length);if(T!=null){var R=this.scroll.length()-1,N=this.scroll.line(Math.min(A.index,R)),D=s(N,1),P=D[0],C=P;if(A.length>0){var G=this.scroll.line(Math.min(A.index+A.length,R)),H=s(G,1);C=H[0]}if(!(P==null||C==null)){var B=k.getBoundingClientRect();T.top<B.top?k.scrollTop-=B.top-T.top:T.bottom>B.bottom&&(k.scrollTop+=T.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(k,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",k,A,T,R),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||T.parentNode==null))){var D=document.getSelection();if(D!=null)if(k!=null){this.hasFocus()||this.root.focus();var P=(this.getNativeRange()||{}).native;if(P==null||N||k!==P.startContainer||A!==P.startOffset||T!==P.endContainer||R!==P.endOffset){k.tagName=="BR"&&(A=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),T.tagName=="BR"&&(R=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var C=document.createRange();C.setStart(k,A),C.setEnd(T,R),D.removeAllRanges(),D.addRange(C)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof A=="string"&&(T=A,A=!1),g.info("setRange",k),k!=null){var R=this.rangeToNative(k);this.setNativeRange.apply(this,_(R).concat([A]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,A=this.lastRange,T=this.getRange(),R=s(T,2),N=R[0],D=R[1];if(this.lastRange=N,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(A,this.lastRange)){var P;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var C=[p.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(A),k];if((P=this.emitter).emit.apply(P,[p.default.events.EDITOR_CHANGE].concat(C)),k!==p.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,C)}}}}]),E}();function I(E,S){try{S.parentNode}catch{return!1}return S instanceof Text&&(S=S.parentNode),E.contains(S)}r.Range=w,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),o=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(0),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"insertInto",value:function(v,_){v.children.length===0?o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,v,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),f=function(c){s(d,c);function d(h){var p=c.call(this,h)||this;return p.build(),p}return d.prototype.appendChild=function(h){this.insertBefore(h)},d.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},d.prototype.build=function(){var h=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var m=u(p);h.insertBefore(m,h.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},d.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(m,y,v){m.deleteAt(y,v)})},d.prototype.descendant=function(h,p){var m=this.children.find(p),y=m[0],v=m[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,v]:y instanceof d?y.descendant(h,v):[null,-1]},d.prototype.descendants=function(h,p,m){p===void 0&&(p=0),m===void 0&&(m=Number.MAX_VALUE);var y=[],v=m;return this.children.forEachAt(p,m,function(_,b,g){(h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h)&&y.push(_),_ instanceof d&&(y=y.concat(_.descendants(h,b,v))),v-=g}),y},d.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),c.prototype.detach.call(this)},d.prototype.formatAt=function(h,p,m,y){this.children.forEachAt(h,p,function(v,_,b){v.formatAt(_,b,m,y)})},d.prototype.insertAt=function(h,p,m){var y=this.children.find(h),v=y[0],_=y[1];if(v)v.insertAt(_,p,m);else{var b=m==null?l.create("text",p):l.create(p,m);this.appendChild(b)}},d.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},d.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},d.prototype.moveChildren=function(h,p){this.children.forEach(function(m){h.insertBefore(m,p)})},d.prototype.optimize=function(h){if(c.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=l.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},d.prototype.path=function(h,p){p===void 0&&(p=!1);var m=this.children.find(h,p),y=m[0],v=m[1],_=[[this,h]];return y instanceof d?_.concat(y.path(v,p)):(y!=null&&_.push([y,v]),_)},d.prototype.removeChild=function(h){this.children.remove(h)},d.prototype.replace=function(h){h instanceof d&&h.moveChildren(this),c.prototype.replace.call(this,h)},d.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(y,v,_){y=y.split(v,p),m.appendChild(y)}),m},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(h,p){var m=this,y=[],v=[];h.forEach(function(_){_.target===m.domNode&&_.type==="childList"&&(y.push.apply(y,_.addedNodes),v.push.apply(v,_.removedNodes))}),v.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(_);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),y.filter(function(_){return _.parentNode==m.domNode}).sort(function(_,b){return _===b?0:_.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var b=null;_.nextSibling!=null&&(b=l.find(_.nextSibling));var g=u(_);(g.next!=b||g.next==null)&&(g.parent!=null&&g.parent.removeChild(m),m.insertBefore(g,b||void 0))})},d}(a.default);function u(c){var d=l.find(c);if(d==null)try{d=l.create(c)}catch{d=l.create(l.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(p){d.domNode.appendChild(p)}),c.parentNode&&c.parentNode.replaceChild(d.domNode,c),d.attach()}return d}r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),f=i(1),u=function(c){s(d,c);function d(h){var p=c.call(this,h)||this;return p.attributes=new a.default(p.domNode),p}return d.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},d.prototype.format=function(h,p){var m=f.query(h);m instanceof o.default?this.attributes.attribute(m,p):p&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},d.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},d.prototype.replaceWith=function(h,p){var m=c.prototype.replaceWith.call(this,h,p);return this.attributes.copy(m),m},d.prototype.update=function(h,p){var m=this;c.prototype.update.call(this,h,p),h.some(function(y){return y.target===m.domNode&&y.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(h,p){var m=c.prototype.wrap.call(this,h,p);return m instanceof d&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},d}(l.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(f){s(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.value=function(c){return!0},u.prototype.index=function(c,d){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},u.prototype.position=function(c,d){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(h+=1),[this.parent.domNode,h]},u.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},u.scope=a.Scope.INLINE_BLOT,u}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(f,u,c){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var d=o(!0,{},u);c||(d=Object.keys(d).reduce(function(p,m){return d[m]!=null&&(p[m]=d[m]),p},{}));for(var h in f)f[h]!==void 0&&u[h]===void 0&&(d[h]=f[h]);return Object.keys(d).length>0?d:void 0},diff:function(f,u){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var c=Object.keys(f).concat(Object.keys(u)).reduce(function(d,h){return s(f[h],u[h])||(d[h]=u[h]===void 0?null:u[h]),d},{});return Object.keys(c).length>0?c:void 0},transform:function(f,u,c){if(typeof f!="object")return u;if(typeof u=="object"){if(!c)return u;var d=Object.keys(u).reduce(function(h,p){return f[p]===void 0&&(h[p]=u[p]),h},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(f){return new l(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function l(f){this.ops=f,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(f){f||(f=1/0);var u=this.ops[this.index];if(u){var c=this.offset,d=a.length(u);if(f>=d-c?(f=d-c,this.index+=1,this.offset=0):this.offset+=f,typeof u.delete=="number")return{delete:f};var h={};return u.attributes&&(h.attributes=u.attributes),typeof u.retain=="number"?h.retain=f:typeof u.insert=="string"?h.insert=u.insert.substr(c,f):h.insert=u.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,u=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=f,this.index=u,[c].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function s(m,y){return y!=null&&m instanceof y}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function f(m,y,v,_,b){typeof y=="object"&&(v=y.depth,_=y.prototype,b=y.includeNonEnumerable,y=y.circular);var g=[],w=[],x=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof v>"u"&&(v=1/0);function I(E,S){if(E===null)return null;if(S===0)return E;var k,A;if(typeof E!="object")return E;if(s(E,o))k=new o;else if(s(E,a))k=new a;else if(s(E,l))k=new l(function(B,$){E.then(function(V){B(I(V,S-1))},function(V){$(I(V,S-1))})});else if(f.__isArray(E))k=[];else if(f.__isRegExp(E))k=new RegExp(E.source,p(E)),E.lastIndex&&(k.lastIndex=E.lastIndex);else if(f.__isDate(E))k=new Date(E.getTime());else{if(x&&Buffer.isBuffer(E))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(E.length):k=new Buffer(E.length),E.copy(k),k;s(E,Error)?k=Object.create(E):typeof _>"u"?(A=Object.getPrototypeOf(E),k=Object.create(A)):(k=Object.create(_),A=_)}if(y){var T=g.indexOf(E);if(T!=-1)return w[T];g.push(E),w.push(k)}s(E,o)&&E.forEach(function(B,$){var V=I($,S-1),M=I(B,S-1);k.set(V,M)}),s(E,a)&&E.forEach(function(B){var $=I(B,S-1);k.add($)});for(var R in E){var N;A&&(N=Object.getOwnPropertyDescriptor(A,R)),!(N&&N.set==null)&&(k[R]=I(E[R],S-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(E),R=0;R<D.length;R++){var P=D[R],C=Object.getOwnPropertyDescriptor(E,P);C&&!C.enumerable&&!b||(k[P]=I(E[P],S-1),C.enumerable||Object.defineProperty(k,P,{enumerable:!1}))}if(b)for(var G=Object.getOwnPropertyNames(E),R=0;R<G.length;R++){var H=G[R],C=Object.getOwnPropertyDescriptor(E,H);C&&C.enumerable||(k[H]=I(E[H],S-1),Object.defineProperty(k,H,{enumerable:!1}))}return k}return I(m,v)}f.clonePrototype=function(y){if(y===null)return null;var v=function(){};return v.prototype=y,new v};function u(m){return Object.prototype.toString.call(m)}f.__objToStr=u;function c(m){return typeof m=="object"&&u(m)==="[object Date]"}f.__isDate=c;function d(m){return typeof m=="object"&&u(m)==="[object Array]"}f.__isArray=d;function h(m){return typeof m=="object"&&u(m)==="[object RegExp]"}f.__isRegExp=h;function p(m){var y="";return m.global&&(y+="g"),m.ignoreCase&&(y+="i"),m.multiline&&(y+="m"),y}return f.__getRegExpFlags=p,f}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function k(A,T){var R=[],N=!0,D=!1,P=void 0;try{for(var C=A[Symbol.iterator](),G;!(N=(G=C.next()).done)&&(R.push(G.value),!(T&&R.length===T));N=!0);}catch(H){D=!0,P=H}finally{try{!N&&C.return&&C.return()}finally{if(D)throw P}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(A,T){for(var R=0;R<T.length;R++){var N=T[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,T,R){return T&&k(A.prototype,T),R&&k(A,R),A}}(),a=function k(A,T,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,T);if(N===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:k(D,T,R)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(R)}},l=i(0),f=g(l),u=i(8),c=g(u),d=i(4),h=g(d),p=i(16),m=g(p),y=i(13),v=g(y),_=i(25),b=g(_);function g(k){return k&&k.__esModule?k:{default:k}}function w(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function x(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function I(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}function E(k){return k instanceof h.default||k instanceof d.BlockEmbed}var S=function(k){I(A,k);function A(T,R){w(this,A);var N=x(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T));return N.emitter=R.emitter,Array.isArray(R.whitelist)&&(N.whitelist=R.whitelist.reduce(function(D,P){return D[P]=!0,D},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,N){var D=this.line(R),P=s(D,2),C=P[0],G=P[1],H=this.line(R+N),B=s(H,1),$=B[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,N),$!=null&&C!==$&&G>0){if(C instanceof d.BlockEmbed||$ instanceof d.BlockEmbed){this.optimize();return}if(C instanceof v.default){var V=C.newlineIndex(C.length(),!0);if(V>-1&&(C=C.split(V+1),C===$)){this.optimize();return}}else if($ instanceof v.default){var M=$.newlineIndex(0);M>-1&&$.split(M+1)}var W=$.children.head instanceof m.default?null:$.children.head;C.moveChildren($,W),C.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,N,D,P){this.whitelist!=null&&!this.whitelist[D]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,N,D,P),this.optimize())}},{key:"insertAt",value:function(R,N,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[N])){if(R>=this.length())if(D==null||f.default.query(N,f.default.Scope.BLOCK)==null){var P=f.default.create(this.statics.defaultChild);this.appendChild(P),D==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),P.insertAt(0,N,D)}else{var C=f.default.create(N,D);this.appendChild(C)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,N,D);this.optimize()}}},{key:"insertBefore",value:function(R,N){if(R.statics.scope===f.default.Scope.INLINE_BLOT){var D=f.default.create(this.statics.defaultChild);D.appendChild(R),R=D}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,N)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(E,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function P(C,G,H){var B=[],$=H;return C.children.forEachAt(G,H,function(V,M,W){E(V)?B.push(V):V instanceof f.default.Container&&(B=B.concat(P(V,M,$))),$-=W}),B};return D(this,R,N)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R,N),R.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,R,N))}},{key:"path",value:function(R){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var N=c.default.sources.USER;typeof R=="string"&&(N=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,N,R),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,N,R)}}}]),A}(f.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[h.default,d.BlockEmbed,b.default],r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},o=function(){function j(F,J){var K=[],se=!0,ce=!1,Z=void 0;try{for(var q=F[Symbol.iterator](),Q;!(se=(Q=q.next()).done)&&(K.push(Q.value),!(J&&K.length===J));se=!0);}catch(Y){ce=!0,Z=Y}finally{try{!se&&q.return&&q.return()}finally{if(ce)throw Z}}return K}return function(F,J){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return j(F,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(F,J){for(var K=0;K<J.length;K++){var se=J[K];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(F,se.key,se)}}return function(F,J,K){return J&&j(F.prototype,J),K&&j(F,K),F}}(),l=i(21),f=k(l),u=i(11),c=k(u),d=i(3),h=k(d),p=i(2),m=k(p),y=i(20),v=k(y),_=i(0),b=k(_),g=i(5),w=k(g),x=i(10),I=k(x),E=i(9),S=k(E);function k(j){return j&&j.__esModule?j:{default:j}}function A(j,F,J){return F in j?Object.defineProperty(j,F,{value:J,enumerable:!0,configurable:!0,writable:!0}):j[F]=J,j}function T(j,F){if(!(j instanceof F))throw new TypeError("Cannot call a class as a function")}function R(j,F){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:j}function N(j,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);j.prototype=Object.create(F&&F.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(j,F):j.__proto__=F)}var D=(0,I.default)("quill:keyboard"),P=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",C=function(j){N(F,j),a(F,null,[{key:"match",value:function(K,se){return se=z(se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ce){return!!se[ce]!==K[ce]&&se[ce]!==null})?!1:se.key===(K.which||K.keyCode)}}]);function F(J,K){T(this,F);var se=R(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,J,K));return se.bindings={},Object.keys(se.options.bindings).forEach(function(ce){ce==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||se.options.bindings[ce]&&se.addBinding(se.options.bindings[ce])}),se.addBinding({key:F.keys.ENTER,shiftKey:null},V),se.addBinding({key:F.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(se.addBinding({key:F.keys.BACKSPACE},{collapsed:!0},H),se.addBinding({key:F.keys.DELETE},{collapsed:!0},B)):(se.addBinding({key:F.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),se.addBinding({key:F.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),se.addBinding({key:F.keys.BACKSPACE},{collapsed:!1},$),se.addBinding({key:F.keys.DELETE},{collapsed:!1},$),se.addBinding({key:F.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),se.listen(),se}return a(F,[{key:"addBinding",value:function(K){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z=z(K);if(Z==null||Z.key==null)return D.warn("Attempted to add invalid keyboard binding",Z);typeof se=="function"&&(se={handler:se}),typeof ce=="function"&&(ce={handler:ce}),Z=(0,h.default)(Z,se,ce),this.bindings[Z.key]=this.bindings[Z.key]||[],this.bindings[Z.key].push(Z)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(se){if(!se.defaultPrevented){var ce=se.which||se.keyCode,Z=(K.bindings[ce]||[]).filter(function(Me){return F.match(se,Me)});if(Z.length!==0){var q=K.quill.getSelection();if(!(q==null||!K.quill.hasFocus())){var Q=K.quill.getLine(q.index),Y=o(Q,2),fe=Y[0],ee=Y[1],U=K.quill.getLeaf(q.index),te=o(U,2),ie=te[0],oe=te[1],re=q.length===0?[ie,oe]:K.quill.getLeaf(q.index+q.length),pe=o(re,2),ve=pe[0],Ee=pe[1],Re=ie instanceof b.default.Text?ie.value().slice(0,oe):"",$e=ve instanceof b.default.Text?ve.value().slice(Ee):"",Pe={collapsed:q.length===0,empty:q.length===0&&fe.length()<=1,format:K.quill.getFormat(q),offset:ee,prefix:Re,suffix:$e},Qe=Z.some(function(Me){if(Me.collapsed!=null&&Me.collapsed!==Pe.collapsed||Me.empty!=null&&Me.empty!==Pe.empty||Me.offset!=null&&Me.offset!==Pe.offset)return!1;if(Array.isArray(Me.format)){if(Me.format.every(function(rt){return Pe.format[rt]==null}))return!1}else if(s(Me.format)==="object"&&!Object.keys(Me.format).every(function(rt){return Me.format[rt]===!0?Pe.format[rt]!=null:Me.format[rt]===!1?Pe.format[rt]==null:(0,c.default)(Me.format[rt],Pe.format[rt])}))return!1;return Me.prefix!=null&&!Me.prefix.test(Pe.prefix)||Me.suffix!=null&&!Me.suffix.test(Pe.suffix)?!1:Me.handler.call(K,q,Pe)!==!0});Qe&&se.preventDefault()}}}})}}]),F}(S.default);C.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},C.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:C.keys.TAB,format:["blockquote","indent","list"],handler:function(F,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:C.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(F,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:C.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(F,J){J.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":M(!0),"outdent code-block":M(!1),"remove tab":{key:C.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(F){this.quill.deleteText(F.index-1,1,w.default.sources.USER)}},tab:{key:C.keys.TAB,handler:function(F){this.quill.history.cutoff();var J=new m.default().retain(F.index).delete(F.length).insert("	");this.quill.updateContents(J,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index+1,w.default.sources.SILENT)}},"list empty enter":{key:C.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(F,J){this.quill.format("list",!1,w.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:C.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(F){var J=this.quill.getLine(F.index),K=o(J,2),se=K[0],ce=K[1],Z=(0,h.default)({},se.formats(),{list:"checked"}),q=new m.default().retain(F.index).insert(`
`,Z).retain(se.length()-ce-1).retain(1,{list:"unchecked"});this.quill.updateContents(q,w.default.sources.USER),this.quill.setSelection(F.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:C.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(F,J){var K=this.quill.getLine(F.index),se=o(K,2),ce=se[0],Z=se[1],q=new m.default().retain(F.index).insert(`
`,J.format).retain(ce.length()-Z-1).retain(1,{header:null});this.quill.updateContents(q,w.default.sources.USER),this.quill.setSelection(F.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(F,J){var K=J.prefix.length,se=this.quill.getLine(F.index),ce=o(se,2),Z=ce[0],q=ce[1];if(q>K)return!0;var Q=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":Q="unchecked";break;case"[x]":Q="checked";break;case"-":case"*":Q="bullet";break;default:Q="ordered"}this.quill.insertText(F.index," ",w.default.sources.USER),this.quill.history.cutoff();var Y=new m.default().retain(F.index-q).delete(K+1).retain(Z.length()-2-q).retain(1,{list:Q});this.quill.updateContents(Y,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index-K,w.default.sources.SILENT)}},"code exit":{key:C.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(F){var J=this.quill.getLine(F.index),K=o(J,2),se=K[0],ce=K[1],Z=new m.default().retain(F.index+se.length()-ce-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Z,w.default.sources.USER)}},"embed left":G(C.keys.LEFT,!1),"embed left shift":G(C.keys.LEFT,!0),"embed right":G(C.keys.RIGHT,!1),"embed right shift":G(C.keys.RIGHT,!0)}};function G(j,F){var J,K=j===C.keys.LEFT?"prefix":"suffix";return J={key:j,shiftKey:F,altKey:null},A(J,K,/^$/),A(J,"handler",function(ce){var Z=ce.index;j===C.keys.RIGHT&&(Z+=ce.length+1);var q=this.quill.getLeaf(Z),Q=o(q,1),Y=Q[0];return Y instanceof b.default.Embed?(j===C.keys.LEFT?F?this.quill.setSelection(ce.index-1,ce.length+1,w.default.sources.USER):this.quill.setSelection(ce.index-1,w.default.sources.USER):F?this.quill.setSelection(ce.index,ce.length+1,w.default.sources.USER):this.quill.setSelection(ce.index+ce.length+1,w.default.sources.USER),!1):!0}),J}function H(j,F){if(!(j.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(j.index),K=o(J,1),se=K[0],ce={};if(F.offset===0){var Z=this.quill.getLine(j.index-1),q=o(Z,1),Q=q[0];if(Q!=null&&Q.length()>1){var Y=se.formats(),fe=this.quill.getFormat(j.index-1,1);ce=v.default.attributes.diff(Y,fe)||{}}}var ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(F.prefix)?2:1;this.quill.deleteText(j.index-ee,ee,w.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(j.index-ee,ee,ce,w.default.sources.USER),this.quill.focus()}}function B(j,F){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(F.suffix)?2:1;if(!(j.index>=this.quill.getLength()-J)){var K={},se=0,ce=this.quill.getLine(j.index),Z=o(ce,1),q=Z[0];if(F.offset>=q.length()-1){var Q=this.quill.getLine(j.index+1),Y=o(Q,1),fe=Y[0];if(fe){var ee=q.formats(),U=this.quill.getFormat(j.index,1);K=v.default.attributes.diff(ee,U)||{},se=fe.length()}}this.quill.deleteText(j.index,J,w.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(j.index+se-1,J,K,w.default.sources.USER)}}function $(j){var F=this.quill.getLines(j),J={};if(F.length>1){var K=F[0].formats(),se=F[F.length-1].formats();J=v.default.attributes.diff(se,K)||{}}this.quill.deleteText(j,w.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(j.index,1,J,w.default.sources.USER),this.quill.setSelection(j.index,w.default.sources.SILENT),this.quill.focus()}function V(j,F){var J=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var K=Object.keys(F.format).reduce(function(se,ce){return b.default.query(ce,b.default.Scope.BLOCK)&&!Array.isArray(F.format[ce])&&(se[ce]=F.format[ce]),se},{});this.quill.insertText(j.index,`
`,K,w.default.sources.USER),this.quill.setSelection(j.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(F.format).forEach(function(se){K[se]==null&&(Array.isArray(F.format[se])||se!=="link"&&J.quill.format(se,F.format[se],w.default.sources.USER))})}function M(j){return{key:C.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(J){var K=b.default.query("code-block"),se=J.index,ce=J.length,Z=this.quill.scroll.descendant(K,se),q=o(Z,2),Q=q[0],Y=q[1];if(Q!=null){var fe=this.quill.getIndex(Q),ee=Q.newlineIndex(Y,!0)+1,U=Q.newlineIndex(fe+Y+ce),te=Q.domNode.textContent.slice(ee,U).split(`
`);Y=0,te.forEach(function(ie,oe){j?(Q.insertAt(ee+Y,K.TAB),Y+=K.TAB.length,oe===0?se+=K.TAB.length:ce+=K.TAB.length):ie.startsWith(K.TAB)&&(Q.deleteAt(ee+Y,K.TAB.length),Y-=K.TAB.length,oe===0?se-=K.TAB.length:ce-=K.TAB.length),Y+=ie.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(se,ce,w.default.sources.SILENT)}}}}function W(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(J,K){this.quill.format(j,!K.format[j],w.default.sources.USER)}}}function z(j){if(typeof j=="string"||typeof j=="number")return z({key:j});if((typeof j>"u"?"undefined":s(j))==="object"&&(j=(0,f.default)(j,!1)),typeof j.key=="string")if(C.keys[j.key.toUpperCase()]!=null)j.key=C.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[P]=j.shortKey,delete j.shortKey),j}r.default=C,r.SHORTKEY=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(_,b){var g=[],w=!0,x=!1,I=void 0;try{for(var E=_[Symbol.iterator](),S;!(w=(S=E.next()).done)&&(g.push(S.value),!(b&&g.length===b));w=!0);}catch(k){x=!0,I=k}finally{try{!w&&E.return&&E.return()}finally{if(x)throw I}}return g}return function(_,b){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return v(_,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:v(x,b,g)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(g)}},a=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),l=i(0),f=d(l),u=i(7),c=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function p(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function m(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var y=function(v){m(_,v),a(_,null,[{key:"value",value:function(){}}]);function _(b,g){h(this,_);var w=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return w.selection=g,w.textNode=document.createTextNode(_.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,g,w);for(var x=this,I=0;x!=null&&x.statics.scope!==f.default.Scope.BLOCK_BLOT;)I+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=_.CONTENTS.length,x.optimize(),x.formatAt(I,_.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),x=void 0,I=void 0,E=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var S=[g,w.start.offset,w.end.offset];x=S[0],I=S[1],E=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var k=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof c.default?(x=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=_.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),I!=null){var A=[I,E].map(function(R){return Math.max(0,Math.min(x.data.length,R-1))}),T=s(A,2);return I=T[0],E=T[1],{startNode:x,startOffset:I,endNode:x,endOffset:E}}}}},{key:"update",value:function(g,w){var x=this;if(g.some(function(E){return E.type==="characterData"&&E.target===x.textNode})){var I=this.restore();I&&(w.range=I)}}},{key:"value",value:function(){return""}}]),_}(f.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=f(s),a=i(4),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),o=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(b)}},a=i(0),l=f(a);function f(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function c(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function d(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){d(v,y);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"value",value:function(b){var g=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),v}(l.default.Attributor.Style),p=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=p,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function m(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),o=function m(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var g=Object.getPrototypeOf(y);return g===null?void 0:m(g,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(6),l=f(a);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"format",value:function(_,b){if(_!==this.statics.blotName||!b)return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return _=this.sanitize(_),b.setAttribute("href",_),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return p(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),y}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(m,y){var v=document.createElement("a");v.href=m;var _=v.href.slice(0,v.href.indexOf(":"));return y.indexOf(_)>-1}r.default=h,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),a=i(23),l=c(a),f=i(107),u=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function p(y,v){y.setAttribute(v,y.getAttribute(v)!=="true")}var m=function(){function y(v){var _=this;d(this,y),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var b=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),_.hasAttribute("value")&&g.setAttribute("data-value",_.getAttribute("value")),_.textContent&&g.setAttribute("data-label",_.textContent),g.addEventListener("click",function(){b.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=u.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(g){var w=_.buildItem(g);b.appendChild(w),g.selected===!0&&_.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(b){_.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(_!==g&&(g!=null&&g.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var g=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),y}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=D(s),a=i(5),l=D(a),f=i(4),u=D(f),c=i(16),d=D(c),h=i(25),p=D(h),m=i(24),y=D(m),v=i(35),_=D(v),b=i(6),g=D(b),w=i(22),x=D(w),I=i(7),E=D(I),S=i(55),k=D(S),A=i(42),T=D(A),R=i(23),N=D(R);function D(P){return P&&P.__esModule?P:{default:P}}l.default.register({"blots/block":u.default,"blots/block/embed":f.BlockEmbed,"blots/break":d.default,"blots/container":p.default,"blots/cursor":y.default,"blots/embed":_.default,"blots/inline":g.default,"blots/scroll":x.default,"blots/text":E.default,"modules/clipboard":k.default,"modules/history":T.default,"modules/keyboard":N.default}),o.default.register(u.default,d.default,y.default,g.default,x.default,E.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?f=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?f=document.createElement(l):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,f){var u=this.isolate(l,f);u.remove()},a.prototype.formatAt=function(l,f,u,c){var d=this.isolate(l,f);if(s.query(u,s.Scope.BLOT)!=null&&c)d.wrap(u,c);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var h=s.create(this.statics.scope);d.wrap(h),h.format(u,c)}},a.prototype.insertAt=function(l,f,u){var c=u==null?s.create("text",f):s.create(f,u),d=this.split(l);this.parent.insertBefore(c,d)},a.prototype.insertInto=function(l,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,f),f!=null&&(u=f.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},a.prototype.isolate=function(l,f){var u=this.split(l);return u.split(f),u},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,f){var u=typeof l=="string"?s.create(l,f):l;return u.replace(this),u},a.prototype.split=function(l,f){return l===0?this:this.next},a.prototype.update=function(l,f){},a.prototype.wrap=function(l,f){var u=typeof l=="string"?s.create(l,f):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),f=function(){function u(c){this.attributes={},this.domNode=c,this.build()}return u.prototype.attribute=function(c,d){d?c.add(this.domNode,d)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},u.prototype.build=function(){var c=this;this.attributes={};var d=s.default.keys(this.domNode),h=o.default.keys(this.domNode),p=a.default.keys(this.domNode);d.concat(h).concat(p).forEach(function(m){var y=l.query(m,l.Scope.ATTRIBUTE);y instanceof s.default&&(c.attributes[y.attrName]=y)})},u.prototype.copy=function(c){var d=this;Object.keys(this.attributes).forEach(function(h){var p=d.attributes[h].value(d.domNode);c.format(h,p)})},u.prototype.move=function(c){var d=this;this.copy(c),Object.keys(this.attributes).forEach(function(h){d.attributes[h].remove(d.domNode)}),this.attributes={}},u.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(d,h){return d[h]=c.attributes[h].value(c.domNode),d},{})},u}();r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(f,u){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(d){return d.indexOf(u+"-")===0})}var l=function(f){s(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},u.prototype.add=function(c,d){return this.canAdd(c,d)?(this.remove(c),c.classList.add(this.keyName+"-"+d),!0):!1},u.prototype.remove=function(c){var d=a(c,this.keyName);d.forEach(function(h){c.classList.remove(h)}),c.classList.length===0&&c.removeAttribute("class")},u.prototype.value=function(c){var d=a(c,this.keyName)[0]||"",h=d.slice(this.keyName.length+1);return this.canAdd(c,h)?h:""},u}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(f){var u=f.split("-"),c=u.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return u[0]+c}var l=function(f){s(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(d){var h=d.split(":");return h[0].trim()})},u.prototype.add=function(c,d){return this.canAdd(c,d)?(c.style[a(this.keyName)]=d,!0):!1},u.prototype.remove=function(c){c.style[a(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},u.prototype.value=function(c){var d=c.style[a(this.keyName)];return this.canAdd(c,d)?d:""},u}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,u,c){return u&&l(f.prototype,u),c&&l(f,c),f}}();function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){o(this,l),this.quill=f,this.options=u,this.modules={}}return s(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(c){u.modules[c]==null&&u.addModule(c)})}},{key:"addModule",value:function(u){var c=this.quill.constructor.import("modules/"+u);return this.modules[u]=new c(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),o=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:v(x,b,g)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(g)}},a=i(0),l=c(a),f=i(7),u=c(f);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function p(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var m="\uFEFF",y=function(v){p(_,v);function _(b){d(this,_);var g=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(m),g.rightGuard=document.createTextNode(m),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return s(_,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,x=void 0,I=g.data.split(m).join("");if(g===this.leftGuard)if(this.prev instanceof u.default){var E=this.prev.length();this.prev.insertAt(E,I),w={startNode:this.prev.domNode,startOffset:E+I.length}}else x=document.createTextNode(I),this.parent.insertBefore(l.default.create(x),this),w={startNode:x,startOffset:I.length};else g===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,I),w={startNode:this.next.domNode,startOffset:I.length}):(x=document.createTextNode(I),this.parent.insertBefore(l.default.create(x),this.next),w={startNode:x,startOffset:I.length}));return g.data=m,w}},{key:"update",value:function(g,w){var x=this;g.forEach(function(I){if(I.type==="characterData"&&(I.target===x.leftGuard||I.target===x.rightGuard)){var E=x.restore(I.target);E&&(w.range=E)}})}}]),_}(l.default.Embed);r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new o.default.Attributor.Attribute("align","align",l),u=new o.default.Attributor.Class("align","ql-align",l),c=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=f,r.AlignClass=u,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(c){return c&&c.__esModule?c:{default:c}}var f=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=f,r.BackgroundStyle=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},f=new o.default.Attributor.Attribute("direction","dir",l),u=new o.default.Attributor.Class("direction","ql-direction",l),c=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=f,r.DirectionClass=u,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),o=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:v(x,b,g)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(g)}},a=i(0),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function u(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function c(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new l.default.Attributor.Class("font","ql-font",h),m=function(v){d(_,v);function _(){return u(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(g){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),y=new m("font","font-family",h);r.FontStyle=y,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(u){return u&&u.__esModule?u:{default:u}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=f},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function b(g,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,w,x){return w&&b(g.prototype,w),x&&b(g,x),g}}(),o=i(0),a=d(o),l=i(5),f=d(l),u=i(9),c=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function m(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=function(b){m(g,b);function g(w,x){h(this,g);var I=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,x));return I.lastRecorded=0,I.ignoreChange=!1,I.clear(),I.quill.on(f.default.events.EDITOR_CHANGE,function(E,S,k,A){E!==f.default.events.TEXT_CHANGE||I.ignoreChange||(!I.options.userOnly||A===f.default.sources.USER?I.record(S,k):I.transform(S))}),I.quill.keyboard.addBinding({key:"Z",shortKey:!0},I.undo.bind(I)),I.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},I.redo.bind(I)),/Win/i.test(navigator.platform)&&I.quill.keyboard.addBinding({key:"Y",shortKey:!0},I.redo.bind(I)),I}return s(g,[{key:"change",value:function(x,I){if(this.stack[x].length!==0){var E=this.stack[x].pop();this.stack[I].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[x],f.default.sources.USER),this.ignoreChange=!1;var S=_(E[x]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,I){if(x.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(I),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var k=this.stack.undo.pop();E=E.compose(k.undo),x=k.redo.compose(x)}else this.lastRecorded=S;this.stack.undo.push({redo:x,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(I){I.undo=x.transform(I.undo,!0),I.redo=x.transform(I.redo,!0)}),this.stack.redo.forEach(function(I){I.undo=x.transform(I.undo,!0),I.redo=x.transform(I.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(c.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var g=b.ops[b.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function _(b){var g=b.reduce(function(x,I){return x+=I.delete||0,x},0),w=b.length()-g;return v(b)&&(w-=1),w}r.default=y,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function V(M,W){for(var z=0;z<W.length;z++){var j=W[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}return function(M,W,z){return W&&V(M.prototype,W),z&&V(M,z),M}}(),o=function V(M,W,z){M===null&&(M=Function.prototype);var j=Object.getOwnPropertyDescriptor(M,W);if(j===void 0){var F=Object.getPrototypeOf(M);return F===null?void 0:V(F,W,z)}else{if("value"in j)return j.value;var J=j.get;return J===void 0?void 0:J.call(z)}},a=i(3),l=S(a),f=i(2),u=S(f),c=i(8),d=S(c),h=i(23),p=S(h),m=i(34),y=S(m),v=i(59),_=S(v),b=i(60),g=S(b),w=i(28),x=S(w),I=i(61),E=S(I);function S(V){return V&&V.__esModule?V:{default:V}}function k(V,M){if(!(V instanceof M))throw new TypeError("Cannot call a class as a function")}function A(V,M){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:V}function T(V,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);V.prototype=Object.create(M&&M.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(V,M):V.__proto__=M)}var R=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],P=["1","2","3",!1],C=["small",!1,"large","huge"],G=function(V){T(M,V);function M(W,z){k(this,M);var j=A(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,W,z)),F=function J(K){if(!document.body.contains(W.root))return document.body.removeEventListener("click",J);j.tooltip!=null&&!j.tooltip.root.contains(K.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(se){se.container.contains(K.target)||se.close()})};return W.emitter.listenDOM("click",document.body,F),j}return s(M,[{key:"addModule",value:function(z){var j=o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(z,j){z.forEach(function(F){var J=F.getAttribute("class")||"";J.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),j[K]!=null))if(K==="direction")F.innerHTML=j[K][""]+j[K].rtl;else if(typeof j[K]=="string")F.innerHTML=j[K];else{var se=F.value||"";se!=null&&j[K][se]&&(F.innerHTML=j[K][se])}})})}},{key:"buildPickers",value:function(z,j){var F=this;this.pickers=z.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&$(K,R),new g.default(K,j.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var se=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&$(K,N,se==="background"?"#ffffff":"#000000"),new _.default(K,j[se])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?$(K,D):K.classList.contains("ql-header")?$(K,P):K.classList.contains("ql-size")&&$(K,C)),new x.default(K)});var J=function(){F.pickers.forEach(function(se){se.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,J)}}]),M}(y.default);G.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var z=new FileReader;z.onload=function(j){var F=M.quill.getSelection(!0);M.quill.updateContents(new u.default().retain(F.index).delete(F.length).insert({image:j.target.result}),d.default.sources.USER),M.quill.setSelection(F.index+1,d.default.sources.SILENT),W.value=""},z.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(V){T(M,V);function M(W,z){k(this,M);var j=A(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,W,z));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return s(M,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(j){p.default.match(j,"enter")?(z.save(),j.preventDefault()):p.default.match(j,"escape")&&(z.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":z=B(z);case"formula":{if(!z)break;var F=this.quill.getSelection(!0);if(F!=null){var J=F.index+F.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",d.default.sources.USER),this.quill.setSelection(J+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),M}(E.default);function B(V){var M=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return M?(M[1]||"https")+"://www.youtube.com/embed/"+M[2]+"?showinfo=0":(M=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(M[1]||"https")+"://player.vimeo.com/video/"+M[2]+"/":V}function $(V,M){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;M.forEach(function(z){var j=document.createElement("option");z===W?j.setAttribute("selected","selected"):j.setAttribute("value",z),V.appendChild(j)})}r.BaseTooltip=H,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,f=this.iterator();l=f();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,f=this.head;f!=null;){if(f===a)return l;l+=f.length(),f=f.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var f,u=this.iterator();f=u();){var c=f.length();if(a<c||l&&a===c&&(f.next==null||f.next.length()!==0))return[f,a];a-=c}return[null,0]},o.prototype.forEach=function(a){for(var l,f=this.iterator();l=f();)a(l)},o.prototype.forEachAt=function(a,l,f){if(!(l<=0))for(var u=this.find(a),c=u[0],d=u[1],h,p=a-d,m=this.iterator(c);(h=m())&&p<a+l;){var y=h.length();a>p?f(h,a-p,Math.min(l,p+y-a)):f(h,0,Math.min(y,a+l-p)),p+=y}},o.prototype.map=function(a){return this.reduce(function(l,f){return l.push(a(f)),l},[])},o.prototype.reduce=function(a,l){for(var f,u=this.iterator();f=u();)l=a(l,f);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,u=function(c){s(d,c);function d(h){var p=c.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(m){p.update(m)}),p.observer.observe(p.domNode,l),p.attach(),p}return d.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(m){m.remove()}):c.prototype.deleteAt.call(this,h,p)},d.prototype.formatAt=function(h,p,m,y){this.update(),c.prototype.formatAt.call(this,h,p,m,y)},d.prototype.insertAt=function(h,p,m){this.update(),c.prototype.insertAt.call(this,h,p,m)},d.prototype.optimize=function(h,p){var m=this;h===void 0&&(h=[]),p===void 0&&(p={}),c.prototype.optimize.call(this,p);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var v=function(w,x){x===void 0&&(x=!0),!(w==null||w===m)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),x&&v(w.parent))},_=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof o.default&&w.children.forEach(_),w.optimize(p))},b=h,g=0;b.length>0;g+=1){if(g>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var x=a.find(w.target,!0);x!=null&&(x.domNode===w.target&&(w.type==="childList"?(v(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(I){var E=a.find(I,!1);v(E,!1),E instanceof o.default&&E.children.forEach(function(S){v(S,!1)})})):w.type==="attributes"&&v(x.prev)),v(x))}),this.children.forEach(_),b=[].slice.call(this.observer.takeRecords()),y=b.slice();y.length>0;)h.push(y.pop())}},d.prototype.update=function(h,p){var m=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(y){var v=a.find(y.target,!0);return v==null?null:v.domNode[a.DATA_KEY].mutations==null?(v.domNode[a.DATA_KEY].mutations=[y],v):(v.domNode[a.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===m||y.domNode[a.DATA_KEY]==null||y.update(y.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(h,p)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(u,c){if(Object.keys(u).length!==Object.keys(c).length)return!1;for(var d in u)if(u[d]!==c[d])return!1;return!0}var f=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){if(d.tagName!==c.tagName)return u.formats.call(this,d)},c.prototype.format=function(d,h){var p=this;d===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof o.default||(m=m.wrap(c.blotName,!0)),p.attributes.copy(m)}),this.unwrap()):u.prototype.format.call(this,d,h)},c.prototype.formatAt=function(d,h,p,m){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var y=this.isolate(d,h);y.format(p,m)}else u.prototype.formatAt.call(this,d,h,p,m)},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof c&&p.prev===this&&l(h,p.formats())&&(p.moveChildren(this),p.remove())},c.blotName="inline",c.scope=a.Scope.INLINE_BLOT,c.tagName="SPAN",c}(o.default);r.default=f},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(f){s(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.formats=function(c){var d=a.query(u.blotName).tagName;if(c.tagName!==d)return f.formats.call(this,c)},u.prototype.format=function(c,d){a.query(c,a.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!d?this.replaceWith(u.blotName):f.prototype.format.call(this,c,d))},u.prototype.formatAt=function(c,d,h,p){a.query(h,a.Scope.BLOCK)!=null?this.format(h,p):f.prototype.formatAt.call(this,c,d,h,p)},u.prototype.insertAt=function(c,d,h){if(h==null||a.query(d,a.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,d,h);else{var p=this.split(c),m=a.create(d,h);p.parent.insertBefore(m,p)}},u.prototype.update=function(c,d){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,d)},u.blotName="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="P",u}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var c in u)u.hasOwnProperty(c)&&(f[c]=u[c])};return function(f,u){l(f,u);function c(){this.constructor=f}f.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.formats=function(u){},f.prototype.format=function(u,c){l.prototype.formatAt.call(this,0,this.length(),u,c)},f.prototype.formatAt=function(u,c,d,h){u===0&&c===this.length()?this.format(d,h):l.prototype.formatAt.call(this,u,c,d,h)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(f){s(u,f);function u(c){var d=f.call(this,c)||this;return d.text=d.statics.value(d.domNode),d}return u.create=function(c){return document.createTextNode(c)},u.value=function(c){var d=c.data;return d.normalize&&(d=d.normalize()),d},u.prototype.deleteAt=function(c,d){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+d)},u.prototype.index=function(c,d){return this.domNode===c?d:-1},u.prototype.insertAt=function(c,d,h){h==null?(this.text=this.text.slice(0,c)+d+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,d,h)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(c,d){return[this.domNode,c]},u.prototype.split=function(c,d){if(d===void 0&&(d=!1),!d){if(c===0)return this;if(c===this.length())return this.next}var h=a.create(this.domNode.splitText(c));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},u.prototype.update=function(c,d){var h=this;c.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=a.Scope.INLINE_BLOT,u}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var f=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>f.length)&&(l=f.length),l-=a.length;var u=f.indexOf(a,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),u=f.length>>>0,c=arguments[1],d,h=0;h<u;h++)if(d=f[h],l.call(c,d,h,f))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(g,w,x){if(g==w)return g?[[o,g]]:[];(x<0||g.length<x)&&(x=null);var I=c(g,w),E=g.substring(0,I);g=g.substring(I),w=w.substring(I),I=d(g,w);var S=g.substring(g.length-I);g=g.substring(0,g.length-I),w=w.substring(0,w.length-I);var k=l(g,w);return E&&k.unshift([o,E]),S&&k.push([o,S]),p(k),x!=null&&(k=v(k,x)),k=_(k),k}function l(g,w){var x;if(!g)return[[s,w]];if(!w)return[[i,g]];var I=g.length>w.length?g:w,E=g.length>w.length?w:g,S=I.indexOf(E);if(S!=-1)return x=[[s,I.substring(0,S)],[o,E],[s,I.substring(S+E.length)]],g.length>w.length&&(x[0][0]=x[2][0]=i),x;if(E.length==1)return[[i,g],[s,w]];var k=h(g,w);if(k){var A=k[0],T=k[1],R=k[2],N=k[3],D=k[4],P=a(A,R),C=a(T,N);return P.concat([[o,D]],C)}return f(g,w)}function f(g,w){for(var x=g.length,I=w.length,E=Math.ceil((x+I)/2),S=E,k=2*E,A=new Array(k),T=new Array(k),R=0;R<k;R++)A[R]=-1,T[R]=-1;A[S+1]=0,T[S+1]=0;for(var N=x-I,D=N%2!=0,P=0,C=0,G=0,H=0,B=0;B<E;B++){for(var $=-B+P;$<=B-C;$+=2){var V=S+$,M;$==-B||$!=B&&A[V-1]<A[V+1]?M=A[V+1]:M=A[V-1]+1;for(var W=M-$;M<x&&W<I&&g.charAt(M)==w.charAt(W);)M++,W++;if(A[V]=M,M>x)C+=2;else if(W>I)P+=2;else if(D){var z=S+N-$;if(z>=0&&z<k&&T[z]!=-1){var j=x-T[z];if(M>=j)return u(g,w,M,W)}}}for(var F=-B+G;F<=B-H;F+=2){var z=S+F,j;F==-B||F!=B&&T[z-1]<T[z+1]?j=T[z+1]:j=T[z-1]+1;for(var J=j-F;j<x&&J<I&&g.charAt(x-j-1)==w.charAt(I-J-1);)j++,J++;if(T[z]=j,j>x)H+=2;else if(J>I)G+=2;else if(!D){var V=S+N-F;if(V>=0&&V<k&&A[V]!=-1){var M=A[V],W=S+M-V;if(j=x-j,M>=j)return u(g,w,M,W)}}}}return[[i,g],[s,w]]}function u(g,w,x,I){var E=g.substring(0,x),S=w.substring(0,I),k=g.substring(x),A=w.substring(I),T=a(E,S),R=a(k,A);return T.concat(R)}function c(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var x=0,I=Math.min(g.length,w.length),E=I,S=0;x<E;)g.substring(S,E)==w.substring(S,E)?(x=E,S=x):I=E,E=Math.floor((I-x)/2+x);return E}function d(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var x=0,I=Math.min(g.length,w.length),E=I,S=0;x<E;)g.substring(g.length-E,g.length-S)==w.substring(w.length-E,w.length-S)?(x=E,S=x):I=E,E=Math.floor((I-x)/2+x);return E}function h(g,w){var x=g.length>w.length?g:w,I=g.length>w.length?w:g;if(x.length<4||I.length*2<x.length)return null;function E(C,G,H){for(var B=C.substring(H,H+Math.floor(C.length/4)),$=-1,V="",M,W,z,j;($=G.indexOf(B,$+1))!=-1;){var F=c(C.substring(H),G.substring($)),J=d(C.substring(0,H),G.substring(0,$));V.length<J+F&&(V=G.substring($-J,$)+G.substring($,$+F),M=C.substring(0,H-J),W=C.substring(H+F),z=G.substring(0,$-J),j=G.substring($+F))}return V.length*2>=C.length?[M,W,z,j,V]:null}var S=E(x,I,Math.ceil(x.length/4)),k=E(x,I,Math.ceil(x.length/2)),A;if(!S&&!k)return null;k?S?A=S[4].length>k[4].length?S:k:A=k:A=S;var T,R,N,D;g.length>w.length?(T=A[0],R=A[1],N=A[2],D=A[3]):(N=A[0],D=A[1],T=A[2],R=A[3]);var P=A[4];return[T,R,N,D,P]}function p(g){g.push([o,""]);for(var w=0,x=0,I=0,E="",S="",k;w<g.length;)switch(g[w][0]){case s:I++,S+=g[w][1],w++;break;case i:x++,E+=g[w][1],w++;break;case o:x+I>1?(x!==0&&I!==0&&(k=c(S,E),k!==0&&(w-x-I>0&&g[w-x-I-1][0]==o?g[w-x-I-1][1]+=S.substring(0,k):(g.splice(0,0,[o,S.substring(0,k)]),w++),S=S.substring(k),E=E.substring(k)),k=d(S,E),k!==0&&(g[w][1]=S.substring(S.length-k)+g[w][1],S=S.substring(0,S.length-k),E=E.substring(0,E.length-k))),x===0?g.splice(w-I,x+I,[s,S]):I===0?g.splice(w-x,x+I,[i,E]):g.splice(w-x-I,x+I,[i,E],[s,S]),w=w-x-I+(x?1:0)+(I?1:0)+1):w!==0&&g[w-1][0]==o?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,I=0,x=0,E="",S="";break}g[g.length-1][1]===""&&g.pop();var A=!1;for(w=1;w<g.length-1;)g[w-1][0]==o&&g[w+1][0]==o&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),A=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),A=!0)),w++;A&&p(g)}var m=a;m.INSERT=s,m.DELETE=i,m.EQUAL=o,n.exports=m;function y(g,w){if(w===0)return[o,g];for(var x=0,I=0;I<g.length;I++){var E=g[I];if(E[0]===i||E[0]===o){var S=x+E[1].length;if(w===S)return[I+1,g];if(w<S){g=g.slice();var k=w-x,A=[E[0],E[1].slice(0,k)],T=[E[0],E[1].slice(k)];return g.splice(I,1,A,T),[I+1,g]}else x=S}}throw new Error("cursor_pos is out of bounds!")}function v(g,w){var x=y(g,w),I=x[1],E=x[0],S=I[E],k=I[E+1];if(S==null)return g;if(S[0]!==o)return g;if(k!=null&&S[1]+k[1]===k[1]+S[1])return I.splice(E,2,k,S),b(I,E,2);if(k!=null&&k[1].indexOf(S[1])===0){I.splice(E,2,[k[0],S[1]],[0,S[1]]);var A=k[1].slice(S[1].length);return A.length>0&&I.splice(E+2,0,[k[0],A]),b(I,E,3)}else return g}function _(g){for(var w=!1,x=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},I=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},E=2;E<g.length;E+=1)g[E-2][0]===o&&I(g[E-2][1])&&g[E-1][0]===i&&x(g[E-1][1])&&g[E][0]===s&&x(g[E][1])&&(w=!0,g[E-1][1]=g[E-2][1].slice(-1)+g[E-1][1],g[E][1]=g[E-2][1].slice(-1)+g[E][1],g[E-2][1]=g[E-2][1].slice(0,-1));if(!w)return g;for(var S=[],E=0;E<g.length;E+=1)g[E][1].length>0&&S.push(g[E]);return S}function b(g,w,x){for(var I=w+x-1;I>=0&&I>=w-1;I--)if(I+1<g.length){var E=g[I],S=g[I+1];E[0]===S[1]&&g.splice(I,2,[E[0],E[1]+S[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(f,u,c){this.fn=f,this.context=u,this.once=c||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)i.call(c,d)&&u.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},l.prototype.listeners=function(u,c){var d=s?s+u:u,h=this._events[d];if(c)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},l.prototype.emit=function(u,c,d,h,p,m){var y=s?s+u:u;if(!this._events[y])return!1;var v=this._events[y],_=arguments.length,b,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,m),!0}for(g=1,b=new Array(_-1);g<_;g++)b[g-1]=arguments[g];v.fn.apply(v.context,b)}else{var w=v.length,x;for(g=0;g<w;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),_){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,c);break;case 3:v[g].fn.call(v[g].context,c,d);break;case 4:v[g].fn.call(v[g].context,c,d,h);break;default:if(!b)for(x=1,b=new Array(_-1);x<_;x++)b[x-1]=arguments[x];v[g].fn.apply(v[g].context,b)}}return!0},l.prototype.on=function(u,c,d){var h=new a(c,d||this),p=s?s+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.once=function(u,c,d){var h=new a(c,d||this,!0),p=s?s+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.removeListener=function(u,c,d,h){var p=s?s+u:u;if(!this._events[p])return this;if(!c)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var y=0,v=[],_=m.length;y<_;y++)(m[y].fn!==c||h&&!m[y].once||d&&m[y].context!==d)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},l.prototype.removeAllListeners=function(u){var c;return u?(c=s?s+u:u,this._events[c]&&(--this._eventsCount===0?this._events=new o:delete this._events[c])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(te,ie){var oe=[],re=!0,pe=!1,ve=void 0;try{for(var Ee=te[Symbol.iterator](),Re;!(re=(Re=Ee.next()).done)&&(oe.push(Re.value),!(ie&&oe.length===ie));re=!0);}catch($e){pe=!0,ve=$e}finally{try{!re&&Ee.return&&Ee.return()}finally{if(pe)throw ve}}return oe}return function(te,ie){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return U(te,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function U(te,ie){for(var oe=0;oe<ie.length;oe++){var re=ie[oe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(te,re.key,re)}}return function(te,ie,oe){return ie&&U(te.prototype,ie),oe&&U(te,oe),te}}(),l=i(3),f=T(l),u=i(2),c=T(u),d=i(0),h=T(d),p=i(5),m=T(p),y=i(10),v=T(y),_=i(9),b=T(_),g=i(36),w=i(37),x=i(13),I=T(x),E=i(26),S=i(38),k=i(39),A=i(40);function T(U){return U&&U.__esModule?U:{default:U}}function R(U,te,ie){return te in U?Object.defineProperty(U,te,{value:ie,enumerable:!0,configurable:!0,writable:!0}):U[te]=ie,U}function N(U,te){if(!(U instanceof te))throw new TypeError("Cannot call a class as a function")}function D(U,te){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:U}function P(U,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);U.prototype=Object.create(te&&te.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(U,te):U.__proto__=te)}var C=(0,v.default)("quill:clipboard"),G="__ql-matcher",H=[[Node.TEXT_NODE,ee],[Node.TEXT_NODE,Q],["br",ce],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,fe],["li",q],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",Z]],B=[g.AlignAttribute,S.DirectionAttribute].reduce(function(U,te){return U[te.keyName]=te,U},{}),$=[g.AlignStyle,w.BackgroundStyle,E.ColorStyle,S.DirectionStyle,k.FontStyle,A.SizeStyle].reduce(function(U,te){return U[te.keyName]=te,U},{}),V=function(U){P(te,U);function te(ie,oe){N(this,te);var re=D(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,ie,oe));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],H.concat(re.options.matchers).forEach(function(pe){var ve=o(pe,2),Ee=ve[0],Re=ve[1];!oe.matchVisual&&Re===Y||re.addMatcher(Ee,Re)}),re}return a(te,[{key:"addMatcher",value:function(oe,re){this.matchers.push([oe,re])}},{key:"convert",value:function(oe){if(typeof oe=="string")return this.container.innerHTML=oe.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[I.default.blotName]){var pe=this.container.innerText;return this.container.innerHTML="",new c.default().insert(pe,R({},I.default.blotName,re[I.default.blotName]))}var ve=this.prepareMatching(),Ee=o(ve,2),Re=Ee[0],$e=Ee[1],Pe=F(this.container,Re,$e);return z(Pe,`
`)&&Pe.ops[Pe.ops.length-1].attributes==null&&(Pe=Pe.compose(new c.default().retain(Pe.length()-1).delete(1))),C.log("convert",this.container.innerHTML,Pe),this.container.innerHTML="",Pe}},{key:"dangerouslyPasteHTML",value:function(oe,re){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof oe=="string")this.quill.setContents(this.convert(oe),re),this.quill.setSelection(0,m.default.sources.SILENT);else{var ve=this.convert(re);this.quill.updateContents(new c.default().retain(oe).concat(ve),pe),this.quill.setSelection(oe+ve.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(oe){var re=this;if(!(oe.defaultPrevented||!this.quill.isEnabled())){var pe=this.quill.getSelection(),ve=new c.default().retain(pe.index),Ee=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ve=ve.concat(re.convert()).delete(pe.length),re.quill.updateContents(ve,m.default.sources.USER),re.quill.setSelection(ve.length()-pe.length,m.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=Ee,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var oe=this,re=[],pe=[];return this.matchers.forEach(function(ve){var Ee=o(ve,2),Re=Ee[0],$e=Ee[1];switch(Re){case Node.TEXT_NODE:pe.push($e);break;case Node.ELEMENT_NODE:re.push($e);break;default:[].forEach.call(oe.container.querySelectorAll(Re),function(Pe){Pe[G]=Pe[G]||[],Pe[G].push($e)});break}}),[re,pe]}}]),te}(b.default);V.DEFAULTS={matchers:[],matchVisual:!0};function M(U,te,ie){return(typeof te>"u"?"undefined":s(te))==="object"?Object.keys(te).reduce(function(oe,re){return M(oe,re,te[re])},U):U.reduce(function(oe,re){return re.attributes&&re.attributes[te]?oe.push(re):oe.insert(re.insert,(0,f.default)({},R({},te,ie),re.attributes))},new c.default)}function W(U){if(U.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return U[te]||(U[te]=window.getComputedStyle(U))}function z(U,te){for(var ie="",oe=U.ops.length-1;oe>=0&&ie.length<te.length;--oe){var re=U.ops[oe];if(typeof re.insert!="string")break;ie=re.insert+ie}return ie.slice(-1*te.length)===te}function j(U){if(U.childNodes.length===0)return!1;var te=W(U);return["block","list-item"].indexOf(te.display)>-1}function F(U,te,ie){return U.nodeType===U.TEXT_NODE?ie.reduce(function(oe,re){return re(U,oe)},new c.default):U.nodeType===U.ELEMENT_NODE?[].reduce.call(U.childNodes||[],function(oe,re){var pe=F(re,te,ie);return re.nodeType===U.ELEMENT_NODE&&(pe=te.reduce(function(ve,Ee){return Ee(re,ve)},pe),pe=(re[G]||[]).reduce(function(ve,Ee){return Ee(re,ve)},pe)),oe.concat(pe)},new c.default):new c.default}function J(U,te,ie){return M(ie,U,!0)}function K(U,te){var ie=h.default.Attributor.Attribute.keys(U),oe=h.default.Attributor.Class.keys(U),re=h.default.Attributor.Style.keys(U),pe={};return ie.concat(oe).concat(re).forEach(function(ve){var Ee=h.default.query(ve,h.default.Scope.ATTRIBUTE);Ee!=null&&(pe[Ee.attrName]=Ee.value(U),pe[Ee.attrName])||(Ee=B[ve],Ee!=null&&(Ee.attrName===ve||Ee.keyName===ve)&&(pe[Ee.attrName]=Ee.value(U)||void 0),Ee=$[ve],Ee!=null&&(Ee.attrName===ve||Ee.keyName===ve)&&(Ee=$[ve],pe[Ee.attrName]=Ee.value(U)||void 0))}),Object.keys(pe).length>0&&(te=M(te,pe)),te}function se(U,te){var ie=h.default.query(U);if(ie==null)return te;if(ie.prototype instanceof h.default.Embed){var oe={},re=ie.value(U);re!=null&&(oe[ie.blotName]=re,te=new c.default().insert(oe,ie.formats(U)))}else typeof ie.formats=="function"&&(te=M(te,ie.blotName,ie.formats(U)));return te}function ce(U,te){return z(te,`
`)||te.insert(`
`),te}function Z(){return new c.default}function q(U,te){var ie=h.default.query(U);if(ie==null||ie.blotName!=="list-item"||!z(te,`
`))return te;for(var oe=-1,re=U.parentNode;!re.classList.contains("ql-clipboard");)(h.default.query(re)||{}).blotName==="list"&&(oe+=1),re=re.parentNode;return oe<=0?te:te.compose(new c.default().retain(te.length()-1).retain(1,{indent:oe}))}function Q(U,te){return z(te,`
`)||(j(U)||te.length()>0&&U.nextSibling&&j(U.nextSibling))&&te.insert(`
`),te}function Y(U,te){if(j(U)&&U.nextElementSibling!=null&&!z(te,`

`)){var ie=U.offsetHeight+parseFloat(W(U).marginTop)+parseFloat(W(U).marginBottom);U.nextElementSibling.offsetTop>U.offsetTop+ie*1.5&&te.insert(`
`)}return te}function fe(U,te){var ie={},oe=U.style||{};return oe.fontStyle&&W(U).fontStyle==="italic"&&(ie.italic=!0),oe.fontWeight&&(W(U).fontWeight.startsWith("bold")||parseInt(W(U).fontWeight)>=700)&&(ie.bold=!0),Object.keys(ie).length>0&&(te=M(te,ie)),parseFloat(oe.textIndent||0)>0&&(te=new c.default().insert("	").concat(te)),te}function ee(U,te){var ie=U.data;if(U.parentNode.tagName==="O:P")return te.insert(ie.trim());if(ie.trim().length===0&&U.parentNode.classList.contains("ql-clipboard"))return te;if(!W(U.parentNode).whiteSpace.startsWith("pre")){var oe=function(pe,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&pe?" ":ve};ie=ie.replace(/\r\n/g," ").replace(/\n/g," "),ie=ie.replace(/\s\s+/g,oe.bind(oe,!0)),(U.previousSibling==null&&j(U.parentNode)||U.previousSibling!=null&&j(U.previousSibling))&&(ie=ie.replace(/^\s+/,oe.bind(oe,!1))),(U.nextSibling==null&&j(U.parentNode)||U.nextSibling!=null&&j(U.nextSibling))&&(ie=ie.replace(/\s+$/,oe.bind(oe,!1)))}return te.insert(ie)}r.default=V,r.matchAttributor=K,r.matchBlot=se,r.matchNewline=Q,r.matchSpacing=Y,r.matchText=ee},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),o=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"optimize",value:function(v){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(T,R){var N=[],D=!0,P=!1,C=void 0;try{for(var G=T[Symbol.iterator](),H;!(D=(H=G.next()).done)&&(N.push(H.value),!(R&&N.length===R));D=!0);}catch(B){P=!0,C=B}finally{try{!D&&G.return&&G.return()}finally{if(P)throw C}}return N}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(T,R){for(var N=0;N<R.length;N++){var D=R[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,R,N){return R&&A(T.prototype,R),N&&A(T,N),T}}(),a=i(2),l=v(a),f=i(0),u=v(f),c=i(5),d=v(c),h=i(10),p=v(h),m=i(9),y=v(m);function v(A){return A&&A.__esModule?A:{default:A}}function _(A,T,R){return T in A?Object.defineProperty(A,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[T]=R,A}function b(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function w(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var x=(0,p.default)("quill:toolbar"),I=function(A){w(T,A);function T(R,N){b(this,T);var D=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,N));if(Array.isArray(D.options.container)){var P=document.createElement("div");S(P,D.options.container),R.container.parentNode.insertBefore(P,R.container),D.container=P}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var C;return C=x.error("Container required for toolbar",D.options),g(D,C)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(G){D.addHandler(G,D.options.handlers[G])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(G){D.attach(G)}),D.quill.on(d.default.events.EDITOR_CHANGE,function(G,H){G===d.default.events.SELECTION_CHANGE&&D.update(H)}),D.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var G=D.quill.selection.getRange(),H=s(G,1),B=H[0];D.update(B)}),D}return o(T,[{key:"addHandler",value:function(N,D){this.handlers[N]=D}},{key:"attach",value:function(N){var D=this,P=[].find.call(N.classList,function(G){return G.indexOf("ql-")===0});if(P){if(P=P.slice(3),N.tagName==="BUTTON"&&N.setAttribute("type","button"),this.handlers[P]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[P]==null){x.warn("ignoring attaching to disabled format",P,N);return}if(u.default.query(P)==null){x.warn("ignoring attaching to nonexistent format",P,N);return}}var C=N.tagName==="SELECT"?"change":"click";N.addEventListener(C,function(G){var H=void 0;if(N.tagName==="SELECT"){if(N.selectedIndex<0)return;var B=N.options[N.selectedIndex];B.hasAttribute("selected")?H=!1:H=B.value||!1}else N.classList.contains("ql-active")?H=!1:H=N.value||!N.hasAttribute("value"),G.preventDefault();D.quill.focus();var $=D.quill.selection.getRange(),V=s($,1),M=V[0];if(D.handlers[P]!=null)D.handlers[P].call(D,H);else if(u.default.query(P).prototype instanceof u.default.Embed){if(H=prompt("Enter "+P),!H)return;D.quill.updateContents(new l.default().retain(M.index).delete(M.length).insert(_({},P,H)),d.default.sources.USER)}else D.quill.format(P,H,d.default.sources.USER);D.update(M)}),this.controls.push([P,N])}}},{key:"update",value:function(N){var D=N==null?{}:this.quill.getFormat(N);this.controls.forEach(function(P){var C=s(P,2),G=C[0],H=C[1];if(H.tagName==="SELECT"){var B=void 0;if(N==null)B=null;else if(D[G]==null)B=H.querySelector("option[selected]");else if(!Array.isArray(D[G])){var $=D[G];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),B=H.querySelector('option[value="'+$+'"]')}B==null?(H.value="",H.selectedIndex=-1):B.selected=!0}else if(N==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var V=D[G]===H.getAttribute("value")||D[G]!=null&&D[G].toString()===H.getAttribute("value")||D[G]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",V)}else H.classList.toggle("ql-active",D[G]!=null)})}}]),T}(y.default);I.DEFAULTS={};function E(A,T,R){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+T),R!=null&&(N.value=R),A.appendChild(N)}function S(A,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(R){var N=document.createElement("span");N.classList.add("ql-formats"),R.forEach(function(D){if(typeof D=="string")E(N,D);else{var P=Object.keys(D)[0],C=D[P];Array.isArray(C)?k(N,P,C):E(N,P,C)}}),A.appendChild(N)})}function k(A,T,R){var N=document.createElement("select");N.classList.add("ql-"+T),R.forEach(function(D){var P=document.createElement("option");D!==!1?P.setAttribute("value",D):P.setAttribute("selected","selected"),N.appendChild(P)}),A.appendChild(N)}I.DEFAULTS={container:null,handlers:{clean:function(){var T=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var N=this.quill.getFormat();Object.keys(N).forEach(function(D){u.default.query(D,u.default.Scope.INLINE)!=null&&T.quill.format(D,!1)})}else this.quill.removeFormat(R,d.default.sources.USER)},direction:function(T){var R=this.quill.getFormat().align;T==="rtl"&&R==null?this.quill.format("align","right",d.default.sources.USER):!T&&R==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",T,d.default.sources.USER)},indent:function(T){var R=this.quill.getSelection(),N=this.quill.getFormat(R),D=parseInt(N.indent||0);if(T==="+1"||T==="-1"){var P=T==="+1"?1:-1;N.direction==="rtl"&&(P*=-1),this.quill.format("indent",D+P,d.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,d.default.sources.USER)},list:function(T){var R=this.quill.getSelection(),N=this.quill.getFormat(R);T==="check"?N.list==="checked"||N.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",T,d.default.sources.USER)}}},r.default=I,r.addControls=S},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),o=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,v){u(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return _.label.innerHTML=v,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),_}return s(m,[{key:"buildItem",value:function(v){var _=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,v);return _.style.backgroundColor=v.getAttribute("value")||"",_}},{key:"selectItem",value:function(v,_){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,_);var b=this.label.querySelector(".ql-color-label"),g=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=g:b.style.fill=g)}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),o=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,v){u(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return s(m,[{key:"selectItem",value:function(v,_){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,_),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,u,c){return u&&l(f.prototype,u),c&&l(f,c),f}}();function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){var c=this;o(this,l),this.quill=f,this.boundsContainer=u||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var c=u.left+u.width/2-this.root.offsetWidth/2,d=u.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),m=0;if(p.right>h.right&&(m=h.right-p.right,this.root.style.left=c+m+"px"),p.left<h.left&&(m=h.left-p.left,this.root.style.left=c+m+"px"),p.bottom>h.bottom){var y=p.bottom-p.top,v=u.bottom-u.top+y;this.root.style.top=d-v+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function k(A,T){var R=[],N=!0,D=!1,P=void 0;try{for(var C=A[Symbol.iterator](),G;!(N=(G=C.next()).done)&&(R.push(G.value),!(T&&R.length===T));N=!0);}catch(H){D=!0,P=H}finally{try{!N&&C.return&&C.return()}finally{if(D)throw P}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function k(A,T,R){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,T);if(N===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:k(D,T,R)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(R)}},a=function(){function k(A,T){for(var R=0;R<T.length;R++){var N=T[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,T,R){return T&&k(A.prototype,T),R&&k(A,R),A}}(),l=i(3),f=b(l),u=i(8),c=b(u),d=i(43),h=b(d),p=i(27),m=b(p),y=i(15),v=i(41),_=b(v);function b(k){return k&&k.__esModule?k:{default:k}}function g(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function w(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(k){x(A,k);function A(T,R){g(this,A),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=I);var N=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return N.quill.container.classList.add("ql-snow"),N}return a(A,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),_.default),this.tooltip=new S(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,D){R.handlers.link.call(R,!D.format.link)})}}]),A}(h.default);E.DEFAULTS=(0,f.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var T=this.quill.getSelection();if(T==null||T.length==0)return;var R=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var N=this.quill.theme.tooltip;N.edit("link",R)}else this.quill.format("link",!1)}}}}});var S=function(k){x(A,k);function A(T,R){g(this,A);var N=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return N.preview=N.root.querySelector("a.ql-preview"),N}return a(A,[{key:"listen",value:function(){var R=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(R.linkRange!=null){var D=R.linkRange;R.restoreFocus(),R.quill.formatText(D,"link",!1,c.default.sources.USER),delete R.linkRange}N.preventDefault(),R.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(N,D,P){if(N!=null){if(N.length===0&&P===c.default.sources.USER){var C=R.quill.scroll.descendant(m.default,N.index),G=s(C,2),H=G[0],B=G[1];if(H!=null){R.linkRange=new y.Range(N.index-B,H.length());var $=m.default.formats(H.domNode);R.preview.textContent=$,R.preview.setAttribute("href",$),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(d.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=re(s),a=i(36),l=i(38),f=i(64),u=i(65),c=re(u),d=i(66),h=re(d),p=i(67),m=re(p),y=i(37),v=i(26),_=i(39),b=i(40),g=i(56),w=re(g),x=i(68),I=re(x),E=i(27),S=re(E),k=i(69),A=re(k),T=i(70),R=re(T),N=i(71),D=re(N),P=i(72),C=re(P),G=i(73),H=re(G),B=i(13),$=re(B),V=i(74),M=re(V),W=i(75),z=re(W),j=i(57),F=re(j),J=i(41),K=re(J),se=i(28),ce=re(se),Z=i(59),q=re(Z),Q=i(60),Y=re(Q),fe=i(61),ee=re(fe),U=i(108),te=re(U),ie=i(62),oe=re(ie);function re(pe){return pe&&pe.__esModule?pe:{default:pe}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":f.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":_.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":$.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":w.default,"formats/code":B.Code,"formats/italic":I.default,"formats/link":S.default,"formats/script":A.default,"formats/strike":R.default,"formats/underline":D.default,"formats/image":C.default,"formats/video":H.default,"formats/list/item":p.ListItem,"modules/formula":M.default,"modules/syntax":z.default,"modules/toolbar":F.default,"themes/bubble":te.default,"themes/snow":oe.default,"ui/icons":K.default,"ui/picker":ce.default,"ui/icon-picker":Y.default,"ui/color-picker":q.default,"ui/tooltip":ee.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function m(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),o=function m(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var g=Object.getPrototypeOf(y);return g===null?void 0:m(g,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(0),l=f(a);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"add",value:function(_,b){if(b==="+1"||b==="-1"){var g=this.value(_)||0;b=b==="+1"?g+1:g-1}return b===0?(this.remove(_),!0):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,_,b)}},{key:"canAdd",value:function(_,b){return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,b)||o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,parseInt(b))}},{key:"value",value:function(_){return parseInt(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_))||void 0}}]),y}(l.default.Attributor.Class),p=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function h(p,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),o=i(4),a=l(o);function l(h){return h&&h.__esModule?h:{default:h}}function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),p}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function g(w,x){for(var I=0;I<x.length;I++){var E=x[I];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,x,I){return x&&g(w.prototype,x),I&&g(w,I),w}}(),o=function g(w,x,I){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,x);if(E===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:g(S,x,I)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(I)}},a=i(0),l=h(a),f=i(4),u=h(f),c=i(25),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function p(g,w,x){return w in g?Object.defineProperty(g,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[w]=x,g}function m(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function y(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function v(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var _=function(g){v(w,g);function w(){return m(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"format",value:function(I,E){I===b.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,I,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,E){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,E),this):(this.parent.unwrap(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,I,E))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:o(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,I)}}]),w}(u.default);_.blotName="list-item",_.tagName="LI";var b=function(g){v(w,g),s(w,null,[{key:"create",value:function(I){var E=I==="ordered"?"OL":"UL",S=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E);return(I==="checked"||I==="unchecked")&&S.setAttribute("data-checked",I==="checked"),S}},{key:"formats",value:function(I){if(I.tagName==="OL")return"ordered";if(I.tagName==="UL")return I.hasAttribute("data-checked")?I.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(x){m(this,w);var I=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x)),E=function(k){if(k.target.parentNode===x){var A=I.statics.formats(x),T=l.default.find(k.target);A==="checked"?T.format("list","unchecked"):A==="unchecked"&&T.format("list","checked")}};return x.addEventListener("touchstart",E),x.addEventListener("mousedown",E),I}return s(w,[{key:"format",value:function(I,E){this.children.length>0&&this.children.tail.format(I,E)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(I,E){if(I instanceof _)o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,I,E);else{var S=E==null?this.length():E.offset(this),k=this.split(S);k.parent.insertBefore(I,k)}}},{key:"optimize",value:function(I){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,I);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);I.moveChildren(E),this.appendChild(E)}o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,I)}}]),w}(d.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[_],r.ListItem=_,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),o=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),m}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),o=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(b)}},a=i(0),l=u(a),f=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["alt","height","width"],m=function(y){h(v,y);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,f.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),o=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(b)}},a=i(4),l=i(27),f=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["height","width"],m=function(y){h(v,y);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"sanitize",value:function(b){return f.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function b(g,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,w,x){return w&&b(g.prototype,w),x&&b(g,x),g}}(),o=function b(g,w,x){g===null&&(g=Function.prototype);var I=Object.getOwnPropertyDescriptor(g,w);if(I===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:b(E,w,x)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(x)}},a=i(35),l=h(a),f=i(5),u=h(f),c=i(9),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function m(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function y(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var v=function(b){y(g,b);function g(){return p(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(x){var I=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,I,{throwOnError:!1,errorColor:"#f00"}),I.setAttribute("data-value",x)),I}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),g}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var _=function(b){y(g,b),s(g,null,[{key:"register",value:function(){u.default.register(v,!0)}}]);function g(){p(this,g);var w=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(d.default);r.FormulaBlot=v,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function x(I,E){for(var S=0;S<E.length;S++){var k=E[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,E,S){return E&&x(I.prototype,E),S&&x(I,S),I}}(),o=function x(I,E,S){I===null&&(I=Function.prototype);var k=Object.getOwnPropertyDescriptor(I,E);if(k===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:x(A,E,S)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(S)}},a=i(0),l=m(a),f=i(5),u=m(f),c=i(9),d=m(c),h=i(13),p=m(h);function m(x){return x&&x.__esModule?x:{default:x}}function y(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function v(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function _(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var b=function(x){_(I,x);function I(){return y(this,I),v(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=S(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),I}(p.default);b.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(x){_(I,x),s(I,null,[{key:"register",value:function(){u.default.register(g,!0),u.default.register(b,!0)}}]);function I(E,S){y(this,I);var k=v(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,E,S));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return k.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){k.highlight(),A=null},k.options.interval)}),k.highlight(),k}return s(I,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(A){A.highlight(S.options.highlight)}),this.quill.update(u.default.sources.SILENT),k!=null&&this.quill.setSelection(k,u.default.sources.SILENT)}}}]),I}(d.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(x){var I=window.hljs.highlightAuto(x);return I.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function I(E,S,k){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,S);if(A===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:I(T,S,k)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(k)}},o=function(){function I(E,S){for(var k=0;k<S.length;k++){var A=S[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,S,k){return S&&I(E.prototype,S),k&&I(E,k),E}}(),a=i(3),l=y(a),f=i(8),u=y(f),c=i(43),d=y(c),h=i(15),p=i(41),m=y(p);function y(I){return I&&I.__esModule?I:{default:I}}function v(I,E){if(!(I instanceof E))throw new TypeError("Cannot call a class as a function")}function _(I,E){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:I}function b(I,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);I.prototype=Object.create(E&&E.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(I,E):I.__proto__=E)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(I){b(E,I);function E(S,k){v(this,E),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=g);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,k));return A.quill.container.classList.add("ql-bubble"),A}return o(E,[{key:"extendToolbar",value:function(k){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),m.default)}}]),E}(d.default);w.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(I){b(E,I);function E(S,k){v(this,E);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,k));return A.quill.on(u.default.events.EDITOR_CHANGE,function(T,R,N,D){if(T===u.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&D===u.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var P=A.quill.getLines(R.index,R.length);if(P.length===1)A.position(A.quill.getBounds(R));else{var C=P[P.length-1],G=A.quill.getIndex(C),H=Math.min(C.length()-1,R.index+R.length-G),B=A.quill.getBounds(new h.Range(G,H));A.position(B)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(E,[{key:"listen",value:function(){var k=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var A=k.quill.getSelection();A!=null&&k.position(k.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var A=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,k),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",A===0)return A;T.style.marginLeft=-1*A-T.offsetWidth/2+"px"}}]),E}(c.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=x,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(PR);var FQ=PR.exports;const Um=l0(FQ);var Ai=-1,Kr=1,dr=0;function Fu(t,e,n,r){if(t===e)return t?[[dr,t]]:[];if(n!=null){var i=qQ(t,e,n);if(i)return i}var s=q0(t,e),o=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=H0(t,e);var a=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var l=VQ(t,e);return o&&l.unshift([dr,o]),a&&l.push([dr,a]),CR(l,r),l}function VQ(t,e){var n;if(!t)return[[Kr,e]];if(!e)return[[Ai,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=r.indexOf(i);if(s!==-1)return n=[[Kr,r.substring(0,s)],[dr,i],[Kr,r.substring(s+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=Ai),n;if(i.length===1)return[[Ai,t],[Kr,e]];var o=BQ(t,e);if(o){var a=o[0],l=o[1],f=o[2],u=o[3],c=o[4],d=Fu(a,f),h=Fu(l,u);return d.concat([[dr,c]],h)}return UQ(t,e)}function UQ(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),l=new Array(o),f=0;f<o;f++)a[f]=-1,l[f]=-1;a[s+1]=0,l[s+1]=0;for(var u=n-r,c=u%2!==0,d=0,h=0,p=0,m=0,y=0;y<i;y++){for(var v=-y+d;v<=y-h;v+=2){var _=s+v,b;v===-y||v!==y&&a[_-1]<a[_+1]?b=a[_+1]:b=a[_-1]+1;for(var g=b-v;b<n&&g<r&&t.charAt(b)===e.charAt(g);)b++,g++;if(a[_]=b,b>n)h+=2;else if(g>r)d+=2;else if(c){var w=s+u-v;if(w>=0&&w<o&&l[w]!==-1){var x=n-l[w];if(b>=x)return zw(t,e,b,g)}}}for(var I=-y+p;I<=y-m;I+=2){var w=s+I,x;I===-y||I!==y&&l[w-1]<l[w+1]?x=l[w+1]:x=l[w-1]+1;for(var E=x-I;x<n&&E<r&&t.charAt(n-x-1)===e.charAt(r-E-1);)x++,E++;if(l[w]=x,x>n)m+=2;else if(E>r)p+=2;else if(!c){var _=s+u-I;if(_>=0&&_<o&&a[_]!==-1){var b=a[_],g=s+b-_;if(x=n-x,b>=x)return zw(t,e,b,g)}}}}return[[Ai,t],[Kr,e]]}function zw(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),o=t.substring(n),a=e.substring(r),l=Fu(i,s),f=Fu(o,a);return l.concat(f)}function q0(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return DR(t.charCodeAt(i-1))&&i--,i}function H0(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return MR(t.charCodeAt(t.length-i))&&i--,i}function BQ(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,p,m){for(var y=h.substring(m,m+Math.floor(h.length/4)),v=-1,_="",b,g,w,x;(v=p.indexOf(y,v+1))!==-1;){var I=q0(h.substring(m),p.substring(v)),E=H0(h.substring(0,m),p.substring(0,v));_.length<E+I&&(_=p.substring(v-E,v)+p.substring(v,v+I),b=h.substring(0,m-E),g=h.substring(m+I),w=p.substring(0,v-E),x=p.substring(v+I))}return _.length*2>=h.length?[b,g,w,x,_]:null}var s=i(n,r,Math.ceil(n.length/4)),o=i(n,r,Math.ceil(n.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var l,f,u,c;t.length>e.length?(l=a[0],f=a[1],u=a[2],c=a[3]):(u=a[0],c=a[1],l=a[2],f=a[3]);var d=a[4];return[l,f,u,c,d]}function CR(t,e){t.push([dr,""]);for(var n=0,r=0,i=0,s="",o="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Kr:i++,o+=t[n][1],n++;break;case Ai:r++,s+=t[n][1],n++;break;case dr:var l=n-i-r-1;if(e){if(l>=0&&LR(t[l][1])){var f=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),s=f+s,o=f+o,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===Kr&&(i++,o=t[u][1]+o,u--),t[u]&&t[u][0]===Ai&&(r++,s=t[u][1]+s,u--),l=u}}if(NR(t[n][1])){var f=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=f,o+=f}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=q0(o,s),a!==0&&(l>=0?t[l][1]+=o.substring(0,a):(t.splice(0,0,[dr,o.substring(0,a)]),n++),o=o.substring(a),s=s.substring(a)),a=H0(o,s),a!==0&&(t[n][1]=o.substring(o.length-a)+t[n][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var c=i+r;s.length===0&&o.length===0?(t.splice(n-c,c),n=n-c):s.length===0?(t.splice(n-c,c,[Kr,o]),n=n-c+1):o.length===0?(t.splice(n-c,c,[Ai,s]),n=n-c+1):(t.splice(n-c,c,[Ai,s],[Kr,o]),n=n-c+2)}n!==0&&t[n-1][0]===dr?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var d=!1;for(n=1;n<t.length-1;)t[n-1][0]===dr&&t[n+1][0]===dr&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),d=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),d=!0)),n++;d&&CR(t,e)}function DR(t){return t>=55296&&t<=56319}function MR(t){return t>=56320&&t<=57343}function NR(t){return MR(t.charCodeAt(0))}function LR(t){return DR(t.charCodeAt(t.length-1))}function jQ(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Bm(t,e,n,r){return LR(t)||NR(r)?null:jQ([[dr,t],[Ai,e],[Kr,n],[dr,r]])}function qQ(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,s=t.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),f=t.slice(a),u=i?i.index:null;e:{var c=a+o-s;if(u!==null&&u!==c||c<0||c>o)break e;var d=e.slice(0,c),h=e.slice(c);if(h!==f)break e;var p=Math.min(a,c),m=l.slice(0,p),y=d.slice(0,p);if(m!==y)break e;var v=l.slice(p),_=d.slice(p);return Bm(m,v,_,f)}e:{if(u!==null&&u!==a)break e;var b=a,d=e.slice(0,b),h=e.slice(b);if(d!==l)break e;var g=Math.min(s-b,o-b),w=f.slice(f.length-g),x=h.slice(h.length-g);if(w!==x)break e;var v=f.slice(0,f.length-g),_=h.slice(0,h.length-g);return Bm(l,v,_,w)}}if(r.length>0&&i&&i.length===0)e:{var m=t.slice(0,r.index),w=t.slice(r.index+r.length),p=m.length,g=w.length;if(o<p+g)break e;var y=e.slice(0,p),x=e.slice(o-g);if(m!==y||w!==x)break e;var v=t.slice(p,s-g),_=e.slice(p,o-g);return Bm(m,v,_,w)}return null}function Xh(t,e,n){return Fu(t,e,n,!0)}Xh.INSERT=Kr;Xh.DELETE=Ai;Xh.EQUAL=dr;var HQ=Xh,_d={exports:{}};_d.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",f="[object Error]",u="[object Function]",c="[object GeneratorFunction]",d="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",y="[object RegExp]",v="[object Set]",_="[object String]",b="[object Symbol]",g="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",I="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",D="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,C=/\w*$/,G=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,B={};B[s]=B[o]=B[w]=B[x]=B[a]=B[l]=B[I]=B[E]=B[S]=B[k]=B[A]=B[d]=B[h]=B[p]=B[y]=B[v]=B[_]=B[b]=B[T]=B[R]=B[N]=B[D]=!0,B[f]=B[u]=B[g]=!1;var $=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,V=typeof self=="object"&&self&&self.Object===Object&&self,M=$||V||Function("return this")(),W=e&&!e.nodeType&&e,z=W&&!0&&t&&!t.nodeType&&t,j=z&&z.exports===W;function F(L,X){return L.set(X[0],X[1]),L}function J(L,X){return L.add(X),L}function K(L,X){for(var le=-1,be=L?L.length:0;++le<be&&X(L[le],le,L)!==!1;);return L}function se(L,X){for(var le=-1,be=X.length,et=L.length;++le<be;)L[et+le]=X[le];return L}function ce(L,X,le,be){for(var et=-1,Be=L?L.length:0;++et<Be;)le=X(le,L[et],et,L);return le}function Z(L,X){for(var le=-1,be=Array(L);++le<L;)be[le]=X(le);return be}function q(L,X){return L==null?void 0:L[X]}function Q(L){var X=!1;if(L!=null&&typeof L.toString!="function")try{X=!!(L+"")}catch{}return X}function Y(L){var X=-1,le=Array(L.size);return L.forEach(function(be,et){le[++X]=[et,be]}),le}function fe(L,X){return function(le){return L(X(le))}}function ee(L){var X=-1,le=Array(L.size);return L.forEach(function(be){le[++X]=be}),le}var U=Array.prototype,te=Function.prototype,ie=Object.prototype,oe=M["__core-js_shared__"],re=function(){var L=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),pe=te.toString,ve=ie.hasOwnProperty,Ee=ie.toString,Re=RegExp("^"+pe.call(ve).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=j?M.Buffer:void 0,Pe=M.Symbol,Qe=M.Uint8Array,Me=fe(Object.getPrototypeOf,Object),rt=Object.create,St=ie.propertyIsEnumerable,sn=U.splice,Ot=Object.getOwnPropertySymbols,Xt=$e?$e.isBuffer:void 0,de=fe(Object.keys,Object),Te=Br(M,"DataView"),ye=Br(M,"Map"),Ae=Br(M,"Promise"),Oe=Br(M,"Set"),Ft=Br(M,"WeakMap"),Et=Br(Object,"create"),zt=tr(Te),fn=tr(ye),kn=tr(Ae),Sn=tr(Oe),In=tr(Ft),yn=Pe?Pe.prototype:void 0,vc=yn?yn.valueOf:void 0;function Mi(L){var X=-1,le=L?L.length:0;for(this.clear();++X<le;){var be=L[X];this.set(be[0],be[1])}}function Zh(){this.__data__=Et?Et(null):{}}function ep(L){return this.has(L)&&delete this.__data__[L]}function tp(L){var X=this.__data__;if(Et){var le=X[L];return le===r?void 0:le}return ve.call(X,L)?X[L]:void 0}function yc(L){var X=this.__data__;return Et?X[L]!==void 0:ve.call(X,L)}function ll(L,X){var le=this.__data__;return le[L]=Et&&X===void 0?r:X,this}Mi.prototype.clear=Zh,Mi.prototype.delete=ep,Mi.prototype.get=tp,Mi.prototype.has=yc,Mi.prototype.set=ll;function Rn(L){var X=-1,le=L?L.length:0;for(this.clear();++X<le;){var be=L[X];this.set(be[0],be[1])}}function np(){this.__data__=[]}function rp(L){var X=this.__data__,le=Xo(X,L);if(le<0)return!1;var be=X.length-1;return le==be?X.pop():sn.call(X,le,1),!0}function ip(L){var X=this.__data__,le=Xo(X,L);return le<0?void 0:X[le][1]}function sp(L){return Xo(this.__data__,L)>-1}function op(L,X){var le=this.__data__,be=Xo(le,L);return be<0?le.push([L,X]):le[be][1]=X,this}Rn.prototype.clear=np,Rn.prototype.delete=rp,Rn.prototype.get=ip,Rn.prototype.has=sp,Rn.prototype.set=op;function Bn(L){var X=-1,le=L?L.length:0;for(this.clear();++X<le;){var be=L[X];this.set(be[0],be[1])}}function ap(){this.__data__={hash:new Mi,map:new(ye||Rn),string:new Mi}}function lp(L){return to(this,L).delete(L)}function up(L){return to(this,L).get(L)}function cp(L){return to(this,L).has(L)}function fp(L,X){return to(this,L).set(L,X),this}Bn.prototype.clear=ap,Bn.prototype.delete=lp,Bn.prototype.get=up,Bn.prototype.has=cp,Bn.prototype.set=fp;function ur(L){this.__data__=new Rn(L)}function dp(){this.__data__=new Rn}function hp(L){return this.__data__.delete(L)}function pp(L){return this.__data__.get(L)}function mp(L){return this.__data__.has(L)}function gp(L,X){var le=this.__data__;if(le instanceof Rn){var be=le.__data__;if(!ye||be.length<n-1)return be.push([L,X]),this;le=this.__data__=new Bn(be)}return le.set(L,X),this}ur.prototype.clear=dp,ur.prototype.delete=hp,ur.prototype.get=pp,ur.prototype.has=mp,ur.prototype.set=gp;function Qo(L,X){var le=dl(L)||Zo(L)?Z(L.length,String):[],be=le.length,et=!!be;for(var Be in L)ve.call(L,Be)&&!(et&&(Be=="length"||Op(Be,be)))&&le.push(Be);return le}function _c(L,X,le){var be=L[X];(!(ve.call(L,X)&&Ac(be,le))||le===void 0&&!(X in L))&&(L[X]=le)}function Xo(L,X){for(var le=L.length;le--;)if(Ac(L[le][0],X))return le;return-1}function ui(L,X){return L&&fl(X,pl(X),L)}function ul(L,X,le,be,et,Be,mt){var dt;if(be&&(dt=Be?be(L,et,Be,mt):be(L)),dt!==void 0)return dt;if(!fi(L))return L;var on=dl(L);if(on){if(dt=Ip(L),!X)return xp(L,dt)}else{var bt=Li(L),jn=bt==u||bt==c;if(xc(L))return Jo(L,X);if(bt==p||bt==s||jn&&!Be){if(Q(L))return Be?L:{};if(dt=ci(jn?{}:L),!X)return kp(L,ui(dt,L))}else{if(!B[bt])return Be?L:{};dt=Rp(L,bt,ul,X)}}mt||(mt=new ur);var cr=mt.get(L);if(cr)return cr;if(mt.set(L,dt),!on)var dn=le?Sp(L):pl(L);return K(dn||L,function(qn,On){dn&&(On=qn,qn=L[On]),_c(dt,On,ul(qn,X,le,be,On,L,mt))}),dt}function vp(L){return fi(L)?rt(L):{}}function yp(L,X,le){var be=X(L);return dl(L)?be:se(be,le(L))}function _p(L){return Ee.call(L)}function bp(L){if(!fi(L)||Cp(L))return!1;var X=hl(L)||Q(L)?Re:G;return X.test(tr(L))}function wp(L){if(!Ec(L))return de(L);var X=[];for(var le in Object(L))ve.call(L,le)&&le!="constructor"&&X.push(le);return X}function Jo(L,X){if(X)return L.slice();var le=new L.constructor(L.length);return L.copy(le),le}function cl(L){var X=new L.constructor(L.byteLength);return new Qe(X).set(new Qe(L)),X}function eo(L,X){var le=X?cl(L.buffer):L.buffer;return new L.constructor(le,L.byteOffset,L.byteLength)}function bc(L,X,le){var be=X?le(Y(L),!0):Y(L);return ce(be,F,new L.constructor)}function wc(L){var X=new L.constructor(L.source,C.exec(L));return X.lastIndex=L.lastIndex,X}function Ep(L,X,le){var be=X?le(ee(L),!0):ee(L);return ce(be,J,new L.constructor)}function Tp(L){return vc?Object(vc.call(L)):{}}function Ap(L,X){var le=X?cl(L.buffer):L.buffer;return new L.constructor(le,L.byteOffset,L.length)}function xp(L,X){var le=-1,be=L.length;for(X||(X=Array(be));++le<be;)X[le]=L[le];return X}function fl(L,X,le,be){le||(le={});for(var et=-1,Be=X.length;++et<Be;){var mt=X[et],dt=void 0;_c(le,mt,dt===void 0?L[mt]:dt)}return le}function kp(L,X){return fl(L,Ni(L),X)}function Sp(L){return yp(L,pl,Ni)}function to(L,X){var le=L.__data__;return Pp(X)?le[typeof X=="string"?"string":"hash"]:le.map}function Br(L,X){var le=q(L,X);return bp(le)?le:void 0}var Ni=Ot?fe(Ot,Object):Mp,Li=_p;(Te&&Li(new Te(new ArrayBuffer(1)))!=x||ye&&Li(new ye)!=d||Ae&&Li(Ae.resolve())!=m||Oe&&Li(new Oe)!=v||Ft&&Li(new Ft)!=g)&&(Li=function(L){var X=Ee.call(L),le=X==p?L.constructor:void 0,be=le?tr(le):void 0;if(be)switch(be){case zt:return x;case fn:return d;case kn:return m;case Sn:return v;case In:return g}return X});function Ip(L){var X=L.length,le=L.constructor(X);return X&&typeof L[0]=="string"&&ve.call(L,"index")&&(le.index=L.index,le.input=L.input),le}function ci(L){return typeof L.constructor=="function"&&!Ec(L)?vp(Me(L)):{}}function Rp(L,X,le,be){var et=L.constructor;switch(X){case w:return cl(L);case a:case l:return new et(+L);case x:return eo(L,be);case I:case E:case S:case k:case A:case T:case R:case N:case D:return Ap(L,be);case d:return bc(L,be,le);case h:case _:return new et(L);case y:return wc(L);case v:return Ep(L,be,le);case b:return Tp(L)}}function Op(L,X){return X=X??i,!!X&&(typeof L=="number"||H.test(L))&&L>-1&&L%1==0&&L<X}function Pp(L){var X=typeof L;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?L!=="__proto__":L===null}function Cp(L){return!!re&&re in L}function Ec(L){var X=L&&L.constructor,le=typeof X=="function"&&X.prototype||ie;return L===le}function tr(L){if(L!=null){try{return pe.call(L)}catch{}try{return L+""}catch{}}return""}function Tc(L){return ul(L,!0,!0)}function Ac(L,X){return L===X||L!==L&&X!==X}function Zo(L){return Dp(L)&&ve.call(L,"callee")&&(!St.call(L,"callee")||Ee.call(L)==s)}var dl=Array.isArray;function ea(L){return L!=null&&kc(L.length)&&!hl(L)}function Dp(L){return Sc(L)&&ea(L)}var xc=Xt||Np;function hl(L){var X=fi(L)?Ee.call(L):"";return X==u||X==c}function kc(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=i}function fi(L){var X=typeof L;return!!L&&(X=="object"||X=="function")}function Sc(L){return!!L&&typeof L=="object"}function pl(L){return ea(L)?Qo(L):wp(L)}function Mp(){return[]}function Np(){return!1}t.exports=Tc})(_d,_d.exports);var $R=_d.exports,bd={exports:{}};bd.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",_="[object Object]",b="[object Promise]",g="[object Proxy]",w="[object RegExp]",x="[object Set]",I="[object String]",E="[object Symbol]",S="[object Undefined]",k="[object WeakMap]",A="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",D="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",G="[object Uint8Array]",H="[object Uint8ClampedArray]",B="[object Uint16Array]",$="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,M=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,z={};z[R]=z[N]=z[D]=z[P]=z[C]=z[G]=z[H]=z[B]=z[$]=!0,z[a]=z[l]=z[A]=z[u]=z[T]=z[c]=z[d]=z[h]=z[m]=z[y]=z[_]=z[w]=z[x]=z[I]=z[k]=!1;var j=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,F=typeof self=="object"&&self&&self.Object===Object&&self,J=j||F||Function("return this")(),K=e&&!e.nodeType&&e,se=K&&!0&&t&&!t.nodeType&&t,ce=se&&se.exports===K,Z=ce&&j.process,q=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),Q=q&&q.isTypedArray;function Y(L,X){for(var le=-1,be=L==null?0:L.length,et=0,Be=[];++le<be;){var mt=L[le];X(mt,le,L)&&(Be[et++]=mt)}return Be}function fe(L,X){for(var le=-1,be=X.length,et=L.length;++le<be;)L[et+le]=X[le];return L}function ee(L,X){for(var le=-1,be=L==null?0:L.length;++le<be;)if(X(L[le],le,L))return!0;return!1}function U(L,X){for(var le=-1,be=Array(L);++le<L;)be[le]=X(le);return be}function te(L){return function(X){return L(X)}}function ie(L,X){return L.has(X)}function oe(L,X){return L==null?void 0:L[X]}function re(L){var X=-1,le=Array(L.size);return L.forEach(function(be,et){le[++X]=[et,be]}),le}function pe(L,X){return function(le){return L(X(le))}}function ve(L){var X=-1,le=Array(L.size);return L.forEach(function(be){le[++X]=be}),le}var Ee=Array.prototype,Re=Function.prototype,$e=Object.prototype,Pe=J["__core-js_shared__"],Qe=Re.toString,Me=$e.hasOwnProperty,rt=function(){var L=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),St=$e.toString,sn=RegExp("^"+Qe.call(Me).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=ce?J.Buffer:void 0,Xt=J.Symbol,de=J.Uint8Array,Te=$e.propertyIsEnumerable,ye=Ee.splice,Ae=Xt?Xt.toStringTag:void 0,Oe=Object.getOwnPropertySymbols,Ft=Ot?Ot.isBuffer:void 0,Et=pe(Object.keys,Object),zt=Ni(J,"DataView"),fn=Ni(J,"Map"),kn=Ni(J,"Promise"),Sn=Ni(J,"Set"),In=Ni(J,"WeakMap"),yn=Ni(Object,"create"),vc=tr(zt),Mi=tr(fn),Zh=tr(kn),ep=tr(Sn),tp=tr(In),yc=Xt?Xt.prototype:void 0,ll=yc?yc.valueOf:void 0;function Rn(L){var X=-1,le=L==null?0:L.length;for(this.clear();++X<le;){var be=L[X];this.set(be[0],be[1])}}function np(){this.__data__=yn?yn(null):{},this.size=0}function rp(L){var X=this.has(L)&&delete this.__data__[L];return this.size-=X?1:0,X}function ip(L){var X=this.__data__;if(yn){var le=X[L];return le===r?void 0:le}return Me.call(X,L)?X[L]:void 0}function sp(L){var X=this.__data__;return yn?X[L]!==void 0:Me.call(X,L)}function op(L,X){var le=this.__data__;return this.size+=this.has(L)?0:1,le[L]=yn&&X===void 0?r:X,this}Rn.prototype.clear=np,Rn.prototype.delete=rp,Rn.prototype.get=ip,Rn.prototype.has=sp,Rn.prototype.set=op;function Bn(L){var X=-1,le=L==null?0:L.length;for(this.clear();++X<le;){var be=L[X];this.set(be[0],be[1])}}function ap(){this.__data__=[],this.size=0}function lp(L){var X=this.__data__,le=Jo(X,L);if(le<0)return!1;var be=X.length-1;return le==be?X.pop():ye.call(X,le,1),--this.size,!0}function up(L){var X=this.__data__,le=Jo(X,L);return le<0?void 0:X[le][1]}function cp(L){return Jo(this.__data__,L)>-1}function fp(L,X){var le=this.__data__,be=Jo(le,L);return be<0?(++this.size,le.push([L,X])):le[be][1]=X,this}Bn.prototype.clear=ap,Bn.prototype.delete=lp,Bn.prototype.get=up,Bn.prototype.has=cp,Bn.prototype.set=fp;function ur(L){var X=-1,le=L==null?0:L.length;for(this.clear();++X<le;){var be=L[X];this.set(be[0],be[1])}}function dp(){this.size=0,this.__data__={hash:new Rn,map:new(fn||Bn),string:new Rn}}function hp(L){var X=Br(this,L).delete(L);return this.size-=X?1:0,X}function pp(L){return Br(this,L).get(L)}function mp(L){return Br(this,L).has(L)}function gp(L,X){var le=Br(this,L),be=le.size;return le.set(L,X),this.size+=le.size==be?0:1,this}ur.prototype.clear=dp,ur.prototype.delete=hp,ur.prototype.get=pp,ur.prototype.has=mp,ur.prototype.set=gp;function Qo(L){var X=-1,le=L==null?0:L.length;for(this.__data__=new ur;++X<le;)this.add(L[X])}function _c(L){return this.__data__.set(L,r),this}function Xo(L){return this.__data__.has(L)}Qo.prototype.add=Qo.prototype.push=_c,Qo.prototype.has=Xo;function ui(L){var X=this.__data__=new Bn(L);this.size=X.size}function ul(){this.__data__=new Bn,this.size=0}function vp(L){var X=this.__data__,le=X.delete(L);return this.size=X.size,le}function yp(L){return this.__data__.get(L)}function _p(L){return this.__data__.has(L)}function bp(L,X){var le=this.__data__;if(le instanceof Bn){var be=le.__data__;if(!fn||be.length<n-1)return be.push([L,X]),this.size=++le.size,this;le=this.__data__=new ur(be)}return le.set(L,X),this.size=le.size,this}ui.prototype.clear=ul,ui.prototype.delete=vp,ui.prototype.get=yp,ui.prototype.has=_p,ui.prototype.set=bp;function wp(L,X){var le=Zo(L),be=!le&&Ac(L),et=!le&&!be&&ea(L),Be=!le&&!be&&!et&&Sc(L),mt=le||be||et||Be,dt=mt?U(L.length,String):[],on=dt.length;for(var bt in L)Me.call(L,bt)&&!(mt&&(bt=="length"||et&&(bt=="offset"||bt=="parent")||Be&&(bt=="buffer"||bt=="byteLength"||bt=="byteOffset")||Rp(bt,on)))&&dt.push(bt);return dt}function Jo(L,X){for(var le=L.length;le--;)if(Tc(L[le][0],X))return le;return-1}function cl(L,X,le){var be=X(L);return Zo(L)?be:fe(be,le(L))}function eo(L){return L==null?L===void 0?S:v:Ae&&Ae in Object(L)?Li(L):Ec(L)}function bc(L){return fi(L)&&eo(L)==a}function wc(L,X,le,be,et){return L===X?!0:L==null||X==null||!fi(L)&&!fi(X)?L!==L&&X!==X:Ep(L,X,le,be,wc,et)}function Ep(L,X,le,be,et,Be){var mt=Zo(L),dt=Zo(X),on=mt?l:ci(L),bt=dt?l:ci(X);on=on==a?_:on,bt=bt==a?_:bt;var jn=on==_,cr=bt==_,dn=on==bt;if(dn&&ea(L)){if(!ea(X))return!1;mt=!0,jn=!1}if(dn&&!jn)return Be||(Be=new ui),mt||Sc(L)?fl(L,X,le,be,et,Be):kp(L,X,on,le,be,et,Be);if(!(le&i)){var qn=jn&&Me.call(L,"__wrapped__"),On=cr&&Me.call(X,"__wrapped__");if(qn||On){var ls=qn?L.value():L,$i=On?X.value():X;return Be||(Be=new ui),et(ls,$i,le,be,Be)}}return dn?(Be||(Be=new ui),Sp(L,X,le,be,et,Be)):!1}function Tp(L){if(!kc(L)||Pp(L))return!1;var X=xc(L)?sn:M;return X.test(tr(L))}function Ap(L){return fi(L)&&hl(L.length)&&!!z[eo(L)]}function xp(L){if(!Cp(L))return Et(L);var X=[];for(var le in Object(L))Me.call(L,le)&&le!="constructor"&&X.push(le);return X}function fl(L,X,le,be,et,Be){var mt=le&i,dt=L.length,on=X.length;if(dt!=on&&!(mt&&on>dt))return!1;var bt=Be.get(L);if(bt&&Be.get(X))return bt==X;var jn=-1,cr=!0,dn=le&s?new Qo:void 0;for(Be.set(L,X),Be.set(X,L);++jn<dt;){var qn=L[jn],On=X[jn];if(be)var ls=mt?be(On,qn,jn,X,L,Be):be(qn,On,jn,L,X,Be);if(ls!==void 0){if(ls)continue;cr=!1;break}if(dn){if(!ee(X,function($i,no){if(!ie(dn,no)&&(qn===$i||et(qn,$i,le,be,Be)))return dn.push(no)})){cr=!1;break}}else if(!(qn===On||et(qn,On,le,be,Be))){cr=!1;break}}return Be.delete(L),Be.delete(X),cr}function kp(L,X,le,be,et,Be,mt){switch(le){case T:if(L.byteLength!=X.byteLength||L.byteOffset!=X.byteOffset)return!1;L=L.buffer,X=X.buffer;case A:return!(L.byteLength!=X.byteLength||!Be(new de(L),new de(X)));case u:case c:case y:return Tc(+L,+X);case d:return L.name==X.name&&L.message==X.message;case w:case I:return L==X+"";case m:var dt=re;case x:var on=be&i;if(dt||(dt=ve),L.size!=X.size&&!on)return!1;var bt=mt.get(L);if(bt)return bt==X;be|=s,mt.set(L,X);var jn=fl(dt(L),dt(X),be,et,Be,mt);return mt.delete(L),jn;case E:if(ll)return ll.call(L)==ll.call(X)}return!1}function Sp(L,X,le,be,et,Be){var mt=le&i,dt=to(L),on=dt.length,bt=to(X),jn=bt.length;if(on!=jn&&!mt)return!1;for(var cr=on;cr--;){var dn=dt[cr];if(!(mt?dn in X:Me.call(X,dn)))return!1}var qn=Be.get(L);if(qn&&Be.get(X))return qn==X;var On=!0;Be.set(L,X),Be.set(X,L);for(var ls=mt;++cr<on;){dn=dt[cr];var $i=L[dn],no=X[dn];if(be)var G0=mt?be(no,$i,dn,X,L,Be):be($i,no,dn,L,X,Be);if(!(G0===void 0?$i===no||et($i,no,le,be,Be):G0)){On=!1;break}ls||(ls=dn=="constructor")}if(On&&!ls){var Ic=L.constructor,Rc=X.constructor;Ic!=Rc&&"constructor"in L&&"constructor"in X&&!(typeof Ic=="function"&&Ic instanceof Ic&&typeof Rc=="function"&&Rc instanceof Rc)&&(On=!1)}return Be.delete(L),Be.delete(X),On}function to(L){return cl(L,pl,Ip)}function Br(L,X){var le=L.__data__;return Op(X)?le[typeof X=="string"?"string":"hash"]:le.map}function Ni(L,X){var le=oe(L,X);return Tp(le)?le:void 0}function Li(L){var X=Me.call(L,Ae),le=L[Ae];try{L[Ae]=void 0;var be=!0}catch{}var et=St.call(L);return be&&(X?L[Ae]=le:delete L[Ae]),et}var Ip=Oe?function(L){return L==null?[]:(L=Object(L),Y(Oe(L),function(X){return Te.call(L,X)}))}:Mp,ci=eo;(zt&&ci(new zt(new ArrayBuffer(1)))!=T||fn&&ci(new fn)!=m||kn&&ci(kn.resolve())!=b||Sn&&ci(new Sn)!=x||In&&ci(new In)!=k)&&(ci=function(L){var X=eo(L),le=X==_?L.constructor:void 0,be=le?tr(le):"";if(be)switch(be){case vc:return T;case Mi:return m;case Zh:return b;case ep:return x;case tp:return k}return X});function Rp(L,X){return X=X??o,!!X&&(typeof L=="number"||W.test(L))&&L>-1&&L%1==0&&L<X}function Op(L){var X=typeof L;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?L!=="__proto__":L===null}function Pp(L){return!!rt&&rt in L}function Cp(L){var X=L&&L.constructor,le=typeof X=="function"&&X.prototype||$e;return L===le}function Ec(L){return St.call(L)}function tr(L){if(L!=null){try{return Qe.call(L)}catch{}try{return L+""}catch{}}return""}function Tc(L,X){return L===X||L!==L&&X!==X}var Ac=bc(function(){return arguments}())?bc:function(L){return fi(L)&&Me.call(L,"callee")&&!Te.call(L,"callee")},Zo=Array.isArray;function dl(L){return L!=null&&hl(L.length)&&!xc(L)}var ea=Ft||Np;function Dp(L,X){return wc(L,X)}function xc(L){if(!kc(L))return!1;var X=eo(L);return X==h||X==p||X==f||X==g}function hl(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=o}function kc(L){var X=typeof L;return L!=null&&(X=="object"||X=="function")}function fi(L){return L!=null&&typeof L=="object"}var Sc=Q?te(Q):Ap;function pl(L){return dl(L)?wp(L):xp(L)}function Mp(){return[]}function Np(){return!1}t.exports=Dp})(bd,bd.exports);var FR=bd.exports,z0={},VR=ns&&ns.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z0,"__esModule",{value:!0});var zQ=VR($R),WQ=VR(FR),_v;(function(t){function e(s,o,a){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var l=zQ.default(o);a||(l=Object.keys(l).reduce(function(u,c){return l[c]!=null&&(u[c]=l[c]),u},{}));for(var f in s)s[f]!==void 0&&o[f]===void 0&&(l[f]=s[f]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(s,o){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var a=Object.keys(s).concat(Object.keys(o)).reduce(function(l,f){return WQ.default(s[f],o[f])||(l[f]=o[f]===void 0?null:o[f]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(s,o){s===void 0&&(s={}),o===void 0&&(o={}),s=s||{};var a=Object.keys(o).reduce(function(l,f){return o[f]!==s[f]&&s[f]!==void 0&&(l[f]=o[f]),l},{});return Object.keys(s).reduce(function(l,f){return s[f]!==o[f]&&o[f]===void 0&&(l[f]=null),l},a)}t.invert=r;function i(s,o,a){if(a===void 0&&(a=!1),typeof s!="object")return o;if(typeof o=="object"){if(!a)return o;var l=Object.keys(o).reduce(function(f,u){return s[u]===void 0&&(f[u]=o[u]),f},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(_v||(_v={}));z0.default=_v;var of={},af={},Ww;function KQ(){if(Ww)return af;Ww=1;var t=ns&&ns.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(af,"__esModule",{value:!0});var e=t(UR()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var s=this.ops[this.index];if(s){var o=this.offset,a=e.default.length(s);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof s.delete=="number")return{delete:i};var l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=i:typeof s.insert=="string"?l.insert=s.insert.substr(o,i):l.insert=s.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,s=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=s,[o].concat(a)}else return[]},r}();return af.default=n,af}var Kw;function UR(){if(Kw)return of;Kw=1;var t=ns&&ns.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(of,"__esModule",{value:!0});var e=t(KQ()),n;return function(r){function i(o){return new e.default(o)}r.iterator=i;function s(o){return typeof o.delete=="number"?o.delete:typeof o.retain=="number"?o.retain:typeof o.insert=="string"?o.insert.length:1}r.length=s}(n||(n={})),of.default=n,of}var gc=ns&&ns.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},lf=gc(HQ),YQ=gc($R),jm=gc(FR),Rl=gc(z0),Pn=gc(UR()),GQ="\0",QQ=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=YQ.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(jm.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var s=e(i)?n:r;s.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+Pn.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+Pn.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=Pn.default.iterator(this.ops),s=0;s<n&&i.hasNext();){var o=void 0;s<e?o=i.next(e-s):(o=i.next(n-s),r.push(o)),s+=Pn.default.length(o)}return new t(r)},t.prototype.compose=function(e){var n=Pn.default.iterator(this.ops),r=Pn.default.iterator(e.ops),i=[],s=r.peek();if(s!=null&&typeof s.retain=="number"&&s.attributes==null){for(var o=s.retain;n.peekType()==="insert"&&n.peekLength()<=o;)o-=n.peekLength(),i.push(n.next());s.retain-o>0&&r.next(s.retain-o)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),f=n.next(l),u=r.next(l);if(typeof u.retain=="number"){var c={};typeof f.retain=="number"?c.retain=l:c.insert=f.insert;var d=Rl.default.compose(f.attributes,u.attributes,typeof f.retain=="number");if(d&&(c.attributes=d),a.push(c),!r.hasNext()&&jm.default(a.ops[a.ops.length-1],c)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof u.delete=="number"&&typeof f.retain=="number"&&a.push(u)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(f){if(f.insert!=null)return typeof f.insert=="string"?f.insert:GQ;var u=l===e?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),i=new t,s=lf.default(r[0],r[1],n),o=Pn.default.iterator(this.ops),a=Pn.default.iterator(e.ops);return s.forEach(function(l){for(var f=l[1].length;f>0;){var u=0;switch(l[0]){case lf.default.INSERT:u=Math.min(a.peekLength(),f),i.push(a.next(u));break;case lf.default.DELETE:u=Math.min(f,o.peekLength()),o.next(u),i.delete(u);break;case lf.default.EQUAL:u=Math.min(o.peekLength(),a.peekLength(),f);var c=o.next(u),d=a.next(u);jm.default(c.insert,d.insert)?i.retain(u,Rl.default.diff(c.attributes,d.attributes)):i.push(d).delete(u);break}f-=u}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=Pn.default.iterator(this.ops),i=new t,s=0;r.hasNext();){if(r.peekType()!=="insert")return;var o=r.peek(),a=Pn.default.length(o)-r.peekLength(),l=typeof o.insert=="string"?o.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},s)===!1)return;s+=1,i=new t}}i.length()>0&&e(i,{},s)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(Pn.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var s=i.delete||i.retain,o=e.slice(r,r+s);return o.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(Pn.default.length(a),Rl.default.invert(i.attributes,a.attributes))}),r+s}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=Pn.default.iterator(this.ops),s=Pn.default.iterator(r.ops),o=new t;i.hasNext()||s.hasNext();)if(i.peekType()==="insert"&&(n||s.peekType()!=="insert"))o.retain(Pn.default.length(i.next()));else if(s.peekType()==="insert")o.push(s.next());else{var a=Math.min(i.peekLength(),s.peekLength()),l=i.next(a),f=s.next(a);if(l.delete)continue;f.delete?o.push(f):o.retain(a,Rl.default.transform(l.attributes,f.attributes,n))}return o.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=Pn.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var s=r.peekLength(),o=r.peekType();if(r.next(),o==="delete"){e-=Math.min(s,e-i);continue}else o==="insert"&&(i<e||!n)&&(e+=s);i+=s}return e},t.Op=Pn.default,t.AttributeMap=Rl.default,t}(),XQ=QQ;const JQ=l0(XQ);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const Yw={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},BR=rn({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(Yw).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{pt(()=>{s()}),Mv(()=>{n=null});let n,r;const i=he(),s=()=>{var A;if(i.value){if(r=o(),t.modules)if(Array.isArray(t.modules))for(const T of t.modules)Um.register(`modules/${T.name}`,T.module);else Um.register(`modules/${t.modules.name}`,t.modules.module);n=new Um(i.value,r),b(t.content),n.on("text-change",c),n.on("selection-change",h),n.on("editor-change",p),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(A=n.getModule("toolbar"))===null||A===void 0||A.container.addEventListener("mousedown",T=>{T.preventDefault()}),e.emit("ready",n)}},o=()=>{const A={};if(t.theme!==""&&(A.theme=t.theme),t.readOnly&&(A.readOnly=t.readOnly),t.placeholder&&(A.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(A.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:Yw[t.toolbar]})()}),t.modules){const T=(()=>{var R,N;const D={};if(Array.isArray(t.modules))for(const P of t.modules)D[P.name]=(R=P.options)!==null&&R!==void 0?R:{};else D[t.modules.name]=(N=t.modules.options)!==null&&N!==void 0?N:{};return D})();A.modules=Object.assign({},A.modules,T)}return Object.assign({},t.globalOptions,t.options,A)},a=A=>typeof A=="object"&&A?A.slice():A,l=A=>Object.values(A.ops).some(T=>!T.retain||Object.keys(T).length!==1);let f;const u=A=>{if(typeof f==typeof A){if(A===f)return!0;if(typeof A=="object"&&A&&typeof f=="object"&&f)return!l(f.diff(A))}return!1},c=(A,T,R)=>{f=a(_()),u(t.content)||e.emit("update:content",f),e.emit("textChange",{delta:A,oldContents:T,source:R})},d=he(),h=(A,T,R)=>{d.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:A,oldRange:T,source:R})};un(d,A=>{A?e.emit("focus",i):e.emit("blur",i)});const p=(...A)=>{A[0]==="text-change"&&e.emit("editorChange",{name:A[0],delta:A[1],oldContents:A[2],source:A[3]}),A[0]==="selection-change"&&e.emit("editorChange",{name:A[0],range:A[1],oldRange:A[2],source:A[3]})},m=()=>i.value,y=()=>{var A;return(A=n==null?void 0:n.getModule("toolbar"))===null||A===void 0?void 0:A.container},v=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},_=(A,T)=>t.contentType==="html"?x():t.contentType==="text"?g(A,T):n==null?void 0:n.getContents(A,T),b=(A,T="api")=>{const R=A||(t.contentType==="delta"?new JQ:"");t.contentType==="html"?I(R):t.contentType==="text"?w(R,T):n==null||n.setContents(R,T),f=a(R)},g=(A,T)=>{var R;return(R=n==null?void 0:n.getText(A,T))!==null&&R!==void 0?R:""},w=(A,T="api")=>{n==null||n.setText(A,T)},x=()=>{var A;return(A=n==null?void 0:n.root.innerHTML)!==null&&A!==void 0?A:""},I=A=>{n&&(n.root.innerHTML=A)},E=(A,T="api")=>{const R=n==null?void 0:n.clipboard.convert(A);R&&(n==null||n.setContents(R,T))},S=()=>{n==null||n.focus()},k=()=>{Vn(()=>{var A;!e.slots.toolbar&&n&&((A=n.getModule("toolbar"))===null||A===void 0||A.container.remove()),s()})};return un(()=>t.content,A=>{if(!n||!A||u(A))return;const T=n.getSelection();T&&Vn(()=>n==null?void 0:n.setSelection(T)),b(A)},{deep:!0}),un(()=>t.enable,A=>{n&&n.enable(A)}),{editor:i,getEditor:m,getToolbar:y,getQuill:v,getContents:_,setContents:b,getHTML:x,setHTML:I,pasteHTML:E,focus:S,getText:g,setText:w,reinit:k}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),Qa("div",{ref:"editor",...this.$attrs})]}}),ZQ={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},eX={key:1,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},tX={class:"bg-white rounded-lg p-4 max-w-sm w-full"},nX={class:"mt-1"},rX={key:2,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},iX={class:"bg-white rounded-lg p-4 max-w-sm w-full"},sX=O("div",{class:"mt-1"},"Blog yazısı başarıyla güncellendi.",-1),oX={class:"flex justify-end"},aX={key:3,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},lX={class:"bg-white rounded-lg p-4 max-w-sm w-full"},uX={class:"mt-1 text-red-500"},cX={class:"flex justify-end"},fX={key:4,id:"add-blog-modal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},dX={class:"relative p-4 w-full max-w-4xl max-h-full"},hX={class:"relative bg-white rounded-lg shadow"},pX={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},mX=O("h3",{class:"text-lg font-semibold text-gray-900"}," Blog Yazısını Güncelle ",-1),gX=O("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),vX=O("span",{class:"sr-only"},"Close modal",-1),yX=[gX,vX],_X={class:"grid gap-4 mb-4 grid-cols-2"},bX={class:"col-span-2"},wX=O("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),EX={class:"col-span-2"},TX=O("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),AX=O("option",{value:"hukuk"},"Hukuk",-1),xX=O("option",{value:"haberler"},"Haberler",-1),kX=O("option",{value:"son-dakika"},"Son Dakika",-1),SX=O("option",{value:"blog"},"Blog Yazısı",-1),IX=[AX,xX,kX,SX],RX={class:"col-span-2"},OX=O("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),PX={class:"bg-gray-100"},CX={__name:"BlogModalEdit",props:{show:Boolean,blogDataToUpdate:Object},emits:["close","updateBlog"],setup(t,{emit:e}){const n=e,r=Fr({showLoadingModal:!1,showSuccessModal:!1,showErrorModal:!1,errorMessage:""}),i=async s=>{n("close"),r.showLoadingModal=!0;try{await new Promise(o=>setTimeout(o,2e3)),r.showLoadingModal=!1,r.showSuccessModal=!0,n("updateBlog",s)}catch{r.showLoadingModal=!1,r.showErrorModal=!0,r.errorMessage="Blog güncellenirken bir hata oluştu. Lütfen tekrar deneyin."}};return(s,o)=>(ne(),ae(Ie,null,[t.show?(ne(),ae("div",ZQ)):me("",!0),r.showLoadingModal?(ne(),ae("div",eX,[O("div",tX,[O("div",nX,[r.showLoadingModal?(ne(),Ue(ac,{key:0,text:"Blog Yazısı Güncelleniyor..."})):me("",!0)])])])):me("",!0),r.showSuccessModal?(ne(),ae("div",rX,[O("div",iX,[sX,O("div",oX,[Ce(Bt,{onClick:o[0]||(o[0]=a=>r.showSuccessModal=!1),color:"blue",wFull:!1,text:"Kapat"})])])])):me("",!0),r.showErrorModal?(ne(),ae("div",aX,[O("div",lX,[O("div",uX,we(r.errorMessage),1),O("div",cX,[Ce(Bt,{onClick:o[1]||(o[1]=a=>r.showErrorModal=!1),color:"blue",wFull:!1,text:"Tekrar Dene"})])])])):me("",!0),t.show?(ne(),ae("div",fX,[O("div",dX,[O("div",hX,[O("div",pX,[mX,O("button",{type:"button",onClick:o[2]||(o[2]=a=>s.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},yX)]),O("form",{onSubmit:o[6]||(o[6]=Lr(a=>i(t.blogDataToUpdate),["prevent"])),class:"p-4 md:p-5"},[O("div",_X,[O("div",bX,[wX,wt(O("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>t.blogDataToUpdate.title=a),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[Gr,t.blogDataToUpdate.title]])]),O("div",EX,[TX,wt(O("select",{"onUpdate:modelValue":o[4]||(o[4]=a=>t.blogDataToUpdate.category=a),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},IX,512),[[Us,t.blogDataToUpdate.category]])]),O("div",RX,[OX,O("div",PX,[Ce(ue(BR),{content:t.blogDataToUpdate.content,"onUpdate:content":o[5]||(o[5]=a=>t.blogDataToUpdate.content=a),contentType:"html",id:"content",toolbar:"essential",theme:"snow",class:"h-64"},null,8,["content"])])])]),Ce(Bt,{type:"submit",color:"blue",wFull:!1,text:"Kaydet"})],32)])])])):me("",!0)],64))}},DX={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},MX={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},NX={class:"flex justify-between items-center mb-4"},LX={class:"flex items-center space-x-2"},$X={class:"px-2 text-gray-800 text-4xl font-bold"},FX=O("div",{class:"text-lg font-medium text-gray-500"}," Toplam Blog Yazısı ",-1),VX=O("div",{class:"text-gray-400"},[O("i",{class:"ri-group-line text-4xl"})],-1),UX={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},BX={class:"text-right text-sm font-medium text-gray-600 mt-2"},jX={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},qX={class:"flex justify-between items-center mb-4"},HX={class:"flex items-center space-x-2"},zX={class:"px-2 rounded bg-emerald-100 text-emerald-700 text-4xl font-semibold"},WX=O("div",{class:"text-lg font-medium text-gray-500"}," Toplam Görüntülenme ",-1),KX=O("div",{class:"text-gray-400"},[O("i",{class:"ri-eye-line text-4xl"})],-1),YX=O("div",{class:"text-gray-600 font-medium"},"Güncel Durum:",-1),GX={class:"mt-2 flex flex-wrap"},QX={__name:"BlogCards",props:{totalBlogs:Number,totalBlogView:Number,blogsCategorySummary:Object},setup(t){const e=t,n={blog:"bg-blue-100 text-blue-700",hukuk:"bg-green-100 text-green-700","son-dakika":"bg-gray-100 text-gray-700",haberler:"bg-red-100 text-red-700"},r=s=>{switch(s){case"blog":return"Blog Yazısı";case"hukuk":return"Hukuk";case"son-dakika":return"Son Dakika";case"haberler":return"Haberler";default:return"Unknown"}};ge(()=>e.totalBlogs===0?0:(e.totalBlogView/e.totalBlogs*100).toFixed(2));const i=ge(()=>e.totalBlogs===0?0:(e.totalBlogs/100*100).toFixed(2));return(s,o)=>(ne(),ae("div",DX,[O("div",MX,[O("div",NX,[O("div",LX,[O("div",$X,we(t.totalBlogs),1),FX]),VX]),O("div",UX,[O("div",{class:"h-full bg-blue-600",style:wn({width:i.value+"%"})},null,4)]),O("div",BX,we(i.value)+"% ",1)]),O("div",jX,[O("div",qX,[O("div",HX,[O("div",zX,we(t.totalBlogView),1),WX]),KX]),YX,O("div",GX,[(ne(!0),ae(Ie,null,Ge(t.blogsCategorySummary,(a,l)=>(ne(),ae("span",{key:l,class:Ke([n[l],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},we(r(l))+": "+we(a),3))),128))])])]))}},XX={class:"flex justify-between mb-4 items-center"},JX=O("h1",{class:"font-medium"},"Blog Yönetimi",-1),ZX={action:"",class:"flex items-center mb-4"},eJ={class:"relative w-full mr-2"},tJ=O("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1),nJ={key:0,class:"w-full mt-4 table-fixed"},rJ=O("thead",null,[O("tr",null,[O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Başlık "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yaratılma Tarihi "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Kategori "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Değiştirilme Tarihi "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Görüntülenme "),O("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Aksiyonlar ")])],-1),iJ={class:"py-4 px-4 border-b border-b-gray-200"},sJ={class:"flex items-center"},oJ={href:"#",class:"text-gray-600 text-sm font-medium hover:text-blue-500 truncate"},aJ={class:"py-4 px-4 border-b border-b-gray-200"},lJ={class:"text-[13px] font-medium text-gray-600"},uJ={class:"py-4 px-4 border-b border-b-gray-200"},cJ={class:"flex space-x-5"},fJ={class:"text-[13px] font-medium text-gray-600"},dJ={class:"py-4 px-4 border-b border-b-gray-200"},hJ={class:"flex space-x-5"},pJ={class:"text-[13px] font-medium text-gray-600"},mJ={class:"py-4 px-4 border-b border-b-gray-200"},gJ={class:"flex space-x-5"},vJ={class:"text-[13px] font-medium text-gray-600"},yJ={class:"py-4 px-4 border-b border-b-gray-200 flex justify-between"},_J={class:"button-container relative flex flex-row gap-1"},bJ=["onClick"],wJ=["onClick"],EJ=["onClick"],TJ={class:"pagination-container flex justify-end mt-4 w-full"},AJ=["disabled"],xJ=["disabled"],kJ={__name:"BlogManagement",props:{blogsData:{type:Object,required:!0},blogRef:{type:Object,required:!0}},emits:["goAddBlog","deleteBlog","updateBlog"],setup(t,{emit:e}){const n=he(!1),r=he(!1);let i=null;const s=he(null),o=t;o.blogRef;const a=e;function l(k){let A;if(k&&k.seconds)A=new Date(k.seconds*1e3);else if(k instanceof Date)A=k;else return"";const T=A.getDate().toString().padStart(2,"0"),R=(A.getMonth()+1).toString().padStart(2,"0"),N=A.getFullYear();return`${T}/${R}/${N}`}function f(k){n.value=!0,s.value=k,console.log(s.value.created_date),console.log("blog id to edit",k.id)}function u(k){i=k,r.value=!0}function c(){a("deleteBlog",i)}function d(k){a("updateBlog",k),n.value=!1}const h=ge(()=>o.blogsData.length),p=ge(()=>{let k=0;return o.blogsData.forEach(A=>{k+=A.view_count||0}),console.log("Total view:",k),k}),m=he(1),y=he(10),v=he(""),_=ge(()=>v.value?o.blogsData.filter(k=>k.title.toLowerCase().includes(v.value.toLowerCase())):o.blogsData),b=ge(()=>(m.value-1)*y.value),g=ge(()=>{if(_.value.length===0){const k=b.value,A=k+y.value;return o.blogsData.slice(k,A)}else return _.value.slice(b.value,b.value+y.value)}),w=ge(()=>_.value.length===0?Math.ceil(o.blogsData.length/y.value):Math.ceil(_.value.length/y.value)),x=ge(()=>{const k={};return o.blogsData.forEach(A=>{k[A.category]?k[A.category]++:k[A.category]=1}),k}),I=()=>{m.value>1&&m.value--},E=()=>{m.value<w.value&&m.value++},S=(k,A)=>{console.log("Opening blog URL:",k,A),window.open(`https://tiryakihukuk.com/blog/${k}/${A}`,"_blank")};return pt(async()=>{console.log("Blogs data:",o.blogsData)}),(k,A)=>(ne(),ae("div",null,[Ce($Q,{show:r.value,onClose:A[0]||(A[0]=T=>r.value=!1),onDelete:c},null,8,["show"]),Ce(CX,{show:n.value,onClose:A[1]||(A[1]=T=>n.value=!1),onUpdateBlog:d,blogDataToUpdate:s.value},null,8,["show","blogDataToUpdate"]),Ce(QX,{totalBlogs:h.value,totalBlogView:p.value,blogsCategorySummary:x.value},null,8,["totalBlogs","totalBlogView","blogsCategorySummary"]),Ce(sR,{class:"p-6"},{default:He(()=>{var T;return[O("div",XX,[JX,Ce(Bt,{text:"+ Ekle",color:"blue",wFull:!1,onClick:A[2]||(A[2]=R=>a("goAddBlog"))})]),O("form",ZX,[O("div",eJ,[wt(O("input",{"onUpdate:modelValue":A[3]||(A[3]=R=>v.value=R),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full shadow-md shadow-black/5 outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Başlığa göre ara..."},null,512),[[Gr,v.value]]),tJ])]),(T=t.blogsData)!=null&&T.length?(ne(),ae("table",nJ,[rJ,O("tbody",null,[(ne(!0),ae(Ie,null,Ge(g.value,R=>(ne(),ae("tr",{key:R.id},[O("td",iJ,[O("div",sJ,[O("a",oJ,we(R.title),1)])]),O("td",aJ,[O("span",lJ,we(l(R.created_date)),1)]),O("td",uJ,[O("div",cJ,[O("span",fJ,we(R.category),1)])]),O("td",dJ,[O("div",hJ,[O("span",pJ,we(l(R.updated_date)),1)])]),O("td",mJ,[O("div",gJ,[O("span",vJ,we(R.view_count||0),1)])]),O("td",yJ,[O("div",_J,[O("button",{onClick:N=>f(R),class:"ri-edit-line text-lg bg-orange-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,bJ),O("button",{onClick:N=>S(R.slug,R.id),class:"ri-eye-line text-lg bg-green-500 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,wJ),O("button",{onClick:N=>u(R.id),id:"delete-blog-modal-button",class:"ri-delete-bin-6-line text-lg bg-red-700 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,EJ)])])]))),128))])])):me("",!0),O("div",TJ,[O("button",{onClick:I,disabled:m.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,AJ),O("button",{onClick:E,disabled:m.value===w.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,xJ)])]}),_:1})]))}};function SJ(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function jR(t,e){return new Promise(function(n,r){let i;return IJ(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const IJ=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const f=o+10;let u;switch(s.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(f+2,u)!==42)return n("TIFF header contains invalid version");const c=s.getUint32(f+4,u),d=f+c+2+12*s.getUint16(f+c,u);for(let h=f+c+2;h<d;h+=12)if(s.getUint16(h,u)==274){if(s.getUint16(h+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(h+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(h+8,1,u);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var wd={},RJ={get exports(){return wd},set exports(t){wd=t}};(function(t){var e,n,r={};RJ.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,f={},u=new Uint8Array(i),c=u.length-4;a(u,c)!=101010256;)c--;l=c,l+=4;var d=o(u,l+=4);o(u,l+=2);var h=a(u,l+=2),p=a(u,l+=4);l+=4,l=p;for(var m=0;m<d;m++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),h=a(u,l+=4);var y=a(u,l+=4),v=o(u,l+=4),_=o(u,l+2),b=o(u,l+4);l+=6;var g=a(u,l+=8);l+=4,l+=v+_+b,r._readLocal(u,g,f,h,y,s)}return f},r._readLocal=function(i,s,o,a,l,f){var u=r.bin.readUshort,c=r.bin.readUint;c(i,s),u(i,s+=4),u(i,s+=2);var d=u(i,s+=2);c(i,s+=2),c(i,s+=4),s+=4;var h=u(i,s+=8),p=u(i,s+=2);s+=2;var m=r.bin.readUTF8(i,s,h);if(s+=h,s+=p,f)o[m]={size:l,csize:a};else{var y=new Uint8Array(i.buffer,s);if(d==0)o[m]=new Uint8Array(y.buffer.slice(s,s+a));else{if(d!=8)throw"unknown compression method: "+d;var v=new Uint8Array(l);r.inflateRaw(y,v),o[m]=v}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,f={};for(var u in i){var c=!r._noNeed(u)&&!s,d=i[u],h=r.crc.crc(d,0,d.length);f[u]={cpr:c,usize:d.length,crc:h,file:c?r.deflateRaw(d):d}}for(var u in f)o+=f[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var p=new Uint8Array(o),m=0,y=[];for(var u in f){var v=f[u];y.push(m),m=r._writeHeader(p,m,u,v,0)}var _=0,b=m;for(var u in f)v=f[u],y.push(m),m=r._writeHeader(p,m,u,v,1,y[_++]);var g=m-b;return a(p,m,101010256),m+=4,l(p,m+=4,_),l(p,m+=2,_),a(p,m+=2,g),a(p,m+=4,b),m+=4,m+=2,p.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,f){var u=r.bin.writeUint,c=r.bin.writeUshort,d=a.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),c(i,s,20),c(i,s+=2,0),c(i,s+=2,a.cpr?8:0),u(i,s+=2,0),u(i,s+=4,a.crc),u(i,s+=4,d.length),u(i,s+=4,a.usize),c(i,s+=4,r.bin.sizeUTF8(o)),c(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,f),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(d,s),s+=d.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,f=s,u=s+o;f<u;){for(var c=Math.min(f+5552,u);f<c;)l+=a+=i[f++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",f=0;f<o;f++)l+="%"+r.bin.pad(i[s+f].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,f=0;f<a;f++){var u=o.charCodeAt(f);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],f=r.F.U,u=r.F._goodIndex;r.F._hash;var c=r.F._putsE,d=0,h=o<<3,p=0,m=i.length;if(a==0){for(;d<m;)c(s,h,d+(A=Math.min(65535,m-d))==m?1:0),h=r.F._copyExact(i,d,A,s,h+8),d+=A;return h>>>3}var y=f.lits,v=f.strt,_=f.prev,b=0,g=0,w=0,x=0,I=0,E=0;for(m>2&&(v[E=r.F._hash(i,0)]=0),d=0;d<m;d++){if(I=E,d+1<m-2){E=r.F._hash(i,d+1);var S=d+1&32767;_[S]=v[E],v[E]=S}if(p<=d){(b>14e3||g>26697)&&m-d>100&&(p<d&&(y[b]=d-p,b+=2,p=d),h=r.F._writeBlock(d==m-1||p==m?1:0,y,b,x,i,w,d-w,s,h),b=g=x=0,w=d);var k=0;d<m-2&&(k=r.F._bestMatch(i,d,_,I,Math.min(l[2],m-d),l[3]));var A=k>>>16,T=65535&k;if(k!=0){T=65535&k;var R=u(A=k>>>16,f.of0);f.lhst[257+R]++;var N=u(T,f.df0);f.dhst[N]++,x+=f.exb[R]+f.dxb[N],y[b]=A<<23|d-p,y[b+1]=T<<16|R<<8|N,b+=2,p=d+A}else f.lhst[i[d]]++;g++}}for(w==d&&i.length!=0||(p<d&&(y[b]=d-p,b+=2,p=d),h=r.F._writeBlock(1,y,b,x,i,w,d-w,s,h),b=0,g=0,b=g=x=0,w=d);7&h;)h++;return h>>>3},r.F._bestMatch=function(i,s,o,a,l,f){var u=32767&s,c=o[u],d=u-c+32768&32767;if(c==u||a!=r.F._hash(i,s-d))return 0;for(var h=0,p=0,m=Math.min(32767,s);d<=m&&--f!=0&&c!=u;){if(h==0||i[s+h]==i[s+h-d]){var y=r.F._howLong(i,s,d);if(y>h){if(p=d,(h=y)>=l)break;d+2<y&&(y=d+2);for(var v=0,_=0;_<y-2;_++){var b=s-d+_+32768&32767,g=b-o[b]+32768&32767;g>v&&(v=g,c=b)}}}d+=(u=c)-(c=o[u])+32768&32767}return h<<16|p},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,f,u,c,d){var h,p,m,y,v,_,b,g,w,x=r.F.U,I=r.F._putsF,E=r.F._putsE;x.lhst[256]++,p=(h=r.F.getTrees())[0],m=h[1],y=h[2],v=h[3],_=h[4],b=h[5],g=h[6],w=h[7];var S=32+(d+3&7?8-(d+3&7):0)+(u<<3),k=a+r.F.contSize(x.fltree,x.lhst)+r.F.contSize(x.fdtree,x.dhst),A=a+r.F.contSize(x.ltree,x.lhst)+r.F.contSize(x.dtree,x.dhst);A+=14+3*b+r.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var T=0;T<286;T++)x.lhst[T]=0;for(T=0;T<30;T++)x.dhst[T]=0;for(T=0;T<19;T++)x.ihst[T]=0;var R=S<k&&S<A?0:k<A?1:2;if(I(c,d,i),I(c,d+1,R),d+=3,R==0){for(;7&d;)d++;d=r.F._copyExact(l,f,u,c,d)}else{var N,D;if(R==1&&(N=x.fltree,D=x.fdtree),R==2){r.F.makeCodes(x.ltree,p),r.F.revCodes(x.ltree,p),r.F.makeCodes(x.dtree,m),r.F.revCodes(x.dtree,m),r.F.makeCodes(x.itree,y),r.F.revCodes(x.itree,y),N=x.ltree,D=x.dtree,E(c,d,v-257),E(c,d+=5,_-1),E(c,d+=5,b-4),d+=4;for(var P=0;P<b;P++)E(c,d+3*P,x.itree[1+(x.ordr[P]<<1)]);d+=3*b,d=r.F._codeTiny(g,x.itree,c,d),d=r.F._codeTiny(w,x.itree,c,d)}for(var C=f,G=0;G<o;G+=2){for(var H=s[G],B=H>>>23,$=C+(8388607&H);C<$;)d=r.F._writeLit(l[C++],N,c,d);if(B!=0){var V=s[G+1],M=V>>16,W=V>>8&255,z=255&V;E(c,d=r.F._writeLit(257+W,N,c,d),B-x.of0[W]),d+=x.exb[W],I(c,d=r.F._writeLit(z,D,c,d),M-x.df0[z]),d+=x.dxb[z],C+=B}}d=r.F._writeLit(256,N,c,d)}return d},r.F._copyExact=function(i,s,o,a,l){var f=l>>>3;return a[f]=o,a[f+1]=o>>>8,a[f+2]=255-a[f],a[f+3]=255-a[f+1],f+=4,a.set(new Uint8Array(i.buffer,s,o),f),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),f=[],u=r.F._lenCodes(i.dtree,f),c=0;c<a.length;c+=2)i.ihst[a[c]]++;for(c=0;c<f.length;c+=2)i.ihst[f[c]]++;for(var d=r.F._hufTree(i.ihst,i.itree,7),h=19;h>4&&i.itree[1+(i.ordr[h-1]<<1)]==0;)h--;return[s,o,d,l,u,h,a,f]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var f=i[l],u=i[l+1];a=r.F._writeLit(f,s,o,a);var c=f==16?2:f==17?3:7;f>15&&(r.F._putsE(o,a,u,c),a+=c)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],f=a+3<o?i[a+3]:-1,u=a+5<o?i[a+5]:-1,c=a==0?-1:i[a-1];if(l==0&&f==l&&u==l){for(var d=a+5;d+2<o&&i[d+2]==l;)d+=2;(h=Math.min(d+1-a>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),a+=2*h-2}else if(l==c&&f==l&&u==l){for(d=a+5;d+2<o&&i[d+2]==l;)d+=2;var h=Math.min(d+1-a>>>1,6);s.push(16,h-3),a+=2*h-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,f=s.length,u=0;for(u=0;u<f;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var c=a.length,d=a.slice(0);if(c==0)return 0;if(c==1){var h=a[0].lit;return d=h==0?1:0,s[1+(h<<1)]=1,s[1+(d<<1)]=1,1}a.sort(function(g,w){return g.f-w.f});var p=a[0],m=a[1],y=0,v=1,_=2;for(a[0]={lit:-1,f:p.f+m.f,l:p,r:m,d:0};v!=c-1;)p=y!=v&&(_==c||a[y].f<a[_].f)?a[y++]:a[_++],m=y!=v&&(_==c||a[y].f<a[_].f)?a[y++]:a[_++],a[v++]={lit:-1,f:p.f+m.f,l:p,r:m};var b=r.F.setDepth(a[v-1],0);for(b>o&&(r.F.restrictDepth(d,o,b),b=o),u=0;u<c;u++)s[1+(d[u].lit<<1)]=d[u].d;return b},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,f=0;for(i.sort(function(c,d){return d.d==c.d?c.f-d.f:d.d-c.d}),a=0;a<i.length&&i[a].d>s;a++){var u=i[a].d;i[a].d=s,f+=l-(1<<o-u)}for(f>>>=o-s;f>0;)(u=i[a].d)<s?(i[a].d++,f-=1<<s-u-1):a++;for(;a>=0;a--)i[a].d==s&&f<0&&(i[a].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,f=a._bitsE,u=a._decodeTiny,c=a.makeCodes,d=a.codes2map,h=a._get17,p=a.U,m=s==null;m&&(s=new o(i.length>>>2<<3));for(var y,v,_=0,b=0,g=0,w=0,x=0,I=0,E=0,S=0,k=0;_==0;)if(_=l(i,k,1),b=l(i,k+1,2),k+=3,b!=0){if(m&&(s=r.F._check(s,S+(1<<17))),b==1&&(y=p.flmap,v=p.fdmap,I=511,E=31),b==2){g=f(i,k,5)+257,w=f(i,k+5,5)+1,x=f(i,k+10,4)+4,k+=14;for(var A=0;A<38;A+=2)p.itree[A]=0,p.itree[A+1]=0;var T=1;for(A=0;A<x;A++){var R=f(i,k+3*A,3);p.itree[1+(p.ordr[A]<<1)]=R,R>T&&(T=R)}k+=3*x,c(p.itree,T),d(p.itree,T,p.imap),y=p.lmap,v=p.dmap,k=u(p.imap,(1<<T)-1,g+w,i,k,p.ttree);var N=a._copyOut(p.ttree,0,g,p.ltree);I=(1<<N)-1;var D=a._copyOut(p.ttree,g,w,p.dtree);E=(1<<D)-1,c(p.ltree,N),d(p.ltree,N,y),c(p.dtree,D),d(p.dtree,D,v)}for(;;){var P=y[h(i,k)&I];k+=15&P;var C=P>>>4;if(!(C>>>8))s[S++]=C;else{if(C==256)break;var G=S+C-254;if(C>264){var H=p.ldef[C-257];G=S+(H>>>3)+f(i,k,7&H),k+=7&H}var B=v[h(i,k)&E];k+=15&B;var $=B>>>4,V=p.ddef[$],M=(V>>>4)+l(i,k,15&V);for(k+=15&V,m&&(s=r.F._check(s,S+(1<<17)));S<G;)s[S]=s[S++-M],s[S]=s[S++-M],s[S]=s[S++-M],s[S]=s[S++-M];S=G}}}else{7&k&&(k+=8-(7&k));var W=4+(k>>>3),z=i[W-4]|i[W-3]<<8;m&&(s=r.F._check(s,S+z)),s.set(new o(i.buffer,i.byteOffset+W,z),S),k=W+z<<3,S+=z}return s.length==S?s:s.slice(0,S)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,f){for(var u=r.F._bitsE,c=r.F._get17,d=0;d<o;){var h=i[c(a,l)&s];l+=15&h;var p=h>>>4;if(p<=15)f[d]=p,d++;else{var m=0,y=0;p==16?(y=3+u(a,l,2),l+=2,m=f[d-1]):p==17?(y=3+u(a,l,3),l+=3):p==18&&(y=11+u(a,l,7),l+=7);for(var v=d+y;d<v;)f[d]=m,d++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,f=0,u=a.length>>>1;f<o;){var c=i[f+s];a[f<<1]=0,a[1+(f<<1)]=c,c>l&&(l=c),f++}for(;f<u;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,f,u=r.F.U,c=i.length,d=u.bl_count,h=0;h<=s;h++)d[h]=0;for(h=1;h<c;h+=2)d[i[h]]++;var p=u.next_code;for(o=0,d[0]=0,a=1;a<=s;a++)o=o+d[a-1]<<1,p[a]=o;for(l=0;l<c;l+=2)(f=i[l+1])!=0&&(i[l]=p[f],p[f]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,f=0;f<a;f+=2)if(i[f+1]!=0)for(var u=f>>1,c=i[f+1],d=u<<4|c,h=s-c,p=i[f]<<h,m=p+(1<<h);p!=m;)o[l[p]>>>15-s]=d,p++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var f=i[l]<<s-i[l+1];i[l]=o[f]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,f,u){for(;f--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var OJ=SJ({__proto__:null,default:wd},[wd]);const qr=function(){var t={nextZero(u,c){for(;u[c]!=0;)c++;return c},readUshort:(u,c)=>u[c]<<8|u[c+1],writeUshort(u,c,d){u[c]=d>>8&255,u[c+1]=255&d},readUint:(u,c)=>16777216*u[c]+(u[c+1]<<16|u[c+2]<<8|u[c+3]),writeUint(u,c,d){u[c]=d>>24&255,u[c+1]=d>>16&255,u[c+2]=d>>8&255,u[c+3]=255&d},readASCII(u,c,d){let h="";for(let p=0;p<d;p++)h+=String.fromCharCode(u[c+p]);return h},writeASCII(u,c,d){for(let h=0;h<d.length;h++)u[c+h]=d.charCodeAt(h)},readBytes(u,c,d){const h=[];for(let p=0;p<d;p++)h.push(u[c+p]);return h},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,c,d){let h,p="";for(let m=0;m<d;m++)p+=`%${t.pad(u[c+m].toString(16))}`;try{h=decodeURIComponent(p)}catch{return t.readASCII(u,c,d)}return h}};function e(u,c,d,h){const p=c*d,m=s(h),y=Math.ceil(c*m/8),v=new Uint8Array(4*p),_=new Uint32Array(v.buffer),{ctype:b}=h,{depth:g}=h,w=t.readUshort;if(b==6){const H=p<<2;if(g==8)for(var x=0;x<H;x+=4)v[x]=u[x],v[x+1]=u[x+1],v[x+2]=u[x+2],v[x+3]=u[x+3];if(g==16)for(x=0;x<H;x++)v[x]=u[x<<1]}else if(b==2){const H=h.tabs.tRNS;if(H==null){if(g==8)for(x=0;x<p;x++){var I=3*x;_[x]=255<<24|u[I+2]<<16|u[I+1]<<8|u[I]}if(g==16)for(x=0;x<p;x++)I=6*x,_[x]=255<<24|u[I+4]<<16|u[I+2]<<8|u[I]}else{var E=H[0];const B=H[1],$=H[2];if(g==8)for(x=0;x<p;x++){var S=x<<2;I=3*x,_[x]=255<<24|u[I+2]<<16|u[I+1]<<8|u[I],u[I]==E&&u[I+1]==B&&u[I+2]==$&&(v[S+3]=0)}if(g==16)for(x=0;x<p;x++)S=x<<2,I=6*x,_[x]=255<<24|u[I+4]<<16|u[I+2]<<8|u[I],w(u,I)==E&&w(u,I+2)==B&&w(u,I+4)==$&&(v[S+3]=0)}}else if(b==3){const H=h.tabs.PLTE,B=h.tabs.tRNS,$=B?B.length:0;if(g==1)for(var k=0;k<d;k++){var A=k*y,T=k*c;for(x=0;x<c;x++){S=T+x<<2;var R=3*(N=u[A+(x>>3)]>>7-((7&x)<<0)&1);v[S]=H[R],v[S+1]=H[R+1],v[S+2]=H[R+2],v[S+3]=N<$?B[N]:255}}if(g==2)for(k=0;k<d;k++)for(A=k*y,T=k*c,x=0;x<c;x++)S=T+x<<2,R=3*(N=u[A+(x>>2)]>>6-((3&x)<<1)&3),v[S]=H[R],v[S+1]=H[R+1],v[S+2]=H[R+2],v[S+3]=N<$?B[N]:255;if(g==4)for(k=0;k<d;k++)for(A=k*y,T=k*c,x=0;x<c;x++)S=T+x<<2,R=3*(N=u[A+(x>>1)]>>4-((1&x)<<2)&15),v[S]=H[R],v[S+1]=H[R+1],v[S+2]=H[R+2],v[S+3]=N<$?B[N]:255;if(g==8)for(x=0;x<p;x++){var N;S=x<<2,R=3*(N=u[x]),v[S]=H[R],v[S+1]=H[R+1],v[S+2]=H[R+2],v[S+3]=N<$?B[N]:255}}else if(b==4){if(g==8)for(x=0;x<p;x++){S=x<<2;var D=u[P=x<<1];v[S]=D,v[S+1]=D,v[S+2]=D,v[S+3]=u[P+1]}if(g==16)for(x=0;x<p;x++){var P;S=x<<2,D=u[P=x<<2],v[S]=D,v[S+1]=D,v[S+2]=D,v[S+3]=u[P+2]}}else if(b==0)for(E=h.tabs.tRNS?h.tabs.tRNS:-1,k=0;k<d;k++){const H=k*y,B=k*c;if(g==1)for(var C=0;C<c;C++){var G=(D=255*(u[H+(C>>>3)]>>>7-(7&C)&1))==255*E?0:255;_[B+C]=G<<24|D<<16|D<<8|D}else if(g==2)for(C=0;C<c;C++)G=(D=85*(u[H+(C>>>2)]>>>6-((3&C)<<1)&3))==85*E?0:255,_[B+C]=G<<24|D<<16|D<<8|D;else if(g==4)for(C=0;C<c;C++)G=(D=17*(u[H+(C>>>1)]>>>4-((1&C)<<2)&15))==17*E?0:255,_[B+C]=G<<24|D<<16|D<<8|D;else if(g==8)for(C=0;C<c;C++)G=(D=u[H+C])==E?0:255,_[B+C]=G<<24|D<<16|D<<8|D;else if(g==16)for(C=0;C<c;C++)D=u[H+(C<<1)],G=w(u,H+(C<<1))==E?0:255,_[B+C]=G<<24|D<<16|D<<8|D}return v}function n(u,c,d,h){const p=s(u),m=Math.ceil(d*p/8),y=new Uint8Array((m+1+u.interlace)*h);return c=u.tabs.CgBI?i(c,y):r(c,y),u.interlace==0?c=o(c,u,0,d,h):u.interlace==1&&(c=function(_,b){const g=b.width,w=b.height,x=s(b),I=x>>3,E=Math.ceil(g*x/8),S=new Uint8Array(w*E);let k=0;const A=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let D=0;for(;D<7;){const C=R[D],G=N[D];let H=0,B=0,$=A[D];for(;$<w;)$+=C,B++;let V=T[D];for(;V<g;)V+=G,H++;const M=Math.ceil(H*x/8);o(_,b,k,H,B);let W=0,z=A[D];for(;z<w;){let j=T[D],F=k+W*M<<3;for(;j<g;){var P;if(x==1&&(P=(P=_[F>>3])>>7-(7&F)&1,S[z*E+(j>>3)]|=P<<7-((7&j)<<0)),x==2&&(P=(P=_[F>>3])>>6-(7&F)&3,S[z*E+(j>>2)]|=P<<6-((3&j)<<1)),x==4&&(P=(P=_[F>>3])>>4-(7&F)&15,S[z*E+(j>>1)]|=P<<4-((1&j)<<2)),x>=8){const J=z*E+j*I;for(let K=0;K<I;K++)S[J+K]=_[(F>>3)+K]}F+=x,j+=G}W++,z+=C}H*B!=0&&(k+=B*(1+M)),D+=1}return S}(c,u)),c}function r(u,c){return i(new Uint8Array(u.buffer,2,u.length-6),c)}var i=function(){const u={H:{}};return u.H.N=function(c,d){const h=Uint8Array;let p,m,y=0,v=0,_=0,b=0,g=0,w=0,x=0,I=0,E=0;if(c[0]==3&&c[1]==0)return d||new h(0);const S=u.H,k=S.b,A=S.e,T=S.R,R=S.n,N=S.A,D=S.Z,P=S.m,C=d==null;for(C&&(d=new h(c.length>>>2<<5));y==0;)if(y=k(c,E,1),v=k(c,E+1,2),E+=3,v!=0){if(C&&(d=u.H.W(d,I+(1<<17))),v==1&&(p=P.J,m=P.h,w=511,x=31),v==2){_=A(c,E,5)+257,b=A(c,E+5,5)+1,g=A(c,E+10,4)+4,E+=14;let H=1;for(var G=0;G<38;G+=2)P.Q[G]=0,P.Q[G+1]=0;for(G=0;G<g;G++){const V=A(c,E+3*G,3);P.Q[1+(P.X[G]<<1)]=V,V>H&&(H=V)}E+=3*g,R(P.Q,H),N(P.Q,H,P.u),p=P.w,m=P.d,E=T(P.u,(1<<H)-1,_+b,c,E,P.v);const B=S.V(P.v,0,_,P.C);w=(1<<B)-1;const $=S.V(P.v,_,b,P.D);x=(1<<$)-1,R(P.C,B),N(P.C,B,p),R(P.D,$),N(P.D,$,m)}for(;;){const H=p[D(c,E)&w];E+=15&H;const B=H>>>4;if(!(B>>>8))d[I++]=B;else{if(B==256)break;{let $=I+B-254;if(B>264){const j=P.q[B-257];$=I+(j>>>3)+A(c,E,7&j),E+=7&j}const V=m[D(c,E)&x];E+=15&V;const M=V>>>4,W=P.c[M],z=(W>>>4)+k(c,E,15&W);for(E+=15&W;I<$;)d[I]=d[I++-z],d[I]=d[I++-z],d[I]=d[I++-z],d[I]=d[I++-z];I=$}}}}else{7&E&&(E+=8-(7&E));const H=4+(E>>>3),B=c[H-4]|c[H-3]<<8;C&&(d=u.H.W(d,I+B)),d.set(new h(c.buffer,c.byteOffset+H,B),I),E=H+B<<3,I+=B}return d.length==I?d:d.slice(0,I)},u.H.W=function(c,d){const h=c.length;if(d<=h)return c;const p=new Uint8Array(h<<1);return p.set(c,0),p},u.H.R=function(c,d,h,p,m,y){const v=u.H.e,_=u.H.Z;let b=0;for(;b<h;){const g=c[_(p,m)&d];m+=15&g;const w=g>>>4;if(w<=15)y[b]=w,b++;else{let x=0,I=0;w==16?(I=3+v(p,m,2),m+=2,x=y[b-1]):w==17?(I=3+v(p,m,3),m+=3):w==18&&(I=11+v(p,m,7),m+=7);const E=b+I;for(;b<E;)y[b]=x,b++}}return m},u.H.V=function(c,d,h,p){let m=0,y=0;const v=p.length>>>1;for(;y<h;){const _=c[y+d];p[y<<1]=0,p[1+(y<<1)]=_,_>m&&(m=_),y++}for(;y<v;)p[y<<1]=0,p[1+(y<<1)]=0,y++;return m},u.H.n=function(c,d){const h=u.H.m,p=c.length;let m,y,v,_;const b=h.j;for(var g=0;g<=d;g++)b[g]=0;for(g=1;g<p;g+=2)b[c[g]]++;const w=h.K;for(m=0,b[0]=0,y=1;y<=d;y++)m=m+b[y-1]<<1,w[y]=m;for(v=0;v<p;v+=2)_=c[v+1],_!=0&&(c[v]=w[_],w[_]++)},u.H.A=function(c,d,h){const p=c.length,m=u.H.m.r;for(let y=0;y<p;y+=2)if(c[y+1]!=0){const v=y>>1,_=c[y+1],b=v<<4|_,g=d-_;let w=c[y]<<g;const x=w+(1<<g);for(;w!=x;)h[m[w]>>>15-d]=b,w++}},u.H.l=function(c,d){const h=u.H.m.r,p=15-d;for(let m=0;m<c.length;m+=2){const y=c[m]<<d-c[m+1];c[m]=h[y]>>>p}},u.H.M=function(c,d,h){h<<=7&d;const p=d>>>3;c[p]|=h,c[p+1]|=h>>>8},u.H.I=function(c,d,h){h<<=7&d;const p=d>>>3;c[p]|=h,c[p+1]|=h>>>8,c[p+2]|=h>>>16},u.H.e=function(c,d,h){return(c[d>>>3]|c[1+(d>>>3)]<<8)>>>(7&d)&(1<<h)-1},u.H.b=function(c,d,h){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16)>>>(7&d)&(1<<h)-1},u.H.Z=function(c,d){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16)>>>(7&d)},u.H.i=function(c,d){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16|c[3+(d>>>3)]<<24)>>>(7&d)},u.H.m=function(){const c=Uint16Array,d=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=u.H.m;for(var d=0;d<32768;d++){let p=d;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,c.r[d]=(p>>>16|p<<16)>>>17}function h(p,m,y){for(;m--!=0;)p.push(0,y)}for(d=0;d<32;d++)c.q[d]=c.S[d]<<3|c.T[d],c.c[d]=c.p[d]<<4|c.z[d];h(c._,144,8),h(c._,112,9),h(c._,24,7),h(c._,8,8),u.H.n(c._,9),u.H.A(c._,9,c.J),u.H.l(c._,9),h(c.$,32,5),u.H.n(c.$,5),u.H.A(c.$,5,c.h),u.H.l(c.$,5),h(c.Q,19,0),h(c.C,286,0),h(c.D,30,0),h(c.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,c,d,h,p){let m=s(c);const y=Math.ceil(h*m/8);let v,_;m=Math.ceil(m/8);let b=u[d],g=0;if(b>1&&(u[d]=[0,0,1][b-2]),b==3)for(g=m;g<y;g++)u[g+1]=u[g+1]+(u[g+1-m]>>>1)&255;for(let w=0;w<p;w++)if(v=d+w*y,_=v+w+1,b=u[_-1],g=0,b==0)for(;g<y;g++)u[v+g]=u[_+g];else if(b==1){for(;g<m;g++)u[v+g]=u[_+g];for(;g<y;g++)u[v+g]=u[_+g]+u[v+g-m]}else if(b==2)for(;g<y;g++)u[v+g]=u[_+g]+u[v+g-y];else if(b==3){for(;g<m;g++)u[v+g]=u[_+g]+(u[v+g-y]>>>1);for(;g<y;g++)u[v+g]=u[_+g]+(u[v+g-y]+u[v+g-m]>>>1)}else{for(;g<m;g++)u[v+g]=u[_+g]+a(0,u[v+g-y],0);for(;g<y;g++)u[v+g]=u[_+g]+a(u[v+g-m],u[v+g-y],u[v+g-m-y])}return u}function a(u,c,d){const h=u+c-d,p=h-u,m=h-c,y=h-d;return p*p<=m*m&&p*p<=y*y?u:m*m<=y*y?c:d}function l(u,c,d){d.width=t.readUint(u,c),c+=4,d.height=t.readUint(u,c),c+=4,d.depth=u[c],c++,d.ctype=u[c],c++,d.compress=u[c],c++,d.filter=u[c],c++,d.interlace=u[c],c++}function f(u,c,d,h,p,m,y,v,_){const b=Math.min(c,p),g=Math.min(d,m);let w=0,x=0;for(let D=0;D<g;D++)for(let P=0;P<b;P++)if(y>=0&&v>=0?(w=D*c+P<<2,x=(v+D)*p+y+P<<2):(w=(-v+D)*c-y+P<<2,x=D*p+P<<2),_==0)h[x]=u[w],h[x+1]=u[w+1],h[x+2]=u[w+2],h[x+3]=u[w+3];else if(_==1){var I=u[w+3]*.00392156862745098,E=u[w]*I,S=u[w+1]*I,k=u[w+2]*I,A=h[x+3]*(1/255),T=h[x]*A,R=h[x+1]*A,N=h[x+2]*A;const C=1-I,G=I+A*C,H=G==0?0:1/G;h[x+3]=255*G,h[x+0]=(E+T*C)*H,h[x+1]=(S+R*C)*H,h[x+2]=(k+N*C)*H}else if(_==2)I=u[w+3],E=u[w],S=u[w+1],k=u[w+2],A=h[x+3],T=h[x],R=h[x+1],N=h[x+2],I==A&&E==T&&S==R&&k==N?(h[x]=0,h[x+1]=0,h[x+2]=0,h[x+3]=0):(h[x]=E,h[x+1]=S,h[x+2]=k,h[x+3]=I);else if(_==3){if(I=u[w+3],E=u[w],S=u[w+1],k=u[w+2],A=h[x+3],T=h[x],R=h[x+1],N=h[x+2],I==A&&E==T&&S==R&&k==N)continue;if(I<220&&A>20)return!1}return!0}return{decode:function(c){const d=new Uint8Array(c);let h=8;const p=t,m=p.readUshort,y=p.readUint,v={tabs:{},frames:[]},_=new Uint8Array(d.length);let b,g=0,w=0;const x=[137,80,78,71,13,10,26,10];for(var I=0;I<8;I++)if(d[I]!=x[I])throw"The input is not a PNG file!";for(;h<d.length;){const D=p.readUint(d,h);h+=4;const P=p.readASCII(d,h,4);if(h+=4,P=="IHDR")l(d,h,v);else if(P=="iCCP"){for(var E=h;d[E]!=0;)E++;p.readASCII(d,h,E-h),d[E+1];const C=d.slice(E+2,h+D);let G=null;try{G=r(C)}catch{G=i(C)}v.tabs[P]=G}else if(P=="CgBI")v.tabs[P]=d.slice(h,h+4);else if(P=="IDAT"){for(I=0;I<D;I++)_[g+I]=d[h+I];g+=D}else if(P=="acTL")v.tabs[P]={num_frames:y(d,h),num_plays:y(d,h+4)},b=new Uint8Array(d.length);else if(P=="fcTL"){w!=0&&((N=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),N.rect.width,N.rect.height),w=0);const C={x:y(d,h+12),y:y(d,h+16),width:y(d,h+4),height:y(d,h+8)};let G=m(d,h+22);G=m(d,h+20)/(G==0?100:G);const H={rect:C,delay:Math.round(1e3*G),dispose:d[h+24],blend:d[h+25]};v.frames.push(H)}else if(P=="fdAT"){for(I=0;I<D-4;I++)b[w+I]=d[h+I+4];w+=D-4}else if(P=="pHYs")v.tabs[P]=[p.readUint(d,h),p.readUint(d,h+4),d[h+8]];else if(P=="cHRM")for(v.tabs[P]=[],I=0;I<8;I++)v.tabs[P].push(p.readUint(d,h+4*I));else if(P=="tEXt"||P=="zTXt"){v.tabs[P]==null&&(v.tabs[P]={});var S=p.nextZero(d,h),k=p.readASCII(d,h,S-h),A=h+D-S-1;if(P=="tEXt")R=p.readASCII(d,S+1,A);else{var T=r(d.slice(S+2,S+2+A));R=p.readUTF8(T,0,T.length)}v.tabs[P][k]=R}else if(P=="iTXt"){v.tabs[P]==null&&(v.tabs[P]={}),S=0,E=h,S=p.nextZero(d,E),k=p.readASCII(d,E,S-E);const C=d[E=S+1];var R;d[E+1],E+=2,S=p.nextZero(d,E),p.readASCII(d,E,S-E),E=S+1,S=p.nextZero(d,E),p.readUTF8(d,E,S-E),A=D-((E=S+1)-h),C==0?R=p.readUTF8(d,E,A):(T=r(d.slice(E,E+A)),R=p.readUTF8(T,0,T.length)),v.tabs[P][k]=R}else if(P=="PLTE")v.tabs[P]=p.readBytes(d,h,D);else if(P=="hIST"){const C=v.tabs.PLTE.length/3;for(v.tabs[P]=[],I=0;I<C;I++)v.tabs[P].push(m(d,h+2*I))}else if(P=="tRNS")v.ctype==3?v.tabs[P]=p.readBytes(d,h,D):v.ctype==0?v.tabs[P]=m(d,h):v.ctype==2&&(v.tabs[P]=[m(d,h),m(d,h+2),m(d,h+4)]);else if(P=="gAMA")v.tabs[P]=p.readUint(d,h)/1e5;else if(P=="sRGB")v.tabs[P]=d[h];else if(P=="bKGD")v.ctype==0||v.ctype==4?v.tabs[P]=[m(d,h)]:v.ctype==2||v.ctype==6?v.tabs[P]=[m(d,h),m(d,h+2),m(d,h+4)]:v.ctype==3&&(v.tabs[P]=d[h]);else if(P=="IEND")break;h+=D,p.readUint(d,h),h+=4}var N;return w!=0&&((N=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),N.rect.width,N.rect.height)),v.data=n(v,_,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(c){const d=c.width,h=c.height;if(c.tabs.acTL==null)return[e(c.data,d,h,c).buffer];const p=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const m=d*h*4,y=new Uint8Array(m),v=new Uint8Array(m),_=new Uint8Array(m);for(let g=0;g<c.frames.length;g++){const w=c.frames[g],x=w.rect.x,I=w.rect.y,E=w.rect.width,S=w.rect.height,k=e(w.data,E,S,c);if(g!=0)for(var b=0;b<m;b++)_[b]=y[b];if(w.blend==0?f(k,E,S,y,d,h,x,I,0):w.blend==1&&f(k,E,S,y,d,h,x,I,1),p.push(y.buffer.slice(0)),w.dispose!=0){if(w.dispose==1)f(v,E,S,y,d,h,x,I,0);else if(w.dispose==2)for(b=0;b<m;b++)y[b]=_[b]}}return p},_paeth:a,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=qr,{_bin:e}=qr,n=qr._paeth;var r={table:function(){const E=new Uint32Array(256);for(let S=0;S<256;S++){let k=S;for(let A=0;A<8;A++)1&k?k=3988292384^k>>>1:k>>>=1;E[S]=k}return E}(),update(E,S,k,A){for(let T=0;T<A;T++)E=r.table[255&(E^S[k+T])]^E>>>8;return E},crc:(E,S,k)=>4294967295^r.update(4294967295,E,S,k)};function i(E,S,k,A){S[k]+=E[0]*A>>4,S[k+1]+=E[1]*A>>4,S[k+2]+=E[2]*A>>4,S[k+3]+=E[3]*A>>4}function s(E){return Math.max(0,Math.min(255,E))}function o(E,S){const k=E[0]-S[0],A=E[1]-S[1],T=E[2]-S[2],R=E[3]-S[3];return k*k+A*A+T*T+R*R}function a(E,S,k,A,T,R,N){N==null&&(N=1);const D=A.length,P=[];for(var C=0;C<D;C++){const z=A[C];P.push([z>>>0&255,z>>>8&255,z>>>16&255,z>>>24&255])}for(C=0;C<D;C++){let z=4294967295;for(var G=0,H=0;H<D;H++){var B=o(P[C],P[H]);H!=C&&B<z&&(z=B,G=H)}}const $=new Uint32Array(T.buffer),V=new Int16Array(S*k*4),M=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(C=0;C<M.length;C++)M[C]=255*((M[C]+.5)/16-.5);for(let z=0;z<k;z++)for(let j=0;j<S;j++){var W;C=4*(z*S+j),N!=2?W=[s(E[C]+V[C]),s(E[C+1]+V[C+1]),s(E[C+2]+V[C+2]),s(E[C+3]+V[C+3])]:(B=M[4*(3&z)+(3&j)],W=[s(E[C]+B),s(E[C+1]+B),s(E[C+2]+B),s(E[C+3]+B)]),G=0;let F=16777215;for(H=0;H<D;H++){const se=o(W,P[H]);se<F&&(F=se,G=H)}const J=P[G],K=[W[0]-J[0],W[1]-J[1],W[2]-J[2],W[3]-J[3]];N==1&&(j!=S-1&&i(K,V,C+4,7),z!=k-1&&(j!=0&&i(K,V,C+4*S-4,3),i(K,V,C+4*S,5),j!=S-1&&i(K,V,C+4*S+4,1))),R[C>>2]=G,$[C>>2]=A[G]}}function l(E,S,k,A,T){T==null&&(T={});const{crc:R}=r,N=e.writeUint,D=e.writeUshort,P=e.writeASCII;let C=8;const G=E.frames.length>1;let H,B=!1,$=33+(G?20:0);if(T.sRGB!=null&&($+=13),T.pHYs!=null&&($+=21),T.iCCP!=null&&(H=pako.deflate(T.iCCP),$+=21+H.length+4),E.ctype==3){for(var V=E.plte.length,M=0;M<V;M++)E.plte[M]>>>24!=255&&(B=!0);$+=8+3*V+4+(B?8+1*V+4:0)}for(var W=0;W<E.frames.length;W++)G&&($+=38),$+=(J=E.frames[W]).cimg.length+12,W!=0&&($+=4);$+=12;const z=new Uint8Array($),j=[137,80,78,71,13,10,26,10];for(M=0;M<8;M++)z[M]=j[M];if(N(z,C,13),C+=4,P(z,C,"IHDR"),C+=4,N(z,C,S),C+=4,N(z,C,k),C+=4,z[C]=E.depth,C++,z[C]=E.ctype,C++,z[C]=0,C++,z[C]=0,C++,z[C]=0,C++,N(z,C,R(z,C-17,17)),C+=4,T.sRGB!=null&&(N(z,C,1),C+=4,P(z,C,"sRGB"),C+=4,z[C]=T.sRGB,C++,N(z,C,R(z,C-5,5)),C+=4),T.iCCP!=null){const K=13+H.length;N(z,C,K),C+=4,P(z,C,"iCCP"),C+=4,P(z,C,"ICC profile"),C+=11,C+=2,z.set(H,C),C+=H.length,N(z,C,R(z,C-(K+4),K+4)),C+=4}if(T.pHYs!=null&&(N(z,C,9),C+=4,P(z,C,"pHYs"),C+=4,N(z,C,T.pHYs[0]),C+=4,N(z,C,T.pHYs[1]),C+=4,z[C]=T.pHYs[2],C++,N(z,C,R(z,C-13,13)),C+=4),G&&(N(z,C,8),C+=4,P(z,C,"acTL"),C+=4,N(z,C,E.frames.length),C+=4,N(z,C,T.loop!=null?T.loop:0),C+=4,N(z,C,R(z,C-12,12)),C+=4),E.ctype==3){for(N(z,C,3*(V=E.plte.length)),C+=4,P(z,C,"PLTE"),C+=4,M=0;M<V;M++){const K=3*M,se=E.plte[M],ce=255&se,Z=se>>>8&255,q=se>>>16&255;z[C+K+0]=ce,z[C+K+1]=Z,z[C+K+2]=q}if(C+=3*V,N(z,C,R(z,C-3*V-4,3*V+4)),C+=4,B){for(N(z,C,V),C+=4,P(z,C,"tRNS"),C+=4,M=0;M<V;M++)z[C+M]=E.plte[M]>>>24&255;C+=V,N(z,C,R(z,C-V-4,V+4)),C+=4}}let F=0;for(W=0;W<E.frames.length;W++){var J=E.frames[W];G&&(N(z,C,26),C+=4,P(z,C,"fcTL"),C+=4,N(z,C,F++),C+=4,N(z,C,J.rect.width),C+=4,N(z,C,J.rect.height),C+=4,N(z,C,J.rect.x),C+=4,N(z,C,J.rect.y),C+=4,D(z,C,A[W]),C+=2,D(z,C,1e3),C+=2,z[C]=J.dispose,C++,z[C]=J.blend,C++,N(z,C,R(z,C-30,30)),C+=4);const K=J.cimg;N(z,C,(V=K.length)+(W==0?0:4)),C+=4;const se=C;P(z,C,W==0?"IDAT":"fdAT"),C+=4,W!=0&&(N(z,C,F++),C+=4),z.set(K,C),C+=V,N(z,C,R(z,se,C-se)),C+=4}return N(z,C,0),C+=4,P(z,C,"IEND"),C+=4,N(z,C,R(z,C-4,4)),C+=4,z.buffer}function f(E,S,k){for(let A=0;A<E.frames.length;A++){const T=E.frames[A];T.rect.width;const R=T.rect.height,N=new Uint8Array(R*T.bpl+R);T.cimg=h(T.img,R,T.bpp,T.bpl,N,S,k)}}function u(E,S,k,A,T){const R=T[0],N=T[1],D=T[2],P=T[3],C=T[4],G=T[5];let H=6,B=8,$=255;for(var V=0;V<E.length;V++){const fe=new Uint8Array(E[V]);for(var M=fe.length,W=0;W<M;W+=4)$&=fe[W+3]}const z=$!=255,j=function(ee,U,te,ie,oe,re){const pe=[];for(var ve=0;ve<ee.length;ve++){const Me=new Uint8Array(ee[ve]),rt=new Uint32Array(Me.buffer);var Ee;let St=0,sn=0,Ot=U,Xt=te,de=ie?1:0;if(ve!=0){const Te=re||ie||ve==1||pe[ve-2].dispose!=0?1:2;let ye=0,Ae=1e9;for(let Oe=0;Oe<Te;Oe++){var Re=new Uint8Array(ee[ve-1-Oe]);const Ft=new Uint32Array(ee[ve-1-Oe]);let Et=U,zt=te,fn=-1,kn=-1;for(let In=0;In<te;In++)for(let yn=0;yn<U;yn++)rt[Pe=In*U+yn]!=Ft[Pe]&&(yn<Et&&(Et=yn),yn>fn&&(fn=yn),In<zt&&(zt=In),In>kn&&(kn=In));fn==-1&&(Et=zt=fn=kn=0),oe&&((1&Et)==1&&Et--,(1&zt)==1&&zt--);const Sn=(fn-Et+1)*(kn-zt+1);Sn<Ae&&(Ae=Sn,ye=Oe,St=Et,sn=zt,Ot=fn-Et+1,Xt=kn-zt+1)}Re=new Uint8Array(ee[ve-1-ye]),ye==1&&(pe[ve-1].dispose=2),Ee=new Uint8Array(Ot*Xt*4),t(Re,U,te,Ee,Ot,Xt,-St,-sn,0),de=t(Me,U,te,Ee,Ot,Xt,-St,-sn,3)?1:0,de==1?d(Me,U,te,Ee,{x:St,y:sn,width:Ot,height:Xt}):t(Me,U,te,Ee,Ot,Xt,-St,-sn,0)}else Ee=Me.slice(0);pe.push({rect:{x:St,y:sn,width:Ot,height:Xt},img:Ee,blend:de,dispose:0})}if(ie)for(ve=0;ve<pe.length;ve++){if((Qe=pe[ve]).blend==1)continue;const Me=Qe.rect,rt=pe[ve-1].rect,St=Math.min(Me.x,rt.x),sn=Math.min(Me.y,rt.y),Ot={x:St,y:sn,width:Math.max(Me.x+Me.width,rt.x+rt.width)-St,height:Math.max(Me.y+Me.height,rt.y+rt.height)-sn};pe[ve-1].dispose=1,ve-1!=0&&c(ee,U,te,pe,ve-1,Ot,oe),c(ee,U,te,pe,ve,Ot,oe)}let $e=0;if(ee.length!=1)for(var Pe=0;Pe<pe.length;Pe++){var Qe;$e+=(Qe=pe[Pe]).rect.width*Qe.rect.height}return pe}(E,S,k,R,N,D),F={},J=[],K=[];if(A!=0){const fe=[];for(W=0;W<j.length;W++)fe.push(j[W].img.buffer);const ee=function(oe){let re=0;for(var pe=0;pe<oe.length;pe++)re+=oe[pe].byteLength;const ve=new Uint8Array(re);let Ee=0;for(pe=0;pe<oe.length;pe++){const Re=new Uint8Array(oe[pe]),$e=Re.length;for(let Pe=0;Pe<$e;Pe+=4){let Qe=Re[Pe],Me=Re[Pe+1],rt=Re[Pe+2];const St=Re[Pe+3];St==0&&(Qe=Me=rt=0),ve[Ee+Pe]=Qe,ve[Ee+Pe+1]=Me,ve[Ee+Pe+2]=rt,ve[Ee+Pe+3]=St}Ee+=$e}return ve.buffer}(fe),U=m(ee,A);for(W=0;W<U.plte.length;W++)J.push(U.plte[W].est.rgba);let te=0;for(W=0;W<j.length;W++){const ie=(ce=j[W]).img.length;var se=new Uint8Array(U.inds.buffer,te>>2,ie>>2);K.push(se);const oe=new Uint8Array(U.abuf,te,ie);G&&a(ce.img,ce.rect.width,ce.rect.height,J,oe,se),ce.img.set(oe),te+=ie}}else for(V=0;V<j.length;V++){var ce=j[V];const fe=new Uint32Array(ce.img.buffer);var Z=ce.rect.width;for(M=fe.length,se=new Uint8Array(M),K.push(se),W=0;W<M;W++){const ee=fe[W];if(W!=0&&ee==fe[W-1])se[W]=se[W-1];else if(W>Z&&ee==fe[W-Z])se[W]=se[W-Z];else{let U=F[ee];if(U==null&&(F[ee]=U=J.length,J.push(ee),J.length>=300))break;se[W]=U}}}const q=J.length;for(q<=256&&C==0&&(B=q<=2?1:q<=4?2:q<=16?4:8,B=Math.max(B,P)),V=0;V<j.length;V++){(ce=j[V]).rect.x,ce.rect.y,Z=ce.rect.width;const fe=ce.rect.height;let ee=ce.img;new Uint32Array(ee.buffer);let U=4*Z,te=4;if(q<=256&&C==0){U=Math.ceil(B*Z/8);var Q=new Uint8Array(U*fe);const ie=K[V];for(let oe=0;oe<fe;oe++){W=oe*U;const re=oe*Z;if(B==8)for(var Y=0;Y<Z;Y++)Q[W+Y]=ie[re+Y];else if(B==4)for(Y=0;Y<Z;Y++)Q[W+(Y>>1)]|=ie[re+Y]<<4-4*(1&Y);else if(B==2)for(Y=0;Y<Z;Y++)Q[W+(Y>>2)]|=ie[re+Y]<<6-2*(3&Y);else if(B==1)for(Y=0;Y<Z;Y++)Q[W+(Y>>3)]|=ie[re+Y]<<7-1*(7&Y)}ee=Q,H=3,te=1}else if(z==0&&j.length==1){Q=new Uint8Array(Z*fe*3);const ie=Z*fe;for(W=0;W<ie;W++){const oe=3*W,re=4*W;Q[oe]=ee[re],Q[oe+1]=ee[re+1],Q[oe+2]=ee[re+2]}ee=Q,H=2,te=3,U=3*Z}ce.img=ee,ce.bpl=U,ce.bpp=te}return{ctype:H,depth:B,plte:J,frames:j}}function c(E,S,k,A,T,R,N){const D=Uint8Array,P=Uint32Array,C=new D(E[T-1]),G=new P(E[T-1]),H=T+1<E.length?new D(E[T+1]):null,B=new D(E[T]),$=new P(B.buffer);let V=S,M=k,W=-1,z=-1;for(let F=0;F<R.height;F++)for(let J=0;J<R.width;J++){const K=R.x+J,se=R.y+F,ce=se*S+K,Z=$[ce];Z==0||A[T-1].dispose==0&&G[ce]==Z&&(H==null||H[4*ce+3]!=0)||(K<V&&(V=K),K>W&&(W=K),se<M&&(M=se),se>z&&(z=se))}W==-1&&(V=M=W=z=0),N&&((1&V)==1&&V--,(1&M)==1&&M--),R={x:V,y:M,width:W-V+1,height:z-M+1};const j=A[T];j.rect=R,j.blend=1,j.img=new Uint8Array(R.width*R.height*4),A[T-1].dispose==0?(t(C,S,k,j.img,R.width,R.height,-R.x,-R.y,0),d(B,S,k,j.img,R)):t(B,S,k,j.img,R.width,R.height,-R.x,-R.y,0)}function d(E,S,k,A,T){t(E,S,k,A,T.width,T.height,-T.x,-T.y,2)}function h(E,S,k,A,T,R,N){const D=[];let P,C=[0,1,2,3,4];R!=-1?C=[R]:(S*A>5e5||k==1)&&(C=[0]),N&&(P={level:0});const G=OJ;for(var H=0;H<C.length;H++){for(let V=0;V<S;V++)p(T,E,V,A,k,C[H]);D.push(G.deflate(T,P))}let B,$=1e9;for(H=0;H<D.length;H++)D[H].length<$&&(B=H,$=D[H].length);return D[B]}function p(E,S,k,A,T,R){const N=k*A;let D=N+k;if(E[D]=R,D++,R==0)if(A<500)for(var P=0;P<A;P++)E[D+P]=S[N+P];else E.set(new Uint8Array(S.buffer,N,A),D);else if(R==1){for(P=0;P<T;P++)E[D+P]=S[N+P];for(P=T;P<A;P++)E[D+P]=S[N+P]-S[N+P-T]+256&255}else if(k==0){for(P=0;P<T;P++)E[D+P]=S[N+P];if(R==2)for(P=T;P<A;P++)E[D+P]=S[N+P];if(R==3)for(P=T;P<A;P++)E[D+P]=S[N+P]-(S[N+P-T]>>1)+256&255;if(R==4)for(P=T;P<A;P++)E[D+P]=S[N+P]-n(S[N+P-T],0,0)+256&255}else{if(R==2)for(P=0;P<A;P++)E[D+P]=S[N+P]+256-S[N+P-A]&255;if(R==3){for(P=0;P<T;P++)E[D+P]=S[N+P]+256-(S[N+P-A]>>1)&255;for(P=T;P<A;P++)E[D+P]=S[N+P]+256-(S[N+P-A]+S[N+P-T]>>1)&255}if(R==4){for(P=0;P<T;P++)E[D+P]=S[N+P]+256-n(0,S[N+P-A],0)&255;for(P=T;P<A;P++)E[D+P]=S[N+P]+256-n(S[N+P-T],S[N+P-A],S[N+P-T-A])&255}}}function m(E,S){const k=new Uint8Array(E),A=k.slice(0),T=new Uint32Array(A.buffer),R=y(A,S),N=R[0],D=R[1],P=k.length,C=new Uint8Array(P>>2);let G;if(k.length<2e7)for(var H=0;H<P;H+=4)G=v(N,B=k[H]*(1/255),$=k[H+1]*(1/255),V=k[H+2]*(1/255),M=k[H+3]*(1/255)),C[H>>2]=G.ind,T[H>>2]=G.est.rgba;else for(H=0;H<P;H+=4){var B=k[H]*.00392156862745098,$=k[H+1]*(1/255),V=k[H+2]*(1/255),M=k[H+3]*(1/255);for(G=N;G.left;)G=_(G.est,B,$,V,M)<=0?G.left:G.right;C[H>>2]=G.ind,T[H>>2]=G.est.rgba}return{abuf:A.buffer,inds:C,plte:D}}function y(E,S,k){k==null&&(k=1e-4);const A=new Uint32Array(E.buffer),T={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=w(E,T.i0,T.i1),T.est=x(T.bst);const R=[T];for(;R.length<S;){let D=0,P=0;for(var N=0;N<R.length;N++)R[N].est.L>D&&(D=R[N].est.L,P=N);if(D<k)break;const C=R[P],G=b(E,A,C.i0,C.i1,C.est.e,C.est.eMq255);if(C.i0>=G||C.i1<=G){C.est.L=0;continue}const H={i0:C.i0,i1:G,bst:null,est:null,tdst:0,left:null,right:null};H.bst=w(E,H.i0,H.i1),H.est=x(H.bst);const B={i0:G,i1:C.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:C.bst.N-H.bst.N},N=0;N<16;N++)B.bst.R[N]=C.bst.R[N]-H.bst.R[N];for(N=0;N<4;N++)B.bst.m[N]=C.bst.m[N]-H.bst.m[N];B.est=x(B.bst),C.left=H,C.right=B,R[P]=H,R.push(B)}for(R.sort((D,P)=>P.bst.N-D.bst.N),N=0;N<R.length;N++)R[N].ind=N;return[T,R]}function v(E,S,k,A,T){if(E.left==null)return E.tdst=function(H,B,$,V,M){const W=B-H[0],z=$-H[1],j=V-H[2],F=M-H[3];return W*W+z*z+j*j+F*F}(E.est.q,S,k,A,T),E;const R=_(E.est,S,k,A,T);let N=E.left,D=E.right;R>0&&(N=E.right,D=E.left);const P=v(N,S,k,A,T);if(P.tdst<=R*R)return P;const C=v(D,S,k,A,T);return C.tdst<P.tdst?C:P}function _(E,S,k,A,T){const{e:R}=E;return R[0]*S+R[1]*k+R[2]*A+R[3]*T-E.eMq}function b(E,S,k,A,T,R){for(A-=4;k<A;){for(;g(E,k,T)<=R;)k+=4;for(;g(E,A,T)>R;)A-=4;if(k>=A)break;const N=S[k>>2];S[k>>2]=S[A>>2],S[A>>2]=N,k+=4,A-=4}for(;g(E,k,T)>R;)k-=4;return k+4}function g(E,S,k){return E[S]*k[0]+E[S+1]*k[1]+E[S+2]*k[2]+E[S+3]*k[3]}function w(E,S,k){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],R=k-S>>2;for(let N=S;N<k;N+=4){const D=E[N]*.00392156862745098,P=E[N+1]*(1/255),C=E[N+2]*(1/255),G=E[N+3]*(1/255);T[0]+=D,T[1]+=P,T[2]+=C,T[3]+=G,A[0]+=D*D,A[1]+=D*P,A[2]+=D*C,A[3]+=D*G,A[5]+=P*P,A[6]+=P*C,A[7]+=P*G,A[10]+=C*C,A[11]+=C*G,A[15]+=G*G}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:T,N:R}}function x(E){const{R:S}=E,{m:k}=E,{N:A}=E,T=k[0],R=k[1],N=k[2],D=k[3],P=A==0?0:1/A,C=[S[0]-T*T*P,S[1]-T*R*P,S[2]-T*N*P,S[3]-T*D*P,S[4]-R*T*P,S[5]-R*R*P,S[6]-R*N*P,S[7]-R*D*P,S[8]-N*T*P,S[9]-N*R*P,S[10]-N*N*P,S[11]-N*D*P,S[12]-D*T*P,S[13]-D*R*P,S[14]-D*N*P,S[15]-D*D*P],G=C,H=I;let B=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,V=0;if(A!=0)for(let W=0;W<16&&(B=H.multVec(G,B),V=Math.sqrt(H.dot(B,B)),B=H.sml(1/V,B),!(W!=0&&Math.abs(V-$)<1e-9));W++)$=V;const M=[T*P,R*P,N*P,D*P];return{Cov:C,q:M,e:B,L:$,eMq255:H.dot(H.sml(255,M),B),eMq:H.dot(B,M),rgba:(Math.round(255*M[3])<<24|Math.round(255*M[2])<<16|Math.round(255*M[1])<<8|Math.round(255*M[0])<<0)>>>0}}var I={multVec:(E,S)=>[E[0]*S[0]+E[1]*S[1]+E[2]*S[2]+E[3]*S[3],E[4]*S[0]+E[5]*S[1]+E[6]*S[2]+E[7]*S[3],E[8]*S[0]+E[9]*S[1]+E[10]*S[2]+E[11]*S[3],E[12]*S[0]+E[13]*S[1]+E[14]*S[2]+E[15]*S[3]],dot:(E,S)=>E[0]*S[0]+E[1]*S[1]+E[2]*S[2]+E[3]*S[3],sml:(E,S)=>[E*S[0],E*S[1],E*S[2],E*S[3]]};qr.encode=function(S,k,A,T,R,N,D){T==null&&(T=0),D==null&&(D=!1);const P=u(S,k,A,T,[!1,!1,!1,0,D,!1]);return f(P,-1),l(P,k,A,R,N)},qr.encodeLL=function(S,k,A,T,R,N,D,P){const C={ctype:0+(T==1?0:2)+(R==0?0:4),depth:N,frames:[]},G=(T+R)*N,H=G*k;for(let B=0;B<S.length;B++)C.frames.push({rect:{x:0,y:0,width:k,height:A},img:new Uint8Array(S[B]),blend:0,dispose:1,bpp:Math.ceil(G/8),bpl:Math.ceil(H/8)});return f(C,0,!0),l(C,k,A,D,P)},qr.encode.compress=u,qr.encode.dither=a,qr.quantize=m,qr.quantize.getKDtree=y,qr.quantize.getNearest=v})();const qR={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,f=122+l,u=new ArrayBuffer(f),c=new DataView(u),d=1<<20;let h,p,m,y,v=d,_=0,b=0,g=0;function w(E){c.setUint16(b,E,!0),b+=2}function x(E){c.setUint32(b,E,!0),b+=4}function I(E){b+=E}w(19778),x(f),I(4),x(122),x(108),x(n),x(-r>>>0),w(1),w(32),x(3),x(l),x(2835),x(2835),I(8),x(16711680),x(65280),x(255),x(4278190080),x(1466527264),function E(){for(;_<r&&v>0;){for(y=122+_*a,h=0;h<i;)v--,p=o[g++],m=p>>>24,c.setUint32(y+h,p<<8|m),h+=4;_++}g<o.length?(v=d,setTimeout(E,qR._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var hr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},PJ={[hr.CHROME]:16384,[hr.FIREFOX]:11180,[hr.DESKTOP_SAFARI]:16384,[hr.IE]:8192,[hr.IOS]:4096,[hr.ETC]:8192};const W0=typeof window<"u",HR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ed=W0&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CJ=(W0||HR)&&(Ed&&Ed.getOriginalSymbol(window,"File")||typeof File<"u"&&File),zR=(W0||HR)&&(Ed&&Ed.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function K0(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const f=new Blob([l],{type:s});f.name=e,f.lastModified=n,r(f)})}function WR(t){return new Promise((e,n)=>{const r=new zR;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function KR(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function wo(){if(wo.cachedResult!==void 0)return wo.cachedResult;let t=hr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=hr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=hr.IOS:/Safari/i.test(e)?t=hr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=hr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=hr.IE),wo.cachedResult=t,wo.cachedResult}function YR(t,e){const n=wo(),r=PJ[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,f=(r+s)/2;l<f?(s=f,i=f*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function Jh(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function GR(t,e){const{width:n,height:r}=YR(t.width,t.height),[i,s]=Jh(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Pf(){return Pf.cachedResult!==void 0||(Pf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Pf.cachedResult}function Td(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=GR(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var f=function(u){try{throw u}catch(c){return r(c)}};try{let u;return WR(t).then(function(c){try{return u=c,KR(u).then(function(d){try{return i=d,function(){try{return o()}catch(h){return r(h)}}()}catch(h){return f(h)}},f)}catch(d){return f(d)}},f)}catch(u){f(u)}}catch(u){return r(u)}};try{if(Pf()||[hr.DESKTOP_SAFARI,hr.MOBILE_SAFARI].includes(wo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Ad(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let f,u,c;return f=t.getContext("2d"),{data:u}=f.getImageData(0,0,t.width,t.height),c=qr.encode([u.buffer],t.width,t.height,4096*i),a=new Blob([c],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};if(e==="image/bmp")return new Promise(u=>qR.toBlob(t,u)).then((function(u){try{return a=u,a.name=n,a.lastModified=r,f.call(this)}catch(c){return o(c)}}).bind(this),o);{let u=function(){return f.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(c){try{return a=c,a.name=n,a.lastModified=r,u.call(this)}catch(d){return o(d)}}).bind(this),o);{let c;return c=t.toDataURL(e,i),K0(c,n,r).then((function(d){try{return a=d,u.call(this)}catch(h){return o(h)}}).bind(this),o)}}}function l(){return s(a)}})}function mi(t){t.width=0,t.height=0}function pa(){return new Promise(function(t,e){let n,r,i,s;return pa.cachedResult!==void 0?t(pa.cachedResult):K0("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Td(n).then(function(a){try{return r=a[1],Ad(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,mi(r),Td(i).then(function(f){try{return s=f[0],pa.cachedResult=s.width===1&&s.height===2,t(pa.cachedResult)}catch(u){return e(u)}},e)}catch(f){return e(f)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function QR(t){return new Promise((e,n)=>{const r=new zR;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,f);const u=s.getUint16(a,f);a+=2;for(let c=0;c<u;c++)if(s.getUint16(a+12*c,f)==274)return e(s.getUint16(a+12*c+8,f))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function XR(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=Jh(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),mi(t)),o}function JR(t,e){const{width:n}=t,{height:r}=t,[i,s]=Jh(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),mi(t),i}function Gw(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,f,u,c,d,h,p,m,y,v,_,b,g,w,x,I,E;function S(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function k(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,S(),Td(t,e).then((function(A){try{return[,l]=A,S(),f=XR(l,e),S(),new Promise(function(T,R){var N;if(!(N=e.exifOrientation))return QR(t).then((function(P){try{return N=P,D.call(this)}catch(C){return R(C)}}).bind(this),R);function D(){return T(N)}return D.call(this)}).then((function(T){try{return u=T,S(),pa().then((function(R){try{return c=R?f:JR(f,u),S(),d=e.initialQuality||1,h=e.fileType||t.type,Ad(c,h,t.name,t.lastModified,d).then((function(N){try{{let P=function(){if(o--&&(b>a||b>v)){let G,H;return G=E?.95*I.width:I.width,H=E?.95*I.height:I.height,[w,x]=Jh(G,H),x.drawImage(I,0,0,G,H),d*=h==="image/png"?.85:.95,Ad(w,h,t.name,t.lastModified,d).then(function(B){try{return g=B,mi(I),I=w,b=g.size,k(Math.min(99,Math.floor((_-b)/(_-a)*100))),P}catch($){return i($)}},i)}return[1]},C=function(){return mi(I),mi(w),mi(f),mi(c),mi(l),k(100),r(g)};if(p=N,S(),m=p.size>a,y=p.size>t.size,!m&&!y)return k(100),r(p);var D;return v=t.size,_=p.size,b=_,I=c,E=!e.alwaysKeepResolution&&m,(D=(function(G){for(;G;){if(G.then)return void G.then(D,i);try{if(G.pop){if(G.length)return G.pop()?C.call(this):G;G=P}else G=G.call(this)}catch(H){return i(H)}}}).bind(this))(P)}}catch(P){return i(P)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)}catch(T){return i(T)}}).bind(this),i)})}const DJ=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let qm;function MJ(t,e){return new Promise((n,r)=>{qm||(qm=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}(DJ));const i=new Worker(qm);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Wn(t,e){return new Promise(function(n,r){let i,s,o,a,l,f;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=h=>{o=h,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof CJ))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||f)return Gw(t,i).then((function(h){try{return s=h,d.call(this)}catch(p){return r(p)}}).bind(this),r);var u=(function(){try{return d.call(this)}catch(h){return r(h)}}).bind(this),c=function(h){try{return Gw(t,i).then(function(p){try{return s=p,u()}catch(m){return r(m)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",MJ(t,i).then(function(h){try{return s=h,u()}catch{return c()}},c)}catch{c()}function d(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=jR(t,s))}catch{}return n(s)}})}Wn.getDataUrlFromFile=WR,Wn.getFilefromDataUrl=K0,Wn.loadImage=KR,Wn.drawImageInCanvas=GR,Wn.drawFileInCanvas=Td,Wn.canvasToFile=Ad,Wn.getExifOrientation=QR,Wn.handleMaxWidthOrHeight=XR,Wn.followExifOrientation=JR,Wn.cleanupCanvasMemory=mi,Wn.isAutoOrientationInBrowser=pa,Wn.approximateBelowMaximumCanvasSizeOfBrowser=YR,Wn.copyExifWithoutOrientation=jR,Wn.getBrowserName=wo,Wn.version="2.0.2";var Cn=[];for(var Hm=0;Hm<256;++Hm)Cn.push((Hm+256).toString(16).slice(1));function NJ(t,e=0){return(Cn[t[e+0]]+Cn[t[e+1]]+Cn[t[e+2]]+Cn[t[e+3]]+"-"+Cn[t[e+4]]+Cn[t[e+5]]+"-"+Cn[t[e+6]]+Cn[t[e+7]]+"-"+Cn[t[e+8]]+Cn[t[e+9]]+"-"+Cn[t[e+10]]+Cn[t[e+11]]+Cn[t[e+12]]+Cn[t[e+13]]+Cn[t[e+14]]+Cn[t[e+15]]).toLowerCase()}var uf,LJ=new Uint8Array(16);function $J(){if(!uf&&(uf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!uf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uf(LJ)}var FJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Qw={randomUUID:FJ};function VJ(t,e,n){if(Qw.randomUUID&&!e&&!t)return Qw.randomUUID();t=t||{};var r=t.random||(t.rng||$J)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,NJ(r)}const UJ={key:0,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},BJ={class:"bg-white rounded-lg p-4 max-w-sm w-full"},jJ={class:"mt-1"},qJ={class:"flex justify-end"},HJ={class:"relative bg-white rounded-lg shadow border border-gray-200"},zJ={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},WJ=O("h3",{class:"text-lg font-semibold text-gray-900"},"Yeni Blog Yazısı",-1),KJ={class:"grid gap-4 mb-4 grid-cols-2"},YJ={class:"col-span-2"},GJ=O("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Başlık",-1),QJ={class:"col-span-2"},XJ=O("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900"}," Açıklama ",-1),JJ={class:"col-span-2"},ZJ=O("label",{for:"tags",class:"block mb-2 text-sm font-medium text-gray-900"}," Etiketler ",-1),eZ={class:"flex flex-wrap items-center border border-gray p-2 rounded-lg"},tZ=["onClick"],nZ=O("svg",{class:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[O("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L10 8.586 7.707 6.293a1 1 0 10-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 001.414 1.414L10 11.414l2.293 2.293a1 1 0 001.414-1.414L11.414 10l2.293-2.293z","clip-rule":"evenodd"})],-1),rZ=[nZ],iZ=["onKeydown"],sZ={class:"mt-2 text-gray-600"},oZ={class:"col-span-2 sm:col-span-1"},aZ=O("label",{for:"file-input",class:"block mb-2 text-sm font-medium text-gray-900"},"Fotoğraf Seç",-1),lZ={class:"col-span-2 sm:col-span-1"},uZ=O("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),cZ=O("option",{value:"hukuk"},"Hukuk",-1),fZ=O("option",{value:"haberler"},"Haberler",-1),dZ=O("option",{value:"son-dakika"},"Son Dakika",-1),hZ=O("option",{value:"blog"},"Blog Yazısı",-1),pZ=[cZ,fZ,dZ,hZ],mZ={class:"col-span-2"},gZ=O("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yazı İçeriği",-1),vZ={class:"bg-gray-100"},yZ=10,_Z={__name:"AddBlog",emits:["goBlogManagement","addBlog"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),s=he(["Hukuk","Haber","Ceza Hukuku","TCK"]),o=he(""),a=he(""),l=he(""),f=he(""),u=he("blog"),c=he(null),d=he(null),h=he(null),p=()=>{o.value.trim()&&!s.value.includes(o.value.trim())&&(s.value.push(o.value.trim()),o.value="")},m=b=>{s.value.splice(b,1)},y=ge(()=>yZ-s.value.length),v=async b=>{const g=b.target.files[0];if(g&&g.type==="image/jpeg")try{const x=await Wn(g,{maxSizeMB:1,maxWidthOrHeight:1400,useWebWorker:!0,fileType:"image/webp"});d.value=x,h.value=g.name.replace(/\.[^/.]+$/,"")+".webp"}catch(w){console.error("Error compressing the image:",w)}else h.value=null,console.error("Please select a JPEG file.")},_=async()=>{if(r.value=!0,i.value=!0,!d.value){console.error("Please select an image file.");return}const b=VJ();console.log("imageId is:",b);const g=DS(MS,`images/${b}`);console.log(b);try{console.log("Uploading file..."),await VV(g,d.value);const w=await UV(g);console.log("File uploaded:",w);const x={author:"admin",created_date:new Date,updated_date:new Date,title:a.value,tags:s.value,description:l.value,slug:oR(a.value),image:w,content:f.value,category:u.value,view_count:0,image_id:b};console.log("Adding blog post:",x),n("addBlog",x),a.value="",f.value="",l.value="",u.value="Blog Yazısı",d.value=null,h.value=null}catch(w){console.error("Error uploading file or saving blog post:",w)}finally{r.value=!1}};return pt(()=>{console.log("new date test",new Date)}),(b,g)=>(ne(),ae("div",null,[i.value?(ne(),ae("div",UJ,[O("div",BJ,[O("div",jJ,[r.value?(ne(),Ue(ac,{key:0,text:"Blog Yazısı Yükleniyor..."})):me("",!0),ot(" "+we(r.value?"":"Blog yazısı yüklendi."),1)]),O("div",qJ,[r.value?me("",!0):(ne(),Ue(Bt,{key:0,text:"Geri Dön",color:"blue",wFull:!1,onClick:g[0]||(g[0]=w=>n("goBlogManagement"))}))])])])):me("",!0),O("div",HJ,[O("div",zJ,[WJ,Ce(Bt,{text:"Geri Dön",color:"blue",wFull:!1,onClick:g[1]||(g[1]=w=>n("goBlogManagement"))})]),O("form",{onSubmit:Lr(_,["prevent"]),class:"p-4 md:p-5"},[O("div",KJ,[O("div",YJ,[GJ,wt(O("input",{"onUpdate:modelValue":g[2]||(g[2]=w=>a.value=w),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı başlığını girin",required:""},null,512),[[Gr,a.value]])]),O("div",QJ,[XJ,wt(O("textarea",{"onUpdate:modelValue":g[3]||(g[3]=w=>l.value=w),name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazısı açıklamasını girin",required:"",rows:"3"},null,512),[[Gr,l.value]])]),O("div",JJ,[ZJ,O("div",eZ,[(ne(!0),ae(Ie,null,Ge(s.value,(w,x)=>(ne(),ae("span",{key:x,class:"flex items-center bg-gray-100 text-sm border border-gray-300 hover:bg-gray-300 text-gray-900 px-3 py-1 rounded-full mr-2 mb-2"},[ot(we(w)+" ",1),O("button",{onClick:I=>m(x),class:"ml-2 focus:outline-none"},rZ,8,tZ)]))),128)),wt(O("input",{"onUpdate:modelValue":g[4]||(g[4]=w=>o.value=w),name:"tags",onKeydown:uT(Lr(p,["prevent"]),["enter"]),placeholder:"Yazdıktan sonra Enter tuşuna basarak etiketi ekleyin.",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},null,40,iZ),[[Gr,o.value]])]),O("p",sZ,we(y.value)+" etiket daha ekleyebilirsiniz. ",1)]),O("div",oZ,[aZ,O("input",{type:"file",id:"file_input",ref_key:"fileInput",ref:c,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",accept:"image/jpeg",onChange:v,required:""},null,544)]),O("div",lZ,[uZ,wt(O("select",{"onUpdate:modelValue":g[5]||(g[5]=w=>u.value=w),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},pZ,512),[[Us,u.value]])]),O("div",mZ,[gZ,O("div",vZ,[Ce(ue(BR),{content:f.value,"onUpdate:content":g[6]||(g[6]=w=>f.value=w),contentType:"html",toolbar:"essential",theme:"snow",class:"h-[30rem]",placeholder:"Yazı içeriği girin...",required:""},null,8,["content"])])])]),r.value?me("",!0):(ne(),Ue(Bt,{key:0,disabled:r.value,type:"submit",text:"Blog Yazısı Ekle",color:"blue",wFull:!1},null,8,["disabled"]))],32)])]))}},bZ={key:0,class:"flex items-center justify-center min-h-screen"},wZ={__name:"Blogs",setup(t){const e=he(!1),n=he(!1),r=sc(mr,"blogs"),i=he([]);function s(p){u(p)}function o(p){c(p)}function a(p){d(p)}async function l(){let p=[];return(await Dh(r)).forEach(y=>{p.push({id:y.id,...y.data()})}),p}async function f(){try{const p=localStorage.getItem("cachedBlogs"),m=localStorage.getItem("cachedTimeBlogs"),y=0*60*1e3;if(p&&m&&new Date-new Date(parseInt(m))<y)return JSON.parse(p);{const v=await l();return localStorage.setItem("cachedBlogs",JSON.stringify(v)),localStorage.setItem("cachedTimeBlogs",new Date().getTime().toString()),v}}catch(p){return console.error("Error getting blogs with comments:",p),[]}}async function u(p){console.log("Received new blog data:",p);try{const m=await IF(r,p),y={...p,id:m.id};i.value=[y,...i.value],localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error adding document:",m)}}async function c(p){if(p)try{const m=sr(mr,"blogs",p),y=await Lo(m);if(y.exists()){const _=y.data().image_id;if(_){const b=`images/${_}`;console.log("blog image path to delete",b);const g=DS(MS,b);try{await BV(g),console.log(`Image with ID ${_} deleted successfully.`)}catch(w){console.error("Error deleting image:",w)}}await SF(m),i.value=i.value.filter(b=>b.id!==p),localStorage.setItem("cachedBlogs",JSON.stringify(i.value)),console.log(`Blog with ID ${p} deleted successfully.`)}else console.error("Blog not found")}catch(m){console.error("Error deleting blog:",m)}}async function d(p){console.log("Received updated blog data:",p),p.updated_date=new Date,p.slug=oR(p.title);try{await zi(sr(mr,"blogs",p.id),p);const m={...p};i.value=i.value.map(y=>y.id===p.id?m:y),localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error updating document:",m)}}function h(p){return p.sort((m,y)=>y.created_date-m.created_date)}return pt(async()=>{let p=await f();p=h(p),i.value=p,e.value=!0}),(p,m)=>(ne(),ae("div",null,[Ce(Zr,{name:"fade"},{default:He(()=>[e.value&&!n.value?(ne(),Ue(kJ,{key:0,onGoAddBlog:m[0]||(m[0]=y=>n.value=!0),onDeleteBlog:o,onUpdateBlog:a,blogsData:i.value,blogRef:ue(r)},null,8,["blogsData","blogRef"])):me("",!0)]),_:1}),e.value?me("",!0):(ne(),ae("div",bZ,[Ce(ac,{text:"Blog Yazısı Yükleniyor..."})])),Ce(Zr,{name:"fade"},{default:He(()=>[n.value?(ne(),Ue(_Z,{key:0,onGoBlogManagement:m[1]||(m[1]=y=>n.value=!1),onAddBlog:s})):me("",!0)]),_:1})]))}},EZ=Di(wZ,[["__scopeId","data-v-2903c4e5"]]),TZ={__name:"Lawyers",setup(t){return(e,n)=>(ne(),ae("h1",null,"Avukatlar"))}},Xw={__name:"MessageWrapper",props:{type:{type:String,default:"normal",validator:t=>["normal","error","success"].includes(t)}},setup(t){const e=t,n=ge(()=>e.type==="error"?"bg-red-50 text-red-600 border-red-300":e.type==="success"?"bg-green-50 text-green-600 border-green-300":"bg-slate-50 text-slate-600 border-slate-300");return(r,i)=>(ne(),ae("div",{class:Ke([n.value,"w-full text-center text-sm border rounded-md p-2"])},[Ne(r.$slots,"default")],2))}},AZ={role:"status",class:"flex justify-center items-center"},xZ=O("svg",{"aria-hidden":"true",class:"w-6 h-6 text-gray-300 animate-spin fill-gray-900",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[O("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),O("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1),kZ={class:"pl-2"},ZR={__name:"LoadingSpinner",props:{text:{type:String,default:"Yükleniyor..."}},setup(t){return(e,n)=>(ne(),ae("div",AZ,[xZ,O("span",kZ,we(t.text),1)]))}},SZ={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg relative"},IZ={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white bg-opacity-65"},RZ=O("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[O("span",{class:"mb-2"},"Admin Ayarları")],-1),OZ={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},PZ={class:"flex justify-between items-center mb-3"},CZ=O("span",{class:"text-gray-900 text-base font-medium"},"Şifre Sıfırlama",-1),DZ={class:"inline-flex items-center cursor-pointer"},MZ={class:"flex-col space-y-4 items-center"},NZ=O("label",{for:"mail",class:"text-sm text-gray-500 font-normal"}," Şifre sıfırlama maili göndermek istediğiniz avukatın mail adresini girin. ",-1),LZ={__name:"Settings",setup(t){const e=Vr();ge(()=>e.getters.userRole),ge(()=>e.getters.user?e.getters.user.uid:null);const n=he(""),r=he(null),i=he(null),s=he(!1),o=async()=>{if(n.value===""){i.value="Lütfen bir mail adresi giriniz.";return}r.value=null,i.value=null,s.value=!0;try{const a=await e5(ho,n.value);console.log("Password reset email sent:"),r.value="Şifre yenileme linki email adresinize gönderildi. Mailin size ulaşması 10 dakikayı bulabilir. Lütfen spam klasörünü kontrol ediniz."}catch(a){console.error("Error sending password reset email:",a),i.value="Bir hata oluştu. Lütfen tekrar deneyiniz."}finally{s.value=!1}};return(a,l)=>(ne(),ae("div",SZ,[s.value?(ne(),ae("div",IZ,[Ce(ZR,{text:""})])):me("",!0),RZ,O("div",OZ,[O("div",PZ,[CZ,O("div",DZ,[Ce(Bt,{onClick:o,text:"Mail Gönder",color:"blue",wFull:!1})])]),O("div",MZ,[r.value?(ne(),Ue(Xw,{key:0,type:"success"},{default:He(()=>[ot(we(r.value),1)]),_:1})):me("",!0),i.value?(ne(),Ue(Xw,{key:1,type:"error"},{default:He(()=>[ot(we(i.value),1)]),_:1})):me("",!0),O("div",null,[NZ,wt(O("input",{type:"text",id:"mail","onUpdate:modelValue":l[0]||(l[0]=f=>n.value=f),placeholder:"avukat@tiryakihukuk.com",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[Gr,n.value]])])])])]))}},$Z={class:"bg-gray-800"},FZ={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},VZ=O("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[O("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),ot(" Tiryaki Hukuk Admin Panel ")],-1),UZ={class:"w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},BZ={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},jZ=O("h1",{class:"text-4xl font-bold text-center text-white"}," 404 - Page Not Found ",-1),qZ=O("p",{class:"text-center text-gray-300"}," Üzgünüm, bu sayfa mecvut değil. ",-1),HZ={class:"flex justify-center"},zZ=["href"],WZ={__name:"NotFound",setup(t){const e=Vr(),n=ge(()=>e.getters.userRole==="admin"?"/online-meetings":`/online-meetings/${e.getters.user.uid}`);return ge(()=>e.getters.userRole),ge(()=>e.getters.user?e.getters.user.uid:null),(r,i)=>(ne(),ae("section",$Z,[O("div",FZ,[VZ,O("div",UZ,[O("div",BZ,[jZ,qZ,O("div",HZ,[O("a",{href:n.value,class:"inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"}," Ana Sayfa ",8,zZ)])])])])]))}},KZ={},YZ={class:"bg-gray-800"},GZ=HP('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">Üzgünüm, bu sayfayı görmek için yetkiniz yok.</p><div class="flex justify-center"><a href="/main/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),QZ=[GZ];function XZ(t,e,n,r,i,s){return ne(),ae("section",YZ,QZ)}const JZ=Di(KZ,[["render",XZ]]),ZZ=O("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),eee={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},tee={class:"relative p-4 w-[30rem] max-h-full"},nee={class:"relative bg-white rounded-lg shadow"},ree={class:"flex items-center justify-between p-4 border-b rounded-t"},iee=O("h3",{class:"text-lg font-semibold text-gray-900"}," Uygun Olmayan Tarih ve Saat Aralığını Seç ",-1),see=O("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14","aria-hidden":"true"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),oee=O("span",{class:"sr-only"},"Close modal",-1),aee=[see,oee],lee={class:"grid gap-4 mb-4 grid-cols-2"},uee={class:"col-span-2"},cee=O("label",{for:"date",class:"block mb-2 text-sm font-medium text-gray-900"},"Tarih",-1),fee={class:"col-span-1"},dee=O("label",{for:"start-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Başlangıç",-1),hee=["value"],pee={class:"col-span-1"},mee=O("label",{for:"end-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Bitiş",-1),gee=["value"],vee={class:"col-span-2"},yee={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4 mt-4"},_ee={class:"flex justify-between items-center mb-3"},bee=O("span",{class:"text-gray-900 text-base font-medium"},"Tekrarla",-1),wee={class:"inline-flex items-center cursor-pointer"},Eee=O("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Tee=O("div",{class:"flex items-center"},[O("p",{class:"text-sm text-gray-500 font-normal"}," Eğer seçiliyse, bu tarih ve saat aralığı haftalık olarak tekrarlanacaktır. ")],-1),Aee={class:"col-span-2"},xee={__name:"WorkingHoursExceptionModal",emits:["close","save-exception"],setup(t,{emit:e}){const n=he(new Date),r=he("12:00"),i=he("13:00"),s=he(!1),o=e,a=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],l=()=>{const u={date:n.value?Jr(new Date(n.value),"yyyy-MM-dd"):"",startTime:r.value,endTime:i.value,repeat:s.value,isMeeting:!1};o("save-exception",u),o("close")};return(f,u)=>(ne(),ae(Ie,null,[ZZ,O("div",eee,[O("div",tee,[O("div",nee,[O("div",ree,[iee,O("button",{onClick:u[0]||(u[0]=c=>f.$emit("close")),type:"button",class:"text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},aee)]),O("form",{onSubmit:Lr(l,["prevent"]),class:"p-4"},[O("div",lee,[O("div",uee,[cee,Ce(ue(hc),{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=c=>n.value=c),name:"date",class:"form-input","enable-time-picker":!1,required:""},null,8,["modelValue"])]),O("div",fee,[dee,wt(O("select",{"onUpdate:modelValue":u[2]||(u[2]=c=>r.value=c),required:"",id:"start-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ne(),ae(Ie,null,Ge(a,c=>O("option",{key:c,value:c},we(c),9,hee)),64))],512),[[Us,r.value]])]),O("div",pee,[mee,wt(O("select",{"onUpdate:modelValue":u[3]||(u[3]=c=>i.value=c),required:"",id:"end-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ne(),ae(Ie,null,Ge(a,c=>O("option",{key:c,value:c},we(c),9,gee)),64))],512),[[Us,i.value]])])]),O("div",vee,[O("div",yee,[O("div",_ee,[bee,O("label",wee,[wt(O("input",{"onUpdate:modelValue":u[4]||(u[4]=c=>s.value=c),type:"checkbox",class:"sr-only peer"},null,512),[[ya,s.value]]),Eee])]),Tee])]),O("div",Aee,[Ce(Bt,{color:"blue",wFull:!0,text:"Kaydet"})])],32)])])])],64))}},Y0=t=>(Cd("data-v-2eae121c"),t=t(),Dd(),t),kee={key:0,class:"mb-4 mt-4"},See={class:"flex justify-between items-center"},Iee={class:"text-sm font-medium text-gray-900 dark:text-white"},Ree={class:"text-sm text-gray-600 dark:text-gray-300"},Oee={class:"text-sm text-gray-600 dark:text-gray-300"},Pee={key:0,class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 rounded-lg focus:outline-none"},Cee=Y0(()=>O("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[O("path",{d:"M6 4H21C21.5523 4 22 4.44772 22 5V12H20V6H6V9L1 5L6 1V4ZM18 20H3C2.44772 20 2 19.5523 2 19V12H4V18H18V15L23 19L18 23V20Z"})],-1)),Dee=[Cee],Mee=["onClick"],Nee=Y0(()=>O("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[O("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1)),Lee=[Nee],$ee=Y0(()=>O("svg",{class:"w-4 h-4 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1)),Fee={__name:"WorkingHoursExceptioner",props:{exceptions:Array},emits:["add-exception","remove-exception"],setup(t,{emit:e}){const n=he(!1),r=e,i=o=>{r("add-exception",o)},s=o=>{r("remove-exception",o)};return(o,a)=>(ne(),ae(Ie,null,[t.exceptions.length?(ne(),ae("div",kee,[(ne(!0),ae(Ie,null,Ge(t.exceptions,(l,f)=>(ne(),ae("div",{key:f,class:"p-4 mb-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},[O("div",See,[O("div",null,[O("p",Iee," Tarih: "+we(l.date),1),O("p",Ree," Başlangıç: "+we(l.startTime),1),O("p",Oee," Bitiş: "+we(l.endTime),1)]),O("div",null,[l.repeat?(ne(),ae("button",Pee,Dee)):me("",!0),O("button",{onClick:u=>s(f),class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 rounded-lg focus:outline-none"},Lee,8,Mee)])])]))),128))])):me("",!0),O("button",{onClick:a[0]||(a[0]=l=>n.value=!0),type:"button",class:"inline-flex items-center justify-center w-full py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[$ee,ot(" Ekle ")]),n.value?(ne(),Ue(xee,{key:1,onClose:a[1]||(a[1]=l=>n.value=!1),onSaveException:i})):me("",!0)],64))}},Vee=Di(Fee,[["__scopeId","data-v-2eae121c"]]),Uee={class:"max-w-xl mx-auto bg-white"},Bee={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},jee={class:"flex justify-between items-center mb-3"},qee=O("span",{class:"text-gray-900 text-base font-medium"},"Çalışma Saatleri",-1),Hee={class:"inline-flex items-center cursor-pointer"},zee=O("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Wee=O("span",{class:"sr-only"},"Çalışma Saatleri",-1),Kee=O("div",{class:"flex items-center"},[O("p",{class:"text-sm text-gray-500 font-normal"}," Tüm haftalık çalışma günleri için iş çalışma saatlerini etkinleştir veya devre dışı bırak ")],-1),Yee={class:"flex items-center justify-between"},Gee={class:"flex items-center"},Qee={class:"inline-flex items-center cursor-pointer"},Xee=["onUpdate:modelValue","id"],Jee=O("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Zee=O("span",{class:"sr-only"},"Çalışma Saatleri",-1),ete=["for"],tte=["onClick"],nte={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},rte=["d"],ite={key:0,class:"mt-4"},ste=["onUpdate:modelValue"],ote=["value"],ate=O("span",null,"-",-1),lte=["onUpdate:modelValue"],ute=["value"],cte={key:0,class:"flex items-center"},fte=["onClick"],dte=O("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),hte=[dte],pte=["disabled","onClick"],mte=O("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[O("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),gte=[mte],vte=["onClick"],yte=O("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[O("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),_te=[yte],bte={__name:"WorkingHoursScheduler",props:{schedule:Object},emits:["save-schedule"],setup(t,{emit:e}){const n=t,r=e,i=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],s=Fr(Array(5).fill(!0));n.schedule.days.forEach((c,d)=>{un(()=>c.enabled,h=>{h||(s[d]=!0)})});const o=c=>{s[c]=!s[c]},a=c=>{n.schedule.days[c].intervals.push({start:"09:00",end:"17:00"})},l=(c,d)=>{n.schedule.days[c].intervals.splice(d,1)};function f(c){const[d,h]=c.split(":").map(Number);return d*60+h}const u=()=>{const c={isWorkingHoursEnabled:n.schedule.isWorkingHoursEnabled,days:n.schedule.days.map(d=>({name:d.name,enabled:d.enabled,intervals:d.intervals.map(h=>{const p=f(h.start),y=(f(h.end)-p)/60;return{start:h.start,end:h.end,length:y}})}))};r("save-schedule",c)};return(c,d)=>(ne(),ae("div",Uee,[O("form",{onSubmit:Lr(u,["prevent"])},[O("div",Bee,[O("div",jee,[qee,O("label",Hee,[wt(O("input",{"onUpdate:modelValue":d[0]||(d[0]=h=>n.schedule.isWorkingHoursEnabled=h),type:"checkbox",class:"sr-only peer"},null,512),[[ya,n.schedule.isWorkingHoursEnabled]]),zee,Wee])]),Kee]),(ne(!0),ae(Ie,null,Ge(t.schedule.days,(h,p)=>(ne(),ae("div",{key:p,class:Ke(["border rounded-lg p-4 mb-4",{"border-gray-300":h.enabled,"opacity-50":!h.enabled}])},[O("div",Yee,[O("div",Gee,[O("label",Qee,[wt(O("input",{"onUpdate:modelValue":m=>h.enabled=m,type:"checkbox",id:`toggle-${h.name}`,class:"sr-only peer"},null,8,Xee),[[ya,h.enabled]]),Jee,Zee]),O("label",{for:`toggle-${h.name}`,class:"ml-2 p-1.5 text-sm font-medium text-gray-900"},we(h.name),9,ete)]),h.enabled?(ne(),ae("div",{key:0,onClick:m=>o(p),class:"text-gray-500 p-1.5 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},[(ne(),ae("svg",nte,[O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s[p]?"M19 9l-7 7-7-7":"M19 15l-7-7-7 7"},null,8,rte)]))],8,tte)):me("",!0)]),s[p]?me("",!0):(ne(),ae("div",ite,[(ne(!0),ae(Ie,null,Ge(h.intervals,(m,y)=>(ne(),ae("div",{key:y,class:"flex items-center mb-2"},[wt(O("select",{"onUpdate:modelValue":v=>m.start=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(ne(),ae(Ie,null,Ge(i,v=>O("option",{key:v,value:v},we(v),9,ote)),64))],8,ste),[[Us,m.start]]),ate,wt(O("select",{"onUpdate:modelValue":v=>m.end=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 ml-2"},[(ne(),ae(Ie,null,Ge(i,v=>O("option",{key:v,value:v},we(v),9,ute)),64))],8,lte),[[Us,m.end]]),y===h.intervals.length-1?(ne(),ae("div",cte,[O("button",{onClick:v=>a(p),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},hte,8,fte),O("button",{disabled:h.intervals.length===1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},gte,8,pte)])):(ne(),ae("button",{key:1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 mr-10 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},_te,8,vte))]))),128))]))],2))),128)),Ce(Bt,{color:"blue",wFull:!0,text:"Kaydet"})],32)]))}},wte={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Ete={class:"bg-white rounded-lg p-6 shadow-lg w-[32rem]"},Tte={class:"flex items-center justify-between"},Ate=O("div",{class:"flex items-center"},[O("svg",{class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),O("h3",{class:"text-lg font-semibold text-gray-900 ml-2"}," Başarıyla Kaydedildi ")],-1),xte={class:"pl-4"},kte=O("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[O("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Ste=O("span",{class:"sr-only"},"Close modal",-1),Ite=[kte,Ste],Rte={class:"mt-4 mb-4 text-gray-700"},Ote={class:"flex justify-center"},Jw={__name:"SuccessModal",props:{contentText:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(ne(),ae("div",wte,[O("div",Ete,[O("div",Tte,[Ate,O("div",xte,[O("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Ite)])]),O("p",Rte,we(t.contentText),1),O("div",Ote,[Ce(Bt,{onClick:r[1]||(r[1]=i=>n.$emit("close")),color:"blue",wFull:!1,text:"Geri Dön"})])])]))}},Pte={key:0},Cte={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},Dte={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Mte=O("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[O("span",{class:"mb-2"},"Periyodik Çalışma Saatlerini Seç")],-1),Nte={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},Lte=O("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[O("span",{class:"mb-2"},"İstisnai Çalışma Saatleri")],-1),$te={key:1},Fte={__name:"AppointmentSettings",setup(t){const e=Vr(),n=he(!1),r=he(!1),i=ge(()=>e.getters.userRole),s=ge(()=>e.getters.user?e.getters.user.uid:null);he([]);const o=sc(mr,"attorneys"),a=he([]),l=he([{duration:"",price:"",type:""}]),f=he({isWorkingHoursEnabled:!0,days:[{name:"Pazartesi",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Salı",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Çarşamba",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Perşembe",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Cuma",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]}]}),u=g=>{a.value.push(g),p(g),console.log("Saved Exception:",a.value)},c=g=>{a.value.splice(g,1),m(g)},d=g=>{f.value=g,y(g),console.log("Saved Schedule:",f.value),n.value=!0},h=g=>{l.value=g,v(),console.log("Saved Appointment Settings:",l.value),r.value=!0};async function p(g){try{const w=sr(o,s.value);await zi(w,{exceptions:OF(g)}),console.log("Exception added successfully")}catch(w){console.error("Error adding exception:",w)}}async function m(g){try{const w=sr(o,s.value),x=[...a.value];x.splice(g,1),await zi(w,{exceptions:x}),a.value=x,console.log("Exception removed successfully")}catch(w){console.error("Error removing exception:",w)}}async function y(g){try{const w=sr(o,s.value);await zi(w,{schedule:g}),console.log("Schedule updated successfully")}catch(w){console.error("Error updating schedule:",w)}}async function v(){try{const g=sr(o,s.value);await zi(g,{appointment_settings:l.value}),console.log("Appointment settings updated successfully")}catch(g){console.error("Error updating appointment settings:",g)}}async function _(){try{const g=await b(s.value);if(g.schedule&&(f.value=g.schedule),g.exceptions)for(let w of g.exceptions)w.isMeeting||a.value.push(w);g.appointment_settings&&(l.value=g.appointment_settings),console.log("Schedule and exceptions fetched successfully")}catch(g){console.error("Error fetching schedule and exceptions:",g)}}async function b(g){const w=sr(o,g),x=await Lo(w);if(x.exists())return{id:x.id,...x.data()};throw new Error("Attorney not found")}return pt(()=>{_()}),(g,w)=>i.value==="attorney"?(ne(),ae("div",Pte,[n.value?(ne(),Ue(Jw,{key:0,contentText:"Haftalık çalışma saatleri değişikliği başarıyla kaydedildi. Bu randevu saatleri her hafta için tekrarlanarak uygulanacaktır.",onClose:w[0]||(w[0]=x=>n.value=!1)})):me("",!0),r.value?(ne(),Ue(Jw,{key:1,contentText:"Randevu seçenek ayarlarınız başarıyla kaydedildi.",onClose:w[1]||(w[1]=x=>r.value=!1)})):me("",!0),O("div",Cte,[O("div",Dte,[Mte,Ce(bte,{schedule:f.value,onSaveSchedule:d},null,8,["schedule"])]),O("div",Nte,[Lte,Ce(Vee,{exceptions:a.value,onAddException:u,onRemoveException:c},null,8,["exceptions"])])]),Ce(vI,{appointmentSettings:l.value,onSaveAppointmentSettings:h},null,8,["appointmentSettings"])])):(ne(),ae("div",$te,"Admin"))}},Vte={class:"text-sm"},Ute={__name:"NotificationMessage",props:{notificationType:{type:String,required:!0,validator:t=>["newUser","newAppointmentRequest","appointmentAccepted","newContactForm"].includes(t)},data:{type:Object,default:()=>{}}},setup(t){const e=t,n=ge(()=>{switch(e.notificationType){case"newUser":return"bg-blue-50 text-blue-600 border-blue-300";case"newAppointmentRequest":return"bg-yellow-50 text-yellow-600 border-yellow-300";case"appointmentAccepted":return"bg-green-50 text-green-600 border-green-300";case"newContactForm":return"bg-gray-50 text-gray-600 border-gray-300";default:return"bg-gray-50 text-gray-600 border-gray-300"}});return(r,i)=>(ne(),ae("div",{class:Ke([n.value,"w-full p-4 rounded-md border mb-4"])},[O("p",Vte,[t.notificationType==="newUser"?(ne(),ae(Ie,{key:0},[O("strong",null,"["+we(t.data.date_tr)+"]: ",1),ot("Yeni kullanıcı "),O("strong",null,we(t.data.name),1),ot(" e-posta adresi "),O("strong",null,we(t.data.email),1),ot(" ile kaydoldu. ")],64)):me("",!0),t.notificationType==="newAppointmentRequest"?(ne(),ae(Ie,{key:1},[O("strong",null,"["+we(t.data.date_tr)+"]: ",1),O("strong",null,we(t.data.customer_name),1),ot(" tarafından "),O("strong",null,we(t.data.attorney_name),1),ot(" ile "),O("strong",null,we(t.data.date_for_display),1),ot(" tarihinde saat "),O("strong",null,we(t.data.start_time)+" - "+we(t.data.end_time),1),ot(" için yeni bir randevu talebi oluşturuldu. ")],64)):me("",!0),t.notificationType==="appointmentAccepted"?(ne(),ae(Ie,{key:2},[O("strong",null,"["+we(t.data.date_tr)+"]: ",1),O("strong",null,we(t.data.customer_name),1),ot(" tarafından "),O("strong",null,we(t.data.attorney_name),1),ot(" ile "),O("strong",null,we(t.data.date_for_display),1),ot(" tarihli saat "),O("strong",null,we(t.data.start_time)+" - "+we(t.data.end_time),1),ot(" arasında olan randevu talebi kabul edildi ve ayarlandı. ")],64)):me("",!0),t.notificationType==="newContactForm"?(ne(),ae(Ie,{key:3},[O("strong",null,"["+we(t.data.date_tr)+"]: ",1),ot("İletişim formundan yeni bir mesaj geldi: "),O("strong",null,we(t.data.name),1),ot(" ("),O("strong",null,we(t.data.email),1),ot('): "'+we(t.data.message)+'". ',1)],64)):me("",!0)])],2))}},Bte={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg relative"},jte={key:0,class:"absolute inset-0 z-10 flex items-center justify-center bg-white bg-opacity-65"},qte=O("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[O("span",{class:"mb-2"},"Bildirimler")],-1),Hte={__name:"NotificationsPage",setup(t){const e=Vr(),n=he(!1),r=ge(()=>e.getters.notifications);return pt(async()=>{r.value.length>0?console.log("notifications already fetched"):await e.dispatch("fetchNotifications")}),(i,s)=>(ne(),ae("div",Bte,[n.value?(ne(),ae("div",jte,[Ce(ZR,{text:""})])):me("",!0),qte,(ne(!0),ae(Ie,null,Ge(r.value,o=>(ne(),ae("div",{key:o.id},[Ce(Ute,{notificationType:o.type,data:o},null,8,["notificationType","data"])]))),128))]))}},zte=[{path:"/",name:"LoginPage",component:s8},{path:"/unauthorized",name:"Unauthorized",component:JZ},{path:"/:pathMatch(.*)*",name:"NotFound",component:WZ},{path:"/",component:j8,meta:{requiresAuth:!0},children:[{path:"home",name:"Home",component:sw,meta:{requiresAuth:!0}},{path:"home/:uid",name:"HomeWithUID",component:sw,meta:{requiresAuth:!0}},{path:"online-meetings",name:"OnlineMeetings",component:Hw,meta:{requiresAuth:!0,role:"admin"}},{path:"online-meetings/:uid",name:"OnlineMeetingsWithUID",component:Hw,meta:{requiresAuth:!0}},{path:"blogs",name:"Blogs",component:EZ,meta:{requiresAuth:!0,role:"admin"}},{path:"lawyers",name:"Lawyers",component:TZ,meta:{requiresAuth:!0,role:"admin"}},{path:"notifications",name:"Notifications",component:Hte,meta:{requiresAuth:!0,role:"admin"}},{path:"settings",name:"Settings",component:LZ,meta:{requiresAuth:!0,role:"admin"}},{path:"appointment-settings/:uid",name:"AppointmentSettingsWithUID",component:Fte,meta:{requiresAuth:!0}}]}],eO=B2({history:g2(),routes:zte,linkActiveClass:"bg-gray-950 text-white"});eO.beforeEach(async(t,e,n)=>{if(await Fl.dispatch("initializeAuth"),t.meta.requiresAuth&&!Fl.getters.isAuthenticated)n("/");else if(t.meta.requiresAuth){const r=Fl.getters.userRole;t.meta.role&&t.meta.role!==r?n(r==="admin"?"/online-metings":r==="attorney"?`/online-meetings/${Fl.getters.user.uid}`:"/unauthorized"):n()}else n()});const Wte={};function Kte(t,e){const n=Md("router-view");return ne(),Ue(n)}const Yte=Di(Wte,[["render",Kte]]);RC(Yte).use(eO).use(Fl).component("VueDatePicker",hc).mount("#app");
