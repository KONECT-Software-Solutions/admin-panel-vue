var Ox=Object.defineProperty;var Px=(t,e,n)=>e in t?Ox(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ne=(t,e,n)=>Px(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ag(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Ot={},ra=[],Ir=()=>{},Cx=()=>!1,jd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lg=t=>t.startsWith("onUpdate:"),on=Object.assign,ug=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Dx=Object.prototype.hasOwnProperty,dt=(t,e)=>Dx.call(t,e),Be=Array.isArray,ia=t=>_u(t)==="[object Map]",Da=t=>_u(t)==="[object Set]",Sy=t=>_u(t)==="[object Date]",Ze=t=>typeof t=="function",$t=t=>typeof t=="string",ji=t=>typeof t=="symbol",kt=t=>t!==null&&typeof t=="object",hb=t=>(kt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),pb=Object.prototype.toString,_u=t=>pb.call(t),Nx=t=>_u(t).slice(8,-1),mb=t=>_u(t)==="[object Object]",cg=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wl=ag(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Mx=/-(\w)/g,Ai=qd(t=>t.replace(Mx,(e,n)=>n?n.toUpperCase():"")),Lx=/\B([A-Z])/g,xs=qd(t=>t.replace(Lx,"-$1").toLowerCase()),Hd=qd(t=>t.charAt(0).toUpperCase()+t.slice(1)),zh=qd(t=>t?`on${Hd(t)}`:""),So=(t,e)=>!Object.is(t,e),Oc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},gb=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Xc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$x=t=>{const e=$t(t)?Number(t):NaN;return isNaN(e)?t:e};let Ry;const vb=()=>Ry||(Ry=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vn(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=$t(r)?Bx(r):vn(r);if(i)for(const o in i)e[o]=i[o]}return e}else if($t(t)||kt(t))return t}const Vx=/;(?![^(]*\))/g,Fx=/:([^]+)/,Ux=/\/\*[^]*?\*\//g;function Bx(t){const e={};return t.replace(Ux,"").split(Vx).forEach(n=>{if(n){const r=n.split(Fx);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function We(t){let e="";if($t(t))e=t;else if(Be(t))for(let n=0;n<t.length;n++){const r=We(t[n]);r&&(e+=r+" ")}else if(kt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function yn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!$t(e)&&(t.class=We(e)),n&&(t.style=vn(n)),t}const jx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qx=ag(jx);function yb(t){return!!t||t===""}function Hx(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=bu(t[r],e[r]);return n}function bu(t,e){if(t===e)return!0;let n=Sy(t),r=Sy(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ji(t),r=ji(e),n||r)return t===e;if(n=Be(t),r=Be(e),n||r)return n&&r?Hx(t,e):!1;if(n=kt(t),r=kt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!bu(t[s],e[s]))return!1}}return String(t)===String(e)}function dg(t,e){return t.findIndex(n=>bu(n,e))}const Ie=t=>$t(t)?t:t==null?"":Be(t)||kt(t)&&(t.toString===pb||!Ze(t.toString))?JSON.stringify(t,_b,2):String(t),_b=(t,e)=>e&&e.__v_isRef?_b(t,e.value):ia(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[Kh(r,o)+" =>"]=i,n),{})}:Da(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Kh(n))}:ji(e)?Kh(e):kt(e)&&!Be(e)&&!mb(e)?String(e):e,Kh=(t,e="")=>{var n;return ji(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gr;class bb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gr,!e&&gr&&(this.index=(gr.scopes||(gr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=gr;try{return gr=this,e()}finally{gr=n}}}on(){gr=this}off(){gr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function zx(t){return new bb(t)}function Kx(t,e=gr){e&&e.active&&e.effects.push(t)}function wb(){return gr}function Wx(t){gr&&gr.cleanups.push(t)}let cs;class fg{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Kx(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Mo();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Yx(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Lo()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=bo,n=cs;try{return bo=!0,cs=this,this._runnings++,Oy(this),this.fn()}finally{Py(this),this._runnings--,cs=n,bo=e}}stop(){this.active&&(Oy(this),Py(this),this.onStop&&this.onStop(),this.active=!1)}}function Yx(t){return t.value}function Oy(t){t._trackId++,t._depsLength=0}function Py(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Eb(t.deps[e],t);t.deps.length=t._depsLength}}function Eb(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let bo=!0,Yp=0;const Tb=[];function Mo(){Tb.push(bo),bo=!1}function Lo(){const t=Tb.pop();bo=t===void 0?!0:t}function hg(){Yp++}function pg(){for(Yp--;!Yp&&Gp.length;)Gp.shift()()}function Ab(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Eb(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Gp=[];function kb(t,e,n){hg();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Gp.push(r.scheduler)))}pg()}const xb=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Jc=new WeakMap,ds=Symbol(""),Qp=Symbol("");function pr(t,e,n){if(bo&&cs){let r=Jc.get(t);r||Jc.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=xb(()=>r.delete(n))),Ab(cs,i)}}function Fi(t,e,n,r,i,o){const s=Jc.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&Be(t)){const l=Number(r);s.forEach((f,u)=>{(u==="length"||!ji(u)&&u>=l)&&a.push(f)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":Be(t)?cg(n)&&a.push(s.get("length")):(a.push(s.get(ds)),ia(t)&&a.push(s.get(Qp)));break;case"delete":Be(t)||(a.push(s.get(ds)),ia(t)&&a.push(s.get(Qp)));break;case"set":ia(t)&&a.push(s.get(ds));break}hg();for(const l of a)l&&kb(l,4);pg()}function Gx(t,e){const n=Jc.get(t);return n&&n.get(e)}const Qx=ag("__proto__,__v_isRef,__isVue"),Ib=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ji)),Cy=Xx();function Xx(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ht(this);for(let o=0,s=this.length;o<s;o++)pr(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ht)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Mo(),hg();const r=ht(this)[e].apply(this,n);return pg(),Lo(),r}}),t}function Jx(t){ji(t)||(t=String(t));const e=ht(this);return pr(e,"has",t),e.hasOwnProperty(t)}class Sb{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?dI:Cb:o?Pb:Ob).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=Be(e);if(!i){if(s&&dt(Cy,n))return Reflect.get(Cy,n,r);if(n==="hasOwnProperty")return Jx}const a=Reflect.get(e,n,r);return(ji(n)?Ib.has(n):Qx(n))||(i||pr(e,"get",n),o)?a:_n(a)?s&&cg(n)?a:a.value:kt(a)?i?Nb(a):Jr(a):a}}class Rb extends Sb{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=Bl(o);if(!Zc(r)&&!Bl(r)&&(o=ht(o),r=ht(r)),!Be(e)&&_n(o)&&!_n(r))return l?!1:(o.value=r,!0)}const s=Be(e)&&cg(n)?Number(n)<e.length:dt(e,n),a=Reflect.set(e,n,r,i);return e===ht(i)&&(s?So(r,o)&&Fi(e,"set",n,r):Fi(e,"add",n,r)),a}deleteProperty(e,n){const r=dt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Fi(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ji(n)||!Ib.has(n))&&pr(e,"has",n),r}ownKeys(e){return pr(e,"iterate",Be(e)?"length":ds),Reflect.ownKeys(e)}}class Zx extends Sb{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const eI=new Rb,tI=new Zx,nI=new Rb(!0);const mg=t=>t,zd=t=>Reflect.getPrototypeOf(t);function sc(t,e,n=!1,r=!1){t=t.__v_raw;const i=ht(t),o=ht(e);n||(So(e,o)&&pr(i,"get",e),pr(i,"get",o));const{has:s}=zd(i),a=r?mg:n?yg:jl;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function ac(t,e=!1){const n=this.__v_raw,r=ht(n),i=ht(t);return e||(So(t,i)&&pr(r,"has",t),pr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function lc(t,e=!1){return t=t.__v_raw,!e&&pr(ht(t),"iterate",ds),Reflect.get(t,"size",t)}function Dy(t){t=ht(t);const e=ht(this);return zd(e).has.call(e,t)||(e.add(t),Fi(e,"add",t,t)),this}function Ny(t,e){e=ht(e);const n=ht(this),{has:r,get:i}=zd(n);let o=r.call(n,t);o||(t=ht(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?So(e,s)&&Fi(n,"set",t,e):Fi(n,"add",t,e),this}function My(t){const e=ht(this),{has:n,get:r}=zd(e);let i=n.call(e,t);i||(t=ht(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Fi(e,"delete",t,void 0),o}function Ly(){const t=ht(this),e=t.size!==0,n=t.clear();return e&&Fi(t,"clear",void 0,void 0),n}function uc(t,e){return function(r,i){const o=this,s=o.__v_raw,a=ht(s),l=e?mg:t?yg:jl;return!t&&pr(a,"iterate",ds),s.forEach((f,u)=>r.call(i,l(f),l(u),o))}}function cc(t,e,n){return function(...r){const i=this.__v_raw,o=ht(i),s=ia(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,f=i[t](...r),u=n?mg:e?yg:jl;return!e&&pr(o,"iterate",l?Qp:ds),{next(){const{value:c,done:d}=f.next();return d?{value:c,done:d}:{value:a?[u(c[0]),u(c[1])]:u(c),done:d}},[Symbol.iterator](){return this}}}}function Ji(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function rI(){const t={get(o){return sc(this,o)},get size(){return lc(this)},has:ac,add:Dy,set:Ny,delete:My,clear:Ly,forEach:uc(!1,!1)},e={get(o){return sc(this,o,!1,!0)},get size(){return lc(this)},has:ac,add:Dy,set:Ny,delete:My,clear:Ly,forEach:uc(!1,!0)},n={get(o){return sc(this,o,!0)},get size(){return lc(this,!0)},has(o){return ac.call(this,o,!0)},add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear"),forEach:uc(!0,!1)},r={get(o){return sc(this,o,!0,!0)},get size(){return lc(this,!0)},has(o){return ac.call(this,o,!0)},add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear"),forEach:uc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=cc(o,!1,!1),n[o]=cc(o,!0,!1),e[o]=cc(o,!1,!0),r[o]=cc(o,!0,!0)}),[t,n,e,r]}const[iI,oI,sI,aI]=rI();function gg(t,e){const n=e?t?aI:sI:t?oI:iI;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(dt(n,i)&&i in r?n:r,i,o)}const lI={get:gg(!1,!1)},uI={get:gg(!1,!0)},cI={get:gg(!0,!1)};const Ob=new WeakMap,Pb=new WeakMap,Cb=new WeakMap,dI=new WeakMap;function fI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hI(t){return t.__v_skip||!Object.isExtensible(t)?0:fI(Nx(t))}function Jr(t){return Bl(t)?t:vg(t,!1,eI,lI,Ob)}function Db(t){return vg(t,!1,nI,uI,Pb)}function Nb(t){return vg(t,!0,tI,cI,Cb)}function vg(t,e,n,r,i){if(!kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=hI(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function El(t){return Bl(t)?El(t.__v_raw):!!(t&&t.__v_isReactive)}function Bl(t){return!!(t&&t.__v_isReadonly)}function Zc(t){return!!(t&&t.__v_isShallow)}function Mb(t){return t?!!t.__v_raw:!1}function ht(t){const e=t&&t.__v_raw;return e?ht(e):t}function pI(t){return Object.isExtensible(t)&&gb(t,"__v_skip",!0),t}const jl=t=>kt(t)?Jr(t):t,yg=t=>kt(t)?Nb(t):t;class Lb{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new fg(()=>e(this._value),()=>Pc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ht(this);return(!e._cacheable||e.effect.dirty)&&So(e._value,e._value=e.effect.run())&&Pc(e,4),$b(e),e.effect._dirtyLevel>=2&&Pc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function mI(t,e,n=!1){let r,i;const o=Ze(t);return o?(r=t,i=Ir):(r=t.get,i=t.set),new Lb(r,i,o||!i,n)}function $b(t){var e;bo&&cs&&(t=ht(t),Ab(cs,(e=t.dep)!=null?e:t.dep=xb(()=>t.dep=void 0,t instanceof Lb?t:void 0)))}function Pc(t,e=4,n){t=ht(t);const r=t.dep;r&&kb(r,e)}function _n(t){return!!(t&&t.__v_isRef===!0)}function he(t){return Vb(t,!1)}function gI(t){return Vb(t,!0)}function Vb(t,e){return _n(t)?t:new vI(t,e)}class vI{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ht(e),this._value=n?e:jl(e)}get value(){return $b(this),this._value}set value(e){const n=this.__v_isShallow||Zc(e)||Bl(e);e=n?e:ht(e),So(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:jl(e),Pc(this,4))}}function le(t){return _n(t)?t.value:t}const yI={get:(t,e,n)=>le(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return _n(i)&&!_n(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Fb(t){return El(t)?t:new Proxy(t,yI)}class _I{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Gx(ht(this._object),this._key)}}class bI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ql(t,e,n){return _n(t)?t:Ze(t)?new bI(t):kt(t)&&arguments.length>1?wI(t,e,n):he(t)}function wI(t,e,n){const r=t[e];return _n(r)?r:new _I(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wo(t,e,n,r){try{return r?t(...r):t()}catch(i){Kd(i,e,n)}}function Sr(t,e,n,r){if(Ze(t)){const i=wo(t,e,n,r);return i&&hb(i)&&i.catch(o=>{Kd(o,e,n)}),i}if(Be(t)){const i=[];for(let o=0;o<t.length;o++)i.push(Sr(t[o],e,n,r));return i}}function Kd(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Mo(),wo(l,null,10,[t,s,a]),Lo();return}}EI(t,n,i,r)}function EI(t,e,n,r=!0){console.error(t)}let Hl=!1,Xp=!1;const Kn=[];let ui=0;const oa=[];let so=null,ts=0;const Ub=Promise.resolve();let _g=null;function Mn(t){const e=_g||Ub;return t?e.then(this?t.bind(this):t):e}function TI(t){let e=ui+1,n=Kn.length;for(;e<n;){const r=e+n>>>1,i=Kn[r],o=zl(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function bg(t){(!Kn.length||!Kn.includes(t,Hl&&t.allowRecurse?ui+1:ui))&&(t.id==null?Kn.push(t):Kn.splice(TI(t.id),0,t),Bb())}function Bb(){!Hl&&!Xp&&(Xp=!0,_g=Ub.then(qb))}function AI(t){const e=Kn.indexOf(t);e>ui&&Kn.splice(e,1)}function kI(t){Be(t)?oa.push(...t):(!so||!so.includes(t,t.allowRecurse?ts+1:ts))&&oa.push(t),Bb()}function $y(t,e,n=Hl?ui+1:0){for(;n<Kn.length;n++){const r=Kn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Kn.splice(n,1),n--,r()}}}function jb(t){if(oa.length){const e=[...new Set(oa)].sort((n,r)=>zl(n)-zl(r));if(oa.length=0,so){so.push(...e);return}for(so=e,ts=0;ts<so.length;ts++)so[ts]();so=null,ts=0}}const zl=t=>t.id==null?1/0:t.id,xI=(t,e)=>{const n=zl(t)-zl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function qb(t){Xp=!1,Hl=!0,Kn.sort(xI);try{for(ui=0;ui<Kn.length;ui++){const e=Kn[ui];e&&e.active!==!1&&wo(e,null,14)}}finally{ui=0,Kn.length=0,jb(),Hl=!1,_g=null,(Kn.length||oa.length)&&qb()}}function II(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ot;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:d}=r[u]||Ot;d&&(i=n.map(h=>$t(h)?h.trim():h)),c&&(i=n.map(Xc))}let a,l=r[a=zh(e)]||r[a=zh(Ai(e))];!l&&o&&(l=r[a=zh(xs(e))]),l&&Sr(l,t,6,i);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Sr(f,t,6,i)}}function Hb(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Ze(t)){const l=f=>{const u=Hb(f,e,!0);u&&(a=!0,on(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(kt(t)&&r.set(t,null),null):(Be(o)?o.forEach(l=>s[l]=null):on(s,o),kt(t)&&r.set(t,s),s)}function Wd(t,e){return!t||!jd(e)?!1:(e=e.slice(2).replace(/Once$/,""),dt(t,e[0].toLowerCase()+e.slice(1))||dt(t,xs(e))||dt(t,e))}let cn=null,Yd=null;function ed(t){const e=cn;return cn=t,Yd=t&&t.type.__scopeId||null,e}function Gd(t){Yd=t}function Qd(){Yd=null}function ze(t,e=cn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Xy(-1);const o=ed(e);let s;try{s=t(...i)}finally{ed(o),r._d&&Xy(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Wh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:f,renderCache:u,props:c,data:d,setupState:h,ctx:p,inheritAttrs:m}=t,y=ed(t);let v,_;try{if(n.shapeFlag&4){const g=i||r,w=g;v=ai(f.call(w,g,u,c,h,d,p)),_=a}else{const g=e;v=ai(g.length>1?g(c,{attrs:a,slots:s,emit:l}):g(c,null)),_=e.props?a:SI(a)}}catch(g){Il.length=0,Kd(g,t,1),v=qe(vr)}let b=v;if(_&&m!==!1){const g=Object.keys(_),{shapeFlag:w}=b;g.length&&w&7&&(o&&g.some(lg)&&(_=RI(_,o)),b=Ro(b,_,!1,!0))}return n.dirs&&(b=Ro(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),v=b,ed(y),v}const SI=t=>{let e;for(const n in t)(n==="class"||n==="style"||jd(n))&&((e||(e={}))[n]=t[n]);return e},RI=(t,e)=>{const n={};for(const r in t)(!lg(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function OI(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Vy(r,s,f):!!s;if(l&8){const u=e.dynamicProps;for(let c=0;c<u.length;c++){const d=u[c];if(s[d]!==r[d]&&!Wd(f,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Vy(r,s,f):!0:!!s;return!1}function Vy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Wd(n,o))return!0}return!1}function PI({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const zb="components";function wg(t,e){return Wb(zb,t,!0,e)||t}const Kb=Symbol.for("v-ndc");function Xd(t){return $t(t)?Wb(zb,t,!1)||t:t||Kb}function Wb(t,e,n=!0,r=!1){const i=cn||On;if(i){const o=i.type;{const a=kS(o,!1);if(a&&(a===e||a===Ai(e)||a===Hd(Ai(e))))return o}const s=Fy(i[t]||o[t],e)||Fy(i.appContext[t],e);return!s&&r?o:s}}function Fy(t,e){return t&&(t[e]||t[Ai(e)]||t[Hd(Ai(e))])}const CI=t=>t.__isSuspense;function DI(t,e){e&&e.pendingBranch?Be(t)?e.effects.push(...t):e.effects.push(t):kI(t)}const NI=Symbol.for("v-scx"),MI=()=>Br(NI),dc={};function rn(t,e,n){return Yb(t,e,n)}function Yb(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:a}=Ot){if(e&&o){const k=e;e=(...S)=>{k(...S),w()}}const l=On,f=k=>r===!0?k:rs(k,r===!1?1:void 0);let u,c=!1,d=!1;if(_n(t)?(u=()=>t.value,c=Zc(t)):El(t)?(u=()=>f(t),c=!0):Be(t)?(d=!0,c=t.some(k=>El(k)||Zc(k)),u=()=>t.map(k=>{if(_n(k))return k.value;if(El(k))return f(k);if(Ze(k))return wo(k,l,2)})):Ze(t)?e?u=()=>wo(t,l,2):u=()=>(h&&h(),Sr(t,l,3,[p])):u=Ir,e&&r){const k=u;u=()=>rs(k())}let h,p=k=>{h=b.onStop=()=>{wo(k,l,4),h=b.onStop=void 0}},m;if(tf)if(p=Ir,e?n&&Sr(e,l,3,[u(),d?[]:void 0,p]):u(),i==="sync"){const k=MI();m=k.__watcherHandles||(k.__watcherHandles=[])}else return Ir;let y=d?new Array(t.length).fill(dc):dc;const v=()=>{if(!(!b.active||!b.dirty))if(e){const k=b.run();(r||c||(d?k.some((S,E)=>So(S,y[E])):So(k,y)))&&(h&&h(),Sr(e,l,3,[k,y===dc?void 0:d&&y[0]===dc?[]:y,p]),y=k)}else b.run()};v.allowRecurse=!!e;let _;i==="sync"?_=v:i==="post"?_=()=>sr(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),_=()=>bg(v));const b=new fg(u,Ir,_),g=wb(),w=()=>{b.stop(),g&&ug(g.effects,b)};return e?n?v():y=b.run():i==="post"?sr(b.run.bind(b),l&&l.suspense):b.run(),m&&m.push(w),w}function LI(t,e,n){const r=this.proxy,i=$t(t)?t.includes(".")?Gb(r,t):()=>r[t]:t.bind(r,r);let o;Ze(e)?o=e:(o=e.handler,n=e);const s=wu(this),a=Yb(i,o.bind(r),n);return s(),a}function Gb(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function rs(t,e=1/0,n){if(e<=0||!kt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,_n(t))rs(t.value,e,n);else if(Be(t))for(let r=0;r<t.length;r++)rs(t[r],e,n);else if(Da(t)||ia(t))t.forEach(r=>{rs(r,e,n)});else if(mb(t))for(const r in t)rs(t[r],e,n);return t}function wt(t,e){if(cn===null)return t;const n=nf(cn)||cn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=Ot]=e[i];o&&(Ze(o)&&(o={mounted:o,updated:o}),o.deep&&rs(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Yo(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Mo(),Sr(l,n,8,[t.el,a,t,e]),Lo())}}const ao=Symbol("_leaveCb"),fc=Symbol("_enterCb");function $I(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tt(()=>{t.isMounted=!0}),Eg(()=>{t.isUnmounting=!0}),t}const Ar=[Function,Array],Qb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ar,onEnter:Ar,onAfterEnter:Ar,onEnterCancelled:Ar,onBeforeLeave:Ar,onLeave:Ar,onAfterLeave:Ar,onLeaveCancelled:Ar,onBeforeAppear:Ar,onAppear:Ar,onAfterAppear:Ar,onAppearCancelled:Ar},VI={name:"BaseTransition",props:Qb,setup(t,{slots:e}){const n=gw(),r=$I();return()=>{const i=e.default&&Jb(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const d of i)if(d.type!==vr){o=d;break}}const s=ht(t),{mode:a}=s;if(r.isLeaving)return Yh(o);const l=Uy(o);if(!l)return Yh(o);const f=Jp(l,s,r,n);Zp(l,f);const u=n.subTree,c=u&&Uy(u);if(c&&c.type!==vr&&!ns(l,c)){const d=Jp(c,s,r,n);if(Zp(c,d),a==="out-in"&&l.type!==vr)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Yh(o);a==="in-out"&&l.type!==vr&&(d.delayLeave=(h,p,m)=>{const y=Xb(r,c);y[String(c.key)]=c,h[ao]=()=>{p(),h[ao]=void 0,delete f.delayedLeave},f.delayedLeave=m})}return o}}},FI=VI;function Xb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Jp(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:f,onEnterCancelled:u,onBeforeLeave:c,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:_}=e,b=String(t.key),g=Xb(n,t),w=(E,x)=>{E&&Sr(E,r,9,x)},k=(E,x)=>{const I=x[1];w(E,x),Be(E)?E.every(A=>A.length<=1)&&I():E.length<=1&&I()},S={mode:o,persisted:s,beforeEnter(E){let x=a;if(!n.isMounted)if(i)x=m||a;else return;E[ao]&&E[ao](!0);const I=g[b];I&&ns(t,I)&&I.el[ao]&&I.el[ao](),w(x,[E])},enter(E){let x=l,I=f,A=u;if(!n.isMounted)if(i)x=y||l,I=v||f,A=_||u;else return;let T=!1;const R=E[fc]=M=>{T||(T=!0,M?w(A,[E]):w(I,[E]),S.delayedLeave&&S.delayedLeave(),E[fc]=void 0)};x?k(x,[E,R]):R()},leave(E,x){const I=String(t.key);if(E[fc]&&E[fc](!0),n.isUnmounting)return x();w(c,[E]);let A=!1;const T=E[ao]=R=>{A||(A=!0,x(),R?w(p,[E]):w(h,[E]),E[ao]=void 0,g[I]===t&&delete g[I])};g[I]=t,d?k(d,[E,T]):T()},clone(E){return Jp(E,e,n,r)}};return S}function Yh(t){if(Jd(t))return t=Ro(t),t.children=null,t}function Uy(t){if(!Jd(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function Zp(t,e){t.shapeFlag&6&&t.component?Zp(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Jb(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Pe?(s.patchFlag&128&&i++,r=r.concat(Jb(s.children,e,a))):(e||s.type!==vr)&&r.push(a!=null?Ro(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Jt(t,e){return Ze(t)?on({name:t.name},e,{setup:t}):t}const Tl=t=>!!t.type.__asyncLoader,Jd=t=>t.type.__isKeepAlive;function UI(t,e){Zb(t,"a",e)}function BI(t,e){Zb(t,"da",e)}function Zb(t,e,n=On){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Zd(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Jd(i.parent.vnode)&&jI(r,e,n,i),i=i.parent}}function jI(t,e,n,r){const i=Zd(e,t,r,!0);Na(()=>{ug(r[e],i)},n)}function Zd(t,e,n=On,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Mo();const a=wu(n),l=Sr(e,n,t,s);return a(),Lo(),l});return r?i.unshift(o):i.push(o),o}}const Gi=t=>(e,n=On)=>(!tf||t==="sp")&&Zd(t,(...r)=>e(...r),n),qI=Gi("bm"),Tt=Gi("m"),ew=Gi("bu"),HI=Gi("u"),Eg=Gi("bum"),Na=Gi("um"),zI=Gi("sp"),KI=Gi("rtg"),WI=Gi("rtc");function YI(t,e=On){Zd("ec",t,e)}function Xe(t,e,n,r){let i;const o=n;if(Be(t)||$t(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o)}else if(kt(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const f=s[a];i[a]=e(t[f],f,a,o)}}else i=[];return i}function Wn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Be(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Me(t,e,n={},r,i){if(cn.isCE||cn.parent&&Tl(cn.parent)&&cn.parent.isCE)return e!=="default"&&(n.name=e),qe("slot",n,r);let o=t[e];o&&o._c&&(o._d=!1),re();const s=o&&tw(o(n)),a=je(Pe,{key:n.key||s&&s.key||`_${e}`},s||[],s&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function tw(t){return t.some(e=>nd(e)?!(e.type===vr||e.type===Pe&&!tw(e.children)):!0)?t:null}const em=t=>t?vw(t)?nf(t)||t.proxy:em(t.parent):null,Al=on(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>em(t.parent),$root:t=>em(t.root),$emit:t=>t.emit,$options:t=>Tg(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,bg(t.update)}),$nextTick:t=>t.n||(t.n=Mn.bind(t.proxy)),$watch:t=>LI.bind(t)}),Gh=(t,e)=>t!==Ot&&!t.__isScriptSetup&&dt(t,e),GI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Gh(r,e))return s[e]=1,r[e];if(i!==Ot&&dt(i,e))return s[e]=2,i[e];if((f=t.propsOptions[0])&&dt(f,e))return s[e]=3,o[e];if(n!==Ot&&dt(n,e))return s[e]=4,n[e];tm&&(s[e]=0)}}const u=Al[e];let c,d;if(u)return e==="$attrs"&&pr(t.attrs,"get",""),u(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(n!==Ot&&dt(n,e))return s[e]=4,n[e];if(d=l.config.globalProperties,dt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Gh(i,e)?(i[e]=n,!0):r!==Ot&&dt(r,e)?(r[e]=n,!0):dt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==Ot&&dt(t,s)||Gh(e,s)||(a=o[0])&&dt(a,s)||dt(r,s)||dt(Al,s)||dt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:dt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Is(){return QI().slots}function QI(){const t=gw();return t.setupContext||(t.setupContext=_w(t))}function By(t){return Be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let tm=!0;function XI(t){const e=Tg(t),n=t.proxy,r=t.ctx;tm=!1,e.beforeCreate&&jy(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:f,created:u,beforeMount:c,mounted:d,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:_,destroyed:b,unmounted:g,render:w,renderTracked:k,renderTriggered:S,errorCaptured:E,serverPrefetch:x,expose:I,inheritAttrs:A,components:T,directives:R,filters:M}=e;if(f&&JI(f,r,null),s)for(const P in s){const X=s[P];Ze(X)&&(r[P]=X.bind(n))}if(i){const P=i.call(n,n);kt(P)&&(t.data=Jr(P))}if(tm=!0,o)for(const P in o){const X=o[P],H=Ze(X)?X.bind(n,n):Ze(X.get)?X.get.bind(n,n):Ir,U=!Ze(X)&&Ze(X.set)?X.set.bind(n):Ir,$=me({get:H,set:U});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>$.value,set:F=>$.value=F})}if(a)for(const P in a)nw(a[P],r,n,P);if(l){const P=Ze(l)?l.call(n):l;Reflect.ownKeys(P).forEach(X=>{Cc(X,P[X])})}u&&jy(u,t,"c");function O(P,X){Be(X)?X.forEach(H=>P(H.bind(n))):X&&P(X.bind(n))}if(O(qI,c),O(Tt,d),O(ew,h),O(HI,p),O(UI,m),O(BI,y),O(YI,E),O(WI,k),O(KI,S),O(Eg,_),O(Na,g),O(zI,x),Be(I))if(I.length){const P=t.exposed||(t.exposed={});I.forEach(X=>{Object.defineProperty(P,X,{get:()=>n[X],set:H=>n[X]=H})})}else t.exposed||(t.exposed={});w&&t.render===Ir&&(t.render=w),A!=null&&(t.inheritAttrs=A),T&&(t.components=T),R&&(t.directives=R)}function JI(t,e,n=Ir){Be(t)&&(t=nm(t));for(const r in t){const i=t[r];let o;kt(i)?"default"in i?o=Br(i.from||r,i.default,!0):o=Br(i.from||r):o=Br(i),_n(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function jy(t,e,n){Sr(Be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function nw(t,e,n,r){const i=r.includes(".")?Gb(n,r):()=>n[r];if($t(t)){const o=e[t];Ze(o)&&rn(i,o)}else if(Ze(t))rn(i,t.bind(n));else if(kt(t))if(Be(t))t.forEach(o=>nw(o,e,n,r));else{const o=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(o)&&rn(i,o,t)}}function Tg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(f=>td(l,f,s,!0)),td(l,e,s)),kt(e)&&o.set(e,l),l}function td(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&td(t,o,n,!0),i&&i.forEach(s=>td(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=ZI[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const ZI={data:qy,props:Hy,emits:Hy,methods:hl,computed:hl,beforeCreate:Zn,created:Zn,beforeMount:Zn,mounted:Zn,beforeUpdate:Zn,updated:Zn,beforeDestroy:Zn,beforeUnmount:Zn,destroyed:Zn,unmounted:Zn,activated:Zn,deactivated:Zn,errorCaptured:Zn,serverPrefetch:Zn,components:hl,directives:hl,watch:tS,provide:qy,inject:eS};function qy(t,e){return e?t?function(){return on(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function eS(t,e){return hl(nm(t),nm(e))}function nm(t){if(Be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Zn(t,e){return t?[...new Set([].concat(t,e))]:e}function hl(t,e){return t?on(Object.create(null),t,e):e}function Hy(t,e){return t?Be(t)&&Be(e)?[...new Set([...t,...e])]:on(Object.create(null),By(t),By(e??{})):e}function tS(t,e){if(!t)return e;if(!e)return t;const n=on(Object.create(null),t);for(const r in e)n[r]=Zn(t[r],e[r]);return n}function rw(){return{app:null,config:{isNativeTag:Cx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nS=0;function rS(t,e){return function(r,i=null){Ze(r)||(r=on({},r)),i!=null&&!kt(i)&&(i=null);const o=rw(),s=new WeakSet;let a=!1;const l=o.app={_uid:nS++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:IS,get config(){return o.config},set config(f){},use(f,...u){return s.has(f)||(f&&Ze(f.install)?(s.add(f),f.install(l,...u)):Ze(f)&&(s.add(f),f(l,...u))),l},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),l},component(f,u){return u?(o.components[f]=u,l):o.components[f]},directive(f,u){return u?(o.directives[f]=u,l):o.directives[f]},mount(f,u,c){if(!a){const d=qe(r,i);return d.appContext=o,c===!0?c="svg":c===!1&&(c=void 0),u&&e?e(d,f):t(d,f,c),a=!0,l._container=f,f.__vue_app__=l,nf(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(f,u){return o.provides[f]=u,l},runWithContext(f){const u=kl;kl=l;try{return f()}finally{kl=u}}};return l}}let kl=null;function Cc(t,e){if(On){let n=On.provides;const r=On.parent&&On.parent.provides;r===n&&(n=On.provides=Object.create(r)),n[t]=e}}function Br(t,e,n=!1){const r=On||cn;if(r||kl){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:kl._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}const iw={},ow=()=>Object.create(iw),sw=t=>Object.getPrototypeOf(t)===iw;function iS(t,e,n,r=!1){const i={},o=ow();t.propsDefaults=Object.create(null),aw(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:Db(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function oS(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=ht(i),[l]=t.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let c=0;c<u.length;c++){let d=u[c];if(Wd(t.emitsOptions,d))continue;const h=e[d];if(l)if(dt(o,d))h!==o[d]&&(o[d]=h,f=!0);else{const p=Ai(d);i[p]=rm(l,a,p,h,t,!1)}else h!==o[d]&&(o[d]=h,f=!0)}}}else{aw(t,e,i,o)&&(f=!0);let u;for(const c in a)(!e||!dt(e,c)&&((u=xs(c))===c||!dt(e,u)))&&(l?n&&(n[c]!==void 0||n[u]!==void 0)&&(i[c]=rm(l,a,c,void 0,t,!0)):delete i[c]);if(o!==a)for(const c in o)(!e||!dt(e,c))&&(delete o[c],f=!0)}f&&Fi(t.attrs,"set","")}function aw(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(wl(l))continue;const f=e[l];let u;i&&dt(i,u=Ai(l))?!o||!o.includes(u)?n[u]=f:(a||(a={}))[u]=f:Wd(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,s=!0)}if(o){const l=ht(n),f=a||Ot;for(let u=0;u<o.length;u++){const c=o[u];n[c]=rm(i,l,c,f[c],t,!dt(f,c))}}return s}function rm(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=dt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ze(l)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const u=wu(i);r=f[n]=l.call(null,e),u()}}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===xs(n))&&(r=!0))}return r}function lw(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Ze(t)){const u=c=>{l=!0;const[d,h]=lw(c,e,!0);on(s,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return kt(t)&&r.set(t,ra),ra;if(Be(o))for(let u=0;u<o.length;u++){const c=Ai(o[u]);zy(c)&&(s[c]=Ot)}else if(o)for(const u in o){const c=Ai(u);if(zy(c)){const d=o[u],h=s[c]=Be(d)||Ze(d)?{type:d}:on({},d);if(h){const p=Yy(Boolean,h.type),m=Yy(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||dt(h,"default"))&&a.push(c)}}}const f=[s,a];return kt(t)&&r.set(t,f),f}function zy(t){return t[0]!=="$"&&!wl(t)}function Ky(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Wy(t,e){return Ky(t)===Ky(e)}function Yy(t,e){return Be(e)?e.findIndex(n=>Wy(n,t)):Ze(e)&&Wy(e,t)?0:-1}const uw=t=>t[0]==="_"||t==="$stable",Ag=t=>Be(t)?t.map(ai):[ai(t)],sS=(t,e,n)=>{if(e._n)return e;const r=ze((...i)=>Ag(e(...i)),n);return r._c=!1,r},cw=(t,e,n)=>{const r=t._ctx;for(const i in t){if(uw(i))continue;const o=t[i];if(Ze(o))e[i]=sS(i,o,r);else if(o!=null){const s=Ag(o);e[i]=()=>s}}},dw=(t,e)=>{const n=Ag(e);t.slots.default=()=>n},aS=(t,e)=>{const n=t.slots=ow();if(t.vnode.shapeFlag&32){const r=e._;r?(on(n,e),gb(n,"_",r,!0)):cw(e,n)}else e&&dw(t,e)},lS=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Ot;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(on(i,e),!n&&a===1&&delete i._):(o=!e.$stable,cw(e,i)),s=e}else e&&(dw(t,e),s={default:1});if(o)for(const a in i)!uw(a)&&s[a]==null&&delete i[a]};function im(t,e,n,r,i=!1){if(Be(t)){t.forEach((d,h)=>im(d,e&&(Be(e)?e[h]:e),n,r,i));return}if(Tl(r)&&!i)return;const o=r.shapeFlag&4?nf(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t,f=e&&e.r,u=a.refs===Ot?a.refs={}:a.refs,c=a.setupState;if(f!=null&&f!==l&&($t(f)?(u[f]=null,dt(c,f)&&(c[f]=null)):_n(f)&&(f.value=null)),Ze(l))wo(l,a,12,[s,u]);else{const d=$t(l),h=_n(l);if(d||h){const p=()=>{if(t.f){const m=d?dt(c,l)?c[l]:u[l]:l.value;i?Be(m)&&ug(m,o):Be(m)?m.includes(o)||m.push(o):d?(u[l]=[o],dt(c,l)&&(c[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else d?(u[l]=s,dt(c,l)&&(c[l]=s)):h&&(l.value=s,t.k&&(u[t.k]=s))};s?(p.id=-1,sr(p,n)):p()}}}const sr=DI;function uS(t){return cS(t)}function cS(t,e){const n=vb();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:f,setElementText:u,parentNode:c,nextSibling:d,setScopeId:h=Ir,insertStaticContent:p}=t,m=(q,Q,B,se=null,G=null,W=null,ne=void 0,oe=null,de=!!Q.dynamicChildren)=>{if(q===Q)return;q&&!ns(q,Q)&&(se=V(q),F(q,G,W,!0),q=null),Q.patchFlag===-2&&(de=!1,Q.dynamicChildren=null);const{type:te,ref:ge,shapeFlag:ve}=Q;switch(te){case ef:y(q,Q,B,se);break;case vr:v(q,Q,B,se);break;case Dc:q==null&&_(Q,B,se,ne);break;case Pe:T(q,Q,B,se,G,W,ne,oe,de);break;default:ve&1?w(q,Q,B,se,G,W,ne,oe,de):ve&6?R(q,Q,B,se,G,W,ne,oe,de):(ve&64||ve&128)&&te.process(q,Q,B,se,G,W,ne,oe,de,ie)}ge!=null&&G&&im(ge,q&&q.ref,W,Q||q,!Q)},y=(q,Q,B,se)=>{if(q==null)r(Q.el=a(Q.children),B,se);else{const G=Q.el=q.el;Q.children!==q.children&&f(G,Q.children)}},v=(q,Q,B,se)=>{q==null?r(Q.el=l(Q.children||""),B,se):Q.el=q.el},_=(q,Q,B,se)=>{[q.el,q.anchor]=p(q.children,Q,B,se,q.el,q.anchor)},b=({el:q,anchor:Q},B,se)=>{let G;for(;q&&q!==Q;)G=d(q),r(q,B,se),q=G;r(Q,B,se)},g=({el:q,anchor:Q})=>{let B;for(;q&&q!==Q;)B=d(q),i(q),q=B;i(Q)},w=(q,Q,B,se,G,W,ne,oe,de)=>{Q.type==="svg"?ne="svg":Q.type==="math"&&(ne="mathml"),q==null?k(Q,B,se,G,W,ne,oe,de):x(q,Q,G,W,ne,oe,de)},k=(q,Q,B,se,G,W,ne,oe)=>{let de,te;const{props:ge,shapeFlag:ve,transition:we,dirs:Se}=q;if(de=q.el=s(q.type,W,ge&&ge.is,ge),ve&8?u(de,q.children):ve&16&&E(q.children,de,null,se,G,Qh(q,W),ne,oe),Se&&Yo(q,null,se,"created"),S(de,q,q.scopeId,ne,se),ge){for(const Oe in ge)Oe!=="value"&&!wl(Oe)&&o(de,Oe,null,ge[Oe],W,q.children,se,G,j);"value"in ge&&o(de,"value",null,ge.value,W),(te=ge.onVnodeBeforeMount)&&si(te,se,q)}Se&&Yo(q,null,se,"beforeMount");const Le=dS(G,we);Le&&we.beforeEnter(de),r(de,Q,B),((te=ge&&ge.onVnodeMounted)||Le||Se)&&sr(()=>{te&&si(te,se,q),Le&&we.enter(de),Se&&Yo(q,null,se,"mounted")},G)},S=(q,Q,B,se,G)=>{if(B&&h(q,B),se)for(let W=0;W<se.length;W++)h(q,se[W]);if(G){let W=G.subTree;if(Q===W){const ne=G.vnode;S(q,ne,ne.scopeId,ne.slotScopeIds,G.parent)}}},E=(q,Q,B,se,G,W,ne,oe,de=0)=>{for(let te=de;te<q.length;te++){const ge=q[te]=oe?lo(q[te]):ai(q[te]);m(null,ge,Q,B,se,G,W,ne,oe)}},x=(q,Q,B,se,G,W,ne)=>{const oe=Q.el=q.el;let{patchFlag:de,dynamicChildren:te,dirs:ge}=Q;de|=q.patchFlag&16;const ve=q.props||Ot,we=Q.props||Ot;let Se;if(B&&Go(B,!1),(Se=we.onVnodeBeforeUpdate)&&si(Se,B,Q,q),ge&&Yo(Q,q,B,"beforeUpdate"),B&&Go(B,!0),te?I(q.dynamicChildren,te,oe,B,se,Qh(Q,G),W):ne||X(q,Q,oe,null,B,se,Qh(Q,G),W,!1),de>0){if(de&16)A(oe,Q,ve,we,B,se,G);else if(de&2&&ve.class!==we.class&&o(oe,"class",null,we.class,G),de&4&&o(oe,"style",ve.style,we.style,G),de&8){const Le=Q.dynamicProps;for(let Oe=0;Oe<Le.length;Oe++){const Ge=Le[Oe],De=ve[Ge],rt=we[Ge];(rt!==De||Ge==="value")&&o(oe,Ge,De,rt,G,q.children,B,se,j)}}de&1&&q.children!==Q.children&&u(oe,Q.children)}else!ne&&te==null&&A(oe,Q,ve,we,B,se,G);((Se=we.onVnodeUpdated)||ge)&&sr(()=>{Se&&si(Se,B,Q,q),ge&&Yo(Q,q,B,"updated")},se)},I=(q,Q,B,se,G,W,ne)=>{for(let oe=0;oe<Q.length;oe++){const de=q[oe],te=Q[oe],ge=de.el&&(de.type===Pe||!ns(de,te)||de.shapeFlag&70)?c(de.el):B;m(de,te,ge,null,se,G,W,ne,!0)}},A=(q,Q,B,se,G,W,ne)=>{if(B!==se){if(B!==Ot)for(const oe in B)!wl(oe)&&!(oe in se)&&o(q,oe,B[oe],null,ne,Q.children,G,W,j);for(const oe in se){if(wl(oe))continue;const de=se[oe],te=B[oe];de!==te&&oe!=="value"&&o(q,oe,te,de,ne,Q.children,G,W,j)}"value"in se&&o(q,"value",B.value,se.value,ne)}},T=(q,Q,B,se,G,W,ne,oe,de)=>{const te=Q.el=q?q.el:a(""),ge=Q.anchor=q?q.anchor:a("");let{patchFlag:ve,dynamicChildren:we,slotScopeIds:Se}=Q;Se&&(oe=oe?oe.concat(Se):Se),q==null?(r(te,B,se),r(ge,B,se),E(Q.children||[],B,ge,G,W,ne,oe,de)):ve>0&&ve&64&&we&&q.dynamicChildren?(I(q.dynamicChildren,we,B,G,W,ne,oe),(Q.key!=null||G&&Q===G.subTree)&&kg(q,Q,!0)):X(q,Q,B,ge,G,W,ne,oe,de)},R=(q,Q,B,se,G,W,ne,oe,de)=>{Q.slotScopeIds=oe,q==null?Q.shapeFlag&512?G.ctx.activate(Q,B,se,ne,de):M(Q,B,se,G,W,ne,de):C(q,Q,de)},M=(q,Q,B,se,G,W,ne)=>{const oe=q.component=wS(q,se,G);if(Jd(q)&&(oe.ctx.renderer=ie),ES(oe),oe.asyncDep){if(G&&G.registerDep(oe,O),!q.el){const de=oe.subTree=qe(vr);v(null,de,Q,B)}}else O(oe,q,Q,B,G,W,ne)},C=(q,Q,B)=>{const se=Q.component=q.component;if(OI(q,Q,B))if(se.asyncDep&&!se.asyncResolved){P(se,Q,B);return}else se.next=Q,AI(se.update),se.effect.dirty=!0,se.update();else Q.el=q.el,se.vnode=Q},O=(q,Q,B,se,G,W,ne)=>{const oe=()=>{if(q.isMounted){let{next:ge,bu:ve,u:we,parent:Se,vnode:Le}=q;{const At=fw(q);if(At){ge&&(ge.el=Le.el,P(q,ge,ne)),At.asyncDep.then(()=>{q.isUnmounted||oe()});return}}let Oe=ge,Ge;Go(q,!1),ge?(ge.el=Le.el,P(q,ge,ne)):ge=Le,ve&&Oc(ve),(Ge=ge.props&&ge.props.onVnodeBeforeUpdate)&&si(Ge,Se,ge,Le),Go(q,!0);const De=Wh(q),rt=q.subTree;q.subTree=De,m(rt,De,c(rt.el),V(rt),q,G,W),ge.el=De.el,Oe===null&&PI(q,De.el),we&&sr(we,G),(Ge=ge.props&&ge.props.onVnodeUpdated)&&sr(()=>si(Ge,Se,ge,Le),G)}else{let ge;const{el:ve,props:we}=Q,{bm:Se,m:Le,parent:Oe}=q,Ge=Tl(Q);if(Go(q,!1),Se&&Oc(Se),!Ge&&(ge=we&&we.onVnodeBeforeMount)&&si(ge,Oe,Q),Go(q,!0),ve&&ee){const De=()=>{q.subTree=Wh(q),ee(ve,q.subTree,q,G,null)};Ge?Q.type.__asyncLoader().then(()=>!q.isUnmounted&&De()):De()}else{const De=q.subTree=Wh(q);m(null,De,B,se,q,G,W),Q.el=De.el}if(Le&&sr(Le,G),!Ge&&(ge=we&&we.onVnodeMounted)){const De=Q;sr(()=>si(ge,Oe,De),G)}(Q.shapeFlag&256||Oe&&Tl(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&q.a&&sr(q.a,G),q.isMounted=!0,Q=B=se=null}},de=q.effect=new fg(oe,Ir,()=>bg(te),q.scope),te=q.update=()=>{de.dirty&&de.run()};te.id=q.uid,Go(q,!0),te()},P=(q,Q,B)=>{Q.component=q;const se=q.vnode.props;q.vnode=Q,q.next=null,oS(q,Q.props,se,B),lS(q,Q.children,B),Mo(),$y(q),Lo()},X=(q,Q,B,se,G,W,ne,oe,de=!1)=>{const te=q&&q.children,ge=q?q.shapeFlag:0,ve=Q.children,{patchFlag:we,shapeFlag:Se}=Q;if(we>0){if(we&128){U(te,ve,B,se,G,W,ne,oe,de);return}else if(we&256){H(te,ve,B,se,G,W,ne,oe,de);return}}Se&8?(ge&16&&j(te,G,W),ve!==te&&u(B,ve)):ge&16?Se&16?U(te,ve,B,se,G,W,ne,oe,de):j(te,G,W,!0):(ge&8&&u(B,""),Se&16&&E(ve,B,se,G,W,ne,oe,de))},H=(q,Q,B,se,G,W,ne,oe,de)=>{q=q||ra,Q=Q||ra;const te=q.length,ge=Q.length,ve=Math.min(te,ge);let we;for(we=0;we<ve;we++){const Se=Q[we]=de?lo(Q[we]):ai(Q[we]);m(q[we],Se,B,null,G,W,ne,oe,de)}te>ge?j(q,G,W,!0,!1,ve):E(Q,B,se,G,W,ne,oe,de,ve)},U=(q,Q,B,se,G,W,ne,oe,de)=>{let te=0;const ge=Q.length;let ve=q.length-1,we=ge-1;for(;te<=ve&&te<=we;){const Se=q[te],Le=Q[te]=de?lo(Q[te]):ai(Q[te]);if(ns(Se,Le))m(Se,Le,B,null,G,W,ne,oe,de);else break;te++}for(;te<=ve&&te<=we;){const Se=q[ve],Le=Q[we]=de?lo(Q[we]):ai(Q[we]);if(ns(Se,Le))m(Se,Le,B,null,G,W,ne,oe,de);else break;ve--,we--}if(te>ve){if(te<=we){const Se=we+1,Le=Se<ge?Q[Se].el:se;for(;te<=we;)m(null,Q[te]=de?lo(Q[te]):ai(Q[te]),B,Le,G,W,ne,oe,de),te++}}else if(te>we)for(;te<=ve;)F(q[te],G,W,!0),te++;else{const Se=te,Le=te,Oe=new Map;for(te=Le;te<=we;te++){const fe=Q[te]=de?lo(Q[te]):ai(Q[te]);fe.key!=null&&Oe.set(fe.key,te)}let Ge,De=0;const rt=we-Le+1;let At=!1,Zt=0;const It=new Array(rt);for(te=0;te<rt;te++)It[te]=0;for(te=Se;te<=ve;te++){const fe=q[te];if(De>=rt){F(fe,G,W,!0);continue}let Ee;if(fe.key!=null)Ee=Oe.get(fe.key);else for(Ge=Le;Ge<=we;Ge++)if(It[Ge-Le]===0&&ns(fe,Q[Ge])){Ee=Ge;break}Ee===void 0?F(fe,G,W,!0):(It[Ee-Le]=te+1,Ee>=Zt?Zt=Ee:At=!0,m(fe,Q[Ee],B,null,G,W,ne,oe,de),De++)}const Kt=At?fS(It):ra;for(Ge=Kt.length-1,te=rt-1;te>=0;te--){const fe=Le+te,Ee=Q[fe],pe=fe+1<ge?Q[fe+1].el:se;It[te]===0?m(null,Ee,B,pe,G,W,ne,oe,de):At&&(Ge<0||te!==Kt[Ge]?$(Ee,B,pe,2):Ge--)}}},$=(q,Q,B,se,G=null)=>{const{el:W,type:ne,transition:oe,children:de,shapeFlag:te}=q;if(te&6){$(q.component.subTree,Q,B,se);return}if(te&128){q.suspense.move(Q,B,se);return}if(te&64){ne.move(q,Q,B,ie);return}if(ne===Pe){r(W,Q,B);for(let ve=0;ve<de.length;ve++)$(de[ve],Q,B,se);r(q.anchor,Q,B);return}if(ne===Dc){b(q,Q,B);return}if(se!==2&&te&1&&oe)if(se===0)oe.beforeEnter(W),r(W,Q,B),sr(()=>oe.enter(W),G);else{const{leave:ve,delayLeave:we,afterLeave:Se}=oe,Le=()=>r(W,Q,B),Oe=()=>{ve(W,()=>{Le(),Se&&Se()})};we?we(W,Le,Oe):Oe()}else r(W,Q,B)},F=(q,Q,B,se=!1,G=!1)=>{const{type:W,props:ne,ref:oe,children:de,dynamicChildren:te,shapeFlag:ge,patchFlag:ve,dirs:we}=q;if(oe!=null&&im(oe,null,B,q,!0),ge&256){Q.ctx.deactivate(q);return}const Se=ge&1&&we,Le=!Tl(q);let Oe;if(Le&&(Oe=ne&&ne.onVnodeBeforeUnmount)&&si(Oe,Q,q),ge&6)z(q.component,B,se);else{if(ge&128){q.suspense.unmount(B,se);return}Se&&Yo(q,null,Q,"beforeUnmount"),ge&64?q.type.remove(q,Q,B,G,ie,se):te&&(W!==Pe||ve>0&&ve&64)?j(te,Q,B,!1,!0):(W===Pe&&ve&384||!G&&ge&16)&&j(de,Q,B),se&&D(q)}(Le&&(Oe=ne&&ne.onVnodeUnmounted)||Se)&&sr(()=>{Oe&&si(Oe,Q,q),Se&&Yo(q,null,Q,"unmounted")},B)},D=q=>{const{type:Q,el:B,anchor:se,transition:G}=q;if(Q===Pe){K(B,se);return}if(Q===Dc){g(q);return}const W=()=>{i(B),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(q.shapeFlag&1&&G&&!G.persisted){const{leave:ne,delayLeave:oe}=G,de=()=>ne(B,W);oe?oe(q.el,W,de):de()}else W()},K=(q,Q)=>{let B;for(;q!==Q;)B=d(q),i(q),q=B;i(Q)},z=(q,Q,B)=>{const{bum:se,scope:G,update:W,subTree:ne,um:oe}=q;se&&Oc(se),G.stop(),W&&(W.active=!1,F(ne,q,Q,B)),oe&&sr(oe,Q),sr(()=>{q.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},j=(q,Q,B,se=!1,G=!1,W=0)=>{for(let ne=W;ne<q.length;ne++)F(q[ne],Q,B,se,G)},V=q=>q.shapeFlag&6?V(q.component.subTree):q.shapeFlag&128?q.suspense.next():d(q.anchor||q.el);let Z=!1;const Y=(q,Q,B)=>{q==null?Q._vnode&&F(Q._vnode,null,null,!0):m(Q._vnode||null,q,Q,null,null,null,B),Z||(Z=!0,$y(),jb(),Z=!1),Q._vnode=q},ie={p:m,um:F,m:$,r:D,mt:M,mc:E,pc:X,pbc:I,n:V,o:t};let ue,ee;return{render:Y,hydrate:ue,createApp:rS(Y,ue)}}function Qh({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Go({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function dS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function kg(t,e,n=!1){const r=t.children,i=e.children;if(Be(r)&&Be(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=lo(i[o]),a.el=s.el),n||kg(s,a)),a.type===ef&&(a.el=s.el)}}function fS(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<f?o=a+1:s=a;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function fw(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fw(e)}const hS=t=>t.__isTeleport,xl=t=>t&&(t.disabled||t.disabled===""),Gy=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Qy=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,om=(t,e)=>{const n=t&&t.to;return $t(n)?e?e(n):null:n},pS={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,f){const{mc:u,pc:c,pbc:d,o:{insert:h,querySelector:p,createText:m,createComment:y}}=f,v=xl(e.props);let{shapeFlag:_,children:b,dynamicChildren:g}=e;if(t==null){const w=e.el=m(""),k=e.anchor=m("");h(w,n,r),h(k,n,r);const S=e.target=om(e.props,p),E=e.targetAnchor=m("");S&&(h(E,S),s==="svg"||Gy(S)?s="svg":(s==="mathml"||Qy(S))&&(s="mathml"));const x=(I,A)=>{_&16&&u(b,I,A,i,o,s,a,l)};v?x(n,k):S&&x(S,E)}else{e.el=t.el;const w=e.anchor=t.anchor,k=e.target=t.target,S=e.targetAnchor=t.targetAnchor,E=xl(t.props),x=E?n:k,I=E?w:S;if(s==="svg"||Gy(k)?s="svg":(s==="mathml"||Qy(k))&&(s="mathml"),g?(d(t.dynamicChildren,g,x,i,o,s,a),kg(t,e,!0)):l||c(t,e,x,I,i,o,s,a,!1),v)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):hc(e,n,w,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=om(e.props,p);A&&hc(e,A,null,f,0)}else E&&hc(e,k,S,f,1)}hw(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:f,targetAnchor:u,target:c,props:d}=t;if(c&&o(u),s&&o(f),a&16){const h=s||!xl(d);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:hc,hydrate:mS};function hc(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:f,props:u}=t,c=o===2;if(c&&r(s,e,n),(!c||xl(u))&&l&16)for(let d=0;d<f.length;d++)i(f[d],e,n,2);c&&r(a,e,n)}function mS(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},f){const u=e.target=om(e.props,l);if(u){const c=u._lpa||u.firstChild;if(e.shapeFlag&16)if(xl(e.props))e.anchor=f(s(t),e,a(t),n,r,i,o),e.targetAnchor=c;else{e.anchor=s(t);let d=c;for(;d;)if(d=s(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(c,e,u,n,r,i,o)}hw(e)}return e.anchor&&s(e.anchor)}const gS=pS;function hw(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Pe=Symbol.for("v-fgt"),ef=Symbol.for("v-txt"),vr=Symbol.for("v-cmt"),Dc=Symbol.for("v-stc"),Il=[];let Vr=null;function re(t=!1){Il.push(Vr=t?null:[])}function vS(){Il.pop(),Vr=Il[Il.length-1]||null}let Kl=1;function Xy(t){Kl+=t}function pw(t){return t.dynamicChildren=Kl>0?Vr||ra:null,vS(),Kl>0&&Vr&&Vr.push(t),t}function ce(t,e,n,r,i,o){return pw(N(t,e,n,r,i,o,!0))}function je(t,e,n,r,i){return pw(qe(t,e,n,r,i,!0))}function nd(t){return t?t.__v_isVNode===!0:!1}function ns(t,e){return t.type===e.type&&t.key===e.key}const mw=({key:t})=>t??null,Nc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||_n(t)||Ze(t)?{i:cn,r:t,k:e,f:!!n}:t:null);function N(t,e=null,n=null,r=0,i=null,o=t===Pe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mw(e),ref:e&&Nc(e),scopeId:Yd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:cn};return a?(Ig(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),Kl>0&&!s&&Vr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Vr.push(l),l}const qe=yS;function yS(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===Kb)&&(t=vr),nd(t)){const a=Ro(t,e,!0);return n&&Ig(a,n),Kl>0&&!o&&Vr&&(a.shapeFlag&6?Vr[Vr.indexOf(t)]=a:Vr.push(a)),a.patchFlag|=-2,a}if(xS(t)&&(t=t.__vccOpts),e){e=tr(e);let{class:a,style:l}=e;a&&!$t(a)&&(e.class=We(a)),kt(l)&&(Mb(l)&&!Be(l)&&(l=on({},l)),e.style=vn(l))}const s=$t(t)?1:CI(t)?128:hS(t)?64:kt(t)?4:Ze(t)?2:0;return N(t,e,n,r,i,s,o,!0)}function tr(t){return t?Mb(t)||sw(t)?on({},t):t:null}function Ro(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=t,f=e?dn(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&mw(f),ref:e&&e.ref?n&&o?Be(o)?o.concat(Nc(e)):[o,Nc(e)]:Nc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ro(t.ssContent),ssFallback:t.ssFallback&&Ro(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&(u.transition=l.clone(u)),u}function hn(t=" ",e=0){return qe(ef,null,t,e)}function xg(t,e){const n=qe(Dc,null,t);return n.staticCount=e,n}function ye(t="",e=!1){return e?(re(),je(vr,null,t)):qe(vr,null,t)}function ai(t){return t==null||typeof t=="boolean"?qe(vr):Be(t)?qe(Pe,null,t.slice()):typeof t=="object"?lo(t):qe(ef,null,String(t))}function lo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ro(t)}function Ig(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Be(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Ig(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!sw(e)?e._ctx=cn:i===3&&cn&&(cn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:cn},n=32):(e=String(e),r&64?(n=16,e=[hn(e)]):n=8);t.children=e,t.shapeFlag|=n}function dn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=We([e.class,r.class]));else if(i==="style")e.style=vn([e.style,r.style]);else if(jd(i)){const o=e[i],s=r[i];s&&o!==s&&!(Be(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function si(t,e,n,r=null){Sr(t,e,7,[n,r])}const _S=rw();let bS=0;function wS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||_S,o={uid:bS++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new bb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lw(r,i),emitsOptions:Hb(r,i),emit:null,emitted:null,propsDefaults:Ot,inheritAttrs:r.inheritAttrs,ctx:Ot,data:Ot,props:Ot,attrs:Ot,slots:Ot,refs:Ot,setupState:Ot,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=II.bind(null,o),t.ce&&t.ce(o),o}let On=null;const gw=()=>On||cn;let rd,sm;{const t=vb(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};rd=e("__VUE_INSTANCE_SETTERS__",n=>On=n),sm=e("__VUE_SSR_SETTERS__",n=>tf=n)}const wu=t=>{const e=On;return rd(t),t.scope.on(),()=>{t.scope.off(),rd(e)}},Jy=()=>{On&&On.scope.off(),rd(null)};function vw(t){return t.vnode.shapeFlag&4}let tf=!1;function ES(t,e=!1){e&&sm(e);const{props:n,children:r}=t.vnode,i=vw(t);iS(t,n,i,e),aS(t,r);const o=i?TS(t,e):void 0;return e&&sm(!1),o}function TS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,GI);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?_w(t):null,o=wu(t);Mo();const s=wo(r,t,0,[t.props,i]);if(Lo(),o(),hb(s)){if(s.then(Jy,Jy),e)return s.then(a=>{Zy(t,a,e)}).catch(a=>{Kd(a,t,0)});t.asyncDep=s}else Zy(t,s,e)}else yw(t,e)}function Zy(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:kt(e)&&(t.setupState=Fb(e)),yw(t,n)}let e0;function yw(t,e,n){const r=t.type;if(!t.render){if(!e&&e0&&!r.render){const i=r.template||Tg(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,f=on(on({isCustomElement:o,delimiters:a},s),l);r.render=e0(i,f)}}t.render=r.render||Ir}{const i=wu(t);Mo();try{XI(t)}finally{Lo(),i()}}}const AS={get(t,e){return pr(t,"get",""),t[e]}};function _w(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,AS),slots:t.slots,emit:t.emit,expose:e}}function nf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Fb(pI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Al)return Al[n](t)},has(e,n){return n in e||n in Al}}))}function kS(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function xS(t){return Ze(t)&&"__vccOpts"in t}const me=(t,e)=>mI(t,e,tf);function Ma(t,e,n){const r=arguments.length;return r===2?kt(e)&&!Be(e)?nd(e)?qe(t,null,[e]):qe(t,e):qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&nd(n)&&(n=[n]),qe(t,e,n))}const IS="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const SS="http://www.w3.org/2000/svg",RS="http://www.w3.org/1998/Math/MathML",uo=typeof document<"u"?document:null,t0=uo&&uo.createElement("template"),OS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?uo.createElementNS(SS,t):e==="mathml"?uo.createElementNS(RS,t):uo.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>uo.createTextNode(t),createComment:t=>uo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>uo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{t0.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=t0.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zi="transition",tl="animation",Wl=Symbol("_vtc"),Kr=(t,{slots:e})=>Ma(FI,PS(t),e);Kr.displayName="Transition";const bw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Kr.props=on({},Qb,bw);const Qo=(t,e=[])=>{Be(t)?t.forEach(n=>n(...e)):t&&t(...e)},n0=t=>t?Be(t)?t.some(e=>e.length>1):t.length>1:!1;function PS(t){const e={};for(const T in t)T in bw||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:f=s,appearToClass:u=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=CS(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:b,onLeave:g,onLeaveCancelled:w,onBeforeAppear:k=v,onAppear:S=_,onAppearCancelled:E=b}=e,x=(T,R,M)=>{Xo(T,R?u:a),Xo(T,R?f:s),M&&M()},I=(T,R)=>{T._isLeaving=!1,Xo(T,c),Xo(T,h),Xo(T,d),R&&R()},A=T=>(R,M)=>{const C=T?S:_,O=()=>x(R,T,M);Qo(C,[R,O]),r0(()=>{Xo(R,T?l:o),eo(R,T?u:a),n0(C)||i0(R,r,m,O)})};return on(e,{onBeforeEnter(T){Qo(v,[T]),eo(T,o),eo(T,s)},onBeforeAppear(T){Qo(k,[T]),eo(T,l),eo(T,f)},onEnter:A(!1),onAppear:A(!0),onLeave(T,R){T._isLeaving=!0;const M=()=>I(T,R);eo(T,c),eo(T,d),MS(),r0(()=>{T._isLeaving&&(Xo(T,c),eo(T,h),n0(g)||i0(T,r,y,M))}),Qo(g,[T,M])},onEnterCancelled(T){x(T,!1),Qo(b,[T])},onAppearCancelled(T){x(T,!0),Qo(E,[T])},onLeaveCancelled(T){I(T),Qo(w,[T])}})}function CS(t){if(t==null)return null;if(kt(t))return[Xh(t.enter),Xh(t.leave)];{const e=Xh(t);return[e,e]}}function Xh(t){return $x(t)}function eo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Wl]||(t[Wl]=new Set)).add(e)}function Xo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Wl];n&&(n.delete(e),n.size||(t[Wl]=void 0))}function r0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let DS=0;function i0(t,e,n,r){const i=t._endId=++DS,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=NS(t,e);if(!s)return r();const f=s+"end";let u=0;const c=()=>{t.removeEventListener(f,d),o()},d=h=>{h.target===t&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},a+1),t.addEventListener(f,d)}function NS(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Zi}Delay`),o=r(`${Zi}Duration`),s=o0(i,o),a=r(`${tl}Delay`),l=r(`${tl}Duration`),f=o0(a,l);let u=null,c=0,d=0;e===Zi?s>0&&(u=Zi,c=s,d=o.length):e===tl?f>0&&(u=tl,c=f,d=l.length):(c=Math.max(s,f),u=c>0?s>f?Zi:tl:null,d=u?u===Zi?o.length:l.length:0);const h=u===Zi&&/\b(transform|all)(,|$)/.test(r(`${Zi}Property`).toString());return{type:u,timeout:c,propCount:d,hasTransform:h}}function o0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>s0(n)+s0(t[r])))}function s0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function MS(){return document.body.offsetHeight}function LS(t,e,n){const r=t[Wl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const id=Symbol("_vod"),ww=Symbol("_vsh"),Sl={beforeMount(t,{value:e},{transition:n}){t[id]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):nl(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),nl(t,!0),r.enter(t)):r.leave(t,()=>{nl(t,!1)}):nl(t,e))},beforeUnmount(t,{value:e}){nl(t,e)}};function nl(t,e){t.style.display=e?t[id]:"none",t[ww]=!e}const $S=Symbol(""),VS=/(^|;)\s*display\s*:/;function FS(t,e,n){const r=t.style,i=$t(n);let o=!1;if(n&&!i){if(e)if($t(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Mc(r,a,"")}else for(const s in e)n[s]==null&&Mc(r,s,"");for(const s in n)s==="display"&&(o=!0),Mc(r,s,n[s])}else if(i){if(e!==n){const s=r[$S];s&&(n+=";"+s),r.cssText=n,o=VS.test(n)}}else e&&t.removeAttribute("style");id in t&&(t[id]=o?r.display:"",t[ww]&&(r.display="none"))}const a0=/\s*!important$/;function Mc(t,e,n){if(Be(n))n.forEach(r=>Mc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=US(t,e);a0.test(n)?t.setProperty(xs(r),n.replace(a0,""),"important"):t[r]=n}}const l0=["Webkit","Moz","ms"],Jh={};function US(t,e){const n=Jh[e];if(n)return n;let r=Ai(e);if(r!=="filter"&&r in t)return Jh[e]=r;r=Hd(r);for(let i=0;i<l0.length;i++){const o=l0[i]+r;if(o in t)return Jh[e]=o}return e}const u0="http://www.w3.org/1999/xlink";function BS(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(u0,e.slice(6,e.length)):t.setAttributeNS(u0,e,n);else{const o=qx(e);n==null||o&&!yb(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function jS(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(f!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=yb(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function fo(t,e,n,r){t.addEventListener(e,n,r)}function qS(t,e,n,r){t.removeEventListener(e,n,r)}const c0=Symbol("_vei");function HS(t,e,n,r,i=null){const o=t[c0]||(t[c0]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=zS(e);if(r){const f=o[e]=YS(r,i);fo(t,a,f,l)}else s&&(qS(t,a,s,l),o[e]=void 0)}}const d0=/(?:Once|Passive|Capture)$/;function zS(t){let e;if(d0.test(t)){e={};let r;for(;r=t.match(d0);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xs(t.slice(2)),e]}let Zh=0;const KS=Promise.resolve(),WS=()=>Zh||(KS.then(()=>Zh=0),Zh=Date.now());function YS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Sr(GS(r,n.value),e,5,[r])};return n.value=t,n.attached=WS(),n}function GS(t,e){if(Be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const f0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,QS=(t,e,n,r,i,o,s,a,l)=>{const f=i==="svg";e==="class"?LS(t,r,f):e==="style"?FS(t,n,r):jd(e)?lg(e)||HS(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):XS(t,e,r,f))?jS(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),BS(t,e,r,f))};function XS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&f0(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return f0(e)&&$t(n)?!1:e in t}const ha=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Be(e)?n=>Oc(e,n):e};function JS(t){t.target.composing=!0}function h0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ui=Symbol("_assign"),yi={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Ui]=ha(i);const o=r||i.props&&i.props.type==="number";fo(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Xc(a)),t[Ui](a)}),n&&fo(t,"change",()=>{t.value=t.value.trim()}),e||(fo(t,"compositionstart",JS),fo(t,"compositionend",h0),fo(t,"change",h0))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Ui]=ha(o),t.composing)return;const s=(i||t.type==="number")&&!/^0\d/.test(t.value)?Xc(t.value):t.value,a=e??"";s!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},sa={deep:!0,created(t,e,n){t[Ui]=ha(n),fo(t,"change",()=>{const r=t._modelValue,i=Yl(t),o=t.checked,s=t[Ui];if(Be(r)){const a=dg(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const f=[...r];f.splice(a,1),s(f)}}else if(Da(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Ew(t,o))})},mounted:p0,beforeUpdate(t,e,n){t[Ui]=ha(n),p0(t,e,n)}};function p0(t,{value:e,oldValue:n},r){t._modelValue=e,Be(e)?t.checked=dg(e,r.props.value)>-1:Da(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=bu(e,Ew(t,!0)))}const Oo={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Da(e);fo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?Xc(Yl(s)):Yl(s));t[Ui](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Mn(()=>{t._assigning=!1})}),t[Ui]=ha(r)},mounted(t,{value:e,modifiers:{number:n}}){m0(t,e)},beforeUpdate(t,e,n){t[Ui]=ha(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||m0(t,e)}};function m0(t,e,n){const r=t.multiple,i=Be(e);if(!(r&&!i&&!Da(e))){for(let o=0,s=t.options.length;o<s;o++){const a=t.options[o],l=Yl(a);if(r)if(i){const f=typeof l;f==="string"||f==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=dg(e,l)>-1}else a.selected=e.has(l);else if(bu(Yl(a),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Yl(t){return"_value"in t?t._value:t.value}function Ew(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ZS=["ctrl","shift","alt","meta"],eR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ZS.some(n=>t[`${n}Key`]&&!e.includes(n))},Or=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const a=eR[e[s]];if(a&&a(i,e))return}return t(i,...o)})},tR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tw=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=xs(i.key);if(e.some(s=>s===o||tR[s]===o))return t(i)})},nR=on({patchProp:QS},OS);let g0;function Aw(){return g0||(g0=uS(nR))}const v0=(...t)=>{Aw().render(...t)},rR=(...t)=>{const e=Aw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=oR(r);if(!i)return;const o=e._component;!Ze(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,iR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function iR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function oR(t){return $t(t)?document.querySelector(t):t}function sR(){return kw().__VUE_DEVTOOLS_GLOBAL_HOOK__}function kw(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const aR=typeof Proxy=="function",lR="devtools-plugin:setup",uR="plugin:settings:set";let Bs,am;function cR(){var t;return Bs!==void 0||(typeof window<"u"&&window.performance?(Bs=!0,am=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Bs=!0,am=globalThis.perf_hooks.performance):Bs=!1),Bs}function dR(){return cR()?am.now():Date.now()}class fR{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return dR()}},n&&n.on(uR,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(f=>{this.targetQueue.push({method:a,args:l,resolve:f})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function hR(t,e){const n=t,r=kw(),i=sR(),o=aR&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(lR,t,e);else{const s=o?new fR(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ks=typeof document<"u";function pR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const bt=Object.assign;function ep(t,e){const n={};for(const r in e){const i=e[r];n[r]=Wr(i)?i.map(t):t(i)}return n}const Rl=()=>{},Wr=Array.isArray,xw=/#/g,mR=/&/g,gR=/\//g,vR=/=/g,yR=/\?/g,Iw=/\+/g,_R=/%5B/g,bR=/%5D/g,Sw=/%5E/g,wR=/%60/g,Rw=/%7B/g,ER=/%7C/g,Ow=/%7D/g,TR=/%20/g;function Sg(t){return encodeURI(""+t).replace(ER,"|").replace(_R,"[").replace(bR,"]")}function AR(t){return Sg(t).replace(Rw,"{").replace(Ow,"}").replace(Sw,"^")}function lm(t){return Sg(t).replace(Iw,"%2B").replace(TR,"+").replace(xw,"%23").replace(mR,"%26").replace(wR,"`").replace(Rw,"{").replace(Ow,"}").replace(Sw,"^")}function kR(t){return lm(t).replace(vR,"%3D")}function xR(t){return Sg(t).replace(xw,"%23").replace(yR,"%3F")}function IR(t){return t==null?"":xR(t).replace(gR,"%2F")}function Gl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const SR=/\/$/,RR=t=>t.replace(SR,"");function tp(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=DR(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:Gl(s)}}function OR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function y0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function PR(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&pa(e.matched[r],n.matched[i])&&Pw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function pa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Pw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!CR(t[n],e[n]))return!1;return!0}function CR(t,e){return Wr(t)?_0(t,e):Wr(e)?_0(e,t):t===e}function _0(t,e){return Wr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function DR(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}var Ql;(function(t){t.pop="pop",t.push="push"})(Ql||(Ql={}));var Ol;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ol||(Ol={}));function NR(t){if(!t)if(Ks){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),RR(t)}const MR=/^[^#]+#/;function LR(t,e){return t.replace(MR,"#")+e}function $R(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const rf=()=>({left:window.scrollX,top:window.scrollY});function VR(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=$R(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function b0(t,e){return(history.state?history.state.position-e:-1)+t}const um=new Map;function FR(t,e){um.set(t,e)}function UR(t){const e=um.get(t);return um.delete(t),e}let BR=()=>location.protocol+"//"+location.host;function Cw(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),y0(l,"")}return y0(n,t)+r+i}function jR(t,e,n,r){let i=[],o=[],s=null;const a=({state:d})=>{const h=Cw(t,location),p=n.value,m=e.value;let y=0;if(d){if(n.value=h,e.value=d,s&&s===p){s=null;return}y=m?d.position-m.position:0}else r(h);i.forEach(v=>{v(n.value,p,{delta:y,type:Ql.pop,direction:y?y>0?Ol.forward:Ol.back:Ol.unknown})})};function l(){s=n.value}function f(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(bt({},d.state,{scroll:rf()}),"")}function c(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:f,destroy:c}}function w0(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?rf():null}}function qR(t){const{history:e,location:n}=window,r={value:Cw(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,f,u){const c=t.indexOf("#"),d=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+l:BR()+t+l;try{e[u?"replaceState":"pushState"](f,"",d),i.value=f}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function s(l,f){const u=bt({},e.state,w0(i.value.back,l,i.value.forward,!0),f,{position:i.value.position});o(l,u,!0),r.value=l}function a(l,f){const u=bt({},i.value,e.state,{forward:l,scroll:rf()});o(u.current,u,!0);const c=bt({},w0(r.value,l,null),{position:u.position+1},f);o(l,c,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function HR(t){t=NR(t);const e=qR(t),n=jR(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=bt({location:"",base:t,go:r,createHref:LR.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function zR(t){return typeof t=="string"||t&&typeof t=="object"}function Dw(t){return typeof t=="string"||typeof t=="symbol"}const to={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nw=Symbol("");var E0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(E0||(E0={}));function ma(t,e){return bt(new Error,{type:t,[Nw]:!0},e)}function Pi(t,e){return t instanceof Error&&Nw in t&&(e==null||!!(t.type&e))}const T0="[^/]+?",KR={sensitive:!1,strict:!1,start:!0,end:!0},WR=/[.+*?^${}()[\]/\\]/g;function YR(t,e){const n=bt({},KR,e),r=[];let i=n.start?"^":"";const o=[];for(const f of t){const u=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let c=0;c<f.length;c++){const d=f[c];let h=40+(n.sensitive?.25:0);if(d.type===0)c||(i+="/"),i+=d.value.replace(WR,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:m,optional:y,regexp:v}=d;o.push({name:p,repeatable:m,optional:y});const _=v||T0;if(_!==T0){h+=10;try{new RegExp(`(${_})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+g.message)}}let b=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;c||(b=y&&f.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),i+=b,h+=20,y&&(h+=-8),m&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(f){const u=f.match(s),c={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=o[d-1];c[p.name]=h&&p.repeatable?h.split("/"):h}return c}function l(f){let u="",c=!1;for(const d of t){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:y}=h,v=p in f?f[p]:"";if(Wr(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Wr(v)?v.join("/"):v;if(!_)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);u+=_}}return u||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function GR(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function QR(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=GR(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(A0(r))return 1;if(A0(i))return-1}return i.length-r.length}function A0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const XR={type:0,value:""},JR=/[a-zA-Z0-9_]/;function ZR(t){if(!t)return[[]];if(t==="/")return[[XR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${f}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,f="",u="";function c(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function d(){f+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&c(),s()):l===":"?(c(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:JR.test(l)?d():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),c(),s(),i}function eO(t,e,n){const r=YR(ZR(t.path),n),i=bt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function tO(t,e){const n=[],r=new Map;e=I0({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function o(u,c,d){const h=!d,p=nO(u);p.aliasOf=d&&d.record;const m=I0(e,u),y=[p];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const g of b)y.push(bt({},p,{components:d?d.record.components:p.components,path:g,aliasOf:d?d.record:p}))}let v,_;for(const b of y){const{path:g}=b;if(c&&g[0]!=="/"){const w=c.record.path,k=w[w.length-1]==="/"?"":"/";b.path=c.record.path+(g&&k+g)}if(v=eO(b,c,m),d?d.alias.push(v):(_=_||v,_!==v&&_.alias.push(v),h&&u.name&&!x0(v)&&s(u.name)),p.children){const w=p.children;for(let k=0;k<w.length;k++)o(w[k],v,d&&d.children[k])}d=d||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return _?()=>{s(_)}:Rl}function s(u){if(Dw(u)){const c=r.get(u);c&&(r.delete(u),n.splice(n.indexOf(c),1),c.children.forEach(s),c.alias.forEach(s))}else{const c=n.indexOf(u);c>-1&&(n.splice(c,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return n}function l(u){let c=0;for(;c<n.length&&QR(u,n[c])>=0&&(u.record.path!==n[c].record.path||!Mw(u,n[c]));)c++;n.splice(c,0,u),u.record.name&&!x0(u)&&r.set(u.record.name,u)}function f(u,c){let d,h={},p,m;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw ma(1,{location:u});m=d.record.name,h=bt(k0(c.params,d.keys.filter(_=>!_.optional).concat(d.parent?d.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),u.params&&k0(u.params,d.keys.map(_=>_.name))),p=d.stringify(h)}else if(u.path!=null)p=u.path,d=n.find(_=>_.re.test(p)),d&&(h=d.parse(p),m=d.record.name);else{if(d=c.name?r.get(c.name):n.find(_=>_.re.test(c.path)),!d)throw ma(1,{location:u,currentLocation:c});m=d.record.name,h=bt({},c.params,u.params),p=d.stringify(h)}const y=[];let v=d;for(;v;)y.unshift(v.record),v=v.parent;return{name:m,path:p,params:h,matched:y,meta:iO(y)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:f,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function k0(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function nO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:rO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function rO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function x0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function iO(t){return t.reduce((e,n)=>bt(e,n.meta),{})}function I0(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Mw(t,e){return e.children.some(n=>n===t||Mw(t,n))}function oO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Iw," "),s=o.indexOf("="),a=Gl(s<0?o:o.slice(0,s)),l=s<0?null:Gl(o.slice(s+1));if(a in e){let f=e[a];Wr(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function S0(t){let e="";for(let n in t){const r=t[n];if(n=kR(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Wr(r)?r.map(o=>o&&lm(o)):[r&&lm(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function sO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Wr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const aO=Symbol(""),R0=Symbol(""),of=Symbol(""),Lw=Symbol(""),cm=Symbol("");function rl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function co(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const f=d=>{d===!1?l(ma(4,{from:n,to:e})):d instanceof Error?l(d):zR(d)?l(ma(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),a())},u=o(()=>t.call(r&&r.instances[i],e,n,f));let c=Promise.resolve(u);t.length<3&&(c=c.then(f)),c.catch(d=>l(d))})}function np(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(lO(l)){const u=(l.__vccOpts||l)[e];u&&o.push(co(u,n,r,s,a,i))}else{let f=l();o.push(()=>f.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const c=pR(u)?u.default:u;s.components[a]=c;const h=(c.__vccOpts||c)[e];return h&&co(h,n,r,s,a,i)()}))}}return o}function lO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function O0(t){const e=Br(of),n=Br(Lw),r=me(()=>{const l=le(t.to);return e.resolve(l)}),i=me(()=>{const{matched:l}=r.value,{length:f}=l,u=l[f-1],c=n.matched;if(!u||!c.length)return-1;const d=c.findIndex(pa.bind(null,u));if(d>-1)return d;const h=P0(l[f-2]);return f>1&&P0(u)===h&&c[c.length-1].path!==h?c.findIndex(pa.bind(null,l[f-2])):d}),o=me(()=>i.value>-1&&fO(n.params,r.value.params)),s=me(()=>i.value>-1&&i.value===n.matched.length-1&&Pw(n.params,r.value.params));function a(l={}){return dO(l)?e[le(t.replace)?"replace":"push"](le(t.to)).catch(Rl):Promise.resolve()}return{route:r,href:me(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const uO=Jt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:O0,setup(t,{slots:e}){const n=Jr(O0(t)),{options:r}=Br(of),i=me(()=>({[C0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[C0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Ma("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),cO=uO;function dO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function fO(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Wr(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function P0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const C0=(t,e,n)=>t??e??n,hO=Jt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Br(cm),i=me(()=>t.route||r.value),o=Br(R0,0),s=me(()=>{let f=le(o);const{matched:u}=i.value;let c;for(;(c=u[f])&&!c.components;)f++;return f}),a=me(()=>i.value.matched[s.value]);Cc(R0,me(()=>s.value+1)),Cc(aO,a),Cc(cm,i);const l=he();return rn(()=>[l.value,a.value,t.name],([f,u,c],[d,h,p])=>{u&&(u.instances[c]=f,h&&h!==u&&f&&f===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),f&&u&&(!h||!pa(u,h)||!d)&&(u.enterCallbacks[c]||[]).forEach(m=>m(f))},{flush:"post"}),()=>{const f=i.value,u=t.name,c=a.value,d=c&&c.components[u];if(!d)return D0(n.default,{Component:d,route:f});const h=c.props[u],p=h?h===!0?f.params:typeof h=="function"?h(f):h:null,y=Ma(d,bt({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[u]=null)},ref:l}));return D0(n.default,{Component:y,route:f})||y}}});function D0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const pO=hO;function mO(t){const e=tO(t.routes,t),n=t.parseQuery||oO,r=t.stringifyQuery||S0,i=t.history,o=rl(),s=rl(),a=rl(),l=gI(to);let f=to;Ks&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ep.bind(null,V=>""+V),c=ep.bind(null,IR),d=ep.bind(null,Gl);function h(V,Z){let Y,ie;return Dw(V)?(Y=e.getRecordMatcher(V),ie=Z):ie=V,e.addRoute(ie,Y)}function p(V){const Z=e.getRecordMatcher(V);Z&&e.removeRoute(Z)}function m(){return e.getRoutes().map(V=>V.record)}function y(V){return!!e.getRecordMatcher(V)}function v(V,Z){if(Z=bt({},Z||l.value),typeof V=="string"){const Q=tp(n,V,Z.path),B=e.resolve({path:Q.path},Z),se=i.createHref(Q.fullPath);return bt(Q,B,{params:d(B.params),hash:Gl(Q.hash),redirectedFrom:void 0,href:se})}let Y;if(V.path!=null)Y=bt({},V,{path:tp(n,V.path,Z.path).path});else{const Q=bt({},V.params);for(const B in Q)Q[B]==null&&delete Q[B];Y=bt({},V,{params:c(Q)}),Z.params=c(Z.params)}const ie=e.resolve(Y,Z),ue=V.hash||"";ie.params=u(d(ie.params));const ee=OR(r,bt({},V,{hash:AR(ue),path:ie.path})),q=i.createHref(ee);return bt({fullPath:ee,hash:ue,query:r===S0?sO(V.query):V.query||{}},ie,{redirectedFrom:void 0,href:q})}function _(V){return typeof V=="string"?tp(n,V,l.value.path):bt({},V)}function b(V,Z){if(f!==V)return ma(8,{from:Z,to:V})}function g(V){return S(V)}function w(V){return g(bt(_(V),{replace:!0}))}function k(V){const Z=V.matched[V.matched.length-1];if(Z&&Z.redirect){const{redirect:Y}=Z;let ie=typeof Y=="function"?Y(V):Y;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=_(ie):{path:ie},ie.params={}),bt({query:V.query,hash:V.hash,params:ie.path!=null?{}:V.params},ie)}}function S(V,Z){const Y=f=v(V),ie=l.value,ue=V.state,ee=V.force,q=V.replace===!0,Q=k(Y);if(Q)return S(bt(_(Q),{state:typeof Q=="object"?bt({},ue,Q.state):ue,force:ee,replace:q}),Z||Y);const B=Y;B.redirectedFrom=Z;let se;return!ee&&PR(r,ie,Y)&&(se=ma(16,{to:B,from:ie}),$(ie,ie,!0,!1)),(se?Promise.resolve(se):I(B,ie)).catch(G=>Pi(G)?Pi(G,2)?G:U(G):X(G,B,ie)).then(G=>{if(G){if(Pi(G,2))return S(bt({replace:q},_(G.to),{state:typeof G.to=="object"?bt({},ue,G.to.state):ue,force:ee}),Z||B)}else G=T(B,ie,!0,q,ue);return A(B,ie,G),G})}function E(V,Z){const Y=b(V,Z);return Y?Promise.reject(Y):Promise.resolve()}function x(V){const Z=K.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(V):V()}function I(V,Z){let Y;const[ie,ue,ee]=gO(V,Z);Y=np(ie.reverse(),"beforeRouteLeave",V,Z);for(const Q of ie)Q.leaveGuards.forEach(B=>{Y.push(co(B,V,Z))});const q=E.bind(null,V,Z);return Y.push(q),j(Y).then(()=>{Y=[];for(const Q of o.list())Y.push(co(Q,V,Z));return Y.push(q),j(Y)}).then(()=>{Y=np(ue,"beforeRouteUpdate",V,Z);for(const Q of ue)Q.updateGuards.forEach(B=>{Y.push(co(B,V,Z))});return Y.push(q),j(Y)}).then(()=>{Y=[];for(const Q of ee)if(Q.beforeEnter)if(Wr(Q.beforeEnter))for(const B of Q.beforeEnter)Y.push(co(B,V,Z));else Y.push(co(Q.beforeEnter,V,Z));return Y.push(q),j(Y)}).then(()=>(V.matched.forEach(Q=>Q.enterCallbacks={}),Y=np(ee,"beforeRouteEnter",V,Z,x),Y.push(q),j(Y))).then(()=>{Y=[];for(const Q of s.list())Y.push(co(Q,V,Z));return Y.push(q),j(Y)}).catch(Q=>Pi(Q,8)?Q:Promise.reject(Q))}function A(V,Z,Y){a.list().forEach(ie=>x(()=>ie(V,Z,Y)))}function T(V,Z,Y,ie,ue){const ee=b(V,Z);if(ee)return ee;const q=Z===to,Q=Ks?history.state:{};Y&&(ie||q?i.replace(V.fullPath,bt({scroll:q&&Q&&Q.scroll},ue)):i.push(V.fullPath,ue)),l.value=V,$(V,Z,Y,q),U()}let R;function M(){R||(R=i.listen((V,Z,Y)=>{if(!z.listening)return;const ie=v(V),ue=k(ie);if(ue){S(bt(ue,{replace:!0}),ie).catch(Rl);return}f=ie;const ee=l.value;Ks&&FR(b0(ee.fullPath,Y.delta),rf()),I(ie,ee).catch(q=>Pi(q,12)?q:Pi(q,2)?(S(q.to,ie).then(Q=>{Pi(Q,20)&&!Y.delta&&Y.type===Ql.pop&&i.go(-1,!1)}).catch(Rl),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),X(q,ie,ee))).then(q=>{q=q||T(ie,ee,!1),q&&(Y.delta&&!Pi(q,8)?i.go(-Y.delta,!1):Y.type===Ql.pop&&Pi(q,20)&&i.go(-1,!1)),A(ie,ee,q)}).catch(Rl)}))}let C=rl(),O=rl(),P;function X(V,Z,Y){U(V);const ie=O.list();return ie.length?ie.forEach(ue=>ue(V,Z,Y)):console.error(V),Promise.reject(V)}function H(){return P&&l.value!==to?Promise.resolve():new Promise((V,Z)=>{C.add([V,Z])})}function U(V){return P||(P=!V,M(),C.list().forEach(([Z,Y])=>V?Y(V):Z()),C.reset()),V}function $(V,Z,Y,ie){const{scrollBehavior:ue}=t;if(!Ks||!ue)return Promise.resolve();const ee=!Y&&UR(b0(V.fullPath,0))||(ie||!Y)&&history.state&&history.state.scroll||null;return Mn().then(()=>ue(V,Z,ee)).then(q=>q&&VR(q)).catch(q=>X(q,V,Z))}const F=V=>i.go(V);let D;const K=new Set,z={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:y,getRoutes:m,resolve:v,options:t,push:g,replace:w,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:O.add,isReady:H,install(V){const Z=this;V.component("RouterLink",cO),V.component("RouterView",pO),V.config.globalProperties.$router=Z,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>le(l)}),Ks&&!D&&l.value===to&&(D=!0,g(i.location).catch(ue=>{}));const Y={};for(const ue in to)Object.defineProperty(Y,ue,{get:()=>l.value[ue],enumerable:!0});V.provide(of,Z),V.provide(Lw,Db(Y)),V.provide(cm,l);const ie=V.unmount;K.add(V),V.unmount=function(){K.delete(V),K.size<1&&(f=to,R&&R(),R=null,l.value=to,D=!1,P=!1),ie()}}};function j(V){return V.reduce((Z,Y)=>Z.then(()=>x(Y)),Promise.resolve())}return z}function gO(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(f=>pa(f,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(f=>pa(f,l))||i.push(l))}return[n,r,i]}function $w(){return Br(of)}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Vw="store";function $o(t){return t===void 0&&(t=null),Br(t!==null?t:Vw)}function La(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function vO(t){return t!==null&&typeof t=="object"}function yO(t){return t&&typeof t.then=="function"}function _O(t,e){return function(){return t(e)}}function Fw(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Uw(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;sf(t,n,[],t._modules.root,!0),Rg(t,n,e)}function Rg(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=zx(!0);l.run(function(){La(o,function(f,u){s[u]=_O(f,t),a[u]=me(function(){return s[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=Jr({data:e}),t._scope=l,t.strict&&AO(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function sf(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=Og(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var f=r.context=bO(t,s,n);r.forEachMutation(function(u,c){var d=s+c;wO(t,d,u,f)}),r.forEachAction(function(u,c){var d=u.root?c:s+c,h=u.handler||u;EO(t,d,h,f)}),r.forEachGetter(function(u,c){var d=s+c;TO(t,d,u,f)}),r.forEachChild(function(u,c){sf(t,e,n.concat(c),u,i)})}function bO(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(o,s,a){var l=od(o,s,a),f=l.payload,u=l.options,c=l.type;return(!u||!u.root)&&(c=e+c),t.dispatch(c,f)},commit:r?t.commit:function(o,s,a){var l=od(o,s,a),f=l.payload,u=l.options,c=l.type;(!u||!u.root)&&(c=e+c),t.commit(c,f,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return Bw(t,e)}},state:{get:function(){return Og(t.state,n)}}}),i}function Bw(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function wO(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(s){n.call(t,r.state,s)})}function EO(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(s){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},s);return yO(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function TO(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function AO(t){rn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Og(t,e){return e.reduce(function(n,r){return n[r]},t)}function od(t,e,n){return vO(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var kO="vuex bindings",N0="vuex:mutations",rp="vuex:actions",js="vuex",xO=0;function IO(t,e){hR({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[kO]},function(n){n.addTimelineLayer({id:N0,label:"Vuex Mutations",color:M0}),n.addTimelineLayer({id:rp,label:"Vuex Actions",color:M0}),n.addInspector({id:js,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===js)if(r.filter){var i=[];zw(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Hw(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===js){var i=r.nodeId;Bw(e,i),r.state=OO(CO(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===js){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(js),n.sendInspectorState(js),n.addTimelineEvent({layerId:N0,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=xO++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:rp,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:rp,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var M0=8702998,SO=6710886,RO=16777215,jw={label:"namespaced",textColor:RO,backgroundColor:SO};function qw(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Hw(t,e){return{id:e||"root",label:qw(e),tags:t.namespaced?[jw]:[],children:Object.keys(t._children).map(function(n){return Hw(t._children[n],e+n+"/")})}}function zw(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[jw]:[]}),Object.keys(e._children).forEach(function(i){zw(t,e._children[i],n,r+i+"/")})}function OO(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(s){return{key:s,editable:!0,value:t.state[s]}})};if(r.length){var o=PO(e);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?qw(s):s,editable:!1,value:dm(function(){return o[s]})}})}return i}function PO(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=dm(function(){return t[n]})}else e[n]=dm(function(){return t[n]})}),e}function CO(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return o===n.length-1?s:s._children},e==="root"?t:t.root._children)}function dm(t){try{return t()}catch(e){return e}}var Zr=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Kw={namespaced:{configurable:!0}};Kw.namespaced.get=function(){return!!this._rawModule.namespaced};Zr.prototype.addChild=function(e,n){this._children[e]=n};Zr.prototype.removeChild=function(e){delete this._children[e]};Zr.prototype.getChild=function(e){return this._children[e]};Zr.prototype.hasChild=function(e){return e in this._children};Zr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Zr.prototype.forEachChild=function(e){La(this._children,e)};Zr.prototype.forEachGetter=function(e){this._rawModule.getters&&La(this._rawModule.getters,e)};Zr.prototype.forEachAction=function(e){this._rawModule.actions&&La(this._rawModule.actions,e)};Zr.prototype.forEachMutation=function(e){this._rawModule.mutations&&La(this._rawModule.mutations,e)};Object.defineProperties(Zr.prototype,Kw);var Ss=function(e){this.register([],e,!1)};Ss.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ss.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ss.prototype.update=function(e){Ww([],this.root,e)};Ss.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var o=new Zr(n,r);if(e.length===0)this.root=o;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],o)}n.modules&&La(n.modules,function(a,l){i.register(e.concat(l),a,r)})};Ss.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ss.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function Ww(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;Ww(t.concat(r),e.getChild(r),n.modules[r])}}function DO(t){return new mr(t)}var mr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ss(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,f=a.commit;this.dispatch=function(d,h){return l.call(s,d,h)},this.commit=function(d,h,p){return f.call(s,d,h,p)},this.strict=i;var u=this._modules.root.state;sf(this,u,[],this._modules.root),Rg(this,u),r.forEach(function(c){return c(n)})},Pg={state:{configurable:!0}};mr.prototype.install=function(e,n){e.provide(n||Vw,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&IO(e,this)};Pg.state.get=function(){return this._state.data};Pg.state.set=function(t){};mr.prototype.commit=function(e,n,r){var i=this,o=od(e,n,r),s=o.type,a=o.payload,l={type:s,payload:a},f=this._mutations[s];f&&(this._withCommit(function(){f.forEach(function(c){c(a)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};mr.prototype.dispatch=function(e,n){var r=this,i=od(e,n),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var f=l.length>1?Promise.all(l.map(function(u){return u(s)})):l[0](s);return new Promise(function(u,c){f.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,r.state,d)})}catch{}c(d)})})}};mr.prototype.subscribe=function(e,n){return Fw(e,this._subscribers,n)};mr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Fw(r,this._actionSubscribers,n)};mr.prototype.watch=function(e,n,r){var i=this;return rn(function(){return e(i.state,i.getters)},n,Object.assign({},r))};mr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};mr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),sf(this,this.state,e,this._modules.get(e),r.preserveState),Rg(this,this.state)};mr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Og(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Uw(this)};mr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};mr.prototype.hotUpdate=function(e){this._modules.update(e),Uw(this,!0)};mr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(mr.prototype,Pg);var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,u=o>>2,c=(o&3)<<4|a>>4;let d=(a&15)<<2|f>>6,h=f&63;l||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||f==null||c==null)throw new MO;const d=o<<2|a>>4;if(r.push(d),f!==64){const h=a<<4&240|f>>2;if(r.push(h),c!==64){const p=f<<6&192|c;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LO=function(t){const e=Yw(t);return Gw.encodeByteArray(e,!0)},sd=function(t){return LO(t).replace(/\./g,"")},Qw=function(t){try{return Gw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=()=>$O().__FIREBASE_DEFAULTS__,FO=()=>{if(typeof process>"u"||typeof L0>"u")return;const t=L0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qw(t[1]);return e&&JSON.parse(e)},af=()=>{try{return VO()||FO()||UO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xw=t=>{var e,n;return(n=(e=af())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jw=t=>{const e=Xw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zw=()=>{var t;return(t=af())===null||t===void 0?void 0:t.config},eE=t=>{var e;return(e=af())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sd(JSON.stringify(n)),sd(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function qO(){var t;const e=(t=af())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zO(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KO(){return!qO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rE(){try{return typeof indexedDB=="object"}catch{return!1}}function iE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function WO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="FirebaseError";class Cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YO,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rs.prototype.create)}}class Rs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?GO(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Cr(i,a,r)}}function GO(t,e){return t.replace(QO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QO=/\{\$([^}]+)}/g;function XO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if($0(o)&&$0(s)){if(!ga(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ml(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JO(t,e){const n=new ZO(t,e);return n.subscribe.bind(n)}class ZO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ip),i.error===void 0&&(i.error=ip),i.complete===void 0&&(i.complete=ip);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ip(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1e3,nP=2,rP=4*60*60*1e3,iP=.5;function V0(t,e=tP,n=nP){const r=e*Math.pow(n,t),i=Math.round(iP*r*(Math.random()-.5)*2);return Math.min(rP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Pr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aP(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sP(t){return t===Jo?void 0:t}function aP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const uP={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},cP=lt.INFO,dP={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},fP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=cP,this._logHandler=fP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const hP=(t,e)=>e.some(n=>t instanceof n);let F0,U0;function pP(){return F0||(F0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mP(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,fm=new WeakMap,sE=new WeakMap,op=new WeakMap,Cg=new WeakMap;function gP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Eo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,t)}).catch(()=>{}),Cg.set(e,t),e}function vP(t){if(fm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fm.set(t,e)}let hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yP(t){hm=t(hm)}function _P(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sp(this),e,...n);return sE.set(r,e.sort?e.sort():[e]),Eo(r)}:mP().includes(t)?function(...e){return t.apply(sp(this),e),Eo(oE.get(this))}:function(...e){return Eo(t.apply(sp(this),e))}}function bP(t){return typeof t=="function"?_P(t):(t instanceof IDBTransaction&&vP(t),hP(t,pP())?new Proxy(t,hm):t)}function Eo(t){if(t instanceof IDBRequest)return gP(t);if(op.has(t))return op.get(t);const e=bP(t);return e!==t&&(op.set(t,e),Cg.set(e,t)),e}const sp=t=>Cg.get(t);function aE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Eo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Eo(s.result),l.oldVersion,l.newVersion,Eo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const wP=["get","getKey","getAll","getAllKeys","count"],EP=["put","add","delete","clear"],ap=new Map;function B0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wP.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let f=l.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[n](...a),i&&l.done]))[0]};return ap.set(e,o),o}yP(t=>({...t,get:(e,n,r)=>B0(e,n)||t.get(e,n,r),has:(e,n)=>!!B0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pm="@firebase/app",j0="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new lf("@firebase/app"),kP="@firebase/app-compat",xP="@firebase/analytics-compat",IP="@firebase/analytics",SP="@firebase/app-check-compat",RP="@firebase/app-check",OP="@firebase/auth",PP="@firebase/auth-compat",CP="@firebase/database",DP="@firebase/database-compat",NP="@firebase/functions",MP="@firebase/functions-compat",LP="@firebase/installations",$P="@firebase/installations-compat",VP="@firebase/messaging",FP="@firebase/messaging-compat",UP="@firebase/performance",BP="@firebase/performance-compat",jP="@firebase/remote-config",qP="@firebase/remote-config-compat",HP="@firebase/storage",zP="@firebase/storage-compat",KP="@firebase/firestore",WP="@firebase/firestore-compat",YP="firebase",GP="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",QP={[pm]:"fire-core",[kP]:"fire-core-compat",[IP]:"fire-analytics",[xP]:"fire-analytics-compat",[RP]:"fire-app-check",[SP]:"fire-app-check-compat",[OP]:"fire-auth",[PP]:"fire-auth-compat",[CP]:"fire-rtdb",[DP]:"fire-rtdb-compat",[NP]:"fire-fn",[MP]:"fire-fn-compat",[LP]:"fire-iid",[$P]:"fire-iid-compat",[VP]:"fire-fcm",[FP]:"fire-fcm-compat",[UP]:"fire-perf",[BP]:"fire-perf-compat",[jP]:"fire-rc",[qP]:"fire-rc-compat",[HP]:"fire-gcs",[zP]:"fire-gcs-compat",[KP]:"fire-fst",[WP]:"fire-fst-compat","fire-js":"fire-js",[YP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,XP=new Map,gm=new Map;function q0(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yr(t){const e=t.name;if(gm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,t);for(const n of ad.values())q0(n,t);for(const n of XP.values())q0(n,t);return!0}function Vo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Di(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Rs("app","Firebase",JP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=GP;function lE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=Zw()),!n)throw To.create("no-options");const o=ad.get(i);if(o){if(ga(n,o.options)&&ga(r,o.config))return o;throw To.create("duplicate-app",{appName:i})}const s=new lP(i);for(const l of gm.values())s.addComponent(l);const a=new ZP(n,r,s);return ad.set(i,a),a}function uf(t=mm){const e=ad.get(t);if(!e&&t===mm&&Zw())return lE();if(!e)throw To.create("no-app",{appName:t});return e}function dr(t,e,n){var r;let i=(r=QP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(a.join(" "));return}Yr(new Pr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebase-heartbeat-database",tC=1,Xl="firebase-heartbeat-store";let lp=null;function uE(){return lp||(lp=aE(eC,tC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw To.create("idb-open",{originalErrorMessage:t.message})})),lp}async function nC(t){try{const n=(await uE()).transaction(Xl),r=await n.objectStore(Xl).get(cE(t));return await n.done,r}catch(e){if(e instanceof Cr)vs.warn(e.message);else{const n=To.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function H0(t,e){try{const r=(await uE()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,cE(t)),await r.done}catch(n){if(n instanceof Cr)vs.warn(n.message);else{const r=To.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function cE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,iC=30*24*60*60*1e3;class oC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=z0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=iC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z0(),{heartbeatsToSend:r,unsentEntries:i}=sC(this._heartbeatsCache.heartbeats),o=sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function z0(){return new Date().toISOString().substring(0,10)}function sC(t,e=rC){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),K0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),K0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rE()?iE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return H0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function K0(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){Yr(new Pr("platform-logger",e=>new TP(e),"PRIVATE")),Yr(new Pr("heartbeat",e=>new oC(e),"PRIVATE")),dr(pm,j0,t),dr(pm,j0,"esm2017"),dr("fire-js","")}lC("");var uC="firebase",cC="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(uC,cC,"app");const dE="@firebase/installations",Dg="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=1e4,hE=`w:${Dg}`,pE="FIS_v2",dC="https://firebaseinstallations.googleapis.com/v1",fC=60*60*1e3,hC="installations",pC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ys=new Rs(hC,pC,mC);function mE(t){return t instanceof Cr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE({projectId:t}){return`${dC}/projects/${t}/installations`}function vE(t){return{token:t.token,requestStatus:2,expiresIn:vC(t.expiresIn),creationTime:Date.now()}}async function yE(t,e){const r=(await e.json()).error;return ys.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _E({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gC(t,{refreshToken:e}){const n=_E(t);return n.append("Authorization",yC(e)),n}async function bE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vC(t){return Number(t.replace("s","000"))}function yC(t){return`${pE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gE(t),i=_E(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:pE,appId:t.appId,sdkVersion:hE},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await bE(()=>fetch(r,a));if(l.ok){const f=await l.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:vE(f.authToken)}}else throw await yE("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^[cdef][\w-]{21}$/,vm="";function EC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=TC(t);return wC.test(n)?n:vm}catch{return vm}}function TC(t){return bC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function TE(t,e){const n=cf(t);AE(n,e),AC(n,e)}function AE(t,e){const n=EE.get(t);if(n)for(const r of n)r(e)}function AC(t,e){const n=kC();n&&n.postMessage({key:t,fid:e}),xC()}let is=null;function kC(){return!is&&"BroadcastChannel"in self&&(is=new BroadcastChannel("[Firebase] FID Change"),is.onmessage=t=>{AE(t.data.key,t.data.fid)}),is}function xC(){EE.size===0&&is&&(is.close(),is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firebase-installations-database",SC=1,_s="firebase-installations-store";let up=null;function Ng(){return up||(up=aE(IC,SC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_s)}}})),up}async function ld(t,e){const n=cf(t),i=(await Ng()).transaction(_s,"readwrite"),o=i.objectStore(_s),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&TE(t,e.fid),e}async function kE(t){const e=cf(t),r=(await Ng()).transaction(_s,"readwrite");await r.objectStore(_s).delete(e),await r.done}async function df(t,e){const n=cf(t),i=(await Ng()).transaction(_s,"readwrite"),o=i.objectStore(_s),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&TE(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t){let e;const n=await df(t.appConfig,r=>{const i=RC(r),o=OC(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===vm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RC(t){const e=t||{fid:EC(),registrationStatus:0};return xE(e)}function OC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ys.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=PC(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CC(t)}:{installationEntry:e}}async function PC(t,e){try{const n=await _C(t,e);return ld(t.appConfig,n)}catch(n){throw mE(n)&&n.customData.serverCode===409?await kE(t.appConfig):await ld(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function CC(t){let e=await W0(t.appConfig);for(;e.registrationStatus===1;)await wE(100),e=await W0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Mg(t);return r||n}return e}function W0(t){return df(t,e=>{if(!e)throw ys.create("installation-not-found");return xE(e)})}function xE(t){return DC(t)?{fid:t.fid,registrationStatus:0}:t}function DC(t){return t.registrationStatus===1&&t.registrationTime+fE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC({appConfig:t,heartbeatServiceProvider:e},n){const r=MC(t,n),i=gC(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:hE,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await bE(()=>fetch(r,a));if(l.ok){const f=await l.json();return vE(f)}else throw await yE("Generate Auth Token",l)}function MC(t,{fid:e}){return`${gE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(t,e=!1){let n;const r=await df(t.appConfig,o=>{if(!IE(o))throw ys.create("not-registered");const s=o.authToken;if(!e&&VC(s))return o;if(s.requestStatus===1)return n=LC(t,e),o;{if(!navigator.onLine)throw ys.create("app-offline");const a=UC(o);return n=$C(t,a),a}});return n?await n:r.authToken}async function LC(t,e){let n=await Y0(t.appConfig);for(;n.authToken.requestStatus===1;)await wE(100),n=await Y0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Lg(t,e):r}function Y0(t){return df(t,e=>{if(!IE(e))throw ys.create("not-registered");const n=e.authToken;return BC(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function $C(t,e){try{const n=await NC(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ld(t.appConfig,r),n}catch(n){if(mE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kE(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ld(t.appConfig,r)}throw n}}function IE(t){return t!==void 0&&t.registrationStatus===2}function VC(t){return t.requestStatus===2&&!FC(t)}function FC(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fC}function UC(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function BC(t){return t.requestStatus===1&&t.requestTime+fE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t){const e=t,{installationEntry:n,registrationPromise:r}=await Mg(e);return r?r.catch(console.error):Lg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(t,e=!1){const n=t;return await HC(n),(await Lg(n,e)).token}async function HC(t){const{registrationPromise:e}=await Mg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){if(!t||!t.options)throw cp("App Configuration");if(!t.name)throw cp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw cp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function cp(t){return ys.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="installations",KC="installations-internal",WC=t=>{const e=t.getProvider("app").getImmediate(),n=zC(e),r=Vo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},YC=t=>{const e=t.getProvider("app").getImmediate(),n=Vo(e,SE).getImmediate();return{getId:()=>jC(n),getToken:i=>qC(n,i)}};function GC(){Yr(new Pr(SE,WC,"PUBLIC")),Yr(new Pr(KC,YC,"PRIVATE"))}GC();dr(dE,Dg);dr(dE,Dg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="analytics",QC="firebase_id",XC="origin",JC=60*1e3,ZC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$g="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new lf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wr=new Rs("analytics","Analytics",eD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){if(!t.startsWith($g)){const e=wr.create("invalid-gtag-resource",{gtagURL:t});return fr.warn(e.message),""}return t}function RE(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function rD(t,e){const n=nD("firebase-js-sdk-policy",{createScriptURL:tD}),r=document.createElement("script"),i=`${$g}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function iD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function oD(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await RE(n)).find(f=>f.measurementId===i);l&&await e[l.appId]}}catch(a){fr.error(a)}t("config",i,o)}async function sD(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await RE(n);for(const l of s){const f=a.find(c=>c.measurementId===l),u=f&&e[f.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){fr.error(o)}}function aD(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await sD(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await oD(t,e,n,r,a,l)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,l,f]=s;t("get",a,l,f)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){fr.error(a)}}return i}function lD(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=aD(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function uD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($g)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=30,dD=1e3;class fD{constructor(e={},n=dD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OE=new fD;function hD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function pD(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:hD(r)},o=ZC.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function mD(t,e=OE,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw wr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw wr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yD;return setTimeout(async()=>{a.abort()},JC),PE({appId:r,apiKey:i,measurementId:o},s,a,e)}async function PE(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=OE){var o;const{appId:s,measurementId:a}=t;try{await gD(r,e)}catch(l){if(a)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await pD(t);return i.deleteThrottleMetadata(s),l}catch(l){const f=l;if(!vD(f)){if(i.deleteThrottleMetadata(s),a)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:a};throw l}const u=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?V0(n,i.intervalMillis,cD):V0(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),fr.debug(`Calling attemptFetch again in ${u} millis`),PE(t,c,r,i)}}function gD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vD(t){if(!(t instanceof Cr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _D(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(){if(rE())try{await iE()}catch(t){return fr.warn(wr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fr.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wD(t,e,n,r,i,o,s){var a;const l=mD(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>fr.error(h)),e.push(l);const f=bD().then(h=>{if(h)return r.getId()}),[u,c]=await Promise.all([l,f]);uD(o)||rD(o,u.measurementId),i("js",new Date);const d=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return d[XC]="firebase",d.update=!0,c!=null&&(d[QC]=c),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.app=e}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},G0=[];const Q0={};let dp="dataLayer",TD="gtag",X0,CE,J0=!1;function AD(){const t=[];if(nE()&&t.push("This is a browser extension environment."),WO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wr.create("invalid-analytics-context",{errorInfo:e});fr.warn(n.message)}}function kD(t,e,n){AD();const r=t.options.appId;if(!r)throw wr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wr.create("no-api-key");if(Pl[r]!=null)throw wr.create("already-exists",{id:r});if(!J0){iD(dp);const{wrappedGtag:o,gtagCore:s}=lD(Pl,G0,Q0,dp,TD);CE=o,X0=s,J0=!0}return Pl[r]=wD(t,G0,Q0,e,X0,dp,n),new ED(t)}function xD(t=uf()){t=Dt(t);const e=Vo(t,ud);return e.isInitialized()?e.getImmediate():ID(t)}function ID(t,e={}){const n=Vo(t,ud);if(n.isInitialized()){const i=n.getImmediate();if(ga(e,n.getOptions()))return i;throw wr.create("already-initialized")}return n.initialize({options:e})}function SD(t,e,n,r){t=Dt(t),_D(CE,Pl[t.app.options.appId],e,n,r).catch(i=>fr.error(i))}const Z0="@firebase/analytics",e_="0.10.2";function RD(){Yr(new Pr(ud,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return kD(r,i,n)},"PUBLIC")),Yr(new Pr("analytics-internal",t,"PRIVATE")),dr(Z0,e_),dr(Z0,e_,"esm2017");function t(e){try{const n=e.getProvider(ud).getImmediate();return{logEvent:(r,i,o)=>SD(n,r,i,o)}}catch(n){throw wr.create("interop-component-reg-failed",{reason:n})}}}RD();function Vg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OD=DE,NE=new Rs("auth","Firebase",DE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new lf("@firebase/auth");function PD(t,...e){cd.logLevel<=lt.WARN&&cd.warn(`Auth (${Os}): ${t}`,...e)}function Lc(t,...e){cd.logLevel<=lt.ERROR&&cd.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,...e){throw Fg(t,...e)}function _i(t,...e){return Fg(t,...e)}function ME(t,e,n){const r=Object.assign(Object.assign({},OD()),{[e]:n});return new Rs("auth","Firebase",r).create(e,{appName:t.name})}function Ao(t){return ME(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NE.create(t,...e)}function Ke(t,e,...n){if(!t)throw Fg(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lc(e),new Error(e)}function qi(t,e){t||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CD(){return t_()==="http:"||t_()==="https:"}function t_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||nE()||"connection"in navigator)?navigator.onLine:!0}function ND(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=jO()||HO()}get(){return DD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Tu(3e4,6e4);function Ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fo(t,e,n,r,i={}){return $E(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Eu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),LE.fetch()(VE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function $E(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MD),e);try{const i=new VD(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw pc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,f]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw pc(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ME(t,u,f);Gr(t,u)}}catch(i){if(i instanceof Cr)throw i;Gr(t,"network-request-failed",{message:String(i)})}}async function ff(t,e,n,r,i={}){const o=await Fo(t,e,n,r,i);return"mfaPendingCredential"in o&&Gr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function VE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ug(t.config,i):`${t.config.apiScheme}://${i}`}function $D(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),LD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_i(t,e,r);return i.customData._tokenResponse=n,i}function n_(t){return t!==void 0&&t.enterprise!==void 0}class FD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $D(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UD(t,e){return Fo(t,"GET","/v2/recaptchaConfig",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e){return Fo(t,"POST","/v1/accounts:delete",e)}async function FE(t,e){return Fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jD(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=Bg(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Cl(fp(i.auth_time)),issuedAtTime:Cl(fp(i.iat)),expirationTime:Cl(fp(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function fp(t){return Number(t)*1e3}function Bg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qw(n);return i?JSON.parse(i):(Lc("Failed to decode base64 JWT payload"),null)}catch(i){return Lc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function r_(t){const e=Bg(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cr&&qD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Jl(t,FE(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UE(o.providerUserInfo):[],a=KD(t.providerData,s),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?f:!1,c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function zD(t){const e=Dt(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UE(t){return t.map(e=>{var{providerId:n}=e,r=Vg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e){const n=await $E(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=VE(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LE.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YD(t,e){return Fo(t,"POST","/v2/accounts:revokeToken",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=r_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await WD(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new aa;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ke(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jD(this,e)}reload(){return zD(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(Ao(this.auth));const e=await this.getIdToken();return await Jl(this,BD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,f,u;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(f=n.createdAt)!==null&&f!==void 0?f:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:g,isAnonymous:w,providerData:k,stsTokenManager:S}=n;Ke(b&&S,e,"internal-error");const E=aa.fromJSON(this.name,S);Ke(typeof b=="string",e,"internal-error"),no(c,e.name),no(d,e.name),Ke(typeof g=="boolean",e,"internal-error"),Ke(typeof w=="boolean",e,"internal-error"),no(h,e.name),no(p,e.name),no(m,e.name),no(y,e.name),no(v,e.name),no(_,e.name);const x=new Mi({uid:b,auth:e,email:d,emailVerified:g,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:_});return k&&Array.isArray(k)&&(x.providerData=k.map(I=>Object.assign({},I))),y&&(x._redirectEventId=y),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new aa;i.updateFromServerResponse(n);const o=new Mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?UE(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new aa;a.updateFromIdToken(r);const l=new Mi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _m(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,f),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;function Li(t){qi(t instanceof Function,"Expected a class definition");let e=i_.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BE.type="NONE";const o_=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$c(this.userKey,i.apiKey,o),this.fullPersistenceKey=$c("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new la(Li(o_),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Li(o_);const s=$c(r,e.config.apiKey,e.name);let a=null;for(const f of n)try{const u=await f._get(s);if(u){const c=Mi._fromJSON(e,u);f!==o&&(a=c),o=f;break}}catch{}const l=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new la(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new la(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KE(e))return"Blackberry";if(WE(e))return"Webos";if(jg(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jE(t=Ln()){return/firefox\//i.test(t)}function jg(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(t=Ln()){return/crios\//i.test(t)}function HE(t=Ln()){return/iemobile/i.test(t)}function zE(t=Ln()){return/android/i.test(t)}function KE(t=Ln()){return/blackberry/i.test(t)}function WE(t=Ln()){return/webos/i.test(t)}function hf(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GD(t=Ln()){var e;return hf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QD(){return zO()&&document.documentMode===10}function YE(t=Ln()){return hf(t)||zE(t)||WE(t)||KE(t)||/windows phone/i.test(t)||HE(t)}function XD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e=[]){let n;switch(t){case"Browser":n=s_(Ln());break;case"Worker":n=`${s_(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e={}){return Fo(t,"GET","/v2/passwordPolicy",Ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6;class tN{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:eN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a_(this),this.idTokenSubscription=new a_(this),this.beforeStateQueue=new JD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FE(this,{idToken:e}),r=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Di(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ND()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Di(this.app))return Promise.reject(Ao(this));const n=e?Dt(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(Ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Di(this.app)?Promise.reject(Ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZD(this),n=new tN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $a(t){return Dt(t)}class a_{constructor(e){this.auth=e,this.observer=null,this.addObserver=JO(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rN(t){pf=t}function QE(t){return pf.loadJS(t)}function iN(){return pf.recaptchaEnterpriseScript}function oN(){return pf.gapiScript}function sN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aN="recaptcha-enterprise",lN="NO_RECAPTCHA";class uN{constructor(e){this.type=aN,this.auth=$a(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{UD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const f=new FD(l);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;n_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(lN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&n_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=iN();l.length!==0&&(l+=a),QE(l).then(()=>{i(a,o,s)}).catch(f=>{s(f)})}}).catch(a=>{s(a)})})}}async function l_(t,e,n,r=!1){const i=new uN(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function u_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await l_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await l_(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e){const n=Vo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ga(o,e??{}))return i;Gr(i,"already-initialized")}return n.initialize({options:e})}function dN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fN(t,e,n){const r=$a(t);Ke(r._canInitEmulator,r,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=XE(e),{host:s,port:a}=hN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),pN()}function XE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hN(t){const e=XE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:c_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:c_(s)}}}function c_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function mN(t,e){return Fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t,e){return ff(t,"POST","/v1/accounts:signInWithPassword",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}async function yN(t,e){return ff(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends qg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,n,"signInWithPassword",gN);case"emailLink":return vN(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,r,"signUpPassword",mN);case"emailLink":return yN(e,{idToken:n,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t,e){return ff(t,"POST","/v1/accounts:signInWithIdp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="http://localhost";class bs extends qg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Vg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new bs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ua(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ua(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ua(e,n)}buildRequest(){const e={requestUri:_N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wN(t){const e=pl(ml(t)).link,n=e?pl(ml(e)).deep_link_id:null,r=pl(ml(t)).deep_link_id;return(r?pl(ml(r)).link:null)||r||n||e||t}class Hg{constructor(e){var n,r,i,o,s,a;const l=pl(ml(e)),f=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,c=bN((i=l.mode)!==null&&i!==void 0?i:null);Ke(f&&u&&c,"argument-error"),this.apiKey=f,this.operation=c,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wN(e);try{return new Hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hg.parseLink(n);return Ke(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Au{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bs._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return po.credential(n,r)}catch{return null}}}po.GOOGLE_SIGN_IN_METHOD="google.com";po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Au{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Au{constructor(){super("twitter.com")}static credential(e,n){return bs._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return go.credential(n,r)}catch{return null}}}go.TWITTER_SIGN_IN_METHOD="twitter.com";go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Mi._fromIdTokenResponse(e,r,i),s=d_(r);return new va({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=d_(r);return new va({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function d_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Cr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fd(e,n,r,i)}}function ZE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(t,o,e,r):o})}async function EN(t,e,n=!1){const r=await Jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e,n=!1){const{auth:r}=t;if(Di(r.app))return Promise.reject(Ao(r));const i="reauthenticate";try{const o=await Jl(t,ZE(r,i,e,t),n);Ke(o.idToken,r,"internal-error");const s=Bg(o.idToken);Ke(s,r,"internal-error");const{sub:a}=s;return Ke(t.uid===a,r,"user-mismatch"),va._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(t,e,n=!1){if(Di(t.app))return Promise.reject(Ao(t));const r="signIn",i=await ZE(t,r,e),o=await va._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function AN(t,e){return eT($a(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t){const e=$a(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xN(t,e,n){return Di(t.app)?Promise.reject(Ao(t)):AN(Dt(t),Va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){return Dt(t).setPersistence(e)}function IN(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function SN(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function RN(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function f_(t){return Dt(t).signOut()}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){const t=Ln();return jg(t)||hf(t)}const PN=1e3,CN=10;class rT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ON()&&XD(),this.fallbackToPolling=YE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);QD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rT.type="LOCAL";const zg=rT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iT.type="SESSION";const oT=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async f=>f(n.origin,o)),l=await DN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const f=Kg("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(c){const d=c;if(d.data.eventId===f)switch(d.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function MN(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function LN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $N(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VN(){return sT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebaseLocalStorageDb",FN=1,pd="firebaseLocalStorage",lT="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function UN(){const t=indexedDB.deleteDatabase(aT);return new ku(t).toPromise()}function bm(){const t=indexedDB.open(aT,FN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pd,{keyPath:lT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await UN(),e(await bm()))})})}async function h_(t,e,n){const r=gf(t,!0).put({[lT]:e,value:n});return new ku(r).toPromise()}async function BN(t,e){const n=gf(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function p_(t,e){const n=gf(t,!0).delete(e);return new ku(n).toPromise()}const jN=800,qN=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(VN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LN(),!this.activeServiceWorker)return;this.sender=new NN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await h_(e,hd,"1"),await p_(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=gf(i,!1).getAll();return new ku(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const HN=uT;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e){return e?Li(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends qg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ua(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ua(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KN(t){return eT(t.auth,new Wg(t),t.bypassAuthState)}function WN(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),TN(n,new Wg(t),t.bypassAuthState)}async function YN(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),EN(n,new Wg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KN;case"linkViaPopup":case"linkViaRedirect":return YN;case"reauthViaPopup":case"reauthViaRedirect":return WN;default:Gr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Tu(2e3,1e4);class Js extends cT{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GN.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="pendingRedirect",Vc=new Map;class XN extends cT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const r=await JN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JN(t,e){const n=tM(e),r=eM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZN(t,e){Vc.set(t._key(),e)}function eM(t){return Li(t._redirectPersistence)}function tM(t){return $c(QN,t.config.apiKey,t.name)}async function nM(t,e,n=!1){if(Di(t.app))return Promise.reject(Ao(t));const r=$a(t),i=zN(r,e),s=await new XN(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=10*60*1e3;class iM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rM&&this.cachedEventUids.clear(),this.cachedEventUids.has(m_(e))}saveEventToCache(e){this.cachedEventUids.add(m_(e)),this.lastProcessedEventTime=Date.now()}}function m_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e={}){return Fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lM=/^https?/;async function uM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sM(t);for(const n of e)try{if(cM(n))return}catch{}Gr(t,"unauthorized-domain")}function cM(t){const e=ym(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!lM.test(n))return!1;if(aM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Tu(3e4,6e4);function g_(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fM(t){return new Promise((e,n)=>{var r,i,o;function s(){g_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g_(),n(_i(t,"network-request-failed"))},timeout:dM.get()})}if(!((i=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=bi().gapi)===null||o===void 0)&&o.load)s();else{const a=sN("iframefcb");return bi()[a]=()=>{gapi.load?s():n(_i(t,"network-request-failed"))},QE(`${oN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function hM(t){return Fc=Fc||fM(t),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Tu(5e3,15e3),mM="__/auth/iframe",gM="emulator/auth/iframe",vM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _M(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ug(e,gM):`https://${t.config.authDomain}/${mM}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=yM.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Eu(r).slice(1)}`}async function bM(t){const e=await hM(t),n=bi().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:_M(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vM,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=_i(t,"network-request-failed"),a=bi().setTimeout(()=>{o(s)},pM.get());function l(){bi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EM=500,TM=600,AM="_blank",kM="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xM(t,e,n,r=EM,i=TM){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wM),{width:r.toString(),height:i.toString(),top:o,left:s}),f=Ln().toLowerCase();n&&(a=qE(f)?AM:n),jE(f)&&(e=e||kM,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(GD(f)&&a!=="_self")return IM(e||"",a),new v_(null);const c=window.open(e||"",a,u);Ke(c,t,"popup-blocked");try{c.focus()}catch{}return new v_(c)}function IM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="__/auth/handler",RM="emulator/auth/handler",OM=encodeURIComponent("fac");async function y_(t,e,n,r,i,o){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof JE){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",XO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries({}))s[u]=c}if(e instanceof Au){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),f=l?`#${OM}=${encodeURIComponent(l)}`:"";return`${PM(t)}?${Eu(a).slice(1)}${f}`}function PM({config:t}){return t.emulator?Ug(t,RM):`https://${t.authDomain}/${SM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class CM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oT,this._completeRedirectFn=nM,this._overrideRedirectResult=ZN}async _openPopup(e,n,r,i){var o;qi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await y_(e,n,r,ym(),i);return xM(e,s,Kg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await y_(e,n,r,ym(),i);return MN(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(qi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bM(e),r=new iM(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hp,{type:hp},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[hp];s!==void 0&&n(!!s),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YE()||jg()||hf()}}const DM=CM;var __="@firebase/auth",b_="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LM(t){Yr(new Pr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ke(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(t)},f=new nN(r,i,o,l);return dN(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new Pr("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new NM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(__,b_,MM(t)),dr(__,b_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=5*60,VM=eE("authIdTokenMaxAge")||$M;let w_=null;const FM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VM)return;const i=n==null?void 0:n.token;w_!==i&&(w_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UM(t=uf()){const e=Vo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cN(t,{popupRedirectResolver:DM,persistence:[HN,zg,oT]}),r=eE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=FM(o.toString());SN(n,s,()=>s(n.currentUser)),IN(n,a=>s(a))}}const i=Xw("auth");return i&&fN(n,`http://${i}`),n}function BM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=_i("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LM("Browser");var jM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce,Yg=Yg||{},Qe=jM||self;function vf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function yf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qM(t){return Object.prototype.hasOwnProperty.call(t,pp)&&t[pp]||(t[pp]=++HM)}var pp="closure_uid_"+(1e9*Math.random()>>>0),HM=0;function zM(t,e,n){return t.call.apply(t.bind,arguments)}function KM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Yn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yn=zM:Yn=KM,Yn.apply(null,arguments)}function mc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Uo(){this.s=this.s,this.o=this.o}var WM=0;Uo.prototype.s=!1;Uo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),WM!=0)&&qM(this)};Uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function E_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Gn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gn.prototype.h=function(){this.defaultPrevented=!0};var YM=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Qe.addEventListener("test",n,e),Qe.removeEventListener("test",n,e)}catch{}return t}();function eu(t){return/^[\s\xa0]*$/.test(t)}function _f(){var t=Qe.navigator;return t&&(t=t.userAgent)?t:""}function ci(t){return _f().indexOf(t)!=-1}function Qg(t){return Qg[" "](t),t}Qg[" "]=function(){};function GM(t,e){var n=j4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var QM=ci("Opera"),ya=ci("Trident")||ci("MSIE"),hT=ci("Edge"),wm=hT||ya,pT=ci("Gecko")&&!(_f().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge"))&&!(ci("Trident")||ci("MSIE"))&&!ci("Edge"),XM=_f().toLowerCase().indexOf("webkit")!=-1&&!ci("Edge");function mT(){var t=Qe.document;return t?t.documentMode:void 0}var Em;e:{var mp="",gp=function(){var t=_f();if(pT)return/rv:([^\);]+)(\)|;)/.exec(t);if(hT)return/Edge\/([\d\.]+)/.exec(t);if(ya)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(XM)return/WebKit\/(\S+)/.exec(t);if(QM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(gp&&(mp=gp?gp[1]:""),ya){var vp=mT();if(vp!=null&&vp>parseFloat(mp)){Em=String(vp);break e}}Em=mp}var Tm;if(Qe.document&&ya){var T_=mT();Tm=T_||parseInt(Em,10)||void 0}else Tm=void 0;var JM=Tm;function tu(t,e){if(Gn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pT){e:{try{Qg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&tu.$.h.call(this)}}wn(tu,Gn);var ZM={2:"touch",3:"pen",4:"mouse"};tu.prototype.h=function(){tu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),e4=0;function t4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++e4,this.fa=this.ia=!1}function wf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Xg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function n4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function gT(t){const e={};for(const n in t)e[n]=t[n];return e}const A_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<A_.length;o++)n=A_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ef(t){this.src=t,this.g={},this.h=0}Ef.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=km(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new t4(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Am(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=fT(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(wf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function km(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Jg="closure_lm_"+(1e6*Math.random()|0),yp={};function yT(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yT(t,e[o],n,r,i);return null}return n=wT(n),t&&t[bf]?t.O(e,n,yf(r)?!!r.capture:!!r,i):r4(t,e,n,!1,r,i)}function r4(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=yf(i)?!!i.capture:!!i,a=ev(t);if(a||(t[Jg]=a=new Ef(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=i4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)YM||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function i4(){function t(n){return e.call(t.src,t.listener,n)}const e=o4;return t}function _T(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_T(t,e[o],n,r,i);else r=yf(r)?!!r.capture:!!r,n=wT(n),t&&t[bf]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=km(o,n,r,i),-1<n&&(wf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ev(t))&&(e=t.g[e.toString()],t=-1,e&&(t=km(e,n,r,i)),(n=-1<t?e[t]:null)&&Zg(n))}function Zg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bf])Am(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ev(e))?(Am(n,t),n.h==0&&(n.src=null,e[Jg]=null)):wf(t)}}}function bT(t){return t in yp?yp[t]:yp[t]="on"+t}function o4(t,e){if(t.fa)t=!0;else{e=new tu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Zg(t),t=n.call(r,e)}return t}function ev(t){return t=t[Jg],t instanceof Ef?t:null}var _p="__closure_events_fn_"+(1e9*Math.random()>>>0);function wT(t){return typeof t=="function"?t:(t[_p]||(t[_p]=function(e){return t.handleEvent(e)}),t[_p])}function bn(){Uo.call(this),this.i=new Ef(this),this.S=this,this.J=null}wn(bn,Uo);bn.prototype[bf]=!0;bn.prototype.removeEventListener=function(t,e,n,r){_T(this,t,e,n,r)};function Dn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Gn(e,t);else if(e instanceof Gn)e.target=e.target||t;else{var i=e;e=new Gn(r,t),vT(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=gc(s,r,!0,e)&&i}if(s=e.g=t,i=gc(s,r,!0,e)&&i,i=gc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=gc(s,r,!1,e)&&i}bn.prototype.N=function(){if(bn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wf(n[r]);delete t.g[e],t.h--}}this.J=null};bn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Am(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var tv=Qe.JSON.stringify;class s4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function a4(){var t=nv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class l4{constructor(){this.h=this.g=null}add(e,n){const r=ET.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ET=new s4(()=>new u4,t=>t.reset());class u4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function c4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function d4(t){Qe.setTimeout(()=>{throw t},0)}let nu,ru=!1,nv=new l4,TT=()=>{const t=Qe.Promise.resolve(void 0);nu=()=>{t.then(f4)}};var f4=()=>{for(var t;t=a4();){try{t.h.call(t.g)}catch(n){d4(n)}var e=ET;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ru=!1};function Tf(t,e){bn.call(this),this.h=t||1,this.g=e||Qe,this.j=Yn(this.qb,this),this.l=Date.now()}wn(Tf,bn);Ce=Tf.prototype;Ce.ga=!1;Ce.T=null;Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(rv(this),this.start()))}};Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function rv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ce.N=function(){Tf.$.N.call(this),rv(this),delete this.g};function iv(t,e,n){if(typeof t=="function")n&&(t=Yn(t,n));else if(t&&typeof t.handleEvent=="function")t=Yn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Qe.setTimeout(t,e||0)}function AT(t){t.g=iv(()=>{t.g=null,t.i&&(t.i=!1,AT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class h4 extends Uo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AT(this)}N(){super.N(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function iu(t){Uo.call(this),this.h=t,this.g={}}wn(iu,Uo);var k_=[];function kT(t,e,n,r){Array.isArray(n)||(n&&(k_[0]=n.toString()),n=k_);for(var i=0;i<n.length;i++){var o=yT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function xT(t){Xg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Zg(e)},t),t.g={}}iu.prototype.N=function(){iu.$.N.call(this),xT(this)};iu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Af(){this.g=!0}Af.prototype.Ea=function(){this.g=!1};function p4(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var f=a[l].split("=");if(1<f.length){var u=f[0];f=f[1];var c=u.split("_");s=2<=c.length&&c[1]=="type"?s+(u+"="+f+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function m4(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Zs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+v4(t,n)+(r?" "+r:"")})}function g4(t,e){t.info(function(){return"TIMEOUT: "+e})}Af.prototype.info=function(){};function v4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return tv(n)}catch{return e}}var Cs={},x_=null;function kf(){return x_=x_||new bn}Cs.Ta="serverreachability";function IT(t){Gn.call(this,Cs.Ta,t)}wn(IT,Gn);function ou(t){const e=kf();Dn(e,new IT(e))}Cs.STAT_EVENT="statevent";function ST(t,e){Gn.call(this,Cs.STAT_EVENT,t),this.stat=e}wn(ST,Gn);function nr(t){const e=kf();Dn(e,new ST(e,t))}Cs.Ua="timingevent";function RT(t,e){Gn.call(this,Cs.Ua,t),this.size=e}wn(RT,Gn);function xu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){t()},e)}var xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ov(){}ov.prototype.h=null;function I_(t){return t.h||(t.h=t.i())}function PT(){}var Iu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sv(){Gn.call(this,"d")}wn(sv,Gn);function av(){Gn.call(this,"c")}wn(av,Gn);var xm;function If(){}wn(If,ov);If.prototype.g=function(){return new XMLHttpRequest};If.prototype.i=function(){return{}};xm=new If;function Su(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new iu(this),this.P=y4,t=wm?125:void 0,this.V=new Tf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CT}function CT(){this.i=null,this.g="",this.h=!1}var y4=45e3,DT={},Im={};Ce=Su.prototype;Ce.setTimeout=function(t){this.P=t};function Sm(t,e,n){t.L=1,t.A=Rf(Hi(e)),t.u=n,t.S=!0,NT(t,null)}function NT(t,e){t.G=Date.now(),Ru(t),t.B=Hi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),jT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new CT,t.g=uA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new h4(Yn(t.Pa,t,t.g),t.O)),kT(t.U,t.g,"readystatechange",t.nb),e=t.I?gT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ou(),p4(t.j,t.v,t.B,t.m,t.W,t.u)}Ce.nb=function(t){t=t.target;const e=this.M;e&&hi(t)==3?e.l():this.Pa(t)};Ce.Pa=function(t){try{if(t==this.g)e:{const u=hi(this.g);var e=this.g.Ia();const c=this.g.da();if(!(3>u)&&(u!=3||wm||this.g&&(this.h.h||this.g.ja()||P_(this.g)))){this.J||u!=4||e==7||(e==8||0>=c?ou(3):ou(2)),Sf(this);var n=this.g.da();this.ca=n;t:if(MT(this)){var r=P_(this.g);t="";var i=r.length,o=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),Dl(this);var s="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,m4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eu(a)){var f=a;break t}}f=null}if(n=f)Zs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rm(this,n);else{this.i=!1,this.s=3,nr(12),os(this),Dl(this);break e}}this.S?(LT(this,u,s),wm&&this.i&&u==3&&(kT(this.U,this.V,"tick",this.mb),this.V.start())):(Zs(this.j,this.m,s,null),Rm(this,s)),u==4&&os(this),this.i&&!this.J&&(u==4?oA(this.l,this):(this.i=!1,Ru(this)))}else F4(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,nr(12)):(this.s=0,nr(13)),os(this),Dl(this)}}}catch{}finally{}};function MT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function LT(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=_4(t,n),i==Im){e==4&&(t.s=4,nr(14),r=!1),Zs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==DT){t.s=4,nr(15),Zs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zs(t.j,t.m,i,null),Rm(t,i);MT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,nr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hv(e),e.M=!0,nr(11))):(Zs(t.j,t.m,n,"[Invalid Chunked Response]"),os(t),Dl(t))}Ce.mb=function(){if(this.g){var t=hi(this.g),e=this.g.ja();this.o<e.length&&(Sf(this),LT(this,t,e),this.i&&t!=4&&Ru(this))}};function _4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Im:(n=Number(e.substring(n,r)),isNaN(n)?DT:(r+=1,r+n>e.length?Im:(e=e.slice(r,r+n),t.o=r+n,e)))}Ce.cancel=function(){this.J=!0,os(this)};function Ru(t){t.Y=Date.now()+t.P,$T(t,t.P)}function $T(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=xu(Yn(t.lb,t),e)}function Sf(t){t.C&&(Qe.clearTimeout(t.C),t.C=null)}Ce.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(g4(this.j,this.B),this.L!=2&&(ou(),nr(17)),os(this),this.s=2,Dl(this)):$T(this,this.Y-t)};function Dl(t){t.l.H==0||t.J||oA(t.l,t)}function os(t){Sf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,rv(t.V),xT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Rm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Om(n.i,t))){if(!t.K&&Om(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vd(n),Cf(n);else break e;fv(n),nr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=xu(Yn(n.ib,n),6e3));if(1>=zT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ss(n,11)}else if((t.K||n.g==t)&&vd(n),!eu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let f=i[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const u=f[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const c=f[4];c!=null&&(n.Ga=c,n.l.info("SVER="+n.Ga));const d=f[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(lv(o,o.h),o.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Pt(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=lA(r,r.J?r.pa:null,r.Y),s.K){KT(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Sf(a),Ru(a)),r.g=s}else rA(r);0<n.j.length&&Df(n)}else f[0]!="stop"&&f[0]!="close"||ss(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?ss(n,7):dv(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}ou(4)}catch{}}function b4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function w4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function VT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=w4(t),r=b4(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var FT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fs){this.h=t.h,md(this,t.j),this.s=t.s,this.g=t.g,gd(this,t.m),this.l=t.l;var e=t.i,n=new su;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),S_(this,n),this.o=t.o}else t&&(e=String(t).match(FT))?(this.h=!1,md(this,e[1]||"",!0),this.s=gl(e[2]||""),this.g=gl(e[3]||"",!0),gd(this,e[4]),this.l=gl(e[5]||"",!0),S_(this,e[6]||"",!0),this.o=gl(e[7]||"")):(this.h=!1,this.i=new su(null,this.h))}fs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vl(e,R_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vl(e,R_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vl(n,n.charAt(0)=="/"?k4:A4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vl(n,I4)),t.join("")};function Hi(t){return new fs(t)}function md(t,e,n){t.j=n?gl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function S_(t,e,n){e instanceof su?(t.i=e,S4(t.i,t.h)):(n||(e=vl(e,x4)),t.i=new su(e,t.h))}function Pt(t,e,n){t.i.set(e,n)}function Rf(t){return Pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function gl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,T4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function T4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var R_=/[#\/\?@]/g,A4=/[#\?:]/g,k4=/[#\?]/g,x4=/[#\?@]/g,I4=/#/g;function su(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bo(t){t.g||(t.g=new Map,t.h=0,t.i&&E4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ce=su.prototype;Ce.add=function(t,e){Bo(this),this.i=null,t=Fa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function UT(t,e){Bo(t),e=Fa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BT(t,e){return Bo(t),e=Fa(t,e),t.g.has(e)}Ce.forEach=function(t,e){Bo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ce.ta=function(){Bo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Ce.Z=function(t){Bo(this);let e=[];if(typeof t=="string")BT(this,t)&&(e=e.concat(this.g.get(Fa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ce.set=function(t,e){return Bo(this),this.i=null,t=Fa(this,t),BT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jT(t,e,n){UT(t,e),0<n.length&&(t.i=null,t.g.set(Fa(t,e),Gg(n)),t.h+=n.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Fa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function S4(t,e){e&&!t.j&&(Bo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(UT(this,r),jT(this,i,n))},t)),t.j=e}var R4=class{constructor(t,e){this.g=t,this.map=e}};function qT(t){this.l=t||O4,Qe.PerformanceNavigationTiming?(t=Qe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Qe.g&&Qe.g.Ka&&Qe.g.Ka()&&Qe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var O4=10;function HT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zT(t){return t.h?1:t.g?t.g.size:0}function Om(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function lv(t,e){t.g?t.g.add(e):t.h=e}function KT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qT.prototype.cancel=function(){if(this.i=WT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Gg(t.i)}var P4=class{stringify(t){return Qe.JSON.stringify(t,void 0)}parse(t){return Qe.JSON.parse(t,void 0)}};function C4(){this.g=new P4}function D4(t,e,n){const r=n||"";try{VT(t,function(i,o){let s=i;yf(i)&&(s=tv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function N4(t,e){const n=new Af;if(Qe.Image){const r=new Image;r.onload=mc(vc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mc(vc,n,r,"TestLoadImage: error",!1,e),r.onabort=mc(vc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mc(vc,n,r,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ou(t){this.l=t.ec||null,this.j=t.ob||!1}wn(Ou,ov);Ou.prototype.g=function(){return new Of(this.l,this.j)};Ou.prototype.i=function(t){return function(){return t}}({});function Of(t,e){bn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=uv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn(Of,bn);var uv=0;Ce=Of.prototype;Ce.open=function(t,e){if(this.readyState!=uv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,au(this)};Ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pu(this)),this.readyState=uv};Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,au(this)),this.g&&(this.readyState=3,au(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function YT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pu(this):au(this),this.readyState==3&&YT(this)}};Ce.Za=function(t){this.g&&(this.response=this.responseText=t,Pu(this))};Ce.Ya=function(t){this.g&&(this.response=t,Pu(this))};Ce.ka=function(){this.g&&Pu(this)};function Pu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,au(t)}Ce.setRequestHeader=function(t,e){this.v.append(t,e)};Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function au(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Of.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var M4=Qe.JSON.parse;function jt(t){bn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GT,this.L=this.M=!1}wn(jt,bn);var GT="",L4=/^https?$/i,$4=["POST","PUT"];Ce=jt.prototype;Ce.Oa=function(t){this.M=t};Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xm.g(),this.C=this.u?I_(this.u):I_(xm),this.g.onreadystatechange=Yn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){O_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Qe.FormData&&t instanceof Qe.FormData,!(0<=fT($4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JT(this),0<this.B&&((this.L=V4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yn(this.ua,this)):this.A=iv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){O_(this,o)}};function V4(t){return ya&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ce.ua=function(){typeof Yg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))};function O_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QT(t),Pf(t)}function QT(t){t.F||(t.F=!0,Dn(t,"complete"),Dn(t,"error"))}Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dn(this,"complete"),Dn(this,"abort"),Pf(this))};Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pf(this,!0)),jt.$.N.call(this)};Ce.La=function(){this.s||(this.G||this.v||this.l?XT(this):this.kb())};Ce.kb=function(){XT(this)};function XT(t){if(t.h&&typeof Yg<"u"&&(!t.C[1]||hi(t)!=4||t.da()!=2)){if(t.v&&hi(t)==4)iv(t.La,0,t);else if(Dn(t,"readystatechange"),hi(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(FT)[1]||null;!i&&Qe.self&&Qe.self.location&&(i=Qe.self.location.protocol.slice(0,-1)),r=!L4.test(i?i.toLowerCase():"")}n=r}if(n)Dn(t,"complete"),Dn(t,"success");else{t.m=6;try{var o=2<hi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",QT(t)}}finally{Pf(t)}}}}function Pf(t,e){if(t.g){JT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dn(t,"ready");try{n.onreadystatechange=r}catch{}}}function JT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Qe.clearTimeout(t.A),t.A=null)}Ce.isActive=function(){return!!this.g};function hi(t){return t.g?t.g.readyState:0}Ce.da=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}};Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),M4(e)}};function P_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function F4(t){const e={};t=(t.g&&2<=hi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(eu(t[r]))continue;var n=c4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}n4(e,function(r){return r.join(", ")})}Ce.Ia=function(){return this.m};Ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ZT(t){let e="";return Xg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pt(t,e,n))}function il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eA(t){this.Ga=0,this.j=[],this.l=new Af,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=il("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=il("baseRetryDelayMs",5e3,t),this.hb=il("retryDelaySeedMs",1e4,t),this.eb=il("forwardChannelMaxRetries",2,t),this.xa=il("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qT(t&&t.concurrentRequestLimit),this.Ja=new C4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ce=eA.prototype;Ce.ra=8;Ce.H=1;function dv(t){if(tA(t),t.H==3){var e=t.W++,n=Hi(t.I);if(Pt(n,"SID",t.K),Pt(n,"RID",e),Pt(n,"TYPE","terminate"),Cu(t,n),e=new Su(t,t.l,e),e.L=2,e.A=Rf(Hi(n)),n=!1,Qe.navigator&&Qe.navigator.sendBeacon)try{n=Qe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Qe.Image&&(new Image().src=e.A,n=!0),n||(e.g=uA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ru(e)}aA(t)}function Cf(t){t.g&&(hv(t),t.g.cancel(),t.g=null)}function tA(t){Cf(t),t.u&&(Qe.clearTimeout(t.u),t.u=null),vd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Qe.clearTimeout(t.m),t.m=null)}function Df(t){if(!HT(t.i)&&!t.m){t.m=!0;var e=t.Na;nu||TT(),ru||(nu(),ru=!0),nv.add(e,t),t.C=0}}function U4(t,e){return zT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=xu(Yn(t.Na,t,e),sA(t,t.C)),t.C++,!0)}Ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Su(this,this.l,t);let o=this.s;if(this.U&&(o?(o=gT(o),vT(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nA(this,i,e),n=Hi(this.I),Pt(n,"RID",t),Pt(n,"CVER",22),this.F&&Pt(n,"X-HTTP-Session-Id",this.F),Cu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(ZT(o)))+"&"+e:this.o&&cv(n,this.o,o)),lv(this.i,i),this.bb&&Pt(n,"TYPE","init"),this.P?(Pt(n,"$req",e),Pt(n,"SID","null"),i.aa=!0,Sm(i,n,null)):Sm(i,n,e),this.H=2}}else this.H==3&&(t?C_(this,t):this.j.length==0||HT(this.i)||C_(this))};function C_(t,e){var n;e?n=e.m:n=t.W++;const r=Hi(t.I);Pt(r,"SID",t.K),Pt(r,"RID",n),Pt(r,"AID",t.V),Cu(t,r),t.o&&t.s&&cv(r,t.o,t.s),n=new Su(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),lv(t.i,n),Sm(n,r,e)}function Cu(t,e){t.na&&Xg(t.na,function(n,r){Pt(e,r,n)}),t.h&&VT({},function(n,r){Pt(e,r,n)})}function nA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let f=i[l].g;const u=i[l].map;if(f-=o,0>f)o=Math.max(0,i[l].g-100),a=!1;else try{D4(u,s,"req"+f+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;nu||TT(),ru||(nu(),ru=!0),nv.add(e,t),t.A=0}}function fv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=xu(Yn(t.Ma,t),sA(t,t.A)),t.A++,!0)}Ce.Ma=function(){if(this.u=null,iA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=xu(Yn(this.jb,this),t)}};Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nr(10),Cf(this),iA(this))};function hv(t){t.B!=null&&(Qe.clearTimeout(t.B),t.B=null)}function iA(t){t.g=new Su(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Hi(t.wa);Pt(e,"RID","rpc"),Pt(e,"SID",t.K),Pt(e,"AID",t.V),Pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pt(e,"TO",t.qa),Pt(e,"TYPE","xmlhttp"),Cu(t,e),t.o&&t.s&&cv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Rf(Hi(e)),n.u=null,n.S=!0,NT(n,t)}Ce.ib=function(){this.v!=null&&(this.v=null,Cf(this),fv(this),nr(19))};function vd(t){t.v!=null&&(Qe.clearTimeout(t.v),t.v=null)}function oA(t,e){var n=null;if(t.g==e){vd(t),hv(t),t.g=null;var r=2}else if(Om(t.i,e))n=e.F,KT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=kf(),Dn(r,new RT(r,n)),Df(t)}else rA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&U4(t,e)||r==2&&fv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ss(t,5);break;case 4:ss(t,10);break;case 3:ss(t,6);break;default:ss(t,2)}}}function sA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ss(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yn(t.pb,t);n||(n=new fs("//www.google.com/images/cleardot.gif"),Qe.location&&Qe.location.protocol=="http"||md(n,"https"),Rf(n)),N4(n.toString(),r)}else nr(2);t.H=0,t.h&&t.h.za(e),aA(t),tA(t)}Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nr(2)):(this.l.info("Failed to ping google.com"),nr(1))};function aA(t){if(t.H=0,t.ma=[],t.h){const e=WT(t.i);(e.length!=0||t.j.length!=0)&&(E_(t.ma,e),E_(t.ma,t.j),t.i.i.length=0,Gg(t.j),t.j.length=0),t.h.ya()}}function lA(t,e,n){var r=n instanceof fs?Hi(n):new fs(n);if(r.g!="")e&&(r.g=e+"."+r.g),gd(r,r.m);else{var i=Qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fs(null);r&&md(o,r),e&&(o.g=e),i&&gd(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Pt(r,n,e),Pt(r,"VER",t.ra),Cu(t,r),r}function uA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new jt(new Ou({ob:n})):new jt(t.va),e.Oa(t.J),e}Ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function cA(){}Ce=cA.prototype;Ce.Ba=function(){};Ce.Aa=function(){};Ce.za=function(){};Ce.ya=function(){};Ce.isActive=function(){return!0};Ce.Va=function(){};function yd(){if(ya&&!(10<=Number(JM)))throw Error("Environmental error: no available transport.")}yd.prototype.g=function(t,e){return new Tr(t,e)};function Tr(t,e){bn.call(this),this.g=new eA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!eu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!eu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ua(this)}wn(Tr,bn);Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lA(t,null,t.Y),Df(t)};Tr.prototype.close=function(){dv(this.g)};Tr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=tv(t),t=n);e.j.push(new R4(e.fb++,t)),e.H==3&&Df(e)};Tr.prototype.N=function(){this.g.h=null,delete this.j,dv(this.g),delete this.g,Tr.$.N.call(this)};function dA(t){sv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wn(dA,sv);function fA(){av.call(this),this.status=1}wn(fA,av);function Ua(t){this.g=t}wn(Ua,cA);Ua.prototype.Ba=function(){Dn(this.g,"a")};Ua.prototype.Aa=function(t){Dn(this.g,new dA(t))};Ua.prototype.za=function(t){Dn(this.g,new fA)};Ua.prototype.ya=function(){Dn(this.g,"b")};function B4(){this.blockSize=-1}function Qr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}wn(Qr,B4);Qr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Qr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)bp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){bp(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){bp(this,r),i=0;break}}this.h=i,this.i+=e};Qr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var j4={};function pv(t){return-128<=t&&128>t?GM(t,function(e){return new Et([e|0],0>e?-1:0)}):new Et([t|0],0>t?-1:0)}function pi(t){if(isNaN(t)||!isFinite(t))return ca;if(0>t)return Rn(pi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Pm;return new Et(e,0)}function hA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Rn(hA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pi(Math.pow(e,8)),r=ca,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=pi(Math.pow(e,o)),r=r.R(o).add(pi(s))):(r=r.R(n),r=r.add(pi(s)))}return r}var Pm=4294967296,ca=pv(0),Cm=pv(1),D_=pv(16777216);Ce=Et.prototype;Ce.ea=function(){if(kr(this))return-Rn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Pm+r)*e,e*=Pm}return t};Ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($i(this))return"0";if(kr(this))return"-"+Rn(this).toString(t);for(var e=pi(Math.pow(t,6)),n=this,r="";;){var i=bd(n,e).g;n=_d(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,$i(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $i(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function kr(t){return t.h==-1}Ce.X=function(t){return t=_d(this,t),kr(t)?-1:$i(t)?0:1};function Rn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Et(n,~t.h).add(Cm)}Ce.abs=function(){return kr(this)?Rn(this):this};Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Et(n,n[n.length-1]&-2147483648?-1:0)};function _d(t,e){return t.add(Rn(e))}Ce.R=function(t){if($i(this)||$i(t))return ca;if(kr(this))return kr(t)?Rn(this).R(Rn(t)):Rn(Rn(this).R(t));if(kr(t))return Rn(this.R(Rn(t)));if(0>this.X(D_)&&0>t.X(D_))return pi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,yc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,yc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,yc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,yc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Et(n,0)};function yc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ol(t,e){this.g=t,this.h=e}function bd(t,e){if($i(e))throw Error("division by zero");if($i(t))return new ol(ca,ca);if(kr(t))return e=bd(Rn(t),e),new ol(Rn(e.g),Rn(e.h));if(kr(e))return e=bd(t,Rn(e)),new ol(Rn(e.g),e.h);if(30<t.g.length){if(kr(t)||kr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cm,r=e;0>=r.X(t);)n=N_(n),r=N_(r);var i=qs(n,1),o=qs(r,1);for(r=qs(r,2),n=qs(n,2);!$i(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=qs(r,1),n=qs(n,1)}return e=_d(t,i.R(e)),new ol(i,e)}for(i=ca;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=pi(n),s=o.R(e);kr(s)||0<s.X(t);)n-=r,o=pi(n),s=o.R(e);$i(o)&&(o=Cm),i=i.add(o),t=_d(t,s)}return new ol(i,t)}Ce.gb=function(t){return bd(this,t).h};Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Et(n,this.h&t.h)};Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Et(n,this.h|t.h)};Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Et(n,this.h^t.h)};function N_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Et(n,t.h)}function qs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Et(i,t.h)}yd.prototype.createWebChannel=yd.prototype.g;Tr.prototype.send=Tr.prototype.u;Tr.prototype.open=Tr.prototype.m;Tr.prototype.close=Tr.prototype.close;xf.NO_ERROR=0;xf.TIMEOUT=8;xf.HTTP_ERROR=6;OT.COMPLETE="complete";PT.EventType=Iu;Iu.OPEN="a";Iu.CLOSE="b";Iu.ERROR="c";Iu.MESSAGE="d";bn.prototype.listen=bn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;Qr.prototype.digest=Qr.prototype.l;Qr.prototype.reset=Qr.prototype.reset;Qr.prototype.update=Qr.prototype.j;Et.prototype.add=Et.prototype.add;Et.prototype.multiply=Et.prototype.R;Et.prototype.modulo=Et.prototype.gb;Et.prototype.compare=Et.prototype.X;Et.prototype.toNumber=Et.prototype.ea;Et.prototype.toString=Et.prototype.toString;Et.prototype.getBits=Et.prototype.D;Et.fromNumber=pi;Et.fromString=hA;var q4=function(){return new yd},H4=function(){return kf()},wp=xf,z4=OT,K4=Cs,M_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},W4=Ou,_c=PT,Y4=jt,G4=Qr,da=Et;const L_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new lf("@firebase/firestore");function sl(){return ws.logLevel}function $e(t,...e){if(ws.logLevel<=lt.DEBUG){const n=e.map(mv);ws.debug(`Firestore (${Ba}): ${t}`,...n)}}function zi(t,...e){if(ws.logLevel<=lt.ERROR){const n=e.map(mv);ws.error(`Firestore (${Ba}): ${t}`,...n)}}function _a(t,...e){if(ws.logLevel<=lt.WARN){const n=e.map(mv);ws.warn(`Firestore (${Ba}): ${t}`,...n)}}function mv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t="Unexpected state"){const e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+t;throw zi(e),new Error(e)}function St(t,e){t||Ye()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qn.UNAUTHENTICATED))}shutdown(){}}class X4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J4{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new pA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new qn(e)}}class Z4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class e3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Z4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new t3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=r3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ue(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new fn(0,0))}static max(){return new Je(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(),r===void 0?r=e.length-n:r>e.length-n&&Ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ct extends lu{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const i3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends lu{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return i3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ue(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ue(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ue(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Ct.fromString(e))}static fromName(e){return new He(Ct.fromString(e).popFirst(5))}static empty(){return new He(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Ct(e.slice()))}}function o3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Po(i,He.empty(),e)}function s3(t){return new Po(t.readTime,t.key,-1)}class Po{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Po(Je.min(),He.empty(),-1)}static max(){return new Po(Je.max(),He.empty(),-1)}}function a3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==l3)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.reject(n)}static resolve(e){return new xe((n,r)=>{n(e)})}static reject(e){return new xe((n,r)=>{r(e)})}static waitFor(e){return new xe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next(i=>i?xe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new xe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const f=l;n(e[f]).next(u=>{s[f]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new xe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function c3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gv.oe=-1;function Nf(t){return t==null}function wd(t){return t===0&&1/t==-1/0}function d3(t){return typeof t=="number"&&Number.isInteger(t)&&!wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Sn.RED,this.left=i??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Sn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nn(this.comparator);return n.data=e,n}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new yr([])}unionWith(e){let n=new Nn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vA("Invalid base64 string: "+o):o}}(e);return new Qn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const f3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(St(!!t),typeof t=="string"){let e=0;const n=f3.exec(t);if(St(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yv(t){const e=t.mapValue.fields.__previous_value__;return vv(e)?yv(e):e}function uu(t){const e=Co(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,i,o,s,a,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=f}}class cu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:p3(t)?9007199254740991:10:Ye()}function ki(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Co(i.timestampValue),a=Co(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Es(i.bytesValue).isEqual(Es(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return nn(i.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(i.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return nn(i.integerValue)===nn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=nn(i.doubleValue),a=nn(o.doubleValue);return s===a?wd(s)===wd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ba(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($_(s)!==$_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ki(s[l],a[l])))return!1;return!0}(t,e);default:return Ye()}}function du(t,e){return(t.values||[]).find(n=>ki(n,e))!==void 0}function wa(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=nn(o.integerValue||o.doubleValue),l=nn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(uu(t),uu(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Es(o),l=Es(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let f=0;f<a.length&&f<l.length;f++){const u=pt(a[f],l[f]);if(u!==0)return u}return pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=pt(nn(o.latitude),nn(s.latitude));return a!==0?a:pt(nn(o.longitude),nn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let f=0;f<a.length&&f<l.length;++f){const u=wa(a[f],l[f]);if(u)return u}return pt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===wc.mapValue&&s===wc.mapValue)return 0;if(o===wc.mapValue)return 1;if(s===wc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),f=s.fields||{},u=Object.keys(f);l.sort(),u.sort();for(let c=0;c<l.length&&c<u.length;++c){const d=pt(l[c],u[c]);if(d!==0)return d;const h=wa(a[l[c]],f[u[c]]);if(h!==0)return h}return pt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ye()}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Co(t),r=Co(e),i=pt(n.seconds,r.seconds);return i!==0?i:pt(n.nanos,r.nanos)}function Ea(t){return Dm(t)}function Dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return He.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Dm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Dm(n.fields[s])}`;return i+"}"}(t.mapValue):Ye()}function Nm(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function U_(t){return!!t&&"nullValue"in t}function B_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function Nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=Pn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Nl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ur(Nl(this.value))}}function yA(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new Pn([n]);if(Uc(r)){const o=yA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new zn(e,0,Je.min(),Je.min(),Je.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new zn(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new zn(e,2,n,Je.min(),Je.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,Je.min(),Je.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.position=e,this.inclusive=n}}function j_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=He.comparator(He.fromName(s.referenceValue),n.key):r=wa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n="asc"){this.field=e,this.dir=n}}function m3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class ln extends _A{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v3(e,n,r):n==="array-contains"?new b3(e,r):n==="in"?new w3(e,r):n==="not-in"?new E3(e,r):n==="array-contains-any"?new T3(e,r):new ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y3(e,r):new _3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wa(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends _A{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xi(e,n)}matches(e){return bA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bA(t){return t.op==="and"}function wA(t){return g3(t)&&bA(t)}function g3(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function Mm(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(wA(t))return t.filters.map(e=>Mm(e)).join(",");{const e=t.filters.map(n=>Mm(n)).join(",");return`${t.op}(${e})`}}function EA(t,e){return t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.field.isEqual(i.field)&&ki(r.value,i.value)}(t,e):t instanceof xi?function(r,i){return i instanceof xi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&EA(s,i.filters[a]),!0):!1}(t,e):void Ye()}function TA(t){return t instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof xi?function(n){return n.op.toString()+" {"+n.getFilters().map(TA).join(" ,")+"}"}(t):"Filter"}class v3 extends ln{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class y3 extends ln{constructor(e,n){super(e,"in",n),this.keys=AA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _3 extends ln{constructor(e,n){super(e,"not-in",n),this.keys=AA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class b3 extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&du(n.arrayValue,this.value)}}class w3 extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class E3 extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!du(this.value.arrayValue,n)}}class T3 extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function H_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new A3(t,e,n,r,i,o,s)}function bv(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.ue=n}return e.ue}function wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q_(t.startAt,e.startAt)&&q_(t.endAt,e.endAt)}function Lm(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function k3(t,e,n,r,i,o,s,a){return new Mf(t,e,n,r,i,o,s,a)}function Ev(t){return new Mf(t)}function z_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x3(t){return t.collectionGroup!==null}function Ml(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nn(Pn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Td(o,r))}),n.has(Pn.keyField().canonicalString())||e.ce.push(new Td(Pn.keyField(),r))}return e.ce}function wi(t){const e=tt(t);return e.le||(e.le=I3(e,Ml(t))),e.le}function I3(t,e){if(t.limitType==="F")return H_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Td(i.field,o)});const n=t.endAt?new Ed(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ed(t.startAt.position,t.startAt.inclusive):null;return H_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $m(t,e,n){return new Mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lf(t,e){return wv(wi(t),wi(e))&&t.limitType===e.limitType}function kA(t){return`${bv(wi(t))}|lt:${t.limitType}`}function Ws(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>TA(i)).join(", ")}]`),Nf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ea(i)).join(",")),`Target(${r})`}(wi(t))}; limitType=${t.limitType})`}function $f(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ml(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const f=j_(s,a,l);return s.inclusive?f<=0:f<0}(r.startAt,Ml(r),i)||r.endAt&&!function(s,a,l){const f=j_(s,a,l);return s.inclusive?f>=0:f>0}(r.endAt,Ml(r),i))}(t,e)}function S3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xA(t){return(e,n)=>{let r=!1;for(const i of Ml(t)){const o=R3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function R3(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?wa(l,f):Ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Vt(He.comparator);function Ki(){return O3}const IA=new Vt(He.comparator);function yl(...t){let e=IA;for(const n of t)e=e.insert(n.key,n);return e}function SA(t){let e=IA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return Ll()}function RA(){return Ll()}function Ll(){return new ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const P3=new Vt(He.comparator),C3=new Nn(He.comparator);function at(...t){let e=C3;for(const n of t)e=e.add(n);return e}const D3=new Nn(pt);function N3(){return D3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function PA(t){return{integerValue:""+t}}function M3(t,e){return d3(e)?PA(e):OA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function L3(t,e,n){return t instanceof Ad?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vv(o)&&(o=yv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ta?DA(t,e):t instanceof fu?NA(t,e):function(i,o){const s=CA(i,o),a=K_(s)+K_(i.Pe);return Nm(s)&&Nm(i.Pe)?PA(a):OA(i.serializer,a)}(t,e)}function $3(t,e,n){return t instanceof Ta?DA(t,e):t instanceof fu?NA(t,e):n}function CA(t,e){return t instanceof kd?function(r){return Nm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ad extends Vf{}class Ta extends Vf{constructor(e){super(),this.elements=e}}function DA(t,e){const n=MA(e);for(const r of t.elements)n.some(i=>ki(i,r))||n.push(r);return{arrayValue:{values:n}}}class fu extends Vf{constructor(e){super(),this.elements=e}}function NA(t,e){let n=MA(e);for(const r of t.elements)n=n.filter(i=>!ki(i,r));return{arrayValue:{values:n}}}class kd extends Vf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function K_(t){return nn(t.integerValue||t.doubleValue)}function MA(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.field=e,this.transform=n}}function F3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ta&&i instanceof Ta||r instanceof fu&&i instanceof fu?ba(r.elements,i.elements,ki):r instanceof kd&&i instanceof kd?ki(r.Pe,i.Pe):r instanceof Ad&&i instanceof Ad}(t.transform,e.transform)}class U3{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ff{}function LA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tv(t.key,jr.none()):new Mu(t.key,t.data,jr.none());{const n=t.data,r=ur.empty();let i=new Nn(Pn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new jo(t.key,r,new yr(i.toArray()),jr.none())}}function B3(t,e,n){t instanceof Mu?function(i,o,s){const a=i.value.clone(),l=Y_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jo?function(i,o,s){if(!Bc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Y_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll($A(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $l(t,e,n,r){return t instanceof Mu?function(o,s,a,l){if(!Bc(o.precondition,s))return a;const f=o.value.clone(),u=G_(o.fieldTransforms,l,s);return f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof jo?function(o,s,a,l){if(!Bc(o.precondition,s))return a;const f=G_(o.fieldTransforms,l,s),u=s.data;return u.setAll($A(o)),u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(o,s,a){return Bc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function j3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=CA(r.transform,i||null);o!=null&&(n===null&&(n=ur.empty()),n.set(r.field,o))}return n||null}function W_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ba(r,i,(o,s)=>F3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends Ff{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jo extends Ff{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $A(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y_(t,e,n){const r=new Map;St(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$3(s,a,n[i]))}return r}function G_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,L3(o,s,e))}return r}class Tv extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q3 extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&B3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RA();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=LA(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&ba(this.mutations,e.mutations,(n,r)=>W_(n,r))&&ba(this.baseMutations,e.baseMutations,(n,r)=>W_(n,r))}}class Av{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){St(e.mutations.length===r.length);let i=function(){return P3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Av(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,ut;function W3(t){switch(t){default:return Ye();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function VA(t){if(t===void 0)return zi("GRPC error has no .code"),ke.UNKNOWN;switch(t){case tn.OK:return ke.OK;case tn.CANCELLED:return ke.CANCELLED;case tn.UNKNOWN:return ke.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ke.INTERNAL;case tn.UNAVAILABLE:return ke.UNAVAILABLE;case tn.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case tn.NOT_FOUND:return ke.NOT_FOUND;case tn.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case tn.ABORTED:return ke.ABORTED;case tn.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case tn.DATA_LOSS:return ke.DATA_LOSS;default:return Ye()}}(ut=tn||(tn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new da([4294967295,4294967295],0);function Q_(t){const e=Y3().encode(t),n=new G4;return n.update(e),new Uint8Array(n.digest())}function X_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new da([n,r],0),new da([i,o],0)]}class kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=da.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(da.fromNumber(r)));return i.compare(G3)===1&&(i=new da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Q_(e),[r,i]=X_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new kv(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Q_(e),[r,i]=X_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uf(Je.min(),i,new Vt(pt),Ki(),at())}}class Lu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FA{constructor(e,n){this.targetId=e,this.me=n}}class UA{constructor(e,n,r=Qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J_{constructor(){this.fe=0,this.ge=e1(),this.pe=Qn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=at(),n=at(),r=at();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new Lu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=e1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Q3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ki(),this.qe=Z_(),this.Qe=new Vt(pt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Lm(o))if(r===0){const s=new He(o.path);this.Ue(n,s,zn.newNoDocument(s,Je.min()))}else St(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Es(r).toUint8Array()}catch(l){if(l instanceof vA)return _a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new kv(s,i,o)}catch(l){return _a(l instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Lm(a.target)){const l=new He(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,zn.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=at();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const f=this.Je(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Uf(e,n,this.Qe,this.ke,r);return this.ke=Ki(),this.qe=Z_(),this.Qe=new Vt(pt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nn(pt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||$e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z_(){return new Vt(He.comparator)}function e1(){return new Vt(He.comparator)}const X3={asc:"ASCENDING",desc:"DESCENDING"},J3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z3={and:"AND",or:"OR"};class e5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(t,e){return t.useProto3Json||Nf(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t5(t,e){return xd(t,e.toTimestamp())}function Ei(t){return St(!!t),Je.fromTimestamp(function(n){const r=Co(n);return new fn(r.seconds,r.nanos)}(t))}function xv(t,e){return Fm(t,e).canonicalString()}function Fm(t,e){const n=function(i){return new Ct(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jA(t){const e=Ct.fromString(t);return St(WA(e)),e}function Um(t,e){return xv(t.databaseId,e.path)}function Ep(t,e){const n=jA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(HA(n))}function qA(t,e){return xv(t.databaseId,e)}function n5(t){const e=jA(t);return e.length===4?Ct.emptyPath():HA(e)}function Bm(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HA(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t1(t,e,n){return{name:Um(t,e),fields:n.value.mapValue.fields}}function r5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,u){return f.useProto3Json?(St(u===void 0||typeof u=="string"),Qn.fromBase64String(u||"")):(St(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Qn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(f){const u=f.code===void 0?ke.UNKNOWN:VA(f.code);return new Ue(u,f.message||"")}(s);n=new UA(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ep(t,r.document.name),o=Ei(r.document.updateTime),s=r.document.createTime?Ei(r.document.createTime):Je.min(),a=new ur({mapValue:{fields:r.document.fields}}),l=zn.newFoundDocument(i,o,s,a),f=r.targetIds||[],u=r.removedTargetIds||[];n=new jc(f,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ep(t,r.document),o=r.readTime?Ei(r.readTime):Je.min(),s=zn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new jc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ep(t,r.document),o=r.removedTargetIds||[];n=new jc([],o,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new K3(i,o),a=r.targetId;n=new FA(a,s)}}return n}function i5(t,e){let n;if(e instanceof Mu)n={update:t1(t,e.key,e.value)};else if(e instanceof Tv)n={delete:Um(t,e.key)};else if(e instanceof jo)n={update:t1(t,e.key,e.data),updateMask:h5(e.fieldMask)};else{if(!(e instanceof q3))return Ye();n={verify:Um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ad)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ta)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:t5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ye()}(t,e.precondition)),n}function o5(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ei(i.updateTime):Ei(o);return s.isEqual(Je.min())&&(s=Ei(o)),new U3(s,i.transformResults||[])}(n,e))):[]}function s5(t,e){return{documents:[qA(t,e.path)]}}function a5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qA(t,i);const o=function(f){if(f.length!==0)return KA(xi.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(u=>function(d){return{field:Ys(d.field),direction:c5(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Vm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function l5(t){let e=n5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(c){const d=zA(c);return d instanceof xi&&wA(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(c){return c.map(d=>function(p){return new Td(Gs(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Nf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Ed(h,d)}(n.startAt));let f=null;return n.endAt&&(f=function(c){const d=!c.before,h=c.values||[];return new Ed(h,d)}(n.endAt)),k3(e,i,s,o,a,"F",l,f)}function u5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gs(n.unaryFilter.field);return ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gs(n.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gs(n.unaryFilter.field);return ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gs(n.unaryFilter.field);return ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(t):t.fieldFilter!==void 0?function(n){return ln.create(Gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xi.create(n.compositeFilter.filters.map(r=>zA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(n.compositeFilter.op))}(t):Ye()}function c5(t){return X3[t]}function d5(t){return J3[t]}function f5(t){return Z3[t]}function Ys(t){return{fieldPath:t.canonicalString()}}function Gs(t){return Pn.fromServerFormat(t.fieldPath)}function KA(t){return t instanceof ln?function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NAN"}};if(U_(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NAN"}};if(U_(n.value))return{unaryFilter:{field:Ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(n.field),op:d5(n.op),value:n.value}}}(t):t instanceof xi?function(n){const r=n.getFilters().map(i=>KA(i));return r.length===1?r[0]:{compositeFilter:{op:f5(n.op),filters:r}}}(t):Ye()}function h5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,i,o=Je.min(),s=Je.min(),a=Qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.ut=e}}function m5(t){const e=l5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.on=new v5}addToCollectionParentIndex(e,n){return this.on.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(Po.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class v5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nn(Ct.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Aa(0)}static Nn(){return new Aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.changes=new ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$l(r.mutation,i,yr.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const i=as();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=yl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ki();const s=Ll(),a=function(){return Ll()}();return n.forEach((l,f)=>{const u=r.get(f.key);i.has(f.key)&&(u===void 0||u.mutation instanceof jo)?o=o.insert(f.key,f):u!==void 0?(s.set(f.key,u.mutation.getFieldMask()),$l(u.mutation,f,u.mutation.getFieldMask(),fn.now())):s.set(f.key,yr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((f,u)=>s.set(f,u)),n.forEach((f,u)=>{var c;return a.set(f,new _5(u,(c=s.get(f))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let i=new Vt((s,a)=>s-a),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const f=n.get(l);if(f===null)return;let u=r.get(l)||yr.empty();u=a.applyToLocalView(f,u),r.set(l,u);const c=(i.get(a.batchId)||at()).add(l);i=i.insert(a.batchId,c)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),f=l.key,u=l.value,c=RA();u.forEach(d=>{if(!o.has(d)){const h=LA(n.get(d),r.get(d));h!==null&&c.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,c))}return xe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return He.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):xe.resolve(as());let a=-1,l=o;return s.next(f=>xe.forEach(f,(u,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),o.get(u)?xe.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,l,f,at())).next(u=>({batchId:a,changes:SA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next(r=>{let i=yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=yl();return this.indexManager.getCollectionParents(e,o).next(a=>xe.forEach(a,l=>{const f=function(c,d){return new Mf(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,f)=>{const u=f.getKey();s.get(u)===null&&(s=s.insert(u,zn.newInvalidDocument(u)))});let a=yl();return s.forEach((l,f)=>{const u=o.get(l);u!==void 0&&$l(u.mutation,f,yr.empty(),fn.now()),$f(n,f)&&(a=a.insert(l,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return xe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ei(i.createTime)}}(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:m5(i.bundledQuery),readTime:Ei(i.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.overlays=new Vt(He.comparator),this.lr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return xe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const i=as(),o=n.length+1,s=new He(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((f,u)=>f-u);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let u=o.get(f.largestBatchId);u===null&&(u=as(),o=o.insert(f.largestBatchId,u)),u.set(f.getKey(),f)}}const a=as(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,u)=>a.set(f,u)),!(a.size()>=i)););return xe.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new z3(n,r));let o=this.lr.get(n);o===void 0&&(o=at(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.hr=new Nn(gn.Pr),this.Ir=new Nn(gn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new gn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new He(new Ct([])),r=new gn(n,e),i=new gn(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new He(new Ct([])),r=new gn(n,e),i=new gn(n,e+1);let o=at();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new gn(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return He.comparator(e.key,n.key)||pt(e.gr,n.gr)}static Tr(e,n){return pt(e.gr,n.gr)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Nn(gn.Pr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new H3(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new gn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xe.resolve(s)}lookupMutationBatch(e,n){return xe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),i=new gn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nn(pt);return n.forEach(i=>{const o=new gn(i,0),s=new gn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),xe.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const s=new gn(new He(o),0);let a=new Nn(pt);return this.yr.forEachWhile(l=>{const f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(l.gr)),!0)},s),xe.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){St(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return xe.forEach(n.mutations,i=>{const o=new gn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new gn(n,0),i=this.yr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.Cr=e,this.docs=function(){return new Vt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=Ki();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zn.newInvalidDocument(i))}),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ki();const s=n.path,a=new He(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:f,value:{document:u}}=l.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||a3(s3(u),r)<=0||(i.has(u.key)||$f(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return xe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ye()}vr(e,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new k5(this)}getSize(e){return xe.resolve(this.size)}}class k5 extends y5{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),xe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.persistence=e,this.Fr=new ja(n=>bv(n),wv),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Iv,this.targetCount=0,this.Nr=Aa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),xe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.kn(n),xe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),xe.waitFor(o).next(()=>i)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),xe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.Lr={},this.overlays={},this.Br=new gv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new x5(this),this.indexManager=new g5,this.remoteDocumentCache=function(i){return new A5(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new p5(n),this.Kr=new w5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new T5(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new S5(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return xe.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class S5 extends u3{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.Gr=new Iv,this.zr=null}static jr(e){return new Sv(e)}get Hr(){if(this.zr)return this.zr;throw Ye()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Hr,r=>{const i=He.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Je.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return xe.or([()=>xe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=at(),i=at();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Rv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return KO()?8:c3(Ln())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new R5;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(sl()<=lt.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),xe.resolve()):(sl()<=lt.DEBUG&&$e("QueryEngine","Query:",Ws(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(sl()<=lt.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):xe.resolve())}zi(e,n){if(z_(n))return xe.resolve(null);let r=wi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$m(n,null,"F"),r=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=at(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const f=this.Yi(n,a);return this.Zi(n,f,s,l.readTime)?this.zi(e,$m(n,null,"F")):this.Xi(e,f,n,l)}))})))}ji(e,n,r,i){return z_(n)||i.isEqual(Je.min())?xe.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?xe.resolve(null):(sl()<=lt.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ws(n)),this.Xi(e,s,n,o3(i,-1)).next(a=>a))})}Yi(e,n){let r=new Nn(xA(e));return n.forEach((i,o)=>{$f(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return sl()<=lt.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.Gi.getDocumentsMatchingQuery(e,n,Po.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Vt(pt),this.ns=new ja(o=>bv(o),wv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b5(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function C5(t,e,n,r){return new P5(t,e,n,r)}async function YA(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=at();for(const f of i){s.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}for(const f of o){a.push(f.batchId);for(const u of f.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(f=>({_s:f,removedBatchIds:s,addedBatchIds:a}))})})}function D5(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,f,u){const c=f.batch,d=c.keys();let h=xe.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(l,p)).next(m=>{const y=f.docVersions.get(p);St(y!==null),m.version.compareTo(y)<0&&(c.applyToRemoteDocument(m,f),m.isValidDocument()&&(m.setReadTime(f.commitVersion),u.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(l=l.add(a.batch.mutations[f].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GA(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function N5(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,c)=>{const d=i.get(c);if(!d)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,c).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,c)));let h=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(c)!==null?h=h.withResumeToken(Qn.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(c,h),function(m,y,v){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,h,u)&&a.push(n.qr.updateTargetData(o,h))});let l=Ki(),f=at();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(M5(o,s,e.documentUpdates).next(u=>{l=u.us,f=u.cs})),!r.isEqual(Je.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(c=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return xe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,f)).next(()=>l)}).then(o=>(n.ts=i,o))}function M5(t,e,n){let r=at(),i=at();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ki();return n.forEach((a,l)=>{const f=o.get(a);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Je.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):$e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",l.version)}),{us:s,cs:i}})}function L5(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $5(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,xe.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new yo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function jm(t,e,n){const r=tt(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Nu(s))throw s;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function n1(t,e,n){const r=tt(t);let i=Je.min(),o=at();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,f,u){const c=tt(l),d=c.ns.get(u);return d!==void 0?xe.resolve(c.ts.get(d)):c.qr.getTargetData(f,u)}(r,s,wi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Je.min(),n?o:at())).next(a=>(V5(r,S3(e),a),{documents:a,ls:o})))}function V5(t,e,n){let r=t.rs.get(e)||Je.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class r1{constructor(){this.activeTargetIds=N3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F5{constructor(){this.eo=new r1,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new r1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function Tp(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class q5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=Tp(),l=this.Co(n,r.toUriEncodedString());$e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const f={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(f,o,s),this.Fo(n,l,f,i).then(u=>($e("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw _a("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ba}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=B5[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const o=Tp();return new Promise((s,a)=>{const l=new Y4;l.setWithCredentials(!0),l.listenOnce(z4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wp.NO_ERROR:const u=l.getResponseJson();$e(Un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case wp.TIMEOUT:$e(Un,`RPC '${e}' ${o} timed out`),a(new Ue(ke.DEADLINE_EXCEEDED,"Request time out"));break;case wp.HTTP_ERROR:const c=l.getStatus();if($e(Un,`RPC '${e}' ${o} failed with status:`,c,"response text:",l.getResponseText()),c>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(v)>=0?v:ke.UNKNOWN}(h.status);a(new Ue(p,h.message))}else a(new Ue(ke.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ue(ke.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{$e(Un,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);$e(Un,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",f,r,15)})}xo(e,n,r){const i=Tp(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=q4(),a=H4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.xmlHttpFactory=new W4({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");$e(Un,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=s.createWebChannel(u,l);let d=!1,h=!1;const p=new j5({co:y=>{h?$e(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||($e(Un,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),$e(Un,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},lo:()=>c.close()}),m=(y,v,_)=>{y.listen(v,b=>{try{_(b)}catch(g){setTimeout(()=>{throw g},0)}})};return m(c,_c.EventType.OPEN,()=>{h||($e(Un,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),m(c,_c.EventType.CLOSE,()=>{h||(h=!0,$e(Un,`RPC '${e}' stream ${i} transport closed`),p.fo())}),m(c,_c.EventType.ERROR,y=>{h||(h=!0,_a(Un,`RPC '${e}' stream ${i} transport errored:`,y),p.fo(new Ue(ke.UNAVAILABLE,"The operation could not be completed")))}),m(c,_c.EventType.MESSAGE,y=>{var v;if(!h){const _=y.data[0];St(!!_);const b=_,g=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(g){$e(Un,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let k=function(x){const I=tn[x];if(I!==void 0)return VA(I)}(w),S=g.message;k===void 0&&(k=ke.INTERNAL,S="Unknown error status: "+w+" with message "+g.message),h=!0,p.fo(new Ue(k,S)),c.close()}else $e(Un,`RPC '${e}' stream ${i} received:`,_),p.po(_)}}),m(a,K4.STAT_EVENT,y=>{y.stat===M_.PROXY?$e(Un,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===M_.NOPROXY&&$e(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){return new e5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new QA(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new Ue(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H5 extends XA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=r5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Je.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Je.min():s.readTime?Ei(s.readTime):Je.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Lm(l)?{documents:s5(o,l)}:{query:a5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BA(o,s.resumeToken);const f=Vm(o,s.expectedCount);f!==null&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(Je.min())>0){a.readTime=xd(o,s.snapshotVersion.toTimestamp());const f=Vm(o,s.expectedCount);f!==null&&(a.expectedCount=f)}return a}(this.serializer,e);const r=u5(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.r_(n)}}class z5 extends XA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=o5(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.d_(r,n)}return St(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Bm(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>i5(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new Ue(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,Fm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(ke.UNKNOWN,o.toString())})}Mo(e,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Fm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(ke.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class W5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zi(n),this.y_=!1):$e("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{Ns(this)&&($e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const f=tt(l);f.M_.add(4),await $u(f),f.N_.set("Unknown"),f.M_.delete(4),await jf(f)}(this))})}),this.N_=new W5(r,i)}}async function jf(t){if(Ns(t))for(const e of t.x_)await e(!0)}async function $u(t){for(const e of t.x_)await e(!1)}function JA(t,e){const n=tt(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Dv(n)?Cv(n):qa(n).Zo()&&Pv(n,e))}function Ov(t,e){const n=tt(t),r=qa(n);n.F_.delete(e),r.Zo()&&ZA(n,e),n.F_.size===0&&(r.Zo()?r.t_():Ns(n)&&n.N_.set("Unknown"))}function Pv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).h_(e)}function ZA(t,e){t.L_.xe(e),qa(t).P_(e)}function Cv(t){t.L_=new Q3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.N_.w_()}function Dv(t){return Ns(t)&&!qa(t).Yo()&&t.F_.size>0}function Ns(t){return tt(t).M_.size===0}function ek(t){t.L_=void 0}async function G5(t){t.N_.set("Online")}async function Q5(t){t.F_.forEach((e,n)=>{Pv(t,e)})}async function X5(t,e){ek(t),Dv(t)?(t.N_.D_(e),Cv(t)):t.N_.set("Unknown")}async function J5(t,e,n){if(t.N_.set("Online"),e instanceof UA&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Id(t,r)}else if(e instanceof jc?t.L_.Ke(e):e instanceof FA?t.L_.He(e):t.L_.We(e),!n.isEqual(Je.min()))try{const r=await GA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.F_.get(f);u&&o.F_.set(f,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,f)=>{const u=o.F_.get(l);if(!u)return;o.F_.set(l,u.withResumeToken(Qn.EMPTY_BYTE_STRING,u.snapshotVersion)),ZA(o,l);const c=new yo(u.target,l,f,u.sequenceNumber);Pv(o,c)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),await Id(t,r)}}async function Id(t,e,n){if(!Nu(e))throw e;t.M_.add(1),await $u(t),t.N_.set("Offline"),n||(n=()=>GA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await jf(t)})}function tk(t,e){return e().catch(n=>Id(t,n,e))}async function qf(t){const e=tt(t),n=Do(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Z5(e);)try{const i=await L5(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,eL(e,i)}catch(i){await Id(e,i)}nk(e)&&rk(e)}function Z5(t){return Ns(t)&&t.v_.length<10}function eL(t,e){t.v_.push(e);const n=Do(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function nk(t){return Ns(t)&&!Do(t).Yo()&&t.v_.length>0}function rk(t){Do(t).start()}async function tL(t){Do(t).R_()}async function nL(t){const e=Do(t);for(const n of t.v_)e.E_(n.mutations)}async function rL(t,e,n){const r=t.v_.shift(),i=Av.from(r,e,n);await tk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qf(t)}async function iL(t,e){e&&Do(t).T_&&await async function(r,i){if(function(s){return W3(s)&&s!==ke.ABORTED}(i.code)){const o=r.v_.shift();Do(r).e_(),await tk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await qf(r)}}(t,e),nk(t)&&rk(t)}async function o1(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Ns(n);n.M_.add(3),await $u(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await jf(n)}async function oL(t,e){const n=tt(t);e?(n.M_.delete(2),await jf(n)):e||(n.M_.add(2),await $u(n),n.N_.set("Unknown"))}function qa(t){return t.B_||(t.B_=function(n,r,i){const o=tt(n);return o.m_(),new H5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:G5.bind(null,t),Io:Q5.bind(null,t),Eo:X5.bind(null,t),l_:J5.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),Dv(t)?Cv(t):t.N_.set("Unknown")):(await t.B_.stop(),ek(t))})),t.B_}function Do(t){return t.k_||(t.k_=function(n,r,i){const o=tt(n);return o.m_(),new z5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:tL.bind(null,t),Eo:iL.bind(null,t),A_:nL.bind(null,t),d_:rL.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await qf(t)):(await t.k_.stop(),t.v_.length>0&&($e("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Nv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(t,e){if(zi("AsyncQueue",`${e}: ${t}`),Nu(t))return new Ue(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=yl(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new fa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.q_=new Vt(He.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ye():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ka{constructor(e,n,r,i,o,s,a,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ka(e,n,fa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class aL{constructor(){this.queries=new ja(e=>kA(e),Lf),this.onlineState="Unknown",this.z_=new Set}}async function ik(t,e){const n=tt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new sL,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Mv(s,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Lv(n)}async function ok(t,e){const n=tt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lL(t,e){const n=tt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Lv(n)}function uL(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Lv(t){t.z_.forEach(e=>{e.next()})}var qm,a1;(a1=qm||(qm={})).J_="default",a1.Cache="cache";class sk{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.key=e}}class lk{constructor(e){this.key=e}}class cL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=at(),this.mutatedKeys=at(),this.Ia=xA(e),this.Ta=new fa(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new s1,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,c)=>{const d=i.get(u),h=$f(this.query,c)?c:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.Ra(d,h)||(r.track({type:2,doc:h}),y=!0,(l&&this.Ia(h,l)>0||f&&this.Ia(h,f)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(l||f)&&(a=!0)),y&&(h?(s=s.add(h),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((u,c)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return m(h)-m(p)}(u.type,c.type)||this.Ia(u.doc,c.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,f=l!==this.ha;return this.ha=l,s.length!==0||f?{snapshot:new ka(this.query,e.Ta,o,s,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new s1,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=at(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new lk(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new ak(r))}),n}pa(e){this.la=e.ls,this.Pa=at();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ka.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class dL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fL{constructor(e){this.key=e,this.wa=!1}}class hL{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new ja(a=>kA(a),Lf),this.Da=new Map,this.Ca=new Set,this.va=new Vt(He.comparator),this.Fa=new Map,this.Ma=new Iv,this.xa={},this.Oa=new Map,this.Na=Aa.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function pL(t,e,n=!0){const r=pk(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await uk(r,e,n,!0),i}async function mL(t,e){const n=pk(t);await uk(n,e,!0,!1)}async function uk(t,e,n,r){const i=await $5(t.localStore,wi(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await gL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JA(t.remoteStore,i),a}async function gL(t,e,n,r,i){t.Ba=(c,d,h)=>async function(m,y,v,_){let b=y.view.da(v);b.Zi&&(b=await n1(m.localStore,y.query,!1).then(({documents:S})=>y.view.da(S,b)));const g=_&&_.targetChanges.get(y.targetId),w=_&&_.targetMismatches.get(y.targetId)!=null,k=y.view.applyChanges(b,m.isPrimaryClient,g,w);return u1(m,y.targetId,k.fa),k.snapshot}(t,c,d,h);const o=await n1(t.localStore,e,!0),s=new cL(e,o.ls),a=s.da(o.documents),l=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(a,t.isPrimaryClient,l);u1(t,n,f.fa);const u=new dL(e,n,s);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function vL(t,e,n){const r=tt(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Lf(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ov(r.remoteStore,i.targetId),Hm(r,i.targetId)}).catch(Du)):(Hm(r,i.targetId),await jm(r.localStore,i.targetId,!0))}async function yL(t,e){const n=tt(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ov(n.remoteStore,r.targetId))}async function _L(t,e,n){const r=xL(t);try{const i=await function(s,a){const l=tt(s),f=fn.now(),u=a.reduce((h,p)=>h.add(p.key),at());let c,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ki(),m=at();return l.ss.getEntries(h,u).next(y=>{p=y,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(y=>{c=y;const v=[];for(const _ of a){const b=j3(_,c.get(_.key).overlayedDocument);b!=null&&v.push(new jo(_.key,b,yA(b.value.mapValue),jr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,f,v,a)}).next(y=>{d=y;const v=y.applyToLocalDocumentSet(c,m);return l.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:d.batchId,changes:SA(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let f=s.xa[s.currentUser.toKey()];f||(f=new Vt(pt)),f=f.insert(a,l),s.xa[s.currentUser.toKey()]=f}(r,i.batchId,n),await Vu(r,i.changes),await qf(r.remoteStore)}catch(i){const o=Mv(i,"Failed to persist write");n.reject(o)}}async function ck(t,e){const n=tt(t);try{const r=await N5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?St(s.wa):i.removedDocuments.size>0&&(St(s.wa),s.wa=!1))}),await Vu(n,r,e)}catch(r){await Du(r)}}function l1(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=tt(s);l.onlineState=a;let f=!1;l.queries.forEach((u,c)=>{for(const d of c.U_)d.j_(a)&&(f=!0)}),f&&Lv(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bL(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Vt(He.comparator);s=s.insert(o,zn.newNoDocument(o,Je.min()));const a=at().add(o),l=new Uf(Je.min(),new Map,new Vt(pt),s,a);await ck(r,l),r.va=r.va.remove(o),r.Fa.delete(e),$v(r)}else await jm(r.localStore,e,!1).then(()=>Hm(r,e,n)).catch(Du)}async function wL(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await D5(n.localStore,e);fk(n,r,null),dk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(n,i)}catch(i){await Du(i)}}async function EL(t,e,n){const r=tt(t);try{const i=await function(s,a){const l=tt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let u;return l.mutationQueue.lookupMutationBatch(f,a).next(c=>(St(c!==null),u=c.keys(),l.mutationQueue.removeMutationBatch(f,c))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,u)).next(()=>l.localDocuments.getDocuments(f,u))})}(r.localStore,e);fk(r,e,n),dk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vu(r,i)}catch(i){await Du(i)}}function dk(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function fk(t,e,n){const r=tt(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||hk(t,r)})}function hk(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Ov(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),$v(t))}function u1(t,e,n){for(const r of n)r instanceof ak?(t.Ma.addReference(r.key,e),TL(t,r)):r instanceof lk?($e("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||hk(t,r.key)):Ye()}function TL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||($e("SyncEngine","New document in limbo: "+n),t.Ca.add(r),$v(t))}function $v(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new He(Ct.fromString(e)),r=t.Na.next();t.Fa.set(r,new fL(n)),t.va=t.va.insert(n,r),JA(t.remoteStore,new yo(wi(Ev(n.path)),r,"TargetPurposeLimboResolution",gv.oe))}}async function Vu(t,e,n){const r=tt(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,f!=null&&f.fromCache?"not-current":"current"),f){i.push(f);const u=Rv.Qi(l.targetId,f);o.push(u)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,f){const u=tt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>xe.forEach(f,d=>xe.forEach(d.ki,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>xe.forEach(d.qi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Nu(c))throw c;$e("LocalStore","Failed to update sequence numbers: "+c)}for(const c of f){const d=c.targetId;if(!c.fromCache){const h=u.ts.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(d,m)}}}(r.localStore,o))}async function AL(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=await YA(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Ue(ke.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(n,r._s)}}function kL(t,e){const n=tt(t),r=n.Fa.get(e);if(r&&r.wa)return at().add(r.key);{let i=at();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function pk(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ck.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bL.bind(null,e),e.Sa.l_=lL.bind(null,e.eventManager),e.Sa.ka=uL.bind(null,e.eventManager),e}function xL(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EL.bind(null,e),e}class c1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C5(this.persistence,new O5,e.initialUser,this.serializer)}createPersistence(e){return new I5(Sv.jr,this.serializer)}createSharedClientState(e){return new F5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await oL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aL}()}createDatastore(e){const n=Bf(e.databaseInfo.databaseId),r=function(o){return new q5(o)}(e.databaseInfo);return function(o,s,a,l){return new K5(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Y5(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>l1(this.syncEngine,n,0),function(){return i1.D()?new i1:new U5}())}createSyncEngine(e,n){return function(i,o,s,a,l,f,u){const c=new hL(i,o,s,a,l,f);return u&&(c.La=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=tt(r);$e("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await $u(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=mA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{$e("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($e("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OL(t);$e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>o1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>o1(e.remoteStore,i)),t._onlineComponents=e}function RL(t){return t.name==="FirebaseError"?t.code===ke.FAILED_PRECONDITION||t.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function OL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RL(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await kp(t,new c1)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),await kp(t,new c1);return t._offlineComponents}async function gk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),await d1(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),await d1(t,new IL))),t._onlineComponents}function PL(t){return gk(t).then(e=>e.syncEngine)}async function vk(t){const e=await gk(t),n=e.eventManager;return n.onListen=pL.bind(null,e.syncEngine),n.onUnlisten=vL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yL.bind(null,e.syncEngine),n}function CL(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,f){const u=new mk({next:d=>{s.enqueueAndForget(()=>ok(o,c));const h=d.docs.has(a);!h&&d.fromCache?f.reject(new Ue(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?f.reject(new Ue(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(d)},error:d=>f.reject(d)}),c=new sk(Ev(a.path),u,{includeMetadataChanges:!0,ra:!0});return ik(o,c)}(await vk(t),t.asyncQueue,e,n,r)),r.promise}function DL(t,e,n={}){const r=new Bi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,f){const u=new mk({next:d=>{s.enqueueAndForget(()=>ok(o,c)),d.fromCache&&l.source==="server"?f.reject(new Ue(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(d)},error:d=>f.reject(d)}),c=new sk(a,u,{includeMetadataChanges:!0,ra:!0});return ik(o,c)}(await vk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e,n){if(!n)throw new Ue(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NL(t,e,n,r){if(e===!0&&r===!0)throw new Ue(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h1(t){if(!He.isDocumentKey(t))throw new Ue(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p1(t){if(He.isDocumentKey(t))throw new Ue(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye()}function Wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vv(t);throw new Ue(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ue(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ue(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ue(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ue(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ue(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q4;switch(r.type){case"firstParty":return new e3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=f1.get(n);r&&($e("ComponentProvider","Removing Datastore"),f1.delete(n),r.terminate())}(this),Promise.resolve()}}function ML(t,e,n,r={}){var i;const o=(t=Wi(t,Hf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=qn.MOCK_USER;else{a=tE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ue(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qn(f)}t._authCredentials=new X4(new pA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zf(this.firestore,e,this._query)}}class Er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class ko extends zf{constructor(e,n,r){super(e,n,Ev(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new He(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function hu(t,e,...n){if(t=Dt(t),_k("collection","path",e),t instanceof Hf){const r=Ct.fromString(e,...n);return p1(r),new ko(t,null,r)}{if(!(t instanceof Er||t instanceof ko))throw new Ue(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return p1(r),new ko(t.firestore,null,r)}}function xr(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=mA.newId()),_k("doc","path",e),t instanceof Hf){const r=Ct.fromString(e,...n);return h1(r),new Er(t,null,new He(r))}{if(!(t instanceof Er||t instanceof ko))throw new Ue(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return h1(r),new Er(t.firestore,t instanceof ko?t.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new QA(this,"async_queue_retry"),this.hu=()=>{const n=Ap();n&&$e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=Ap();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Bi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Nu(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw zi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Nv.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Ye()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Ha extends Hf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new LL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bk(this),this._firestoreClient.terminate()}}function $L(t,e){const n=typeof t=="object"?t:uf(),r=typeof t=="string"?t:"(default)",i=Vo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Jw("firestore");o&&ML(i,...o)}return i}function Fv(t){return t._firestoreClient||bk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bk(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,f,u){return new h3(a,l,f,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yk(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new SL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(Qn.fromBase64String(e))}catch(n){throw new Ue(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xa(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^__.*__$/;class FL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class wk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ek(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class Yf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Sd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Ek(this.fu)&&VL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class UL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bf(e)}Fu(e,n,r,i=!1){return new Yf({fu:e,methodName:n,vu:r,path:Pn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tk(t){const e=t._freezeSettings(),n=Bf(t._databaseId);return new UL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BL(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);jv("Data must be an object, but it was:",s,r);const a=Ak(r,s);let l,f;if(o.merge)l=new yr(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const c of o.mergeFields){const d=zm(e,c,n);if(!s.contains(d))throw new Ue(ke.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);xk(u,d)||u.push(d)}l=new yr(u),f=s.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,f=s.fieldTransforms;return new FL(new ur(a),l,f)}class Gf extends Wf{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function jL(t,e,n){return new Yf({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bv extends Wf{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=jL(this,e,!0),r=this.Mu.map(o=>Fu(o,n)),i=new Ta(r);return new V3(e.path,i)}isEqual(e){return e instanceof Bv&&ga(this.Mu,e.Mu)}}function qL(t,e,n,r){const i=t.Fu(1,e,n);jv("Data must be an object, but it was:",i,r);const o=[],s=ur.empty();Ds(r,(l,f)=>{const u=qv(e,l,n);f=Dt(f);const c=i.Su(u);if(f instanceof Gf)o.push(u);else{const d=Fu(f,c);d!=null&&(o.push(u),s.set(u,d))}});const a=new yr(o);return new wk(s,a,i.fieldTransforms)}function HL(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[zm(e,r,n)],l=[i];if(o.length%2!=0)throw new Ue(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(zm(e,o[d])),l.push(o[d+1]);const f=[],u=ur.empty();for(let d=a.length-1;d>=0;--d)if(!xk(f,a[d])){const h=a[d];let p=l[d];p=Dt(p);const m=s.Su(h);if(p instanceof Gf)f.push(h);else{const y=Fu(p,m);y!=null&&(f.push(h),u.set(h,y))}}const c=new yr(f);return new wk(u,c,s.fieldTransforms)}function Fu(t,e){if(kk(t=Dt(t)))return jv("Unsupported field value:",e,t),Ak(t,e);if(t instanceof Wf)return function(r,i){if(!Ek(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Fu(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fn.fromDate(r);return{timestampValue:xd(i.serializer,o)}}if(r instanceof fn){const o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,o)}}if(r instanceof Uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xa)return{bytesValue:BA(i.serializer,r._byteString)};if(r instanceof Er){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Vv(r)}`)}(t,e)}function Ak(t,e){const n={};return gA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const o=Fu(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof Uv||t instanceof xa||t instanceof Er||t instanceof Wf)}function jv(t,e,n){if(!kk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vv(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function zm(t,e,n){if((e=Dt(e))instanceof Kf)return e._internalPath;if(typeof e=="string")return qv(t,e);throw Sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const zL=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search(zL)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kf(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ue(ke.INVALID_ARGUMENT,a+t+l)}function xk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KL extends Ik{data(){return super.data()}}function Sk(t,e){return typeof e=="string"?qv(t,e):e instanceof Kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YL{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Uv(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=Co(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);St(WA(r));const i=new cu(r.get(1),r.get(3)),o=new He(r.popFirst(5));return i.isEqual(n)||zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rk extends Ik{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qc extends Rk{data(e={}){return super.data(e)}}class QL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new qc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new qc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,u=-1;return a.type!==0&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:XL(a.type),doc:l,oldIndex:f,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){t=Wi(t,Er);const e=Wi(t.firestore,Ha);return CL(Fv(e),t._key).then(n=>e6(e,t,n))}class Ok extends YL{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,n)}}function Od(t){t=Wi(t,zf);const e=Wi(t.firestore,Ha),n=Fv(e),r=new Ok(e);return WL(t._query),DL(n,t._query).then(i=>new QL(e,r,t,i))}function ea(t,e,n,...r){t=Wi(t,Er);const i=Wi(t.firestore,Ha),o=Tk(i);let s;return s=typeof(e=Dt(e))=="string"||e instanceof Kf?HL(o,"updateDoc",t._key,e,n,r):qL(o,"updateDoc",t._key,e),Hv(i,[s.toMutation(t._key,jr.exists(!0))])}function JL(t){return Hv(Wi(t.firestore,Ha),[new Tv(t._key,jr.none())])}function ZL(t,e){const n=Wi(t.firestore,Ha),r=xr(t),i=GL(t.converter,e);return Hv(n,[BL(Tk(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}function Hv(t,e){return function(r,i){const o=new Bi;return r.asyncQueue.enqueueAndForget(async()=>_L(await PL(r),i,o)),o.promise}(Fv(t),e)}function e6(t,e,n){const r=n.docs.get(e._key),i=new Ok(t);return new Rk(t,i,e._key,r,new bl(n.hasPendingWrites,n.fromCache),e.converter)}function t6(...t){return new Bv("arrayUnion",t)}(function(e,n=!0){(function(i){Ba=i})(Os),Yr(new Pr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ha(new J4(r.getProvider("auth-internal")),new n3(r.getProvider("app-check-internal")),function(f,u){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ue(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(f.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dr(L_,"4.6.1",e),dr(L_,"4.6.1","esm2017")})();const n6={apiKey:"AIzaSyDvdTUs36DFXUIZ3S7EGZJlSeeDxXg1mGY",authDomain:"tiryaki-hukuk-admin-pane-9a3f2.firebaseapp.com",projectId:"tiryaki-hukuk-admin-pane-9a3f2",storageBucket:"tiryaki-hukuk-admin-pane-9a3f2.appspot.com",messagingSenderId:"432646173233",appId:"1:432646173233:web:1c8a7ad94bacb703781b10",measurementId:"G-0LMBJQ2524"},zv=lE(n6);xD(zv);const Qs=UM(zv),Fr=$L(zv);tT(Qs,zg).then(()=>{console.log("Firebase Auth persistence set to local.")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const Hc=DO({state:{isAuthenticated:!1,user:null,role:null,errorMessage:null},mutations:{login(t,{user:e,role:n}){t.isAuthenticated=!0,t.user=e,t.role=n},logout(t){t.isAuthenticated=!1,t.user=null,t.role=null,t.errorMessage=null},setError(t,e){t.errorMessage=e},setUser(t,e){t.user=e,t.isAuthenticated=!!e},setRole(t,e){t.role=e}},actions:{async login({commit:t},{username:e,password:n}){try{await tT(Qs,zg);const i=(await xN(Qs,e,n)).user,o=await Rd(xr(Fr,"attorneys",i.uid));let s=null;if(o.exists()?s=o.data().role:s="admin",s)t("login",{user:{email:i.email,uid:i.uid},role:s}),console.log("Login successful"),console.log("User role:",s);else throw await f_(Qs),console.error("User not authorized"),new Error("User not authorized")}catch(r){throw console.error("Login failed",r),t("setError",r.message),new Error("Invalid credentials or unauthorized access")}},async logout({commit:t}){try{await f_(Qs),t("logout"),console.log("Logout successful")}catch(e){throw console.error("Logout failed",e),new Error("Logout failed")}},async initializeAuth({commit:t}){return new Promise(e=>{RN(Qs,async n=>{if(n){t("setUser",{email:n.email,uid:n.uid});const r=await Rd(xr(Fr,"attorneys",n.uid));let i=null;r.exists()?i=r.data().role:i="admin",t("setRole",i)}else t("setUser",null),t("setRole",null);e(n)})})}},getters:{isAuthenticated:t=>t.isAuthenticated,user:t=>t.user,userRole:t=>t.role,errorMessage:t=>t.errorMessage}}),r6={class:"flex items-center justify-center"},i6=N("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[N("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),N("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.372 0 0 5.372 0 12h4zm2 5.291A7.964 7.964 0 014 12H0c0 3.042 1.135 5.824 3 7.937l3-2.646z"})],-1),pu={__name:"Loading",props:{text:String},setup(t){const e=t;return(n,r)=>(re(),ce("div",r6,[i6,hn(" "+Ie(e.text),1)]))}},o6={class:"bg-gray-800"},s6={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},a6=N("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-white"},[N("img",{class:"w-8 h-8 mr-2",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"logo"}),hn(" Tiryaki Hukuk Admin Panel ")],-1),l6={class:"w-full bg-gray-700 rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},u6={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},c6=N("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"Email",-1),d6=N("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900 text-white"},"ifre",-1),f6=xg('<div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id="remember" aria-describedby="remember" type="checkbox" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for="remember" class="text-white dark:text-gray-300">Beni hatrla</label></div></div></div>',1),h6=["disabled"],p6={key:1},m6={key:0,class:"text-red-500 text-sm mt-2"},g6={__name:"LoginPage",setup(t){const e=$o(),n=$w(),r=he(""),i=he(""),o=he(!1),s=he(""),a=async()=>{o.value=!0,s.value="";try{const l={username:r.value,password:i.value};await e.dispatch("login",l);const f=e.getters.userRole,u=e.getters.user?e.getters.user.uid:null;f==="attorney"&&u?n.push(`/online-meetings/${u}`):n.push("/online-meetings")}catch{s.value="Hesap isim veya ifre yanl. Ltfen tekrar deneyin."}finally{o.value=!1}};return(l,f)=>(re(),ce("section",o6,[N("div",s6,[a6,N("div",l6,[N("div",u6,[N("form",{onSubmit:Or(a,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[N("div",null,[c6,wt(N("input",{"onUpdate:modelValue":f[0]||(f[0]=u=>r.value=u),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[yi,r.value]])]),N("div",null,[d6,wt(N("input",{"onUpdate:modelValue":f[1]||(f[1]=u=>i.value=u),type:"password",name:"password",id:"password",placeholder:"",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[yi,i.value]])]),f6,N("button",{id:"signin",disabled:o.value,class:"w-full inline-block text-white bg-gray-600 focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},[o.value?(re(),je(pu,{key:0,text:"Giri Yaplyor..."})):(re(),ce("span",p6,"Giri Yap"))],8,h6),s.value?(re(),ce("div",m6,Ie(s.value),1)):ye("",!0)],32)])])])]))}},v6={class:"h-screen min-w-[16rem] bg-gray-800 p-4 z-50 sidebar-menu ease-in-out delay-150 duration-300 transition-transform"},y6=N("a",{href:"#",class:"flex items-center pb-4 border-b border-b-gray-800"},[N("img",{src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg",alt:"",class:"w-8 h-8 rounded object-cover"}),N("span",{class:"text-lg font-bold text-white ml-3"},"Admin Panel")],-1),_6={class:"mt-4"},b6={class:"text-lg"},w6=N("i",{class:"mr-3 text-lg ri-logout-box-line"},null,-1),E6=N("span",{class:"text-lg"},"k",-1),T6=[w6,E6],A6={__name:"Sidebar",emits:["titleChange"],setup(t,{emit:e}){const n=$o(),r=$w(),i=me(()=>n.getters.userRole),o=me(()=>n.getters.user?n.getters.user.uid:null),s=()=>{n.dispatch("logout"),r.push("/")},a=e;function l(d){a("titleChange",d)}const f=[{title:"Online Grmeler",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Blog Ynetimi",icon:"ri-article-line",link:"/blogs"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],u=[{title:"Online Grmelerim",icon:"ri-video-on-line",link:"/online-meetings"},{title:"Randevu Saatlerim",icon:"ri-settings-2-line",link:"/appointment-settings"},{title:"Ayarlar",icon:"ri-settings-2-line",link:"/settings"}],c=me(()=>i.value==="admin"?f:i.value==="attorney"?u.map(d=>({...d,link:`${d.link}/${o.value}`})):[]);return(d,h)=>{const p=wg("router-link");return re(),ce("div",v6,[y6,N("ul",_6,[(re(!0),ce(Pe,null,Xe(c.value,m=>(re(),ce("li",{key:m.title,class:"mb-1 group"},[qe(p,{to:m.link,onClick:y=>l(m.title),class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},{default:ze(()=>[N("i",{class:We([m.icon,"mr-3 text-lg"])},null,2),N("span",b6,Ie(m.title),1)]),_:2},1032,["to","onClick"])]))),128)),N("li",null,[N("div",{onClick:s,class:"flex items-center py-2 px-4 text-gray-300 hover:bg-gray-950 hover:text-gray-100 rounded-md"},T6)])])])}}},ei=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},k6=t=>(Gd("data-v-325971ad"),t=t(),Qd(),t),x6={class:"relative"},I6=k6(()=>N("i",{class:"ri-notification-4-fill ri-2x"},null,-1)),S6=[I6],R6={class:"absolute right-0 mt-2 w-64 border border-gray-300 shadow-xl bg-white rounded-md z-50"},O6={class:"max-h-64 overflow-auto"},P6=["href"],C6={class:"text-sm font-medium text-gray-800"},D6={class:"text-xs text-gray-600"},N6={__name:"NotificationDropdown",setup(t){const e=he(!1),n=he([{id:1,title:"New order test",message:"You have received a new order.",url:"#"},{id:2,title:"Payment received",message:"Your latest billing statement is ready.",url:"#"},{id:3,title:"System Update",message:"System updates will be performed tonight.",url:"#"},{id:4,title:"New Feature",message:"A new feature has been added to your dashboard.",url:"#"},{id:5,title:"Maintenance Scheduled",message:"Scheduled maintenance will occur this weekend.",url:"#"}]);function r(){e.value=!e.value}return(i,o)=>(re(),ce("div",x6,[N("button",{onClick:r,class:"flex items-center justify-center w-8 h-8 rounded hover:bg-gray-50"},S6),wt(N("div",R6,[N("ul",O6,[(re(!0),ce(Pe,null,Xe(n.value,s=>(re(),ce("li",{key:s.id,class:"border-b last:border-b-0"},[N("a",{href:s.url,class:"block hover:bg-gray-300 p-4"},[N("p",C6,Ie(s.title),1),N("p",D6,Ie(s.message),1)],8,P6)]))),128))])],512),[[Sl,e.value]])]))}},M6=ei(N6,[["__scopeId","data-v-325971ad"]]),L6=t=>(Gd("data-v-4aaf64ee"),t=t(),Qd(),t),$6={class:"py-2 px-6 bg-white flex items-center shadow-md sticky top-0 left-0 z-30 justify-between"},V6={class:"flex items-center"},F6=L6(()=>N("i",{class:"ri-menu-line"},null,-1)),U6=[F6],B6={class:"flex items-center text-sm ml-4"},j6={class:"mr-2"},q6={href:"#",class:"text-gray-500 hover:text-gray-800 font-medium"},H6={class:"flex items-center"},z6={__name:"Navbar",props:{currentTab:String},setup(t){return(e,n)=>(re(),ce("div",$6,[N("div",V6,[N("button",{onClick:n[0]||(n[0]=r=>e.$emit("toggleSidebar")),class:"text-lg text-gray-600 sidebar-toggle"},U6),N("ul",B6,[N("li",j6,[N("a",q6,Ie(t.currentTab),1)])])]),N("div",H6,[qe(M6)])]))}},K6=ei(z6,[["__scopeId","data-v-4aaf64ee"]]),W6={},Y6={class:"p-6"};function G6(t,e){return re(),ce("section",Y6,[Me(t.$slots,"default")])}const Q6=ei(W6,[["render",G6]]),X6={class:"flex flex-grow"},J6={class:"w-full h-screen overflow-y-scroll"},Z6={__name:"MainPage",setup(t){const e=he(!0);he(!1);const n=he(localStorage.getItem("currentTab")||"");function r(o){n.value=o,localStorage.setItem("currentTab",o)}function i(){e.value=!e.value}return Tt(()=>{n.value=localStorage.getItem("currentTab")||""}),(o,s)=>{const a=wg("RouterView");return re(),ce("div",X6,[e.value?(re(),je(A6,{key:0,onToggleSidebar:i,onTitleChange:r,class:"hidden lg:block"})):ye("",!0),N("main",J6,[qe(K6,{onToggleSidebar:i,"current-tab":n.value},null,8,["current-tab"]),qe(Q6,null,{default:ze(()=>[qe(Kr,{name:"fade"},{default:ze(()=>[qe(a)]),_:1})]),_:1})])])}}},e$=ei(Z6,[["__scopeId","data-v-6c5a0da2"]]),t$={class:"bg-white rounded-lg border border-gray-200 p-6 mb-4 shadow-lg"},n$=N("div",{class:"pb-4 border-b mb-4 border-gray-300 rounded-t flex justify-between"},[N("h3",{class:"text-lg font-semibold text-gray-900"},[N("span",{class:"mb-2"},"Randevu Ayarlarn Yap")]),N("button",{type:"submit",class:"text-white w-40 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),r$=["for"],i$=N("p",{class:"pl-2 text-gray-500"},"(dk)",-1),o$=["onUpdate:modelValue","id"],s$=["value"],a$=["for"],l$=["onUpdate:modelValue","id"],u$=["value"],c$=["for"],d$=N("p",{class:"pl-2 text-gray-500"},"(TL)",-1),f$=["onUpdate:modelValue","id"],h$={key:0,class:"flex items-center justify-center md:justify-start"},p$=N("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),m$=[p$],g$=["disabled","onClick"],v$=N("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[N("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),y$=[v$],_$=["onClick"],b$=N("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[N("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),w$=[b$],Pk={__name:"WorkingHoursMeetingSetup",props:{appointmentSettings:Array},emits:["save-appointment-settings"],setup(t,{emit:e}){const n=t,r=e,i=[30,45,60],o=["Online Video Grme","Telefonla Grme","Yz Yze Grme"],s=()=>{n.appointmentSettings.push({duration:"",price:"",type:""})},a=f=>{n.appointmentSettings.length>1&&n.appointmentSettings.splice(f,1)},l=()=>{r("save-appointment-settings",n.appointmentSettings)};return(f,u)=>(re(),ce("div",t$,[N("form",{onSubmit:Or(l,["prevent"])},[n$,N("div",null,[(re(!0),ce(Pe,null,Xe(t.appointmentSettings,(c,d)=>(re(),ce("div",{key:d,class:"flex flex-col space-y-2 md:space-y-0 mx-auto md:flex-row mb-4 w-full md:w-full items-center md:space-x-3"},[N("div",null,[N("label",{for:"meeting-duration-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},[hn("Randevu Sresi "),i$],8,r$),wt(N("select",{"onUpdate:modelValue":h=>c.duration=h,id:"meeting-duration-"+d,name:"meeting-duration",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(re(),ce(Pe,null,Xe(i,h=>N("option",{key:h,value:h},Ie(h),9,s$)),64))],8,o$),[[Oo,c.duration]])]),N("div",null,[N("label",{for:"meeting-type-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},"Randevu Tipi",8,a$),wt(N("select",{"onUpdate:modelValue":h=>c.type=h,id:"meeting-type-"+d,name:"meeting-type",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},[(re(),ce(Pe,null,Xe(o,h=>N("option",{key:h,value:h},Ie(h),9,u$)),64))],8,l$),[[Oo,c.type]])]),N("div",null,[N("label",{for:"meeting-price-"+d,class:"flex text-sm text-nowrap font-medium text-gray-900"},[hn("Randevu creti "),d$],8,c$),wt(N("input",{type:"number","onUpdate:modelValue":h=>c.price=h,id:"meeting-price-"+d,name:"meeting-price",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,8,f$),[[yi,c.price]])]),d===t.appointmentSettings.length-1?(re(),ce("div",h$,[N("button",{onClick:s,type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},m$),N("button",{disabled:t.appointmentSettings.length===1,onClick:h=>a(d),type:"button",class:"inline-flex items-center mt-4 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},y$,8,g$)])):(re(),ce("button",{key:1,onClick:h=>a(d),type:"button",class:"inline-flex items-center p-1.5 mt-4 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},w$,8,_$))]))),128))])],32)]))}},E$=N("h1",{class:"font-bold text-4xl"},"Home",-1),T$={key:0},A$=N("p",null,"Welcome, Admin!",-1),k$={key:1},x$=N("p",null,null,-1),g1={__name:"Home",setup(t){const e=he([{duration:"",price:"",type:"",enabled:!0}]),n=$o(),r=me(()=>n.getters.userRole),i=me(()=>n.getters.user?n.getters.user.uid:null),o=he(null),s=async a=>{const l=await Rd(xr(Fr,"attorneys",a));o.value=l.data()};return Tt(()=>{s(i.value)}),(a,l)=>(re(),ce("div",null,[E$,r.value==="admin"?(re(),ce("div",T$,[A$,N("p",null,"Your data "+Ie(o.value),1)])):r.value==="attorney"?(re(),ce("div",k$,[N("p",null,[hn("Welcome, "),N("span",null,Ie(r.value),1),hn("!")]),x$])):ye("",!0),qe(Pk,{appointmentSettings:e.value},null,8,["appointmentSettings"])]))}},I$={class:"min-h-[88vh] flex items-center justify-center"},S$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},R$=N("div",{class:"flex flex-col items-center"},[N("div",{class:"text-[1.6rem] font-medium p-2 text-gray-500"}," Tm Grmeleri "),N("div",{class:"text-[1.6rem] font-medium text-gray-500"},"Gr")],-1),O$=[R$],P$=["onClick"],C$=["src"],D$={__name:"OnlineMeetingsMenu",emits:["optionSelected"],setup(t,{emit:e}){const n=e,r=he([]),i=hu(Fr,"attorneys"),o=()=>n("optionSelected","showAll"),s=f=>n("optionSelected",f);async function a(){let f=[];return(await Od(i)).forEach(c=>{f.push({id:c.id,...c.data()})}),f}async function l(){try{const f=localStorage.getItem("cachedAttorneys"),u=localStorage.getItem("cachedTimeAttorneys"),c=30*60*1e3;if(f&&u&&new Date-new Date(parseInt(u))<c)return JSON.parse(f);{const d=await a();return localStorage.setItem("cachedAttorneys",JSON.stringify(d)),localStorage.setItem("cachedTimeAttorneys",new Date().getTime().toString()),d}}catch(f){return console.error("Error getting meetings:",f),[]}}return Tt(async()=>{let f=await l();f=f.filter(u=>u.email!=="admin@gmail.com"),r.value=f}),(f,u)=>(re(),ce("section",I$,[N("div",S$,[N("button",{onClick:o,class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center"},O$),(re(!0),ce(Pe,null,Xe(r.value,c=>(re(),ce("button",{key:c.id,onClick:d=>s(c.id),class:"bg-white rounded-lg border border-gray-200 hover:shadow-xl hover:border-gray-300 flex items-center justify-center p-2"},[N("div",null,[N("img",{src:`assets/images/${c.id}.jpg`,alt:"Attorney Photo",class:"w-40 h-60 object-cover rounded-md"},null,8,C$)])],8,P$))),128))])]))}};function Ve(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Lr(t,e){const n=Ve(t);return isNaN(e)?mt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function qr(t,e){const n=Ve(t);if(isNaN(e))return mt(t,NaN);if(!e)return n;const r=n.getDate(),i=mt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Ck(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,f=Ve(t),u=r||n?qr(f,r+n*12):f,c=o||i?Lr(u,o+i*7):u,d=a+s*60,p=(l+d*60)*1e3;return mt(t,c.getTime()+p)}function N$(t,e){const n=+Ve(t);return mt(t,n+e)}const Dk=6048e5,M$=864e5,L$=6e4,Nk=36e5,$$=1e3;function V$(t,e){return N$(t,e*Nk)}let F$={};function Ms(){return F$}function Xr(t,e){var a,l,f,u;const n=Ms(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=Ve(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Ia(t){return Xr(t,{weekStartsOn:1})}function Mk(t){const e=Ve(t),n=e.getFullYear(),r=mt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Ia(r),o=mt(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Ia(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function v1(t){const e=Ve(t);return e.setHours(0,0,0,0),e}function Pd(t){const e=Ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Lk(t,e){const n=v1(t),r=v1(e),i=+n-Pd(n),o=+r-Pd(r);return Math.round((i-o)/M$)}function U$(t){const e=Mk(t),n=mt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ia(n)}function B$(t,e){const n=e*3;return qr(t,n)}function Kv(t,e){return qr(t,e*12)}function y1(t,e){const n=Ve(t),r=Ve(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function $k(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vl(t){if(!$k(t)&&typeof t!="number")return!1;const e=Ve(t);return!isNaN(Number(e))}function _1(t){const e=Ve(t);return Math.trunc(e.getMonth()/3)+1}function j$(t,e){const n=Ve(t),r=Ve(e);return n.getFullYear()-r.getFullYear()}function q$(t,e){const n=Ve(t),r=Ve(e),i=y1(n,r),o=Math.abs(j$(n,r));n.setFullYear(1584),r.setFullYear(1584);const s=y1(n,r)===-i,a=i*(o-+s);return a===0?0:a}function Vk(t,e){const n=Ve(t.start),r=Ve(t.end);let i=+n>+r;const o=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let a=1;const l=[];for(;+s<=o;)l.push(Ve(s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return i?l.reverse():l}function ls(t){const e=Ve(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function H$(t,e){const n=Ve(t.start),r=Ve(t.end);let i=+n>+r;const o=i?+ls(n):+ls(r);let s=ls(i?r:n),a=1;const l=[];for(;+s<=o;)l.push(Ve(s)),s=B$(s,a);return i?l.reverse():l}function z$(t){const e=Ve(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Fk(t){const e=Ve(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Wv(t){const e=Ve(t),n=mt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Uk(t,e){var a,l,f,u;const n=Ms(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,i=Ve(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function b1(t){const e=Ve(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const K$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W$=(t,e,n)=>{let r;const i=K$[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Y$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Q$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X$={date:xp({formats:Y$,defaultWidth:"full"}),time:xp({formats:G$,defaultWidth:"full"}),dateTime:xp({formats:Q$,defaultWidth:"full"})},J$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Z$=(t,e,n,r)=>J$[t];function al(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const eV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sV=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aV={ordinalNumber:sV,era:al({values:eV,defaultWidth:"wide"}),quarter:al({values:tV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:al({values:nV,defaultWidth:"wide"}),day:al({values:rV,defaultWidth:"wide"}),dayPeriod:al({values:iV,defaultWidth:"wide",formattingValues:oV,defaultFormattingWidth:"wide"})};function ll(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?uV(a,c=>c.test(s)):lV(a,c=>c.test(s));let f;f=t.valueCallback?t.valueCallback(l):l,f=n.valueCallback?n.valueCallback(f):f;const u=e.slice(s.length);return{value:f,rest:u}}}function lV(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function uV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function cV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const dV=/^(\d+)(th|st|nd|rd)?/i,fV=/\d+/i,hV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pV={any:[/^b/i,/^(a|c)/i]},mV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gV={any:[/1/i,/2/i,/3/i,/4/i]},vV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_V={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TV={ordinalNumber:cV({matchPattern:dV,parsePattern:fV,valueCallback:t=>parseInt(t,10)}),era:ll({matchPatterns:hV,defaultMatchWidth:"wide",parsePatterns:pV,defaultParseWidth:"any"}),quarter:ll({matchPatterns:mV,defaultMatchWidth:"wide",parsePatterns:gV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ll({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any"}),day:ll({matchPatterns:_V,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:wV,defaultMatchWidth:"any",parsePatterns:EV,defaultParseWidth:"any"})},Bk={code:"en-US",formatDistance:W$,formatLong:X$,formatRelative:Z$,localize:aV,match:TV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AV(t){const e=Ve(t);return Lk(e,Wv(e))+1}function Yv(t){const e=Ve(t),n=+Ia(e)-+U$(e);return Math.round(n/Dk)+1}function Gv(t,e){var u,c,d,h;const n=Ve(t),r=n.getFullYear(),i=Ms(),o=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=mt(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Xr(s,e),l=mt(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const f=Xr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function kV(t,e){var a,l,f,u;const n=Ms(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(f=n.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,i=Gv(t,e),o=mt(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Xr(o,e)}function Qv(t,e){const n=Ve(t),r=+Xr(n,e)-+kV(n,e);return Math.round(r/Dk)+1}function _t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ro={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return _t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):_t(n+1,2)},d(t,e){return _t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return _t(t.getHours()%12||12,e.length)},H(t,e){return _t(t.getHours(),e.length)},m(t,e){return _t(t.getMinutes(),e.length)},s(t,e){return _t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return _t(i,e.length)}},Hs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},w1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ro.y(t,e)},Y:function(t,e,n,r){const i=Gv(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return _t(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):_t(o,e.length)},R:function(t,e){const n=Mk(t);return _t(n,e.length)},u:function(t,e){const n=t.getFullYear();return _t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return _t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return _t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ro.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return _t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Qv(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):_t(i,e.length)},I:function(t,e,n){const r=Yv(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):_t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ro.d(t,e)},D:function(t,e,n){const r=AV(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return _t(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return _t(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return _t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Hs.noon:r===0?i=Hs.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Hs.evening:r>=12?i=Hs.afternoon:r>=4?i=Hs.morning:i=Hs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ro.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ro.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ro.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ro.s(t,e)},S:function(t,e){return ro.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return T1(r);case"XXXX":case"XX":return Zo(r);case"XXXXX":case"XXX":default:return Zo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return T1(r);case"xxxx":case"xx":return Zo(r);case"xxxxx":case"xxx":default:return Zo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+E1(r,":");case"OOOO":default:return"GMT"+Zo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+E1(r,":");case"zzzz":default:return"GMT"+Zo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return _t(r,e.length)},T:function(t,e,n){const r=t.getTime();return _t(r,e.length)}};function E1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+_t(o,2)}function T1(t,e){return t%60===0?(t>0?"-":"+")+_t(Math.abs(t)/60,2):Zo(t,e)}function Zo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=_t(Math.trunc(r/60),2),o=_t(r%60,2);return n+i+e+o}const A1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xV=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return A1(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",A1(r,e)).replace("{{time}}",jk(i,e))},Km={p:jk,P:xV},IV=/^D+$/,SV=/^Y+$/,RV=["D","DD","YY","YYYY"];function qk(t){return IV.test(t)}function Hk(t){return SV.test(t)}function Wm(t,e,n){const r=OV(t,e,n);if(console.warn(r),RV.includes(t))throw new RangeError(r)}function OV(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DV=/^'([^]*?)'?$/,NV=/''/g,MV=/[a-zA-Z]/;function Hr(t,e,n){var u,c,d,h,p,m,y,v;const r=Ms(),i=(n==null?void 0:n.locale)??r.locale??Bk,o=(n==null?void 0:n.firstWeekContainsDate)??((c=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((m=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,a=Ve(t);if(!Vl(a))throw new RangeError("Invalid time value");let l=e.match(CV).map(_=>{const b=_[0];if(b==="p"||b==="P"){const g=Km[b];return g(_,i.formatLong)}return _}).join("").match(PV).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:LV(_)};if(w1[b])return{isToken:!0,value:_};if(b.match(MV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const f={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const b=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Hk(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&qk(b))&&Wm(b,e,String(t));const g=w1[b[0]];return g(a,b,i.localize,f)}).join("")}function LV(t){const e=t.match(DV);return e?e[1].replace(NV,"'"):t}function $V(t){return Ve(t).getDay()}function VV(t){const e=Ve(t),n=e.getFullYear(),r=e.getMonth(),i=mt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function FV(){return Object.assign({},Ms())}function Yi(t){return Ve(t).getHours()}function UV(t){let n=Ve(t).getDay();return n===0&&(n=7),n}function No(t){return Ve(t).getMinutes()}function ot(t){return Ve(t).getMonth()}function Sa(t){return Ve(t).getSeconds()}function it(t){return Ve(t).getFullYear()}function Ra(t,e){const n=Ve(t),r=Ve(e);return n.getTime()>r.getTime()}function mu(t,e){const n=Ve(t),r=Ve(e);return+n<+r}function ta(t,e){const n=Ve(t),r=Ve(e);return+n==+r}function BV(t,e){const n=e instanceof Date?mt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const jV=10;class zk{constructor(){Ne(this,"subPriority",0)}validate(e,n){return!0}}class qV extends zk{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class HV extends zk{constructor(){super(...arguments);Ne(this,"priority",jV);Ne(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:mt(n,BV(n,Date))}}class gt{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new qV(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class zV extends gt{constructor(){super(...arguments);Ne(this,"priority",140);Ne(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Gt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},di={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Qt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Lt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function fi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*Nk+o*L$+s*$$),rest:e.slice(n[0].length)}}function Kk(t){return Lt(Gt.anyDigitsSigned,t)}function qt(t,e){switch(t){case 1:return Lt(Gt.singleDigit,e);case 2:return Lt(Gt.twoDigits,e);case 3:return Lt(Gt.threeDigits,e);case 4:return Lt(Gt.fourDigits,e);default:return Lt(new RegExp("^\\d{1,"+t+"}"),e)}}function Cd(t,e){switch(t){case 1:return Lt(Gt.singleDigitSigned,e);case 2:return Lt(Gt.twoDigitsSigned,e);case 3:return Lt(Gt.threeDigitsSigned,e);case 4:return Lt(Gt.fourDigitsSigned,e);default:return Lt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Xv(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Wk(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function Yk(t){return t%400===0||t%4===0&&t%100!==0}class KV extends gt{constructor(){super(...arguments);Ne(this,"priority",130);Ne(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return Qt(qt(4,n),o);case"yo":return Qt(i.ordinalNumber(n,{unit:"year"}),o);default:return Qt(qt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=Wk(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class WV extends gt{constructor(){super(...arguments);Ne(this,"priority",130);Ne(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Qt(qt(4,n),o);case"Yo":return Qt(i.ordinalNumber(n,{unit:"year"}),o);default:return Qt(qt(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=Gv(n,o);if(i.isTwoDigitYear){const l=Wk(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,o)}}class YV extends gt{constructor(){super(...arguments);Ne(this,"priority",130);Ne(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Cd(r==="R"?4:r.length,n)}set(n,r,i){const o=mt(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Ia(o)}}class GV extends gt{constructor(){super(...arguments);Ne(this,"priority",130);Ne(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Cd(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class QV extends gt{constructor(){super(...arguments);Ne(this,"priority",120);Ne(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return qt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class XV extends gt{constructor(){super(...arguments);Ne(this,"priority",120);Ne(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return qt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class JV extends gt{constructor(){super(...arguments);Ne(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ne(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return Qt(Lt(Gt.month,n),o);case"MM":return Qt(qt(2,n),o);case"Mo":return Qt(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class ZV extends gt{constructor(){super(...arguments);Ne(this,"priority",110);Ne(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return Qt(Lt(Gt.month,n),o);case"LL":return Qt(qt(2,n),o);case"Lo":return Qt(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function eF(t,e,n){const r=Ve(t),i=Qv(r,n)-e;return r.setDate(r.getDate()-i*7),r}class tF extends gt{constructor(){super(...arguments);Ne(this,"priority",100);Ne(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Lt(Gt.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return qt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return Xr(eF(n,i,o),o)}}function nF(t,e){const n=Ve(t),r=Yv(n)-e;return n.setDate(n.getDate()-r*7),n}class rF extends gt{constructor(){super(...arguments);Ne(this,"priority",100);Ne(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Lt(Gt.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return qt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Ia(nF(n,i))}}const iF=[31,28,31,30,31,30,31,31,30,31,30,31],oF=[31,29,31,30,31,30,31,31,30,31,30,31];class sF extends gt{constructor(){super(...arguments);Ne(this,"priority",90);Ne(this,"subPriority",1);Ne(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Lt(Gt.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return qt(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=Yk(i),s=n.getMonth();return o?r>=1&&r<=oF[s]:r>=1&&r<=iF[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class aF extends gt{constructor(){super(...arguments);Ne(this,"priority",90);Ne(this,"subpriority",1);Ne(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Lt(Gt.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return qt(r.length,n)}}validate(n,r){const i=n.getFullYear();return Yk(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Jv(t,e,n){var c,d,h,p;const r=Ms(),i=(n==null?void 0:n.weekStartsOn)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Ve(t),s=o.getDay(),l=(e%7+7)%7,f=7-i,u=e<0||e>6?e-(s+f)%7:(l+f)%7-(s+f)%7;return Lr(o,u)}class lF extends gt{constructor(){super(...arguments);Ne(this,"priority",90);Ne(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Jv(n,i,o),n.setHours(0,0,0,0),n}}class uF extends gt{constructor(){super(...arguments);Ne(this,"priority",90);Ne(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Qt(qt(r.length,n),s);case"eo":return Qt(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Jv(n,i,o),n.setHours(0,0,0,0),n}}class cF extends gt{constructor(){super(...arguments);Ne(this,"priority",90);Ne(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Qt(qt(r.length,n),s);case"co":return Qt(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=Jv(n,i,o),n.setHours(0,0,0,0),n}}function dF(t,e){const n=Ve(t),r=UV(n),i=e-r;return Lr(n,i)}class fF extends gt{constructor(){super(...arguments);Ne(this,"priority",90);Ne(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return qt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Qt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Qt(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Qt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Qt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=dF(n,i),n.setHours(0,0,0,0),n}}class hF extends gt{constructor(){super(...arguments);Ne(this,"priority",80);Ne(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Xv(i),0,0,0),n}}class pF extends gt{constructor(){super(...arguments);Ne(this,"priority",80);Ne(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Xv(i),0,0,0),n}}class mF extends gt{constructor(){super(...arguments);Ne(this,"priority",80);Ne(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Xv(i),0,0,0),n}}class gF extends gt{constructor(){super(...arguments);Ne(this,"priority",70);Ne(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Lt(Gt.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return qt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class vF extends gt{constructor(){super(...arguments);Ne(this,"priority",70);Ne(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Lt(Gt.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return qt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class yF extends gt{constructor(){super(...arguments);Ne(this,"priority",70);Ne(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Lt(Gt.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return qt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class _F extends gt{constructor(){super(...arguments);Ne(this,"priority",70);Ne(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Lt(Gt.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return qt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class bF extends gt{constructor(){super(...arguments);Ne(this,"priority",60);Ne(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Lt(Gt.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return qt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class wF extends gt{constructor(){super(...arguments);Ne(this,"priority",50);Ne(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Lt(Gt.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return qt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class EF extends gt{constructor(){super(...arguments);Ne(this,"priority",30);Ne(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Qt(qt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class TF extends gt{constructor(){super(...arguments);Ne(this,"priority",10);Ne(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return fi(di.basicOptionalMinutes,n);case"XX":return fi(di.basic,n);case"XXXX":return fi(di.basicOptionalSeconds,n);case"XXXXX":return fi(di.extendedOptionalSeconds,n);case"XXX":default:return fi(di.extended,n)}}set(n,r,i){return r.timestampIsSet?n:mt(n,n.getTime()-Pd(n)-i)}}class AF extends gt{constructor(){super(...arguments);Ne(this,"priority",10);Ne(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return fi(di.basicOptionalMinutes,n);case"xx":return fi(di.basic,n);case"xxxx":return fi(di.basicOptionalSeconds,n);case"xxxxx":return fi(di.extendedOptionalSeconds,n);case"xxx":default:return fi(di.extended,n)}}set(n,r,i){return r.timestampIsSet?n:mt(n,n.getTime()-Pd(n)-i)}}class kF extends gt{constructor(){super(...arguments);Ne(this,"priority",40);Ne(this,"incompatibleTokens","*")}parse(n){return Kk(n)}set(n,r,i){return[mt(n,i*1e3),{timestampIsSet:!0}]}}class xF extends gt{constructor(){super(...arguments);Ne(this,"priority",20);Ne(this,"incompatibleTokens","*")}parse(n){return Kk(n)}set(n,r,i){return[mt(n,i),{timestampIsSet:!0}]}}const IF={G:new zV,y:new KV,Y:new WV,R:new YV,u:new GV,Q:new QV,q:new XV,M:new JV,L:new ZV,w:new tF,I:new rF,d:new sF,D:new aF,E:new lF,e:new uF,c:new cF,i:new fF,a:new hF,b:new pF,B:new mF,h:new gF,H:new vF,K:new yF,k:new _F,m:new bF,s:new wF,S:new EF,X:new TF,x:new AF,t:new kF,T:new xF},SF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OF=/^'([^]*?)'?$/,PF=/''/g,CF=/\S/,DF=/[a-zA-Z]/;function Ym(t,e,n,r){var m,y,v,_,b,g,w,k;const i=FV(),o=(r==null?void 0:r.locale)??i.locale??Bk,s=(r==null?void 0:r.firstWeekContainsDate)??((y=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??i.weekStartsOn??((k=(w=i.locale)==null?void 0:w.options)==null?void 0:k.weekStartsOn)??0;if(e==="")return t===""?Ve(n):mt(n,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},f=[new HV],u=e.match(RF).map(S=>{const E=S[0];if(E in Km){const x=Km[E];return x(S,o.formatLong)}return S}).join("").match(SF),c=[];for(let S of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&Hk(S)&&Wm(S,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&qk(S)&&Wm(S,e,t);const E=S[0],x=IF[E];if(x){const{incompatibleTokens:I}=x;if(Array.isArray(I)){const T=c.find(R=>I.includes(R.token)||R.token===E);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${S}\` at the same time`)}else if(x.incompatibleTokens==="*"&&c.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);c.push({token:E,fullToken:S});const A=x.run(t,S,o.match,l);if(!A)return mt(n,NaN);f.push(A.setter),t=A.rest}else{if(E.match(DF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(S==="''"?S="'":E==="'"&&(S=NF(S)),t.indexOf(S)===0)t=t.slice(S.length);else return mt(n,NaN)}}if(t.length>0&&CF.test(t))return mt(n,NaN);const d=f.map(S=>S.priority).sort((S,E)=>E-S).filter((S,E,x)=>x.indexOf(S)===E).map(S=>f.filter(E=>E.priority===S).sort((E,x)=>x.subPriority-E.subPriority)).map(S=>S[0]);let h=Ve(n);if(isNaN(h.getTime()))return mt(n,NaN);const p={};for(const S of d){if(!S.validate(h,l))return mt(n,NaN);const E=S.set(h,p,l);Array.isArray(E)?(h=E[0],Object.assign(p,E[1])):h=E}return mt(n,h)}function NF(t){return t.match(OF)[1].replace(PF,"'")}function k1(t,e){const n=ls(t),r=ls(e);return+n==+r}function MF(t,e){return Lr(t,-e)}function Gk(t,e){const n=Ve(t),r=n.getFullYear(),i=n.getDate(),o=mt(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=VV(o);return n.setMonth(e,Math.min(i,s)),n}function xt(t,e){let n=Ve(t);return isNaN(+n)?mt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Gk(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function LF(t,e){const n=Ve(t);return n.setHours(e),n}function Qk(t,e){const n=Ve(t);return n.setMilliseconds(e),n}function $F(t,e){const n=Ve(t);return n.setMinutes(e),n}function Xk(t,e){const n=Ve(t);return n.setSeconds(e),n}function mi(t,e){const n=Ve(t);return isNaN(+n)?mt(t,NaN):(n.setFullYear(e),n)}function Oa(t,e){return qr(t,-e)}function VF(t,e){const{years:n=0,months:r=0,weeks:i=0,days:o=0,hours:s=0,minutes:a=0,seconds:l=0}=e,f=Oa(t,r+n*12),u=MF(f,o+i*7),c=a+s*60,h=(l+c*60)*1e3;return mt(t,u.getTime()-h)}function Jk(t,e){return Kv(t,-e)}function za(){return re(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[N("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),N("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),N("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),N("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}za.compatConfig={MODE:3};function Zk(){return re(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[N("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),N("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Zk.compatConfig={MODE:3};function Zv(){return re(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[N("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Zv.compatConfig={MODE:3};function ey(){return re(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[N("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ey.compatConfig={MODE:3};function ty(){return re(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[N("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),N("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}ty.compatConfig={MODE:3};function ny(){return re(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[N("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ny.compatConfig={MODE:3};function ry(){return re(),ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[N("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ry.compatConfig={MODE:3};const Ti=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),iy=(t,e,n)=>Gm(t,e,n)||Ae(),FF=(t,e,n)=>{const r=e.dateInTz?Ti(new Date(t),e.dateInTz):Ae(t);return n?rr(r,!0):r},Gm=(t,e,n)=>{if(!t)return null;const r=n?rr(Ae(t),!0):Ae(t);return e?e.exactMatch?FF(t,e,n):Ti(r,e.timezone):r},UF=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Nr=(t=>(t.month="month",t.year="year",t))(Nr||{}),es=(t=>(t.top="top",t.bottom="bottom",t))(es||{}),hs=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(hs||{}),Hn=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Hn||{});const BF=["timestamp","date","iso"];var er=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(er||{}),Mt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Mt||{});function x1(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function jF(t){return e=>Hr(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const qF=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(jF(t))}catch{i=r.map(x1(e))}else i=r.map(x1(e));const o=i.slice(0,n),s=i.slice(n+1,i.length);return[i[n]].concat(...s).concat(...o)},oy=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:r2(i,e)});return n?r.reverse():r},e2=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const s=o<10?`0${o}`:o;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const o=n==="long"?"MMMM":"MMM";return r.map((s,a)=>{const l=Hr(Ti(s,"UTC"),o,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((o,s)=>{const a=i.format(o);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:s}})},HF=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],un=t=>{const e=le(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},zF=t=>({type:"dot",...t??{}}),t2=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,sy={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},mn=t=>t,I1=t=>t===0?t:!t||isNaN(+t)?null:+t,S1=t=>t===null,n2=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},KF=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},gu=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const o=+n,s=+e;return r&&i?+t>o||+t<s:r?+t>o:i?+t<s:!1},Pa=(t,e)=>KF(t).map(n=>n.map(r=>{const{active:i,disabled:o,isBetween:s,highlighted:a}=e(r);return{...r,active:i,disabled:o,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:o,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:o&&i,dp__cell_in_between:s,"dp--highlighted":a}}})),xo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},WF=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function YF(t,e){let n=[...document.querySelectorAll(WF())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const GF=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),r2=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),ay=t=>Hr(t,"dd-MM-yyyy"),Ip=t=>Array.isArray(t),Dd=(t,e)=>e.get(ay(t)),QF=(t,e)=>t?e?e instanceof Map?!!Dd(t,e):e(Ae(t)):!1:!0,cr=(t,e,n=!1)=>{if(t.key===Mt.enter||t.key===Mt.space)return n&&t.preventDefault(),e()},R1=(t,e,n,r,i,o)=>{const s=Ym(t,e.slice(0,t.length),new Date,{locale:o});return Vl(s)&&$k(s)?r||i?s:xt(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},XF=(t,e,n,r,i,o)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return R1(t,e,s,r,i,o);if(Array.isArray(e)){let a=null;for(const l of e)if(a=R1(t,l,s,r,i,o),a)break;return a}return typeof e=="function"?e(t):null},Ae=t=>t?new Date(t):new Date,JF=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${o}T${s}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},rr=(t,e)=>{const n=Ae(JSON.parse(JSON.stringify(t))),r=xt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?z$(r):r},Io=(t,e,n,r)=>{let i=t?Ae(t):Ae();return(e||e===0)&&(i=LF(i,+e)),(n||n===0)&&(i=$F(i,+n)),(r||r===0)&&(i=Xk(i,+r)),Qk(i,0)},Bt=(t,e)=>!t||!e?!1:mu(rr(t),rr(e)),st=(t,e)=>!t||!e?!1:ta(rr(t),rr(e)),Yt=(t,e)=>!t||!e?!1:Ra(rr(t),rr(e)),Qf=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Yt(n,t[0])&&Bt(n,t[1]):t!=null&&t[0]&&e?Yt(n,t[0])&&Bt(n,e)||Bt(n,t[0])&&Yt(n,e):!1,$r=t=>{const e=xt(new Date(t),{date:1});return rr(e)},Sp=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ps=t=>({hours:Yi(t),minutes:No(t),seconds:Sa(t)}),i2=(t,e)=>{if(e){const n=it(Ae(e));if(n>t)return 12;if(n===t)return ot(Ae(e))}},o2=(t,e)=>{if(e){const n=it(Ae(e));return n<t?-1:n===t?ot(Ae(e)):void 0}},Ca=t=>{if(t)return it(Ae(t))},s2=(t,e)=>{const n=Yt(t,e)?e:t,r=Yt(e,t)?e:t;return Vk({start:n,end:r})},ZF=t=>{const e=qr(t,1);return{month:ot(e),year:it(e)}},Ci=(t,e)=>{const n=Xr(t,{weekStartsOn:+e}),r=Uk(t,{weekStartsOn:+e});return[n,r]},a2=(t,e)=>{const n={hours:Yi(Ae()),minutes:No(Ae()),seconds:e?Sa(Ae()):0};return Object.assign(n,t)},_o=(t,e,n)=>[xt(Ae(t),{date:1}),xt(Ae(),{month:e,year:n,date:1})],Vi=(t,e,n)=>{let r=t?Ae(t):Ae();return(e||e===0)&&(r=Gk(r,e)),n&&(r=mi(r,n)),r},l2=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const o=i?qr(t,1):Oa(t,1),s=[ot(o),it(o)];return i?!tU(...s,e):!eU(...s,n)},eU=(t,e,n)=>Bt(..._o(n,t,e))||st(..._o(n,t,e)),tU=(t,e,n)=>Yt(..._o(n,t,e))||st(..._o(n,t,e)),u2=(t,e,n,r,i,o,s)=>{if(typeof e=="function"&&!s)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Hr(t[0],o,a)}${i&&!t[1]?"":r}${t[1]?Hr(t[1],o,a):""}`:Hr(t,o,a)},zs=t=>{if(t)return null;throw new Error(sy.prop("partial-range"))},Tc=(t,e)=>{if(e)return t();throw new Error(sy.prop("range"))},Qm=t=>Array.isArray(t)?Vl(t[0])&&(t[1]?Vl(t[1]):!0):t?Vl(t):!1,nU=(t,e)=>xt(e??Ae(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Rp=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?mu(t,e):Ra(t,e),o={seconds:0,milliseconds:0};return i||ta(xt(t,o),xt(e,o))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Op=(t,e,n)=>t?nU(t,e):Ae(n??e),O1=(t,e,n,r,i)=>{if(Array.isArray(r)){const s=Op(t,r[0],e),a=Op(t,r[1],e);return Rp(r[0],s,n,!!e)&&Rp(r[1],a,n,!!e)&&i}const o=Op(t,r,e);return Rp(r,o,n,!!e)&&i},Pp=t=>xt(Ae(),ps(t)),rU=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>it(Ae(n))===e).map(n=>ot(n)):[],c2=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),ly=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),d2=t=>Hr(t,"yyyy-MM-dd"),ul=Jr({menuFocused:!1,shiftKeyInMenu:!1}),f2=()=>{const t=n=>{ul.menuFocused=n},e=n=>{ul.shiftKeyInMenu!==n&&(ul.shiftKeyInMenu=n)};return{control:me(()=>({shiftKeyInMenu:ul.shiftKeyInMenu,menuFocused:ul.menuFocused})),setMenuFocused:t,setShiftKey:e}},Rt=Jr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Cp=he(null),Ac=he(!1),Dp=he(!1),Np=he(!1),Mp=he(!1),Bn=he(0),Wt=he(0),qo=()=>{const t=me(()=>Ac.value?[...Rt.selectionGrid,Rt.actionRow].filter(c=>c.length):Dp.value?[...Rt.timePicker[0],...Rt.timePicker[1],Mp.value?[]:[Cp.value],Rt.actionRow].filter(c=>c.length):Np.value?[...Rt.monthPicker,Rt.actionRow]:[Rt.monthYear,...Rt.calendar,Rt.time,Rt.actionRow].filter(c=>c.length)),e=c=>{Bn.value=c?Bn.value+1:Bn.value-1;let d=null;t.value[Wt.value]&&(d=t.value[Wt.value][Bn.value]),!d&&t.value[Wt.value+(c?1:-1)]?(Wt.value=Wt.value+(c?1:-1),Bn.value=c?0:t.value[Wt.value].length-1):d||(Bn.value=c?Bn.value-1:Bn.value+1)},n=c=>{Wt.value===0&&!c||Wt.value===t.value.length&&c||(Wt.value=c?Wt.value+1:Wt.value-1,t.value[Wt.value]?t.value[Wt.value]&&!t.value[Wt.value][Bn.value]&&Bn.value!==0&&(Bn.value=t.value[Wt.value].length-1):Wt.value=c?Wt.value-1:Wt.value+1)},r=c=>{let d=null;t.value[Wt.value]&&(d=t.value[Wt.value][Bn.value]),d?d.focus({preventScroll:!Ac.value}):Bn.value=c?Bn.value-1:Bn.value+1},i=()=>{e(!0),r(!0)},o=()=>{e(!1),r(!1)},s=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(c,d)=>{Rt[d]=c},f=(c,d)=>{Rt[d]=c},u=()=>{Bn.value=0,Wt.value=0};return{buildMatrix:l,buildMultiLevelMatrix:f,setTimePickerBackRef:c=>{Cp.value=c},setSelectionGrid:c=>{Ac.value=c,u(),c||(Rt.selectionGrid=[])},setTimePicker:(c,d=!1)=>{Dp.value=c,Mp.value=d,u(),c||(Rt.timePicker[0]=[],Rt.timePicker[1]=[])},setTimePickerElements:(c,d=0)=>{Rt.timePicker[d]=c},arrowRight:i,arrowLeft:o,arrowUp:s,arrowDown:a,clearArrowNav:()=>{Rt.monthYear=[],Rt.calendar=[],Rt.time=[],Rt.actionRow=[],Rt.selectionGrid=[],Rt.timePicker[0]=[],Rt.timePicker[1]=[],Ac.value=!1,Dp.value=!1,Mp.value=!1,Np.value=!1,u(),Cp.value=null},setMonthPicker:c=>{Np.value=c,u()},refSets:Rt}},P1=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),iU=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),C1=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,oU=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:C1(!1)};const r=e?t:{},i=e?r.count??!0:t,o=C1(i);return Object.assign(n,r,{count:o})},sU=(t,e,n)=>t||(typeof n=="string"?n:e),aU=t=>typeof t=="boolean"?t?P1({}):!1:P1(t),lU=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},uU=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),cU=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),dU=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},fU=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),hU=t=>{const e={dates:Array.isArray(t)?t.map(n=>Ae(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},pU=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},mU=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},gU=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Lp=(t,e,n)=>new Map(t.map(r=>{const i=iy(r,e,n);return[ay(i),i]})),vU=(t,e)=>t.length?new Map(t.map(n=>{const r=iy(n.date,e);return[ay(r),n]})):null,yU=t=>{var e;return{minDate:Gm(t.minDate,t.timezone,t.isSpecific),maxDate:Gm(t.maxDate,t.timezone,t.isSpecific),disabledDates:Ip(t.disabledDates)?Lp(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Ip(t.allowedDates)?Lp(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Ip((e=t.highlight)==null?void 0:e.dates)?Lp(t.highlight.dates,t.timezone):t.highlight,markers:vU(t.markers,t.timezone)}},_U=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},Ft=t=>{const e=()=>{const w=t.enableSeconds?":ss":"",k=t.enableMinutes?":mm":"";return t.is24?`HH${k}${w}`:`hh${k}${w} aa`},n=()=>{var w;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((w=y.value)==null?void 0:w.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=w=>a2(w,t.enableSeconds),i=()=>g.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,o=me(()=>oU(t.multiCalendars)),s=me(()=>i()),a=me(()=>iU(t.ariaLabels)),l=me(()=>uU(t.filters)),f=me(()=>aU(t.transitions)),u=me(()=>cU(t.actionRow)),c=me(()=>sU(t.previewFormat,t.format,n())),d=me(()=>lU(t.textInput)),h=me(()=>dU(t.inline)),p=me(()=>fU(t.config)),m=me(()=>hU(t.highlight)),y=me(()=>pU(t.weekNumbers)),v=me(()=>gU(t.timezone,t.emitTimezone)),_=me(()=>_U(t.multiDates,t.multiDatesLimit)),b=me(()=>yU({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:m.value,markers:t.markers,timezone:v.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),g=me(()=>mU(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:f,defaultedMultiCalendars:o,defaultedStartTime:s,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:c,defaultedTextInput:d,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:y,defaultedRange:g,propDates:b,defaultedTz:v,defaultedMultiDates:_,getDefaultPattern:n,getDefaultStartTime:i}},bU=(t,e,n)=>{const r=he(),{defaultedTextInput:i,defaultedRange:o,defaultedTz:s,defaultedMultiDates:a,getDefaultPattern:l}=Ft(e),f=he(""),u=ql(e,"format"),c=ql(e,"formatLocale");rn(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,j(!0))},{deep:!0}),rn(o,(V,Z)=>{V.enabled!==Z.enabled&&(r.value=null)}),rn(u,()=>{X()});const d=V=>s.value.timezone&&s.value.convertModel?Ti(V,s.value.timezone):V,h=V=>{if(s.value.timezone&&s.value.convertModel){const Z=UF(s.value.timezone);return V$(V,Z)}return V},p=(V,Z,Y=!1)=>u2(V,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Z??l(),Y),m=V=>V?e.modelType?U(V):{hours:Yi(V),minutes:No(V),seconds:e.enableSeconds?Sa(V):0}:null,y=V=>e.modelType?U(V):{month:ot(V),year:it(V)},v=V=>Array.isArray(V)?a.value.enabled?V.map(Z=>_(Z,mi(Ae(),Z))):Tc(()=>[mi(Ae(),V[0]),V[1]?mi(Ae(),V[1]):zs(o.value.partialRange)],o.value.enabled):mi(Ae(),+V),_=(V,Z)=>(typeof V=="string"||typeof V=="number")&&e.modelType?H(V):Z,b=V=>Array.isArray(V)?[_(V[0],Io(null,+V[0].hours,+V[0].minutes,V[0].seconds)),_(V[1],Io(null,+V[1].hours,+V[1].minutes,V[1].seconds))]:_(V,Io(null,V.hours,V.minutes,V.seconds)),g=V=>{const Z=xt(Ae(),{date:1});return Array.isArray(V)?a.value.enabled?V.map(Y=>_(Y,Vi(Z,+Y.month,+Y.year))):Tc(()=>[_(V[0],Vi(Z,+V[0].month,+V[0].year)),_(V[1],V[1]?Vi(Z,+V[1].month,+V[1].year):zs(o.value.partialRange))],o.value.enabled):_(V,Vi(Z,+V.month,+V.year))},w=V=>{if(Array.isArray(V))return V.map(Z=>H(Z));throw new Error(sy.dateArr("multi-dates"))},k=V=>{if(Array.isArray(V)&&o.value.enabled){const Z=V[0],Y=V[1];return[Ae(Array.isArray(Z)?Z[0]:null),Ae(Array.isArray(Y)?Y[0]:null)]}return Ae(V[0])},S=V=>e.modelAuto?Array.isArray(V)?[H(V[0]),H(V[1])]:e.autoApply?[H(V)]:[H(V),null]:Array.isArray(V)?Tc(()=>V[1]?[H(V[0]),V[1]?H(V[1]):zs(o.value.partialRange)]:[H(V[0])],o.value.enabled):H(V),E=()=>{Array.isArray(r.value)&&o.value.enabled&&r.value.length===1&&r.value.push(zs(o.value.partialRange))},x=()=>{const V=r.value;return[U(V[0]),V[1]?U(V[1]):zs(o.value.partialRange)]},I=()=>r.value[1]?x():U(mn(r.value[0])),A=()=>(r.value||[]).map(V=>U(V)),T=(V=!1)=>(V||E(),e.modelAuto?I():a.value.enabled?A():Array.isArray(r.value)?Tc(()=>x(),o.value.enabled):U(mn(r.value))),R=V=>!V||Array.isArray(V)&&!V.length?null:e.timePicker?b(mn(V)):e.monthPicker?g(mn(V)):e.yearPicker?v(mn(V)):a.value.enabled?w(mn(V)):e.weekPicker?k(mn(V)):S(mn(V)),M=V=>{const Z=R(V);Qm(mn(Z))?(r.value=mn(Z),X()):(r.value=null,f.value="")},C=()=>{const V=Z=>Hr(Z,i.value.format);return`${V(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?V(r.value[1]):""}`},O=()=>n.value&&r.value?Array.isArray(r.value)?C():Hr(r.value,i.value.format):p(r.value),P=()=>r.value?a.value.enabled?r.value.map(V=>p(V)).join("; "):i.value.enabled&&typeof i.value.format=="string"?O():p(r.value):"",X=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?f.value=P():f.value=e.format(r.value)},H=V=>{if(e.utc){const Z=new Date(V);return e.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return e.modelType?BF.includes(e.modelType)?d(new Date(V)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?d(Ym(V,l(),new Date,{locale:c.value})):d(Ym(V,e.modelType,new Date,{locale:c.value})):d(new Date(V))},U=V=>V?e.utc?JF(V,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(V):e.modelType==="iso"?h(V).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(V)):p(h(V),e.modelType,!0):h(V):"",$=(V,Z=!1,Y=!1)=>{if(Y)return V;if(t("update:model-value",V),s.value.emitTimezone&&Z){const ie=Array.isArray(V)?V.map(ue=>Ti(mn(ue),s.value.emitTimezone)):Ti(mn(V),s.value.emitTimezone);t("update:model-timezone-value",ie)}},F=V=>Array.isArray(r.value)?a.value.enabled?r.value.map(Z=>V(Z)):[V(r.value[0]),r.value[1]?V(r.value[1]):zs(o.value.partialRange)]:V(mn(r.value)),D=()=>{if(Array.isArray(r.value)){const V=Ci(r.value[0],e.weekStart),Z=r.value[1]?Ci(r.value[1],e.weekStart):[];return[V.map(Y=>Ae(Y)),Z.map(Y=>Ae(Y))]}return Ci(r.value,e.weekStart).map(V=>Ae(V))},K=(V,Z)=>$(mn(F(V)),!1,Z),z=V=>{const Z=D();return V?Z:t("update:model-value",D())},j=(V=!1)=>(V||X(),e.monthPicker?K(y,V):e.timePicker?K(m,V):e.yearPicker?K(it,V):e.weekPicker?z(V):$(T(V),!0,V));return{inputValue:f,internalModelValue:r,checkBeforeEmit:()=>r.value?o.value.enabled?o.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:M,formatInputValue:X,emitModelValue:j}},wU=(t,e)=>{const{defaultedFilters:n,propDates:r}=Ft(t),{validateMonthYearInRange:i}=Ho(t),o=(u,c)=>{let d=u;return n.value.months.includes(ot(d))?(d=c?qr(u,1):Oa(u,1),o(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(it(d))?(d=c?Kv(u,1):Jk(u,1),s(d,c)):d},a=(u,c=!1)=>{const d=xt(Ae(),{month:t.month,year:t.year});let h=u?qr(d,1):Oa(d,1);t.disableYearSelect&&(h=mi(h,t.year));let p=ot(h),m=it(h);n.value.months.includes(p)&&(h=o(h,u),p=ot(h),m=it(h)),n.value.years.includes(m)&&(h=s(h,u),m=it(h)),i(p,m,u,t.preventMinMaxNavigation)&&l(p,m,c)},l=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},f=me(()=>u=>l2(xt(Ae(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:a,isDisabled:f,updateMonthYear:l}},Xf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0}},ti={...Xf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},EU=["title"],TU=["disabled"],AU=Jt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ti},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:o,defaultedMultiCalendars:s,defaultedTextInput:a,defaultedInline:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:c}=Ft(r),{isTimeValid:d,isMonthValid:h}=Ho(r),{buildMatrix:p}=qo(),m=he(null),y=he(null),v=he(!1),_=he({}),b=he(null),g=he(null);Tt(()=>{r.arrowNavigation&&p([un(m),un(y)],"actionRow"),w(),window.addEventListener("resize",w)}),Na(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var C,O;const P=(C=b.value)==null?void 0:C.getBoundingClientRect(),X=(O=g.value)==null?void 0:O.getBoundingClientRect();P&&X&&(_.value.maxWidth=`${X.width-P.width-20}px`),v.value=!0},0)},k=me(()=>f.value.enabled&&!f.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),S=me(()=>!d.value(r.internalModelValue)||!h.value(r.internalModelValue)||!k.value),E=()=>{const C=o.value;return r.timePicker||r.monthPicker,C(mn(r.internalModelValue))},x=()=>{const C=r.internalModelValue;return s.value.count>0?`${I(C[0])} - ${I(C[1])}`:[I(C[0]),I(C[1])]},I=C=>u2(C,o.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,c()),A=me(()=>!r.internalModelValue||!r.menuMount?"":typeof o.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?x():u.value.enabled?r.internalModelValue.map(C=>`${I(C)}`):r.modelAuto?`${I(r.internalModelValue[0])}`:`${I(r.internalModelValue[0])} -`:I(r.internalModelValue):E()),T=()=>u.value.enabled?"; ":" - ",R=me(()=>Array.isArray(A.value)?A.value.join(T()):A.value),M=()=>{d.value(r.internalModelValue)&&h.value(r.internalModelValue)&&k.value?n("select-date"):n("invalid-select")};return(C,O)=>(re(),ce("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[C.$slots["action-row"]?Me(C.$slots,"action-row",yn(dn({key:0},{internalModelValue:C.internalModelValue,disabled:S.value,selectDate:()=>C.$emit("select-date"),closePicker:()=>C.$emit("close-picker")}))):(re(),ce(Pe,{key:1},[le(i).showPreview?(re(),ce("div",{key:0,class:"dp__selection_preview",title:R.value,style:vn(_.value)},[C.$slots["action-preview"]&&v.value?Me(C.$slots,"action-preview",{key:0,value:C.internalModelValue}):ye("",!0),!C.$slots["action-preview"]&&v.value?(re(),ce(Pe,{key:1},[hn(Ie(R.value),1)],64)):ye("",!0)],12,EU)):ye("",!0),N("div",{ref_key:"actionBtnContainer",ref:b,class:"dp__action_buttons","data-dp-element":"action-row"},[C.$slots["action-buttons"]?Me(C.$slots,"action-buttons",{key:0,value:C.internalModelValue}):ye("",!0),C.$slots["action-buttons"]?ye("",!0):(re(),ce(Pe,{key:1},[!le(l).enabled&&le(i).showCancel?(re(),ce("button",{key:0,ref_key:"cancelButtonRef",ref:m,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[0]||(O[0]=P=>C.$emit("close-picker")),onKeydown:O[1]||(O[1]=P=>le(cr)(P,()=>C.$emit("close-picker")))},Ie(C.cancelText),545)):ye("",!0),le(i).showNow?(re(),ce("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[2]||(O[2]=P=>C.$emit("select-now")),onKeydown:O[3]||(O[3]=P=>le(cr)(P,()=>C.$emit("select-now")))},Ie(C.nowButtonLabel),33)):ye("",!0),le(i).showSelect?(re(),ce("button",{key:2,ref_key:"selectButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_select",disabled:S.value,"data-test":"select-button",onKeydown:O[4]||(O[4]=P=>le(cr)(P,()=>M())),onClick:M},Ie(C.selectText),41,TU)):ye("",!0)],64))],512)],64))],512))}}),kU={class:"dp__selection_grid_header"},xU=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],IU=["aria-label"],Uu=Jt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:o}=qo(),s=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:f,defaultedConfig:u}=Ft(a),{hideNavigationButtons:c}=eh(),d=he(!1),h=he(null),p=he(null),m=he([]),y=he(),v=he(null),_=he(0),b=he(null);ew(()=>{h.value=null}),Tt(()=>{Mn().then(()=>A()),a.noOverlayFocus||w(),g(!0)}),Na(()=>g(!1));const g=F=>{var D;a.arrowNavigation&&((D=a.headerRefs)!=null&&D.length?o(F):r(F))},w=()=>{var F;const D=un(p);D&&(f.value.enabled||(h.value?(F=h.value)==null||F.focus({preventScroll:!0}):D.focus({preventScroll:!0})),d.value=D.clientHeight<D.scrollHeight)},k=me(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),S=me(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=me(()=>({dp__overlay_col:!0})),x=me(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:d.value,dp__button_bottom:a.isLast})),I=me(()=>{var F,D;return{dp__overlay_container:!0,dp__container_flex:((F=a.items)==null?void 0:F.length)<=6,dp__container_block:((D=a.items)==null?void 0:D.length)>6}});rn(()=>a.items,()=>A(!1),{deep:!0});const A=(F=!0)=>{Mn().then(()=>{const D=un(h),K=un(p),z=un(v),j=un(b),V=z?z.getBoundingClientRect().height:0;K&&(K.getBoundingClientRect().height?_.value=K.getBoundingClientRect().height-V:_.value=u.value.modeHeight-V),D&&j&&F&&(j.scrollTop=D.offsetTop-j.offsetTop-(_.value/2-D.getBoundingClientRect().height)-V)})},T=F=>{F.disabled||s("selected",F.value)},R=()=>{s("toggle"),s("reset-flow")},M=()=>{a.escClose&&R()},C=(F,D,K,z)=>{F&&((D.active||D.value===a.focusValue)&&(h.value=F),a.arrowNavigation&&(Array.isArray(m.value[K])?m.value[K][z]=F:m.value[K]=[F],O()))},O=()=>{var F,D;const K=(F=a.headerRefs)!=null&&F.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[v.value]]);i(mn(K),(D=a.headerRefs)!=null&&D.length?"monthPicker":"selectionGrid")},P=F=>{a.arrowNavigation||xo(F,u.value,!0)},X=F=>{y.value=F,s("hover-value",F)},H=()=>{if(R(),!a.isLast){const F=GF(a.menuWrapRef??null,"action-row");if(F){const D=n2(F);D==null||D.focus()}}},U=F=>{switch(F.key){case Mt.esc:return M();case Mt.arrowLeft:return P(F);case Mt.arrowRight:return P(F);case Mt.arrowUp:return P(F);case Mt.arrowDown:return P(F);default:return}},$=F=>{if(F.key===Mt.enter)return R();if(F.key===Mt.tab)return H()};return e({focusGrid:w}),(F,D)=>{var K;return re(),ce("div",{ref_key:"gridWrapRef",ref:p,class:We(k.value),style:vn(S.value),role:"dialog",tabindex:"0",onKeydown:U,onClick:D[0]||(D[0]=Or(()=>{},["prevent"]))},[N("div",{ref_key:"containerRef",ref:b,class:We(I.value),role:"grid",style:vn({"--dp-overlay-height":`${_.value}px`})},[N("div",kU,[Me(F.$slots,"header")]),F.$slots.overlay?Me(F.$slots,"overlay",{key:0}):(re(!0),ce(Pe,{key:1},Xe(F.items,(z,j)=>(re(),ce("div",{key:j,class:We(["dp__overlay_row",{dp__flex_row:F.items.length>=3}]),role:"row"},[(re(!0),ce(Pe,null,Xe(z,(V,Z)=>(re(),ce("div",{key:V.value,ref_for:!0,ref:Y=>C(Y,V,j,Z),role:"gridcell",class:We(E.value),"aria-selected":V.active||void 0,"aria-disabled":V.disabled||void 0,tabindex:"0","data-test":V.text,onClick:Or(Y=>T(V),["prevent"]),onKeydown:Y=>le(cr)(Y,()=>T(V),!0),onMouseover:Y=>X(V.value)},[N("div",{class:We(V.className)},[F.$slots.item?Me(F.$slots,"item",{key:0,item:V}):ye("",!0),F.$slots.item?ye("",!0):(re(),ce(Pe,{key:1},[hn(Ie(V.text),1)],64))],2)],42,xU))),128))],2))),128))],6),F.$slots["button-icon"]?wt((re(),ce("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(K=le(l))==null?void 0:K.toggleOverlay,class:We(x.value),tabindex:"0",onClick:R,onKeydown:$},[Me(F.$slots,"button-icon")],42,IU)),[[Sl,!le(c)(F.hideNavigation,F.type)]]):ye("",!0)],38)}}}),Jf=Jt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=me(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=me(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,o)=>(re(),ce("div",{class:We({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(re(!0),ce(Pe,null,Xe(n.value,(s,a)=>(re(),ce("div",{key:s,class:We(r.value)},[Me(i.$slots,"default",{instance:s,index:a})],2))),128))],2))}}),SU=["aria-label","aria-disabled"],Fl=Jt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=he(null);return Tt(()=>n("set-ref",r)),(i,o)=>(re(),ce("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:o[0]||(o[0]=s=>i.$emit("activate")),onKeydown:o[1]||(o[1]=s=>le(cr)(s,()=>i.$emit("activate"),!0))},[N("span",{class:We(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Me(i.$slots,"default")],2)],40,SU))}}),RU={class:"dp--year-mode-picker"},OU=["aria-label","data-test"],h2=Jt({__name:"YearModePicker",props:{...ti,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:o}=eh(),{defaultedConfig:s,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:f}=Ft(r),{showTransition:u,transitionName:c}=Bu(f),d=(m=!1,y)=>{n("toggle-year-picker",{flow:m,show:y})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,y)=>{var v,_,b;return re(),ce("div",RU,[le(o)(le(a),t.instance)?(re(),je(Fl,{key:0,ref:"mpPrevIconRef","aria-label":(v=le(l))==null?void 0:v.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=g=>p(!1))},{default:ze(()=>[m.$slots["arrow-left"]?Me(m.$slots,"arrow-left",{key:0}):ye("",!0),m.$slots["arrow-left"]?ye("",!0):(re(),je(le(Zv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),N("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(_=le(l))==null?void 0:_.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:y[1]||(y[1]=()=>d(!1)),onKeydown:y[2]||(y[2]=Tw(()=>d(!1),["enter"]))},[m.$slots.year?Me(m.$slots,"year",{key:0,year:t.year}):ye("",!0),m.$slots.year?ye("",!0):(re(),ce(Pe,{key:1},[hn(Ie(t.year),1)],64))],40,OU),le(i)(le(a),t.instance)?(re(),je(Fl,{key:1,ref:"mpNextIconRef","aria-label":(b=le(l))==null?void 0:b.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=g=>p(!0))},{default:ze(()=>[m.$slots["arrow-right"]?Me(m.$slots,"arrow-right",{key:0}):ye("",!0),m.$slots["arrow-right"]?ye("",!0):(re(),je(le(ey),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),qe(Kr,{name:le(c)(t.showYearPicker),css:le(u)},{default:ze(()=>[t.showYearPicker?(re(),je(Uu,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!le(s).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,type:"year",onToggle:d,onSelected:y[4]||(y[4]=g=>h(g))},Wn({"button-icon":ze(()=>[m.$slots["calendar-icon"]?Me(m.$slots,"calendar-icon",{key:0}):ye("",!0),m.$slots["calendar-icon"]?ye("",!0):(re(),je(le(za),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:g})=>[Me(m.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ye("",!0)]),_:3},8,["name","css"])])}}}),uy=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>st(t,r))){const r=e.value.filter(i=>!st(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},cy=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Bt(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},Zf=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},p2=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Ti(Ae(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ti(Ae(t.value),t.timezone))},m2=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(Yt(t,e.value[0])||st(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Bt(t,e.value[1])||st(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],g2=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:o,props:s,filters:a,year:l,month:f,emit:u})=>{const c=me(()=>oy(s.yearRange,s.locale,s.reverseYears)),d=he([!1]),h=me(()=>(x,I)=>{const A=xt($r(new Date),{month:f.value(x),year:l.value(x)}),T=I?Fk(A):Wv(A);return l2(T,r.value.maxDate,r.value.minDate,s.preventMinMaxNavigation,I)}),p=()=>Array.isArray(o.value)&&t.value.solo&&o.value[1],m=()=>{for(let x=0;x<t.value.count;x++)if(x===0)i.value[x]=i.value[0];else if(x===t.value.count-1&&p())i.value[x]={month:ot(o.value[1]),year:it(o.value[1])};else{const I=xt(Ae(),i.value[x-1]);i.value[x]={month:ot(I),year:it(Kv(I,1))}}},y=x=>{if(!x)return m();const I=xt(Ae(),i.value[x]);return i.value[0].year=it(Jk(I,t.value.count-1)),m()},v=(x,I)=>{const A=q$(I,x);return e.value.showLastInRange&&A>1?I:x},_=x=>s.focusStartDate||t.value.solo?x[0]:x[1]?v(x[0],x[1]):x[0],b=()=>{if(o.value){const x=Array.isArray(o.value)?_(o.value):o.value;i.value[0]={month:ot(x),year:it(x)}}};Tt(()=>{b(),t.value.count&&m()});const g=(x,I)=>{i.value[I].year=x,u("update-month-year",{instance:I,year:x,month:i.value[I].month}),t.value.count&&!t.value.solo&&y(I)},w=me(()=>x=>Pa(c.value,I=>{var A;const T=l.value(x)===I.value,R=gu(I.value,Ca(r.value.minDate),Ca(r.value.maxDate))||((A=a.value.years)==null?void 0:A.includes(l.value(x))),M=ly(n.value,I.value);return{active:T,disabled:R,highlighted:M}})),k=(x,I)=>{g(x,I),E(I)},S=(x,I=!1)=>{if(!h.value(x,I)){const A=I?l.value(x)+1:l.value(x)-1;g(A,x)}},E=(x,I=!1,A)=>{I||u("reset-flow"),A!==void 0?d.value[x]=A:d.value[x]=!d.value[x],d.value[x]?u("overlay-toggle",{open:!0,overlay:Hn.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:Hn.year}))};return{isDisabled:h,groupedYears:w,showYearPicker:d,selectYear:g,toggleYearPicker:E,handleYearSelect:k,handleYear:S}},PU=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,defaultedRange:s,defaultedHighlight:a,propDates:l,defaultedTz:f,defaultedFilters:u,defaultedMultiDates:c}=Ft(t),{modelValue:d,year:h,month:p,calendars:m}=ju(t,e),y=me(()=>e2(t.formatLocale,t.locale,t.monthNameFormat)),v=he(null),{checkMinMaxRange:_}=Ho(t),{selectYear:b,groupedYears:g,showYearPicker:w,toggleYearPicker:k,handleYearSelect:S,handleYear:E,isDisabled:x}=g2({modelValue:d,multiCalendars:n,range:s,highlight:a,calendars:m,year:h,propDates:l,month:p,filters:u,props:t,emit:e});Tt(()=>{t.startDate&&(d.value&&t.focusStartDate||!d.value)&&b(it(Ae(t.startDate)),0)});const I=D=>D?{month:ot(D),year:it(D)}:{month:null,year:null},A=()=>d.value?Array.isArray(d.value)?d.value.map(D=>I(D)):I(d.value):I(),T=(D,K)=>{const z=m.value[D],j=A();return Array.isArray(j)?j.some(V=>V.year===(z==null?void 0:z.year)&&V.month===K):(z==null?void 0:z.year)===j.year&&K===j.month},R=(D,K,z)=>{var j,V;const Z=A();return Array.isArray(Z)?h.value(K)===((j=Z[z])==null?void 0:j.year)&&D===((V=Z[z])==null?void 0:V.month):!1},M=(D,K)=>{if(s.value.enabled){const z=A();if(Array.isArray(d.value)&&Array.isArray(z)){const j=R(D,K,0)||R(D,K,1),V=Vi($r(Ae()),D,h.value(K));return Qf(d.value,v.value,V)&&!j}return!1}return!1},C=me(()=>D=>Pa(y.value,K=>{var z;const j=T(D,K.value),V=gu(K.value,i2(h.value(D),l.value.minDate),o2(h.value(D),l.value.maxDate))||rU(l.value.disabledDates,h.value(D)).includes(K.value)||((z=u.value.months)==null?void 0:z.includes(K.value)),Z=M(K.value,D),Y=c2(a.value,K.value,h.value(D));return{active:j,disabled:V,isBetween:Z,highlighted:Y}})),O=(D,K)=>Vi($r(Ae()),D,h.value(K)),P=(D,K)=>{const z=d.value?d.value:$r(new Date);d.value=Vi(z,D,h.value(K)),e("auto-apply"),e("update-flow-step")},X=(D,K)=>{const z=O(D,K);s.value.fixedEnd||s.value.fixedStart?d.value=m2(z,d,e,s):d.value?_(z,d.value)&&(d.value=cy(d,O(D,K),e)):d.value=[O(D,K)],Mn().then(()=>{Zf(d.value,e,t.autoApply,t.modelAuto)})},H=(D,K)=>{uy(O(D,K),d,c.value.limit),e("auto-apply",!0)},U=(D,K)=>(m.value[K].month=D,F(K,m.value[K].year,D),c.value.enabled?H(D,K):s.value.enabled?X(D,K):P(D,K)),$=(D,K)=>{b(D,K),F(K,D,null)},F=(D,K,z)=>{let j=z;if(!j&&j!==0){const V=A();j=Array.isArray(V)?V[D].month:V.month}e("update-month-year",{instance:D,year:K,month:j})};return{groupedMonths:C,groupedYears:g,year:h,isDisabled:x,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,showYearPicker:w,modelValue:d,presetDate:(D,K)=>{p2({value:D,modelValue:d,range:s.value.enabled,timezone:K?void 0:f.value.timezone}),e("auto-apply")},setHoverDate:(D,K)=>{v.value=O(D,K)},selectMonth:U,selectYear:$,toggleYearPicker:k,handleYearSelect:S,handleYear:E,getModelMonthYear:A}},CU=Jt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ti},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=Is(),o=_r(i,"yearMode"),s=t;Tt(()=>{s.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:f,isDisabled:u,defaultedMultiCalendars:c,defaultedConfig:d,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:y,selectMonth:v,selectYear:_,toggleYearPicker:b,handleYearSelect:g,handleYear:w,getModelMonthYear:k}=PU(s,r);return e({getSidebarProps:()=>({modelValue:p,year:f,getModelMonthYear:k,selectMonth:v,selectYear:_,handleYear:w}),presetDate:m,toggleYearPicker:S=>b(0,S)}),(S,E)=>(re(),je(Jf,{"multi-calendars":le(c).count,collapse:S.collapse,stretch:""},{default:ze(({instance:x})=>[S.$slots["top-extra"]?Me(S.$slots,"top-extra",{key:0,value:S.internalModelValue}):ye("",!0),S.$slots["month-year"]?Me(S.$slots,"month-year",yn(dn({key:1},{year:le(f),months:le(a)(x),years:le(l)(x),selectMonth:le(v),selectYear:le(_),instance:x}))):(re(),je(Uu,{key:2,items:le(a)(x),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!le(d).keepActionRow,"esc-close":S.escClose,height:le(d).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:I=>le(v)(I,x),onHoverValue:I=>le(y)(I,x)},Wn({header:ze(()=>[qe(h2,dn(S.$props,{items:le(l)(x),instance:x,"show-year-picker":le(h)[x],year:le(f)(x),"is-disabled":I=>le(u)(x,I),onHandleYear:I=>le(w)(x,I),onYearSelect:I=>le(g)(I,x),onToggleYearPicker:I=>le(b)(x,I==null?void 0:I.flow,I==null?void 0:I.show)}),Wn({_:2},[Xe(le(o),(I,A)=>({name:I,fn:ze(T=>[Me(S.$slots,I,yn(tr(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[S.$slots["month-overlay-value"]?{name:"item",fn:ze(({item:I})=>[Me(S.$slots,"month-overlay-value",{text:I.text,value:I.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),DU=(t,e)=>{const{modelValue:n}=ju(t,e),r=he(null),{defaultedHighlight:i,defaultedMultiDates:o,defaultedFilters:s,defaultedRange:a,propDates:l}=Ft(t),f=he();Tt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(f.value=it(Ae(t.startDate)))});const u=p=>Array.isArray(n.value)?n.value.some(m=>it(m)===p):n.value?it(n.value)===p:!1,c=p=>a.value.enabled&&Array.isArray(n.value)?Qf(n.value,r.value,h(p)):!1,d=me(()=>Pa(oy(t.yearRange,t.locale,t.reverseYears),p=>{const m=u(p.value),y=gu(p.value,Ca(l.value.minDate),Ca(l.value.maxDate))||s.value.years.includes(p.value),v=c(p.value)&&!m,_=ly(i.value,p.value);return{active:m,disabled:y,isBetween:v,highlighted:_}})),h=p=>mi($r(new Date),p);return{groupedYears:d,modelValue:n,focusYear:f,setHoverValue:p=>{r.value=mi($r(new Date),p)},selectYear:p=>{var m;if(e("update-month-year",{instance:0,year:p}),o.value.enabled)return n.value?Array.isArray(n.value)&&(((m=n.value)==null?void 0:m.map(y=>it(y))).includes(p)?n.value=n.value.filter(y=>it(y)!==p):n.value.push(mi(rr(Ae()),p))):n.value=[mi(rr(Ae()),p)],e("auto-apply",!0);a.value.enabled?(n.value=cy(n,h(p),e),Mn().then(()=>{Zf(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},NU=Jt({compatConfig:{MODE:3},__name:"YearPicker",props:{...ti},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:o,modelValue:s,focusYear:a,selectYear:l,setHoverValue:f}=DU(i,r),{defaultedConfig:u}=Ft(i);return e({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(c,d)=>(re(),ce("div",null,[c.$slots["top-extra"]?Me(c.$slots,"top-extra",{key:0,value:c.internalModelValue}):ye("",!0),c.$slots["month-year"]?Me(c.$slots,"month-year",yn(dn({key:1},{years:le(o),selectYear:le(l)}))):(re(),je(Uu,{key:2,items:le(o),"is-last":c.autoApply&&!le(u).keepActionRow,height:le(u).modeHeight,config:c.config,"no-overlay-focus":!!(c.noOverlayFocus||c.textInput),"focus-value":le(a),type:"year","use-relative":"",onSelected:le(l),onHoverValue:le(f)},Wn({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:ze(({item:h})=>[Me(c.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),MU={key:0,class:"dp__time_input"},LU=["data-test","aria-label","onKeydown","onClick","onMousedown"],$U=N("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),VU=N("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),FU=["aria-label","disabled","data-test","onKeydown","onClick"],UU=["data-test","aria-label","onKeydown","onClick","onMousedown"],BU=N("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),jU=N("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),qU={key:0},HU=["aria-label"],zU=Jt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ti},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:o,setTimePickerBackRef:s}=qo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:f,defaultedConfig:u,defaultedRange:c}=Ft(i),{transitionName:d,showTransition:h}=Bu(l),p=Jr({hours:!1,minutes:!1,seconds:!1}),m=he("AM"),y=he(null),v=he([]),_=he();Tt(()=>{r("mounted")});const b=ee=>xt(new Date,{hours:ee.hours,minutes:ee.minutes,seconds:i.enableSeconds?ee.seconds:0,milliseconds:0}),g=me(()=>ee=>O(ee,i[ee])||k(ee,i[ee])),w=me(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),k=(ee,q)=>c.value.enabled&&!c.value.disableTimeRangeValidation?!i.validateTime(ee,q):!1,S=(ee,q)=>{if(c.value.enabled&&!c.value.disableTimeRangeValidation){const Q=q?+i[`${ee}Increment`]:-+i[`${ee}Increment`],B=i[ee]+Q;return!i.validateTime(ee,B)}return!1},E=me(()=>ee=>!$(+i[ee]+ +i[`${ee}Increment`],ee)||S(ee,!0)),x=me(()=>ee=>!$(+i[ee]-+i[`${ee}Increment`],ee)||S(ee,!1)),I=(ee,q)=>Ck(xt(Ae(),ee),q),A=(ee,q)=>VF(xt(Ae(),ee),q),T=me(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),R=me(()=>{const ee=[{type:"hours"}];return i.enableMinutes&&ee.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&ee.push({type:"",separator:!0},{type:"seconds"}),ee}),M=me(()=>R.value.filter(ee=>!ee.separator)),C=me(()=>ee=>{if(ee==="hours"){const q=V(+i.hours);return{text:q<10?`0${q}`:`${q}`,value:q}}return{text:i[ee]<10?`0${i[ee]}`:`${i[ee]}`,value:i[ee]}}),O=(ee,q)=>{var Q;if(!i.disabledTimesConfig)return!1;const B=i.disabledTimesConfig(i.order,ee==="hours"?q:void 0);return B[ee]?!!((Q=B[ee])!=null&&Q.includes(q)):!0},P=(ee,q)=>q!=="hours"||m.value==="AM"?ee:ee+12,X=ee=>{const q=i.is24?24:12,Q=ee==="hours"?q:60,B=+i[`${ee}GridIncrement`],se=ee==="hours"&&!i.is24?B:0,G=[];for(let W=se;W<Q;W+=B)G.push({value:i.is24?W:P(W,ee),text:W<10?`0${W}`:`${W}`});return ee==="hours"&&!i.is24&&G.unshift({value:m.value==="PM"?12:0,text:"12"}),Pa(G,W=>({active:!1,disabled:f.value.times[ee].includes(W.value)||!$(W.value,ee)||O(ee,W.value)||k(ee,W.value)}))},H=ee=>ee>=0?ee:59,U=ee=>ee>=0?ee:23,$=(ee,q)=>{const Q=i.minTime?b(Sp(i.minTime)):null,B=i.maxTime?b(Sp(i.maxTime)):null,se=b(Sp(w.value,q,q==="minutes"||q==="seconds"?H(ee):U(ee)));return Q&&B?(mu(se,B)||ta(se,B))&&(Ra(se,Q)||ta(se,Q)):Q?Ra(se,Q)||ta(se,Q):B?mu(se,B)||ta(se,B):!0},F=ee=>i[`no${ee[0].toUpperCase()+ee.slice(1)}Overlay`],D=ee=>{F(ee)||(p[ee]=!p[ee],p[ee]?r("overlay-opened",ee):r("overlay-closed",ee))},K=ee=>ee==="hours"?Yi:ee==="minutes"?No:Sa,z=()=>{_.value&&clearTimeout(_.value)},j=(ee,q=!0,Q)=>{const B=q?I:A,se=q?+i[`${ee}Increment`]:-+i[`${ee}Increment`];$(+i[ee]+se,ee)&&r(`update:${ee}`,K(ee)(B({[ee]:+i[ee]},{[ee]:+i[`${ee}Increment`]}))),!(Q!=null&&Q.keyboard)&&u.value.timeArrowHoldThreshold&&(_.value=setTimeout(()=>{j(ee,q)},u.value.timeArrowHoldThreshold))},V=ee=>i.is24?ee:(ee>=12?m.value="PM":m.value="AM",HF(ee)),Z=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},Y=ee=>{p[ee]=!0},ie=(ee,q,Q)=>{if(ee&&i.arrowNavigation){Array.isArray(v.value[q])?v.value[q][Q]=ee:v.value[q]=[ee];const B=v.value.reduce((se,G)=>G.map((W,ne)=>[...se[ne]||[],G[ne]]),[]);s(i.closeTimePickerBtn),y.value&&(B[1]=B[1].concat(y.value)),o(B,i.order)}},ue=(ee,q)=>(D(ee),r(`update:${ee}`,q));return e({openChildCmp:Y}),(ee,q)=>{var Q;return ee.disabled?ye("",!0):(re(),ce("div",MU,[(re(!0),ce(Pe,null,Xe(R.value,(B,se)=>{var G,W,ne;return re(),ce("div",{key:se,class:We(T.value)},[B.separator?(re(),ce(Pe,{key:0},[hn(" : ")],64)):(re(),ce(Pe,{key:1},[N("button",{ref_for:!0,ref:oe=>ie(oe,se,0),type:"button",class:We({dp__btn:!0,dp__inc_dec_button:!ee.timePickerInline,dp__inc_dec_button_inline:ee.timePickerInline,dp__tp_inline_btn_top:ee.timePickerInline,dp__inc_dec_button_disabled:E.value(B.type)}),"data-test":`${B.type}-time-inc-btn-${i.order}`,"aria-label":(G=le(a))==null?void 0:G.incrementValue(B.type),tabindex:"0",onKeydown:oe=>le(cr)(oe,()=>j(B.type,!0,{keyboard:!0}),!0),onClick:oe=>le(u).timeArrowHoldThreshold?void 0:j(B.type,!0),onMousedown:oe=>le(u).timeArrowHoldThreshold?j(B.type,!0):void 0,onMouseup:z},[i.timePickerInline?(re(),ce(Pe,{key:1},[$U,VU],64)):(re(),ce(Pe,{key:0},[ee.$slots["arrow-up"]?Me(ee.$slots,"arrow-up",{key:0}):ye("",!0),ee.$slots["arrow-up"]?ye("",!0):(re(),je(le(ny),{key:1}))],64))],42,LU),N("button",{ref_for:!0,ref:oe=>ie(oe,se,1),type:"button","aria-label":(W=le(a))==null?void 0:W.openTpOverlay(B.type),class:We({dp__time_display:!0,dp__time_display_block:!ee.timePickerInline,dp__time_display_inline:ee.timePickerInline,"dp--time-invalid":g.value(B.type),"dp--time-overlay-btn":!g.value(B.type)}),disabled:F(B.type),tabindex:"0","data-test":`${B.type}-toggle-overlay-btn-${i.order}`,onKeydown:oe=>le(cr)(oe,()=>D(B.type),!0),onClick:oe=>D(B.type)},[ee.$slots[B.type]?Me(ee.$slots,B.type,{key:0,text:C.value(B.type).text,value:C.value(B.type).value}):ye("",!0),ee.$slots[B.type]?ye("",!0):(re(),ce(Pe,{key:1},[hn(Ie(C.value(B.type).text),1)],64))],42,FU),N("button",{ref_for:!0,ref:oe=>ie(oe,se,2),type:"button",class:We({dp__btn:!0,dp__inc_dec_button:!ee.timePickerInline,dp__inc_dec_button_inline:ee.timePickerInline,dp__tp_inline_btn_bottom:ee.timePickerInline,dp__inc_dec_button_disabled:x.value(B.type)}),"data-test":`${B.type}-time-dec-btn-${i.order}`,"aria-label":(ne=le(a))==null?void 0:ne.decrementValue(B.type),tabindex:"0",onKeydown:oe=>le(cr)(oe,()=>j(B.type,!1,{keyboard:!0}),!0),onClick:oe=>le(u).timeArrowHoldThreshold?void 0:j(B.type,!1),onMousedown:oe=>le(u).timeArrowHoldThreshold?j(B.type,!1):void 0,onMouseup:z},[i.timePickerInline?(re(),ce(Pe,{key:1},[BU,jU],64)):(re(),ce(Pe,{key:0},[ee.$slots["arrow-down"]?Me(ee.$slots,"arrow-down",{key:0}):ye("",!0),ee.$slots["arrow-down"]?ye("",!0):(re(),je(le(ry),{key:1}))],64))],42,UU)],64))],2)}),128)),ee.is24?ye("",!0):(re(),ce("div",qU,[ee.$slots["am-pm-button"]?Me(ee.$slots,"am-pm-button",{key:0,toggle:Z,value:m.value}):ye("",!0),ee.$slots["am-pm-button"]?ye("",!0):(re(),ce("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Q=le(a))==null?void 0:Q.amPmButton,tabindex:"0",onClick:Z,onKeydown:q[0]||(q[0]=B=>le(cr)(B,()=>Z(),!0))},Ie(m.value),41,HU))])),(re(!0),ce(Pe,null,Xe(M.value,(B,se)=>(re(),je(Kr,{key:se,name:le(d)(p[B.type]),css:le(h)},{default:ze(()=>[p[B.type]?(re(),je(Uu,{key:0,items:X(B.type),"is-last":ee.autoApply&&!le(u).keepActionRow,"esc-close":ee.escClose,type:B.type,"text-input":ee.textInput,config:ee.config,"arrow-navigation":ee.arrowNavigation,"aria-labels":ee.ariaLabels,onSelected:G=>ue(B.type,G),onToggle:G=>D(B.type),onResetFlow:q[1]||(q[1]=G=>ee.$emit("reset-flow"))},Wn({"button-icon":ze(()=>[ee.$slots["clock-icon"]?Me(ee.$slots,"clock-icon",{key:0}):ye("",!0),ee.$slots["clock-icon"]?ye("",!0):(re(),je(Xd(ee.timePickerInline?le(za):le(ty)),{key:1}))]),_:2},[ee.$slots[`${B.type}-overlay-value`]?{name:"item",fn:ze(({item:G})=>[Me(ee.$slots,`${B.type}-overlay-value`,{text:G.text,value:G.value})]),key:"0"}:void 0,ee.$slots[`${B.type}-overlay-header`]?{name:"header",fn:ze(()=>[Me(ee.$slots,`${B.type}-overlay-header`,{toggle:()=>D(B.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),KU={class:"dp--tp-wrap"},WU=["aria-label","tabindex"],YU=["tabindex"],GU=["aria-label"],v2=Jt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ti},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:o,setTimePicker:s}=qo(),a=Is(),{defaultedTransitions:l,defaultedAriaLabels:f,defaultedTextInput:u,defaultedConfig:c,defaultedRange:d}=Ft(i),{transitionName:h,showTransition:p}=Bu(l),{hideNavigationButtons:m}=eh(),y=he(null),v=he(null),_=he([]),b=he(null);Tt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?o([un(y.value)],"time"):s(!0,i.timePicker)});const g=me(()=>d.value.enabled&&i.modelAuto?t2(i.internalModelValue):!0),w=he(!1),k=P=>({hours:Array.isArray(i.hours)?i.hours[P]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[P]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[P]:i.seconds}),S=me(()=>{const P=[];if(d.value.enabled)for(let X=0;X<2;X++)P.push(k(X));else P.push(k(0));return P}),E=(P,X=!1,H="")=>{X||r("reset-flow"),w.value=P,r(P?"overlay-opened":"overlay-closed",Hn.time),i.arrowNavigation&&s(P),Mn(()=>{H!==""&&_.value[0]&&_.value[0].openChildCmp(H)})},x=me(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!c.value.keepActionRow})),I=_r(a,"timePicker"),A=(P,X,H)=>d.value.enabled?X===0?[P,S.value[1][H]]:[S.value[0][H],P]:P,T=P=>{r("update:hours",P)},R=P=>{r("update:minutes",P)},M=P=>{r("update:seconds",P)},C=()=>{if(b.value&&!u.value.enabled&&!i.noOverlayFocus){const P=n2(b.value);P&&P.focus({preventScroll:!0})}},O=P=>{r("overlay-closed",P)};return e({toggleTimePicker:E}),(P,X)=>{var H;return re(),ce("div",KU,[!P.timePicker&&!P.timePickerInline?wt((re(),ce("button",{key:0,ref_key:"openTimePickerBtn",ref:y,type:"button",class:We(x.value),"aria-label":(H=le(f))==null?void 0:H.openTimePicker,tabindex:P.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:X[0]||(X[0]=U=>le(cr)(U,()=>E(!0))),onClick:X[1]||(X[1]=U=>E(!0))},[P.$slots["clock-icon"]?Me(P.$slots,"clock-icon",{key:0}):ye("",!0),P.$slots["clock-icon"]?ye("",!0):(re(),je(le(ty),{key:1}))],42,WU)),[[Sl,!le(m)(P.hideNavigation,"time")]]):ye("",!0),qe(Kr,{name:le(h)(w.value),css:le(p)&&!P.timePickerInline},{default:ze(()=>{var U;return[w.value||P.timePicker||P.timePickerInline?(re(),ce("div",{key:0,ref_key:"overlayRef",ref:b,class:We({dp__overlay:!P.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!P.timePickerInline,"dp--overlay-relative":i.timePicker}),style:vn(P.timePicker?{height:`${le(c).modeHeight}px`}:void 0),tabindex:P.timePickerInline?void 0:0},[N("div",{class:We(P.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[P.$slots["time-picker-overlay"]?Me(P.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:T,setMinutes:R,setSeconds:M}):ye("",!0),P.$slots["time-picker-overlay"]?ye("",!0):(re(),ce("div",{key:1,class:We(P.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(re(!0),ce(Pe,null,Xe(S.value,($,F)=>wt((re(),je(zU,dn({key:F,ref_for:!0},{...P.$props,order:F,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:F===0?P.fixedStart:P.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:_,"validate-time":(D,K)=>t.validateTime(D,A(K,F,D)),"onUpdate:hours":D=>T(A(D,F,"hours")),"onUpdate:minutes":D=>R(A(D,F,"minutes")),"onUpdate:seconds":D=>M(A(D,F,"seconds")),onMounted:C,onOverlayClosed:O,onOverlayOpened:X[2]||(X[2]=D=>P.$emit("overlay-opened",D)),onAmPmChange:X[3]||(X[3]=D=>P.$emit("am-pm-change",D))}),Wn({_:2},[Xe(le(I),(D,K)=>({name:D,fn:ze(z=>[Me(P.$slots,D,dn({ref_for:!0},z))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Sl,F===0?!0:g.value]])),128))],2)),!P.timePicker&&!P.timePickerInline?wt((re(),ce("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:We(x.value),"aria-label":(U=le(f))==null?void 0:U.closeTimePicker,tabindex:"0",onKeydown:X[4]||(X[4]=$=>le(cr)($,()=>E(!1))),onClick:X[5]||(X[5]=$=>E(!1))},[P.$slots["calendar-icon"]?Me(P.$slots,"calendar-icon",{key:0}):ye("",!0),P.$slots["calendar-icon"]?ye("",!0):(re(),je(le(za),{key:1}))],42,GU)),[[Sl,!le(m)(P.hideNavigation,"time")]]):ye("",!0)],2)],14,YU)):ye("",!0)]}),_:3},8,["name","css"])])}}}),y2=(t,e,n,r)=>{const{defaultedRange:i}=Ft(t),o=(b,g)=>Array.isArray(e[b])?e[b][g]:e[b],s=b=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[b]:e.seconds:0,a=(b,g)=>b?g!==void 0?Io(b,o("hours",g),o("minutes",g),s(g)):Io(b,e.hours,e.minutes,s()):Xk(Ae(),s(g)),l=(b,g)=>{e[b]=g},f=me(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),u=(b,g)=>{const w=Object.fromEntries(Object.keys(e).map(k=>k===b?[k,g]:[k,e[k]].slice()));if(f.value&&!i.value.disableTimeRangeValidation){const k=E=>n.value?Io(n.value[E],w.hours[E],w.minutes[E],w.seconds[E]):null,S=E=>Qk(n.value[E],0);return!(st(k(0),k(1))&&(Ra(k(0),S(1))||mu(k(1),S(0))))}return!0},c=(b,g)=>{u(b,g)&&(l(b,g),r&&r())},d=b=>{c("hours",b)},h=b=>{c("minutes",b)},p=b=>{c("seconds",b)},m=(b,g,w,k)=>{g&&d(b),!g&&!w&&h(b),w&&p(b),n.value&&k(n.value)},y=b=>{if(b){const g=Array.isArray(b),w=g?[+b[0].hours,+b[1].hours]:+b.hours,k=g?[+b[0].minutes,+b[1].minutes]:+b.minutes,S=g?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",w),l("minutes",k),t.enableSeconds&&l("seconds",S)}},v=(b,g)=>{const w={hours:Array.isArray(e.hours)?e.hours[b]:e.hours,disabledArr:[]};return(g||g===0)&&(w.hours=g),Array.isArray(t.disabledTimes)&&(w.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[b])?t.disabledTimes[b]:t.disabledTimes),w},_=me(()=>(b,g)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:k,hours:S}=v(b,g),E=k.filter(x=>+x.hours===S);return((w=E[0])==null?void 0:w.minutes)==="*"?{hours:[S],minutes:void 0,seconds:void 0}:{hours:[],minutes:(E==null?void 0:E.map(x=>+x.minutes))??[],seconds:(E==null?void 0:E.map(x=>x.seconds?+x.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:d,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:m,getSecondsValue:s,assignStartTime:y,validateTime:u,disabledTimesConfig:_}},QU=(t,e)=>{const{modelValue:n,time:r}=ju(t,e),{defaultedStartTime:i,defaultedRange:o}=Ft(t),{updateTimeValues:s,getSetDateTime:a,setTime:l,assignStartTime:f,disabledTimesConfig:u,validateTime:c}=y2(t,r,n,d);function d(){e("update-flow-step")}const h=g=>{const{hours:w,minutes:k,seconds:S}=g;return{hours:+w,minutes:+k,seconds:S?+S:0}},p=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),k=h(t.startTime[1]);return[xt(Ae(),w),xt(Ae(),k)]}const g=h(t.startTime);return xt(Ae(),g)}return o.value.enabled?[null,null]:null},m=()=>{if(o.value.enabled){const[g,w]=p();n.value=[a(g,0),a(w,1)]}else n.value=a(p())},y=g=>Array.isArray(g)?[ps(Ae(g[0])),ps(Ae(g[1]))]:[ps(g??Ae())],v=(g,w,k)=>{l("hours",g),l("minutes",w),l("seconds",t.enableSeconds?k:0)},_=()=>{const[g,w]=y(n.value);return o.value.enabled?v([g.hours,w.hours],[g.minutes,w.minutes],[g.seconds,w.seconds]):v(g.hours,g.minutes,g.seconds)};Tt(()=>{if(!t.shadow)return f(i.value),n.value?_():m()});const b=()=>{Array.isArray(n.value)?n.value=n.value.map((g,w)=>g&&a(g,w)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(g,w=!0,k=!1)=>{s(g,w,k,b)},validateTime:c}},XU=Jt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ti},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=Is(),s=_r(o,"timePicker"),a=he(null),{time:l,modelValue:f,disabledTimesConfig:u,updateTime:c,validateTime:d}=QU(i,r);return Tt(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:f,time:l,updateTime:c}),toggleTimePicker:(h,p=!1,m="")=>{var y;(y=a.value)==null||y.toggleTimePicker(h,p,m)}}),(h,p)=>(re(),je(Jf,{"multi-calendars":0,stretch:""},{default:ze(()=>[qe(v2,dn({ref_key:"tpRef",ref:a},h.$props,{hours:le(l).hours,minutes:le(l).minutes,seconds:le(l).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":le(u),"validate-time":le(d),"onUpdate:hours":p[0]||(p[0]=m=>le(c)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>le(c)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>le(c)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m)),onResetFlow:p[4]||(p[4]=m=>h.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=m=>h.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:p[6]||(p[6]=m=>h.$emit("overlay-toggle",{open:!0,overlay:m}))}),Wn({_:2},[Xe(le(s),(m,y)=>({name:m,fn:ze(v=>[Me(h.$slots,m,yn(tr(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),JU={class:"dp--header-wrap"},ZU={key:0,class:"dp__month_year_wrap"},e8={key:0},t8={class:"dp__month_year_wrap"},n8=["aria-label","data-test","onClick","onKeydown"],r8=Jt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ti},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:o,defaultedAriaLabels:s,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:f,defaultedHighlight:u,propDates:c}=Ft(i),{transitionName:d,showTransition:h}=Bu(o),{buildMatrix:p}=qo(),{handleMonthYearChange:m,isDisabled:y,updateMonthYear:v}=wU(i,r),{showLeftIcon:_,showRightIcon:b}=eh(),g=he(!1),w=he(!1),k=he([null,null,null,null]);Tt(()=>{r("mount")});const S=$=>({get:()=>i[$],set:F=>{const D=$===Nr.month?Nr.year:Nr.month;r("update-month-year",{[$]:F,[D]:i[D]}),$===Nr.month?C(!0):O(!0)}}),E=me(S(Nr.month)),x=me(S(Nr.year)),I=me(()=>$=>({month:i.month,year:i.year,items:$===Nr.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:$===Nr.month?C:O})),A=me(()=>i.months.find(F=>F.value===i.month)||{text:"",value:0}),T=me(()=>Pa(i.months,$=>{const F=i.month===$.value,D=gu($.value,i2(i.year,c.value.minDate),o2(i.year,c.value.maxDate))||l.value.months.includes($.value),K=c2(u.value,$.value,i.year);return{active:F,disabled:D,highlighted:K}})),R=me(()=>Pa(i.years,$=>{const F=i.year===$.value,D=gu($.value,Ca(c.value.minDate),Ca(c.value.maxDate))||l.value.years.includes($.value),K=ly(u.value,$.value);return{active:F,disabled:D,highlighted:K}})),M=($,F,D)=>{D!==void 0?$.value=D:$.value=!$.value,$.value?r("overlay-opened",F):r("overlay-closed",F)},C=($=!1,F)=>{P($),M(g,Hn.month,F)},O=($=!1,F)=>{P($),M(w,Hn.year,F)},P=$=>{$||r("reset-flow")},X=($,F)=>{i.arrowNavigation&&(k.value[F]=un($),p(k.value,"monthYear"))},H=me(()=>{var $,F;return[{type:Nr.month,index:1,toggle:C,modelValue:E.value,updateModelValue:D=>E.value=D,text:A.value.text,showSelectionGrid:g.value,items:T.value,ariaLabel:($=s.value)==null?void 0:$.openMonthsOverlay},{type:Nr.year,index:2,toggle:O,modelValue:x.value,updateModelValue:D=>x.value=D,text:r2(i.year,i.locale),showSelectionGrid:w.value,items:R.value,ariaLabel:(F=s.value)==null?void 0:F.openYearsOverlay}]}),U=me(()=>i.disableYearSelect?[H.value[0]]:i.yearFirst?[...H.value].reverse():H.value);return e({toggleMonthPicker:C,toggleYearPicker:O,handleMonthYearChange:m}),($,F)=>{var D,K,z;return re(),ce("div",JU,[$.$slots["month-year"]?(re(),ce("div",ZU,[Me($.$slots,"month-year",yn(tr({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:le(v),handleMonthYearChange:le(m),instance:t.instance})))])):(re(),ce(Pe,{key:1},[$.$slots["top-extra"]?(re(),ce("div",e8,[Me($.$slots,"top-extra",{value:$.internalModelValue})])):ye("",!0),N("div",t8,[le(_)(le(a),t.instance)&&!$.vertical?(re(),je(Fl,{key:0,"aria-label":(D=le(s))==null?void 0:D.prevMonth,disabled:le(y)(!1),onActivate:F[0]||(F[0]=j=>le(m)(!1,!0)),onSetRef:F[1]||(F[1]=j=>X(j,0))},{default:ze(()=>[$.$slots["arrow-left"]?Me($.$slots,"arrow-left",{key:0}):ye("",!0),$.$slots["arrow-left"]?ye("",!0):(re(),je(le(Zv),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),N("div",{class:We(["dp__month_year_wrap",{dp__year_disable_select:$.disableYearSelect}])},[(re(!0),ce(Pe,null,Xe(U.value,(j,V)=>(re(),ce(Pe,{key:j.type},[N("button",{ref_for:!0,ref:Z=>X(Z,V+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":j.ariaLabel,"data-test":`${j.type}-toggle-overlay-${t.instance}`,onClick:j.toggle,onKeydown:Z=>le(cr)(Z,()=>j.toggle(),!0)},[$.$slots[j.type]?Me($.$slots,j.type,{key:0,text:j.text,value:i[j.type]}):ye("",!0),$.$slots[j.type]?ye("",!0):(re(),ce(Pe,{key:1},[hn(Ie(j.text),1)],64))],40,n8),qe(Kr,{name:le(d)(j.showSelectionGrid),css:le(h)},{default:ze(()=>[j.showSelectionGrid?(re(),je(Uu,{key:0,items:j.items,"arrow-navigation":$.arrowNavigation,"hide-navigation":$.hideNavigation,"is-last":$.autoApply&&!le(f).keepActionRow,"skip-button-ref":!1,config:$.config,type:j.type,"header-refs":[],"esc-close":$.escClose,"menu-wrap-ref":$.menuWrapRef,"text-input":$.textInput,"aria-labels":$.ariaLabels,onSelected:j.updateModelValue,onToggle:j.toggle},Wn({"button-icon":ze(()=>[$.$slots["calendar-icon"]?Me($.$slots,"calendar-icon",{key:0}):ye("",!0),$.$slots["calendar-icon"]?ye("",!0):(re(),je(le(za),{key:1}))]),_:2},[$.$slots[`${j.type}-overlay-value`]?{name:"item",fn:ze(({item:Z})=>[Me($.$slots,`${j.type}-overlay-value`,{text:Z.text,value:Z.value})]),key:"0"}:void 0,$.$slots[`${j.type}-overlay`]?{name:"overlay",fn:ze(()=>[Me($.$slots,`${j.type}-overlay`,dn({ref_for:!0},I.value(j.type)))]),key:"1"}:void 0,$.$slots[`${j.type}-overlay-header`]?{name:"header",fn:ze(()=>[Me($.$slots,`${j.type}-overlay-header`,{toggle:j.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ye("",!0)]),_:2},1032,["name","css"])],64))),128))],2),le(_)(le(a),t.instance)&&$.vertical?(re(),je(Fl,{key:1,"aria-label":(K=le(s))==null?void 0:K.prevMonth,disabled:le(y)(!1),onActivate:F[2]||(F[2]=j=>le(m)(!1,!0))},{default:ze(()=>[$.$slots["arrow-up"]?Me($.$slots,"arrow-up",{key:0}):ye("",!0),$.$slots["arrow-up"]?ye("",!0):(re(),je(le(ny),{key:1}))]),_:3},8,["aria-label","disabled"])):ye("",!0),le(b)(le(a),t.instance)?(re(),je(Fl,{key:2,ref:"rightIcon",disabled:le(y)(!0),"aria-label":(z=le(s))==null?void 0:z.nextMonth,onActivate:F[3]||(F[3]=j=>le(m)(!0,!0)),onSetRef:F[4]||(F[4]=j=>X(j,$.disableYearSelect?2:3))},{default:ze(()=>[$.$slots[$.vertical?"arrow-down":"arrow-right"]?Me($.$slots,$.vertical?"arrow-down":"arrow-right",{key:0}):ye("",!0),$.$slots[$.vertical?"arrow-down":"arrow-right"]?ye("",!0):(re(),je(Xd($.vertical?le(ry):le(ey)),{key:1}))]),_:3},8,["disabled","aria-label"])):ye("",!0)])],64))])}}}),i8=["aria-label"],o8={class:"dp__calendar_header",role:"row"},s8={key:0,class:"dp__calendar_header_item",role:"gridcell"},a8=["aria-label"],l8=N("div",{class:"dp__calendar_header_separator"},null,-1),u8=["aria-label"],c8={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},d8={class:"dp__cell_inner"},f8=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],h8=Jt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ti},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:o}=qo(),{defaultedTransitions:s,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:f,defaultedWeekNumbers:u,defaultedMultiDates:c}=Ft(i),d=he(null),h=he({bottom:"",left:"",transform:""}),p=he([]),m=he(null),y=he(!0),v=he(""),_=he({startX:0,endX:0,startY:0,endY:0}),b=he([]),g=he({left:"50%"}),w=he(!1),k=me(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),S=me(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):qF(i.formatLocale,i.locale,+i.weekStart));Tt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",X,{passive:!1}),m.value.addEventListener("touchend",H,{passive:!1}),m.value.addEventListener("touchmove",U,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",D,{passive:!1})});const E=Y=>Y?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",x=(Y,ie)=>{if(i.transitions){const ue=rr(Vi(Ae(),i.month,i.year));v.value=Yt(rr(Vi(Ae(),Y,ie)),ue)?s.value[E(!0)]:s.value[E(!1)],y.value=!1,Mn(()=>{y.value=!0})}},I=me(()=>({[i.calendarClassName]:!!i.calendarClassName})),A=me(()=>Y=>{const ie=zF(Y);return{dp__marker_dot:ie.type==="dot",dp__marker_line:ie.type==="line"}}),T=me(()=>Y=>st(Y,d.value)),R=me(()=>({dp__calendar:!0,dp__calendar_next:f.value.count>0&&i.instance!==0})),M=me(()=>Y=>i.hideOffsetDates?Y.current:!0),C=async(Y,ie,ue)=>{const ee=un(p.value[ie][ue]);if(ee){const{width:q,height:Q}=ee.getBoundingClientRect();d.value=Y.value;let B={left:`${q/2}px`},se=-50;if(await Mn(),b.value[0]){const{left:G,width:W}=b.value[0].getBoundingClientRect();G<0&&(B={left:"0"},se=0,g.value.left=`${q/2}px`),window.innerWidth<G+W&&(B={right:"0"},se=0,g.value.left=`${W-q/2}px`)}h.value={bottom:`${Q}px`,...B,transform:`translateX(${se}%)`},r("tooltip-open",Y.marker)}},O=async(Y,ie,ue)=>{var ee,q;if(w.value&&c.value.enabled&&c.value.dragSelect)return r("select-date",Y);r("set-hover-date",Y),(q=(ee=Y.marker)==null?void 0:ee.tooltip)!=null&&q.length&&await C(Y,ie,ue)},P=Y=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Y.marker))},X=Y=>{_.value.startX=Y.changedTouches[0].screenX,_.value.startY=Y.changedTouches[0].screenY},H=Y=>{_.value.endX=Y.changedTouches[0].screenX,_.value.endY=Y.changedTouches[0].screenY,$()},U=Y=>{i.vertical&&!i.inline&&Y.preventDefault()},$=()=>{const Y=i.vertical?"Y":"X";Math.abs(_.value[`start${Y}`]-_.value[`end${Y}`])>10&&r("handle-swipe",_.value[`start${Y}`]>_.value[`end${Y}`]?"right":"left")},F=(Y,ie,ue)=>{Y&&(Array.isArray(p.value[ie])?p.value[ie][ue]=Y:p.value[ie]=[Y]),i.arrowNavigation&&o(p.value,"calendar")},D=Y=>{i.monthChangeOnScroll&&(Y.preventDefault(),r("handle-scroll",Y))},K=Y=>u.value.type==="local"?Qv(Y.value,{weekStartsOn:+i.weekStart}):u.value.type==="iso"?Yv(Y.value):typeof u.value.type=="function"?u.value.type(Y.value):"",z=Y=>{const ie=Y[0];return u.value.hideOnOffsetDates?Y.some(ue=>ue.current)?K(ie):"":K(ie)},j=(Y,ie)=>{c.value.enabled||(xo(Y,a.value),r("select-date",ie))},V=Y=>{xo(Y,a.value)},Z=Y=>{c.value.enabled&&c.value.dragSelect?(w.value=!0,r("select-date",Y)):c.value.enabled&&r("select-date",Y)};return e({triggerTransition:x}),(Y,ie)=>{var ue;return re(),ce("div",{class:We(R.value)},[N("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:We(I.value),"aria-label":(ue=le(l))==null?void 0:ue.calendarWrap},[N("div",o8,[Y.weekNumbers?(re(),ce("div",s8,Ie(Y.weekNumName),1)):ye("",!0),(re(!0),ce(Pe,null,Xe(S.value,(ee,q)=>{var Q,B;return re(),ce("div",{key:q,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(B=(Q=le(l))==null?void 0:Q.weekDay)==null?void 0:B.call(Q,q)},[Y.$slots["calendar-header"]?Me(Y.$slots,"calendar-header",{key:0,day:ee,index:q}):ye("",!0),Y.$slots["calendar-header"]?ye("",!0):(re(),ce(Pe,{key:1},[hn(Ie(ee),1)],64))],8,a8)}),128))]),l8,qe(Kr,{name:v.value,css:!!Y.transitions},{default:ze(()=>{var ee;return[y.value?(re(),ce("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((ee=le(l))==null?void 0:ee.calendarDays)||void 0,onMouseleave:ie[1]||(ie[1]=q=>w.value=!1)},[(re(!0),ce(Pe,null,Xe(k.value,(q,Q)=>(re(),ce("div",{key:Q,class:"dp__calendar_row",role:"row"},[Y.weekNumbers?(re(),ce("div",c8,[N("div",d8,Ie(z(q.days)),1)])):ye("",!0),(re(!0),ce(Pe,null,Xe(q.days,(B,se)=>{var G,W,ne;return re(),ce("div",{id:le(d2)(B.value),ref_for:!0,ref:oe=>F(oe,Q,se),key:se+Q,role:"gridcell",class:"dp__calendar_item","aria-selected":(B.classData.dp__active_date||B.classData.dp__range_start||B.classData.dp__range_start)??void 0,"aria-disabled":B.classData.dp__cell_disabled||void 0,"aria-label":(W=(G=le(l))==null?void 0:G.day)==null?void 0:W.call(G,B),tabindex:"0","data-test":B.value,onClick:Or(oe=>j(oe,B),["prevent"]),onKeydown:oe=>le(cr)(oe,()=>Y.$emit("select-date",B)),onMouseenter:oe=>O(B,Q,se),onMouseleave:oe=>P(B),onMousedown:oe=>Z(B),onMouseup:ie[0]||(ie[0]=oe=>w.value=!1)},[N("div",{class:We(["dp__cell_inner",B.classData])},[Y.$slots.day&&M.value(B)?Me(Y.$slots,"day",{key:0,day:+B.text,date:B.value}):ye("",!0),Y.$slots.day?ye("",!0):(re(),ce(Pe,{key:1},[hn(Ie(B.text),1)],64)),B.marker&&M.value(B)?(re(),ce(Pe,{key:2},[Y.$slots.marker?Me(Y.$slots,"marker",{key:0,marker:B.marker,day:+B.text,date:B.value}):(re(),ce("div",{key:1,class:We(A.value(B.marker)),style:vn(B.marker.color?{backgroundColor:B.marker.color}:{})},null,6))],64)):ye("",!0),T.value(B.value)?(re(),ce("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:b,class:"dp__marker_tooltip",style:vn(h.value)},[(ne=B.marker)!=null&&ne.tooltip?(re(),ce("div",{key:0,class:"dp__tooltip_content",onClick:V},[(re(!0),ce(Pe,null,Xe(B.marker.tooltip,(oe,de)=>(re(),ce("div",{key:de,class:"dp__tooltip_text"},[Y.$slots["marker-tooltip"]?Me(Y.$slots,"marker-tooltip",{key:0,tooltip:oe,day:B.value}):ye("",!0),Y.$slots["marker-tooltip"]?ye("",!0):(re(),ce(Pe,{key:1},[N("div",{class:"dp__tooltip_mark",style:vn(oe.color?{backgroundColor:oe.color}:{})},null,4),N("div",null,Ie(oe.text),1)],64))]))),128)),N("div",{class:"dp__arrow_bottom_tp",style:vn(g.value)},null,4)])):ye("",!0)],4)):ye("",!0)],2)],40,f8)}),128))]))),128))],40,u8)):ye("",!0)]}),_:3},8,["name","css"])],10,i8)],2)}}}),D1=t=>Array.isArray(t),p8=(t,e,n,r)=>{const i=he([]),o=he(new Date),s=he(),{modelValue:a,calendars:l,time:f,today:u}=ju(t,e),{defaultedMultiCalendars:c,defaultedStartTime:d,defaultedRange:h,defaultedConfig:p,defaultedTz:m,propDates:y,defaultedMultiDates:v}=Ft(t),{validateMonthYearInRange:_,isDisabled:b,isDateRangeAllowed:g,checkMinMaxRange:w}=Ho(t),{updateTimeValues:k,getSetDateTime:S,setTime:E,assignStartTime:x,validateTime:I,disabledTimesConfig:A}=y2(t,f,a,r),T=me(()=>fe=>l.value[fe]?l.value[fe].month:0),R=me(()=>fe=>l.value[fe]?l.value[fe].year:0),M=fe=>!p.value.keepViewOnOffsetClick||fe?!0:!s.value,C=(fe,Ee,pe,Te=!1)=>{var Re,Nt;M(Te)&&(l.value[fe]||(l.value[fe]={month:0,year:0}),l.value[fe].month=S1(Ee)?(Re=l.value[fe])==null?void 0:Re.month:Ee,l.value[fe].year=S1(pe)?(Nt=l.value[fe])==null?void 0:Nt.year:pe)},O=()=>{t.autoApply&&e("select-date")};rn(a,(fe,Ee)=>{JSON.stringify(fe)!==JSON.stringify(Ee)&&H()},{deep:!0}),Tt(()=>{t.shadow||(a.value||(ie(),d.value&&x(d.value)),H(!0),t.focusStartDate&&t.startDate&&ie())});const P=me(()=>{var fe;return(fe=t.flow)!=null&&fe.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),X=()=>{t.autoApply&&P.value&&e("auto-apply")},H=(fe=!1)=>{if(a.value)return Array.isArray(a.value)?(i.value=a.value,j(fe)):F(a.value,fe);if(c.value.count&&fe&&!t.startDate)return $(Ae(),fe)},U=()=>Array.isArray(a.value)&&h.value.enabled?ot(a.value[0])===ot(a.value[1]??a.value[0]):!1,$=(fe,Ee=!1)=>{if((!c.value.count||!c.value.static||Ee)&&C(0,ot(fe),it(fe)),c.value.count&&(!c.value.solo||!a.value||U()))for(let pe=1;pe<c.value.count;pe++){const Te=xt(Ae(),{month:T.value(pe-1),year:R.value(pe-1)}),Re=Ck(Te,{months:1});l.value[pe]={month:ot(Re),year:it(Re)}}},F=(fe,Ee)=>{$(fe),E("hours",Yi(fe)),E("minutes",No(fe)),E("seconds",Sa(fe)),c.value.count&&Ee&&Y()},D=fe=>{if(c.value.count){if(c.value.solo)return 0;const Ee=ot(fe[0]),pe=ot(fe[1]);return Math.abs(pe-Ee)<c.value.count?0:1}return 1},K=(fe,Ee)=>{fe[1]&&h.value.showLastInRange?$(fe[D(fe)],Ee):$(fe[0],Ee);const pe=(Te,Re)=>[Te(fe[0]),fe[1]?Te(fe[1]):f[Re][1]];E("hours",pe(Yi,"hours")),E("minutes",pe(No,"minutes")),E("seconds",pe(Sa,"seconds"))},z=(fe,Ee)=>{if((h.value.enabled||t.weekPicker)&&!v.value.enabled)return K(fe,Ee);if(v.value.enabled&&Ee){const pe=fe[fe.length-1];return F(pe,Ee)}},j=fe=>{const Ee=a.value;z(Ee,fe),c.value.count&&c.value.solo&&Y()},V=(fe,Ee)=>{const pe=xt(Ae(),{month:T.value(Ee),year:R.value(Ee)}),Te=fe<0?qr(pe,1):Oa(pe,1);_(ot(Te),it(Te),fe<0,t.preventMinMaxNavigation)&&(C(Ee,ot(Te),it(Te)),e("update-month-year",{instance:Ee,month:ot(Te),year:it(Te)}),c.value.count&&!c.value.solo&&Z(Ee),n())},Z=fe=>{for(let Ee=fe-1;Ee>=0;Ee--){const pe=Oa(xt(Ae(),{month:T.value(Ee+1),year:R.value(Ee+1)}),1);C(Ee,ot(pe),it(pe))}for(let Ee=fe+1;Ee<=c.value.count-1;Ee++){const pe=qr(xt(Ae(),{month:T.value(Ee-1),year:R.value(Ee-1)}),1);C(Ee,ot(pe),it(pe))}},Y=()=>{if(Array.isArray(a.value)&&a.value.length===2){const fe=Ae(Ae(a.value[1]?a.value[1]:qr(a.value[0],1))),[Ee,pe]=[ot(a.value[0]),it(a.value[0])],[Te,Re]=[ot(a.value[1]),it(a.value[1])];(Ee!==Te||Ee===Te&&pe!==Re)&&c.value.solo&&C(1,ot(fe),it(fe))}else a.value&&!Array.isArray(a.value)&&(C(0,ot(a.value),it(a.value)),$(Ae()))},ie=()=>{t.startDate&&(C(0,ot(Ae(t.startDate)),it(Ae(t.startDate))),c.value.count&&Z(0))},ue=(fe,Ee)=>{if(t.monthChangeOnScroll){const pe=new Date().getTime()-o.value.getTime(),Te=Math.abs(fe.deltaY);let Re=500;Te>1&&(Re=100),Te>100&&(Re=0),pe>Re&&(o.value=new Date,V(t.monthChangeOnScroll!=="inverse"?-fe.deltaY:fe.deltaY,Ee))}},ee=(fe,Ee,pe=!1)=>{t.monthChangeOnArrows&&t.vertical===pe&&q(fe,Ee)},q=(fe,Ee)=>{V(fe==="right"?-1:1,Ee)},Q=fe=>{if(y.value.markers)return Dd(fe.value,y.value.markers)},B=(fe,Ee)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[fe==0,!0];case"fair":return[fe==0||Ee>fe,!0];case"append":return[!1,!1];default:return[!1,!1]}},se=(fe,Ee,pe,Te)=>{if(t.sixWeeks&&fe.length<6){const Re=6-fe.length,Nt=(Ee.getDay()+7-Te)%7,yt=6-(pe.getDay()+7-Te)%7,[Ut,sn]=B(Nt,yt);for(let En=1;En<=Re;En++)if(sn?!!(En%2)==Ut:Ut){const Tn=fe[0].days[0],An=G(Lr(Tn.value,-7),ot(Ee));fe.unshift({days:An})}else{const Tn=fe[fe.length-1],An=Tn.days[Tn.days.length-1],pn=G(Lr(An.value,1),ot(Ee));fe.push({days:pn})}}return fe},G=(fe,Ee)=>{const pe=Ae(fe),Te=[];for(let Re=0;Re<7;Re++){const Nt=Lr(pe,Re),yt=ot(Nt)!==Ee;Te.push({text:t.hideOffsetDates&&yt?"":Nt.getDate(),value:Nt,current:!yt,classData:{}})}return Te},W=(fe,Ee)=>{const pe=[],Te=new Date(Ee,fe),Re=new Date(Ee,fe+1,0),Nt=t.weekStart,yt=Xr(Te,{weekStartsOn:Nt}),Ut=sn=>{const En=G(sn,fe);if(pe.push({days:En}),!pe[pe.length-1].days.some(Tn=>st(rr(Tn.value),rr(Re)))){const Tn=Lr(sn,7);Ut(Tn)}};return Ut(yt),se(pe,Te,Re,Nt)},ne=fe=>{const Ee=Io(Ae(fe.value),f.hours,f.minutes,Se());e("date-update",Ee),v.value.enabled?uy(Ee,a,v.value.limit):a.value=Ee,r(),Mn().then(()=>{X()})},oe=fe=>h.value.noDisabledRange?s2(i.value[0],fe).some(Ee=>b(Ee)):!1,de=()=>{i.value=a.value?a.value.slice():[],i.value.length===2&&!(h.value.fixedStart||h.value.fixedEnd)&&(i.value=[])},te=(fe,Ee)=>{const pe=[Ae(fe.value),Lr(Ae(fe.value),+h.value.autoRange)];g(pe)?(Ee&&ge(fe.value),i.value=pe):e("invalid-date",fe.value)},ge=fe=>{const Ee=ot(Ae(fe)),pe=it(Ae(fe));if(C(0,Ee,pe),c.value.count>0)for(let Te=1;Te<c.value.count;Te++){const Re=ZF(xt(Ae(fe),{year:T.value(Te-1),month:R.value(Te-1)}));C(Te,Re.month,Re.year)}},ve=fe=>{if(oe(fe.value)||!w(fe.value,a.value,h.value.fixedStart?0:1))return e("invalid-date",fe.value);i.value=m2(Ae(fe.value),a,e,h)},we=(fe,Ee)=>{if(de(),h.value.autoRange)return te(fe,Ee);if(h.value.fixedStart||h.value.fixedEnd)return ve(fe);i.value[0]?w(Ae(fe.value),a.value)&&!oe(fe.value)?Bt(Ae(fe.value),Ae(i.value[0]))?(i.value.unshift(Ae(fe.value)),e("range-end",i.value[0])):(i.value[1]=Ae(fe.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",fe.value),e("invalid-date",fe.value)):(i.value[0]=Ae(fe.value),e("range-start",i.value[0]))},Se=(fe=!0)=>t.enableSeconds?Array.isArray(f.seconds)?fe?f.seconds[0]:f.seconds[1]:f.seconds:0,Le=fe=>{i.value[fe]=Io(i.value[fe],f.hours[fe],f.minutes[fe],Se(fe!==1))},Oe=()=>{var fe,Ee;i.value[0]&&i.value[1]&&+((fe=i.value)==null?void 0:fe[0])>+((Ee=i.value)==null?void 0:Ee[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Ge=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Le(0):(Le(0),Le(1),r()),Oe(),a.value=i.value.slice(),Zf(i.value,e,t.autoApply,t.modelAuto))},De=(fe,Ee=!1)=>{if(b(fe.value)||!fe.current&&t.hideOffsetDates)return e("invalid-date",fe.value);if(s.value=JSON.parse(JSON.stringify(fe)),!h.value.enabled)return ne(fe);D1(f.hours)&&D1(f.minutes)&&!v.value.enabled&&(we(fe,Ee),Ge())},rt=(fe,Ee)=>{var pe;C(fe,Ee.month,Ee.year,!0),c.value.count&&!c.value.solo&&Z(fe),e("update-month-year",{instance:fe,month:Ee.month,year:Ee.year}),n(c.value.solo?fe:void 0);const Te=(pe=t.flow)!=null&&pe.length?t.flow[t.flowStep]:void 0;!Ee.fromNav&&(Te===Hn.month||Te===Hn.year)&&r()},At=(fe,Ee)=>{p2({value:fe,modelValue:a,range:h.value.enabled,timezone:Ee?void 0:m.value.timezone}),O(),t.multiCalendars&&Mn().then(()=>H(!0))},Zt=()=>{const fe=iy(Ae(),m.value);h.value.enabled?a.value&&Array.isArray(a.value)&&a.value[0]?a.value=Bt(fe,a.value[0])?[fe,a.value[0]]:[a.value[0],fe]:a.value=[fe]:a.value=fe,O()},It=()=>{if(Array.isArray(a.value))if(v.value.enabled){const fe=Kt();a.value[a.value.length-1]=S(fe)}else a.value=a.value.map((fe,Ee)=>fe&&S(fe,Ee));else a.value=S(a.value);e("time-update")},Kt=()=>Array.isArray(a.value)&&a.value.length?a.value[a.value.length-1]:null;return{calendars:l,modelValue:a,month:T,year:R,time:f,disabledTimesConfig:A,today:u,validateTime:I,getCalendarDays:W,getMarker:Q,handleScroll:ue,handleSwipe:q,handleArrow:ee,selectDate:De,updateMonthYear:rt,presetDate:At,selectCurrentDate:Zt,updateTime:(fe,Ee=!0,pe=!1)=>{k(fe,Ee,pe,It)}}},m8={key:0},g8=Jt({__name:"DatePicker",props:{...ti},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:o,month:s,year:a,modelValue:l,time:f,disabledTimesConfig:u,today:c,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:y,handleSwipe:v,selectDate:_,updateMonthYear:b,presetDate:g,selectCurrentDate:w,updateTime:k}=p8(i,r,U,$),S=Is(),{setHoverDate:E,getDayClassData:x,clearHoverDate:I}=C8(l,i),{defaultedMultiCalendars:A}=Ft(i),T=he([]),R=he([]),M=he(null),C=_r(S,"calendar"),O=_r(S,"monthYear"),P=_r(S,"timePicker"),X=ue=>{i.shadow||r("mount",ue)};rn(o,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const H=me(()=>ue=>h(s.value(ue),a.value(ue)).map(ee=>({...ee,days:ee.days.map(q=>(q.marker=p(q),q.classData=x(q),q))})));function U(ue){var ee;ue||ue===0?(ee=R.value[ue])==null||ee.triggerTransition(s.value(ue),a.value(ue)):R.value.forEach((q,Q)=>q.triggerTransition(s.value(Q),a.value(Q)))}function $(){r("update-flow-step")}const F=(ue,ee=!1)=>{_(ue,ee),i.spaceConfirm&&r("select-date")},D=(ue,ee,q=0)=>{var Q;(Q=T.value[q])==null||Q.toggleMonthPicker(ue,ee)},K=(ue,ee,q=0)=>{var Q;(Q=T.value[q])==null||Q.toggleYearPicker(ue,ee)},z=(ue,ee,q)=>{var Q;(Q=M.value)==null||Q.toggleTimePicker(ue,ee,q)},j=(ue,ee)=>{var q;if(!i.range){const Q=l.value?l.value:c,B=ee?new Date(ee):Q,se=ue?Xr(B,{weekStartsOn:1}):Uk(B,{weekStartsOn:1});_({value:se,current:ot(B)===s.value(0),text:"",classData:{}}),(q=document.getElementById(d2(se)))==null||q.focus()}},V=ue=>{var ee;(ee=T.value[0])==null||ee.handleMonthYearChange(ue,!0)},Z=ue=>{b(0,{month:s.value(0),year:a.value(0)+(ue?1:-1),fromNav:!0})},Y=(ue,ee)=>{ue===Hn.time&&r(`time-picker-${ee?"open":"close"}`),r("overlay-toggle",{open:ee,overlay:ue})},ie=ue=>{r("overlay-toggle",{open:!1,overlay:ue}),r("focus-menu")};return e({clearHoverDate:I,presetDate:g,selectCurrentDate:w,toggleMonthPicker:D,toggleYearPicker:K,toggleTimePicker:z,handleArrow:m,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:s,year:a,time:f,updateTime:k,updateMonthYear:b,selectDate:_,presetDate:g}),changeMonth:V,changeYear:Z,selectWeekDate:j}),(ue,ee)=>(re(),ce(Pe,null,[qe(Jf,{"multi-calendars":le(A).count,collapse:ue.collapse},{default:ze(({instance:q,index:Q})=>[ue.disableMonthYearSelect?ye("",!0):(re(),je(r8,dn({key:0,ref:B=>{B&&(T.value[Q]=B)},months:le(e2)(ue.formatLocale,ue.locale,ue.monthNameFormat),years:le(oy)(ue.yearRange,ue.locale,ue.reverseYears),month:le(s)(q),year:le(a)(q),instance:q},ue.$props,{onMount:ee[0]||(ee[0]=B=>X(le(hs).header)),onResetFlow:ee[1]||(ee[1]=B=>ue.$emit("reset-flow")),onUpdateMonthYear:B=>le(b)(q,B),onOverlayClosed:ie,onOverlayOpened:ee[2]||(ee[2]=B=>ue.$emit("overlay-toggle",{open:!0,overlay:B}))}),Wn({_:2},[Xe(le(O),(B,se)=>({name:B,fn:ze(G=>[Me(ue.$slots,B,yn(tr(G)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),qe(h8,dn({ref:B=>{B&&(R.value[Q]=B)},"mapped-dates":H.value(q),month:le(s)(q),year:le(a)(q),instance:q},ue.$props,{onSelectDate:B=>le(_)(B,q!==1),onHandleSpace:B=>F(B,q!==1),onSetHoverDate:ee[3]||(ee[3]=B=>le(E)(B)),onHandleScroll:B=>le(y)(B,q),onHandleSwipe:B=>le(v)(B,q),onMount:ee[4]||(ee[4]=B=>X(le(hs).calendar)),onResetFlow:ee[5]||(ee[5]=B=>ue.$emit("reset-flow")),onTooltipOpen:ee[6]||(ee[6]=B=>ue.$emit("tooltip-open",B)),onTooltipClose:ee[7]||(ee[7]=B=>ue.$emit("tooltip-close",B))}),Wn({_:2},[Xe(le(C),(B,se)=>({name:B,fn:ze(G=>[Me(ue.$slots,B,yn(tr({...G})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),ue.enableTimePicker?(re(),ce("div",m8,[ue.$slots["time-picker"]?Me(ue.$slots,"time-picker",yn(dn({key:0},{time:le(f),updateTime:le(k)}))):(re(),je(v2,dn({key:1,ref_key:"timePickerRef",ref:M},ue.$props,{hours:le(f).hours,minutes:le(f).minutes,seconds:le(f).seconds,"internal-model-value":ue.internalModelValue,"disabled-times-config":le(u),"validate-time":le(d),onMount:ee[8]||(ee[8]=q=>X(le(hs).timePicker)),"onUpdate:hours":ee[9]||(ee[9]=q=>le(k)(q)),"onUpdate:minutes":ee[10]||(ee[10]=q=>le(k)(q,!1)),"onUpdate:seconds":ee[11]||(ee[11]=q=>le(k)(q,!1,!0)),onResetFlow:ee[12]||(ee[12]=q=>ue.$emit("reset-flow")),onOverlayClosed:ee[13]||(ee[13]=q=>Y(q,!1)),onOverlayOpened:ee[14]||(ee[14]=q=>Y(q,!0)),onAmPmChange:ee[15]||(ee[15]=q=>ue.$emit("am-pm-change",q))}),Wn({_:2},[Xe(le(P),(q,Q)=>({name:q,fn:ze(B=>[Me(ue.$slots,q,yn(tr(B)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ye("",!0)],64))}}),v8=(t,e)=>{const n=he(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:o,defaultedRange:s,propDates:a,defaultedFilters:l,defaultedMultiDates:f}=Ft(t),{modelValue:u,year:c,month:d,calendars:h}=ju(t,e),{isDisabled:p}=Ho(t),{selectYear:m,groupedYears:y,showYearPicker:v,isDisabled:_,toggleYearPicker:b,handleYearSelect:g,handleYear:w}=g2({modelValue:u,multiCalendars:r,range:s,highlight:o,calendars:h,propDates:a,month:d,year:c,filters:l,props:t,emit:e}),k=(C,O)=>[C,O].map(P=>Hr(P,"MMMM",{locale:t.formatLocale})).join("-"),S=me(()=>C=>u.value?Array.isArray(u.value)?u.value.some(O=>k1(C,O)):k1(u.value,C):!1),E=C=>{if(s.value.enabled){if(Array.isArray(u.value)){const O=st(C,u.value[0])||st(C,u.value[1]);return Qf(u.value,n.value,C)&&!O}return!1}return!1},x=(C,O)=>C.quarter===_1(O)&&C.year===it(O),I=C=>typeof o.value=="function"?o.value({quarter:_1(C),year:it(C)}):!!o.value.quarters.find(O=>x(O,C)),A=me(()=>C=>{const O=xt(new Date,{year:c.value(C)});return H$({start:Wv(O),end:Fk(O)}).map(P=>{const X=ls(P),H=b1(P),U=p(P),$=E(X),F=I(X);return{text:k(X,H),value:X,active:S.value(X),highlighted:F,disabled:U,isBetween:$}})}),T=C=>{uy(C,u,f.value.limit),e("auto-apply",!0)},R=C=>{u.value=cy(u,C,e),Zf(u.value,e,t.autoApply,t.modelAuto)},M=C=>{u.value=C,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:y,year:c,isDisabled:_,quarters:A,showYearPicker:v,modelValue:u,setHoverDate:C=>{n.value=C},selectYear:m,selectQuarter:(C,O,P)=>{if(!P)return h.value[O].month=ot(b1(C)),f.value.enabled?T(C):s.value.enabled?R(C):M(C)},toggleYearPicker:b,handleYearSelect:g,handleYear:w}},y8={class:"dp--quarter-items"},_8=["data-test","disabled","onClick","onMouseover"],b8=Jt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ti},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=Is(),s=_r(o,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:f,year:u,isDisabled:c,quarters:d,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:y,toggleYearPicker:v,handleYearSelect:_,handleYear:b}=v8(i,r);return e({getSidebarProps:()=>({modelValue:h,year:u,selectQuarter:y,handleYearSelect:_,handleYear:b})}),(g,w)=>(re(),je(Jf,{"multi-calendars":le(a).count,collapse:g.collapse,stretch:""},{default:ze(({instance:k})=>[N("div",{class:"dp-quarter-picker-wrap",style:vn({minHeight:`${le(l).modeHeight}px`})},[g.$slots["top-extra"]?Me(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):ye("",!0),N("div",null,[qe(h2,dn(g.$props,{items:le(f)(k),instance:k,"show-year-picker":le(p)[k],year:le(u)(k),"is-disabled":S=>le(c)(k,S),onHandleYear:S=>le(b)(k,S),onYearSelect:S=>le(_)(S,k),onToggleYearPicker:S=>le(v)(k,S==null?void 0:S.flow,S==null?void 0:S.show)}),Wn({_:2},[Xe(le(s),(S,E)=>({name:S,fn:ze(x=>[Me(g.$slots,S,yn(tr(x)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),N("div",y8,[(re(!0),ce(Pe,null,Xe(le(d)(k),(S,E)=>(re(),ce("div",{key:E},[N("button",{type:"button",class:We(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),"data-test":S.value,disabled:S.disabled,onClick:x=>le(y)(S.value,k,S.disabled),onMouseover:x=>le(m)(S.value)},[g.$slots.quarter?Me(g.$slots,"quarter",{key:0,value:S.value,text:S.text}):(re(),ce(Pe,{key:1},[hn(Ie(S.text),1)],64))],42,_8)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),w8=["id","aria-label"],E8={key:0,class:"dp--menu-load-container"},T8=N("span",{class:"dp--menu-loader"},null,-1),A8=[T8],k8={key:0,class:"dp__sidebar_left"},x8=["data-test","onClick","onKeydown"],I8={key:2,class:"dp__sidebar_right"},S8={key:3,class:"dp__action_extra"},N1=Jt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Xf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=he(null),s=me(()=>{const{openOnTop:G,...W}=i;return{...W,flowStep:E.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:o.value}}),{setMenuFocused:a,setShiftKey:l,control:f}=f2(),u=Is(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=Ft(i),p=he(null),m=he(0),y=he(null),v=he(!1),_=he(null);Tt(()=>{if(!i.shadow){v.value=!0,b(),window.addEventListener("resize",b);const G=un(o);if(G&&!c.value.enabled&&!d.value.enabled&&(a(!0),C()),G){const W=ne=>{h.value.allowPreventDefault&&ne.preventDefault(),xo(ne,h.value,!0)};G.addEventListener("pointerdown",W),G.addEventListener("mousedown",W)}}}),Na(()=>{window.removeEventListener("resize",b)});const b=()=>{const G=un(y);G&&(m.value=G.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:w,arrowDown:k,arrowUp:S}=qo(),{flowStep:E,updateFlowStep:x,childMount:I,resetFlow:A,handleFlow:T}=D8(i,r,_),R=me(()=>i.monthPicker?CU:i.yearPicker?NU:i.timePicker?XU:i.quarterPicker?b8:g8),M=me(()=>{var G;if(h.value.arrowLeft)return h.value.arrowLeft;const W=(G=o.value)==null?void 0:G.getBoundingClientRect(),ne=i.getInputRect();return ne.width<m.value&&ne.left<=((W==null?void 0:W.left)??0)?`${ne.width/2}px`:"50%"}),C=()=>{const G=un(o);G&&G.focus({preventScroll:!0})},O=me(()=>{var G;return((G=_.value)==null?void 0:G.getSidebarProps())||{}}),P=()=>{i.openOnTop&&r("recalculate-position")},X=_r(u,"action"),H=me(()=>i.monthPicker||i.yearPicker?_r(u,"monthYear"):i.timePicker?_r(u,"timePicker"):_r(u,"shared")),U=me(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$=me(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),F=me(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),D=G=>{xo(G,h.value,!0)},K=()=>{i.escClose&&r("close-picker")},z=G=>{if(i.arrowNavigation){if(G===er.up)return S();if(G===er.down)return k();if(G===er.left)return w();if(G===er.right)return g()}else G===er.left||G===er.up?ie("handleArrow",er.left,0,G===er.up):ie("handleArrow",er.right,0,G===er.down)},j=G=>{l(G.shiftKey),!i.disableMonthYearSelect&&G.code===Mt.tab&&G.target.classList.contains("dp__menu")&&f.value.shiftKeyInMenu&&(G.preventDefault(),xo(G,h.value,!0),r("close-picker"))},V=()=>{C(),r("time-picker-close")},Z=G=>{var W,ne,oe;(W=_.value)==null||W.toggleTimePicker(!1,!1),(ne=_.value)==null||ne.toggleMonthPicker(!1,!1,G),(oe=_.value)==null||oe.toggleYearPicker(!1,!1,G)},Y=(G,W=0)=>{var ne,oe,de;return G==="month"?(ne=_.value)==null?void 0:ne.toggleMonthPicker(!1,!0,W):G==="year"?(oe=_.value)==null?void 0:oe.toggleYearPicker(!1,!0,W):G==="time"?(de=_.value)==null?void 0:de.toggleTimePicker(!0,!1):Z(W)},ie=(G,...W)=>{var ne,oe;(ne=_.value)!=null&&ne[G]&&((oe=_.value)==null||oe[G](...W))},ue=()=>{ie("selectCurrentDate")},ee=(G,W)=>{ie("presetDate",G,W)},q=()=>{ie("clearHoverDate")},Q=(G,W)=>{ie("updateMonthYear",G,W)},B=(G,W)=>{G.preventDefault(),z(W)},se=G=>{var W;if(j(G),G.key===Mt.home||G.key===Mt.end)return ie("selectWeekDate",G.key===Mt.home,G.target.getAttribute("id"));switch((G.key===Mt.pageUp||G.key===Mt.pageDown)&&(G.shiftKey?ie("changeYear",G.key===Mt.pageUp):ie("changeMonth",G.key===Mt.pageUp),G.target.getAttribute("id")&&((W=o.value)==null||W.focus({preventScroll:!0}))),G.key){case Mt.esc:return K();case Mt.arrowLeft:return B(G,er.left);case Mt.arrowRight:return B(G,er.right);case Mt.arrowUp:return B(G,er.up);case Mt.arrowDown:return B(G,er.down);default:return}};return e({updateMonthYear:Q,switchView:Y,handleFlow:T}),(G,W)=>{var ne,oe,de;return re(),ce("div",{id:G.uid?`dp-menu-${G.uid}`:void 0,ref_key:"dpMenuRef",ref:o,tabindex:"0",role:"dialog","aria-label":(ne=G.ariaLabels)==null?void 0:ne.menu,class:We(F.value),style:vn({"--dp-arrow-left":M.value}),onMouseleave:q,onClick:D,onKeydown:se},[(G.disabled||G.readonly)&&le(d).enabled||G.loading?(re(),ce("div",{key:0,class:We($.value)},[G.loading?(re(),ce("div",E8,A8)):ye("",!0)],2)):ye("",!0),!le(d).enabled&&!G.teleportCenter?(re(),ce("div",{key:1,class:We(U.value)},null,2)):ye("",!0),N("div",{ref_key:"innerMenuRef",ref:y,class:We({dp__menu_content_wrapper:((oe=G.presetDates)==null?void 0:oe.length)||!!G.$slots["left-sidebar"]||!!G.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((de=G.presetDates)==null?void 0:de.length)||!!G.$slots["left-sidebar"]||!!G.$slots["right-sidebar"])}),style:vn({"--dp-menu-width":`${m.value}px`})},[G.$slots["left-sidebar"]?(re(),ce("div",k8,[Me(G.$slots,"left-sidebar",yn(tr(O.value)))])):ye("",!0),G.presetDates.length?(re(),ce("div",{key:1,class:We({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(re(!0),ce(Pe,null,Xe(G.presetDates,(te,ge)=>(re(),ce(Pe,{key:ge},[te.slot?Me(G.$slots,te.slot,{key:0,presetDate:ee,label:te.label,value:te.value}):(re(),ce("button",{key:1,type:"button",style:vn(te.style||{}),class:We(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":te.testId??void 0,onClick:Or(ve=>ee(te.value,te.noTz),["prevent"]),onKeydown:ve=>le(cr)(ve,()=>ee(te.value,te.noTz),!0)},Ie(te.label),47,x8))],64))),128))],2)):ye("",!0),N("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(re(),je(Xd(R.value),dn({ref_key:"dynCmpRef",ref:_},s.value,{"flow-step":le(E),onMount:le(I),onUpdateFlowStep:le(x),onResetFlow:le(A),onFocusMenu:C,onSelectDate:W[0]||(W[0]=te=>G.$emit("select-date")),onDateUpdate:W[1]||(W[1]=te=>G.$emit("date-update",te)),onTooltipOpen:W[2]||(W[2]=te=>G.$emit("tooltip-open",te)),onTooltipClose:W[3]||(W[3]=te=>G.$emit("tooltip-close",te)),onAutoApply:W[4]||(W[4]=te=>G.$emit("auto-apply",te)),onRangeStart:W[5]||(W[5]=te=>G.$emit("range-start",te)),onRangeEnd:W[6]||(W[6]=te=>G.$emit("range-end",te)),onInvalidFixedRange:W[7]||(W[7]=te=>G.$emit("invalid-fixed-range",te)),onTimeUpdate:W[8]||(W[8]=te=>G.$emit("time-update")),onAmPmChange:W[9]||(W[9]=te=>G.$emit("am-pm-change",te)),onTimePickerOpen:W[10]||(W[10]=te=>G.$emit("time-picker-open",te)),onTimePickerClose:V,onRecalculatePosition:P,onUpdateMonthYear:W[11]||(W[11]=te=>G.$emit("update-month-year",te)),onAutoApplyInvalid:W[12]||(W[12]=te=>G.$emit("auto-apply-invalid",te)),onInvalidDate:W[13]||(W[13]=te=>G.$emit("invalid-date",te)),onOverlayToggle:W[14]||(W[14]=te=>G.$emit("overlay-toggle",te)),"onUpdate:internalModelValue":W[15]||(W[15]=te=>G.$emit("update:internal-model-value",te))}),Wn({_:2},[Xe(H.value,(te,ge)=>({name:te,fn:ze(ve=>[Me(G.$slots,te,yn(tr({...ve})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),G.$slots["right-sidebar"]?(re(),ce("div",I8,[Me(G.$slots,"right-sidebar",yn(tr(O.value)))])):ye("",!0),G.$slots["action-extra"]?(re(),ce("div",S8,[G.$slots["action-extra"]?Me(G.$slots,"action-extra",{key:0,selectCurrentDate:ue}):ye("",!0)])):ye("",!0)],6),!G.autoApply||le(h).keepActionRow?(re(),je(AU,dn({key:2,"menu-mount":v.value},s.value,{"calendar-width":m.value,onClosePicker:W[16]||(W[16]=te=>G.$emit("close-picker")),onSelectDate:W[17]||(W[17]=te=>G.$emit("select-date")),onInvalidSelect:W[18]||(W[18]=te=>G.$emit("invalid-select")),onSelectNow:ue}),Wn({_:2},[Xe(le(X),(te,ge)=>({name:te,fn:ze(ve=>[Me(G.$slots,te,yn(tr({...ve})))])}))]),1040,["menu-mount","calendar-width"])):ye("",!0)],46,w8)}}});var Xs=(t=>(t.center="center",t.left="left",t.right="right",t))(Xs||{});const R8=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:o,props:s,slots:a})=>{const l=he({}),f=he(!1),u=he({top:"0",left:"0"}),c=he(!1),d=ql(s,"teleportCenter");rn(d,()=>{u.value=JSON.parse(JSON.stringify({})),g()});const h=C=>{if(s.teleport){const O=C.getBoundingClientRect();return{left:O.left+window.scrollX,top:O.top+window.scrollY}}return{top:0,left:0}},p=(C,O)=>{u.value.left=`${C+O-l.value.width}px`},m=C=>{u.value.left=`${C}px`},y=(C,O)=>{s.position===Xs.left&&m(C),s.position===Xs.right&&p(C,O),s.position===Xs.center&&(u.value.left=`${C+O/2-l.value.width/2}px`)},v=C=>{const{width:O,height:P}=C.getBoundingClientRect(),{top:X,left:H}=s.altPosition?s.altPosition(C):h(C);return{top:+X,left:+H,width:O,height:P}},_=()=>{u.value.left="50%",u.value.top="50%",u.value.transform="translate(-50%, -50%)",u.value.position="fixed",delete u.value.opacity},b=()=>{const C=un(n),{top:O,left:P,transform:X}=s.altPosition(C);u.value={top:`${O}px`,left:`${P}px`,transform:X??""}},g=(C=!0)=>{var O;if(!i.value.enabled){if(d.value)return _();if(s.altPosition!==null)return b();if(C){const P=s.teleport?(O=e.value)==null?void 0:O.$el:t.value;P&&(l.value=P.getBoundingClientRect()),o("recalculate-position")}return A()}},w=({inputEl:C,left:O,width:P})=>{window.screen.width>768&&!f.value&&y(O,P),E(C)},k=C=>{const{top:O,left:P,height:X,width:H}=v(C);u.value.top=`${X+O+ +s.offset}px`,c.value=!1,f.value||(u.value.left=`${P+H/2-l.value.width/2}px`),w({inputEl:C,left:P,width:H})},S=C=>{const{top:O,left:P,width:X}=v(C);u.value.top=`${O-+s.offset-l.value.height}px`,c.value=!0,w({inputEl:C,left:P,width:X})},E=C=>{if(s.autoPosition){const{left:O,width:P}=v(C),{left:X,right:H}=l.value;if(!f.value){if(Math.abs(X)!==Math.abs(H)){if(X<=0)return f.value=!0,m(O);if(H>=document.documentElement.clientWidth)return f.value=!0,p(O,P)}return y(O,P)}}},x=()=>{const C=un(n);if(C){const{height:O}=l.value,{top:P,height:X}=C.getBoundingClientRect(),H=window.innerHeight-P-X,U=P;return O<=H?es.bottom:O>H&&O<=U?es.top:H>=U?es.bottom:es.top}return es.bottom},I=C=>x()===es.bottom?k(C):S(C),A=()=>{const C=un(n);if(C)return s.autoPosition?I(C):k(C)},T=function(C){if(C){const O=C.scrollHeight>C.clientHeight,P=window.getComputedStyle(C).overflowY.indexOf("hidden")!==-1;return O&&!P}return!0},R=function(C){return!C||C===document.body||C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:T(C)?C:R(C.assignedSlot?C.assignedSlot.parentNode:C.parentNode)},M=C=>{if(C)switch(s.position){case Xs.left:return{left:0,transform:"translateX(0)"};case Xs.right:return{left:`${C.width}px`,transform:"translateX(-100%)"};default:return{left:`${C.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:c,menuStyle:u,xCorrect:f,setMenuPosition:g,getScrollableParent:R,shadowRender:(C,O)=>{var P,X,H;const U=document.createElement("div"),$=(P=un(n))==null?void 0:P.getBoundingClientRect();U.setAttribute("id","dp--temp-container");const F=(X=r.value)!=null&&X.clientWidth?r.value:document.body;F.append(U);const D=M($),K=Ma(C,{...O,shadow:!0,style:{opacity:0,position:"absolute",...D}},Object.fromEntries(Object.keys(a).filter(z=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(z)).map(z=>[z,a[z]])));v0(K,U),l.value=(H=K.el)==null?void 0:H.getBoundingClientRect(),v0(null,U),F.removeChild(U)}}},io=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],O8=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],P8={all:()=>io,monthYear:()=>io.filter(t=>t.use.includes("month-year")),input:()=>O8,timePicker:()=>io.filter(t=>t.use.includes("time")),action:()=>io.filter(t=>t.use.includes("action")),calendar:()=>io.filter(t=>t.use.includes("calendar")),menu:()=>io.filter(t=>t.use.includes("menu")),shared:()=>io.filter(t=>t.use.includes("shared")),yearMode:()=>io.filter(t=>t.use.includes("year-mode"))},_r=(t,e,n)=>{const r=[];return P8[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Bu=t=>{const e=me(()=>r=>t.value?r?t.value.open:t.value.close:""),n=me(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},ju=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=Ft(t),i=Ae(Ti(Ae(),r.value.timezone)),o=he([{month:ot(i),year:it(i)}]),s=c=>{const d={hours:Yi(i),minutes:No(i),seconds:0};return n.value.enabled?[d[c],d[c]]:d[c]},a=Jr({hours:s("hours"),minutes:s("minutes"),seconds:s("seconds")});rn(n,(c,d)=>{c.enabled!==d.enabled&&(a.hours=s("hours"),a.minutes=s("minutes"),a.seconds=s("seconds"))},{deep:!0});const l=me({get:()=>t.internalModelValue,set:c=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",c)}}),f=me(()=>c=>o.value[c]?o.value[c].month:0),u=me(()=>c=>o.value[c]?o.value[c].year:0);return{calendars:o,time:a,modelValue:l,month:f,year:u,today:i}},C8=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:i,defaultedTz:o,propDates:s,defaultedRange:a}=Ft(e),{isDisabled:l}=Ho(e),f=he(null),u=he(Ti(new Date,o.value.timezone)),c=D=>{!D.current&&e.hideOffsetDates||(f.value=D.value)},d=()=>{f.value=null},h=D=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&f.value?D?Yt(f.value,t.value[0]):Bt(f.value,t.value[0]):!0,p=(D,K)=>{const z=()=>t.value?K?t.value[0]||null:t.value[1]:null,j=t.value&&Array.isArray(t.value)?z():null;return st(Ae(D.value),j)},m=D=>{const K=Array.isArray(t.value)?t.value[0]:null;return D?!Bt(f.value??null,K):!0},y=(D,K=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!D.current?!1:st(Ae(D.value),t.value[K?0:1]):a.value.enabled?p(D,K)&&m(K)||st(D.value,Array.isArray(t.value)?t.value[0]:null)&&h(K):!1,v=(D,K)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const z=st(D.value,f.value);return K?Yt(t.value[0],D.value)&&z:Bt(t.value[0],D.value)&&z}return!1},_=D=>!t.value||e.hideOffsetDates&&!D.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?st(D.value,t.value[0]?t.value[0]:u.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(K=>st(K,D.value)):st(D.value,t.value?t.value:u.value),b=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!D.current)return!1;const K=Lr(f.value,+a.value.autoRange),z=Ci(Ae(f.value),e.weekStart);return e.weekPicker?st(z[1],Ae(D.value)):st(K,Ae(D.value))}return!1}return!1},g=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){const K=Lr(f.value,+a.value.autoRange);if(e.hideOffsetDates&&!D.current)return!1;const z=Ci(Ae(f.value),e.weekStart);return e.weekPicker?Yt(D.value,z[0])&&Bt(D.value,z[1]):Yt(D.value,f.value)&&Bt(D.value,K)}return!1}return!1},w=D=>{if(a.value.autoRange||e.weekPicker){if(f.value){if(e.hideOffsetDates&&!D.current)return!1;const K=Ci(Ae(f.value),e.weekStart);return e.weekPicker?st(K[0],D.value):st(f.value,D.value)}return!1}return!1},k=D=>Qf(t.value,f.value,D.value),S=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,E=()=>e.modelAuto?t2(e.internalModelValue):!0,x=D=>{if(e.weekPicker)return!1;const K=a.value.enabled?!y(D)&&!y(D,!1):!0;return!l(D.value)&&!_(D)&&!(!D.current&&e.hideOffsetDates)&&K},I=D=>a.value.enabled?e.modelAuto?S()&&_(D):!1:_(D),A=D=>i.value?QF(D.value,s.value.highlight):!1,T=D=>{const K=l(D.value);return K&&(typeof i.value=="function"?!i.value(D.value,K):!i.value.options.highlightDisabled)},R=D=>{var K;return typeof i.value=="function"?i.value(D.value):(K=i.value.weekdays)==null?void 0:K.includes(D.value.getDay())},M=D=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||D.current)&&E()&&!(!D.current&&e.hideOffsetDates)&&!_(D)?k(D):!1,C=D=>{const{isRangeStart:K,isRangeEnd:z}=H(D),j=a.value.enabled?K||z:!1;return{dp__cell_offset:!D.current,dp__pointer:!e.disabled&&!(!D.current&&e.hideOffsetDates)&&!l(D.value),dp__cell_disabled:l(D.value),dp__cell_highlight:!T(D)&&(A(D)||R(D))&&!I(D)&&!j&&!w(D)&&!(M(D)&&e.weekPicker)&&!z,dp__cell_highlight_active:!T(D)&&(A(D)||R(D))&&I(D),dp__today:!e.noToday&&st(D.value,u.value)&&D.current,"dp--past":Bt(D.value,u.value),"dp--future":Yt(D.value,u.value)}},O=D=>({dp__active_date:I(D),dp__date_hover:x(D)}),P=D=>{if(t.value&&!Array.isArray(t.value)){const K=Ci(t.value,e.weekStart);return{...$(D),dp__range_start:st(K[0],D.value),dp__range_end:st(K[1],D.value),dp__range_between_week:Yt(D.value,K[0])&&Bt(D.value,K[1])}}return{...$(D)}},X=D=>{if(t.value&&Array.isArray(t.value)){const K=Ci(t.value[0],e.weekStart),z=t.value[1]?Ci(t.value[1],e.weekStart):[];return{...$(D),dp__range_start:st(K[0],D.value)||st(z[0],D.value),dp__range_end:st(K[1],D.value)||st(z[1],D.value),dp__range_between_week:Yt(D.value,K[0])&&Bt(D.value,K[1])||Yt(D.value,z[0])&&Bt(D.value,z[1]),dp__range_between:Yt(D.value,K[1])&&Bt(D.value,z[0])}}return{...$(D)}},H=D=>{const K=n.value.count>0?D.current&&y(D)&&E():y(D)&&E(),z=n.value.count>0?D.current&&y(D,!1)&&E():y(D,!1)&&E();return{isRangeStart:K,isRangeEnd:z}},U=D=>{const{isRangeStart:K,isRangeEnd:z}=H(D);return{dp__range_start:K,dp__range_end:z,dp__range_between:M(D),dp__date_hover:st(D.value,f.value)&&!K&&!z&&!e.weekPicker,dp__date_hover_start:v(D,!0),dp__date_hover_end:v(D,!1)}},$=D=>({...U(D),dp__cell_auto_range:g(D),dp__cell_auto_range_start:w(D),dp__cell_auto_range_end:b(D)}),F=D=>a.value.enabled?a.value.autoRange?$(D):e.modelAuto?{...O(D),...U(D)}:e.weekPicker?X(D):U(D):e.weekPicker?P(D):O(D);return{setHoverDate:c,clearHoverDate:d,getDayClassData:D=>e.hideOffsetDates&&!D.current?{}:{...C(D),...F(D),[e.dayClass?e.dayClass(D.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ho=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=Ft(t),o=T=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Ae(T)):!!Dd(T,r.value.disabledDates):!1,s=T=>{const R=r.value.maxDate?Yt(T,r.value.maxDate):!1,M=r.value.minDate?Bt(T,r.value.minDate):!1,C=o(T),O=e.value.months.map($=>+$).includes(ot(T)),P=t.disabledWeekDays.length?t.disabledWeekDays.some($=>+$===$V(T)):!1,X=c(T),H=it(T),U=H<+t.yearRange[0]||H>+t.yearRange[1];return!(R||M||C||O||U||P||X)},a=(T,R)=>Bt(..._o(r.value.minDate,T,R))||st(..._o(r.value.minDate,T,R)),l=(T,R)=>Yt(..._o(r.value.maxDate,T,R))||st(..._o(r.value.maxDate,T,R)),f=(T,R,M)=>{let C=!1;return r.value.maxDate&&M&&l(T,R)&&(C=!0),r.value.minDate&&!M&&a(T,R)&&(C=!0),C},u=(T,R,M,C)=>{let O=!1;return C?r.value.minDate&&r.value.maxDate?O=f(T,R,M):(r.value.minDate&&a(T,R)||r.value.maxDate&&l(T,R))&&(O=!0):O=!0,O},c=T=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!Dd(T,r.value.allowedDates):!1,d=T=>!s(T),h=T=>n.value.noDisabledRange?!Vk({start:T[0],end:T[1]}).some(R=>d(R)):!0,p=T=>{if(T){const R=it(T);return R>=+t.yearRange[0]&&R<=t.yearRange[1]}return!0},m=(T,R)=>!!(Array.isArray(T)&&T[R]&&(n.value.maxRange||n.value.minRange)&&p(T[R])),y=(T,R,M=0)=>{if(m(R,M)&&p(T)){const C=Lk(T,R[M]),O=s2(R[M],T),P=O.length===1?0:O.filter(H=>d(H)).length,X=Math.abs(C)-(n.value.minMaxRawRange?0:P);if(n.value.minRange&&n.value.maxRange)return X>=+n.value.minRange&&X<=+n.value.maxRange;if(n.value.minRange)return X>=+n.value.minRange;if(n.value.maxRange)return X<=+n.value.maxRange}return!0},v=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=T=>Array.isArray(T)?[T[0]?Pp(T[0]):null,T[1]?Pp(T[1]):null]:Pp(T),b=(T,R,M)=>T.find(C=>+C.hours===Yi(R)&&C.minutes==="*"?!0:+C.minutes===No(R)&&+C.hours===Yi(R))&&M,g=(T,R,M)=>{const[C,O]=T,[P,X]=R;return!b(C,P,M)&&!b(O,X,M)&&M},w=(T,R)=>{const M=Array.isArray(R)?R:[R];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?g(t.disabledTimes,M,T):!M.some(C=>b(t.disabledTimes,C,T)):T},k=(T,R)=>{const M=Array.isArray(R)?[ps(R[0]),R[1]?ps(R[1]):void 0]:ps(R),C=!t.disabledTimes(M);return T&&C},S=(T,R)=>t.disabledTimes?Array.isArray(t.disabledTimes)?w(R,T):k(R,T):R,E=T=>{let R=!0;if(!T||v())return!0;const M=!r.value.minDate&&!r.value.maxDate?_(T):T;return(t.maxTime||r.value.maxDate)&&(R=O1(t.maxTime,r.value.maxDate,"max",mn(M),R)),(t.minTime||r.value.minDate)&&(R=O1(t.minTime,r.value.minDate,"min",mn(M),R)),S(T,R)},x=T=>{if(!t.monthPicker)return!0;let R=!0;const M=Ae($r(T));if(r.value.minDate&&r.value.maxDate){const C=Ae($r(r.value.minDate)),O=Ae($r(r.value.maxDate));return Yt(M,C)&&Bt(M,O)||st(M,C)||st(M,O)}if(r.value.minDate){const C=Ae($r(r.value.minDate));R=Yt(M,C)||st(M,C)}if(r.value.maxDate){const C=Ae($r(r.value.maxDate));R=Bt(M,C)||st(M,C)}return R},I=me(()=>T=>!t.enableTimePicker||t.ignoreTimeValidation?!0:E(T)),A=me(()=>T=>t.monthPicker?Array.isArray(T)&&(n.value.enabled||i.value.enabled)?!T.filter(R=>!x(R)).length:x(T):!0);return{isDisabled:d,validateDate:s,validateMonthYearInRange:u,isDateRangeAllowed:h,checkMinMaxRange:y,isValidTime:E,isTimeValid:I,isMonthValid:A}},eh=()=>{const t=me(()=>(r,i)=>r==null?void 0:r.includes(i)),e=me(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=me(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},D8=(t,e,n)=>{const r=he(0),i=Jr({[hs.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[hs.calendar]:!1,[hs.header]:!1}),o=me(()=>t.monthPicker||t.timePicker),s=c=>{var d;if((d=t.flow)!=null&&d.length){if(!c&&o.value)return u();i[c]=!0,Object.keys(i).filter(h=>!i[h]).length||u()}},a=()=>{var c,d;(c=t.flow)!=null&&c.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u()),((d=t.flow)==null?void 0:d.length)===r.value&&Mn().then(()=>l())},l=()=>{r.value=-1},f=(c,d,...h)=>{var p,m;t.flow[r.value]===c&&n.value&&((m=(p=n.value)[d])==null||m.call(p,...h))},u=(c=0)=>{c&&(r.value+=c),f(Hn.month,"toggleMonthPicker",!0),f(Hn.year,"toggleYearPicker",!0),f(Hn.calendar,"toggleTimePicker",!1,!0),f(Hn.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===Hn.hours||d===Hn.minutes||d===Hn.seconds)&&f(d,"toggleTimePicker",!0,!0,d)};return{childMount:s,updateFlowStep:a,resetFlow:l,handleFlow:u,flowStep:r}},N8={key:1,class:"dp__input_wrap"},M8=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],L8={key:2,class:"dp__clear_icon"},$8=Jt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Xf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:o,defaultedAriaLabels:s,defaultedInline:a,defaultedConfig:l,defaultedRange:f,defaultedMultiDates:u,getDefaultPattern:c,getDefaultStartTime:d}=Ft(i),{checkMinMaxRange:h}=Ho(i),p=he(),m=he(null),y=he(!1),v=he(!1),_=me(()=>({dp__pointer:!i.disabled&&!i.readonly&&!o.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:y.value||i.isMenuOpen,dp__input_reg:!o.value.enabled,[i.inputClassName]:!!i.inputClassName})),b=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),p.value=null)},g=O=>{const P=d();return XF(O,o.value.format??c(),P??a2({},i.enableSeconds),i.inputValue,v.value,i.formatLocale)},w=O=>{const{rangeSeparator:P}=o.value,[X,H]=O.split(`${P}`);if(X){const U=g(X.trim()),$=H?g(H.trim()):null;if(Ra(U,$))return;const F=U&&$?[U,$]:[U];h($,F,0)&&(p.value=U?F:null)}},k=()=>{v.value=!0},S=O=>{if(f.value.enabled)w(O);else if(u.value.enabled){const P=O.split(";");p.value=P.map(X=>g(X.trim())).filter(X=>X)}else p.value=g(O)},E=O=>{var P;const X=typeof O=="string"?O:(P=O.target)==null?void 0:P.value;X!==""?(o.value.openMenu&&!i.isMenuOpen&&r("open"),S(X),r("set-input-date",p.value)):b(),v.value=!1,r("update:input-value",X)},x=O=>{o.value.enabled?(S(O.target.value),o.value.enterSubmit&&Qm(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):o.value.enterSubmit&&i.inputValue===""&&(p.value=null,r("clear"))):T(O)},I=O=>{o.value.enabled&&o.value.tabSubmit&&S(O.target.value),o.value.tabSubmit&&Qm(p.value)&&i.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):o.value.tabSubmit&&i.inputValue===""&&(p.value=null,r("clear",!0))},A=()=>{y.value=!0,r("focus"),Mn().then(()=>{var O;o.value.enabled&&o.value.selectOnFocus&&((O=m.value)==null||O.select())})},T=O=>{O.preventDefault(),xo(O,l.value,!0),o.value.enabled&&o.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):o.value.enabled||r("toggle")},R=()=>{r("real-blur"),y.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&o.value.enabled&&p.value&&!i.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},M=O=>{xo(O,l.value,!0),r("clear")},C=O=>{if(O.key==="Tab"&&I(O),O.key==="Enter"&&x(O),!o.value.enabled){if(O.code==="Tab")return;O.preventDefault()}};return e({focusInput:()=>{var O;(O=m.value)==null||O.focus({preventScroll:!0})},setParsedDate:O=>{p.value=O}}),(O,P)=>{var X;return re(),ce("div",{onClick:T},[O.$slots.trigger&&!O.$slots["dp-input"]&&!le(a).enabled?Me(O.$slots,"trigger",{key:0}):ye("",!0),!O.$slots.trigger&&(!le(a).enabled||le(a).input)?(re(),ce("div",N8,[O.$slots["dp-input"]&&!O.$slots.trigger&&(!le(a).enabled||le(a).enabled&&le(a).input)?Me(O.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:E,onEnter:x,onTab:I,onClear:M,onBlur:R,onKeypress:C,onPaste:k,onFocus:A,openMenu:()=>O.$emit("open"),closeMenu:()=>O.$emit("close"),toggleMenu:()=>O.$emit("toggle")}):ye("",!0),O.$slots["dp-input"]?ye("",!0):(re(),ce("input",{key:1,id:O.uid?`dp-input-${O.uid}`:void 0,ref_key:"inputRef",ref:m,"data-test":"dp-input",name:O.name,class:We(_.value),inputmode:le(o).enabled?"text":"none",placeholder:O.placeholder,disabled:O.disabled,readonly:O.readonly,required:O.required,value:t.inputValue,autocomplete:O.autocomplete,"aria-label":(X=le(s))==null?void 0:X.input,"aria-disabled":O.disabled||void 0,"aria-invalid":O.state===!1?!0:void 0,onInput:E,onBlur:R,onFocus:A,onKeypress:C,onKeydown:C,onPaste:k},null,42,M8)),N("div",{onClick:P[2]||(P[2]=H=>r("toggle"))},[O.$slots["input-icon"]&&!O.hideInputIcon?(re(),ce("span",{key:0,class:"dp__input_icon",onClick:P[0]||(P[0]=H=>r("toggle"))},[Me(O.$slots,"input-icon")])):ye("",!0),!O.$slots["input-icon"]&&!O.hideInputIcon&&!O.$slots["dp-input"]?(re(),je(le(za),{key:1,class:"dp__input_icon dp__input_icons",onClick:P[1]||(P[1]=H=>r("toggle"))})):ye("",!0)]),O.$slots["clear-icon"]&&t.inputValue&&O.clearable&&!O.disabled&&!O.readonly?(re(),ce("span",L8,[Me(O.$slots,"clear-icon",{clear:M})])):ye("",!0),O.clearable&&!O.$slots["clear-icon"]&&t.inputValue&&!O.disabled&&!O.readonly?(re(),je(le(Zk),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:P[3]||(P[3]=Or(H=>M(H),["prevent"]))})):ye("",!0)])):ye("",!0)])}}}),V8=typeof window<"u"?window:void 0,$p=()=>{},F8=t=>wb()?(Wx(t),!0):!1,U8=(t,e,n,r)=>{if(!t)return $p;let i=$p;const o=rn(()=>le(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=$p})},{immediate:!0,flush:"post"}),s=()=>{o(),i()};return F8(s),s},B8=(t,e,n,r={})=>{const{window:i=V8,event:o="pointerdown"}=r;return i?U8(i,o,s=>{const a=un(t),l=un(e);!a||!l||a===s.target||s.composedPath().includes(a)||s.composedPath().includes(l)||n(s)},{passive:!0}):void 0},j8=Jt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Xf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=Is(),s=he(!1),a=ql(i,"modelValue"),l=ql(i,"timezone"),f=he(null),u=he(null),c=he(null),d=he(!1),h=he(null),p=he(!1),m=he(!1),y=he(!1),{setMenuFocused:v,setShiftKey:_}=f2(),{clearArrowNav:b}=qo(),{validateDate:g,isValidTime:w}=Ho(i),{defaultedTransitions:k,defaultedTextInput:S,defaultedInline:E,defaultedConfig:x,defaultedRange:I,defaultedMultiDates:A}=Ft(i),{menuTransition:T,showTransition:R}=Bu(k);Tt(()=>{K(i.modelValue),Mn().then(()=>{if(!E.value.enabled){const pe=U(h.value);pe==null||pe.addEventListener("scroll",Q),window==null||window.addEventListener("resize",B)}}),E.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",se),window==null||window.addEventListener("keydown",G)}),Na(()=>{if(!E.value.enabled){const pe=U(h.value);pe==null||pe.removeEventListener("scroll",Q),window==null||window.removeEventListener("resize",B)}window==null||window.removeEventListener("keyup",se),window==null||window.removeEventListener("keydown",G)});const M=_r(o,"all",i.presetDates),C=_r(o,"input");rn([a,l],()=>{K(a.value)},{deep:!0});const{openOnTop:O,menuStyle:P,xCorrect:X,setMenuPosition:H,getScrollableParent:U,shadowRender:$}=R8({menuRef:f,menuRefInner:u,inputRef:c,pickerWrapperRef:h,inline:E,emit:r,props:i,slots:o}),{inputValue:F,internalModelValue:D,parseExternalModelValue:K,emitModelValue:z,formatInputValue:j,checkBeforeEmit:V}=bU(r,i,d),Z=me(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,"dp--flex-display-collapsed":y.value,dp__flex_display_with_input:E.value.input})),Y=me(()=>i.dark?"dp__theme_dark":"dp__theme_light"),ie=me(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled}:{}),ue=me(()=>({class:"dp__outer_menu_wrap"})),ee=me(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),q=()=>{var pe,Te;return(Te=(pe=c.value)==null?void 0:pe.$el)==null?void 0:Te.getBoundingClientRect()},Q=()=>{s.value&&(x.value.closeOnScroll?Se():H())},B=()=>{var pe;s.value&&H();const Te=(pe=u.value)==null?void 0:pe.$el.getBoundingClientRect().width;y.value=document.body.offsetWidth<=Te},se=pe=>{pe.key==="Tab"&&!E.value.enabled&&!i.teleport&&x.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Se()),m.value=pe.shiftKey},G=pe=>{m.value=pe.shiftKey},W=()=>{!i.disabled&&!i.readonly&&($(N1,i),H(!1),s.value=!0,s.value&&r("open"),s.value||we(),K(i.modelValue))},ne=()=>{var pe;F.value="",we(),(pe=c.value)==null||pe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),x.value.closeOnClearValue&&Se()},oe=()=>{const pe=D.value;return!pe||!Array.isArray(pe)&&g(pe)?!0:Array.isArray(pe)?A.value.enabled||pe.length===2&&g(pe[0])&&g(pe[1])?!0:I.value.partialRange&&!i.timePicker?g(pe[0]):!1:!1},de=()=>{V()&&oe()?(z(),Se()):r("invalid-select",D.value)},te=pe=>{ge(),z(),x.value.closeOnAutoApply&&!pe&&Se()},ge=()=>{c.value&&S.value.enabled&&c.value.setParsedDate(D.value)},ve=(pe=!1)=>{i.autoApply&&w(D.value)&&oe()&&(I.value.enabled&&Array.isArray(D.value)?(I.value.partialRange||D.value.length===2)&&te(pe):te(pe))},we=()=>{S.value.enabled||(D.value=null)},Se=()=>{E.value.enabled||(s.value&&(s.value=!1,X.value=!1,v(!1),_(!1),b(),r("closed"),F.value&&K(a.value)),we(),r("blur"))},Le=(pe,Te,Re=!1)=>{if(!pe){D.value=null;return}const Nt=Array.isArray(pe)?!pe.some(Ut=>!g(Ut)):g(pe),yt=w(pe);Nt&&yt&&(D.value=pe,Te&&(p.value=Re,de(),r("text-submit")))},Oe=()=>{i.autoApply&&w(D.value)&&z(),ge()},Ge=()=>s.value?Se():W(),De=pe=>{D.value=pe},rt=()=>{S.value.enabled&&(d.value=!0,j()),r("focus")},At=()=>{if(S.value.enabled&&(d.value=!1,K(i.modelValue),p.value)){const pe=YF(h.value,m.value);pe==null||pe.focus()}r("blur")},Zt=pe=>{u.value&&u.value.updateMonthYear(0,{month:I1(pe.month),year:I1(pe.year)})},It=pe=>{K(pe??i.modelValue)},Kt=(pe,Te)=>{var Re;(Re=u.value)==null||Re.switchView(pe,Te)},fe=pe=>x.value.onClickOutside?x.value.onClickOutside(pe):Se(),Ee=(pe=0)=>{var Te;(Te=u.value)==null||Te.handleFlow(pe)};return B8(f,c,()=>fe(oe)),e({closeMenu:Se,selectDate:de,clearValue:ne,openMenu:W,onScroll:Q,formatInputValue:j,updateInternalModelValue:De,setMonthYear:Zt,parseModel:It,switchView:Kt,toggleMenu:Ge,handleFlow:Ee}),(pe,Te)=>(re(),ce("div",{ref_key:"pickerWrapperRef",ref:h,class:We(Z.value),"data-datepicker-instance":""},[qe($8,dn({ref_key:"inputRef",ref:c,"input-value":le(F),"onUpdate:inputValue":Te[0]||(Te[0]=Re=>_n(F)?F.value=Re:null),"is-menu-open":s.value},pe.$props,{onClear:ne,onOpen:W,onSetInputDate:Le,onSetEmptyDate:le(z),onSelectDate:de,onToggle:Ge,onClose:Se,onFocus:rt,onBlur:At,onRealBlur:Te[1]||(Te[1]=Re=>d.value=!1)}),Wn({_:2},[Xe(le(C),(Re,Nt)=>({name:Re,fn:ze(yt=>[Me(pe.$slots,Re,yn(tr(yt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(re(),je(Xd(pe.teleport?gS:"div"),yn(tr(ie.value)),{default:ze(()=>[qe(Kr,{name:le(T)(le(O)),css:le(R)&&!le(E).enabled},{default:ze(()=>[s.value?(re(),ce("div",dn({key:0,ref_key:"dpWrapMenuRef",ref:f},ue.value,{class:{"dp--menu-wrapper":!le(E).enabled},style:le(E).enabled?void 0:le(P)}),[qe(N1,dn({ref_key:"dpMenuRef",ref:u},pe.$props,{"internal-model-value":le(D),"onUpdate:internalModelValue":Te[2]||(Te[2]=Re=>_n(D)?D.value=Re:null),class:{[Y.value]:!0,"dp--menu-wrapper":pe.teleport},"open-on-top":le(O),"no-overlay-focus":ee.value,collapse:y.value,"get-input-rect":q,onClosePicker:Se,onSelectDate:de,onAutoApply:ve,onTimeUpdate:Oe,onFlowStep:Te[3]||(Te[3]=Re=>pe.$emit("flow-step",Re)),onUpdateMonthYear:Te[4]||(Te[4]=Re=>pe.$emit("update-month-year",Re)),onInvalidSelect:Te[5]||(Te[5]=Re=>pe.$emit("invalid-select",le(D))),onAutoApplyInvalid:Te[6]||(Te[6]=Re=>pe.$emit("invalid-select",Re)),onInvalidFixedRange:Te[7]||(Te[7]=Re=>pe.$emit("invalid-fixed-range",Re)),onRecalculatePosition:le(H),onTooltipOpen:Te[8]||(Te[8]=Re=>pe.$emit("tooltip-open",Re)),onTooltipClose:Te[9]||(Te[9]=Re=>pe.$emit("tooltip-close",Re)),onTimePickerOpen:Te[10]||(Te[10]=Re=>pe.$emit("time-picker-open",Re)),onTimePickerClose:Te[11]||(Te[11]=Re=>pe.$emit("time-picker-close",Re)),onAmPmChange:Te[12]||(Te[12]=Re=>pe.$emit("am-pm-change",Re)),onRangeStart:Te[13]||(Te[13]=Re=>pe.$emit("range-start",Re)),onRangeEnd:Te[14]||(Te[14]=Re=>pe.$emit("range-end",Re)),onDateUpdate:Te[15]||(Te[15]=Re=>pe.$emit("date-update",Re)),onInvalidDate:Te[16]||(Te[16]=Re=>pe.$emit("invalid-date",Re)),onOverlayToggle:Te[17]||(Te[17]=Re=>pe.$emit("overlay-toggle",Re))}),Wn({_:2},[Xe(le(M),(Re,Nt)=>({name:Re,fn:ze(yt=>[Me(pe.$slots,Re,yn(tr({...yt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):ye("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),qu=(()=>{const t=j8;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),q8=Object.freeze(Object.defineProperty({__proto__:null,default:qu},Symbol.toStringTag,{value:"Module"}));Object.entries(q8).forEach(([t,e])=>{t!=="default"&&(qu[t]=e)});const H8=N("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),z8={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},K8={class:"relative p-4 max-w-2xl max-h-full"},W8={class:"relative bg-white rounded-lg shadow"},Y8={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},G8=N("h3",{class:"text-lg font-semibold text-black"}," Avukat Uygun Randevu Saatleri ",-1),Q8=N("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),X8=N("span",{class:"sr-only"},"Close modal",-1),J8=[Q8,X8],Z8={class:"p-4 px-10 max-h-full flex items-center justify-center"},eB={id:"timetable",class:"pt-4 grid w-full grid-cols-3 gap-2 mb-5"},tB=["id"],nB=["for"],rB={__name:"AttorneyScheduleModal",emits:["close"],setup(t,{emit:e}){const n=he(new Date),r={Monday:["09:00","10:00","11:30","13:00","14:30","16:00"],Tuesday:["09:30","10:30","12:00","13:30","15:00","16:30"],Wednesday:["09:00","11:00","12:30","14:00","15:30","17:00"],Thursday:["08:30","10:00","11:30","13:00","14:30","16:00"],Friday:["09:00","10:30","12:00","13:30","15:00","16:30"],Saturday:["10:00","11:30","13:00","14:30","16:00","17:30"],Sunday:["09:30","11:00","12:30","14:00","15:30","17:00"]},i=me(()=>{const o=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n.value);return r[o]});return Tt(()=>{console.log("Component mounted")}),(o,s)=>(re(),ce(Pe,null,[H8,N("div",z8,[N("div",K8,[N("div",W8,[N("div",Y8,[G8,N("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},J8)]),N("div",Z8,[N("div",null,[qe(le(qu),{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=a=>n.value=a),inline:"","auto-apply":"",name:"date",class:"form-input w-full","enable-time-picker":!1},null,8,["modelValue"]),N("ul",eB,[(re(!0),ce(Pe,null,Xe(i.value,(a,l)=>(re(),ce("li",{key:l},[N("input",{type:"radio",id:"time-"+l,value:"",class:"hidden peer",name:"timetable"},null,8,tB),N("label",{for:"time-"+l,class:"inline-flex items-center justify-center w-full px-2 py-1 text-sm font-medium text-center hover:text-gray-900 dark:hover:text-white bg-white border rounded-lg cursor-pointer text-gray-500 border-gray-200 peer-checked:border-blue-700 peer-checked:bg-blue-50 peer-checked:text-blue-700 hover:bg-gray-50"},Ie(a),9,nB)]))),128))])])])])])])],64))}},iB={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},oB={class:"flex justify-between items-center mb-4"},sB={class:"text-4xl font-bold text-gray-800"},aB=N("div",{class:"text-lg font-medium text-gray-500"},"Toplam Online Grmeler",-1),lB=N("div",{class:"text-gray-400"},[N("i",{class:"ri-group-line text-4xl"})],-1),uB={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},cB={class:"text-right text-sm font-medium text-gray-600 mt-2"},dB={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},fB={class:"flex justify-between items-center mb-4"},hB={class:"flex items-center mb-1"},pB={class:"text-4xl font-bold text-gray-800"},mB={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},gB=N("div",{class:"text-lg font-medium text-gray-500"},"Yaklaan Grmeler",-1),vB=N("div",{class:"text-gray-400"},[N("i",{class:"ri-calendar-check-line text-4xl"})],-1),yB=N("div",{class:"text-gray-600 font-medium"},"Gncel Durum:",-1),_B={class:"mt-2 flex flex-wrap"},bB={key:0,class:"flex items-center justify-center bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},wB=N("div",{class:"text-2xl font-bold text-gray-800 mb-4"},"Avukat izelgesi",-1),EB={key:1,class:"bg-white border border-gray-200 rounded-lg p-6 shadow-lg"},TB=N("div",{class:"flex justify-between items-center mb-4 bg-gray-800 p-2 rounded-t-lg"},[N("div",{class:"flex items-center p-2"},[N("i",{class:"ri-award-line text-2xl text-white"}),N("div",{class:"ml-2 text-lg font-bold text-white"},"En ok Grme Yapan Avukatlar")])],-1),AB={class:"mt-2 space-y-2"},kB={class:"flex items-center"},xB={class:"bg-gray-800 text-white rounded-full h-8 w-8 flex items-center justify-center font-bold"},IB={class:"pl-4 flex items-center justify-stretch"},SB={class:"text-lg font-bold"},RB={class:"text-xl border-l-2 border-gray-800 px-4"},OB={__name:"MeetingCards",props:{totalMeetings:Number,approvedMeetings:Number,satisfactionRate:Number,meetingStatusSummary:Object,topAttorneys:Array,showTopAttorneys:Boolean,showAttorneySchedule:Boolean},setup(t){const e=$o(),n=me(()=>e.getters.userRole),r=he(!1),i=()=>n.value==="admin",o=t,s={0:"bg-blue-100 text-blue-700",1:"bg-green-100 text-green-700",2:"bg-gray-100 text-gray-700",3:"bg-red-100 text-red-700",4:"bg-orange-100 text-orange-700",5:"bg-orange-100 text-orange-700",6:"bg-black text-white",7:"bg-black text-white"},a=u=>{switch(u){case"0":return"stek";case"1":return"Kabul Edildi";case"2":return"Tamamland";case"3":return"Reddedildi";case"4":return"Mteri Onay";case"5":return"Avukat Onay";case"6":return"ptal Edildi";default:return"Unknown"}},l=me(()=>o.totalMeetings===0?0:(o.approvedMeetings/o.totalMeetings*100).toFixed(2)),f=me(()=>o.totalMeetings===0?0:(o.totalMeetings/100*100).toFixed(2));return Tt(()=>{console.log("isAdmin",i())}),(u,c)=>(re(),ce(Pe,null,[r.value?(re(),je(rB,{key:0,onClose:c[0]||(c[0]=d=>r.value=!1)})):ye("",!0),N("div",{class:We(["grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",{"lg:grid-cols-3":i()}])},[N("div",iB,[N("div",oB,[N("div",null,[N("div",sB,Ie(t.totalMeetings),1),aB]),lB]),N("div",uB,[N("div",{class:"h-full bg-blue-600",style:vn({width:f.value+"%"})},null,4)]),N("div",cB,Ie(f.value)+"%",1)]),N("div",dB,[N("div",fB,[N("div",null,[N("div",hB,[N("div",pB,Ie(t.approvedMeetings),1),N("div",mB," +"+Ie(l.value)+"% ",1)]),gB]),vB]),yB,N("div",_B,[(re(!0),ce(Pe,null,Xe(t.meetingStatusSummary,(d,h)=>(re(),ce("span",{key:h,class:We([s[h],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ie(a(h))+": "+Ie(d),3))),128))])]),t.showAttorneySchedule&&n.value==="admin"?(re(),ce("div",bB,[N("div",null,[wB,N("button",{onClick:c[1]||(c[1]=d=>r.value=!0),class:"text-white w-full inline-flex items-center justify-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," izelgeyi Grntle ")])])):ye("",!0),t.showTopAttorneys?(re(),ce("div",EB,[TB,N("ul",AB,[(re(!0),ce(Pe,null,Xe(t.topAttorneys,(d,h)=>(re(),ce("li",{key:h,class:"flex items-center justify-between text-lg font-medium text-black bg-gray-100 h-10 rounded-lg"},[N("div",kB,[N("div",xB,Ie(h+1),1),N("div",IB,[N("div",SB,Ie(d.name),1)])]),N("div",RB,Ie(d.meetings),1)]))),128))])])):ye("",!0)],2)],64))}},PB={},CB={class:"bg-white border border-gray-200 shadow-md shadow-black/5 p-6 rounded-md"};function DB(t,e){return re(),ce("section",CB,[Me(t.$slots,"default")])}const _2=ei(PB,[["render",DB]]),NB={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},MB={key:1,tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},LB={class:"relative p-4 w-full max-w-2xl max-h-full"},$B={class:"relative bg-white rounded-lg shadow"},VB={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},FB=N("h3",{class:"text-lg font-semibold text-black"}," Danan Dkmanlar ",-1),UB=N("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),BB=N("span",{class:"sr-only"},"Close modal",-1),jB=[UB,BB],qB={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},HB={class:"col-span-2"},zB=N("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Grme Notu",-1),KB={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},WB={class:"col-span-2"},YB=N("label",{for:"documents",class:"block mb-2 text-sm font-medium text-gray-900"},"Grme Evraklar",-1),GB={key:0,class:"grid gap-4 grid-cols-1 md:grid-cols-2"},QB={class:"flex items-center justify-between"},XB={class:"flex items-center"},JB={class:"flex flex-col items-center justify-center mr-4"},ZB=N("i",{class:"ri-file-fill text-3xl"},null,-1),e9={class:"text-sm text-gray-500"},t9={class:"text-sm text-gray-500"},n9=["onClick"],r9=N("i",{class:"ri-download-2-line text-2xl"},null,-1),i9=N("span",{class:"sr-only"},"Close modal",-1),o9=[r9,i9],s9={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 w-full flex items-center"},a9=N("p",{class:"text-sm text-gray-500 font-normal"}," Danan herhangi bir evrak eklemedi. ",-1),l9=[a9],u9={__name:"DocumentsModal",props:{show:Boolean,customerNotes:String,customerDocuments:Array},emits:["close"],setup(t,{emit:e}){const n=r=>{window.open(r.file_url,"_blank")};return(r,i)=>(re(),ce(Pe,null,[t.show?(re(),ce("div",NB)):ye("",!0),t.show?(re(),ce("div",MB,[N("div",LB,[N("div",$B,[N("div",VB,[FB,N("button",{type:"button",onClick:i[0]||(i[0]=o=>r.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},jB)]),N("div",qB,[N("div",HB,[zB,N("p",KB,Ie(t.customerNotes),1)]),N("div",WB,[YB,t.customerDocuments.length!=0?(re(),ce("div",GB,[(re(!0),ce(Pe,null,Xe(t.customerDocuments,o=>(re(),ce("div",{key:o.name,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},[N("div",QB,[N("div",XB,[N("div",JB,[ZB,N("p",e9,Ie(o.kind),1)]),N("div",null,[N("p",null,Ie(o.name),1),N("p",t9,Ie(o.size),1)])]),N("button",{type:"button",onClick:s=>n(o),class:"bg-transparent mt-1 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},o9,8,n9)])]))),128))])):(re(),ce("div",s9,l9))])])])])])):ye("",!0)],64))}},c9=N("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),d9={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},f9={class:"relative p-4 w-[32rem] max-h-full"},h9={class:"relative bg-white rounded-lg shadow"},p9={class:"flex items-center justify-between p-4 border-b rounded-t"},m9=N("h3",{class:"text-lg font-semibold text-black"}," Yeni Randevu stei ",-1),g9=N("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),v9=N("span",{class:"sr-only"},"Close modal",-1),y9=[g9,v9],_9={class:"px-6 py-4 w-full mx-auto bg-white rounded-xl space-y-4"},b9={class:"flex items-center justify-center space-x-4"},w9={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},E9={class:"text-sm"},T9={class:"text-4xl font-bold"},A9={class:"text-sm"},k9={class:"p-2"},x9=N("h2",{class:"text-xl font-bold"},"Onaylyor musun?",-1),I9={class:"flex items-center text-gray-500 space-x-2"},S9=N("i",{class:"ri-time-line text-lg"},null,-1),R9={class:"flex space-x-2 mt-2"},O9={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},P9={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},C9={key:0,class:"bg-green-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},D9=N("p",{class:"text-sm text-gray-500 font-normal"}," Online grme baaryla oluturuldu. ",-1),N9=[D9],M9={key:1,class:"bg-red-100 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},L9=N("p",{class:"text-sm text-gray-500 font-normal"}," Randevu baaryla reddedildi. ",-1),$9=[L9],V9={key:2,class:"bg-gray-50 mb-4 border border-gray-200 rounded-lg p-4 flex items-center"},F9=N("p",{class:"text-sm text-gray-500 font-normal"}," Randevuyu onaylarsanz, online grme oluturulup ilgili avukat ve mvekkil mail bilgilendirilecektir. ",-1),U9=[F9],B9={key:3,class:"flex items-center justify-center space-x-4 mt-2"},j9={key:1},q9={key:4,class:"mb-2 rounded-lg"},H9=N("label",{for:"reason",class:"block text-sm font-medium text-gray-700"},"Reddetme sebebi",-1),z9={class:"flex items-center justify-center space-x-4 mt-4"},K9={key:1},W9={__name:"Status0Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=he(!1),r=he(!1),i=he(!1),o=he(!1),s=he(""),a=e,l=()=>{n.value=!0,setTimeout(()=>{n.value=!1,r.value=!0,setTimeout(()=>{a("set-meeting"),a("close")},700)},2e3)},f=()=>{n.value=!0,setTimeout(()=>{n.value=!1,o.value=!1,i.value=!0,setTimeout(()=>{a("reject-meeting",s.value)},700)},2e3)};return Tt(()=>{console.log("status 0 modal mounted")}),(u,c)=>(re(),ce(Pe,null,[c9,N("div",d9,[N("div",f9,[N("div",h9,[N("div",p9,[m9,N("button",{type:"buttona",onClick:c[0]||(c[0]=d=>u.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},y9)]),N("div",_9,[N("div",b9,[N("div",w9,[N("div",E9,Ie(t.formattedDate.month),1),N("div",T9,Ie(t.formattedDate.dayNumber),1),N("div",A9,Ie(t.formattedDate.dayName),1)]),N("div",k9,[x9,N("div",I9,[S9,N("span",null,Ie(t.formattedDate.time)+" -",1),N("span",null,Ie(t.formattedDate.meetingTimeEnd),1)]),N("div",R9,[N("span",O9,Ie(t.meetingData.attorney_name),1),N("span",P9,Ie(t.meetingData.customer_name),1)])])]),N("div",null,[r.value?(re(),ce("div",C9,N9)):ye("",!0),i.value?(re(),ce("div",M9,$9)):ye("",!0),!r.value&&!i.value&&!o.value?(re(),ce("div",V9,U9)):ye("",!0),!r.value&&!i.value&&!o.value?(re(),ce("div",B9,[N("button",{onClick:l,class:"bg-green-600 text-white hover:bg-green-700 px-4 py-2 rounded-md"},[n.value?(re(),je(pu,{key:0,text:"Oluturuluyor"})):(re(),ce("span",j9,"Evet"))]),N("button",{onClick:c[1]||(c[1]=d=>o.value=!0),class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md"}," Hayr ")])):ye("",!0),o.value?(re(),ce("div",q9,[H9,wt(N("textarea",{id:"reason","onUpdate:modelValue":c[2]||(c[2]=d=>s.value=d),rows:"3",class:"block w-full h-32 bg-gray-100 rounded-md border-gray-300 shadow-sm"},null,512),[[yi,s.value]]),N("div",z9,[N("button",{onClick:f,class:"bg-red-600 text-white hover:bg-red-700 px-4 py-2 rounded-md"},[n.value?(re(),je(pu,{key:0,text:"Kaydediliyor"})):(re(),ce("span",K9,"Kaydet"))])])])):ye("",!0)])])])])])],64))}};/*! vue-countdown v2.1.2 | (c) 2018-present Chen Fengyuan | MIT */const zc=1e3,Kc=60*zc,Wc=60*Kc,M1=24*Wc,L1="abort",$1="end",V1="progress",F1="start",U1="visibilitychange";var Y9=Jt({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[L1,$1,V1,F1],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/M1)},hours(){return Math.floor(this.totalMilliseconds%M1/Wc)},minutes(){return Math.floor(this.totalMilliseconds%Wc/Kc)},seconds(){return Math.floor(this.totalMilliseconds%Kc/zc)},milliseconds(){return Math.floor(this.totalMilliseconds%zc)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/Wc)},totalMinutes(){return Math.floor(this.totalMilliseconds/Kc)},totalSeconds(){return Math.floor(this.totalMilliseconds/zc)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(U1,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(U1,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.autoStart||(this.totalMilliseconds=this.time,this.endTime=this.now()+this.time),this.emitEvents&&this.$emit(F1),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const r=i=>{e||(e=i),n||(n=i);const o=i-e;o>=t||o+(i-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(r),n=i};this.requestId=requestAnimationFrame(r)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.update(),this.emitEvents&&this.totalMilliseconds>0&&this.$emit(V1,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(L1))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit($1))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return Ma(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const G9=N("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),Q9={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},X9={class:"relative p-4 w-[36rem] max-h-full"},J9={class:"relative bg-white rounded-lg shadow"},Z9={class:"flex items-center justify-between p-4 border-b rounded-t"},ej=N("h3",{class:"text-lg font-semibold text-black"}," Toplant Detaylar ",-1),tj=N("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),nj=N("span",{class:"sr-only"},"Close modal",-1),rj=[tj,nj],ij={class:"px-6 py-4"},oj={class:"flex items-center justify-center space-x-4"},sj={class:"bg-gray-600 text-white rounded-lg w-20 h-24 flex flex-col items-center justify-center"},aj={class:"text-sm"},lj={class:"text-4xl font-bold"},uj={class:"text-sm"},cj={class:"p-2"},dj=N("h2",{class:"text-xl font-bold"},"Toplant Detaylar",-1),fj={class:"flex items-center text-gray-500 space-x-2"},hj=N("i",{class:"ri-time-line text-lg"},null,-1),pj={class:"flex space-x-2 mt-2"},mj={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},gj={class:"bg-gray-100 hover:bg-gray-200 ring-0 ring-gray-400 hover:ring-1 text-gray-700 text-sm px-3 py-1 rounded-full"},vj={class:"mb-4"},yj=N("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Randevu Sebebi",-1),_j={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},bj={class:"mb-4"},wj={class:"bg-gray-50 border border-gray-300 rounded-lg flex flex-col items-center justify-center"},Ej={class:"flex items-center space-x-2 text-gray-800 text-lg mx-3"},Tj=N("div",{class:"mr-2"},"Kalan Sre:",-1),Aj={key:0},kj={class:"flex items-center justify-center space-x-4 mt-2"},xj=["href"],Ij={__name:"Status1Modal",props:{meetingData:{type:Object,required:!0},formattedDate:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=me(()=>{if(n.meetingData.date_time&&n.meetingData.date_time.seconds){const a=new Date(n.meetingData.date_time.seconds*1e3)-new Date;return a>0?a:0}return 0});async function i(o){try{await navigator.clipboard.writeText(o)}catch{}}return(o,s)=>(re(),ce(Pe,null,[G9,N("div",Q9,[N("div",X9,[N("div",J9,[N("div",Z9,[ej,N("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},rj)]),N("div",ij,[N("div",oj,[N("div",sj,[N("div",aj,Ie(t.formattedDate.month),1),N("div",lj,Ie(t.formattedDate.dayNumber),1),N("div",uj,Ie(t.formattedDate.dayName),1)]),N("div",cj,[dj,N("div",fj,[hj,N("span",null,Ie(t.formattedDate.time)+" -",1),N("span",null,Ie(t.formattedDate.meetingTimeEnd),1)]),N("div",pj,[N("span",mj,Ie(t.meetingData.attorney_name),1),N("span",gj,Ie(t.meetingData.customer_name),1)])])]),N("div",vj,[yj,N("p",_j,Ie(t.meetingData.topic),1)]),N("div",bj,[N("div",wj,[qe(le(Y9),{class:"text-lg font-bold p-4",time:r.value},{default:ze(({days:a,hours:l,minutes:f,seconds:u})=>[N("div",Ej,[Tj,a>1?(re(),ce("span",Aj,Ie(a)+" gn",1)):ye("",!0),N("span",null,Ie(l)+" saat",1),N("span",null,Ie(f)+" dakika",1),N("span",null,Ie(u)+" saniye",1)])]),_:1},8,["time"])])]),N("div",kj,[N("a",{href:t.meetingData.meeting_url,target:"_blank",class:"text-white w-32 bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Katl ",8,xj),N("button",{onClick:s[1]||(s[1]=a=>i(t.meetingData.meeting_url)),class:"bg-gray-200 text-xl ri-clipboard-line hover:bg-gray-300 px-2 py-2 rounded-md"})])])])])])],64))}},Sj=N("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),Rj={tabindex:"-1",class:"fixed inset-0 flex items-center justify-center z-50 md:inset-0 h-[calc(100%-1rem)] max-h-full"},Oj={class:"relative p-4 w-[36rem] max-w-2xl max-h-full"},Pj={class:"relative bg-white rounded-lg shadow"},Cj={class:"flex items-center justify-between p-4 border-b rounded-t"},Dj=N("h3",{class:"text-lg font-semibold text-black"}," ptal Edilme Sebebi ",-1),Nj=N("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Mj=N("span",{class:"sr-only"},"Close modal",-1),Lj=[Nj,Mj],$j={class:"grid gap-4 mb-4 p-4 pb-6 grid-cols-2"},Vj={class:"col-span-2"},Fj=N("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),Uj={type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},Bj={__name:"Status3Modal",props:{rejectReason:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(re(),ce(Pe,null,[Sj,N("div",Rj,[N("div",Oj,[N("div",Pj,[N("div",Cj,[Dj,N("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},Lj)]),N("div",$j,[N("div",Vj,[Fj,N("p",Uj,Ie(t.rejectReason),1)])])])])])],64))}};function jj(t,e){var n=new Date(t.created_date.split(".").reverse().join(".")),r=new Date(e.created_date.split(".").reverse().join("."));return r-n}function Xm(t,e="all"){if(!t)return"";if(t.seconds){const n=new Date(t.seconds*1e3),r=n.toLocaleDateString("tr-TR"),i=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),s=`${i}:${o}`,a=n.toLocaleDateString("tr-TR",{month:"short"}).toUpperCase(),l=n.getDate(),f=n.toLocaleDateString("tr-TR",{weekday:"long"});switch(e){case"date":return r;case"time":return s;case"month":return a;case"day-number":return l;case"day-name":return f;case"all":default:return{date:r,time:s,month:a,dayNumber:l,dayName:f}}}}function qj(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const Hj={__name:"StatusActionModalHandler",props:{meetingData:{type:Object,required:!0},keepStatusModalOpen:{type:Boolean,required:!0}},emits:["close","set-meeting","reject-meeting"],setup(t,{emit:e}){const n=e,r=t;function i(a){const l=new Date(a*1e3);l.setHours(l.getHours()+1);const f=l.getHours().toString().padStart(2,"0"),u=l.getMinutes().toString().padStart(2,"0");return`${f}:${u}`}const o=me(()=>{const a=r.meetingData.date_time,l=Xm(a,"all");return l.meetingTimeEnd=i(a),l}),s=a=>{n("reject-meeting",a)};return(a,l)=>(re(),ce(Pe,null,[t.meetingData.status==="0"&&t.keepStatusModalOpen?(re(),je(W9,{key:0,onClose:l[0]||(l[0]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value,onSetMeeting:l[1]||(l[1]=f=>a.$emit("set-meeting")),onRejectMeeting:s},null,8,["meetingData","formattedDate"])):ye("",!0),t.meetingData.status==="1"&&t.keepStatusModalOpen?(re(),je(Ij,{key:1,onClose:l[2]||(l[2]=f=>a.$emit("close")),meetingData:t.meetingData,formattedDate:o.value},null,8,["meetingData","formattedDate"])):ye("",!0),t.meetingData.status==="3"&&t.keepStatusModalOpen?(re(),je(Bj,{key:2,onClose:l[3]||(l[3]=f=>a.$emit("close")),rejectReason:t.meetingData.reject_reason},null,8,["rejectReason"])):ye("",!0)],64))}};function b2(t,e){return function(){return t.apply(e,arguments)}}const{toString:zj}=Object.prototype,{getPrototypeOf:dy}=Object,th=(t=>e=>{const n=zj.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ni=t=>(t=t.toLowerCase(),e=>th(e)===t),nh=t=>e=>typeof e===t,{isArray:Ka}=Array,vu=nh("undefined");function Kj(t){return t!==null&&!vu(t)&&t.constructor!==null&&!vu(t.constructor)&&Rr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const w2=ni("ArrayBuffer");function Wj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&w2(t.buffer),e}const Yj=nh("string"),Rr=nh("function"),E2=nh("number"),rh=t=>t!==null&&typeof t=="object",Gj=t=>t===!0||t===!1,Yc=t=>{if(th(t)!=="object")return!1;const e=dy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qj=ni("Date"),Xj=ni("File"),Jj=ni("Blob"),Zj=ni("FileList"),e7=t=>rh(t)&&Rr(t.pipe),t7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rr(t.append)&&((e=th(t))==="formdata"||e==="object"&&Rr(t.toString)&&t.toString()==="[object FormData]"))},n7=ni("URLSearchParams"),[r7,i7,o7,s7]=["ReadableStream","Request","Response","Headers"].map(ni),a7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ka(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function T2(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const A2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,k2=t=>!vu(t)&&t!==A2;function Jm(){const{caseless:t}=k2(this)&&this||{},e={},n=(r,i)=>{const o=t&&T2(e,i)||i;Yc(e[o])&&Yc(r)?e[o]=Jm(e[o],r):Yc(r)?e[o]=Jm({},r):Ka(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Hu(arguments[r],n);return e}const l7=(t,e,n,{allOwnKeys:r}={})=>(Hu(e,(i,o)=>{n&&Rr(i)?t[o]=b2(i,n):t[o]=i},{allOwnKeys:r}),t),u7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),c7=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},d7=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&dy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},f7=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},h7=t=>{if(!t)return null;if(Ka(t))return t;let e=t.length;if(!E2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},p7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dy(Uint8Array)),m7=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},g7=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},v7=ni("HTMLFormElement"),y7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),B1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_7=ni("RegExp"),x2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Hu(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},b7=t=>{x2(t,(e,n)=>{if(Rr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},w7=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ka(t)?r(t):r(String(t).split(e)),n},E7=()=>{},T7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Vp="abcdefghijklmnopqrstuvwxyz",j1="0123456789",I2={DIGIT:j1,ALPHA:Vp,ALPHA_DIGIT:Vp+Vp.toUpperCase()+j1},A7=(t=16,e=I2.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function k7(t){return!!(t&&Rr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const x7=t=>{const e=new Array(10),n=(r,i)=>{if(rh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ka(r)?[]:{};return Hu(r,(s,a)=>{const l=n(s,i+1);!vu(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},I7=ni("AsyncFunction"),S7=t=>t&&(rh(t)||Rr(t))&&Rr(t.then)&&Rr(t.catch),_e={isArray:Ka,isArrayBuffer:w2,isBuffer:Kj,isFormData:t7,isArrayBufferView:Wj,isString:Yj,isNumber:E2,isBoolean:Gj,isObject:rh,isPlainObject:Yc,isReadableStream:r7,isRequest:i7,isResponse:o7,isHeaders:s7,isUndefined:vu,isDate:Qj,isFile:Xj,isBlob:Jj,isRegExp:_7,isFunction:Rr,isStream:e7,isURLSearchParams:n7,isTypedArray:p7,isFileList:Zj,forEach:Hu,merge:Jm,extend:l7,trim:a7,stripBOM:u7,inherits:c7,toFlatObject:d7,kindOf:th,kindOfTest:ni,endsWith:f7,toArray:h7,forEachEntry:m7,matchAll:g7,isHTMLForm:v7,hasOwnProperty:B1,hasOwnProp:B1,reduceDescriptors:x2,freezeMethods:b7,toObjectSet:w7,toCamelCase:y7,noop:E7,toFiniteNumber:T7,findKey:T2,global:A2,isContextDefined:k2,ALPHABET:I2,generateString:A7,isSpecCompliantForm:k7,toJSONObject:x7,isAsyncFn:I7,isThenable:S7};function nt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}_e.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const S2=nt.prototype,R2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{R2[t]={value:t}});Object.defineProperties(nt,R2);Object.defineProperty(S2,"isAxiosError",{value:!0});nt.from=(t,e,n,r,i,o)=>{const s=Object.create(S2);return _e.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),nt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const R7=null;function Zm(t){return _e.isPlainObject(t)||_e.isArray(t)}function O2(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function q1(t,e,n){return t?t.concat(e).map(function(i,o){return i=O2(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function O7(t){return _e.isArray(t)&&!t.some(Zm)}const P7=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function ih(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!_e.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(_e.isDate(p))return p.toISOString();if(!l&&_e.isBlob(p))throw new nt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(p)||_e.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let v=p;if(p&&!y&&typeof p=="object"){if(_e.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(_e.isArray(p)&&O7(p)||(_e.isFileList(p)||_e.endsWith(m,"[]"))&&(v=_e.toArray(p)))return m=O2(m),v.forEach(function(b,g){!(_e.isUndefined(b)||b===null)&&e.append(s===!0?q1([m],g,o):s===null?m:m+"[]",f(b))}),!1}return Zm(p)?!0:(e.append(q1(y,m,o),f(p)),!1)}const c=[],d=Object.assign(P7,{defaultVisitor:u,convertValue:f,isVisitable:Zm});function h(p,m){if(!_e.isUndefined(p)){if(c.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(p),_e.forEach(p,function(v,_){(!(_e.isUndefined(v)||v===null)&&i.call(e,v,_e.isString(_)?_.trim():_,m,d))===!0&&h(v,m?m.concat(_):[_])}),c.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return h(t),e}function H1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function fy(t,e){this._pairs=[],t&&ih(t,this,e)}const P2=fy.prototype;P2.append=function(e,n){this._pairs.push([e,n])};P2.toString=function(e){const n=e?function(r){return e.call(this,r,H1)}:H1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function C7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C2(t,e,n){if(!e)return t;const r=n&&n.encode||C7,i=n&&n.serialize;let o;if(i?o=i(e,n):o=_e.isURLSearchParams(e)?e.toString():new fy(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class z1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(r){r!==null&&e(r)})}}const D2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D7=typeof URLSearchParams<"u"?URLSearchParams:fy,N7=typeof FormData<"u"?FormData:null,M7=typeof Blob<"u"?Blob:null,L7={isBrowser:!0,classes:{URLSearchParams:D7,FormData:N7,Blob:M7},protocols:["http","https","file","blob","url","data"]},hy=typeof window<"u"&&typeof document<"u",$7=(t=>hy&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),V7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F7=hy&&window.location.href||"http://localhost",U7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hy,hasStandardBrowserEnv:$7,hasStandardBrowserWebWorkerEnv:V7,origin:F7},Symbol.toStringTag,{value:"Module"})),zr={...U7,...L7};function B7(t,e){return ih(t,new zr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return zr.isNode&&_e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function j7(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q7(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function N2(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&_e.isArray(i)?i.length:s,l?(_e.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!_e.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&_e.isArray(i[s])&&(i[s]=q7(i[s])),!a)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(r,i)=>{e(j7(r),i,n,0)}),n}return null}function H7(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const zu={transitional:D2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=_e.isObject(e);if(o&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return i?JSON.stringify(N2(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B7(e,this.formSerializer).toString();if((a=_e.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ih(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),H7(e)):e}],transformResponse:[function(e){const n=this.transitional||zu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?nt.from(a,nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zr.classes.FormData,Blob:zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{zu.headers[t]={}});const z7=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K7=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&z7[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},K1=Symbol("internals");function cl(t){return t&&String(t).trim().toLowerCase()}function Gc(t){return t===!1||t==null?t:_e.isArray(t)?t.map(Gc):String(t)}function W7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Y7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fp(t,e,n,r,i){if(_e.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_e.isString(e)){if(_e.isString(r))return e.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(e)}}function G7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Q7(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class hr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,f){const u=cl(l);if(!u)throw new Error("header name must be a non-empty string");const c=_e.findKey(i,u);(!c||i[c]===void 0||f===!0||f===void 0&&i[c]!==!1)&&(i[c||l]=Gc(a))}const s=(a,l)=>_e.forEach(a,(f,u)=>o(f,u,l));if(_e.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(_e.isString(e)&&(e=e.trim())&&!Y7(e))s(K7(e),n);else if(_e.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=cl(e),e){const r=_e.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return W7(i);if(_e.isFunction(n))return n.call(this,i,r);if(_e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=cl(e),e){const r=_e.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Fp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=cl(s),s){const a=_e.findKey(r,s);a&&(!n||Fp(r,r[a],a,n))&&(delete r[a],i=!0)}}return _e.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Fp(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return _e.forEach(this,(i,o)=>{const s=_e.findKey(r,o);if(s){n[s]=Gc(i),delete n[o];return}const a=e?G7(o):String(o).trim();a!==o&&delete n[o],n[a]=Gc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[K1]=this[K1]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=cl(s);r[a]||(Q7(i,s),r[a]=!0)}return _e.isArray(e)?e.forEach(o):o(e),this}}hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(hr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_e.freezeMethods(hr);function Up(t,e){const n=this||zu,r=e||n,i=hr.from(r.headers);let o=r.data;return _e.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function M2(t){return!!(t&&t.__CANCEL__)}function Wa(t,e,n){nt.call(this,t??"canceled",nt.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(Wa,nt,{__CANCEL__:!0});function L2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function X7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function J7(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const f=Date.now(),u=r[o];s||(s=f),n[i]=l,r[i]=f;let c=o,d=0;for(;c!==i;)d+=n[c++],c=c%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-s<e)return;const h=u&&f-u;return h?Math.round(d*1e3/h):void 0}}function Z7(t,e){let n=0;const r=1e3/e;let i=null;return function(){const s=this===!0,a=Date.now();if(s||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Nd=(t,e,n=3)=>{let r=0;const i=J7(50,250);return Z7(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,f=i(l),u=s<=a;r=s;const c={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:f||void 0,estimated:f&&a&&u?(a-s)/f:void 0,event:o,lengthComputable:a!=null};c[e?"download":"upload"]=!0,t(c)},n)},eq=zr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=_e.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),tq=zr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&s.push("path="+r),_e.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $2(t,e){return t&&!nq(e)?rq(t,e):e}const W1=t=>t instanceof hr?{...t}:t;function As(t,e){e=e||{};const n={};function r(f,u,c){return _e.isPlainObject(f)&&_e.isPlainObject(u)?_e.merge.call({caseless:c},f,u):_e.isPlainObject(u)?_e.merge({},u):_e.isArray(u)?u.slice():u}function i(f,u,c){if(_e.isUndefined(u)){if(!_e.isUndefined(f))return r(void 0,f,c)}else return r(f,u,c)}function o(f,u){if(!_e.isUndefined(u))return r(void 0,u)}function s(f,u){if(_e.isUndefined(u)){if(!_e.isUndefined(f))return r(void 0,f)}else return r(void 0,u)}function a(f,u,c){if(c in e)return r(f,u);if(c in t)return r(void 0,f)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(f,u)=>i(W1(f),W1(u),!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),function(u){const c=l[u]||i,d=c(t[u],e[u],u);_e.isUndefined(d)&&c!==a||(n[u]=d)}),n}const V2=t=>{const e=As({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=hr.from(s),e.url=C2($2(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(_e.isFormData(n)){if(zr.hasStandardBrowserEnv||zr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[f,...u]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...u].join("; "))}}if(zr.hasStandardBrowserEnv&&(r&&_e.isFunction(r)&&(r=r(e)),r||r!==!1&&eq(e.url))){const f=i&&o&&tq.read(o);f&&s.set(i,f)}return e},iq=typeof XMLHttpRequest<"u",oq=iq&&function(t){return new Promise(function(n,r){const i=V2(t);let o=i.data;const s=hr.from(i.headers).normalize();let{responseType:a}=i,l;function f(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let u=new XMLHttpRequest;u.open(i.method.toUpperCase(),i.url,!0),u.timeout=i.timeout;function c(){if(!u)return;const h=hr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:t,request:u};L2(function(v){n(v),f()},function(v){r(v),f()},m),u=null}"onloadend"in u?u.onloadend=c:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(c)},u.onabort=function(){u&&(r(new nt("Request aborted",nt.ECONNABORTED,i,u)),u=null)},u.onerror=function(){r(new nt("Network Error",nt.ERR_NETWORK,i,u)),u=null},u.ontimeout=function(){let p=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const m=i.transitional||D2;i.timeoutErrorMessage&&(p=i.timeoutErrorMessage),r(new nt(p,m.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,i,u)),u=null},o===void 0&&s.setContentType(null),"setRequestHeader"in u&&_e.forEach(s.toJSON(),function(p,m){u.setRequestHeader(m,p)}),_e.isUndefined(i.withCredentials)||(u.withCredentials=!!i.withCredentials),a&&a!=="json"&&(u.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&u.addEventListener("progress",Nd(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Nd(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=h=>{u&&(r(!h||h.type?new Wa(null,t,u):h),u.abort(),u=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const d=X7(i.url);if(d&&zr.protocols.indexOf(d)===-1){r(new nt("Unsupported protocol "+d+":",nt.ERR_BAD_REQUEST,t));return}u.send(o||null)})},sq=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,s();const f=l instanceof Error?l:this.reason;n.abort(f instanceof nt?f:new Wa(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{i(new nt(`timeout ${e} of ms exceeded`,nt.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},aq=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},lq=async function*(t,e,n){for await(const r of t)yield*aq(ArrayBuffer.isView(r)?r:await n(String(r)),e)},Y1=(t,e,n,r,i)=>{const o=lq(t,e,i);let s=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:f}=await o.next();if(l){a.close(),r();return}let u=f.byteLength;n&&n(s+=u),a.enqueue(new Uint8Array(f))},cancel(a){return r(a),o.return()}},{highWaterMark:2})},G1=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},oh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",F2=oh&&typeof ReadableStream=="function",eg=oh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uq=F2&&(()=>{let t=!1;const e=new Request(zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),Q1=64*1024,tg=F2&&!!(()=>{try{return _e.isReadableStream(new Response("").body)}catch{}})(),Md={stream:tg&&(t=>t.body)};oh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Md[e]&&(Md[e]=_e.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new nt(`Response type '${e}' is not supported`,nt.ERR_NOT_SUPPORT,r)})})})(new Response);const cq=async t=>{if(t==null)return 0;if(_e.isBlob(t))return t.size;if(_e.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(_e.isArrayBufferView(t))return t.byteLength;if(_e.isURLSearchParams(t)&&(t=t+""),_e.isString(t))return(await eg(t)).byteLength},dq=async(t,e)=>{const n=_e.toFiniteNumber(t.getContentLength());return n??cq(e)},fq=oh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:f,headers:u,withCredentials:c="same-origin",fetchOptions:d}=V2(t);f=f?(f+"").toLowerCase():"text";let[h,p]=i||o||s?sq([i,o],s):[],m,y;const v=()=>{!m&&setTimeout(()=>{h&&h.unsubscribe()}),m=!0};let _;try{if(l&&uq&&n!=="get"&&n!=="head"&&(_=await dq(u,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),S;_e.isFormData(r)&&(S=k.headers.get("content-type"))&&u.setContentType(S),k.body&&(r=Y1(k.body,Q1,G1(_,Nd(l)),null,eg))}_e.isString(c)||(c=c?"cors":"omit"),y=new Request(e,{...d,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:c});let b=await fetch(y);const g=tg&&(f==="stream"||f==="response");if(tg&&(a||g)){const k={};["status","statusText","headers"].forEach(E=>{k[E]=b[E]});const S=_e.toFiniteNumber(b.headers.get("content-length"));b=new Response(Y1(b.body,Q1,a&&G1(S,Nd(a,!0)),g&&v,eg),k)}f=f||"text";let w=await Md[_e.findKey(Md,f)||"text"](b,t);return!g&&v(),p&&p(),await new Promise((k,S)=>{L2(k,S,{data:w,headers:hr.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:y})})}catch(b){throw v(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new nt("Network Error",nt.ERR_NETWORK,t,y),{cause:b.cause||b}):nt.from(b,b&&b.code,t,y)}}),ng={http:R7,xhr:oq,fetch:fq};_e.forEach(ng,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const X1=t=>`- ${t}`,hq=t=>_e.isFunction(t)||t===null||t===!1,U2={getAdapter:t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!hq(n)&&(r=ng[(s=String(n)).toLowerCase()],r===void 0))throw new nt(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(X1).join(`
`):" "+X1(o[0]):"as no adapter specified";throw new nt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:ng};function Bp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wa(null,t)}function J1(t){return Bp(t),t.headers=hr.from(t.headers),t.data=Up.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),U2.getAdapter(t.adapter||zu.adapter)(t).then(function(r){return Bp(t),r.data=Up.call(t,t.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return M2(r)||(Bp(t),r&&r.response&&(r.response.data=Up.call(t,t.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const B2="1.7.2",py={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{py[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Z1={};py.transitional=function(e,n,r){function i(o,s){return"[Axios v"+B2+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new nt(i(s," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!Z1[s]&&(Z1[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function pq(t,e,n){if(typeof t!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new nt("option "+o+" must be "+l,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+o,nt.ERR_BAD_OPTION)}}const rg={assertOptions:pq,validators:py},oo=rg.validators;class ms{constructor(e){this.defaults=e,this.interceptors={request:new z1,response:new z1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=As(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&rg.assertOptions(r,{silentJSONParsing:oo.transitional(oo.boolean),forcedJSONParsing:oo.transitional(oo.boolean),clarifyTimeoutError:oo.transitional(oo.boolean)},!1),i!=null&&(_e.isFunction(i)?n.paramsSerializer={serialize:i}:rg.assertOptions(i,{encode:oo.function,serialize:oo.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&_e.merge(o.common,o[n.method]);o&&_e.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=hr.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const f=[];this.interceptors.response.forEach(function(m){f.push(m.fulfilled,m.rejected)});let u,c=0,d;if(!l){const p=[J1.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,f),d=p.length,u=Promise.resolve(n);c<d;)u=u.then(p[c++],p[c++]);return u}d=a.length;let h=n;for(c=0;c<d;){const p=a[c++],m=a[c++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=J1.call(this,h)}catch(p){return Promise.reject(p)}for(c=0,d=f.length;c<d;)u=u.then(f[c++],f[c++]);return u}getUri(e){e=As(this.defaults,e);const n=$2(e.baseURL,e.url);return C2(n,e.params,e.paramsSerializer)}}_e.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(n,r){return this.request(As(r||{},{method:e,url:n,data:(r||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(As(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ms.prototype[e]=n(),ms.prototype[e+"Form"]=n(!0)});class my{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Wa(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new my(function(i){e=i}),cancel:e}}}function mq(t){return function(n){return t.apply(null,n)}}function gq(t){return _e.isObject(t)&&t.isAxiosError===!0}const ig={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ig).forEach(([t,e])=>{ig[e]=t});function j2(t){const e=new ms(t),n=b2(ms.prototype.request,e);return _e.extend(n,ms.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return j2(As(t,i))},n}const Xt=j2(zu);Xt.Axios=ms;Xt.CanceledError=Wa;Xt.CancelToken=my;Xt.isCancel=M2;Xt.VERSION=B2;Xt.toFormData=ih;Xt.AxiosError=nt;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=mq;Xt.isAxiosError=gq;Xt.mergeConfig=As;Xt.AxiosHeaders=hr;Xt.formToJSON=t=>N2(_e.isHTMLForm(t)?new FormData(t):t);Xt.getAdapter=U2.getAdapter;Xt.HttpStatusCode=ig;Xt.default=Xt;const Qi=t=>(Gd("data-v-23ea89fa"),t=t(),Qd(),t),vq=Qi(()=>N("div",{class:"flex justify-between mb-4 items-start"},[N("h1",{class:"font-medium"},"Online Grmeler")],-1)),yq={action:"",class:"flex items-center mb-4"},_q={class:"relative w-full mr-2"},bq=Qi(()=>N("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1)),wq={class:"flex"},Eq={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},Tq=Qi(()=>N("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),Aq=Qi(()=>N("p",{class:"text-sm font-medium text-gray-800"},"Grme stekleri",-1)),kq={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},xq=Qi(()=>N("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),Iq=Qi(()=>N("p",{class:"text-sm font-medium text-gray-800"},"Kabul Edilenler",-1)),Sq={class:"inline-flex items-center space-x-2 p-2 cursor-pointer"},Rq=Qi(()=>N("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1)),Oq=Qi(()=>N("p",{class:"text-sm font-medium text-gray-800"},"Beklemede Olanlar",-1)),Pq={key:0,class:"w-full mt-4 table-fixed"},Cq=Qi(()=>N("thead",null,[N("tr",null,[N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Avukat "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danan "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Danan Tel "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Tarih "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Saat "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Grme Tr "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Evrak "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," deme "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black py-2 px-4 bg-gray-100 text-left"}," Durum ")])],-1)),Dq={class:"py-2 px-4 border-b border-b-gray-200"},Nq={class:"flex items-center"},Mq={class:"text-gray-600 text-sm font-medium hover:text-blue-500"},Lq={class:"py-2 px-4 border-b border-b-gray-200"},$q={class:"text-[13px] font-medium text-gray-600"},Vq={class:"py-2 px-4 border-b border-b-gray-200"},Fq={class:"text-[13px] font-medium text-gray-600"},Uq={class:"py-2 px-4 border-b border-b-gray-200"},Bq={class:"text-[13px] font-medium text-gray-600"},jq={class:"py-2 px-4 border-b border-b-gray-200"},qq={class:"text-[13px] font-medium text-gray-600"},Hq={class:"py-2 border-b px-4 border-b-gray-200"},zq={class:"tooltip"},Kq={class:"w-10 h-10 flex items-center justify-center bg-gray-600 text-white text-xl font-medium rounded-full ml-2 ring-0"},Wq={class:"tooltiptext"},Yq={class:"py-2 px-4 border-b border-b-gray-200"},Gq=["onClick"],Qq={class:"py-2 border-b px-4 border-b-gray-200"},Xq={class:"tooltip"},Jq={class:"tooltiptext"},Zq={class:"py-2 px-4 border-b border-b-gray-200"},eH={class:"tooltip"},tH=["onClick"],nH={class:"tooltiptext"},rH={class:"pagination-container flex justify-end mt-4 w-full"},iH=["disabled"],oH=["disabled"],sH={__name:"OnlineMeetingsManagement",props:{showAll:Boolean,uid:String},emits:["goBack"],setup(t,{emit:e}){const n=$o(),r=me(()=>n.getters.userRole),i=t,o=e,s=he(null),a=he(!1),l=he(!1),f=he(!1),u=he(null),c=he([]),d=he({requests:!1,accepted:!1,pending:!1}),h=he(85),p=me(()=>{const B={};return v.value.forEach(se=>{B[se.status]?B[se.status]++:B[se.status]=1}),B}),m=me(()=>v.value.filter(B=>B.status==="1").length),y=me(()=>{const B={};return v.value.forEach(G=>{B[G.attorney_name]?B[G.attorney_name]++:B[G.attorney_name]=1}),Object.entries(B).sort((G,W)=>W[1]-G[1]).map(([G,W])=>({name:G,meetings:W})).slice(0,3)}),v=he([]),_=hu(Fr,"meetings"),b=me(()=>v.value.length),g=he(1),w=he(10),k=he(""),S=()=>{o("goBack")},E=async(B,se,G)=>{const W=new Date(B.seconds*1e3).toISOString().split(".")[0]+"Z";console.log("start_time_iso",W);try{const ne=await Xt.post("https://ykt7hblm31.execute-api.eu-north-1.amazonaws.com/prod/create-meeting",{start_time:W,owner_email:se,customer_email:G});return console.log("response data",ne.data),console.log("Meeting created successfully"),ne.data.meetLink}catch(ne){ne.response?(console.error("Error response data:",ne.response.data),console.error("Error response status:",ne.response.status),console.error("Error response headers:",ne.response.headers)):ne.request?console.error("No response received:",ne.request):console.error("Error setting up the request:",ne.message)}};async function x(){v.value=await Promise.all(v.value.map(async B=>{if(B.id===s.value.id){B.status="1",console.log("Meeting data to set meeting",B);try{const se=await E(B.date_time,B.attorney_email,B.customer_email);B.meeting_url=se,await q(B),console.log("Meeting updated successfully:",B),I(B),s.value={}}catch(se){console.error("Failed to create meeting URL:",se)}}return B}))}const I=async B=>{try{const se=await Xt.post("https://ykt7hblm31.execute-api.eu-north-1.amazonaws.com/prod/send-meeting-accepted-email",{customer_name:B.customer_name,attorney_name:B.attorney_name,date_for_display:B.date_for_display,day:B.day,slot:B.slot,end_time:B.end_time,customer_email:B.customer_email,meeting_url:B.meeting_url},{headers:{"Content-Type":"application/json"}});console.log(se.data)}catch(se){console.error("Error sending appointment recieved email:",se)}};function A(B){v.value=v.value.map(se=>(se.id===s.value.id&&(se.status="3",se.reject_reason=B),se))}function T(B,se){a.value=!0,u.value=B,c.value=se}function R(B){l.value=!0,s.value=B,f.value=!0}const M=me(()=>{let B=v.value;k.value&&(B=B.filter(ne=>ne.customer_name.toLowerCase().includes(k.value.toLowerCase())));const{requests:se,accepted:G,pending:W}=d.value;return(se||G||W)&&(B=B.filter(ne=>{let oe=!1;return se&&ne.status==="0"&&(oe=!0),G&&ne.status==="1"&&(oe=!0),W&&ne.status==="4"&&(oe=!0),oe})),B}),C=me(()=>(g.value-1)*w.value),O=me(()=>{if(M.value.length===0){const B=C.value,se=B+w.value;return v.value.slice(B,se)}else return M.value.slice(C.value,C.value+w.value)}),P=me(()=>M.value.length===0?Math.ceil(v.value.length/w.value):Math.ceil(M.value.length/w.value)),X=()=>{g.value<P.value&&g.value++},H=()=>{g.value>1&&g.value--};he(null);const U=B=>{switch(B){case"0":return{color:"bg-blue-300 hover:bg-blue-400",text:"stek",icon:"ri-user-add-line"};case"1":return{color:"bg-green-300 hover:bg-green-400 ",text:"Kabul edildi",icon:"ri-calendar-check-line"};case"2":return{color:"bg-gray-300 hover:bg-gray-400 ",text:"Tamamland",icon:"ri-check-line"};case"3":return{color:"bg-red-300 hover:bg-red-400 ",text:"Reddedildi",icon:"ri-close-line"};case"4":return{color:"bg-orange-200",text:"Mteri onay",icon:"ri-time-line"};case"5":return{color:"bg-orange-200",text:"Avukat onay",icon:"ri-time-line"};case"6":return{color:"bg-gray-600 text-white hover:bg-gray-700 ",text:"ptal Edildi",icon:"ri-calendar-close-line"};default:return{color:"bg-gray-200",text:"Unknown status",icon:"ri-question-line"}}},$=B=>U(B).color,F=B=>U(B).icon,D=B=>U(B).text,K=B=>{switch(B){case"0":return{class:"bg-orange-300",text:"Bekleniyor",icon:"ri-time-line"};case"1":return{class:"bg-green-300",text:"dendi",icon:"ri-check-double-line"};case"2":return{class:"bg-red-300",text:"denmedi",icon:"ri-close-line"};default:return{class:"bg-gray-200",text:"Bilinmiyor",icon:"ri-question-line"}}},z=B=>K(B).class,j=B=>K(B).icon,V=B=>K(B).text,Z=B=>{switch(B){case"phone":return{class:"bg-orange-300",text:"Telefonla Grme",icon:"ri-phone-line"};case"video":return{class:"bg-green-300",text:"Online Video Grme",icon:"ri-video-on-line"};case"office":return{class:"bg-red-300",text:"Yzyze Grme",icon:"ri-user-line"};default:return{class:"bg-gray-200",icon:"ri-question-line"}}},Y=B=>Z(B).icon,ie=B=>Z(B).text;async function ue(){let B=[];return(await Od(_)).forEach(G=>{B.push({id:G.id,...G.data()})}),B}async function ee(){try{const B=localStorage.getItem("cachedMeetings"),se=localStorage.getItem("cachedTimeMeetings"),G=0*60*1e3;if(B&&se&&new Date-new Date(parseInt(se))<G)return JSON.parse(B);{const W=await ue();return localStorage.setItem("cachedMeetings",JSON.stringify(W)),localStorage.setItem("cachedTimeMeetings",new Date().getTime().toString()),W}}catch(B){return console.error("Error getting meetings:",B),[]}}async function q(B){console.log("Received updated meeting data:",B);try{console.log("Updating document with ID:",B.id),await ea(xr(Fr,"meetings",B.id),B),localStorage.setItem("cachedMeetings",JSON.stringify(v.value))}catch(se){console.error("Error updating meeting document:",se)}}function Q(B){const se={1:1,0:2,4:3,5:3,2:4,3:5,6:6,7:7};return B.sort((G,W)=>{const ne=se[G.status]-se[W.status];if(ne!==0)return ne;{const oe=new Date(G.date_time.seconds*1e3),de=new Date(W.date_time.seconds*1e3);return oe-de}})}return Tt(async()=>{const B=await ee(),se=Q(B);i.showAll?v.value=se:v.value=se.filter(G=>G.attorney_id===i.uid),console.log("Meetings data:",v.value)}),(B,se)=>(re(),ce("div",null,[r.value==="admin"?(re(),ce("button",{key:0,onClick:S,class:"bg-green-700 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dn ")):ye("",!0),qe(u9,{show:a.value,onClose:se[0]||(se[0]=G=>a.value=!1),customerDocuments:c.value,customerNotes:u.value},null,8,["show","customerDocuments","customerNotes"]),l.value?(re(),je(Hj,{key:1,keepStatusModalOpen:f.value,meetingData:s.value,onSetMeeting:x,onRejectMeeting:A,onClose:se[1]||(se[1]=G=>l.value=!1)},null,8,["keepStatusModalOpen","meetingData"])):ye("",!0),qe(OB,{totalMeetings:b.value,approvedMeetings:m.value,satisfactionRate:h.value,meetingStatusSummary:p.value,topAttorneys:y.value,showTopAttorneys:i.showAll,showAttorneySchedule:!i.showAll},null,8,["totalMeetings","approvedMeetings","satisfactionRate","meetingStatusSummary","topAttorneys","showTopAttorneys","showAttorneySchedule"]),qe(_2,{class:"p-6"},{default:ze(()=>{var G;return[vq,N("form",yq,[N("div",_q,[wt(N("input",{"onUpdate:modelValue":se[2]||(se[2]=W=>k.value=W),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Mteri ismine gre ara..."},null,512),[[yi,k.value]]),bq])]),N("div",wq,[N("label",Eq,[wt(N("input",{"onUpdate:modelValue":se[3]||(se[3]=W=>d.value.requests=W),type:"checkbox",class:"sr-only peer"},null,512),[[sa,d.value.requests]]),Tq,Aq]),N("label",kq,[wt(N("input",{"onUpdate:modelValue":se[4]||(se[4]=W=>d.value.accepted=W),type:"checkbox",class:"sr-only peer"},null,512),[[sa,d.value.accepted]]),xq,Iq]),N("label",Sq,[wt(N("input",{"onUpdate:modelValue":se[5]||(se[5]=W=>d.value.pending=W),type:"checkbox",class:"sr-only peer"},null,512),[[sa,d.value.pending]]),Rq,Oq])]),(G=v.value)!=null&&G.length?(re(),ce("table",Pq,[Cq,N("tbody",null,[(re(!0),ce(Pe,null,Xe(O.value,W=>(re(),ce("tr",{key:W.id},[N("td",Dq,[N("div",Nq,[N("span",Mq,Ie(W.attorney_name),1)])]),N("td",Lq,[N("span",$q,Ie(W.customer_name),1)]),N("td",Vq,[N("span",Fq,Ie(W.customer_phone),1)]),N("td",Uq,[N("span",Bq,Ie(le(Xm)(W.date_time,B.format="date")),1)]),N("td",jq,[N("span",qq,Ie(le(Xm)(W.date_time,B.format="time")),1)]),N("td",Hq,[N("div",zq,[N("div",Kq,[N("i",{class:We(Y(W.type))},null,2),N("span",Wq,Ie(ie(W.type)),1)])])]),N("td",Yq,[N("button",{onClick:ne=>T(W.notes,W.customer_documents),class:"ri-file-text-line flex items-center justify-center ml-2 text-lg bg-yellow-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,Gq)]),N("td",Qq,[N("div",Xq,[N("div",{class:We(["w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0",z(W.payment_status)])},[N("i",{class:We(j(W.payment_status))},null,2),N("span",Jq,Ie(V(W.payment_status)),1)],2)])]),N("td",Zq,[N("div",eH,[N("button",{onClick:ne=>R(W),class:We([$(W.status),"w-10 h-10 flex items-center justify-center font-medium rounded-full ml-2 ring-0 focus:ring-[0.12rem] focus:ring-gray-600 focus:outline-none"])},[N("i",{class:We(F(W.status))},null,2)],10,tH),N("span",nH,Ie(D(W.status)),1)])])]))),128))])])):ye("",!0),N("div",rH,[N("button",{onClick:H,disabled:g.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,iH),N("button",{onClick:X,disabled:g.value===P.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,oH)])]}),_:1})]))}},aH=ei(sH,[["__scopeId","data-v-23ea89fa"]]),eb={__name:"OnlineMeetings",setup(t){const e=he(!0),n=$o(),r=me(()=>n.getters.userRole),i=me(()=>n.getters.user?n.getters.user.uid:null),o=he("");r.value!=="admin"&&(o.value=i.value,e.value=!1);const s=a=>{o.value=a,e.value=!1};return(a,l)=>r.value==="admin"&&e.value?(re(),je(D$,{key:0,onOptionSelected:s})):(re(),je(aH,{key:1,showAll:o.value==="showAll",uid:o.value,onGoBack:l[0]||(l[0]=f=>e.value=!0)},null,8,["showAll","uid"]))}},lH={key:0,id:"deleteModal",class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},uH={class:"bg-white rounded-lg p-4 max-w-sm w-full"},cH=N("div",{class:"mb-4"},[N("p",{class:"text-gray-800 text-sm"},"Bu blog yazsn silmek istediinize emin misiniz?")],-1),dH={class:"flex justify-end"},fH={__name:"DeleteModal",props:{show:Boolean},setup(t){return(e,n)=>t.show?(re(),ce("div",lH,[N("div",uH,[cH,N("div",dH,[N("button",{onClick:n[0]||(n[0]=r=>e.$emit("close")),id:"cancelDelete",class:"bg-gray-300 text-gray-800 rounded px-4 py-2 mr-2"},"Hayr"),N("button",{onClick:n[1]||(n[1]=r=>e.$emit("delete")),id:"confirmDelete",class:"bg-red-600 text-white rounded px-4 py-2"},"Evet")])])])):ye("",!0)}};var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H2={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Cn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),f=i(46),u=i(47),c=i(48),d=i(49),h=i(12),p=i(32),m=i(33),y=i(31),v=i(1),_={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:c.default,Scroll:l.default,Block:u.default,Inline:f.default,Text:d.default,Attributor:{Attribute:h.default,Class:p.default,Style:m.default,Store:y.default}};r.default=_},function(n,r,i){var o=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var b in _)_.hasOwnProperty(b)&&(v[b]=_[b])};return function(v,_){y(v,_);function b(){this.constructor=v}v.prototype=_===null?Object.create(_):(b.prototype=_.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(y){o(v,y);function v(_){var b=this;return _="[Parchment] "+_,b=y.call(this,_)||this,b.message=_,b.name=b.constructor.name,b}return v}(Error);r.ParchmentError=s;var a={},l={},f={},u={};r.DATA_KEY="__blot";var c;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function d(y,v){var _=p(y);if(_==null)throw new s("Unable to create "+y+" blot");var b=_,g=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:b.create(v);return new b(g,v)}r.create=d;function h(y,v){return v===void 0&&(v=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:v?h(y.parentNode,v):null}r.find=h;function p(y,v){v===void 0&&(v=c.ANY);var _;if(typeof y=="string")_=u[y]||a[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)_=u.text;else if(typeof y=="number")y&c.LEVEL&c.BLOCK?_=u.block:y&c.LEVEL&c.INLINE&&(_=u.inline);else if(y instanceof HTMLElement){var b=(y.getAttribute("class")||"").split(/\s+/);for(var g in b)if(_=l[b[g]],_)break;_=_||f[y.tagName]}return _==null?null:v&c.LEVEL&_.scope&&v&c.TYPE&_.scope?_:null}r.query=p;function m(){for(var y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];if(y.length>1)return y.map(function(g){return m(g)});var _=y[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new s("Invalid definition");if(_.blotName==="abstract")throw new s("Cannot register abstract class");if(u[_.blotName||_.attrName]=_,typeof _.keyName=="string")a[_.keyName]=_;else if(_.className!=null&&(l[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(g){return g.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var b=Array.isArray(_.tagName)?_.tagName:[_.tagName];b.forEach(function(g){(f[g]==null||_.className==null)&&(f[g]=_)})}return _}r.register=m},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),f="\0",u=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};u.prototype.insert=function(c,d){var h={};return c.length===0?this:(h.insert=c,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h))},u.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},u.prototype.retain=function(c,d){if(c<=0)return this;var h={retain:c};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(h.attributes=d),this.push(h)},u.prototype.push=function(c){var d=this.ops.length,h=this.ops[d-1];if(c=a(!0,{},c),typeof h=="object"){if(typeof c.delete=="number"&&typeof h.delete=="number")return this.ops[d-1]={delete:h.delete+c.delete},this;if(typeof h.delete=="number"&&c.insert!=null&&(d-=1,h=this.ops[d-1],typeof h!="object"))return this.ops.unshift(c),this;if(s(c.attributes,h.attributes)){if(typeof c.insert=="string"&&typeof h.insert=="string")return this.ops[d-1]={insert:h.insert+c.insert},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof h.retain=="number")return this.ops[d-1]={retain:h.retain+c.retain},typeof c.attributes=="object"&&(this.ops[d-1].attributes=c.attributes),this}}return d===this.ops.length?this.ops.push(c):this.ops.splice(d,0,c),this},u.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},u.prototype.filter=function(c){return this.ops.filter(c)},u.prototype.forEach=function(c){this.ops.forEach(c)},u.prototype.map=function(c){return this.ops.map(c)},u.prototype.partition=function(c){var d=[],h=[];return this.forEach(function(p){var m=c(p)?d:h;m.push(p)}),[d,h]},u.prototype.reduce=function(c,d){return this.ops.reduce(c,d)},u.prototype.changeLength=function(){return this.reduce(function(c,d){return d.insert?c+l.length(d):d.delete?c-d.delete:c},0)},u.prototype.length=function(){return this.reduce(function(c,d){return c+l.length(d)},0)},u.prototype.slice=function(c,d){c=c||0,typeof d!="number"&&(d=1/0);for(var h=[],p=l.iterator(this.ops),m=0;m<d&&p.hasNext();){var y;m<c?y=p.next(c-m):(y=p.next(d-m),h.push(y)),m+=l.length(y)}return new u(h)},u.prototype.compose=function(c){var d=l.iterator(this.ops),h=l.iterator(c.ops),p=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var y=m.retain;d.peekType()==="insert"&&d.peekLength()<=y;)y-=d.peekLength(),p.push(d.next());m.retain-y>0&&h.next(m.retain-y)}for(var v=new u(p);d.hasNext()||h.hasNext();)if(h.peekType()==="insert")v.push(h.next());else if(d.peekType()==="delete")v.push(d.next());else{var _=Math.min(d.peekLength(),h.peekLength()),b=d.next(_),g=h.next(_);if(typeof g.retain=="number"){var w={};typeof b.retain=="number"?w.retain=_:w.insert=b.insert;var k=l.attributes.compose(b.attributes,g.attributes,typeof b.retain=="number");if(k&&(w.attributes=k),v.push(w),!h.hasNext()&&s(v.ops[v.ops.length-1],w)){var S=new u(d.rest());return v.concat(S).chop()}}else typeof g.delete=="number"&&typeof b.retain=="number"&&v.push(g)}return v.chop()},u.prototype.concat=function(c){var d=new u(this.ops.slice());return c.ops.length>0&&(d.push(c.ops[0]),d.ops=d.ops.concat(c.ops.slice(1))),d},u.prototype.diff=function(c,d){if(this.ops===c.ops)return new u;var h=[this,c].map(function(_){return _.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:f;var g=_===c?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),p=new u,m=o(h[0],h[1],d),y=l.iterator(this.ops),v=l.iterator(c.ops);return m.forEach(function(_){for(var b=_[1].length;b>0;){var g=0;switch(_[0]){case o.INSERT:g=Math.min(v.peekLength(),b),p.push(v.next(g));break;case o.DELETE:g=Math.min(b,y.peekLength()),y.next(g),p.delete(g);break;case o.EQUAL:g=Math.min(y.peekLength(),v.peekLength(),b);var w=y.next(g),k=v.next(g);s(w.insert,k.insert)?p.retain(g,l.attributes.diff(w.attributes,k.attributes)):p.push(k).delete(g);break}b-=g}}),p.chop()},u.prototype.eachLine=function(c,d){d=d||`
`;for(var h=l.iterator(this.ops),p=new u,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),v=l.length(y)-h.peekLength(),_=typeof y.insert=="string"?y.insert.indexOf(d,v)-v:-1;if(_<0)p.push(h.next());else if(_>0)p.push(h.next(_));else{if(c(p,h.next(1).attributes||{},m)===!1)return;m+=1,p=new u}}p.length()>0&&c(p,{},m)},u.prototype.transform=function(c,d){if(d=!!d,typeof c=="number")return this.transformPosition(c,d);for(var h=l.iterator(this.ops),p=l.iterator(c.ops),m=new u;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(d||p.peekType()!=="insert"))m.retain(l.length(h.next()));else if(p.peekType()==="insert")m.push(p.next());else{var y=Math.min(h.peekLength(),p.peekLength()),v=h.next(y),_=p.next(y);if(v.delete)continue;_.delete?m.push(_):m.retain(y,l.attributes.transform(v.attributes,_.attributes,d))}return m.chop()},u.prototype.transformPosition=function(c,d){d=!!d;for(var h=l.iterator(this.ops),p=0;h.hasNext()&&p<=c;){var m=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){c-=Math.min(m,c-p);continue}else y==="insert"&&(p<c||!d)&&(c+=m);p+=m}return c},n.exports=u},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},f=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var y;for(y in h);return typeof y>"u"||i.call(h,y)},u=function(h,p){s&&p.name==="__proto__"?s(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(a)return a(h,p).value}else return;return h[p]};n.exports=function d(){var h,p,m,y,v,_,b=arguments[0],g=1,w=arguments.length,k=!1;for(typeof b=="boolean"&&(k=b,b=arguments[1]||{},g=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});g<w;++g)if(h=arguments[g],h!=null)for(p in h)m=c(b,p),y=c(h,p),b!==y&&(k&&y&&(f(y)||(v=l(y)))?(v?(v=!1,_=m&&l(m)?m:[]):_=m&&f(m)?m:{},u(b,{name:p,newValue:d(k,_,y)})):typeof y<"u"&&u(b,{name:p,newValue:y}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function A(T,R){for(var M=0;M<R.length;M++){var C=R[M];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,R,M){return R&&A(T.prototype,R),M&&A(T,M),T}}(),s=function A(T,R,M){T===null&&(T=Function.prototype);var C=Object.getOwnPropertyDescriptor(T,R);if(C===void 0){var O=Object.getPrototypeOf(T);return O===null?void 0:A(O,R,M)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(M)}},a=i(3),l=b(a),f=i(2),u=b(f),c=i(0),d=b(c),h=i(16),p=b(h),m=i(6),y=b(m),v=i(7),_=b(v);function b(A){return A&&A.__esModule?A:{default:A}}function g(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function w(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function k(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var S=1,E=function(A){k(T,A);function T(){return g(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"attach",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,C){var O=d.default.query(M,d.default.Scope.BLOCK_ATTRIBUTE);O!=null&&this.attributes.attribute(O,C)}},{key:"formatAt",value:function(M,C,O,P){this.format(O,P)}},{key:"insertAt",value:function(M,C,O){if(typeof C=="string"&&C.endsWith(`
`)){var P=d.default.create(x.blotName);this.parent.insertBefore(P,M===0?this:this.next),P.insertAt(0,C.slice(0,-1))}else s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,M,C,O)}}]),T}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var x=function(A){k(T,A);function T(R){g(this,T);var M=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R));return M.cache={},M}return o(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(M,C){return C.length()===0?M:M.insert(C.value(),I(C))},new u.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(M,C){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,M,C),this.cache={}}},{key:"formatAt",value:function(M,C,O,P){C<=0||(d.default.query(O,d.default.Scope.BLOCK)?M+C===this.length()&&this.format(O,P):s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,M,Math.min(C,this.length()-M-1),O,P),this.cache={})}},{key:"insertAt",value:function(M,C,O){if(O!=null)return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,M,C,O);if(C.length!==0){var P=C.split(`
`),X=P.shift();X.length>0&&(M<this.length()-1||this.children.tail==null?s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),X):this.children.tail.insertAt(this.children.tail.length(),X),this.cache={});var H=this;P.reduce(function(U,$){return H=H.split(U,!0),H.insertAt(0,$),$.length},M+X.length)}}},{key:"insertBefore",value:function(M,C){var O=this.children.head;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,M,C),O instanceof p.default&&O.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(M,C){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,M,C),this.cache={}}},{key:"optimize",value:function(M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C&&(M===0||M>=this.length()-S)){var O=this.clone();return M===0?(this.parent.insertBefore(O,this),this):(this.parent.insertBefore(O,this.next),O)}else{var P=s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,M,C);return this.cache={},P}}}]),T}(d.default.Block);x.blotName="block",x.tagName="P",x.defaultChild="break",x.allowedChildren=[y.default,d.default.Embed,_.default];function I(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(T=(0,l.default)(T,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?T:I(A.parent,T)}r.bubbleFormats=I,r.BlockEmbed=E,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(U,$){var F=[],D=!0,K=!1,z=void 0;try{for(var j=U[Symbol.iterator](),V;!(D=(V=j.next()).done)&&(F.push(V.value),!($&&F.length===$));D=!0);}catch(Z){K=!0,z=Z}finally{try{!D&&j.return&&j.return()}finally{if(K)throw z}}return F}return function(U,$){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return H(U,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(U,$){for(var F=0;F<$.length;F++){var D=$[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(U,D.key,D)}}return function(U,$,F){return $&&H(U.prototype,$),F&&H(U,F),U}}();i(50);var l=i(2),f=I(l),u=i(14),c=I(u),d=i(8),h=I(d),p=i(9),m=I(p),y=i(0),v=I(y),_=i(15),b=I(_),g=i(3),w=I(g),k=i(10),S=I(k),E=i(34),x=I(E);function I(H){return H&&H.__esModule?H:{default:H}}function A(H,U,$){return U in H?Object.defineProperty(H,U,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[U]=$,H}function T(H,U){if(!(H instanceof U))throw new TypeError("Cannot call a class as a function")}var R=(0,S.default)("quill"),M=function(){a(H,null,[{key:"debug",value:function($){$===!0&&($="log"),S.default.level($)}},{key:"find",value:function($){return $.__quill||v.default.find($)}},{key:"import",value:function($){return this.imports[$]==null&&R.error("Cannot import "+$+". Are you sure it was registered?"),this.imports[$]}},{key:"register",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof $!="string"){var z=$.attrName||$.blotName;typeof z=="string"?this.register("formats/"+z,$,F):Object.keys($).forEach(function(j){D.register(j,$[j],F)})}else this.imports[$]!=null&&!K&&R.warn("Overwriting "+$+" with",F),this.imports[$]=F,($.startsWith("blots/")||$.startsWith("formats/"))&&F.blotName!=="abstract"?v.default.register(F):$.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function H(U){var $=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,H),this.options=C(U,F),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",U);this.options.debug&&H.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(z){z===h.default.events.TEXT_CHANGE&&$.root.classList.toggle("ql-blank",$.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(z,j){var V=$.selection.lastRange,Z=V&&V.length===0?V.index:void 0;O.call($,function(){return $.editor.update(null,j,Z)},z)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(H,[{key:"addContainer",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof $=="string"){var D=$;$=document.createElement("div"),$.classList.add(D)}return this.container.insertBefore($,F),$}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function($,F,D){var K=this,z=P($,F,D),j=s(z,4);return $=j[0],F=j[1],D=j[3],O.call(this,function(){return K.editor.deleteText($,F)},D,$,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable($),this.container.classList.toggle("ql-disabled",!$)}},{key:"focus",value:function(){var $=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=$,this.scrollIntoView()}},{key:"format",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return O.call(this,function(){var z=D.getSelection(!0),j=new f.default;if(z==null)return j;if(v.default.query($,v.default.Scope.BLOCK))j=D.editor.formatLine(z.index,z.length,A({},$,F));else{if(z.length===0)return D.selection.format($,F),j;j=D.editor.formatText(z.index,z.length,A({},$,F))}return D.setSelection(z,h.default.sources.SILENT),j},K)}},{key:"formatLine",value:function($,F,D,K,z){var j=this,V=void 0,Z=P($,F,D,K,z),Y=s(Z,4);return $=Y[0],F=Y[1],V=Y[2],z=Y[3],O.call(this,function(){return j.editor.formatLine($,F,V)},z,$,0)}},{key:"formatText",value:function($,F,D,K,z){var j=this,V=void 0,Z=P($,F,D,K,z),Y=s(Z,4);return $=Y[0],F=Y[1],V=Y[2],z=Y[3],O.call(this,function(){return j.editor.formatText($,F,V)},z,$,0)}},{key:"getBounds",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof $=="number"?D=this.selection.getBounds($,F):D=this.selection.getBounds($.index,$.length);var K=this.container.getBoundingClientRect();return{bottom:D.bottom-K.top,height:D.height,left:D.left-K.left,right:D.right-K.left,top:D.top-K.top,width:D.width}}},{key:"getContents",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,D=P($,F),K=s(D,2);return $=K[0],F=K[1],this.editor.getContents($,F)}},{key:"getFormat",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof $=="number"?this.editor.getFormat($,F):this.editor.getFormat($.index,$.length)}},{key:"getIndex",value:function($){return $.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function($){return this.scroll.leaf($)}},{key:"getLine",value:function($){return this.scroll.line($)}},{key:"getLines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof $!="number"?this.scroll.lines($.index,$.length):this.scroll.lines($,F)}},{key:"getModule",value:function($){return this.theme.modules[$]}},{key:"getSelection",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-$,D=P($,F),K=s(D,2);return $=K[0],F=K[1],this.editor.getText($,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function($,F,D){var K=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return O.call(this,function(){return K.editor.insertEmbed($,F,D)},z,$)}},{key:"insertText",value:function($,F,D,K,z){var j=this,V=void 0,Z=P($,0,D,K,z),Y=s(Z,4);return $=Y[0],V=Y[2],z=Y[3],O.call(this,function(){return j.editor.insertText($,F,V)},z,$,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function($,F,D){this.clipboard.dangerouslyPasteHTML($,F,D)}},{key:"removeFormat",value:function($,F,D){var K=this,z=P($,F,D),j=s(z,4);return $=j[0],F=j[1],D=j[3],O.call(this,function(){return K.editor.removeFormat($,F)},D,$)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function($){var F=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return O.call(this,function(){$=new f.default($);var K=F.getLength(),z=F.editor.deleteText(0,K),j=F.editor.applyDelta($),V=j.ops[j.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),j.delete(1));var Z=z.compose(j);return Z},D)}},{key:"setSelection",value:function($,F,D){if($==null)this.selection.setRange(null,F||H.sources.API);else{var K=P($,F,D),z=s(K,4);$=z[0],F=z[1],D=z[3],this.selection.setRange(new _.Range($,F),D),D!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,D=new f.default().insert($);return this.setContents(D,F)}},{key:"update",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,F=this.scroll.update($);return this.selection.update($),F}},{key:"updateContents",value:function($){var F=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return O.call(this,function(){return $=new f.default($),F.editor.applyDelta($,D)},D,!0)}}]),H}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=h.default.events,M.sources=h.default.sources,M.version="1.3.7",M.imports={delta:f.default,parchment:v.default,"core/module":m.default,"core/theme":x.default};function C(H,U){if(U=(0,w.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},U),!U.theme||U.theme===M.DEFAULTS.theme)U.theme=x.default;else if(U.theme=M.import("themes/"+U.theme),U.theme==null)throw new Error("Invalid theme "+U.theme+". Did you register it?");var $=(0,w.default)(!0,{},U.theme.DEFAULTS);[$,U].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(z){K.modules[z]===!0&&(K.modules[z]={})})});var F=Object.keys($.modules).concat(Object.keys(U.modules)),D=F.reduce(function(K,z){var j=M.import("modules/"+z);return j==null?R.error("Cannot load "+z+" module. Are you sure you registered it?"):K[z]=j.DEFAULTS||{},K},{});return U.modules!=null&&U.modules.toolbar&&U.modules.toolbar.constructor!==Object&&(U.modules.toolbar={container:U.modules.toolbar}),U=(0,w.default)(!0,{},M.DEFAULTS,{modules:D},$,U),["bounds","container","scrollingContainer"].forEach(function(K){typeof U[K]=="string"&&(U[K]=document.querySelector(U[K]))}),U.modules=Object.keys(U.modules).reduce(function(K,z){return U.modules[z]&&(K[z]=U.modules[z]),K},{}),U}function O(H,U,$,F){if(this.options.strict&&!this.isEnabled()&&U===h.default.sources.USER)return new f.default;var D=$==null?null:this.getSelection(),K=this.editor.delta,z=H();if(D!=null&&($===!0&&($=D.index),F==null?D=X(D,z,U):F!==0&&(D=X(D,$,F,U)),this.setSelection(D,h.default.sources.SILENT)),z.length()>0){var j,V=[h.default.events.TEXT_CHANGE,z,K,U];if((j=this.emitter).emit.apply(j,[h.default.events.EDITOR_CHANGE].concat(V)),U!==h.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,V)}}return z}function P(H,U,$,F,D){var K={};return typeof H.index=="number"&&typeof H.length=="number"?typeof U!="number"?(D=F,F=$,$=U,U=H.length,H=H.index):(U=H.length,H=H.index):typeof U!="number"&&(D=F,F=$,$=U,U=0),(typeof $>"u"?"undefined":o($))==="object"?(K=$,D=F):typeof $=="string"&&(F!=null?K[$]=F:D=$),D=D||h.default.sources.API,[H,U,K,D]}function X(H,U,$,F){if(H==null)return null;var D=void 0,K=void 0;if(U instanceof f.default){var z=[H.index,H.index+H.length].map(function(Y){return U.transformPosition(Y,F!==h.default.sources.USER)}),j=s(z,2);D=j[0],K=j[1]}else{var V=[H.index,H.index+H.length].map(function(Y){return Y<U||Y===U&&F===h.default.sources.USER?Y:$>=0?Y+$:Math.max(U,Y+$)}),Z=s(V,2);D=Z[0],K=Z[1]}return new _.Range(D,K-D)}r.expandConfig=C,r.overload=P,r.default=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(7),l=c(a),f=i(0),u=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){p(v,y);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"formatAt",value:function(b,g,w,k){if(v.compare(this.statics.blotName,w)<0&&u.default.query(w,u.default.Scope.BLOT)){var S=this.isolate(b,g);k&&S.wrap(w,k)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,b,g,w,k)}},{key:"optimize",value:function(b){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,b),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(b,g){var w=v.order.indexOf(b),k=v.order.indexOf(g);return w>=0||k>=0?w-k:b===g?0:b<g?-1:1}}]),v}(u.default.Inline);m.allowedChildren=[m,u.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(b,g){for(var w=0;w<g.length;w++){var k=g[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,g,w){return g&&_(b.prototype,g),w&&_(b,w),b}}(),s=function _(b,g,w){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,g);if(k===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:_(S,g,w)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(w)}},a=i(54),l=c(a),f=i(10),u=c(f);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function p(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var m=(0,u.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(_){document.addEventListener(_,function(){for(var b=arguments.length,g=Array(b),w=0;w<b;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,g)}})})});var v=function(_){p(b,_);function b(){d(this,b);var g=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return g.listeners={},g.on("error",m.error),g}return o(b,[{key:"emit",value:function(){m.log.apply(m,arguments),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var k=arguments.length,S=Array(k>1?k-1:0),E=1;E<k;E++)S[E-1]=arguments[E];(this.listeners[w.type]||[]).forEach(function(x){var I=x.node,A=x.handler;(w.target===I||I.contains(w.target))&&A.apply(void 0,[w].concat(S))})}},{key:"listenDOM",value:function(w,k,S){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:k,handler:S})}}]),b}(l.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=f};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(f){if(o.indexOf(f)<=o.indexOf(s)){for(var u,c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];(u=console)[f].apply(u,d)}}function l(f){return o.reduce(function(u,c){return u[c]=a.bind(console,c,f),u},{})}a.level=l.level=function(f){s=f},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,h,p){return p||(p={}),d===h?!0:d instanceof Date&&h instanceof Date?d.getTime()===h.getTime():!d||!h||typeof d!="object"&&typeof h!="object"?p.strict?d===h:d==h:c(d,h,p)};function f(d){return d==null}function u(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function c(d,h,p){var m,y;if(f(d)||f(h)||d.prototype!==h.prototype)return!1;if(a(d))return a(h)?(d=o.call(d),h=o.call(h),l(d,h,p)):!1;if(u(d)){if(!u(h)||d.length!==h.length)return!1;for(m=0;m<d.length;m++)if(d[m]!==h[m])return!1;return!0}try{var v=s(d),_=s(h)}catch{return!1}if(v.length!=_.length)return!1;for(v.sort(),_.sort(),m=v.length-1;m>=0;m--)if(v[m]!=_[m])return!1;for(m=v.length-1;m>=0;m--)if(y=v[m],!l(d[y],h[y],p))return!1;return typeof d==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,f,u){u===void 0&&(u={}),this.attrName=l,this.keyName=f;var c=o.Scope.TYPE&o.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&o.Scope.LEVEL|c:this.scope=o.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(f){return f.name})},a.prototype.add=function(l,f){return this.canAdd(l,f)?(l.setAttribute(this.keyName,f),!0):!1},a.prototype.canAdd=function(l,f){var u=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var f=l.getAttribute(this.keyName);return this.canAdd(l,f)&&f?f:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function E(x,I){var A=[],T=!0,R=!1,M=void 0;try{for(var C=x[Symbol.iterator](),O;!(T=(O=C.next()).done)&&(A.push(O.value),!(I&&A.length===I));T=!0);}catch(P){R=!0,M=P}finally{try{!T&&C.return&&C.return()}finally{if(R)throw M}}return A}return function(x,I){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return E(x,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(x,I){for(var A=0;A<I.length;A++){var T=I[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,I,A){return I&&E(x.prototype,I),A&&E(x,A),x}}(),a=function E(x,I,A){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,I);if(T===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:E(R,I,A)}else{if("value"in T)return T.value;var M=T.get;return M===void 0?void 0:M.call(A)}},l=i(2),f=_(l),u=i(0),c=_(u),d=i(4),h=_(d),p=i(6),m=_(p),y=i(7),v=_(y);function _(E){return E&&E.__esModule?E:{default:E}}function b(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function g(E,x){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:E}function w(E,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);E.prototype=Object.create(x&&x.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(E,x):E.__proto__=x)}var k=function(E){w(x,E);function x(){return b(this,x),g(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(m.default);k.blotName="code",k.tagName="CODE";var S=function(E){w(x,E);function x(){return b(this,x),g(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"delta",value:function(){var A=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(R,M){return R.insert(M).insert(`
`,A.formats())},new f.default)}},{key:"format",value:function(A,T){if(!(A===this.statics.blotName&&T)){var R=this.descendant(v.default,this.length()-1),M=o(R,1),C=M[0];C!=null&&C.deleteAt(C.length()-1,1),a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,A,T)}}},{key:"formatAt",value:function(A,T,R,M){if(T!==0&&!(c.default.query(R,c.default.Scope.BLOCK)==null||R===this.statics.blotName&&M===this.statics.formats(this.domNode))){var C=this.newlineIndex(A);if(!(C<0||C>=A+T)){var O=this.newlineIndex(A,!0)+1,P=C-O+1,X=this.isolate(O,P),H=X.next;X.format(R,M),H instanceof x&&H.formatAt(0,A-O+T-P,R,M)}}}},{key:"insertAt",value:function(A,T,R){if(R==null){var M=this.descendant(v.default,A),C=o(M,2),O=C[0],P=C[1];O.insertAt(P,T)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var R=this.domNode.textContent.slice(A).indexOf(`
`);return R>-1?A+R:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,A);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(A),T.moveChildren(this),T.remove())}},{key:"replace",value:function(A){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var R=c.default.find(T);R==null?T.parentNode.removeChild(T):R instanceof c.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(A){var T=a(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,A);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),x}(h.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=k,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},s=function(){function H(U,$){var F=[],D=!0,K=!1,z=void 0;try{for(var j=U[Symbol.iterator](),V;!(D=(V=j.next()).done)&&(F.push(V.value),!($&&F.length===$));D=!0);}catch(Z){K=!0,z=Z}finally{try{!D&&j.return&&j.return()}finally{if(K)throw z}}return F}return function(U,$){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return H(U,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function H(U,$){for(var F=0;F<$.length;F++){var D=$[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(U,D.key,D)}}return function(U,$,F){return $&&H(U.prototype,$),F&&H(U,F),U}}(),l=i(2),f=T(l),u=i(20),c=T(u),d=i(0),h=T(d),p=i(13),m=T(p),y=i(24),v=T(y),_=i(4),b=T(_),g=i(16),w=T(g),k=i(21),S=T(k),E=i(11),x=T(E),I=i(3),A=T(I);function T(H){return H&&H.__esModule?H:{default:H}}function R(H,U,$){return U in H?Object.defineProperty(H,U,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[U]=$,H}function M(H,U){if(!(H instanceof U))throw new TypeError("Cannot call a class as a function")}var C=/^[ -~]*$/,O=function(){function H(U){M(this,H),this.scroll=U,this.delta=this.getDelta()}return a(H,[{key:"applyDelta",value:function($){var F=this,D=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),$=X($),$.reduce(function(z,j){var V=j.retain||j.delete||j.insert.length||1,Z=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var Y=j.insert;Y.endsWith(`
`)&&D&&(D=!1,Y=Y.slice(0,-1)),z>=K&&!Y.endsWith(`
`)&&(D=!0),F.scroll.insertAt(z,Y);var ie=F.scroll.line(z),ue=s(ie,2),ee=ue[0],q=ue[1],Q=(0,A.default)({},(0,_.bubbleFormats)(ee));if(ee instanceof b.default){var B=ee.descendant(h.default.Leaf,q),se=s(B,1),G=se[0];Q=(0,A.default)(Q,(0,_.bubbleFormats)(G))}Z=c.default.attributes.diff(Q,Z)||{}}else if(o(j.insert)==="object"){var W=Object.keys(j.insert)[0];if(W==null)return z;F.scroll.insertAt(z,W,j.insert[W])}K+=V}return Object.keys(Z).forEach(function(ne){F.scroll.formatAt(z,V,ne,Z[ne])}),z+V},0),$.reduce(function(z,j){return typeof j.delete=="number"?(F.scroll.deleteAt(z,j.delete),z):z+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update($)}},{key:"deleteText",value:function($,F){return this.scroll.deleteAt($,F),this.update(new f.default().retain($).delete(F))}},{key:"formatLine",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(z){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[z])){var j=D.scroll.lines($,Math.max(F,1)),V=F;j.forEach(function(Z){var Y=Z.length();if(!(Z instanceof m.default))Z.format(z,K[z]);else{var ie=$-Z.offset(D.scroll),ue=Z.newlineIndex(ie+V)-ie+1;Z.formatAt(ie,ue,z,K[z])}V-=Y})}}),this.scroll.optimize(),this.update(new f.default().retain($).retain(F,(0,S.default)(K)))}},{key:"formatText",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(z){D.scroll.formatAt($,F,z,K[z])}),this.update(new f.default().retain($).retain(F,(0,S.default)(K)))}},{key:"getContents",value:function($,F){return this.delta.slice($,$+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function($,F){return $.concat(F.delta())},new f.default)}},{key:"getFormat",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],K=[];F===0?this.scroll.path($).forEach(function(j){var V=s(j,1),Z=V[0];Z instanceof b.default?D.push(Z):Z instanceof h.default.Leaf&&K.push(Z)}):(D=this.scroll.lines($,F),K=this.scroll.descendants(h.default.Leaf,$,F));var z=[D,K].map(function(j){if(j.length===0)return{};for(var V=(0,_.bubbleFormats)(j.shift());Object.keys(V).length>0;){var Z=j.shift();if(Z==null)return V;V=P((0,_.bubbleFormats)(Z),V)}return V});return A.default.apply(A.default,z)}},{key:"getText",value:function($,F){return this.getContents($,F).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function($,F,D){return this.scroll.insertAt($,F,D),this.update(new f.default().retain($).insert(R({},F,D)))}},{key:"insertText",value:function($,F){var D=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt($,F),Object.keys(K).forEach(function(z){D.scroll.formatAt($,F.length,z,K[z])}),this.update(new f.default().retain($).insert(F,(0,S.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var $=this.scroll.children.head;return $.statics.blotName!==b.default.blotName||$.children.length>1?!1:$.children.head instanceof w.default}},{key:"removeFormat",value:function($,F){var D=this.getText($,F),K=this.scroll.line($+F),z=s(K,2),j=z[0],V=z[1],Z=0,Y=new f.default;j!=null&&(j instanceof m.default?Z=j.newlineIndex(V)-V+1:Z=j.length()-V,Y=j.delta().slice(V,V+Z-1).insert(`
`));var ie=this.getContents($,F+Z),ue=ie.diff(new f.default().insert(D).concat(Y)),ee=new f.default().retain($).concat(ue);return this.applyDelta(ee)}},{key:"update",value:function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(C)&&h.default.find(F[0].target)){var z=h.default.find(F[0].target),j=(0,_.bubbleFormats)(z),V=z.offset(this.scroll),Z=F[0].oldValue.replace(v.default.CONTENTS,""),Y=new f.default().insert(Z),ie=new f.default().insert(z.value()),ue=new f.default().retain(V).concat(Y.diff(ie,D));$=ue.reduce(function(ee,q){return q.insert?ee.insert(q.insert,j):ee.push(q)},new f.default),this.delta=K.compose($)}else this.delta=this.getDelta(),(!$||!(0,x.default)(K.compose($),this.delta))&&($=K.diff(this.delta,D));return $}}]),H}();function P(H,U){return Object.keys(U).reduce(function($,F){return H[F]==null||(U[F]===H[F]?$[F]=U[F]:Array.isArray(U[F])?U[F].indexOf(H[F])<0&&($[F]=U[F].concat([H[F]])):$[F]=[U[F],H[F]]),$},{})}function X(H){return H.reduce(function(U,$){if($.insert===1){var F=(0,S.default)($.attributes);return delete F.image,U.insert({image:$.attributes.image},F)}if($.attributes!=null&&($.attributes.list===!0||$.attributes.bullet===!0)&&($=(0,S.default)($),$.attributes.list?$.attributes.list="ordered":($.attributes.list="bullet",delete $.attributes.bullet)),typeof $.insert=="string"){var D=$.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return U.insert(D,$.attributes)}return U.push($)},new f.default)}r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function E(x,I){var A=[],T=!0,R=!1,M=void 0;try{for(var C=x[Symbol.iterator](),O;!(T=(O=C.next()).done)&&(A.push(O.value),!(I&&A.length===I));T=!0);}catch(P){R=!0,M=P}finally{try{!T&&C.return&&C.return()}finally{if(R)throw M}}return A}return function(x,I){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return E(x,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(x,I){for(var A=0;A<I.length;A++){var T=I[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,I,A){return I&&E(x.prototype,I),A&&E(x,A),x}}(),a=i(0),l=v(a),f=i(21),u=v(f),c=i(11),d=v(c),h=i(8),p=v(h),m=i(10),y=v(m);function v(E){return E&&E.__esModule?E:{default:E}}function _(E){if(Array.isArray(E)){for(var x=0,I=Array(E.length);x<E.length;x++)I[x]=E[x];return I}else return Array.from(E)}function b(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}var g=(0,y.default)("quill:selection"),w=function E(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,E),this.index=x,this.length=I},k=function(){function E(x,I){var A=this;b(this,E),this.emitter=I,this.scroll=x,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(T,R){T===p.default.events.TEXT_CHANGE&&R.length()>0&&A.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var T=A.getNativeRange();T!=null&&T.start.node!==A.cursor.textNode&&A.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(T,R){if(R.range){var M=R.range,C=M.startNode,O=M.startOffset,P=M.endNode,X=M.endOffset;A.setNativeRange(C,O,P,X)}}),this.update(p.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var A=I.cursor.restore();if(!A)return;setTimeout(function(){I.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||l.default.query(I,l.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var R=l.default.find(T.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var M=R.split(T.start.offset);R.parent.insertBefore(this.cursor,M)}else R.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(I,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();I=Math.min(I,T-1),A=Math.min(I+A,T-1)-I;var R=void 0,M=this.scroll.leaf(I),C=o(M,2),O=C[0],P=C[1];if(O==null)return null;var X=O.position(P,!0),H=o(X,2);R=H[0],P=H[1];var U=document.createRange();if(A>0){U.setStart(R,P);var $=this.scroll.leaf(I+A),F=o($,2);if(O=F[0],P=F[1],O==null)return null;var D=O.position(P,!0),K=o(D,2);return R=K[0],P=K[1],U.setEnd(R,P),U.getBoundingClientRect()}else{var z="left",j=void 0;return R instanceof Text?(P<R.data.length?(U.setStart(R,P),U.setEnd(R,P+1)):(U.setStart(R,P-1),U.setEnd(R,P),z="right"),j=U.getBoundingClientRect()):(j=O.domNode.getBoundingClientRect(),P>0&&(z="right")),{bottom:j.top+j.height,height:j.height,left:j[z],right:j[z],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var A=I.getRangeAt(0);if(A==null)return null;var T=this.normalizeNative(A);return g.info("getNativeRange",T),T}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var A=this.normalizedToRange(I);return[A,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var A=this,T=[[I.start.node,I.start.offset]];I.native.collapsed||T.push([I.end.node,I.end.offset]);var R=T.map(function(O){var P=o(O,2),X=P[0],H=P[1],U=l.default.find(X,!0),$=U.offset(A.scroll);return H===0?$:U instanceof l.default.Container?$+U.length():$+U.index(X,H)}),M=Math.min(Math.max.apply(Math,_(R)),this.scroll.length()-1),C=Math.min.apply(Math,[M].concat(_(R)));return new w(C,M-C)}},{key:"normalizeNative",value:function(I){if(!S(this.root,I.startContainer)||!I.collapsed&&!S(this.root,I.endContainer))return null;var A={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[A.start,A.end].forEach(function(T){for(var R=T.node,M=T.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>M)R=R.childNodes[M],M=0;else if(R.childNodes.length===M)R=R.lastChild,M=R instanceof Text?R.data.length:R.childNodes.length+1;else break;T.node=R,T.offset=M}),A}},{key:"rangeToNative",value:function(I){var A=this,T=I.collapsed?[I.index]:[I.index,I.index+I.length],R=[],M=this.scroll.length();return T.forEach(function(C,O){C=Math.min(M-1,C);var P=void 0,X=A.scroll.leaf(C),H=o(X,2),U=H[0],$=H[1],F=U.position($,O!==0),D=o(F,2);P=D[0],$=D[1],R.push(P,$)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(I){var A=this.lastRange;if(A!=null){var T=this.getBounds(A.index,A.length);if(T!=null){var R=this.scroll.length()-1,M=this.scroll.line(Math.min(A.index,R)),C=o(M,1),O=C[0],P=O;if(A.length>0){var X=this.scroll.line(Math.min(A.index+A.length,R)),H=o(X,1);P=H[0]}if(!(O==null||P==null)){var U=I.getBoundingClientRect();T.top<U.top?I.scrollTop-=U.top-T.top:T.bottom>U.bottom&&(I.scrollTop+=T.bottom-U.bottom)}}}}},{key:"setNativeRange",value:function(I,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",I,A,T,R),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||T.parentNode==null))){var C=document.getSelection();if(C!=null)if(I!=null){this.hasFocus()||this.root.focus();var O=(this.getNativeRange()||{}).native;if(O==null||M||I!==O.startContainer||A!==O.startOffset||T!==O.endContainer||R!==O.endOffset){I.tagName=="BR"&&(A=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),T.tagName=="BR"&&(R=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var P=document.createRange();P.setStart(I,A),P.setEnd(T,R),C.removeAllRanges(),C.addRange(P)}}else C.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof A=="string"&&(T=A,A=!1),g.info("setRange",I),I!=null){var R=this.rangeToNative(I);this.setNativeRange.apply(this,_(R).concat([A]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,A=this.lastRange,T=this.getRange(),R=o(T,2),M=R[0],C=R[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(A,this.lastRange)){var O;!this.composing&&C!=null&&C.native.collapsed&&C.start.node!==this.cursor.textNode&&this.cursor.restore();var P=[p.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(A),I];if((O=this.emitter).emit.apply(O,[p.default.events.EDITOR_CHANGE].concat(P)),I!==p.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,P)}}}}]),E}();function S(E,x){try{x.parentNode}catch{return!1}return x instanceof Text&&(x=x.parentNode),E.contains(x)}r.Range=w,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(0),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"insertInto",value:function(v,_){v.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,v,_):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),f=function(c){o(d,c);function d(h){var p=c.call(this,h)||this;return p.build(),p}return d.prototype.appendChild=function(h){this.insertBefore(h)},d.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},d.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var m=u(p);h.insertBefore(m,h.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},d.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(m,y,v){m.deleteAt(y,v)})},d.prototype.descendant=function(h,p){var m=this.children.find(p),y=m[0],v=m[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,v]:y instanceof d?y.descendant(h,v):[null,-1]},d.prototype.descendants=function(h,p,m){p===void 0&&(p=0),m===void 0&&(m=Number.MAX_VALUE);var y=[],v=m;return this.children.forEachAt(p,m,function(_,b,g){(h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h)&&y.push(_),_ instanceof d&&(y=y.concat(_.descendants(h,b,v))),v-=g}),y},d.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),c.prototype.detach.call(this)},d.prototype.formatAt=function(h,p,m,y){this.children.forEachAt(h,p,function(v,_,b){v.formatAt(_,b,m,y)})},d.prototype.insertAt=function(h,p,m){var y=this.children.find(h),v=y[0],_=y[1];if(v)v.insertAt(_,p,m);else{var b=m==null?l.create("text",p):l.create(p,m);this.appendChild(b)}},d.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},d.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},d.prototype.moveChildren=function(h,p){this.children.forEach(function(m){h.insertBefore(m,p)})},d.prototype.optimize=function(h){if(c.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=l.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},d.prototype.path=function(h,p){p===void 0&&(p=!1);var m=this.children.find(h,p),y=m[0],v=m[1],_=[[this,h]];return y instanceof d?_.concat(y.path(v,p)):(y!=null&&_.push([y,v]),_)},d.prototype.removeChild=function(h){this.children.remove(h)},d.prototype.replace=function(h){h instanceof d&&h.moveChildren(this),c.prototype.replace.call(this,h)},d.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(y,v,_){y=y.split(v,p),m.appendChild(y)}),m},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(h,p){var m=this,y=[],v=[];h.forEach(function(_){_.target===m.domNode&&_.type==="childList"&&(y.push.apply(y,_.addedNodes),v.push.apply(v,_.removedNodes))}),v.forEach(function(_){if(!(_.parentNode!=null&&_.tagName!=="IFRAME"&&document.body.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(_);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===m.domNode)&&b.detach()}}),y.filter(function(_){return _.parentNode==m.domNode}).sort(function(_,b){return _===b?0:_.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(_){var b=null;_.nextSibling!=null&&(b=l.find(_.nextSibling));var g=u(_);(g.next!=b||g.next==null)&&(g.parent!=null&&g.parent.removeChild(m),m.insertBefore(g,b||void 0))})},d}(a.default);function u(c){var d=l.find(c);if(d==null)try{d=l.create(c)}catch{d=l.create(l.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(p){d.domNode.appendChild(p)}),c.parentNode&&c.parentNode.replaceChild(d.domNode,c),d.attach()}return d}r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),f=i(1),u=function(c){o(d,c);function d(h){var p=c.call(this,h)||this;return p.attributes=new a.default(p.domNode),p}return d.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},d.prototype.format=function(h,p){var m=f.query(h);m instanceof s.default?this.attributes.attribute(m,p):p&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},d.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},d.prototype.replaceWith=function(h,p){var m=c.prototype.replaceWith.call(this,h,p);return this.attributes.copy(m),m},d.prototype.update=function(h,p){var m=this;c.prototype.update.call(this,h,p),h.some(function(y){return y.target===m.domNode&&y.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(h,p){var m=c.prototype.wrap.call(this,h,p);return m instanceof d&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},d}(l.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.value=function(c){return!0},u.prototype.index=function(c,d){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},u.prototype.position=function(c,d){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(h+=1),[this.parent.domNode,h]},u.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(f,u,c){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var d=s(!0,{},u);c||(d=Object.keys(d).reduce(function(p,m){return d[m]!=null&&(p[m]=d[m]),p},{}));for(var h in f)f[h]!==void 0&&u[h]===void 0&&(d[h]=f[h]);return Object.keys(d).length>0?d:void 0},diff:function(f,u){typeof f!="object"&&(f={}),typeof u!="object"&&(u={});var c=Object.keys(f).concat(Object.keys(u)).reduce(function(d,h){return o(f[h],u[h])||(d[h]=u[h]===void 0?null:u[h]),d},{});return Object.keys(c).length>0?c:void 0},transform:function(f,u,c){if(typeof f!="object")return u;if(typeof u=="object"){if(!c)return u;var d=Object.keys(u).reduce(function(h,p){return f[p]===void 0&&(h[p]=u[p]),h},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(f){return new l(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function l(f){this.ops=f,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(f){f||(f=1/0);var u=this.ops[this.index];if(u){var c=this.offset,d=a.length(u);if(f>=d-c?(f=d-c,this.index+=1,this.offset=0):this.offset+=f,typeof u.delete=="number")return{delete:f};var h={};return u.attributes&&(h.attributes=u.attributes),typeof u.retain=="number"?h.retain=f:typeof u.insert=="string"?h.insert=u.insert.substr(c,f):h.insert=u.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,u=this.index,c=this.next(),d=this.ops.slice(this.index);return this.offset=f,this.index=u,[c].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(m,y){return y!=null&&m instanceof y}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function f(m,y,v,_,b){typeof y=="object"&&(v=y.depth,_=y.prototype,b=y.includeNonEnumerable,y=y.circular);var g=[],w=[],k=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof v>"u"&&(v=1/0);function S(E,x){if(E===null)return null;if(x===0)return E;var I,A;if(typeof E!="object")return E;if(o(E,s))I=new s;else if(o(E,a))I=new a;else if(o(E,l))I=new l(function(U,$){E.then(function(F){U(S(F,x-1))},function(F){$(S(F,x-1))})});else if(f.__isArray(E))I=[];else if(f.__isRegExp(E))I=new RegExp(E.source,p(E)),E.lastIndex&&(I.lastIndex=E.lastIndex);else if(f.__isDate(E))I=new Date(E.getTime());else{if(k&&Buffer.isBuffer(E))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(E.length):I=new Buffer(E.length),E.copy(I),I;o(E,Error)?I=Object.create(E):typeof _>"u"?(A=Object.getPrototypeOf(E),I=Object.create(A)):(I=Object.create(_),A=_)}if(y){var T=g.indexOf(E);if(T!=-1)return w[T];g.push(E),w.push(I)}o(E,s)&&E.forEach(function(U,$){var F=S($,x-1),D=S(U,x-1);I.set(F,D)}),o(E,a)&&E.forEach(function(U){var $=S(U,x-1);I.add($)});for(var R in E){var M;A&&(M=Object.getOwnPropertyDescriptor(A,R)),!(M&&M.set==null)&&(I[R]=S(E[R],x-1))}if(Object.getOwnPropertySymbols)for(var C=Object.getOwnPropertySymbols(E),R=0;R<C.length;R++){var O=C[R],P=Object.getOwnPropertyDescriptor(E,O);P&&!P.enumerable&&!b||(I[O]=S(E[O],x-1),P.enumerable||Object.defineProperty(I,O,{enumerable:!1}))}if(b)for(var X=Object.getOwnPropertyNames(E),R=0;R<X.length;R++){var H=X[R],P=Object.getOwnPropertyDescriptor(E,H);P&&P.enumerable||(I[H]=S(E[H],x-1),Object.defineProperty(I,H,{enumerable:!1}))}return I}return S(m,v)}f.clonePrototype=function(y){if(y===null)return null;var v=function(){};return v.prototype=y,new v};function u(m){return Object.prototype.toString.call(m)}f.__objToStr=u;function c(m){return typeof m=="object"&&u(m)==="[object Date]"}f.__isDate=c;function d(m){return typeof m=="object"&&u(m)==="[object Array]"}f.__isArray=d;function h(m){return typeof m=="object"&&u(m)==="[object RegExp]"}f.__isRegExp=h;function p(m){var y="";return m.global&&(y+="g"),m.ignoreCase&&(y+="i"),m.multiline&&(y+="m"),y}return f.__getRegExpFlags=p,f}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(A,T){var R=[],M=!0,C=!1,O=void 0;try{for(var P=A[Symbol.iterator](),X;!(M=(X=P.next()).done)&&(R.push(X.value),!(T&&R.length===T));M=!0);}catch(H){C=!0,O=H}finally{try{!M&&P.return&&P.return()}finally{if(C)throw O}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(A,T){for(var R=0;R<T.length;R++){var M=T[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,M.key,M)}}return function(A,T,R){return T&&I(A.prototype,T),R&&I(A,R),A}}(),a=function I(A,T,R){A===null&&(A=Function.prototype);var M=Object.getOwnPropertyDescriptor(A,T);if(M===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:I(C,T,R)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(R)}},l=i(0),f=g(l),u=i(8),c=g(u),d=i(4),h=g(d),p=i(16),m=g(p),y=i(13),v=g(y),_=i(25),b=g(_);function g(I){return I&&I.__esModule?I:{default:I}}function w(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function k(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function S(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}function E(I){return I instanceof h.default||I instanceof d.BlockEmbed}var x=function(I){S(A,I);function A(T,R){w(this,A);var M=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T));return M.emitter=R.emitter,Array.isArray(R.whitelist)&&(M.whitelist=R.whitelist.reduce(function(C,O){return C[O]=!0,C},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return s(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,M){var C=this.line(R),O=o(C,2),P=O[0],X=O[1],H=this.line(R+M),U=o(H,1),$=U[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,M),$!=null&&P!==$&&X>0){if(P instanceof d.BlockEmbed||$ instanceof d.BlockEmbed){this.optimize();return}if(P instanceof v.default){var F=P.newlineIndex(P.length(),!0);if(F>-1&&(P=P.split(F+1),P===$)){this.optimize();return}}else if($ instanceof v.default){var D=$.newlineIndex(0);D>-1&&$.split(D+1)}var K=$.children.head instanceof m.default?null:$.children.head;P.moveChildren($,K),P.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,M,C,O){this.whitelist!=null&&!this.whitelist[C]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,M,C,O),this.optimize())}},{key:"insertAt",value:function(R,M,C){if(!(C!=null&&this.whitelist!=null&&!this.whitelist[M])){if(R>=this.length())if(C==null||f.default.query(M,f.default.Scope.BLOCK)==null){var O=f.default.create(this.statics.defaultChild);this.appendChild(O),C==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),O.insertAt(0,M,C)}else{var P=f.default.create(M,C);this.appendChild(P)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,M,C);this.optimize()}}},{key:"insertBefore",value:function(R,M){if(R.statics.scope===f.default.Scope.INLINE_BLOT){var C=f.default.create(this.statics.defaultChild);C.appendChild(R),R=C}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,M)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(E,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,C=function O(P,X,H){var U=[],$=H;return P.children.forEachAt(X,H,function(F,D,K){E(F)?U.push(F):F instanceof f.default.Container&&(U=U.concat(O(F,D,$))),$-=K}),U};return C(this,R,M)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R,M),R.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,R,M))}},{key:"path",value:function(R){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var M=c.default.sources.USER;typeof R=="string"&&(M=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,M,R),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,M,R)}}}]),A}(f.default.Scroll);x.blotName="scroll",x.className="ql-editor",x.tagName="DIV",x.defaultChild="block",x.allowedChildren=[h.default,d.BlockEmbed,b.default],r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(V,Z){var Y=[],ie=!0,ue=!1,ee=void 0;try{for(var q=V[Symbol.iterator](),Q;!(ie=(Q=q.next()).done)&&(Y.push(Q.value),!(Z&&Y.length===Z));ie=!0);}catch(B){ue=!0,ee=B}finally{try{!ie&&q.return&&q.return()}finally{if(ue)throw ee}}return Y}return function(V,Z){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return j(V,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(V,Z){for(var Y=0;Y<Z.length;Y++){var ie=Z[Y];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(V,ie.key,ie)}}return function(V,Z,Y){return Z&&j(V.prototype,Z),Y&&j(V,Y),V}}(),l=i(21),f=I(l),u=i(11),c=I(u),d=i(3),h=I(d),p=i(2),m=I(p),y=i(20),v=I(y),_=i(0),b=I(_),g=i(5),w=I(g),k=i(10),S=I(k),E=i(9),x=I(E);function I(j){return j&&j.__esModule?j:{default:j}}function A(j,V,Z){return V in j?Object.defineProperty(j,V,{value:Z,enumerable:!0,configurable:!0,writable:!0}):j[V]=Z,j}function T(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function R(j,V){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:j}function M(j,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);j.prototype=Object.create(V&&V.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(j,V):j.__proto__=V)}var C=(0,S.default)("quill:keyboard"),O=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",P=function(j){M(V,j),a(V,null,[{key:"match",value:function(Y,ie){return ie=z(ie),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!ie[ue]!==Y[ue]&&ie[ue]!==null})?!1:ie.key===(Y.which||Y.keyCode)}}]);function V(Z,Y){T(this,V);var ie=R(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Z,Y));return ie.bindings={},Object.keys(ie.options.bindings).forEach(function(ue){ue==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||ie.options.bindings[ue]&&ie.addBinding(ie.options.bindings[ue])}),ie.addBinding({key:V.keys.ENTER,shiftKey:null},F),ie.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ie.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},H),ie.addBinding({key:V.keys.DELETE},{collapsed:!0},U)):(ie.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),ie.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},U)),ie.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},$),ie.addBinding({key:V.keys.DELETE},{collapsed:!1},$),ie.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),ie.listen(),ie}return a(V,[{key:"addBinding",value:function(Y){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=z(Y);if(ee==null||ee.key==null)return C.warn("Attempted to add invalid keyboard binding",ee);typeof ie=="function"&&(ie={handler:ie}),typeof ue=="function"&&(ue={handler:ue}),ee=(0,h.default)(ee,ie,ue),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(ie){if(!ie.defaultPrevented){var ue=ie.which||ie.keyCode,ee=(Y.bindings[ue]||[]).filter(function(De){return V.match(ie,De)});if(ee.length!==0){var q=Y.quill.getSelection();if(!(q==null||!Y.quill.hasFocus())){var Q=Y.quill.getLine(q.index),B=s(Q,2),se=B[0],G=B[1],W=Y.quill.getLeaf(q.index),ne=s(W,2),oe=ne[0],de=ne[1],te=q.length===0?[oe,de]:Y.quill.getLeaf(q.index+q.length),ge=s(te,2),ve=ge[0],we=ge[1],Se=oe instanceof b.default.Text?oe.value().slice(0,de):"",Le=ve instanceof b.default.Text?ve.value().slice(we):"",Oe={collapsed:q.length===0,empty:q.length===0&&se.length()<=1,format:Y.quill.getFormat(q),offset:G,prefix:Se,suffix:Le},Ge=ee.some(function(De){if(De.collapsed!=null&&De.collapsed!==Oe.collapsed||De.empty!=null&&De.empty!==Oe.empty||De.offset!=null&&De.offset!==Oe.offset)return!1;if(Array.isArray(De.format)){if(De.format.every(function(rt){return Oe.format[rt]==null}))return!1}else if(o(De.format)==="object"&&!Object.keys(De.format).every(function(rt){return De.format[rt]===!0?Oe.format[rt]!=null:De.format[rt]===!1?Oe.format[rt]==null:(0,c.default)(De.format[rt],Oe.format[rt])}))return!1;return De.prefix!=null&&!De.prefix.test(Oe.prefix)||De.suffix!=null&&!De.suffix.test(Oe.suffix)?!1:De.handler.call(Y,q,Oe)!==!0});Ge&&ie.preventDefault()}}}})}}]),V}(x.default);P.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},P.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:P.keys.TAB,format:["blockquote","indent","list"],handler:function(V,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:P.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:P.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,Z){Z.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:P.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,w.default.sources.USER)}},tab:{key:P.keys.TAB,handler:function(V){this.quill.history.cutoff();var Z=new m.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(Z,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,w.default.sources.SILENT)}},"list empty enter":{key:P.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,Z){this.quill.format("list",!1,w.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:P.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var Z=this.quill.getLine(V.index),Y=s(Z,2),ie=Y[0],ue=Y[1],ee=(0,h.default)({},ie.formats(),{list:"checked"}),q=new m.default().retain(V.index).insert(`
`,ee).retain(ie.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(q,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:P.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,Z){var Y=this.quill.getLine(V.index),ie=s(Y,2),ue=ie[0],ee=ie[1],q=new m.default().retain(V.index).insert(`
`,Z.format).retain(ue.length()-ee-1).retain(1,{header:null});this.quill.updateContents(q,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,Z){var Y=Z.prefix.length,ie=this.quill.getLine(V.index),ue=s(ie,2),ee=ue[0],q=ue[1];if(q>Y)return!0;var Q=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":Q="unchecked";break;case"[x]":Q="checked";break;case"-":case"*":Q="bullet";break;default:Q="ordered"}this.quill.insertText(V.index," ",w.default.sources.USER),this.quill.history.cutoff();var B=new m.default().retain(V.index-q).delete(Y+1).retain(ee.length()-2-q).retain(1,{list:Q});this.quill.updateContents(B,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-Y,w.default.sources.SILENT)}},"code exit":{key:P.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var Z=this.quill.getLine(V.index),Y=s(Z,2),ie=Y[0],ue=Y[1],ee=new m.default().retain(V.index+ie.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,w.default.sources.USER)}},"embed left":X(P.keys.LEFT,!1),"embed left shift":X(P.keys.LEFT,!0),"embed right":X(P.keys.RIGHT,!1),"embed right shift":X(P.keys.RIGHT,!0)}};function X(j,V){var Z,Y=j===P.keys.LEFT?"prefix":"suffix";return Z={key:j,shiftKey:V,altKey:null},A(Z,Y,/^$/),A(Z,"handler",function(ue){var ee=ue.index;j===P.keys.RIGHT&&(ee+=ue.length+1);var q=this.quill.getLeaf(ee),Q=s(q,1),B=Q[0];return B instanceof b.default.Embed?(j===P.keys.LEFT?V?this.quill.setSelection(ue.index-1,ue.length+1,w.default.sources.USER):this.quill.setSelection(ue.index-1,w.default.sources.USER):V?this.quill.setSelection(ue.index,ue.length+1,w.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,w.default.sources.USER),!1):!0}),Z}function H(j,V){if(!(j.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(j.index),Y=s(Z,1),ie=Y[0],ue={};if(V.offset===0){var ee=this.quill.getLine(j.index-1),q=s(ee,1),Q=q[0];if(Q!=null&&Q.length()>1){var B=ie.formats(),se=this.quill.getFormat(j.index-1,1);ue=v.default.attributes.diff(B,se)||{}}}var G=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(j.index-G,G,w.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(j.index-G,G,ue,w.default.sources.USER),this.quill.focus()}}function U(j,V){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(j.index>=this.quill.getLength()-Z)){var Y={},ie=0,ue=this.quill.getLine(j.index),ee=s(ue,1),q=ee[0];if(V.offset>=q.length()-1){var Q=this.quill.getLine(j.index+1),B=s(Q,1),se=B[0];if(se){var G=q.formats(),W=this.quill.getFormat(j.index,1);Y=v.default.attributes.diff(G,W)||{},ie=se.length()}}this.quill.deleteText(j.index,Z,w.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(j.index+ie-1,Z,Y,w.default.sources.USER)}}function $(j){var V=this.quill.getLines(j),Z={};if(V.length>1){var Y=V[0].formats(),ie=V[V.length-1].formats();Z=v.default.attributes.diff(ie,Y)||{}}this.quill.deleteText(j,w.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(j.index,1,Z,w.default.sources.USER),this.quill.setSelection(j.index,w.default.sources.SILENT),this.quill.focus()}function F(j,V){var Z=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var Y=Object.keys(V.format).reduce(function(ie,ue){return b.default.query(ue,b.default.Scope.BLOCK)&&!Array.isArray(V.format[ue])&&(ie[ue]=V.format[ue]),ie},{});this.quill.insertText(j.index,`
`,Y,w.default.sources.USER),this.quill.setSelection(j.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(ie){Y[ie]==null&&(Array.isArray(V.format[ie])||ie!=="link"&&Z.quill.format(ie,V.format[ie],w.default.sources.USER))})}function D(j){return{key:P.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(Z){var Y=b.default.query("code-block"),ie=Z.index,ue=Z.length,ee=this.quill.scroll.descendant(Y,ie),q=s(ee,2),Q=q[0],B=q[1];if(Q!=null){var se=this.quill.getIndex(Q),G=Q.newlineIndex(B,!0)+1,W=Q.newlineIndex(se+B+ue),ne=Q.domNode.textContent.slice(G,W).split(`
`);B=0,ne.forEach(function(oe,de){j?(Q.insertAt(G+B,Y.TAB),B+=Y.TAB.length,de===0?ie+=Y.TAB.length:ue+=Y.TAB.length):oe.startsWith(Y.TAB)&&(Q.deleteAt(G+B,Y.TAB.length),B-=Y.TAB.length,de===0?ie-=Y.TAB.length:ue-=Y.TAB.length),B+=oe.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(ie,ue,w.default.sources.SILENT)}}}}function K(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(Z,Y){this.quill.format(j,!Y.format[j],w.default.sources.USER)}}}function z(j){if(typeof j=="string"||typeof j=="number")return z({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,f.default)(j,!1)),typeof j.key=="string")if(P.keys[j.key.toUpperCase()]!=null)j.key=P.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[O]=j.shortKey,delete j.shortKey),j}r.default=P,r.SHORTKEY=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(_,b){var g=[],w=!0,k=!1,S=void 0;try{for(var E=_[Symbol.iterator](),x;!(w=(x=E.next()).done)&&(g.push(x.value),!(b&&g.length===b));w=!0);}catch(I){k=!0,S=I}finally{try{!w&&E.return&&E.return()}finally{if(k)throw S}}return g}return function(_,b){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return v(_,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),l=i(0),f=d(l),u=i(7),c=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function p(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function m(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var y=function(v){m(_,v),a(_,null,[{key:"value",value:function(){}}]);function _(b,g){h(this,_);var w=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return w.selection=g,w.textNode=document.createTextNode(_.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(_,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,g,w);for(var k=this,S=0;k!=null&&k.statics.scope!==f.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=_.CONTENTS.length,k.optimize(),k.formatAt(S,_.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),k=void 0,S=void 0,E=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var x=[g,w.start.offset,w.end.offset];k=x[0],S=x[1],E=x[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==_.CONTENTS){var I=this.textNode.data.split(_.CONTENTS).join("");this.next instanceof c.default?(k=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=_.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(_.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var A=[S,E].map(function(R){return Math.max(0,Math.min(k.data.length,R-1))}),T=o(A,2);return S=T[0],E=T[1],{startNode:k,startOffset:S,endNode:k,endOffset:E}}}}},{key:"update",value:function(g,w){var k=this;if(g.some(function(E){return E.type==="characterData"&&E.target===k.textNode})){var S=this.restore();S&&(w.range=S)}}},{key:"value",value:function(){return""}}]),_}(f.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=f(o),a=i(4),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=f(a);function f(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function c(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function d(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var h=function(y){d(v,y);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(b){var g=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,b);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),v}(l.default.Attributor.Style),p=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=p,r.ColorStyle=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function m(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),s=function m(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var g=Object.getPrototypeOf(y);return g===null?void 0:m(g,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(6),l=f(a);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(_,b){if(_!==this.statics.blotName||!b)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(_){var b=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return _=this.sanitize(_),b.setAttribute("href",_),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return p(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),y}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(m,y){var v=document.createElement("a");v.href=m;var _=v.href.slice(0,v.href.indexOf(":"));return y.indexOf(_)>-1}r.default=h,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),a=i(23),l=c(a),f=i(107),u=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var h=0;function p(y,v){y.setAttribute(v,y.getAttribute(v)!=="true")}var m=function(){function y(v){var _=this;d(this,y),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){_.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:_.togglePicker();break;case l.default.keys.ESCAPE:_.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(_){var b=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),_.hasAttribute("value")&&g.setAttribute("data-value",_.getAttribute("value")),_.textContent&&g.setAttribute("data-label",_.textContent),g.addEventListener("click",function(){b.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:b.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var _=document.createElement("span");return _.classList.add("ql-picker-label"),_.innerHTML=u.default,_.tabIndex="0",_.setAttribute("role","button"),_.setAttribute("aria-expanded","false"),this.container.appendChild(_),_}},{key:"buildOptions",value:function(){var _=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(g){var w=_.buildItem(g);b.appendChild(w),g.selected===!0&&_.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var _=this;[].slice.call(this.select.attributes).forEach(function(b){_.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _=this;this.close(),setTimeout(function(){return _.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(_!==g&&(g!=null&&g.classList.remove("ql-selected"),_!=null&&(_.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_.parentNode.children,_),_.hasAttribute("data-value")?this.label.setAttribute("data-value",_.getAttribute("data-value")):this.label.removeAttribute("data-value"),_.hasAttribute("data-label")?this.label.setAttribute("data-label",_.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var _=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var g=_!=null&&_!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),y}();r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=C(o),a=i(5),l=C(a),f=i(4),u=C(f),c=i(16),d=C(c),h=i(25),p=C(h),m=i(24),y=C(m),v=i(35),_=C(v),b=i(6),g=C(b),w=i(22),k=C(w),S=i(7),E=C(S),x=i(55),I=C(x),A=i(42),T=C(A),R=i(23),M=C(R);function C(O){return O&&O.__esModule?O:{default:O}}l.default.register({"blots/block":u.default,"blots/block/embed":f.BlockEmbed,"blots/break":d.default,"blots/container":p.default,"blots/cursor":y.default,"blots/embed":_.default,"blots/inline":g.default,"blots/scroll":k.default,"blots/text":E.default,"modules/clipboard":I.default,"modules/history":T.default,"modules/keyboard":M.default}),s.default.register(u.default,d.default,y.default,g.default,k.default,E.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?f=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?f=document.createElement(l):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,f){var u=this.isolate(l,f);u.remove()},a.prototype.formatAt=function(l,f,u,c){var d=this.isolate(l,f);if(o.query(u,o.Scope.BLOT)!=null&&c)d.wrap(u,c);else if(o.query(u,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);d.wrap(h),h.format(u,c)}},a.prototype.insertAt=function(l,f,u){var c=u==null?o.create("text",f):o.create(f,u),d=this.split(l);this.parent.insertBefore(c,d)},a.prototype.insertInto=function(l,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var u=null;l.children.insertBefore(this,f),f!=null&&(u=f.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=u)&&l.domNode.insertBefore(this.domNode,u),this.parent=l,this.attach()},a.prototype.isolate=function(l,f){var u=this.split(l);return u.split(f),u},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,f){var u=typeof l=="string"?o.create(l,f):l;return u.replace(this),u},a.prototype.split=function(l,f){return l===0?this:this.next},a.prototype.update=function(l,f){},a.prototype.wrap=function(l,f){var u=typeof l=="string"?o.create(l,f):l;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),f=function(){function u(c){this.attributes={},this.domNode=c,this.build()}return u.prototype.attribute=function(c,d){d?c.add(this.domNode,d)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},u.prototype.build=function(){var c=this;this.attributes={};var d=o.default.keys(this.domNode),h=s.default.keys(this.domNode),p=a.default.keys(this.domNode);d.concat(h).concat(p).forEach(function(m){var y=l.query(m,l.Scope.ATTRIBUTE);y instanceof o.default&&(c.attributes[y.attrName]=y)})},u.prototype.copy=function(c){var d=this;Object.keys(this.attributes).forEach(function(h){var p=d.attributes[h].value(d.domNode);c.format(h,p)})},u.prototype.move=function(c){var d=this;this.copy(c),Object.keys(this.attributes).forEach(function(h){d.attributes[h].remove(d.domNode)}),this.attributes={}},u.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(d,h){return d[h]=c.attributes[h].value(c.domNode),d},{})},u}();r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f,u){var c=f.getAttribute("class")||"";return c.split(/\s+/).filter(function(d){return d.indexOf(u+"-")===0})}var l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},u.prototype.add=function(c,d){return this.canAdd(c,d)?(this.remove(c),c.classList.add(this.keyName+"-"+d),!0):!1},u.prototype.remove=function(c){var d=a(c,this.keyName);d.forEach(function(h){c.classList.remove(h)}),c.classList.length===0&&c.removeAttribute("class")},u.prototype.value=function(c){var d=a(c,this.keyName)[0]||"",h=d.slice(this.keyName.length+1);return this.canAdd(c,h)?h:""},u}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(f){var u=f.split("-"),c=u.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return u[0]+c}var l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(d){var h=d.split(":");return h[0].trim()})},u.prototype.add=function(c,d){return this.canAdd(c,d)?(c.style[a(this.keyName)]=d,!0):!1},u.prototype.remove=function(c){c.style[a(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},u.prototype.value=function(c){var d=c.style[a(this.keyName)];return this.canAdd(c,d)?d:""},u}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,u,c){return u&&l(f.prototype,u),c&&l(f,c),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){s(this,l),this.quill=f,this.options=u,this.modules={}}return o(l,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(c){u.modules[c]==null&&u.addModule(c)})}},{key:"addModule",value:function(u){var c=this.quill.constructor.import("modules/"+u);return this.modules[u]=new c(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),s=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=c(a),f=i(7),u=c(f);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function p(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var m="\uFEFF",y=function(v){p(_,v);function _(b){d(this,_);var g=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(m),g.rightGuard=document.createTextNode(m),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(_,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,k=void 0,S=g.data.split(m).join("");if(g===this.leftGuard)if(this.prev instanceof u.default){var E=this.prev.length();this.prev.insertAt(E,S),w={startNode:this.prev.domNode,startOffset:E+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this),w={startNode:k,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,S),w={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this.next),w={startNode:k,startOffset:S.length}));return g.data=m,w}},{key:"update",value:function(g,w){var k=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var E=k.restore(S.target);E&&(w.range=E)}})}}]),_}(l.default.Embed);r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new s.default.Attributor.Attribute("align","align",l),u=new s.default.Attributor.Class("align","ql-align",l),c=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=f,r.AlignClass=u,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(c){return c&&c.__esModule?c:{default:c}}var f=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=f,r.BackgroundStyle=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},f=new s.default.Attributor.Attribute("direction","dir",l),u=new s.default.Attributor.Class("direction","ql-direction",l),c=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=f,r.DirectionClass=u,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function v(_,b){for(var g=0;g<b.length;g++){var w=b[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,g){return b&&v(_.prototype,b),g&&v(_,g),_}}(),s=function v(_,b,g){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:v(k,b,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=f(a);function f(v){return v&&v.__esModule?v:{default:v}}function u(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function c(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new l.default.Attributor.Class("font","ql-font",h),m=function(v){d(_,v);function _(){return u(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"value",value:function(g){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),_}(l.default.Attributor.Style),y=new m("font","font-family",h);r.FontStyle=y,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(u){return u&&u.__esModule?u:{default:u}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=f},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function b(g,w){for(var k=0;k<w.length;k++){var S=w[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,k){return w&&b(g.prototype,w),k&&b(g,k),g}}(),s=i(0),a=d(s),l=i(5),f=d(l),u=i(9),c=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function m(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var y=function(b){m(g,b);function g(w,k){h(this,g);var S=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(f.default.events.EDITOR_CHANGE,function(E,x,I,A){E!==f.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||A===f.default.sources.USER?S.record(x,I):S.transform(x))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(g,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var E=this.stack[k].pop();this.stack[S].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[k],f.default.sources.USER),this.ignoreChange=!1;var x=_(E[k]);this.quill.setSelection(x)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(S),x=Date.now();if(this.lastRecorded+this.options.delay>x&&this.stack.undo.length>0){var I=this.stack.undo.pop();E=E.compose(I.undo),k=I.redo.compose(k)}else this.lastRecorded=x;this.stack.undo.push({redo:k,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(c.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(b){var g=b.ops[b.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function _(b){var g=b.reduce(function(k,S){return k+=S.delete||0,k},0),w=b.length()-g;return v(b)&&(w-=1),w}r.default=y,r.getLastChangeIndex=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function F(D,K){for(var z=0;z<K.length;z++){var j=K[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,K,z){return K&&F(D.prototype,K),z&&F(D,z),D}}(),s=function F(D,K,z){D===null&&(D=Function.prototype);var j=Object.getOwnPropertyDescriptor(D,K);if(j===void 0){var V=Object.getPrototypeOf(D);return V===null?void 0:F(V,K,z)}else{if("value"in j)return j.value;var Z=j.get;return Z===void 0?void 0:Z.call(z)}},a=i(3),l=x(a),f=i(2),u=x(f),c=i(8),d=x(c),h=i(23),p=x(h),m=i(34),y=x(m),v=i(59),_=x(v),b=i(60),g=x(b),w=i(28),k=x(w),S=i(61),E=x(S);function x(F){return F&&F.__esModule?F:{default:F}}function I(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function A(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function T(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var R=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],C=[!1,"serif","monospace"],O=["1","2","3",!1],P=["small",!1,"large","huge"],X=function(F){T(D,F);function D(K,z){I(this,D);var j=A(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,K,z)),V=function Z(Y){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Z);j.tooltip!=null&&!j.tooltip.root.contains(Y.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(ie){ie.container.contains(Y.target)||ie.close()})};return K.emitter.listenDOM("click",document.body,V),j}return o(D,[{key:"addModule",value:function(z){var j=s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(z,j){z.forEach(function(V){var Z=V.getAttribute("class")||"";Z.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),j[Y]!=null))if(Y==="direction")V.innerHTML=j[Y][""]+j[Y].rtl;else if(typeof j[Y]=="string")V.innerHTML=j[Y];else{var ie=V.value||"";ie!=null&&j[Y][ie]&&(V.innerHTML=j[Y][ie])}})})}},{key:"buildPickers",value:function(z,j){var V=this;this.pickers=z.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&$(Y,R),new g.default(Y,j.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var ie=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&$(Y,M,ie==="background"?"#ffffff":"#000000"),new _.default(Y,j[ie])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?$(Y,C):Y.classList.contains("ql-header")?$(Y,O):Y.classList.contains("ql-size")&&$(Y,P)),new k.default(Y)});var Z=function(){V.pickers.forEach(function(ie){ie.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,Z)}}]),D}(y.default);X.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var z=new FileReader;z.onload=function(j){var V=D.quill.getSelection(!0);D.quill.updateContents(new u.default().retain(V.index).delete(V.length).insert({image:j.target.result}),d.default.sources.USER),D.quill.setSelection(V.index+1,d.default.sources.SILENT),K.value=""},z.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(F){T(D,F);function D(K,z){I(this,D);var j=A(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,K,z));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(D,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(j){p.default.match(j,"enter")?(z.save(),j.preventDefault()):p.default.match(j,"escape")&&(z.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":z=U(z);case"formula":{if(!z)break;var V=this.quill.getSelection(!0);if(V!=null){var Z=V.index+V.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",d.default.sources.USER),this.quill.setSelection(Z+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(E.default);function U(F){var D=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":F}function $(F,D){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(z){var j=document.createElement("option");z===K?j.setAttribute("selected","selected"):j.setAttribute("value",z),F.appendChild(j)})}r.BaseTooltip=H,r.default=X},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,f=this.iterator();l=f();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,f=this.head;f!=null;){if(f===a)return l;l+=f.length(),f=f.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var f,u=this.iterator();f=u();){var c=f.length();if(a<c||l&&a===c&&(f.next==null||f.next.length()!==0))return[f,a];a-=c}return[null,0]},s.prototype.forEach=function(a){for(var l,f=this.iterator();l=f();)a(l)},s.prototype.forEachAt=function(a,l,f){if(!(l<=0))for(var u=this.find(a),c=u[0],d=u[1],h,p=a-d,m=this.iterator(c);(h=m())&&p<a+l;){var y=h.length();a>p?f(h,a-p,Math.min(l,p+y-a)):f(h,0,Math.min(y,a+l-p)),p+=y}},s.prototype.map=function(a){return this.reduce(function(l,f){return l.push(a(f)),l},[])},s.prototype.reduce=function(a,l){for(var f,u=this.iterator();f=u();)l=a(l,f);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var p in h)h.hasOwnProperty(p)&&(d[p]=h[p])};return function(d,h){c(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,u=function(c){o(d,c);function d(h){var p=c.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(m){p.update(m)}),p.observer.observe(p.domNode,l),p.attach(),p}return d.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(m){m.remove()}):c.prototype.deleteAt.call(this,h,p)},d.prototype.formatAt=function(h,p,m,y){this.update(),c.prototype.formatAt.call(this,h,p,m,y)},d.prototype.insertAt=function(h,p,m){this.update(),c.prototype.insertAt.call(this,h,p,m)},d.prototype.optimize=function(h,p){var m=this;h===void 0&&(h=[]),p===void 0&&(p={}),c.prototype.optimize.call(this,p);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var v=function(w,k){k===void 0&&(k=!0),!(w==null||w===m)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),k&&v(w.parent))},_=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof s.default&&w.children.forEach(_),w.optimize(p))},b=h,g=0;b.length>0;g+=1){if(g>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var k=a.find(w.target,!0);k!=null&&(k.domNode===w.target&&(w.type==="childList"?(v(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(S){var E=a.find(S,!1);v(E,!1),E instanceof s.default&&E.children.forEach(function(x){v(x,!1)})})):w.type==="attributes"&&v(k.prev)),v(k))}),this.children.forEach(_),b=[].slice.call(this.observer.takeRecords()),y=b.slice();y.length>0;)h.push(y.pop())}},d.prototype.update=function(h,p){var m=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(y){var v=a.find(y.target,!0);return v==null?null:v.domNode[a.DATA_KEY].mutations==null?(v.domNode[a.DATA_KEY].mutations=[y],v):(v.domNode[a.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===m||y.domNode[a.DATA_KEY]==null||y.update(y.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(h,p)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){u(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(u,c){if(Object.keys(u).length!==Object.keys(c).length)return!1;for(var d in u)if(u[d]!==c[d])return!1;return!0}var f=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){if(d.tagName!==c.tagName)return u.formats.call(this,d)},c.prototype.format=function(d,h){var p=this;d===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(c.blotName,!0)),p.attributes.copy(m)}),this.unwrap()):u.prototype.format.call(this,d,h)},c.prototype.formatAt=function(d,h,p,m){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var y=this.isolate(d,h);y.format(p,m)}else u.prototype.formatAt.call(this,d,h,p,m)},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof c&&p.prev===this&&l(h,p.formats())&&(p.moveChildren(this),p.remove())},c.blotName="inline",c.scope=a.Scope.INLINE_BLOT,c.tagName="SPAN",c}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(f){o(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.formats=function(c){var d=a.query(u.blotName).tagName;if(c.tagName!==d)return f.formats.call(this,c)},u.prototype.format=function(c,d){a.query(c,a.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!d?this.replaceWith(u.blotName):f.prototype.format.call(this,c,d))},u.prototype.formatAt=function(c,d,h,p){a.query(h,a.Scope.BLOCK)!=null?this.format(h,p):f.prototype.formatAt.call(this,c,d,h,p)},u.prototype.insertAt=function(c,d,h){if(h==null||a.query(d,a.Scope.INLINE)!=null)f.prototype.insertAt.call(this,c,d,h);else{var p=this.split(c),m=a.create(d,h);p.parent.insertBefore(m,p)}},u.prototype.update=function(c,d){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,c,d)},u.blotName="block",u.scope=a.Scope.BLOCK_BLOT,u.tagName="P",u}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var c in u)u.hasOwnProperty(c)&&(f[c]=u[c])};return function(f,u){l(f,u);function c(){this.constructor=f}f.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(f,l);function f(){return l!==null&&l.apply(this,arguments)||this}return f.formats=function(u){},f.prototype.format=function(u,c){l.prototype.formatAt.call(this,0,this.length(),u,c)},f.prototype.formatAt=function(u,c,d,h){u===0&&c===this.length()?this.format(d,h):l.prototype.formatAt.call(this,u,c,d,h)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){f(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(f){o(u,f);function u(c){var d=f.call(this,c)||this;return d.text=d.statics.value(d.domNode),d}return u.create=function(c){return document.createTextNode(c)},u.value=function(c){var d=c.data;return d.normalize&&(d=d.normalize()),d},u.prototype.deleteAt=function(c,d){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+d)},u.prototype.index=function(c,d){return this.domNode===c?d:-1},u.prototype.insertAt=function(c,d,h){h==null?(this.text=this.text.slice(0,c)+d+this.text.slice(c),this.domNode.data=this.text):f.prototype.insertAt.call(this,c,d,h)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(c){f.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(c,d){return[this.domNode,c]},u.prototype.split=function(c,d){if(d===void 0&&(d=!1),!d){if(c===0)return this;if(c===this.length())return this.next}var h=a.create(this.domNode.splitText(c));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},u.prototype.update=function(c,d){var h=this;c.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=a.Scope.INLINE_BLOT,u}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var f=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>f.length)&&(l=f.length),l-=a.length;var u=f.indexOf(a,l);return u!==-1&&u===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),u=f.length>>>0,c=arguments[1],d,h=0;h<u;h++)if(d=f[h],l.call(c,d,h,f))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,w,k){if(g==w)return g?[[s,g]]:[];(k<0||g.length<k)&&(k=null);var S=c(g,w),E=g.substring(0,S);g=g.substring(S),w=w.substring(S),S=d(g,w);var x=g.substring(g.length-S);g=g.substring(0,g.length-S),w=w.substring(0,w.length-S);var I=l(g,w);return E&&I.unshift([s,E]),x&&I.push([s,x]),p(I),k!=null&&(I=v(I,k)),I=_(I),I}function l(g,w){var k;if(!g)return[[o,w]];if(!w)return[[i,g]];var S=g.length>w.length?g:w,E=g.length>w.length?w:g,x=S.indexOf(E);if(x!=-1)return k=[[o,S.substring(0,x)],[s,E],[o,S.substring(x+E.length)]],g.length>w.length&&(k[0][0]=k[2][0]=i),k;if(E.length==1)return[[i,g],[o,w]];var I=h(g,w);if(I){var A=I[0],T=I[1],R=I[2],M=I[3],C=I[4],O=a(A,R),P=a(T,M);return O.concat([[s,C]],P)}return f(g,w)}function f(g,w){for(var k=g.length,S=w.length,E=Math.ceil((k+S)/2),x=E,I=2*E,A=new Array(I),T=new Array(I),R=0;R<I;R++)A[R]=-1,T[R]=-1;A[x+1]=0,T[x+1]=0;for(var M=k-S,C=M%2!=0,O=0,P=0,X=0,H=0,U=0;U<E;U++){for(var $=-U+O;$<=U-P;$+=2){var F=x+$,D;$==-U||$!=U&&A[F-1]<A[F+1]?D=A[F+1]:D=A[F-1]+1;for(var K=D-$;D<k&&K<S&&g.charAt(D)==w.charAt(K);)D++,K++;if(A[F]=D,D>k)P+=2;else if(K>S)O+=2;else if(C){var z=x+M-$;if(z>=0&&z<I&&T[z]!=-1){var j=k-T[z];if(D>=j)return u(g,w,D,K)}}}for(var V=-U+X;V<=U-H;V+=2){var z=x+V,j;V==-U||V!=U&&T[z-1]<T[z+1]?j=T[z+1]:j=T[z-1]+1;for(var Z=j-V;j<k&&Z<S&&g.charAt(k-j-1)==w.charAt(S-Z-1);)j++,Z++;if(T[z]=j,j>k)H+=2;else if(Z>S)X+=2;else if(!C){var F=x+M-V;if(F>=0&&F<I&&A[F]!=-1){var D=A[F],K=x+D-F;if(j=k-j,D>=j)return u(g,w,D,K)}}}}return[[i,g],[o,w]]}function u(g,w,k,S){var E=g.substring(0,k),x=w.substring(0,S),I=g.substring(k),A=w.substring(S),T=a(E,x),R=a(I,A);return T.concat(R)}function c(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var k=0,S=Math.min(g.length,w.length),E=S,x=0;k<E;)g.substring(x,E)==w.substring(x,E)?(k=E,x=k):S=E,E=Math.floor((S-k)/2+k);return E}function d(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var k=0,S=Math.min(g.length,w.length),E=S,x=0;k<E;)g.substring(g.length-E,g.length-x)==w.substring(w.length-E,w.length-x)?(k=E,x=k):S=E,E=Math.floor((S-k)/2+k);return E}function h(g,w){var k=g.length>w.length?g:w,S=g.length>w.length?w:g;if(k.length<4||S.length*2<k.length)return null;function E(P,X,H){for(var U=P.substring(H,H+Math.floor(P.length/4)),$=-1,F="",D,K,z,j;($=X.indexOf(U,$+1))!=-1;){var V=c(P.substring(H),X.substring($)),Z=d(P.substring(0,H),X.substring(0,$));F.length<Z+V&&(F=X.substring($-Z,$)+X.substring($,$+V),D=P.substring(0,H-Z),K=P.substring(H+V),z=X.substring(0,$-Z),j=X.substring($+V))}return F.length*2>=P.length?[D,K,z,j,F]:null}var x=E(k,S,Math.ceil(k.length/4)),I=E(k,S,Math.ceil(k.length/2)),A;if(!x&&!I)return null;I?x?A=x[4].length>I[4].length?x:I:A=I:A=x;var T,R,M,C;g.length>w.length?(T=A[0],R=A[1],M=A[2],C=A[3]):(M=A[0],C=A[1],T=A[2],R=A[3]);var O=A[4];return[T,R,M,C,O]}function p(g){g.push([s,""]);for(var w=0,k=0,S=0,E="",x="",I;w<g.length;)switch(g[w][0]){case o:S++,x+=g[w][1],w++;break;case i:k++,E+=g[w][1],w++;break;case s:k+S>1?(k!==0&&S!==0&&(I=c(x,E),I!==0&&(w-k-S>0&&g[w-k-S-1][0]==s?g[w-k-S-1][1]+=x.substring(0,I):(g.splice(0,0,[s,x.substring(0,I)]),w++),x=x.substring(I),E=E.substring(I)),I=d(x,E),I!==0&&(g[w][1]=x.substring(x.length-I)+g[w][1],x=x.substring(0,x.length-I),E=E.substring(0,E.length-I))),k===0?g.splice(w-S,k+S,[o,x]):S===0?g.splice(w-k,k+S,[i,E]):g.splice(w-k-S,k+S,[i,E],[o,x]),w=w-k-S+(k?1:0)+(S?1:0)+1):w!==0&&g[w-1][0]==s?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,S=0,k=0,E="",x="";break}g[g.length-1][1]===""&&g.pop();var A=!1;for(w=1;w<g.length-1;)g[w-1][0]==s&&g[w+1][0]==s&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),A=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),A=!0)),w++;A&&p(g)}var m=a;m.INSERT=o,m.DELETE=i,m.EQUAL=s,n.exports=m;function y(g,w){if(w===0)return[s,g];for(var k=0,S=0;S<g.length;S++){var E=g[S];if(E[0]===i||E[0]===s){var x=k+E[1].length;if(w===x)return[S+1,g];if(w<x){g=g.slice();var I=w-k,A=[E[0],E[1].slice(0,I)],T=[E[0],E[1].slice(I)];return g.splice(S,1,A,T),[S+1,g]}else k=x}}throw new Error("cursor_pos is out of bounds!")}function v(g,w){var k=y(g,w),S=k[1],E=k[0],x=S[E],I=S[E+1];if(x==null)return g;if(x[0]!==s)return g;if(I!=null&&x[1]+I[1]===I[1]+x[1])return S.splice(E,2,I,x),b(S,E,2);if(I!=null&&I[1].indexOf(x[1])===0){S.splice(E,2,[I[0],x[1]],[0,x[1]]);var A=I[1].slice(x[1].length);return A.length>0&&S.splice(E+2,0,[I[0],A]),b(S,E,3)}else return g}function _(g){for(var w=!1,k=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},S=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},E=2;E<g.length;E+=1)g[E-2][0]===s&&S(g[E-2][1])&&g[E-1][0]===i&&k(g[E-1][1])&&g[E][0]===o&&k(g[E][1])&&(w=!0,g[E-1][1]=g[E-2][1].slice(-1)+g[E-1][1],g[E][1]=g[E-2][1].slice(-1)+g[E][1],g[E-2][1]=g[E-2][1].slice(0,-1));if(!w)return g;for(var x=[],E=0;E<g.length;E+=1)g[E][1].length>0&&x.push(g[E]);return x}function b(g,w,k){for(var S=w+k-1;S>=0&&S>=w-1;S--)if(S+1<g.length){var E=g[S],x=g[S+1];E[0]===x[1]&&g.splice(S,2,[E[0],E[1]+x[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(f,u,c){this.fn=f,this.context=u,this.once=c||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)i.call(c,d)&&u.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},l.prototype.listeners=function(u,c){var d=o?o+u:u,h=this._events[d];if(c)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,y=new Array(m);p<m;p++)y[p]=h[p].fn;return y},l.prototype.emit=function(u,c,d,h,p,m){var y=o?o+u:u;if(!this._events[y])return!1;var v=this._events[y],_=arguments.length,b,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,m),!0}for(g=1,b=new Array(_-1);g<_;g++)b[g-1]=arguments[g];v.fn.apply(v.context,b)}else{var w=v.length,k;for(g=0;g<w;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),_){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,c);break;case 3:v[g].fn.call(v[g].context,c,d);break;case 4:v[g].fn.call(v[g].context,c,d,h);break;default:if(!b)for(k=1,b=new Array(_-1);k<_;k++)b[k-1]=arguments[k];v[g].fn.apply(v[g].context,b)}}return!0},l.prototype.on=function(u,c,d){var h=new a(c,d||this),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.once=function(u,c,d){var h=new a(c,d||this,!0),p=o?o+u:u;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},l.prototype.removeListener=function(u,c,d,h){var p=o?o+u:u;if(!this._events[p])return this;if(!c)return--this._eventsCount===0?this._events=new s:delete this._events[p],this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[p]);else{for(var y=0,v=[],_=m.length;y<_;y++)(m[y].fn!==c||h&&!m[y].once||d&&m[y].context!==d)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[p]}return this},l.prototype.removeAllListeners=function(u){var c;return u?(c=o?o+u:u,this._events[c]&&(--this._eventsCount===0?this._events=new s:delete this._events[c])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(ne,oe){var de=[],te=!0,ge=!1,ve=void 0;try{for(var we=ne[Symbol.iterator](),Se;!(te=(Se=we.next()).done)&&(de.push(Se.value),!(oe&&de.length===oe));te=!0);}catch(Le){ge=!0,ve=Le}finally{try{!te&&we.return&&we.return()}finally{if(ge)throw ve}}return de}return function(ne,oe){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return W(ne,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(ne,oe){for(var de=0;de<oe.length;de++){var te=oe[de];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(ne,te.key,te)}}return function(ne,oe,de){return oe&&W(ne.prototype,oe),de&&W(ne,de),ne}}(),l=i(3),f=T(l),u=i(2),c=T(u),d=i(0),h=T(d),p=i(5),m=T(p),y=i(10),v=T(y),_=i(9),b=T(_),g=i(36),w=i(37),k=i(13),S=T(k),E=i(26),x=i(38),I=i(39),A=i(40);function T(W){return W&&W.__esModule?W:{default:W}}function R(W,ne,oe){return ne in W?Object.defineProperty(W,ne,{value:oe,enumerable:!0,configurable:!0,writable:!0}):W[ne]=oe,W}function M(W,ne){if(!(W instanceof ne))throw new TypeError("Cannot call a class as a function")}function C(W,ne){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:W}function O(W,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);W.prototype=Object.create(ne&&ne.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(W,ne):W.__proto__=ne)}var P=(0,v.default)("quill:clipboard"),X="__ql-matcher",H=[[Node.TEXT_NODE,G],[Node.TEXT_NODE,Q],["br",ue],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,se],["li",q],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",ee]],U=[g.AlignAttribute,x.DirectionAttribute].reduce(function(W,ne){return W[ne.keyName]=ne,W},{}),$=[g.AlignStyle,w.BackgroundStyle,E.ColorStyle,x.DirectionStyle,I.FontStyle,A.SizeStyle].reduce(function(W,ne){return W[ne.keyName]=ne,W},{}),F=function(W){O(ne,W);function ne(oe,de){M(this,ne);var te=C(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,oe,de));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],H.concat(te.options.matchers).forEach(function(ge){var ve=s(ge,2),we=ve[0],Se=ve[1];!de.matchVisual&&Se===B||te.addMatcher(we,Se)}),te}return a(ne,[{key:"addMatcher",value:function(de,te){this.matchers.push([de,te])}},{key:"convert",value:function(de){if(typeof de=="string")return this.container.innerHTML=de.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[S.default.blotName]){var ge=this.container.innerText;return this.container.innerHTML="",new c.default().insert(ge,R({},S.default.blotName,te[S.default.blotName]))}var ve=this.prepareMatching(),we=s(ve,2),Se=we[0],Le=we[1],Oe=V(this.container,Se,Le);return z(Oe,`
`)&&Oe.ops[Oe.ops.length-1].attributes==null&&(Oe=Oe.compose(new c.default().retain(Oe.length()-1).delete(1))),P.log("convert",this.container.innerHTML,Oe),this.container.innerHTML="",Oe}},{key:"dangerouslyPasteHTML",value:function(de,te){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof de=="string")this.quill.setContents(this.convert(de),te),this.quill.setSelection(0,m.default.sources.SILENT);else{var ve=this.convert(te);this.quill.updateContents(new c.default().retain(de).concat(ve),ge),this.quill.setSelection(de+ve.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(de){var te=this;if(!(de.defaultPrevented||!this.quill.isEnabled())){var ge=this.quill.getSelection(),ve=new c.default().retain(ge.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ve=ve.concat(te.convert()).delete(ge.length),te.quill.updateContents(ve,m.default.sources.USER),te.quill.setSelection(ve.length()-ge.length,m.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=we,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var de=this,te=[],ge=[];return this.matchers.forEach(function(ve){var we=s(ve,2),Se=we[0],Le=we[1];switch(Se){case Node.TEXT_NODE:ge.push(Le);break;case Node.ELEMENT_NODE:te.push(Le);break;default:[].forEach.call(de.container.querySelectorAll(Se),function(Oe){Oe[X]=Oe[X]||[],Oe[X].push(Le)});break}}),[te,ge]}}]),ne}(b.default);F.DEFAULTS={matchers:[],matchVisual:!0};function D(W,ne,oe){return(typeof ne>"u"?"undefined":o(ne))==="object"?Object.keys(ne).reduce(function(de,te){return D(de,te,ne[te])},W):W.reduce(function(de,te){return te.attributes&&te.attributes[ne]?de.push(te):de.insert(te.insert,(0,f.default)({},R({},ne,oe),te.attributes))},new c.default)}function K(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return W[ne]||(W[ne]=window.getComputedStyle(W))}function z(W,ne){for(var oe="",de=W.ops.length-1;de>=0&&oe.length<ne.length;--de){var te=W.ops[de];if(typeof te.insert!="string")break;oe=te.insert+oe}return oe.slice(-1*ne.length)===ne}function j(W){if(W.childNodes.length===0)return!1;var ne=K(W);return["block","list-item"].indexOf(ne.display)>-1}function V(W,ne,oe){return W.nodeType===W.TEXT_NODE?oe.reduce(function(de,te){return te(W,de)},new c.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(de,te){var ge=V(te,ne,oe);return te.nodeType===W.ELEMENT_NODE&&(ge=ne.reduce(function(ve,we){return we(te,ve)},ge),ge=(te[X]||[]).reduce(function(ve,we){return we(te,ve)},ge)),de.concat(ge)},new c.default):new c.default}function Z(W,ne,oe){return D(oe,W,!0)}function Y(W,ne){var oe=h.default.Attributor.Attribute.keys(W),de=h.default.Attributor.Class.keys(W),te=h.default.Attributor.Style.keys(W),ge={};return oe.concat(de).concat(te).forEach(function(ve){var we=h.default.query(ve,h.default.Scope.ATTRIBUTE);we!=null&&(ge[we.attrName]=we.value(W),ge[we.attrName])||(we=U[ve],we!=null&&(we.attrName===ve||we.keyName===ve)&&(ge[we.attrName]=we.value(W)||void 0),we=$[ve],we!=null&&(we.attrName===ve||we.keyName===ve)&&(we=$[ve],ge[we.attrName]=we.value(W)||void 0))}),Object.keys(ge).length>0&&(ne=D(ne,ge)),ne}function ie(W,ne){var oe=h.default.query(W);if(oe==null)return ne;if(oe.prototype instanceof h.default.Embed){var de={},te=oe.value(W);te!=null&&(de[oe.blotName]=te,ne=new c.default().insert(de,oe.formats(W)))}else typeof oe.formats=="function"&&(ne=D(ne,oe.blotName,oe.formats(W)));return ne}function ue(W,ne){return z(ne,`
`)||ne.insert(`
`),ne}function ee(){return new c.default}function q(W,ne){var oe=h.default.query(W);if(oe==null||oe.blotName!=="list-item"||!z(ne,`
`))return ne;for(var de=-1,te=W.parentNode;!te.classList.contains("ql-clipboard");)(h.default.query(te)||{}).blotName==="list"&&(de+=1),te=te.parentNode;return de<=0?ne:ne.compose(new c.default().retain(ne.length()-1).retain(1,{indent:de}))}function Q(W,ne){return z(ne,`
`)||(j(W)||ne.length()>0&&W.nextSibling&&j(W.nextSibling))&&ne.insert(`
`),ne}function B(W,ne){if(j(W)&&W.nextElementSibling!=null&&!z(ne,`

`)){var oe=W.offsetHeight+parseFloat(K(W).marginTop)+parseFloat(K(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+oe*1.5&&ne.insert(`
`)}return ne}function se(W,ne){var oe={},de=W.style||{};return de.fontStyle&&K(W).fontStyle==="italic"&&(oe.italic=!0),de.fontWeight&&(K(W).fontWeight.startsWith("bold")||parseInt(K(W).fontWeight)>=700)&&(oe.bold=!0),Object.keys(oe).length>0&&(ne=D(ne,oe)),parseFloat(de.textIndent||0)>0&&(ne=new c.default().insert("	").concat(ne)),ne}function G(W,ne){var oe=W.data;if(W.parentNode.tagName==="O:P")return ne.insert(oe.trim());if(oe.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return ne;if(!K(W.parentNode).whiteSpace.startsWith("pre")){var de=function(ge,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&ge?" ":ve};oe=oe.replace(/\r\n/g," ").replace(/\n/g," "),oe=oe.replace(/\s\s+/g,de.bind(de,!0)),(W.previousSibling==null&&j(W.parentNode)||W.previousSibling!=null&&j(W.previousSibling))&&(oe=oe.replace(/^\s+/,de.bind(de,!1))),(W.nextSibling==null&&j(W.parentNode)||W.nextSibling!=null&&j(W.nextSibling))&&(oe=oe.replace(/\s+$/,de.bind(de,!1)))}return ne.insert(oe)}r.default=F,r.matchAttributor=Y,r.matchBlot=ie,r.matchNewline=Q,r.matchSpacing=B,r.matchText=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"optimize",value:function(v){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function A(T,R){var M=[],C=!0,O=!1,P=void 0;try{for(var X=T[Symbol.iterator](),H;!(C=(H=X.next()).done)&&(M.push(H.value),!(R&&M.length===R));C=!0);}catch(U){O=!0,P=U}finally{try{!C&&X.return&&X.return()}finally{if(O)throw P}}return M}return function(T,R){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(T,R){for(var M=0;M<R.length;M++){var C=R[M];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,R,M){return R&&A(T.prototype,R),M&&A(T,M),T}}(),a=i(2),l=v(a),f=i(0),u=v(f),c=i(5),d=v(c),h=i(10),p=v(h),m=i(9),y=v(m);function v(A){return A&&A.__esModule?A:{default:A}}function _(A,T,R){return T in A?Object.defineProperty(A,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[T]=R,A}function b(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function w(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var k=(0,p.default)("quill:toolbar"),S=function(A){w(T,A);function T(R,M){b(this,T);var C=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,R,M));if(Array.isArray(C.options.container)){var O=document.createElement("div");x(O,C.options.container),R.container.parentNode.insertBefore(O,R.container),C.container=O}else typeof C.options.container=="string"?C.container=document.querySelector(C.options.container):C.container=C.options.container;if(!(C.container instanceof HTMLElement)){var P;return P=k.error("Container required for toolbar",C.options),g(C,P)}return C.container.classList.add("ql-toolbar"),C.controls=[],C.handlers={},Object.keys(C.options.handlers).forEach(function(X){C.addHandler(X,C.options.handlers[X])}),[].forEach.call(C.container.querySelectorAll("button, select"),function(X){C.attach(X)}),C.quill.on(d.default.events.EDITOR_CHANGE,function(X,H){X===d.default.events.SELECTION_CHANGE&&C.update(H)}),C.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var X=C.quill.selection.getRange(),H=o(X,1),U=H[0];C.update(U)}),C}return s(T,[{key:"addHandler",value:function(M,C){this.handlers[M]=C}},{key:"attach",value:function(M){var C=this,O=[].find.call(M.classList,function(X){return X.indexOf("ql-")===0});if(O){if(O=O.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[O]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[O]==null){k.warn("ignoring attaching to disabled format",O,M);return}if(u.default.query(O)==null){k.warn("ignoring attaching to nonexistent format",O,M);return}}var P=M.tagName==="SELECT"?"change":"click";M.addEventListener(P,function(X){var H=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var U=M.options[M.selectedIndex];U.hasAttribute("selected")?H=!1:H=U.value||!1}else M.classList.contains("ql-active")?H=!1:H=M.value||!M.hasAttribute("value"),X.preventDefault();C.quill.focus();var $=C.quill.selection.getRange(),F=o($,1),D=F[0];if(C.handlers[O]!=null)C.handlers[O].call(C,H);else if(u.default.query(O).prototype instanceof u.default.Embed){if(H=prompt("Enter "+O),!H)return;C.quill.updateContents(new l.default().retain(D.index).delete(D.length).insert(_({},O,H)),d.default.sources.USER)}else C.quill.format(O,H,d.default.sources.USER);C.update(D)}),this.controls.push([O,M])}}},{key:"update",value:function(M){var C=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(O){var P=o(O,2),X=P[0],H=P[1];if(H.tagName==="SELECT"){var U=void 0;if(M==null)U=null;else if(C[X]==null)U=H.querySelector("option[selected]");else if(!Array.isArray(C[X])){var $=C[X];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),U=H.querySelector('option[value="'+$+'"]')}U==null?(H.value="",H.selectedIndex=-1):U.selected=!0}else if(M==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var F=C[X]===H.getAttribute("value")||C[X]!=null&&C[X].toString()===H.getAttribute("value")||C[X]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",F)}else H.classList.toggle("ql-active",C[X]!=null)})}}]),T}(y.default);S.DEFAULTS={};function E(A,T,R){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+T),R!=null&&(M.value=R),A.appendChild(M)}function x(A,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(R){var M=document.createElement("span");M.classList.add("ql-formats"),R.forEach(function(C){if(typeof C=="string")E(M,C);else{var O=Object.keys(C)[0],P=C[O];Array.isArray(P)?I(M,O,P):E(M,O,P)}}),A.appendChild(M)})}function I(A,T,R){var M=document.createElement("select");M.classList.add("ql-"+T),R.forEach(function(C){var O=document.createElement("option");C!==!1?O.setAttribute("value",C):O.setAttribute("selected","selected"),M.appendChild(O)}),A.appendChild(M)}S.DEFAULTS={container:null,handlers:{clean:function(){var T=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(C){u.default.query(C,u.default.Scope.INLINE)!=null&&T.quill.format(C,!1)})}else this.quill.removeFormat(R,d.default.sources.USER)},direction:function(T){var R=this.quill.getFormat().align;T==="rtl"&&R==null?this.quill.format("align","right",d.default.sources.USER):!T&&R==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",T,d.default.sources.USER)},indent:function(T){var R=this.quill.getSelection(),M=this.quill.getFormat(R),C=parseInt(M.indent||0);if(T==="+1"||T==="-1"){var O=T==="+1"?1:-1;M.direction==="rtl"&&(O*=-1),this.quill.format("indent",C+O,d.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,d.default.sources.USER)},list:function(T){var R=this.quill.getSelection(),M=this.quill.getFormat(R);T==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",T,d.default.sources.USER)}}},r.default=S,r.addControls=x},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,v){u(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return _.label.innerHTML=v,_.container.classList.add("ql-color-picker"),[].slice.call(_.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),_}return o(m,[{key:"buildItem",value:function(v){var _=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,v);return _.style.backgroundColor=v.getAttribute("value")||"",_}},{key:"selectItem",value:function(v,_){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,_);var b=this.label.querySelector(".ql-color-label"),g=v&&v.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=g:b.style.fill=g)}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(28),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(y,v){u(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return _.container.classList.add("ql-icon-picker"),[].forEach.call(_.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=v[b.getAttribute("data-value")||""]}),_.defaultItem=_.container.querySelector(".ql-selected"),_.selectItem(_.defaultItem),_}return o(m,[{key:"selectItem",value:function(v,_){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,v,_),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),m}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(f,u){for(var c=0;c<u.length;c++){var d=u[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,u,c){return u&&l(f.prototype,u),c&&l(f,c),f}}();function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(f,u){var c=this;s(this,l),this.quill=f,this.boundsContainer=u||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var c=u.left+u.width/2-this.root.offsetWidth/2,d=u.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),m=0;if(p.right>h.right&&(m=h.right-p.right,this.root.style.left=c+m+"px"),p.left<h.left&&(m=h.left-p.left,this.root.style.left=c+m+"px"),p.bottom>h.bottom){var y=p.bottom-p.top,v=u.bottom-u.top+y;this.root.style.top=d-v+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(A,T){var R=[],M=!0,C=!1,O=void 0;try{for(var P=A[Symbol.iterator](),X;!(M=(X=P.next()).done)&&(R.push(X.value),!(T&&R.length===T));M=!0);}catch(H){C=!0,O=H}finally{try{!M&&P.return&&P.return()}finally{if(C)throw O}}return R}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function I(A,T,R){A===null&&(A=Function.prototype);var M=Object.getOwnPropertyDescriptor(A,T);if(M===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:I(C,T,R)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(R)}},a=function(){function I(A,T){for(var R=0;R<T.length;R++){var M=T[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,M.key,M)}}return function(A,T,R){return T&&I(A.prototype,T),R&&I(A,R),A}}(),l=i(3),f=b(l),u=i(8),c=b(u),d=i(43),h=b(d),p=i(27),m=b(p),y=i(15),v=i(41),_=b(v);function b(I){return I&&I.__esModule?I:{default:I}}function g(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function w(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function k(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(I){k(A,I);function A(T,R){g(this,A),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=S);var M=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return M.quill.container.classList.add("ql-snow"),M}return a(A,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),_.default),this.tooltip=new x(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,C){R.handlers.link.call(R,!C.format.link)})}}]),A}(h.default);E.DEFAULTS=(0,f.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var T=this.quill.getSelection();if(T==null||T.length==0)return;var R=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var M=this.quill.theme.tooltip;M.edit("link",R)}else this.quill.format("link",!1)}}}}});var x=function(I){k(A,I);function A(T,R){g(this,A);var M=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,R));return M.preview=M.root.querySelector("a.ql-preview"),M}return a(A,[{key:"listen",value:function(){var R=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(R.linkRange!=null){var C=R.linkRange;R.restoreFocus(),R.quill.formatText(C,"link",!1,c.default.sources.USER),delete R.linkRange}M.preventDefault(),R.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(M,C,O){if(M!=null){if(M.length===0&&O===c.default.sources.USER){var P=R.quill.scroll.descendant(m.default,M.index),X=o(P,2),H=X[0],U=X[1];if(H!=null){R.linkRange=new y.Range(M.index-U,H.length());var $=m.default.formats(H.domNode);R.preview.textContent=$,R.preview.setAttribute("href",$),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(d.BaseTooltip);x.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=te(o),a=i(36),l=i(38),f=i(64),u=i(65),c=te(u),d=i(66),h=te(d),p=i(67),m=te(p),y=i(37),v=i(26),_=i(39),b=i(40),g=i(56),w=te(g),k=i(68),S=te(k),E=i(27),x=te(E),I=i(69),A=te(I),T=i(70),R=te(T),M=i(71),C=te(M),O=i(72),P=te(O),X=i(73),H=te(X),U=i(13),$=te(U),F=i(74),D=te(F),K=i(75),z=te(K),j=i(57),V=te(j),Z=i(41),Y=te(Z),ie=i(28),ue=te(ie),ee=i(59),q=te(ee),Q=i(60),B=te(Q),se=i(61),G=te(se),W=i(108),ne=te(W),oe=i(62),de=te(oe);function te(ge){return ge&&ge.__esModule?ge:{default:ge}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":_.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":_.FontStyle,"attributors/style/size":b.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":f.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":_.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":$.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":w.default,"formats/code":U.Code,"formats/italic":S.default,"formats/link":x.default,"formats/script":A.default,"formats/strike":R.default,"formats/underline":C.default,"formats/image":P.default,"formats/video":H.default,"formats/list/item":p.ListItem,"modules/formula":D.default,"modules/syntax":z.default,"modules/toolbar":V.default,"themes/bubble":ne.default,"themes/snow":de.default,"ui/icons":Y.default,"ui/picker":ue.default,"ui/icon-picker":B.default,"ui/color-picker":q.default,"ui/tooltip":G.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function m(y,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),s=function m(y,v,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,v);if(b===void 0){var g=Object.getPrototypeOf(y);return g===null?void 0:m(g,v,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},a=i(0),l=f(a);function f(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){d(y,m);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"add",value:function(_,b){if(b==="+1"||b==="-1"){var g=this.value(_)||0;b=b==="+1"?g+1:g-1}return b===0?(this.remove(_),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,_,b)}},{key:"canAdd",value:function(_,b){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,b)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,_,parseInt(b))}},{key:"value",value:function(_){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_))||void 0}}]),y}(l.default.Attributor.Class),p=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(p,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var d=function(h){c(p,h);function p(){return f(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),p}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(w,k){for(var S=0;S<k.length;S++){var E=k[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,k,S){return k&&g(w.prototype,k),S&&g(w,S),w}}(),s=function g(w,k,S){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,k);if(E===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:g(x,k,S)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(S)}},a=i(0),l=h(a),f=i(4),u=h(f),c=i(25),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function p(g,w,k){return w in g?Object.defineProperty(g,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[w]=k,g}function m(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function y(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function v(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var _=function(g){v(w,g);function w(){return m(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(S,E){S===b.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,E){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,E),this):(this.parent.unwrap(),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,S,E))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,S)}}]),w}(u.default);_.blotName="list-item",_.tagName="LI";var b=function(g){v(w,g),o(w,null,[{key:"create",value:function(S){var E=S==="ordered"?"OL":"UL",x=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E);return(S==="checked"||S==="unchecked")&&x.setAttribute("data-checked",S==="checked"),x}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(k){m(this,w);var S=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k)),E=function(I){if(I.target.parentNode===k){var A=S.statics.formats(k),T=l.default.find(I.target);A==="checked"?T.format("list","unchecked"):A==="unchecked"&&T.format("list","checked")}};return k.addEventListener("touchstart",E),k.addEventListener("mousedown",E),S}return o(w,[{key:"format",value:function(S,E){this.children.length>0&&this.children.tail.format(S,E)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,E){if(S instanceof _)s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,S,E);else{var x=E==null?this.length():E.offset(this),I=this.split(x);I.parent.insertBefore(S,I)}}},{key:"optimize",value:function(S){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,S);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);S.moveChildren(E),this.appendChild(E)}s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,S)}}]),w}(d.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[_],r.ListItem=_,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=function p(m,y,v){m===null&&(m=Function.prototype);var _=Object.getOwnPropertyDescriptor(m,y);if(_===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:p(b,y,v)}else{if("value"in _)return _.value;var g=_.get;return g===void 0?void 0:g.call(v)}},a=i(6),l=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){d(m,p);function m(){return u(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),m}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function f(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:d}function u(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}var c=function(d){u(h,d);function h(){return l(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=u(a),f=i(27);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["alt","height","width"],m=function(y){h(v,y);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return typeof b=="string"&&g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,f.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(l.default.Embed);m.blotName="image",m.tagName="IMG",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,_){for(var b=0;b<_.length;b++){var g=_[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,b){return _&&y(v.prototype,_),b&&y(v,b),v}}(),s=function y(v,_,b){v===null&&(v=Function.prototype);var g=Object.getOwnPropertyDescriptor(v,_);if(g===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,_,b)}else{if("value"in g)return g.value;var k=g.get;return k===void 0?void 0:k.call(b)}},a=i(4),l=i(27),f=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=["height","width"],m=function(y){h(v,y);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(b,g){p.indexOf(b)>-1?g?this.domNode.setAttribute(b,g):this.domNode.removeAttribute(b):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,b,g)}}],[{key:"create",value:function(b){var g=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,b);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(b)),g}},{key:"formats",value:function(b){return p.reduce(function(g,w){return b.hasAttribute(w)&&(g[w]=b.getAttribute(w)),g},{})}},{key:"sanitize",value:function(b){return f.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),v}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function b(g,w){for(var k=0;k<w.length;k++){var S=w[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,k){return w&&b(g.prototype,w),k&&b(g,k),g}}(),s=function b(g,w,k){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,w);if(S===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:b(E,w,k)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(k)}},a=i(35),l=h(a),f=i(5),u=h(f),c=i(9),d=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function m(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function y(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var v=function(b){y(g,b);function g(){return p(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(k){var S=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),g}(l.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var _=function(b){y(g,b),o(g,null,[{key:"register",value:function(){u.default.register(v,!0)}}]);function g(){p(this,g);var w=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(d.default);r.FormulaBlot=v,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function k(S,E){for(var x=0;x<E.length;x++){var I=E[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,E,x){return E&&k(S.prototype,E),x&&k(S,x),S}}(),s=function k(S,E,x){S===null&&(S=Function.prototype);var I=Object.getOwnPropertyDescriptor(S,E);if(I===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:k(A,E,x)}else{if("value"in I)return I.value;var T=I.get;return T===void 0?void 0:T.call(x)}},a=i(0),l=m(a),f=i(5),u=m(f),c=i(9),d=m(c),h=i(13),p=m(h);function m(k){return k&&k.__esModule?k:{default:k}}function y(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function v(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function _(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var b=function(k){_(S,k);function S(){return y(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(x){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,x)}},{key:"highlight",value:function(x){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=x(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),S}(p.default);b.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(k){_(S,k),o(S,null,[{key:"register",value:function(){u.default.register(g,!0),u.default.register(b,!0)}}]);function S(E,x){y(this,S);var I=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E,x));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return I.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){I.highlight(),A=null},I.options.interval)}),I.highlight(),I}return o(S,[{key:"highlight",value:function(){var x=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(A){A.highlight(x.options.highlight)}),this.quill.update(u.default.sources.SILENT),I!=null&&this.quill.setSelection(I,u.default.sources.SILENT)}}}]),S}(d.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(E,x,I){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,x);if(A===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:S(T,x,I)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(I)}},s=function(){function S(E,x){for(var I=0;I<x.length;I++){var A=x[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,x,I){return x&&S(E.prototype,x),I&&S(E,I),E}}(),a=i(3),l=y(a),f=i(8),u=y(f),c=i(43),d=y(c),h=i(15),p=i(41),m=y(p);function y(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function _(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function b(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(S){b(E,S);function E(x,I){v(this,E),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=g);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,x,I));return A.quill.container.classList.add("ql-bubble"),A}return s(E,[{key:"extendToolbar",value:function(I){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),m.default)}}]),E}(d.default);w.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){b(E,S);function E(x,I){v(this,E);var A=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,x,I));return A.quill.on(u.default.events.EDITOR_CHANGE,function(T,R,M,C){if(T===u.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&C===u.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var O=A.quill.getLines(R.index,R.length);if(O.length===1)A.position(A.quill.getBounds(R));else{var P=O[O.length-1],X=A.quill.getIndex(P),H=Math.min(P.length()-1,R.index+R.length-X),U=A.quill.getBounds(new h.Range(X,H));A.position(U)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return s(E,[{key:"listen",value:function(){var I=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var A=I.quill.getSelection();A!=null&&I.position(I.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var A=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,I),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",A===0)return A;T.style.marginLeft=-1*A-T.offsetWidth/2+"px"}}]),E}(c.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(H2);var hH=H2.exports;const jp=q2(hH);var gi=-1,Ur=1,ar=0;function yu(t,e,n,r){if(t===e)return t?[[ar,t]]:[];if(n!=null){var i=yH(t,e,n);if(i)return i}var o=gy(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=vy(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var l=pH(t,e);return s&&l.unshift([ar,s]),a&&l.push([ar,a]),z2(l,r),l}function pH(t,e){var n;if(!t)return[[Ur,e]];if(!e)return[[gi,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=r.indexOf(i);if(o!==-1)return n=[[Ur,r.substring(0,o)],[ar,i],[Ur,r.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=gi),n;if(i.length===1)return[[gi,t],[Ur,e]];var s=gH(t,e);if(s){var a=s[0],l=s[1],f=s[2],u=s[3],c=s[4],d=yu(a,f),h=yu(l,u);return d.concat([[ar,c]],h)}return mH(t,e)}function mH(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=i,s=2*i,a=new Array(s),l=new Array(s),f=0;f<s;f++)a[f]=-1,l[f]=-1;a[o+1]=0,l[o+1]=0;for(var u=n-r,c=u%2!==0,d=0,h=0,p=0,m=0,y=0;y<i;y++){for(var v=-y+d;v<=y-h;v+=2){var _=o+v,b;v===-y||v!==y&&a[_-1]<a[_+1]?b=a[_+1]:b=a[_-1]+1;for(var g=b-v;b<n&&g<r&&t.charAt(b)===e.charAt(g);)b++,g++;if(a[_]=b,b>n)h+=2;else if(g>r)d+=2;else if(c){var w=o+u-v;if(w>=0&&w<s&&l[w]!==-1){var k=n-l[w];if(b>=k)return tb(t,e,b,g)}}}for(var S=-y+p;S<=y-m;S+=2){var w=o+S,k;S===-y||S!==y&&l[w-1]<l[w+1]?k=l[w+1]:k=l[w-1]+1;for(var E=k-S;k<n&&E<r&&t.charAt(n-k-1)===e.charAt(r-E-1);)k++,E++;if(l[w]=k,k>n)m+=2;else if(E>r)p+=2;else if(!c){var _=o+u-S;if(_>=0&&_<s&&a[_]!==-1){var b=a[_],g=o+b-_;if(k=n-k,b>=k)return tb(t,e,b,g)}}}}return[[gi,t],[Ur,e]]}function tb(t,e,n,r){var i=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),a=e.substring(r),l=yu(i,o),f=yu(s,a);return l.concat(f)}function gy(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return K2(t.charCodeAt(i-1))&&i--,i}function vy(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return W2(t.charCodeAt(t.length-i))&&i--,i}function gH(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,p,m){for(var y=h.substring(m,m+Math.floor(h.length/4)),v=-1,_="",b,g,w,k;(v=p.indexOf(y,v+1))!==-1;){var S=gy(h.substring(m),p.substring(v)),E=vy(h.substring(0,m),p.substring(0,v));_.length<E+S&&(_=p.substring(v-E,v)+p.substring(v,v+S),b=h.substring(0,m-E),g=h.substring(m+S),w=p.substring(0,v-E),k=p.substring(v+S))}return _.length*2>=h.length?[b,g,w,k,_]:null}var o=i(n,r,Math.ceil(n.length/4)),s=i(n,r,Math.ceil(n.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var l,f,u,c;t.length>e.length?(l=a[0],f=a[1],u=a[2],c=a[3]):(u=a[0],c=a[1],l=a[2],f=a[3]);var d=a[4];return[l,f,u,c,d]}function z2(t,e){t.push([ar,""]);for(var n=0,r=0,i=0,o="",s="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Ur:i++,s+=t[n][1],n++;break;case gi:r++,o+=t[n][1],n++;break;case ar:var l=n-i-r-1;if(e){if(l>=0&&G2(t[l][1])){var f=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=f+o,s=f+s,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===Ur&&(i++,s=t[u][1]+s,u--),t[u]&&t[u][0]===gi&&(r++,o=t[u][1]+o,u--),l=u}}if(Y2(t[n][1])){var f=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=f,s+=f}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=gy(s,o),a!==0&&(l>=0?t[l][1]+=s.substring(0,a):(t.splice(0,0,[ar,s.substring(0,a)]),n++),s=s.substring(a),o=o.substring(a)),a=vy(s,o),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var c=i+r;o.length===0&&s.length===0?(t.splice(n-c,c),n=n-c):o.length===0?(t.splice(n-c,c,[Ur,s]),n=n-c+1):s.length===0?(t.splice(n-c,c,[gi,o]),n=n-c+1):(t.splice(n-c,c,[gi,o],[Ur,s]),n=n-c+2)}n!==0&&t[n-1][0]===ar?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var d=!1;for(n=1;n<t.length-1;)t[n-1][0]===ar&&t[n+1][0]===ar&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),d=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),d=!0)),n++;d&&z2(t,e)}function K2(t){return t>=55296&&t<=56319}function W2(t){return t>=56320&&t<=57343}function Y2(t){return W2(t.charCodeAt(0))}function G2(t){return K2(t.charCodeAt(t.length-1))}function vH(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function qp(t,e,n,r){return G2(t)||Y2(r)?null:vH([[ar,t],[gi,e],[Ur,n],[ar,r]])}function yH(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,s=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),f=t.slice(a),u=i?i.index:null;e:{var c=a+s-o;if(u!==null&&u!==c||c<0||c>s)break e;var d=e.slice(0,c),h=e.slice(c);if(h!==f)break e;var p=Math.min(a,c),m=l.slice(0,p),y=d.slice(0,p);if(m!==y)break e;var v=l.slice(p),_=d.slice(p);return qp(m,v,_,f)}e:{if(u!==null&&u!==a)break e;var b=a,d=e.slice(0,b),h=e.slice(b);if(d!==l)break e;var g=Math.min(o-b,s-b),w=f.slice(f.length-g),k=h.slice(h.length-g);if(w!==k)break e;var v=f.slice(0,f.length-g),_=h.slice(0,h.length-g);return qp(l,v,_,w)}}if(r.length>0&&i&&i.length===0)e:{var m=t.slice(0,r.index),w=t.slice(r.index+r.length),p=m.length,g=w.length;if(s<p+g)break e;var y=e.slice(0,p),k=e.slice(s-g);if(m!==y||w!==k)break e;var v=t.slice(p,o-g),_=e.slice(p,s-g);return qp(m,v,_,w)}return null}function sh(t,e,n){return yu(t,e,n,!0)}sh.INSERT=Ur;sh.DELETE=gi;sh.EQUAL=ar;var _H=sh,Ld={exports:{}};Ld.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",f="[object Error]",u="[object Function]",c="[object GeneratorFunction]",d="[object Map]",h="[object Number]",p="[object Object]",m="[object Promise]",y="[object RegExp]",v="[object Set]",_="[object String]",b="[object Symbol]",g="[object WeakMap]",w="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",I="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",C="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,P=/\w*$/,X=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,U={};U[o]=U[s]=U[w]=U[k]=U[a]=U[l]=U[S]=U[E]=U[x]=U[I]=U[A]=U[d]=U[h]=U[p]=U[y]=U[v]=U[_]=U[b]=U[T]=U[R]=U[M]=U[C]=!0,U[f]=U[u]=U[g]=!1;var $=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,F=typeof self=="object"&&self&&self.Object===Object&&self,D=$||F||Function("return this")(),K=e&&!e.nodeType&&e,z=K&&!0&&t&&!t.nodeType&&t,j=z&&z.exports===K;function V(L,J){return L.set(J[0],J[1]),L}function Z(L,J){return L.add(J),L}function Y(L,J){for(var ae=-1,be=L?L.length:0;++ae<be&&J(L[ae],ae,L)!==!1;);return L}function ie(L,J){for(var ae=-1,be=J.length,et=L.length;++ae<be;)L[et+ae]=J[ae];return L}function ue(L,J,ae,be){for(var et=-1,Fe=L?L.length:0;++et<Fe;)ae=J(ae,L[et],et,L);return ae}function ee(L,J){for(var ae=-1,be=Array(L);++ae<L;)be[ae]=J(ae);return be}function q(L,J){return L==null?void 0:L[J]}function Q(L){var J=!1;if(L!=null&&typeof L.toString!="function")try{J=!!(L+"")}catch{}return J}function B(L){var J=-1,ae=Array(L.size);return L.forEach(function(be,et){ae[++J]=[et,be]}),ae}function se(L,J){return function(ae){return L(J(ae))}}function G(L){var J=-1,ae=Array(L.size);return L.forEach(function(be){ae[++J]=be}),ae}var W=Array.prototype,ne=Function.prototype,oe=Object.prototype,de=D["__core-js_shared__"],te=function(){var L=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),ge=ne.toString,ve=oe.hasOwnProperty,we=oe.toString,Se=RegExp("^"+ge.call(ve).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=j?D.Buffer:void 0,Oe=D.Symbol,Ge=D.Uint8Array,De=se(Object.getPrototypeOf,Object),rt=Object.create,At=oe.propertyIsEnumerable,Zt=W.splice,It=Object.getOwnPropertySymbols,Kt=Le?Le.isBuffer:void 0,fe=se(Object.keys,Object),Ee=Dr(D,"DataView"),pe=Dr(D,"Map"),Te=Dr(D,"Promise"),Re=Dr(D,"Set"),Nt=Dr(D,"WeakMap"),yt=Dr(Object,"create"),Ut=Xn(Ee),sn=Xn(pe),En=Xn(Te),Tn=Xn(Re),An=Xn(Nt),pn=Oe?Oe.prototype:void 0,Wu=pn?pn.valueOf:void 0;function Ii(L){var J=-1,ae=L?L.length:0;for(this.clear();++J<ae;){var be=L[J];this.set(be[0],be[1])}}function lh(){this.__data__=yt?yt(null):{}}function uh(L){return this.has(L)&&delete this.__data__[L]}function ch(L){var J=this.__data__;if(yt){var ae=J[L];return ae===r?void 0:ae}return ve.call(J,L)?J[L]:void 0}function Yu(L){var J=this.__data__;return yt?J[L]!==void 0:ve.call(J,L)}function Ya(L,J){var ae=this.__data__;return ae[L]=yt&&J===void 0?r:J,this}Ii.prototype.clear=lh,Ii.prototype.delete=uh,Ii.prototype.get=ch,Ii.prototype.has=Yu,Ii.prototype.set=Ya;function kn(L){var J=-1,ae=L?L.length:0;for(this.clear();++J<ae;){var be=L[J];this.set(be[0],be[1])}}function dh(){this.__data__=[]}function fh(L){var J=this.__data__,ae=$s(J,L);if(ae<0)return!1;var be=J.length-1;return ae==be?J.pop():Zt.call(J,ae,1),!0}function hh(L){var J=this.__data__,ae=$s(J,L);return ae<0?void 0:J[ae][1]}function ph(L){return $s(this.__data__,L)>-1}function mh(L,J){var ae=this.__data__,be=$s(ae,L);return be<0?ae.push([L,J]):ae[be][1]=J,this}kn.prototype.clear=dh,kn.prototype.delete=fh,kn.prototype.get=hh,kn.prototype.has=ph,kn.prototype.set=mh;function $n(L){var J=-1,ae=L?L.length:0;for(this.clear();++J<ae;){var be=L[J];this.set(be[0],be[1])}}function gh(){this.__data__={hash:new Ii,map:new(pe||kn),string:new Ii}}function vh(L){return Ko(this,L).delete(L)}function yh(L){return Ko(this,L).get(L)}function _h(L){return Ko(this,L).has(L)}function bh(L,J){return Ko(this,L).set(L,J),this}$n.prototype.clear=gh,$n.prototype.delete=vh,$n.prototype.get=yh,$n.prototype.has=_h,$n.prototype.set=bh;function ir(L){this.__data__=new kn(L)}function wh(){this.__data__=new kn}function Eh(L){return this.__data__.delete(L)}function Th(L){return this.__data__.get(L)}function Ah(L){return this.__data__.has(L)}function kh(L,J){var ae=this.__data__;if(ae instanceof kn){var be=ae.__data__;if(!pe||be.length<n-1)return be.push([L,J]),this;ae=this.__data__=new $n(be)}return ae.set(L,J),this}ir.prototype.clear=wh,ir.prototype.delete=Eh,ir.prototype.get=Th,ir.prototype.has=Ah,ir.prototype.set=kh;function Ls(L,J){var ae=Ja(L)||Fs(L)?ee(L.length,String):[],be=ae.length,et=!!be;for(var Fe in L)ve.call(L,Fe)&&!(et&&(Fe=="length"||Fh(Fe,be)))&&ae.push(Fe);return ae}function Gu(L,J,ae){var be=L[J];(!(ve.call(L,J)&&ec(be,ae))||ae===void 0&&!(J in L))&&(L[J]=ae)}function $s(L,J){for(var ae=L.length;ae--;)if(ec(L[ae][0],J))return ae;return-1}function ri(L,J){return L&&Xa(J,el(J),L)}function Ga(L,J,ae,be,et,Fe,ft){var ct;if(be&&(ct=Fe?be(L,et,Fe,ft):be(L)),ct!==void 0)return ct;if(!oi(L))return L;var en=Ja(L);if(en){if(ct=$h(L),!J)return Nh(L,ct)}else{var vt=Ri(L),Vn=vt==u||vt==c;if(tc(L))return Vs(L,J);if(vt==p||vt==o||Vn&&!Fe){if(Q(L))return Fe?L:{};if(ct=ii(Vn?{}:L),!J)return Mh(L,ri(ct,L))}else{if(!U[vt])return Fe?L:{};ct=Vh(L,vt,Ga,J)}}ft||(ft=new ir);var or=ft.get(L);if(or)return or;if(ft.set(L,ct),!en)var an=ae?Lh(L):el(L);return Y(an||L,function(Fn,xn){an&&(xn=Fn,Fn=L[xn]),Gu(ct,xn,Ga(Fn,J,ae,be,xn,L,ft))}),ct}function xh(L){return oi(L)?rt(L):{}}function Ih(L,J,ae){var be=J(L);return Ja(L)?be:ie(be,ae(L))}function Sh(L){return we.call(L)}function Rh(L){if(!oi(L)||Bh(L))return!1;var J=Za(L)||Q(L)?Se:X;return J.test(Xn(L))}function Oh(L){if(!Ju(L))return fe(L);var J=[];for(var ae in Object(L))ve.call(L,ae)&&ae!="constructor"&&J.push(ae);return J}function Vs(L,J){if(J)return L.slice();var ae=new L.constructor(L.length);return L.copy(ae),ae}function Qa(L){var J=new L.constructor(L.byteLength);return new Ge(J).set(new Ge(L)),J}function zo(L,J){var ae=J?Qa(L.buffer):L.buffer;return new L.constructor(ae,L.byteOffset,L.byteLength)}function Qu(L,J,ae){var be=J?ae(B(L),!0):B(L);return ue(be,V,new L.constructor)}function Xu(L){var J=new L.constructor(L.source,P.exec(L));return J.lastIndex=L.lastIndex,J}function Ph(L,J,ae){var be=J?ae(G(L),!0):G(L);return ue(be,Z,new L.constructor)}function Ch(L){return Wu?Object(Wu.call(L)):{}}function Dh(L,J){var ae=J?Qa(L.buffer):L.buffer;return new L.constructor(ae,L.byteOffset,L.length)}function Nh(L,J){var ae=-1,be=L.length;for(J||(J=Array(be));++ae<be;)J[ae]=L[ae];return J}function Xa(L,J,ae,be){ae||(ae={});for(var et=-1,Fe=J.length;++et<Fe;){var ft=J[et],ct=void 0;Gu(ae,ft,ct===void 0?L[ft]:ct)}return ae}function Mh(L,J){return Xa(L,Si(L),J)}function Lh(L){return Ih(L,el,Si)}function Ko(L,J){var ae=L.__data__;return Uh(J)?ae[typeof J=="string"?"string":"hash"]:ae.map}function Dr(L,J){var ae=q(L,J);return Rh(ae)?ae:void 0}var Si=It?se(It,Object):qh,Ri=Sh;(Ee&&Ri(new Ee(new ArrayBuffer(1)))!=k||pe&&Ri(new pe)!=d||Te&&Ri(Te.resolve())!=m||Re&&Ri(new Re)!=v||Nt&&Ri(new Nt)!=g)&&(Ri=function(L){var J=we.call(L),ae=J==p?L.constructor:void 0,be=ae?Xn(ae):void 0;if(be)switch(be){case Ut:return k;case sn:return d;case En:return m;case Tn:return v;case An:return g}return J});function $h(L){var J=L.length,ae=L.constructor(J);return J&&typeof L[0]=="string"&&ve.call(L,"index")&&(ae.index=L.index,ae.input=L.input),ae}function ii(L){return typeof L.constructor=="function"&&!Ju(L)?xh(De(L)):{}}function Vh(L,J,ae,be){var et=L.constructor;switch(J){case w:return Qa(L);case a:case l:return new et(+L);case k:return zo(L,be);case S:case E:case x:case I:case A:case T:case R:case M:case C:return Dh(L,be);case d:return Qu(L,be,ae);case h:case _:return new et(L);case y:return Xu(L);case v:return Ph(L,be,ae);case b:return Ch(L)}}function Fh(L,J){return J=J??i,!!J&&(typeof L=="number"||H.test(L))&&L>-1&&L%1==0&&L<J}function Uh(L){var J=typeof L;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?L!=="__proto__":L===null}function Bh(L){return!!te&&te in L}function Ju(L){var J=L&&L.constructor,ae=typeof J=="function"&&J.prototype||oe;return L===ae}function Xn(L){if(L!=null){try{return ge.call(L)}catch{}try{return L+""}catch{}}return""}function Zu(L){return Ga(L,!0,!0)}function ec(L,J){return L===J||L!==L&&J!==J}function Fs(L){return jh(L)&&ve.call(L,"callee")&&(!At.call(L,"callee")||we.call(L)==o)}var Ja=Array.isArray;function Us(L){return L!=null&&nc(L.length)&&!Za(L)}function jh(L){return rc(L)&&Us(L)}var tc=Kt||Hh;function Za(L){var J=oi(L)?we.call(L):"";return J==u||J==c}function nc(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=i}function oi(L){var J=typeof L;return!!L&&(J=="object"||J=="function")}function rc(L){return!!L&&typeof L=="object"}function el(L){return Us(L)?Ls(L):Oh(L)}function qh(){return[]}function Hh(){return!1}t.exports=Zu})(Ld,Ld.exports);var Q2=Ld.exports,$d={exports:{}};$d.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",_="[object Object]",b="[object Promise]",g="[object Proxy]",w="[object RegExp]",k="[object Set]",S="[object String]",E="[object Symbol]",x="[object Undefined]",I="[object WeakMap]",A="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",M="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",X="[object Uint8Array]",H="[object Uint8ClampedArray]",U="[object Uint16Array]",$="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,D=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,z={};z[R]=z[M]=z[C]=z[O]=z[P]=z[X]=z[H]=z[U]=z[$]=!0,z[a]=z[l]=z[A]=z[u]=z[T]=z[c]=z[d]=z[h]=z[m]=z[y]=z[_]=z[w]=z[k]=z[S]=z[I]=!1;var j=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,V=typeof self=="object"&&self&&self.Object===Object&&self,Z=j||V||Function("return this")(),Y=e&&!e.nodeType&&e,ie=Y&&!0&&t&&!t.nodeType&&t,ue=ie&&ie.exports===Y,ee=ue&&j.process,q=function(){try{return ee&&ee.binding&&ee.binding("util")}catch{}}(),Q=q&&q.isTypedArray;function B(L,J){for(var ae=-1,be=L==null?0:L.length,et=0,Fe=[];++ae<be;){var ft=L[ae];J(ft,ae,L)&&(Fe[et++]=ft)}return Fe}function se(L,J){for(var ae=-1,be=J.length,et=L.length;++ae<be;)L[et+ae]=J[ae];return L}function G(L,J){for(var ae=-1,be=L==null?0:L.length;++ae<be;)if(J(L[ae],ae,L))return!0;return!1}function W(L,J){for(var ae=-1,be=Array(L);++ae<L;)be[ae]=J(ae);return be}function ne(L){return function(J){return L(J)}}function oe(L,J){return L.has(J)}function de(L,J){return L==null?void 0:L[J]}function te(L){var J=-1,ae=Array(L.size);return L.forEach(function(be,et){ae[++J]=[et,be]}),ae}function ge(L,J){return function(ae){return L(J(ae))}}function ve(L){var J=-1,ae=Array(L.size);return L.forEach(function(be){ae[++J]=be}),ae}var we=Array.prototype,Se=Function.prototype,Le=Object.prototype,Oe=Z["__core-js_shared__"],Ge=Se.toString,De=Le.hasOwnProperty,rt=function(){var L=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),At=Le.toString,Zt=RegExp("^"+Ge.call(De).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=ue?Z.Buffer:void 0,Kt=Z.Symbol,fe=Z.Uint8Array,Ee=Le.propertyIsEnumerable,pe=we.splice,Te=Kt?Kt.toStringTag:void 0,Re=Object.getOwnPropertySymbols,Nt=It?It.isBuffer:void 0,yt=ge(Object.keys,Object),Ut=Si(Z,"DataView"),sn=Si(Z,"Map"),En=Si(Z,"Promise"),Tn=Si(Z,"Set"),An=Si(Z,"WeakMap"),pn=Si(Object,"create"),Wu=Xn(Ut),Ii=Xn(sn),lh=Xn(En),uh=Xn(Tn),ch=Xn(An),Yu=Kt?Kt.prototype:void 0,Ya=Yu?Yu.valueOf:void 0;function kn(L){var J=-1,ae=L==null?0:L.length;for(this.clear();++J<ae;){var be=L[J];this.set(be[0],be[1])}}function dh(){this.__data__=pn?pn(null):{},this.size=0}function fh(L){var J=this.has(L)&&delete this.__data__[L];return this.size-=J?1:0,J}function hh(L){var J=this.__data__;if(pn){var ae=J[L];return ae===r?void 0:ae}return De.call(J,L)?J[L]:void 0}function ph(L){var J=this.__data__;return pn?J[L]!==void 0:De.call(J,L)}function mh(L,J){var ae=this.__data__;return this.size+=this.has(L)?0:1,ae[L]=pn&&J===void 0?r:J,this}kn.prototype.clear=dh,kn.prototype.delete=fh,kn.prototype.get=hh,kn.prototype.has=ph,kn.prototype.set=mh;function $n(L){var J=-1,ae=L==null?0:L.length;for(this.clear();++J<ae;){var be=L[J];this.set(be[0],be[1])}}function gh(){this.__data__=[],this.size=0}function vh(L){var J=this.__data__,ae=Vs(J,L);if(ae<0)return!1;var be=J.length-1;return ae==be?J.pop():pe.call(J,ae,1),--this.size,!0}function yh(L){var J=this.__data__,ae=Vs(J,L);return ae<0?void 0:J[ae][1]}function _h(L){return Vs(this.__data__,L)>-1}function bh(L,J){var ae=this.__data__,be=Vs(ae,L);return be<0?(++this.size,ae.push([L,J])):ae[be][1]=J,this}$n.prototype.clear=gh,$n.prototype.delete=vh,$n.prototype.get=yh,$n.prototype.has=_h,$n.prototype.set=bh;function ir(L){var J=-1,ae=L==null?0:L.length;for(this.clear();++J<ae;){var be=L[J];this.set(be[0],be[1])}}function wh(){this.size=0,this.__data__={hash:new kn,map:new(sn||$n),string:new kn}}function Eh(L){var J=Dr(this,L).delete(L);return this.size-=J?1:0,J}function Th(L){return Dr(this,L).get(L)}function Ah(L){return Dr(this,L).has(L)}function kh(L,J){var ae=Dr(this,L),be=ae.size;return ae.set(L,J),this.size+=ae.size==be?0:1,this}ir.prototype.clear=wh,ir.prototype.delete=Eh,ir.prototype.get=Th,ir.prototype.has=Ah,ir.prototype.set=kh;function Ls(L){var J=-1,ae=L==null?0:L.length;for(this.__data__=new ir;++J<ae;)this.add(L[J])}function Gu(L){return this.__data__.set(L,r),this}function $s(L){return this.__data__.has(L)}Ls.prototype.add=Ls.prototype.push=Gu,Ls.prototype.has=$s;function ri(L){var J=this.__data__=new $n(L);this.size=J.size}function Ga(){this.__data__=new $n,this.size=0}function xh(L){var J=this.__data__,ae=J.delete(L);return this.size=J.size,ae}function Ih(L){return this.__data__.get(L)}function Sh(L){return this.__data__.has(L)}function Rh(L,J){var ae=this.__data__;if(ae instanceof $n){var be=ae.__data__;if(!sn||be.length<n-1)return be.push([L,J]),this.size=++ae.size,this;ae=this.__data__=new ir(be)}return ae.set(L,J),this.size=ae.size,this}ri.prototype.clear=Ga,ri.prototype.delete=xh,ri.prototype.get=Ih,ri.prototype.has=Sh,ri.prototype.set=Rh;function Oh(L,J){var ae=Fs(L),be=!ae&&ec(L),et=!ae&&!be&&Us(L),Fe=!ae&&!be&&!et&&rc(L),ft=ae||be||et||Fe,ct=ft?W(L.length,String):[],en=ct.length;for(var vt in L)De.call(L,vt)&&!(ft&&(vt=="length"||et&&(vt=="offset"||vt=="parent")||Fe&&(vt=="buffer"||vt=="byteLength"||vt=="byteOffset")||Vh(vt,en)))&&ct.push(vt);return ct}function Vs(L,J){for(var ae=L.length;ae--;)if(Zu(L[ae][0],J))return ae;return-1}function Qa(L,J,ae){var be=J(L);return Fs(L)?be:se(be,ae(L))}function zo(L){return L==null?L===void 0?x:v:Te&&Te in Object(L)?Ri(L):Ju(L)}function Qu(L){return oi(L)&&zo(L)==a}function Xu(L,J,ae,be,et){return L===J?!0:L==null||J==null||!oi(L)&&!oi(J)?L!==L&&J!==J:Ph(L,J,ae,be,Xu,et)}function Ph(L,J,ae,be,et,Fe){var ft=Fs(L),ct=Fs(J),en=ft?l:ii(L),vt=ct?l:ii(J);en=en==a?_:en,vt=vt==a?_:vt;var Vn=en==_,or=vt==_,an=en==vt;if(an&&Us(L)){if(!Us(J))return!1;ft=!0,Vn=!1}if(an&&!Vn)return Fe||(Fe=new ri),ft||rc(L)?Xa(L,J,ae,be,et,Fe):Mh(L,J,en,ae,be,et,Fe);if(!(ae&i)){var Fn=Vn&&De.call(L,"__wrapped__"),xn=or&&De.call(J,"__wrapped__");if(Fn||xn){var Xi=Fn?L.value():L,Oi=xn?J.value():J;return Fe||(Fe=new ri),et(Xi,Oi,ae,be,Fe)}}return an?(Fe||(Fe=new ri),Lh(L,J,ae,be,et,Fe)):!1}function Ch(L){if(!nc(L)||Uh(L))return!1;var J=tc(L)?Zt:D;return J.test(Xn(L))}function Dh(L){return oi(L)&&Za(L.length)&&!!z[zo(L)]}function Nh(L){if(!Bh(L))return yt(L);var J=[];for(var ae in Object(L))De.call(L,ae)&&ae!="constructor"&&J.push(ae);return J}function Xa(L,J,ae,be,et,Fe){var ft=ae&i,ct=L.length,en=J.length;if(ct!=en&&!(ft&&en>ct))return!1;var vt=Fe.get(L);if(vt&&Fe.get(J))return vt==J;var Vn=-1,or=!0,an=ae&o?new Ls:void 0;for(Fe.set(L,J),Fe.set(J,L);++Vn<ct;){var Fn=L[Vn],xn=J[Vn];if(be)var Xi=ft?be(xn,Fn,Vn,J,L,Fe):be(Fn,xn,Vn,L,J,Fe);if(Xi!==void 0){if(Xi)continue;or=!1;break}if(an){if(!G(J,function(Oi,Wo){if(!oe(an,Wo)&&(Fn===Oi||et(Fn,Oi,ae,be,Fe)))return an.push(Wo)})){or=!1;break}}else if(!(Fn===xn||et(Fn,xn,ae,be,Fe))){or=!1;break}}return Fe.delete(L),Fe.delete(J),or}function Mh(L,J,ae,be,et,Fe,ft){switch(ae){case T:if(L.byteLength!=J.byteLength||L.byteOffset!=J.byteOffset)return!1;L=L.buffer,J=J.buffer;case A:return!(L.byteLength!=J.byteLength||!Fe(new fe(L),new fe(J)));case u:case c:case y:return Zu(+L,+J);case d:return L.name==J.name&&L.message==J.message;case w:case S:return L==J+"";case m:var ct=te;case k:var en=be&i;if(ct||(ct=ve),L.size!=J.size&&!en)return!1;var vt=ft.get(L);if(vt)return vt==J;be|=o,ft.set(L,J);var Vn=Xa(ct(L),ct(J),be,et,Fe,ft);return ft.delete(L),Vn;case E:if(Ya)return Ya.call(L)==Ya.call(J)}return!1}function Lh(L,J,ae,be,et,Fe){var ft=ae&i,ct=Ko(L),en=ct.length,vt=Ko(J),Vn=vt.length;if(en!=Vn&&!ft)return!1;for(var or=en;or--;){var an=ct[or];if(!(ft?an in J:De.call(J,an)))return!1}var Fn=Fe.get(L);if(Fn&&Fe.get(J))return Fn==J;var xn=!0;Fe.set(L,J),Fe.set(J,L);for(var Xi=ft;++or<en;){an=ct[or];var Oi=L[an],Wo=J[an];if(be)var Iy=ft?be(Wo,Oi,an,J,L,Fe):be(Oi,Wo,an,L,J,Fe);if(!(Iy===void 0?Oi===Wo||et(Oi,Wo,ae,be,Fe):Iy)){xn=!1;break}Xi||(Xi=an=="constructor")}if(xn&&!Xi){var ic=L.constructor,oc=J.constructor;ic!=oc&&"constructor"in L&&"constructor"in J&&!(typeof ic=="function"&&ic instanceof ic&&typeof oc=="function"&&oc instanceof oc)&&(xn=!1)}return Fe.delete(L),Fe.delete(J),xn}function Ko(L){return Qa(L,el,$h)}function Dr(L,J){var ae=L.__data__;return Fh(J)?ae[typeof J=="string"?"string":"hash"]:ae.map}function Si(L,J){var ae=de(L,J);return Ch(ae)?ae:void 0}function Ri(L){var J=De.call(L,Te),ae=L[Te];try{L[Te]=void 0;var be=!0}catch{}var et=At.call(L);return be&&(J?L[Te]=ae:delete L[Te]),et}var $h=Re?function(L){return L==null?[]:(L=Object(L),B(Re(L),function(J){return Ee.call(L,J)}))}:qh,ii=zo;(Ut&&ii(new Ut(new ArrayBuffer(1)))!=T||sn&&ii(new sn)!=m||En&&ii(En.resolve())!=b||Tn&&ii(new Tn)!=k||An&&ii(new An)!=I)&&(ii=function(L){var J=zo(L),ae=J==_?L.constructor:void 0,be=ae?Xn(ae):"";if(be)switch(be){case Wu:return T;case Ii:return m;case lh:return b;case uh:return k;case ch:return I}return J});function Vh(L,J){return J=J??s,!!J&&(typeof L=="number"||K.test(L))&&L>-1&&L%1==0&&L<J}function Fh(L){var J=typeof L;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?L!=="__proto__":L===null}function Uh(L){return!!rt&&rt in L}function Bh(L){var J=L&&L.constructor,ae=typeof J=="function"&&J.prototype||Le;return L===ae}function Ju(L){return At.call(L)}function Xn(L){if(L!=null){try{return Ge.call(L)}catch{}try{return L+""}catch{}}return""}function Zu(L,J){return L===J||L!==L&&J!==J}var ec=Qu(function(){return arguments}())?Qu:function(L){return oi(L)&&De.call(L,"callee")&&!Ee.call(L,"callee")},Fs=Array.isArray;function Ja(L){return L!=null&&Za(L.length)&&!tc(L)}var Us=Nt||Hh;function jh(L,J){return Xu(L,J)}function tc(L){if(!nc(L))return!1;var J=zo(L);return J==h||J==p||J==f||J==g}function Za(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=s}function nc(L){var J=typeof L;return L!=null&&(J=="object"||J=="function")}function oi(L){return L!=null&&typeof L=="object"}var rc=Q?ne(Q):Dh;function el(L){return Ja(L)?Oh(L):Nh(L)}function qh(){return[]}function Hh(){return!1}t.exports=jh})($d,$d.exports);var X2=$d.exports,yy={},J2=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yy,"__esModule",{value:!0});var bH=J2(Q2),wH=J2(X2),og;(function(t){function e(o,s,a){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var l=bH.default(s);a||(l=Object.keys(l).reduce(function(u,c){return l[c]!=null&&(u[c]=l[c]),u},{}));for(var f in o)o[f]!==void 0&&s[f]===void 0&&(l[f]=o[f]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o,s){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var a=Object.keys(o).concat(Object.keys(s)).reduce(function(l,f){return wH.default(o[f],s[f])||(l[f]=s[f]===void 0?null:s[f]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(o,s){o===void 0&&(o={}),s===void 0&&(s={}),o=o||{};var a=Object.keys(s).reduce(function(l,f){return s[f]!==o[f]&&o[f]!==void 0&&(l[f]=s[f]),l},{});return Object.keys(o).reduce(function(l,f){return o[f]!==s[f]&&s[f]===void 0&&(l[f]=null),l},a)}t.invert=r;function i(o,s,a){if(a===void 0&&(a=!1),typeof o!="object")return s;if(typeof s=="object"){if(!a)return s;var l=Object.keys(s).reduce(function(f,u){return o[u]===void 0&&(f[u]=s[u]),f},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(og||(og={}));yy.default=og;var kc={},xc={},nb;function EH(){if(nb)return xc;nb=1;var t=Cn&&Cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xc,"__esModule",{value:!0});var e=t(Z2()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var o=this.ops[this.index];if(o){var s=this.offset,a=e.default.length(o);if(i>=a-s?(i=a-s,this.index+=1,this.offset=0):this.offset+=i,typeof o.delete=="number")return{delete:i};var l={};return o.attributes&&(l.attributes=o.attributes),typeof o.retain=="number"?l.retain=i:typeof o.insert=="string"?l.insert=o.insert.substr(s,i):l.insert=o.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,o=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=o,[s].concat(a)}else return[]},r}();return xc.default=n,xc}var rb;function Z2(){if(rb)return kc;rb=1;var t=Cn&&Cn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kc,"__esModule",{value:!0});var e=t(EH()),n;return function(r){function i(s){return new e.default(s)}r.iterator=i;function o(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}r.length=o}(n||(n={})),kc.default=n,kc}var Ku=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ic=Ku(_H),TH=Ku(Q2),Hp=Ku(X2),dl=Ku(yy),In=Ku(Z2()),AH="\0",kH=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=TH.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(Hp.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var o=e(i)?n:r;o.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+In.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+In.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=In.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=In.default.length(s)}return new t(r)},t.prototype.compose=function(e){var n=In.default.iterator(this.ops),r=In.default.iterator(e.ops),i=[],o=r.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var s=o.retain;n.peekType()==="insert"&&n.peekLength()<=s;)s-=n.peekLength(),i.push(n.next());o.retain-s>0&&r.next(o.retain-s)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),f=n.next(l),u=r.next(l);if(typeof u.retain=="number"){var c={};typeof f.retain=="number"?c.retain=l:c.insert=f.insert;var d=dl.default.compose(f.attributes,u.attributes,typeof f.retain=="number");if(d&&(c.attributes=d),a.push(c),!r.hasNext()&&Hp.default(a.ops[a.ops.length-1],c)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof u.delete=="number"&&typeof f.retain=="number"&&a.push(u)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(f){if(f.insert!=null)return typeof f.insert=="string"?f.insert:AH;var u=l===e?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),i=new t,o=Ic.default(r[0],r[1],n),s=In.default.iterator(this.ops),a=In.default.iterator(e.ops);return o.forEach(function(l){for(var f=l[1].length;f>0;){var u=0;switch(l[0]){case Ic.default.INSERT:u=Math.min(a.peekLength(),f),i.push(a.next(u));break;case Ic.default.DELETE:u=Math.min(f,s.peekLength()),s.next(u),i.delete(u);break;case Ic.default.EQUAL:u=Math.min(s.peekLength(),a.peekLength(),f);var c=s.next(u),d=a.next(u);Hp.default(c.insert,d.insert)?i.retain(u,dl.default.diff(c.attributes,d.attributes)):i.push(d).delete(u);break}f-=u}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=In.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if(r.peekType()!=="insert")return;var s=r.peek(),a=In.default.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},o)===!1)return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(In.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var o=i.delete||i.retain,s=e.slice(r,r+o);return s.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(In.default.length(a),dl.default.invert(i.attributes,a.attributes))}),r+o}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=In.default.iterator(this.ops),o=In.default.iterator(r.ops),s=new t;i.hasNext()||o.hasNext();)if(i.peekType()==="insert"&&(n||o.peekType()!=="insert"))s.retain(In.default.length(i.next()));else if(o.peekType()==="insert")s.push(o.next());else{var a=Math.min(i.peekLength(),o.peekLength()),l=i.next(a),f=o.next(a);if(l.delete)continue;f.delete?s.push(f):s.retain(a,dl.default.transform(l.attributes,f.attributes,n))}return s.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=In.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var o=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(o,e-i);continue}else s==="insert"&&(i<e||!n)&&(e+=o);i+=o}return e},t.Op=In.default,t.AttributeMap=dl.default,t}(),xH=kH;const IH=q2(xH);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const ib={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},ex=Jt({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(ib).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{Tt(()=>{o()}),Eg(()=>{n=null});let n,r;const i=he(),o=()=>{var A;if(i.value){if(r=s(),t.modules)if(Array.isArray(t.modules))for(const T of t.modules)jp.register(`modules/${T.name}`,T.module);else jp.register(`modules/${t.modules.name}`,t.modules.module);n=new jp(i.value,r),b(t.content),n.on("text-change",c),n.on("selection-change",h),n.on("editor-change",p),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(A=n.getModule("toolbar"))===null||A===void 0||A.container.addEventListener("mousedown",T=>{T.preventDefault()}),e.emit("ready",n)}},s=()=>{const A={};if(t.theme!==""&&(A.theme=t.theme),t.readOnly&&(A.readOnly=t.readOnly),t.placeholder&&(A.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(A.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:ib[t.toolbar]})()}),t.modules){const T=(()=>{var R,M;const C={};if(Array.isArray(t.modules))for(const O of t.modules)C[O.name]=(R=O.options)!==null&&R!==void 0?R:{};else C[t.modules.name]=(M=t.modules.options)!==null&&M!==void 0?M:{};return C})();A.modules=Object.assign({},A.modules,T)}return Object.assign({},t.globalOptions,t.options,A)},a=A=>typeof A=="object"&&A?A.slice():A,l=A=>Object.values(A.ops).some(T=>!T.retain||Object.keys(T).length!==1);let f;const u=A=>{if(typeof f==typeof A){if(A===f)return!0;if(typeof A=="object"&&A&&typeof f=="object"&&f)return!l(f.diff(A))}return!1},c=(A,T,R)=>{f=a(_()),u(t.content)||e.emit("update:content",f),e.emit("textChange",{delta:A,oldContents:T,source:R})},d=he(),h=(A,T,R)=>{d.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:A,oldRange:T,source:R})};rn(d,A=>{A?e.emit("focus",i):e.emit("blur",i)});const p=(...A)=>{A[0]==="text-change"&&e.emit("editorChange",{name:A[0],delta:A[1],oldContents:A[2],source:A[3]}),A[0]==="selection-change"&&e.emit("editorChange",{name:A[0],range:A[1],oldRange:A[2],source:A[3]})},m=()=>i.value,y=()=>{var A;return(A=n==null?void 0:n.getModule("toolbar"))===null||A===void 0?void 0:A.container},v=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},_=(A,T)=>t.contentType==="html"?k():t.contentType==="text"?g(A,T):n==null?void 0:n.getContents(A,T),b=(A,T="api")=>{const R=A||(t.contentType==="delta"?new IH:"");t.contentType==="html"?S(R):t.contentType==="text"?w(R,T):n==null||n.setContents(R,T),f=a(R)},g=(A,T)=>{var R;return(R=n==null?void 0:n.getText(A,T))!==null&&R!==void 0?R:""},w=(A,T="api")=>{n==null||n.setText(A,T)},k=()=>{var A;return(A=n==null?void 0:n.root.innerHTML)!==null&&A!==void 0?A:""},S=A=>{n&&(n.root.innerHTML=A)},E=(A,T="api")=>{const R=n==null?void 0:n.clipboard.convert(A);R&&(n==null||n.setContents(R,T))},x=()=>{n==null||n.focus()},I=()=>{Mn(()=>{var A;!e.slots.toolbar&&n&&((A=n.getModule("toolbar"))===null||A===void 0||A.container.remove()),o()})};return rn(()=>t.content,A=>{if(!n||!A||u(A))return;const T=n.getSelection();T&&Mn(()=>n==null?void 0:n.setSelection(T)),b(A)},{deep:!0}),rn(()=>t.enable,A=>{n&&n.enable(A)}),{editor:i,getEditor:m,getToolbar:y,getQuill:v,getContents:_,setContents:b,getHTML:k,setHTML:S,pasteHTML:E,focus:x,getText:g,setText:w,reinit:I}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),Ma("div",{ref:"editor",...this.$attrs})]}}),SH={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50"},RH={key:1,id:"add-blog-modal",tabindex:"-1","aria-hidden":"true",class:"fixed inset-0 flex items-center justify-center z-50 w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},OH={class:"relative p-4 w-full max-w-4xl max-h-full"},PH={class:"relative bg-white rounded-lg shadow"},CH={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},DH=N("h3",{class:"text-lg font-semibold text-gray-900"}," Blog Yazsn Gncelle ",-1),NH=N("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),MH=N("span",{class:"sr-only"},"Close modal",-1),LH=[NH,MH],$H={class:"grid gap-4 mb-4 grid-cols-2"},VH={class:"col-span-2"},FH=N("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},null,-1),UH={class:"col-span-2"},BH=N("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),jH=N("option",{value:"Hukuk"},"Hukuk",-1),qH=N("option",{value:"Haberler"},"Haberler",-1),HH=N("option",{value:"Son Dakika"},"Son Dakika",-1),zH=N("option",{value:"Blog Yazs"},"Blog Yazs",-1),KH=[jH,qH,HH,zH],WH={class:"col-span-2"},YH=N("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yaz erii",-1),GH={class:"bg-gray-100"},QH=N("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"Kaydet",-1),XH={__name:"BlogModalEdit",props:{show:Boolean,blogDataToUpdate:Object},emits:["close","updateBlog"],setup(t,{emit:e}){const n=e,r=t;me(()=>{const s=r.blogDataToUpdate.image;return s.length<=20?s:`${s.substring(0,10)}...${s.substring(s.length-10)}`});const i=o=>{o.updated_date=new Date,n("updateBlog",o),n("close")};return(o,s)=>(re(),ce(Pe,null,[t.show?(re(),ce("div",SH)):ye("",!0),t.show?(re(),ce("div",RH,[N("div",OH,[N("div",PH,[N("div",CH,[DH,N("button",{type:"button",onClick:s[0]||(s[0]=a=>o.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},LH)]),N("form",{onSubmit:s[4]||(s[4]=Or(a=>i(t.blogDataToUpdate),["prevent"])),class:"p-4 md:p-5"},[N("div",$H,[N("div",VH,[FH,wt(N("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.blogDataToUpdate.title=a),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},null,512),[[yi,t.blogDataToUpdate.title]])]),N("div",UH,[BH,wt(N("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>t.blogDataToUpdate.category=a),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},KH,512),[[Oo,t.blogDataToUpdate.category]])]),N("div",WH,[YH,N("div",GH,[qe(le(ex),{content:t.blogDataToUpdate.content,"onUpdate:content":s[3]||(s[3]=a=>t.blogDataToUpdate.content=a),contentType:"html",id:"content",toolbar:"essential",theme:"snow",class:"h-64"},null,8,["content"])])])]),QH],32)])])])):ye("",!0)],64))}},JH={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},ZH={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},ez={class:"flex justify-between items-center mb-4"},tz={class:"text-4xl font-bold text-gray-800"},nz=N("div",{class:"text-lg font-medium text-gray-500"},"Toplam Blog Yazs",-1),rz=N("div",{class:"text-gray-400"},[N("i",{class:"ri-group-line text-4xl"})],-1),iz={class:"w-full bg-gray-200 rounded-full h-4 overflow-hidden"},oz={class:"text-right text-sm font-medium text-gray-600 mt-2"},sz={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},az={class:"flex justify-between items-center mb-4"},lz={class:"flex items-center mb-1"},uz={class:"text-4xl font-bold text-gray-800"},cz={class:"ml-2 p-1 rounded bg-emerald-100 text-emerald-700 text-sm font-semibold"},dz=N("div",{class:"text-lg font-medium text-gray-500"},"Toplam Grntlenme",-1),fz=N("div",{class:"text-gray-400"},[N("i",{class:"ri-eye-line text-4xl"})],-1),hz=N("div",{class:"text-gray-600 font-medium"},"Gncel Durum:",-1),pz={class:"mt-2 flex flex-wrap"},mz={__name:"BlogCards",props:{totalBlogs:Number,totalBlogView:Number,blogsCategorySummary:Object},setup(t){const e=t,n={"Blog Yazs":"bg-blue-100 text-blue-700",Hukuk:"bg-green-100 text-green-700","Son Dakika":"bg-gray-100 text-gray-700",Haberler:"bg-red-100 text-red-700"},r=s=>{switch(s){case"Blog Yazs":return"Blog Yazs";case"Hukuk":return"Hukuk";case"Son Dakika":return"Son Dakika";case"Haberler":return"Haberler";default:return"Unknown"}},i=me(()=>e.totalBlogs===0?0:(e.totalBlogView/e.totalBlogs*100).toFixed(2)),o=me(()=>e.totalBlogs===0?0:(e.totalBlogs/100*100).toFixed(2));return(s,a)=>(re(),ce("div",JH,[N("div",ZH,[N("div",ez,[N("div",null,[N("div",tz,Ie(t.totalBlogs),1),nz]),rz]),N("div",iz,[N("div",{class:"h-full bg-blue-600",style:vn({width:o.value+"%"})},null,4)]),N("div",oz,Ie(o.value)+"%",1)]),N("div",sz,[N("div",az,[N("div",null,[N("div",lz,[N("div",uz,Ie(t.totalBlogView),1),N("div",cz," +"+Ie(i.value)+"% ",1)]),dz]),fz]),hz,N("div",pz,[(re(!0),ce(Pe,null,Xe(t.blogsCategorySummary,(l,f)=>(re(),ce("span",{key:f,class:We([n[f],"text-xs font-semibold mr-2 px-2 py-1 rounded-lg mb-1"])},Ie(r(f))+": "+Ie(l),3))),128))])])]))}},gz={class:"flex justify-between mb-4 items-start"},vz=N("h1",{class:"font-medium"},"Blog Ynetimi",-1),yz={action:"",class:"flex items-center mb-4"},_z={class:"relative w-full mr-2"},bz=N("i",{class:"ri-search-line absolute top-1/2 left-4 -translate-y-1/2 text-gray-400"},null,-1),wz={key:0,class:"w-full mt-4 table-fixed"},Ez=N("thead",null,[N("tr",null,[N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Balk "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yazar "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Yaratlma Tarihi "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Kategori "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Deitirilme Tarihi "),N("th",{class:"w-1/6 text-[12px] uppercase tracking-wide font-medium text-black px-4 py-2 bg-gray-100 text-left"}," Aksiyonlar ")])],-1),Tz={class:"py-4 px-4 border-b border-b-gray-200"},Az={class:"flex items-center"},kz={href:"#",class:"text-gray-600 text-sm font-medium hover:text-blue-500 truncate"},xz={class:"py-4 px-4 border-b border-b-gray-200"},Iz={class:"text-[13px] font-medium text-gray-600"},Sz={class:"py-4 px-4 border-b border-b-gray-200"},Rz={class:"text-[13px] font-medium text-gray-600"},Oz={class:"py-4 px-4 border-b border-b-gray-200"},Pz={class:"flex space-x-5"},Cz={class:"text-[13px] font-medium text-gray-600"},Dz={class:"py-4 px-4 border-b border-b-gray-200"},Nz={class:"flex space-x-5"},Mz={class:"text-[13px] font-medium text-gray-600"},Lz={class:"py-4 px-4 border-b border-b-gray-200 flex justify-between"},$z={class:"button-container relative flex flex-row gap-1"},Vz=["onClick"],Fz=["onClick"],Uz=["onClick"],Bz={class:"pagination-container flex justify-end mt-4 w-full"},jz=["disabled"],qz=["disabled"],Hz={__name:"BlogManagement",props:{blogsData:{type:Object,required:!0},blogRef:{type:Object,required:!0}},emits:["goAddBlog","deleteBlog","updateBlog"],setup(t,{emit:e}){const n=he(!1),r=he(!1);let i=null;const o=he(null),s=t;s.blogRef;const a=e;function l(x){n.value=!0,o.value=x,console.log(o.value.created_date),console.log("blog id to edit",x.id)}function f(x){i=x,r.value=!0}function u(){a("deleteBlog",i),r.value=!1}function c(x){a("updateBlog",x),n.value=!1}const d=me(()=>s.blogsData.length),h=he(324),p=he(1),m=he(10),y=he(""),v=me(()=>y.value?s.blogsData.filter(x=>x.title.toLowerCase().includes(y.value.toLowerCase())):s.blogsData),_=me(()=>(p.value-1)*m.value),b=me(()=>{if(v.value.length===0){const x=_.value,I=x+m.value;return s.blogsData.slice(x,I)}else return v.value.slice(_.value,_.value+m.value)}),g=me(()=>v.value.length===0?Math.ceil(s.blogsData.length/m.value):Math.ceil(v.value.length/m.value)),w=me(()=>{const x={};return s.blogsData.forEach(I=>{x[I.category]?x[I.category]++:x[I.category]=1}),x}),k=()=>{p.value>1&&p.value--},S=()=>{p.value<g.value&&p.value++},E=(x,I)=>{console.log("Opening blog URL:",x,I),window.open(`http://localhost:5173/blog/${x}/${I}`,"_blank")};return(x,I)=>(re(),ce("div",null,[qe(fH,{show:r.value,onClose:I[0]||(I[0]=A=>r.value=!1),onDelete:u},null,8,["show"]),qe(XH,{show:n.value,onClose:I[1]||(I[1]=A=>n.value=!1),onUpdateBlog:c,blogDataToUpdate:o.value},null,8,["show","blogDataToUpdate"]),qe(mz,{totalBlogs:d.value,totalBlogView:h.value,blogsCategorySummary:w.value},null,8,["totalBlogs","totalBlogView","blogsCategorySummary"]),qe(_2,{class:"p-6"},{default:ze(()=>{var A;return[N("div",gz,[vz,N("button",{onClick:I[2]||(I[2]=T=>a("goAddBlog")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded"}," + Ekle ")]),N("form",yz,[N("div",_z,[wt(N("input",{"onUpdate:modelValue":I[3]||(I[3]=T=>y.value=T),type:"text",class:"py-2 pr-4 pl-10 bg-gray-100 w-full shadow-md shadow-black/5 outline-none border border-gray-100 rounded-md text-sm focus:border-blue-500",placeholder:"Bala gre ara..."},null,512),[[yi,y.value]]),bz])]),(A=t.blogsData)!=null&&A.length?(re(),ce("table",wz,[Ez,N("tbody",null,[(re(!0),ce(Pe,null,Xe(b.value,T=>(re(),ce("tr",{key:T.id},[N("td",Tz,[N("div",Az,[N("a",kz,Ie(T.title),1)])]),N("td",xz,[N("span",Iz,Ie(T.author||""),1)]),N("td",Sz,[N("span",Rz,Ie(T.created_date),1)]),N("td",Oz,[N("div",Pz,[N("span",Cz,Ie(T.category),1)])]),N("td",Dz,[N("div",Nz,[N("span",Mz,Ie(T.updated_date),1)])]),N("td",Lz,[N("div",$z,[N("button",{onClick:R=>l(T),class:"ri-edit-line text-lg bg-orange-400 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,Vz),N("button",{onClick:R=>E(T.slug,T.id),class:"ri-eye-line text-lg bg-green-500 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,Fz),N("button",{onClick:R=>f(T.id),id:"delete-blog-modal-button",class:"ri-delete-bin-6-line text-lg bg-red-700 hover:bg-gray-900 text-white font-bold px-2 rounded"},null,8,Uz)])])]))),128))])])):ye("",!0),N("div",Bz,[N("button",{onClick:k,disabled:p.value===1,class:"ri-arrow-left-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,jz),N("button",{onClick:S,disabled:p.value===g.value,class:"ri-arrow-right-fill border border-gray-800 h-8 px-2 m-2 text-xl text-black transition-colors duration-150 bg-white rounded-lg focus:shadow-outline hover:bg-gray-800 hover:text-white"},null,8,qz)])]}),_:1})]))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firebasestorage.googleapis.com",nx="storageBucket",zz=2*60*1e3,Kz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends Cr{constructor(e,n,r=0){super(zp(e),`Firebase Storage: ${n} (${zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function zp(t){return"storage/"+t}function _y(){const t="An unknown error occurred, please check the error payload for server response.";return new zt(Ht.UNKNOWN,t)}function Wz(t){return new zt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Yz(t){return new zt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Gz(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new zt(Ht.UNAUTHENTICATED,t)}function Qz(){return new zt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Xz(t){return new zt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Jz(){return new zt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zz(){return new zt(Ht.CANCELED,"User canceled the upload/download.")}function eK(t){return new zt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function tK(t){return new zt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nK(){return new zt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nx+"' property when initializing the app?")}function rK(){return new zt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iK(){return new zt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oK(t){return new zt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sg(t){return new zt(Ht.INVALID_ARGUMENT,t)}function rx(){return new zt(Ht.APP_DELETED,"The Firebase app was deleted.")}function sK(t){return new zt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(t,e){return new zt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fl(t){throw new zt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=br.makeFromUrl(e,n)}catch{return new br(e,"")}if(r.path==="")return r;throw tK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function f(g){g.path_=decodeURIComponent(g.path)}const u="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${c}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===tx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:f},{regex:v,indices:{bucket:1,path:2},postModify:f}];for(let g=0;g<b.length;g++){const w=b[g],k=w.regex.exec(e);if(k){const S=k[w.indices.bucket];let E=k[w.indices.path];E||(E=""),r=new br(S,E),w.postModify(r);break}}if(r==null)throw eK(e);return r}}class aK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lK(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let f=!1;function u(...y){f||(f=!0,e.apply(null,y))}function c(y){i=setTimeout(()=>{i=null,t(h,l())},y)}function d(){o&&clearTimeout(o)}function h(y,...v){if(f){d();return}if(y){d(),u.call(null,y,...v);return}if(l()||s){d(),u.call(null,y,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,c(b)}let p=!1;function m(y){p||(p=!0,d(),!f&&(i!==null?(y||(a=2),clearTimeout(i),c(0)):y||(a=1)))}return c(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function uK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t){return t!==void 0}function dK(t){return typeof t=="object"&&!Array.isArray(t)}function by(t){return typeof t=="string"||t instanceof String}function ob(t){return wy()&&t instanceof Blob}function wy(){return typeof Blob<"u"}function sb(t,e,n,r){if(r<e)throw sg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ix(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gs||(gs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n,r,i,o,s,a,l,f,u,c,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=f,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,f=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,f)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===gs.NO_ERROR,l=o.getStatus();if(!a||fK(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===gs.ABORT;r(!1,new Sc(!1,null,u));return}const f=this.successCodes_.indexOf(l)!==-1;r(!0,new Sc(f,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());cK(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=_y();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?rx():Zz();s(l)}else{const l=Jz();s(l)}};this.canceled_?n(!1,new Sc(!1,null,!0)):this.backoffId_=lK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yK(t,e,n,r,i,o,s=!0){const a=ix(t.urlParams),l=t.url+a,f=Object.assign({},t.headers);return gK(f,e),pK(f,n),mK(f,o),vK(f,r),new hK(l,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bK(...t){const e=_K();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wy())return new Blob(t);throw new zt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EK(t){if(typeof atob>"u")throw oK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kp{constructor(e,n){this.data=e,this.contentType=n||null}}function TK(t,e){switch(t){case vi.RAW:return new Kp(ox(e));case vi.BASE64:case vi.BASE64URL:return new Kp(sx(t,e));case vi.DATA_URL:return new Kp(kK(e),xK(e))}throw _y()}function ox(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function AK(t){let e;try{e=decodeURIComponent(t)}catch{throw Ul(vi.DATA_URL,"Malformed data URL.")}return ox(e)}function sx(t,e){switch(t){case vi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ul(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ul(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EK(e)}catch(i){throw i.message.includes("polyfill")?i:Ul(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ax{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ul(vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=IK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kK(t){const e=new ax(t);return e.base64?sx(vi.BASE64,e.rest):AK(e.rest)}function xK(t){return new ax(t).contentType}function IK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){let r=0,i="";ob(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ob(this.data_)){const r=this.data_,i=wK(r,e,n);return i===null?null:new vo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vo(r,!0)}}static getBlob(...e){if(wy()){const n=e.map(r=>r instanceof vo?r.data_:r);return new vo(bK.apply(null,n))}else{const n=e.map(s=>by(s)?TK(vi.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new vo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){let e;try{e=JSON.parse(t)}catch{return null}return dK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ux(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t,e){return e}class Jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||OK}}let Rc=null;function PK(t){return!by(t)||t.length<2?t:ux(t)}function cx(){if(Rc)return Rc;const t=[];t.push(new Jn("bucket")),t.push(new Jn("generation")),t.push(new Jn("metageneration")),t.push(new Jn("name","fullPath",!0));function e(o,s){return PK(s)}const n=new Jn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Jn("size");return i.xform=r,t.push(i),t.push(new Jn("timeCreated")),t.push(new Jn("updated")),t.push(new Jn("md5Hash",null,!0)),t.push(new Jn("cacheControl",null,!0)),t.push(new Jn("contentDisposition",null,!0)),t.push(new Jn("contentEncoding",null,!0)),t.push(new Jn("contentLanguage",null,!0)),t.push(new Jn("contentType",null,!0)),t.push(new Jn("metadata","customMetadata",!0)),Rc=t,Rc}function CK(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new br(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function DK(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return CK(r,t),r}function dx(t,e,n){const r=lx(e);return r===null?null:DK(t,r,n)}function NK(t,e,n,r){const i=lx(e);if(i===null||!by(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(f=>{const u=t.bucket,c=t.fullPath,d="/b/"+s(u)+"/o/"+s(c),h=Ey(d,n,r),p=ix({alt:"media",token:f});return h+p})[0]}function MK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class fx{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){if(!t)throw _y()}function LK(t,e){function n(r,i){const o=dx(t,i,e);return hx(o!==null),o}return n}function $K(t,e){function n(r,i){const o=dx(t,i,e);return hx(o!==null),NK(o,i,t.host,t._protocol)}return n}function px(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Qz():i=Gz():n.getStatus()===402?i=Yz(t.bucket):n.getStatus()===403?i=Xz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function VK(t){const e=px(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Wz(t.path)),o.serverResponse=i.serverResponse,o}return n}function FK(t,e,n){const r=e.fullServerUrl(),i=Ey(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new fx(i,o,$K(t,n),s);return a.errorHandler=VK(e),a}function UK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function BK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=UK(null,e)),r}function jK(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let g=0;g<2;g++)b=b+Math.random().toString().slice(2);return b}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const f=BK(e,r,i),u=MK(f,n),c="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+f.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=vo.getBlob(c,r,d);if(h===null)throw rK();const p={name:f.fullPath},m=Ey(o,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,_=new fx(m,y,LK(t,n),v);return _.urlParams=p,_.headers=s,_.body=h.uploadData(),_.errorHandler=px(e),_}class qK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HK extends qK{initXhr(){this.xhr_.responseType="text"}}function mx(){return new HK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this._service=e,n instanceof br?this._location=n:this._location=br.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ks(e,n)}get root(){const e=new br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ux(this._location.path)}get storage(){return this._service}get parent(){const e=SK(this._location.path);if(e===null)return null;const n=new br(this._location.bucket,e);return new ks(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sK(e)}}function zK(t,e,n){t._throwIfRoot("uploadBytes");const r=jK(t.storage,t._location,cx(),new vo(e,!0),n);return t.storage.makeRequestWithTokens(r,mx).then(i=>({metadata:i,ref:t}))}function KK(t){t._throwIfRoot("getDownloadURL");const e=FK(t.storage,t._location,cx());return t.storage.makeRequestWithTokens(e,mx).then(n=>{if(n===null)throw iK();return n})}function WK(t,e){const n=RK(t._location.path,e),r=new br(t._location.bucket,n);return new ks(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){return/^[A-Za-z]+:\/\//.test(t)}function GK(t,e){return new ks(t,e)}function gx(t,e){if(t instanceof Ty){const n=t;if(n._bucket==null)throw nK();const r=new ks(n,n._bucket);return e!=null?gx(r,e):r}else return e!==void 0?WK(t,e):t}function QK(t,e){if(e&&YK(e)){if(t instanceof Ty)return GK(t,e);throw sg("To use ref(service, url), the first argument must be a Storage instance.")}else return gx(t,e)}function ab(t,e){const n=e==null?void 0:e[nx];return n==null?null:br.makeFromBucketSpec(n,t)}function XK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:tE(i,t.app.options.projectId))}class Ty{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=tx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zz,this._maxUploadRetryTime=Kz,this._requests=new Set,i!=null?this._bucket=br.makeFromBucketSpec(i,this._host):this._bucket=ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=br.makeFromBucketSpec(this._url,e):this._bucket=ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ks(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new aK(rx());{const s=yK(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lb="@firebase/storage",ub="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="storage";function JK(t,e,n){return t=Dt(t),zK(t,e,n)}function ZK(t){return t=Dt(t),KK(t)}function eW(t,e){return t=Dt(t),QK(t,e)}function tW(t=uf(),e){t=Dt(t);const r=Vo(t,vx).getImmediate({identifier:e}),i=Jw("storage");return i&&nW(r,...i),r}function nW(t,e,n,r={}){XK(t,e,n,r)}function rW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ty(n,r,i,e,Os)}function iW(){Yr(new Pr(vx,rW,"PUBLIC").setMultipleInstances(!0)),dr(lb,ub,""),dr(lb,ub,"esm2017")}iW();function oW(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function yx(t,e){return new Promise(function(n,r){let i;return sW(t).then(function(o){try{return i=o,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(s){return r(s)}},r)})}const sW=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let s=0;if(o.getUint16(s)!==65496)return n("not a valid JPEG");for(s+=2;;){const a=o.getUint16(s);if(a===65498)break;const l=o.getUint16(s+2);if(a===65505&&o.getUint32(s+4)===1165519206){const f=s+10;let u;switch(o.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(f+2,u)!==42)return n("TIFF header contains invalid version");const c=o.getUint32(f+4,u),d=f+c+2+12*o.getUint16(f+c,u);for(let h=f+c+2;h<d;h+=12)if(o.getUint16(h,u)==274){if(o.getUint16(h+2,u)!==3)return n("Orientation data type is invalid");if(o.getUint32(h+4,u)!==1)return n("Orientation data count is invalid");o.setUint16(h+8,1,u);break}return e(i.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Vd={},aW={get exports(){return Vd},set exports(t){Vd=t}};(function(t){var e,n,r={};aW.exports=r,r.parse=function(i,o){for(var s=r.bin.readUshort,a=r.bin.readUint,l=0,f={},u=new Uint8Array(i),c=u.length-4;a(u,c)!=101010256;)c--;l=c,l+=4;var d=s(u,l+=4);s(u,l+=2);var h=a(u,l+=2),p=a(u,l+=4);l+=4,l=p;for(var m=0;m<d;m++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),h=a(u,l+=4);var y=a(u,l+=4),v=s(u,l+=4),_=s(u,l+2),b=s(u,l+4);l+=6;var g=a(u,l+=8);l+=4,l+=v+_+b,r._readLocal(u,g,f,h,y,o)}return f},r._readLocal=function(i,o,s,a,l,f){var u=r.bin.readUshort,c=r.bin.readUint;c(i,o),u(i,o+=4),u(i,o+=2);var d=u(i,o+=2);c(i,o+=2),c(i,o+=4),o+=4;var h=u(i,o+=8),p=u(i,o+=2);o+=2;var m=r.bin.readUTF8(i,o,h);if(o+=h,o+=p,f)s[m]={size:l,csize:a};else{var y=new Uint8Array(i.buffer,o);if(d==0)s[m]=new Uint8Array(y.buffer.slice(o,o+a));else{if(d!=8)throw"unknown compression method: "+d;var v=new Uint8Array(l);r.inflateRaw(y,v),s[m]=v}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var s=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[s]=120,a[s+1]=156,s+=2,s=r.F.deflateRaw(i,a,s,o.level);var l=r.adler(i,0,i.length);return a[s+0]=l>>>24&255,a[s+1]=l>>>16&255,a[s+2]=l>>>8&255,a[s+3]=l>>>0&255,new Uint8Array(a.buffer,0,s+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var s=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,s,a,o.level);return new Uint8Array(s.buffer,0,a)},r.encode=function(i,o){o==null&&(o=!1);var s=0,a=r.bin.writeUint,l=r.bin.writeUshort,f={};for(var u in i){var c=!r._noNeed(u)&&!o,d=i[u],h=r.crc.crc(d,0,d.length);f[u]={cpr:c,usize:d.length,crc:h,file:c?r.deflateRaw(d):d}}for(var u in f)s+=f[u].file.length+30+46+2*r.bin.sizeUTF8(u);s+=22;var p=new Uint8Array(s),m=0,y=[];for(var u in f){var v=f[u];y.push(m),m=r._writeHeader(p,m,u,v,0)}var _=0,b=m;for(var u in f)v=f[u],y.push(m),m=r._writeHeader(p,m,u,v,1,y[_++]);var g=m-b;return a(p,m,101010256),m+=4,l(p,m+=4,_),l(p,m+=2,_),a(p,m+=2,g),a(p,m+=4,b),m+=4,m+=2,p.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,s,a,l,f){var u=r.bin.writeUint,c=r.bin.writeUshort,d=a.file;return u(i,o,l==0?67324752:33639248),o+=4,l==1&&(o+=2),c(i,o,20),c(i,o+=2,0),c(i,o+=2,a.cpr?8:0),u(i,o+=2,0),u(i,o+=4,a.crc),u(i,o+=4,d.length),u(i,o+=4,a.usize),c(i,o+=4,r.bin.sizeUTF8(s)),c(i,o+=2,0),o+=2,l==1&&(o+=2,o+=2,u(i,o+=6,f),o+=4),o+=r.bin.writeUTF8(i,o,s),l==0&&(i.set(d,o),o+=d.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var s=o,a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;i[o]=s}return i}(),update:function(i,o,s,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^o[s+l])]^i>>>8;return i},crc:function(i,o,s){return 4294967295^r.crc.update(4294967295,i,o,s)}},r.adler=function(i,o,s){for(var a=1,l=0,f=o,u=o+s;f<u;){for(var c=Math.min(f+5552,u);f<c;)l+=a+=i[f++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,s){i[o]=255&s,i[o+1]=s>>8&255,i[o+2]=s>>16&255,i[o+3]=s>>24&255},readASCII:function(i,o,s){for(var a="",l=0;l<s;l++)a+=String.fromCharCode(i[o+l]);return a},writeASCII:function(i,o,s){for(var a=0;a<s.length;a++)i[o+a]=s.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,s){for(var a,l="",f=0;f<s;f++)l+="%"+r.bin.pad(i[o+f].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,o,s)}return a},writeUTF8:function(i,o,s){for(var a=s.length,l=0,f=0;f<a;f++){var u=s.charCodeAt(f);if(!(4294967168&u))i[o+l]=u,l++;else if(!(4294965248&u))i[o+l]=192|u>>6,i[o+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[o+l]=224|u>>12,i[o+l+1]=128|u>>6&63,i[o+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[o+l]=240|u>>18,i[o+l+1]=128|u>>12&63,i[o+l+2]=128|u>>6&63,i[o+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var o=i.length,s=0,a=0;a<o;a++){var l=i.charCodeAt(a);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},r.F={},r.F.deflateRaw=function(i,o,s,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],f=r.F.U,u=r.F._goodIndex;r.F._hash;var c=r.F._putsE,d=0,h=s<<3,p=0,m=i.length;if(a==0){for(;d<m;)c(o,h,d+(A=Math.min(65535,m-d))==m?1:0),h=r.F._copyExact(i,d,A,o,h+8),d+=A;return h>>>3}var y=f.lits,v=f.strt,_=f.prev,b=0,g=0,w=0,k=0,S=0,E=0;for(m>2&&(v[E=r.F._hash(i,0)]=0),d=0;d<m;d++){if(S=E,d+1<m-2){E=r.F._hash(i,d+1);var x=d+1&32767;_[x]=v[E],v[E]=x}if(p<=d){(b>14e3||g>26697)&&m-d>100&&(p<d&&(y[b]=d-p,b+=2,p=d),h=r.F._writeBlock(d==m-1||p==m?1:0,y,b,k,i,w,d-w,o,h),b=g=k=0,w=d);var I=0;d<m-2&&(I=r.F._bestMatch(i,d,_,S,Math.min(l[2],m-d),l[3]));var A=I>>>16,T=65535&I;if(I!=0){T=65535&I;var R=u(A=I>>>16,f.of0);f.lhst[257+R]++;var M=u(T,f.df0);f.dhst[M]++,k+=f.exb[R]+f.dxb[M],y[b]=A<<23|d-p,y[b+1]=T<<16|R<<8|M,b+=2,p=d+A}else f.lhst[i[d]]++;g++}}for(w==d&&i.length!=0||(p<d&&(y[b]=d-p,b+=2,p=d),h=r.F._writeBlock(1,y,b,k,i,w,d-w,o,h),b=0,g=0,b=g=k=0,w=d);7&h;)h++;return h>>>3},r.F._bestMatch=function(i,o,s,a,l,f){var u=32767&o,c=s[u],d=u-c+32768&32767;if(c==u||a!=r.F._hash(i,o-d))return 0;for(var h=0,p=0,m=Math.min(32767,o);d<=m&&--f!=0&&c!=u;){if(h==0||i[o+h]==i[o+h-d]){var y=r.F._howLong(i,o,d);if(y>h){if(p=d,(h=y)>=l)break;d+2<y&&(y=d+2);for(var v=0,_=0;_<y-2;_++){var b=o-d+_+32768&32767,g=b-s[b]+32768&32767;g>v&&(v=g,c=b)}}}d+=(u=c)-(c=s[u])+32768&32767}return h<<16|p},r.F._howLong=function(i,o,s){if(i[o]!=i[o-s]||i[o+1]!=i[o+1-s]||i[o+2]!=i[o+2-s])return 0;var a=o,l=Math.min(i.length,o+258);for(o+=3;o<l&&i[o]==i[o-s];)o++;return o-a},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,s,a,l,f,u,c,d){var h,p,m,y,v,_,b,g,w,k=r.F.U,S=r.F._putsF,E=r.F._putsE;k.lhst[256]++,p=(h=r.F.getTrees())[0],m=h[1],y=h[2],v=h[3],_=h[4],b=h[5],g=h[6],w=h[7];var x=32+(d+3&7?8-(d+3&7):0)+(u<<3),I=a+r.F.contSize(k.fltree,k.lhst)+r.F.contSize(k.fdtree,k.dhst),A=a+r.F.contSize(k.ltree,k.lhst)+r.F.contSize(k.dtree,k.dhst);A+=14+3*b+r.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var T=0;T<286;T++)k.lhst[T]=0;for(T=0;T<30;T++)k.dhst[T]=0;for(T=0;T<19;T++)k.ihst[T]=0;var R=x<I&&x<A?0:I<A?1:2;if(S(c,d,i),S(c,d+1,R),d+=3,R==0){for(;7&d;)d++;d=r.F._copyExact(l,f,u,c,d)}else{var M,C;if(R==1&&(M=k.fltree,C=k.fdtree),R==2){r.F.makeCodes(k.ltree,p),r.F.revCodes(k.ltree,p),r.F.makeCodes(k.dtree,m),r.F.revCodes(k.dtree,m),r.F.makeCodes(k.itree,y),r.F.revCodes(k.itree,y),M=k.ltree,C=k.dtree,E(c,d,v-257),E(c,d+=5,_-1),E(c,d+=5,b-4),d+=4;for(var O=0;O<b;O++)E(c,d+3*O,k.itree[1+(k.ordr[O]<<1)]);d+=3*b,d=r.F._codeTiny(g,k.itree,c,d),d=r.F._codeTiny(w,k.itree,c,d)}for(var P=f,X=0;X<s;X+=2){for(var H=o[X],U=H>>>23,$=P+(8388607&H);P<$;)d=r.F._writeLit(l[P++],M,c,d);if(U!=0){var F=o[X+1],D=F>>16,K=F>>8&255,z=255&F;E(c,d=r.F._writeLit(257+K,M,c,d),U-k.of0[K]),d+=k.exb[K],S(c,d=r.F._writeLit(z,C,c,d),D-k.df0[z]),d+=k.dxb[z],P+=U}}d=r.F._writeLit(256,M,c,d)}return d},r.F._copyExact=function(i,o,s,a,l){var f=l>>>3;return a[f]=s,a[f+1]=s>>>8,a[f+2]=255-a[f],a[f+3]=255-a[f+1],f+=4,a.set(new Uint8Array(i.buffer,o,s),f),l+(s+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),s=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),f=[],u=r.F._lenCodes(i.dtree,f),c=0;c<a.length;c+=2)i.ihst[a[c]]++;for(c=0;c<f.length;c+=2)i.ihst[f[c]]++;for(var d=r.F._hufTree(i.ihst,i.itree,7),h=19;h>4&&i.itree[1+(i.ordr[h-1]<<1)]==0;)h--;return[o,s,d,l,u,h,a,f]},r.F.getSecond=function(i){for(var o=[],s=0;s<i.length;s+=2)o.push(i[s+1]);return o},r.F.nonZero=function(i){for(var o="",s=0;s<i.length;s+=2)i[s+1]!=0&&(o+=(s>>1)+",");return o},r.F.contSize=function(i,o){for(var s=0,a=0;a<o.length;a++)s+=o[a]*i[1+(a<<1)];return s},r.F._codeTiny=function(i,o,s,a){for(var l=0;l<i.length;l+=2){var f=i[l],u=i[l+1];a=r.F._writeLit(f,o,s,a);var c=f==16?2:f==17?3:7;f>15&&(r.F._putsE(s,a,u,c),a+=c)}return a},r.F._lenCodes=function(i,o){for(var s=i.length;s!=2&&i[s-1]==0;)s-=2;for(var a=0;a<s;a+=2){var l=i[a+1],f=a+3<s?i[a+3]:-1,u=a+5<s?i[a+5]:-1,c=a==0?-1:i[a-1];if(l==0&&f==l&&u==l){for(var d=a+5;d+2<s&&i[d+2]==l;)d+=2;(h=Math.min(d+1-a>>>1,138))<11?o.push(17,h-3):o.push(18,h-11),a+=2*h-2}else if(l==c&&f==l&&u==l){for(d=a+5;d+2<s&&i[d+2]==l;)d+=2;var h=Math.min(d+1-a>>>1,6);o.push(16,h-3),a+=2*h-2}else o.push(l,0)}return s>>>1},r.F._hufTree=function(i,o,s){var a=[],l=i.length,f=o.length,u=0;for(u=0;u<f;u+=2)o[u]=0,o[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var c=a.length,d=a.slice(0);if(c==0)return 0;if(c==1){var h=a[0].lit;return d=h==0?1:0,o[1+(h<<1)]=1,o[1+(d<<1)]=1,1}a.sort(function(g,w){return g.f-w.f});var p=a[0],m=a[1],y=0,v=1,_=2;for(a[0]={lit:-1,f:p.f+m.f,l:p,r:m,d:0};v!=c-1;)p=y!=v&&(_==c||a[y].f<a[_].f)?a[y++]:a[_++],m=y!=v&&(_==c||a[y].f<a[_].f)?a[y++]:a[_++],a[v++]={lit:-1,f:p.f+m.f,l:p,r:m};var b=r.F.setDepth(a[v-1],0);for(b>s&&(r.F.restrictDepth(d,s,b),b=s),u=0;u<c;u++)o[1+(d[u].lit<<1)]=d[u].d;return b},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,s){var a=0,l=1<<s-o,f=0;for(i.sort(function(c,d){return d.d==c.d?c.f-d.f:d.d-c.d}),a=0;a<i.length&&i[a].d>o;a++){var u=i[a].d;i[a].d=o,f+=l-(1<<s-u)}for(f>>>=s-o;f>0;)(u=i[a].d)<o?(i[a].d++,f-=1<<o-u-1):a++;for(;a>=0;a--)i[a].d==o&&f<0&&(i[a].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var s=0;return o[16|s]<=i&&(s|=16),o[8|s]<=i&&(s|=8),o[4|s]<=i&&(s|=4),o[2|s]<=i&&(s|=2),o[1|s]<=i&&(s|=1),s},r.F._writeLit=function(i,o,s,a){return r.F._putsF(s,a,o[i<<1]),a+o[1+(i<<1)]},r.F.inflate=function(i,o){var s=Uint8Array;if(i[0]==3&&i[1]==0)return o||new s(0);var a=r.F,l=a._bitsF,f=a._bitsE,u=a._decodeTiny,c=a.makeCodes,d=a.codes2map,h=a._get17,p=a.U,m=o==null;m&&(o=new s(i.length>>>2<<3));for(var y,v,_=0,b=0,g=0,w=0,k=0,S=0,E=0,x=0,I=0;_==0;)if(_=l(i,I,1),b=l(i,I+1,2),I+=3,b!=0){if(m&&(o=r.F._check(o,x+(1<<17))),b==1&&(y=p.flmap,v=p.fdmap,S=511,E=31),b==2){g=f(i,I,5)+257,w=f(i,I+5,5)+1,k=f(i,I+10,4)+4,I+=14;for(var A=0;A<38;A+=2)p.itree[A]=0,p.itree[A+1]=0;var T=1;for(A=0;A<k;A++){var R=f(i,I+3*A,3);p.itree[1+(p.ordr[A]<<1)]=R,R>T&&(T=R)}I+=3*k,c(p.itree,T),d(p.itree,T,p.imap),y=p.lmap,v=p.dmap,I=u(p.imap,(1<<T)-1,g+w,i,I,p.ttree);var M=a._copyOut(p.ttree,0,g,p.ltree);S=(1<<M)-1;var C=a._copyOut(p.ttree,g,w,p.dtree);E=(1<<C)-1,c(p.ltree,M),d(p.ltree,M,y),c(p.dtree,C),d(p.dtree,C,v)}for(;;){var O=y[h(i,I)&S];I+=15&O;var P=O>>>4;if(!(P>>>8))o[x++]=P;else{if(P==256)break;var X=x+P-254;if(P>264){var H=p.ldef[P-257];X=x+(H>>>3)+f(i,I,7&H),I+=7&H}var U=v[h(i,I)&E];I+=15&U;var $=U>>>4,F=p.ddef[$],D=(F>>>4)+l(i,I,15&F);for(I+=15&F,m&&(o=r.F._check(o,x+(1<<17)));x<X;)o[x]=o[x++-D],o[x]=o[x++-D],o[x]=o[x++-D],o[x]=o[x++-D];x=X}}}else{7&I&&(I+=8-(7&I));var K=4+(I>>>3),z=i[K-4]|i[K-3]<<8;m&&(o=r.F._check(o,x+z)),o.set(new s(i.buffer,i.byteOffset+K,z),x),I=K+z<<3,x+=z}return o.length==x?o:o.slice(0,x)},r.F._check=function(i,o){var s=i.length;if(o<=s)return i;var a=new Uint8Array(Math.max(s<<1,o));return a.set(i,0),a},r.F._decodeTiny=function(i,o,s,a,l,f){for(var u=r.F._bitsE,c=r.F._get17,d=0;d<s;){var h=i[c(a,l)&o];l+=15&h;var p=h>>>4;if(p<=15)f[d]=p,d++;else{var m=0,y=0;p==16?(y=3+u(a,l,2),l+=2,m=f[d-1]):p==17?(y=3+u(a,l,3),l+=3):p==18&&(y=11+u(a,l,7),l+=7);for(var v=d+y;d<v;)f[d]=m,d++}}return l},r.F._copyOut=function(i,o,s,a){for(var l=0,f=0,u=a.length>>>1;f<s;){var c=i[f+o];a[f<<1]=0,a[1+(f<<1)]=c,c>l&&(l=c),f++}for(;f<u;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return l},r.F.makeCodes=function(i,o){for(var s,a,l,f,u=r.F.U,c=i.length,d=u.bl_count,h=0;h<=o;h++)d[h]=0;for(h=1;h<c;h+=2)d[i[h]]++;var p=u.next_code;for(s=0,d[0]=0,a=1;a<=o;a++)s=s+d[a-1]<<1,p[a]=s;for(l=0;l<c;l+=2)(f=i[l+1])!=0&&(i[l]=p[f],p[f]++)},r.F.codes2map=function(i,o,s){for(var a=i.length,l=r.F.U.rev15,f=0;f<a;f+=2)if(i[f+1]!=0)for(var u=f>>1,c=i[f+1],d=u<<4|c,h=o-c,p=i[f]<<h,m=p+(1<<h);p!=m;)s[l[p]>>>15-o]=d,p++},r.F.revCodes=function(i,o){for(var s=r.F.U.rev15,a=15-o,l=0;l<i.length;l+=2){var f=i[l]<<o-i[l+1];i[l]=s[f]>>>a}},r.F._putsE=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8},r.F._putsF=function(i,o,s){s<<=7&o;var a=o>>>3;i[a]|=s,i[a+1]|=s>>>8,i[a+2]|=s>>>16},r.F._bitsE=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<s)-1},r.F._bitsF=function(i,o,s){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<s)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var s=o;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,i.rev15[o]=(s>>>16|s<<16)>>>17}function a(l,f,u){for(;f--!=0;)l.push(0,u)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var lW=oW({__proto__:null,default:Vd},[Vd]);const Mr=function(){var t={nextZero(u,c){for(;u[c]!=0;)c++;return c},readUshort:(u,c)=>u[c]<<8|u[c+1],writeUshort(u,c,d){u[c]=d>>8&255,u[c+1]=255&d},readUint:(u,c)=>16777216*u[c]+(u[c+1]<<16|u[c+2]<<8|u[c+3]),writeUint(u,c,d){u[c]=d>>24&255,u[c+1]=d>>16&255,u[c+2]=d>>8&255,u[c+3]=255&d},readASCII(u,c,d){let h="";for(let p=0;p<d;p++)h+=String.fromCharCode(u[c+p]);return h},writeASCII(u,c,d){for(let h=0;h<d.length;h++)u[c+h]=d.charCodeAt(h)},readBytes(u,c,d){const h=[];for(let p=0;p<d;p++)h.push(u[c+p]);return h},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,c,d){let h,p="";for(let m=0;m<d;m++)p+=`%${t.pad(u[c+m].toString(16))}`;try{h=decodeURIComponent(p)}catch{return t.readASCII(u,c,d)}return h}};function e(u,c,d,h){const p=c*d,m=o(h),y=Math.ceil(c*m/8),v=new Uint8Array(4*p),_=new Uint32Array(v.buffer),{ctype:b}=h,{depth:g}=h,w=t.readUshort;if(b==6){const H=p<<2;if(g==8)for(var k=0;k<H;k+=4)v[k]=u[k],v[k+1]=u[k+1],v[k+2]=u[k+2],v[k+3]=u[k+3];if(g==16)for(k=0;k<H;k++)v[k]=u[k<<1]}else if(b==2){const H=h.tabs.tRNS;if(H==null){if(g==8)for(k=0;k<p;k++){var S=3*k;_[k]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S]}if(g==16)for(k=0;k<p;k++)S=6*k,_[k]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S]}else{var E=H[0];const U=H[1],$=H[2];if(g==8)for(k=0;k<p;k++){var x=k<<2;S=3*k,_[k]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S],u[S]==E&&u[S+1]==U&&u[S+2]==$&&(v[x+3]=0)}if(g==16)for(k=0;k<p;k++)x=k<<2,S=6*k,_[k]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S],w(u,S)==E&&w(u,S+2)==U&&w(u,S+4)==$&&(v[x+3]=0)}}else if(b==3){const H=h.tabs.PLTE,U=h.tabs.tRNS,$=U?U.length:0;if(g==1)for(var I=0;I<d;I++){var A=I*y,T=I*c;for(k=0;k<c;k++){x=T+k<<2;var R=3*(M=u[A+(k>>3)]>>7-((7&k)<<0)&1);v[x]=H[R],v[x+1]=H[R+1],v[x+2]=H[R+2],v[x+3]=M<$?U[M]:255}}if(g==2)for(I=0;I<d;I++)for(A=I*y,T=I*c,k=0;k<c;k++)x=T+k<<2,R=3*(M=u[A+(k>>2)]>>6-((3&k)<<1)&3),v[x]=H[R],v[x+1]=H[R+1],v[x+2]=H[R+2],v[x+3]=M<$?U[M]:255;if(g==4)for(I=0;I<d;I++)for(A=I*y,T=I*c,k=0;k<c;k++)x=T+k<<2,R=3*(M=u[A+(k>>1)]>>4-((1&k)<<2)&15),v[x]=H[R],v[x+1]=H[R+1],v[x+2]=H[R+2],v[x+3]=M<$?U[M]:255;if(g==8)for(k=0;k<p;k++){var M;x=k<<2,R=3*(M=u[k]),v[x]=H[R],v[x+1]=H[R+1],v[x+2]=H[R+2],v[x+3]=M<$?U[M]:255}}else if(b==4){if(g==8)for(k=0;k<p;k++){x=k<<2;var C=u[O=k<<1];v[x]=C,v[x+1]=C,v[x+2]=C,v[x+3]=u[O+1]}if(g==16)for(k=0;k<p;k++){var O;x=k<<2,C=u[O=k<<2],v[x]=C,v[x+1]=C,v[x+2]=C,v[x+3]=u[O+2]}}else if(b==0)for(E=h.tabs.tRNS?h.tabs.tRNS:-1,I=0;I<d;I++){const H=I*y,U=I*c;if(g==1)for(var P=0;P<c;P++){var X=(C=255*(u[H+(P>>>3)]>>>7-(7&P)&1))==255*E?0:255;_[U+P]=X<<24|C<<16|C<<8|C}else if(g==2)for(P=0;P<c;P++)X=(C=85*(u[H+(P>>>2)]>>>6-((3&P)<<1)&3))==85*E?0:255,_[U+P]=X<<24|C<<16|C<<8|C;else if(g==4)for(P=0;P<c;P++)X=(C=17*(u[H+(P>>>1)]>>>4-((1&P)<<2)&15))==17*E?0:255,_[U+P]=X<<24|C<<16|C<<8|C;else if(g==8)for(P=0;P<c;P++)X=(C=u[H+P])==E?0:255,_[U+P]=X<<24|C<<16|C<<8|C;else if(g==16)for(P=0;P<c;P++)C=u[H+(P<<1)],X=w(u,H+(P<<1))==E?0:255,_[U+P]=X<<24|C<<16|C<<8|C}return v}function n(u,c,d,h){const p=o(u),m=Math.ceil(d*p/8),y=new Uint8Array((m+1+u.interlace)*h);return c=u.tabs.CgBI?i(c,y):r(c,y),u.interlace==0?c=s(c,u,0,d,h):u.interlace==1&&(c=function(_,b){const g=b.width,w=b.height,k=o(b),S=k>>3,E=Math.ceil(g*k/8),x=new Uint8Array(w*E);let I=0;const A=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],M=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const P=R[C],X=M[C];let H=0,U=0,$=A[C];for(;$<w;)$+=P,U++;let F=T[C];for(;F<g;)F+=X,H++;const D=Math.ceil(H*k/8);s(_,b,I,H,U);let K=0,z=A[C];for(;z<w;){let j=T[C],V=I+K*D<<3;for(;j<g;){var O;if(k==1&&(O=(O=_[V>>3])>>7-(7&V)&1,x[z*E+(j>>3)]|=O<<7-((7&j)<<0)),k==2&&(O=(O=_[V>>3])>>6-(7&V)&3,x[z*E+(j>>2)]|=O<<6-((3&j)<<1)),k==4&&(O=(O=_[V>>3])>>4-(7&V)&15,x[z*E+(j>>1)]|=O<<4-((1&j)<<2)),k>=8){const Z=z*E+j*S;for(let Y=0;Y<S;Y++)x[Z+Y]=_[(V>>3)+Y]}V+=k,j+=X}K++,z+=P}H*U!=0&&(I+=U*(1+D)),C+=1}return x}(c,u)),c}function r(u,c){return i(new Uint8Array(u.buffer,2,u.length-6),c)}var i=function(){const u={H:{}};return u.H.N=function(c,d){const h=Uint8Array;let p,m,y=0,v=0,_=0,b=0,g=0,w=0,k=0,S=0,E=0;if(c[0]==3&&c[1]==0)return d||new h(0);const x=u.H,I=x.b,A=x.e,T=x.R,R=x.n,M=x.A,C=x.Z,O=x.m,P=d==null;for(P&&(d=new h(c.length>>>2<<5));y==0;)if(y=I(c,E,1),v=I(c,E+1,2),E+=3,v!=0){if(P&&(d=u.H.W(d,S+(1<<17))),v==1&&(p=O.J,m=O.h,w=511,k=31),v==2){_=A(c,E,5)+257,b=A(c,E+5,5)+1,g=A(c,E+10,4)+4,E+=14;let H=1;for(var X=0;X<38;X+=2)O.Q[X]=0,O.Q[X+1]=0;for(X=0;X<g;X++){const F=A(c,E+3*X,3);O.Q[1+(O.X[X]<<1)]=F,F>H&&(H=F)}E+=3*g,R(O.Q,H),M(O.Q,H,O.u),p=O.w,m=O.d,E=T(O.u,(1<<H)-1,_+b,c,E,O.v);const U=x.V(O.v,0,_,O.C);w=(1<<U)-1;const $=x.V(O.v,_,b,O.D);k=(1<<$)-1,R(O.C,U),M(O.C,U,p),R(O.D,$),M(O.D,$,m)}for(;;){const H=p[C(c,E)&w];E+=15&H;const U=H>>>4;if(!(U>>>8))d[S++]=U;else{if(U==256)break;{let $=S+U-254;if(U>264){const j=O.q[U-257];$=S+(j>>>3)+A(c,E,7&j),E+=7&j}const F=m[C(c,E)&k];E+=15&F;const D=F>>>4,K=O.c[D],z=(K>>>4)+I(c,E,15&K);for(E+=15&K;S<$;)d[S]=d[S++-z],d[S]=d[S++-z],d[S]=d[S++-z],d[S]=d[S++-z];S=$}}}}else{7&E&&(E+=8-(7&E));const H=4+(E>>>3),U=c[H-4]|c[H-3]<<8;P&&(d=u.H.W(d,S+U)),d.set(new h(c.buffer,c.byteOffset+H,U),S),E=H+U<<3,S+=U}return d.length==S?d:d.slice(0,S)},u.H.W=function(c,d){const h=c.length;if(d<=h)return c;const p=new Uint8Array(h<<1);return p.set(c,0),p},u.H.R=function(c,d,h,p,m,y){const v=u.H.e,_=u.H.Z;let b=0;for(;b<h;){const g=c[_(p,m)&d];m+=15&g;const w=g>>>4;if(w<=15)y[b]=w,b++;else{let k=0,S=0;w==16?(S=3+v(p,m,2),m+=2,k=y[b-1]):w==17?(S=3+v(p,m,3),m+=3):w==18&&(S=11+v(p,m,7),m+=7);const E=b+S;for(;b<E;)y[b]=k,b++}}return m},u.H.V=function(c,d,h,p){let m=0,y=0;const v=p.length>>>1;for(;y<h;){const _=c[y+d];p[y<<1]=0,p[1+(y<<1)]=_,_>m&&(m=_),y++}for(;y<v;)p[y<<1]=0,p[1+(y<<1)]=0,y++;return m},u.H.n=function(c,d){const h=u.H.m,p=c.length;let m,y,v,_;const b=h.j;for(var g=0;g<=d;g++)b[g]=0;for(g=1;g<p;g+=2)b[c[g]]++;const w=h.K;for(m=0,b[0]=0,y=1;y<=d;y++)m=m+b[y-1]<<1,w[y]=m;for(v=0;v<p;v+=2)_=c[v+1],_!=0&&(c[v]=w[_],w[_]++)},u.H.A=function(c,d,h){const p=c.length,m=u.H.m.r;for(let y=0;y<p;y+=2)if(c[y+1]!=0){const v=y>>1,_=c[y+1],b=v<<4|_,g=d-_;let w=c[y]<<g;const k=w+(1<<g);for(;w!=k;)h[m[w]>>>15-d]=b,w++}},u.H.l=function(c,d){const h=u.H.m.r,p=15-d;for(let m=0;m<c.length;m+=2){const y=c[m]<<d-c[m+1];c[m]=h[y]>>>p}},u.H.M=function(c,d,h){h<<=7&d;const p=d>>>3;c[p]|=h,c[p+1]|=h>>>8},u.H.I=function(c,d,h){h<<=7&d;const p=d>>>3;c[p]|=h,c[p+1]|=h>>>8,c[p+2]|=h>>>16},u.H.e=function(c,d,h){return(c[d>>>3]|c[1+(d>>>3)]<<8)>>>(7&d)&(1<<h)-1},u.H.b=function(c,d,h){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16)>>>(7&d)&(1<<h)-1},u.H.Z=function(c,d){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16)>>>(7&d)},u.H.i=function(c,d){return(c[d>>>3]|c[1+(d>>>3)]<<8|c[2+(d>>>3)]<<16|c[3+(d>>>3)]<<24)>>>(7&d)},u.H.m=function(){const c=Uint16Array,d=Uint32Array;return{K:new c(16),j:new c(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new c(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new c(512),_:[],h:new c(32),$:[],w:new c(32768),C:[],v:[],d:new c(32768),D:[],u:new c(512),Q:[],r:new c(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new c(65536),g:new c(32768)}}(),function(){const c=u.H.m;for(var d=0;d<32768;d++){let p=d;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,c.r[d]=(p>>>16|p<<16)>>>17}function h(p,m,y){for(;m--!=0;)p.push(0,y)}for(d=0;d<32;d++)c.q[d]=c.S[d]<<3|c.T[d],c.c[d]=c.p[d]<<4|c.z[d];h(c._,144,8),h(c._,112,9),h(c._,24,7),h(c._,8,8),u.H.n(c._,9),u.H.A(c._,9,c.J),u.H.l(c._,9),h(c.$,32,5),u.H.n(c.$,5),u.H.A(c.$,5,c.h),u.H.l(c.$,5),h(c.Q,19,0),h(c.C,286,0),h(c.D,30,0),h(c.v,320,0)}(),u.H.N}();function o(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function s(u,c,d,h,p){let m=o(c);const y=Math.ceil(h*m/8);let v,_;m=Math.ceil(m/8);let b=u[d],g=0;if(b>1&&(u[d]=[0,0,1][b-2]),b==3)for(g=m;g<y;g++)u[g+1]=u[g+1]+(u[g+1-m]>>>1)&255;for(let w=0;w<p;w++)if(v=d+w*y,_=v+w+1,b=u[_-1],g=0,b==0)for(;g<y;g++)u[v+g]=u[_+g];else if(b==1){for(;g<m;g++)u[v+g]=u[_+g];for(;g<y;g++)u[v+g]=u[_+g]+u[v+g-m]}else if(b==2)for(;g<y;g++)u[v+g]=u[_+g]+u[v+g-y];else if(b==3){for(;g<m;g++)u[v+g]=u[_+g]+(u[v+g-y]>>>1);for(;g<y;g++)u[v+g]=u[_+g]+(u[v+g-y]+u[v+g-m]>>>1)}else{for(;g<m;g++)u[v+g]=u[_+g]+a(0,u[v+g-y],0);for(;g<y;g++)u[v+g]=u[_+g]+a(u[v+g-m],u[v+g-y],u[v+g-m-y])}return u}function a(u,c,d){const h=u+c-d,p=h-u,m=h-c,y=h-d;return p*p<=m*m&&p*p<=y*y?u:m*m<=y*y?c:d}function l(u,c,d){d.width=t.readUint(u,c),c+=4,d.height=t.readUint(u,c),c+=4,d.depth=u[c],c++,d.ctype=u[c],c++,d.compress=u[c],c++,d.filter=u[c],c++,d.interlace=u[c],c++}function f(u,c,d,h,p,m,y,v,_){const b=Math.min(c,p),g=Math.min(d,m);let w=0,k=0;for(let C=0;C<g;C++)for(let O=0;O<b;O++)if(y>=0&&v>=0?(w=C*c+O<<2,k=(v+C)*p+y+O<<2):(w=(-v+C)*c-y+O<<2,k=C*p+O<<2),_==0)h[k]=u[w],h[k+1]=u[w+1],h[k+2]=u[w+2],h[k+3]=u[w+3];else if(_==1){var S=u[w+3]*.00392156862745098,E=u[w]*S,x=u[w+1]*S,I=u[w+2]*S,A=h[k+3]*(1/255),T=h[k]*A,R=h[k+1]*A,M=h[k+2]*A;const P=1-S,X=S+A*P,H=X==0?0:1/X;h[k+3]=255*X,h[k+0]=(E+T*P)*H,h[k+1]=(x+R*P)*H,h[k+2]=(I+M*P)*H}else if(_==2)S=u[w+3],E=u[w],x=u[w+1],I=u[w+2],A=h[k+3],T=h[k],R=h[k+1],M=h[k+2],S==A&&E==T&&x==R&&I==M?(h[k]=0,h[k+1]=0,h[k+2]=0,h[k+3]=0):(h[k]=E,h[k+1]=x,h[k+2]=I,h[k+3]=S);else if(_==3){if(S=u[w+3],E=u[w],x=u[w+1],I=u[w+2],A=h[k+3],T=h[k],R=h[k+1],M=h[k+2],S==A&&E==T&&x==R&&I==M)continue;if(S<220&&A>20)return!1}return!0}return{decode:function(c){const d=new Uint8Array(c);let h=8;const p=t,m=p.readUshort,y=p.readUint,v={tabs:{},frames:[]},_=new Uint8Array(d.length);let b,g=0,w=0;const k=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(d[S]!=k[S])throw"The input is not a PNG file!";for(;h<d.length;){const C=p.readUint(d,h);h+=4;const O=p.readASCII(d,h,4);if(h+=4,O=="IHDR")l(d,h,v);else if(O=="iCCP"){for(var E=h;d[E]!=0;)E++;p.readASCII(d,h,E-h),d[E+1];const P=d.slice(E+2,h+C);let X=null;try{X=r(P)}catch{X=i(P)}v.tabs[O]=X}else if(O=="CgBI")v.tabs[O]=d.slice(h,h+4);else if(O=="IDAT"){for(S=0;S<C;S++)_[g+S]=d[h+S];g+=C}else if(O=="acTL")v.tabs[O]={num_frames:y(d,h),num_plays:y(d,h+4)},b=new Uint8Array(d.length);else if(O=="fcTL"){w!=0&&((M=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),M.rect.width,M.rect.height),w=0);const P={x:y(d,h+12),y:y(d,h+16),width:y(d,h+4),height:y(d,h+8)};let X=m(d,h+22);X=m(d,h+20)/(X==0?100:X);const H={rect:P,delay:Math.round(1e3*X),dispose:d[h+24],blend:d[h+25]};v.frames.push(H)}else if(O=="fdAT"){for(S=0;S<C-4;S++)b[w+S]=d[h+S+4];w+=C-4}else if(O=="pHYs")v.tabs[O]=[p.readUint(d,h),p.readUint(d,h+4),d[h+8]];else if(O=="cHRM")for(v.tabs[O]=[],S=0;S<8;S++)v.tabs[O].push(p.readUint(d,h+4*S));else if(O=="tEXt"||O=="zTXt"){v.tabs[O]==null&&(v.tabs[O]={});var x=p.nextZero(d,h),I=p.readASCII(d,h,x-h),A=h+C-x-1;if(O=="tEXt")R=p.readASCII(d,x+1,A);else{var T=r(d.slice(x+2,x+2+A));R=p.readUTF8(T,0,T.length)}v.tabs[O][I]=R}else if(O=="iTXt"){v.tabs[O]==null&&(v.tabs[O]={}),x=0,E=h,x=p.nextZero(d,E),I=p.readASCII(d,E,x-E);const P=d[E=x+1];var R;d[E+1],E+=2,x=p.nextZero(d,E),p.readASCII(d,E,x-E),E=x+1,x=p.nextZero(d,E),p.readUTF8(d,E,x-E),A=C-((E=x+1)-h),P==0?R=p.readUTF8(d,E,A):(T=r(d.slice(E,E+A)),R=p.readUTF8(T,0,T.length)),v.tabs[O][I]=R}else if(O=="PLTE")v.tabs[O]=p.readBytes(d,h,C);else if(O=="hIST"){const P=v.tabs.PLTE.length/3;for(v.tabs[O]=[],S=0;S<P;S++)v.tabs[O].push(m(d,h+2*S))}else if(O=="tRNS")v.ctype==3?v.tabs[O]=p.readBytes(d,h,C):v.ctype==0?v.tabs[O]=m(d,h):v.ctype==2&&(v.tabs[O]=[m(d,h),m(d,h+2),m(d,h+4)]);else if(O=="gAMA")v.tabs[O]=p.readUint(d,h)/1e5;else if(O=="sRGB")v.tabs[O]=d[h];else if(O=="bKGD")v.ctype==0||v.ctype==4?v.tabs[O]=[m(d,h)]:v.ctype==2||v.ctype==6?v.tabs[O]=[m(d,h),m(d,h+2),m(d,h+4)]:v.ctype==3&&(v.tabs[O]=d[h]);else if(O=="IEND")break;h+=C,p.readUint(d,h),h+=4}var M;return w!=0&&((M=v.frames[v.frames.length-1]).data=n(v,b.slice(0,w),M.rect.width,M.rect.height)),v.data=n(v,_,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(c){const d=c.width,h=c.height;if(c.tabs.acTL==null)return[e(c.data,d,h,c).buffer];const p=[];c.frames[0].data==null&&(c.frames[0].data=c.data);const m=d*h*4,y=new Uint8Array(m),v=new Uint8Array(m),_=new Uint8Array(m);for(let g=0;g<c.frames.length;g++){const w=c.frames[g],k=w.rect.x,S=w.rect.y,E=w.rect.width,x=w.rect.height,I=e(w.data,E,x,c);if(g!=0)for(var b=0;b<m;b++)_[b]=y[b];if(w.blend==0?f(I,E,x,y,d,h,k,S,0):w.blend==1&&f(I,E,x,y,d,h,k,S,1),p.push(y.buffer.slice(0)),w.dispose!=0){if(w.dispose==1)f(v,E,x,y,d,h,k,S,0);else if(w.dispose==2)for(b=0;b<m;b++)y[b]=_[b]}}return p},_paeth:a,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Mr,{_bin:e}=Mr,n=Mr._paeth;var r={table:function(){const E=new Uint32Array(256);for(let x=0;x<256;x++){let I=x;for(let A=0;A<8;A++)1&I?I=3988292384^I>>>1:I>>>=1;E[x]=I}return E}(),update(E,x,I,A){for(let T=0;T<A;T++)E=r.table[255&(E^x[I+T])]^E>>>8;return E},crc:(E,x,I)=>4294967295^r.update(4294967295,E,x,I)};function i(E,x,I,A){x[I]+=E[0]*A>>4,x[I+1]+=E[1]*A>>4,x[I+2]+=E[2]*A>>4,x[I+3]+=E[3]*A>>4}function o(E){return Math.max(0,Math.min(255,E))}function s(E,x){const I=E[0]-x[0],A=E[1]-x[1],T=E[2]-x[2],R=E[3]-x[3];return I*I+A*A+T*T+R*R}function a(E,x,I,A,T,R,M){M==null&&(M=1);const C=A.length,O=[];for(var P=0;P<C;P++){const z=A[P];O.push([z>>>0&255,z>>>8&255,z>>>16&255,z>>>24&255])}for(P=0;P<C;P++){let z=4294967295;for(var X=0,H=0;H<C;H++){var U=s(O[P],O[H]);H!=P&&U<z&&(z=U,X=H)}}const $=new Uint32Array(T.buffer),F=new Int16Array(x*I*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<D.length;P++)D[P]=255*((D[P]+.5)/16-.5);for(let z=0;z<I;z++)for(let j=0;j<x;j++){var K;P=4*(z*x+j),M!=2?K=[o(E[P]+F[P]),o(E[P+1]+F[P+1]),o(E[P+2]+F[P+2]),o(E[P+3]+F[P+3])]:(U=D[4*(3&z)+(3&j)],K=[o(E[P]+U),o(E[P+1]+U),o(E[P+2]+U),o(E[P+3]+U)]),X=0;let V=16777215;for(H=0;H<C;H++){const ie=s(K,O[H]);ie<V&&(V=ie,X=H)}const Z=O[X],Y=[K[0]-Z[0],K[1]-Z[1],K[2]-Z[2],K[3]-Z[3]];M==1&&(j!=x-1&&i(Y,F,P+4,7),z!=I-1&&(j!=0&&i(Y,F,P+4*x-4,3),i(Y,F,P+4*x,5),j!=x-1&&i(Y,F,P+4*x+4,1))),R[P>>2]=X,$[P>>2]=A[X]}}function l(E,x,I,A,T){T==null&&(T={});const{crc:R}=r,M=e.writeUint,C=e.writeUshort,O=e.writeASCII;let P=8;const X=E.frames.length>1;let H,U=!1,$=33+(X?20:0);if(T.sRGB!=null&&($+=13),T.pHYs!=null&&($+=21),T.iCCP!=null&&(H=pako.deflate(T.iCCP),$+=21+H.length+4),E.ctype==3){for(var F=E.plte.length,D=0;D<F;D++)E.plte[D]>>>24!=255&&(U=!0);$+=8+3*F+4+(U?8+1*F+4:0)}for(var K=0;K<E.frames.length;K++)X&&($+=38),$+=(Z=E.frames[K]).cimg.length+12,K!=0&&($+=4);$+=12;const z=new Uint8Array($),j=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)z[D]=j[D];if(M(z,P,13),P+=4,O(z,P,"IHDR"),P+=4,M(z,P,x),P+=4,M(z,P,I),P+=4,z[P]=E.depth,P++,z[P]=E.ctype,P++,z[P]=0,P++,z[P]=0,P++,z[P]=0,P++,M(z,P,R(z,P-17,17)),P+=4,T.sRGB!=null&&(M(z,P,1),P+=4,O(z,P,"sRGB"),P+=4,z[P]=T.sRGB,P++,M(z,P,R(z,P-5,5)),P+=4),T.iCCP!=null){const Y=13+H.length;M(z,P,Y),P+=4,O(z,P,"iCCP"),P+=4,O(z,P,"ICC profile"),P+=11,P+=2,z.set(H,P),P+=H.length,M(z,P,R(z,P-(Y+4),Y+4)),P+=4}if(T.pHYs!=null&&(M(z,P,9),P+=4,O(z,P,"pHYs"),P+=4,M(z,P,T.pHYs[0]),P+=4,M(z,P,T.pHYs[1]),P+=4,z[P]=T.pHYs[2],P++,M(z,P,R(z,P-13,13)),P+=4),X&&(M(z,P,8),P+=4,O(z,P,"acTL"),P+=4,M(z,P,E.frames.length),P+=4,M(z,P,T.loop!=null?T.loop:0),P+=4,M(z,P,R(z,P-12,12)),P+=4),E.ctype==3){for(M(z,P,3*(F=E.plte.length)),P+=4,O(z,P,"PLTE"),P+=4,D=0;D<F;D++){const Y=3*D,ie=E.plte[D],ue=255&ie,ee=ie>>>8&255,q=ie>>>16&255;z[P+Y+0]=ue,z[P+Y+1]=ee,z[P+Y+2]=q}if(P+=3*F,M(z,P,R(z,P-3*F-4,3*F+4)),P+=4,U){for(M(z,P,F),P+=4,O(z,P,"tRNS"),P+=4,D=0;D<F;D++)z[P+D]=E.plte[D]>>>24&255;P+=F,M(z,P,R(z,P-F-4,F+4)),P+=4}}let V=0;for(K=0;K<E.frames.length;K++){var Z=E.frames[K];X&&(M(z,P,26),P+=4,O(z,P,"fcTL"),P+=4,M(z,P,V++),P+=4,M(z,P,Z.rect.width),P+=4,M(z,P,Z.rect.height),P+=4,M(z,P,Z.rect.x),P+=4,M(z,P,Z.rect.y),P+=4,C(z,P,A[K]),P+=2,C(z,P,1e3),P+=2,z[P]=Z.dispose,P++,z[P]=Z.blend,P++,M(z,P,R(z,P-30,30)),P+=4);const Y=Z.cimg;M(z,P,(F=Y.length)+(K==0?0:4)),P+=4;const ie=P;O(z,P,K==0?"IDAT":"fdAT"),P+=4,K!=0&&(M(z,P,V++),P+=4),z.set(Y,P),P+=F,M(z,P,R(z,ie,P-ie)),P+=4}return M(z,P,0),P+=4,O(z,P,"IEND"),P+=4,M(z,P,R(z,P-4,4)),P+=4,z.buffer}function f(E,x,I){for(let A=0;A<E.frames.length;A++){const T=E.frames[A];T.rect.width;const R=T.rect.height,M=new Uint8Array(R*T.bpl+R);T.cimg=h(T.img,R,T.bpp,T.bpl,M,x,I)}}function u(E,x,I,A,T){const R=T[0],M=T[1],C=T[2],O=T[3],P=T[4],X=T[5];let H=6,U=8,$=255;for(var F=0;F<E.length;F++){const se=new Uint8Array(E[F]);for(var D=se.length,K=0;K<D;K+=4)$&=se[K+3]}const z=$!=255,j=function(G,W,ne,oe,de,te){const ge=[];for(var ve=0;ve<G.length;ve++){const De=new Uint8Array(G[ve]),rt=new Uint32Array(De.buffer);var we;let At=0,Zt=0,It=W,Kt=ne,fe=oe?1:0;if(ve!=0){const Ee=te||oe||ve==1||ge[ve-2].dispose!=0?1:2;let pe=0,Te=1e9;for(let Re=0;Re<Ee;Re++){var Se=new Uint8Array(G[ve-1-Re]);const Nt=new Uint32Array(G[ve-1-Re]);let yt=W,Ut=ne,sn=-1,En=-1;for(let An=0;An<ne;An++)for(let pn=0;pn<W;pn++)rt[Oe=An*W+pn]!=Nt[Oe]&&(pn<yt&&(yt=pn),pn>sn&&(sn=pn),An<Ut&&(Ut=An),An>En&&(En=An));sn==-1&&(yt=Ut=sn=En=0),de&&((1&yt)==1&&yt--,(1&Ut)==1&&Ut--);const Tn=(sn-yt+1)*(En-Ut+1);Tn<Te&&(Te=Tn,pe=Re,At=yt,Zt=Ut,It=sn-yt+1,Kt=En-Ut+1)}Se=new Uint8Array(G[ve-1-pe]),pe==1&&(ge[ve-1].dispose=2),we=new Uint8Array(It*Kt*4),t(Se,W,ne,we,It,Kt,-At,-Zt,0),fe=t(De,W,ne,we,It,Kt,-At,-Zt,3)?1:0,fe==1?d(De,W,ne,we,{x:At,y:Zt,width:It,height:Kt}):t(De,W,ne,we,It,Kt,-At,-Zt,0)}else we=De.slice(0);ge.push({rect:{x:At,y:Zt,width:It,height:Kt},img:we,blend:fe,dispose:0})}if(oe)for(ve=0;ve<ge.length;ve++){if((Ge=ge[ve]).blend==1)continue;const De=Ge.rect,rt=ge[ve-1].rect,At=Math.min(De.x,rt.x),Zt=Math.min(De.y,rt.y),It={x:At,y:Zt,width:Math.max(De.x+De.width,rt.x+rt.width)-At,height:Math.max(De.y+De.height,rt.y+rt.height)-Zt};ge[ve-1].dispose=1,ve-1!=0&&c(G,W,ne,ge,ve-1,It,de),c(G,W,ne,ge,ve,It,de)}let Le=0;if(G.length!=1)for(var Oe=0;Oe<ge.length;Oe++){var Ge;Le+=(Ge=ge[Oe]).rect.width*Ge.rect.height}return ge}(E,x,I,R,M,C),V={},Z=[],Y=[];if(A!=0){const se=[];for(K=0;K<j.length;K++)se.push(j[K].img.buffer);const G=function(de){let te=0;for(var ge=0;ge<de.length;ge++)te+=de[ge].byteLength;const ve=new Uint8Array(te);let we=0;for(ge=0;ge<de.length;ge++){const Se=new Uint8Array(de[ge]),Le=Se.length;for(let Oe=0;Oe<Le;Oe+=4){let Ge=Se[Oe],De=Se[Oe+1],rt=Se[Oe+2];const At=Se[Oe+3];At==0&&(Ge=De=rt=0),ve[we+Oe]=Ge,ve[we+Oe+1]=De,ve[we+Oe+2]=rt,ve[we+Oe+3]=At}we+=Le}return ve.buffer}(se),W=m(G,A);for(K=0;K<W.plte.length;K++)Z.push(W.plte[K].est.rgba);let ne=0;for(K=0;K<j.length;K++){const oe=(ue=j[K]).img.length;var ie=new Uint8Array(W.inds.buffer,ne>>2,oe>>2);Y.push(ie);const de=new Uint8Array(W.abuf,ne,oe);X&&a(ue.img,ue.rect.width,ue.rect.height,Z,de,ie),ue.img.set(de),ne+=oe}}else for(F=0;F<j.length;F++){var ue=j[F];const se=new Uint32Array(ue.img.buffer);var ee=ue.rect.width;for(D=se.length,ie=new Uint8Array(D),Y.push(ie),K=0;K<D;K++){const G=se[K];if(K!=0&&G==se[K-1])ie[K]=ie[K-1];else if(K>ee&&G==se[K-ee])ie[K]=ie[K-ee];else{let W=V[G];if(W==null&&(V[G]=W=Z.length,Z.push(G),Z.length>=300))break;ie[K]=W}}}const q=Z.length;for(q<=256&&P==0&&(U=q<=2?1:q<=4?2:q<=16?4:8,U=Math.max(U,O)),F=0;F<j.length;F++){(ue=j[F]).rect.x,ue.rect.y,ee=ue.rect.width;const se=ue.rect.height;let G=ue.img;new Uint32Array(G.buffer);let W=4*ee,ne=4;if(q<=256&&P==0){W=Math.ceil(U*ee/8);var Q=new Uint8Array(W*se);const oe=Y[F];for(let de=0;de<se;de++){K=de*W;const te=de*ee;if(U==8)for(var B=0;B<ee;B++)Q[K+B]=oe[te+B];else if(U==4)for(B=0;B<ee;B++)Q[K+(B>>1)]|=oe[te+B]<<4-4*(1&B);else if(U==2)for(B=0;B<ee;B++)Q[K+(B>>2)]|=oe[te+B]<<6-2*(3&B);else if(U==1)for(B=0;B<ee;B++)Q[K+(B>>3)]|=oe[te+B]<<7-1*(7&B)}G=Q,H=3,ne=1}else if(z==0&&j.length==1){Q=new Uint8Array(ee*se*3);const oe=ee*se;for(K=0;K<oe;K++){const de=3*K,te=4*K;Q[de]=G[te],Q[de+1]=G[te+1],Q[de+2]=G[te+2]}G=Q,H=2,ne=3,W=3*ee}ue.img=G,ue.bpl=W,ue.bpp=ne}return{ctype:H,depth:U,plte:Z,frames:j}}function c(E,x,I,A,T,R,M){const C=Uint8Array,O=Uint32Array,P=new C(E[T-1]),X=new O(E[T-1]),H=T+1<E.length?new C(E[T+1]):null,U=new C(E[T]),$=new O(U.buffer);let F=x,D=I,K=-1,z=-1;for(let V=0;V<R.height;V++)for(let Z=0;Z<R.width;Z++){const Y=R.x+Z,ie=R.y+V,ue=ie*x+Y,ee=$[ue];ee==0||A[T-1].dispose==0&&X[ue]==ee&&(H==null||H[4*ue+3]!=0)||(Y<F&&(F=Y),Y>K&&(K=Y),ie<D&&(D=ie),ie>z&&(z=ie))}K==-1&&(F=D=K=z=0),M&&((1&F)==1&&F--,(1&D)==1&&D--),R={x:F,y:D,width:K-F+1,height:z-D+1};const j=A[T];j.rect=R,j.blend=1,j.img=new Uint8Array(R.width*R.height*4),A[T-1].dispose==0?(t(P,x,I,j.img,R.width,R.height,-R.x,-R.y,0),d(U,x,I,j.img,R)):t(U,x,I,j.img,R.width,R.height,-R.x,-R.y,0)}function d(E,x,I,A,T){t(E,x,I,A,T.width,T.height,-T.x,-T.y,2)}function h(E,x,I,A,T,R,M){const C=[];let O,P=[0,1,2,3,4];R!=-1?P=[R]:(x*A>5e5||I==1)&&(P=[0]),M&&(O={level:0});const X=lW;for(var H=0;H<P.length;H++){for(let F=0;F<x;F++)p(T,E,F,A,I,P[H]);C.push(X.deflate(T,O))}let U,$=1e9;for(H=0;H<C.length;H++)C[H].length<$&&(U=H,$=C[H].length);return C[U]}function p(E,x,I,A,T,R){const M=I*A;let C=M+I;if(E[C]=R,C++,R==0)if(A<500)for(var O=0;O<A;O++)E[C+O]=x[M+O];else E.set(new Uint8Array(x.buffer,M,A),C);else if(R==1){for(O=0;O<T;O++)E[C+O]=x[M+O];for(O=T;O<A;O++)E[C+O]=x[M+O]-x[M+O-T]+256&255}else if(I==0){for(O=0;O<T;O++)E[C+O]=x[M+O];if(R==2)for(O=T;O<A;O++)E[C+O]=x[M+O];if(R==3)for(O=T;O<A;O++)E[C+O]=x[M+O]-(x[M+O-T]>>1)+256&255;if(R==4)for(O=T;O<A;O++)E[C+O]=x[M+O]-n(x[M+O-T],0,0)+256&255}else{if(R==2)for(O=0;O<A;O++)E[C+O]=x[M+O]+256-x[M+O-A]&255;if(R==3){for(O=0;O<T;O++)E[C+O]=x[M+O]+256-(x[M+O-A]>>1)&255;for(O=T;O<A;O++)E[C+O]=x[M+O]+256-(x[M+O-A]+x[M+O-T]>>1)&255}if(R==4){for(O=0;O<T;O++)E[C+O]=x[M+O]+256-n(0,x[M+O-A],0)&255;for(O=T;O<A;O++)E[C+O]=x[M+O]+256-n(x[M+O-T],x[M+O-A],x[M+O-T-A])&255}}}function m(E,x){const I=new Uint8Array(E),A=I.slice(0),T=new Uint32Array(A.buffer),R=y(A,x),M=R[0],C=R[1],O=I.length,P=new Uint8Array(O>>2);let X;if(I.length<2e7)for(var H=0;H<O;H+=4)X=v(M,U=I[H]*(1/255),$=I[H+1]*(1/255),F=I[H+2]*(1/255),D=I[H+3]*(1/255)),P[H>>2]=X.ind,T[H>>2]=X.est.rgba;else for(H=0;H<O;H+=4){var U=I[H]*.00392156862745098,$=I[H+1]*(1/255),F=I[H+2]*(1/255),D=I[H+3]*(1/255);for(X=M;X.left;)X=_(X.est,U,$,F,D)<=0?X.left:X.right;P[H>>2]=X.ind,T[H>>2]=X.est.rgba}return{abuf:A.buffer,inds:P,plte:C}}function y(E,x,I){I==null&&(I=1e-4);const A=new Uint32Array(E.buffer),T={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=w(E,T.i0,T.i1),T.est=k(T.bst);const R=[T];for(;R.length<x;){let C=0,O=0;for(var M=0;M<R.length;M++)R[M].est.L>C&&(C=R[M].est.L,O=M);if(C<I)break;const P=R[O],X=b(E,A,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=X||P.i1<=X){P.est.L=0;continue}const H={i0:P.i0,i1:X,bst:null,est:null,tdst:0,left:null,right:null};H.bst=w(E,H.i0,H.i1),H.est=k(H.bst);const U={i0:X,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(U.bst={R:[],m:[],N:P.bst.N-H.bst.N},M=0;M<16;M++)U.bst.R[M]=P.bst.R[M]-H.bst.R[M];for(M=0;M<4;M++)U.bst.m[M]=P.bst.m[M]-H.bst.m[M];U.est=k(U.bst),P.left=H,P.right=U,R[O]=H,R.push(U)}for(R.sort((C,O)=>O.bst.N-C.bst.N),M=0;M<R.length;M++)R[M].ind=M;return[T,R]}function v(E,x,I,A,T){if(E.left==null)return E.tdst=function(H,U,$,F,D){const K=U-H[0],z=$-H[1],j=F-H[2],V=D-H[3];return K*K+z*z+j*j+V*V}(E.est.q,x,I,A,T),E;const R=_(E.est,x,I,A,T);let M=E.left,C=E.right;R>0&&(M=E.right,C=E.left);const O=v(M,x,I,A,T);if(O.tdst<=R*R)return O;const P=v(C,x,I,A,T);return P.tdst<O.tdst?P:O}function _(E,x,I,A,T){const{e:R}=E;return R[0]*x+R[1]*I+R[2]*A+R[3]*T-E.eMq}function b(E,x,I,A,T,R){for(A-=4;I<A;){for(;g(E,I,T)<=R;)I+=4;for(;g(E,A,T)>R;)A-=4;if(I>=A)break;const M=x[I>>2];x[I>>2]=x[A>>2],x[A>>2]=M,I+=4,A-=4}for(;g(E,I,T)>R;)I-=4;return I+4}function g(E,x,I){return E[x]*I[0]+E[x+1]*I[1]+E[x+2]*I[2]+E[x+3]*I[3]}function w(E,x,I){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],R=I-x>>2;for(let M=x;M<I;M+=4){const C=E[M]*.00392156862745098,O=E[M+1]*(1/255),P=E[M+2]*(1/255),X=E[M+3]*(1/255);T[0]+=C,T[1]+=O,T[2]+=P,T[3]+=X,A[0]+=C*C,A[1]+=C*O,A[2]+=C*P,A[3]+=C*X,A[5]+=O*O,A[6]+=O*P,A[7]+=O*X,A[10]+=P*P,A[11]+=P*X,A[15]+=X*X}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:T,N:R}}function k(E){const{R:x}=E,{m:I}=E,{N:A}=E,T=I[0],R=I[1],M=I[2],C=I[3],O=A==0?0:1/A,P=[x[0]-T*T*O,x[1]-T*R*O,x[2]-T*M*O,x[3]-T*C*O,x[4]-R*T*O,x[5]-R*R*O,x[6]-R*M*O,x[7]-R*C*O,x[8]-M*T*O,x[9]-M*R*O,x[10]-M*M*O,x[11]-M*C*O,x[12]-C*T*O,x[13]-C*R*O,x[14]-C*M*O,x[15]-C*C*O],X=P,H=S;let U=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,F=0;if(A!=0)for(let K=0;K<16&&(U=H.multVec(X,U),F=Math.sqrt(H.dot(U,U)),U=H.sml(1/F,U),!(K!=0&&Math.abs(F-$)<1e-9));K++)$=F;const D=[T*O,R*O,M*O,C*O];return{Cov:P,q:D,e:U,L:$,eMq255:H.dot(H.sml(255,D),U),eMq:H.dot(U,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var S={multVec:(E,x)=>[E[0]*x[0]+E[1]*x[1]+E[2]*x[2]+E[3]*x[3],E[4]*x[0]+E[5]*x[1]+E[6]*x[2]+E[7]*x[3],E[8]*x[0]+E[9]*x[1]+E[10]*x[2]+E[11]*x[3],E[12]*x[0]+E[13]*x[1]+E[14]*x[2]+E[15]*x[3]],dot:(E,x)=>E[0]*x[0]+E[1]*x[1]+E[2]*x[2]+E[3]*x[3],sml:(E,x)=>[E*x[0],E*x[1],E*x[2],E*x[3]]};Mr.encode=function(x,I,A,T,R,M,C){T==null&&(T=0),C==null&&(C=!1);const O=u(x,I,A,T,[!1,!1,!1,0,C,!1]);return f(O,-1),l(O,I,A,R,M)},Mr.encodeLL=function(x,I,A,T,R,M,C,O){const P={ctype:0+(T==1?0:2)+(R==0?0:4),depth:M,frames:[]},X=(T+R)*M,H=X*I;for(let U=0;U<x.length;U++)P.frames.push({rect:{x:0,y:0,width:I,height:A},img:new Uint8Array(x[U]),blend:0,dispose:1,bpp:Math.ceil(X/8),bpl:Math.ceil(H/8)});return f(P,0,!0),l(P,I,A,C,O)},Mr.encode.compress=u,Mr.encode.dither=a,Mr.quantize=m,Mr.quantize.getKDtree=y,Mr.quantize.getNearest=v})();const _x={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,o=t.getContext("2d").getImageData(0,0,n,r),s=new Uint32Array(o.data.buffer),a=(32*n+31)/32<<2,l=a*r,f=122+l,u=new ArrayBuffer(f),c=new DataView(u),d=1<<20;let h,p,m,y,v=d,_=0,b=0,g=0;function w(E){c.setUint16(b,E,!0),b+=2}function k(E){c.setUint32(b,E,!0),b+=4}function S(E){b+=E}w(19778),k(f),S(4),k(122),k(108),k(n),k(-r>>>0),w(1),w(32),k(3),k(l),k(2835),k(2835),S(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function E(){for(;_<r&&v>0;){for(y=122+_*a,h=0;h<i;)v--,p=s[g++],m=p>>>24,c.setUint32(y+h,p<<8|m),h+=4;_++}g<s.length?(v=d,setTimeout(E,_x._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var lr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},uW={[lr.CHROME]:16384,[lr.FIREFOX]:11180,[lr.DESKTOP_SAFARI]:16384,[lr.IE]:8192,[lr.IOS]:4096,[lr.ETC]:8192};const Ay=typeof window<"u",bx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Fd=Ay&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),cW=(Ay||bx)&&(Fd&&Fd.getOriginalSymbol(window,"File")||typeof File<"u"&&File),wx=(Ay||bx)&&(Fd&&Fd.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ky(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),o=i[0].match(/:(.*?);/)[1],s=globalThis.atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);const f=new Blob([l],{type:o});f.name=e,f.lastModified=n,r(f)})}function Ex(t){return new Promise((e,n)=>{const r=new wx;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function Tx(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function us(){if(us.cachedResult!==void 0)return us.cachedResult;let t=lr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=lr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=lr.IOS:/Safari/i.test(e)?t=lr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=lr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=lr.IE),us.cachedResult=t,us.cachedResult}function Ax(t,e){const n=us(),r=uW[n];let i=t,o=e,s=i*o;const a=i>o?o/i:i/o;for(;s>r*r;){const l=(r+i)/2,f=(r+o)/2;l<f?(o=f,i=f*a):(o=l*a,i=l),s=i*o}return{width:i,height:o}}function ah(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function kx(t,e){const{width:n,height:r}=Ax(t.width,t.height),[i,o]=ah(n,r);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(t,0,0,i.width,i.height),i}function Qc(){return Qc.cachedResult!==void 0||(Qc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Qc.cachedResult}function Ud(t,e={}){return new Promise(function(n,r){let i,o;var s=function(){try{return o=kx(i,e.fileType||t.type),n([i,o])}catch(l){return r(l)}},a=function(l){try{var f=function(u){try{throw u}catch(c){return r(c)}};try{let u;return Ex(t).then(function(c){try{return u=c,Tx(u).then(function(d){try{return i=d,function(){try{return s()}catch(h){return r(h)}}()}catch(h){return f(h)}},f)}catch(d){return f(d)}},f)}catch(u){f(u)}}catch(u){return r(u)}};try{if(Qc()||[lr.DESKTOP_SAFARI,lr.MOBILE_SAFARI].includes(us()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,s()}catch{return a()}},a)}catch{a()}})}function Bd(t,e,n,r,i=1){return new Promise(function(o,s){let a;if(e==="image/png"){let c,d,h;return c=t.getContext("2d"),{data:d}=c.getImageData(0,0,t.width,t.height),h=Mr.encode([d.buffer],t.width,t.height,4096*i),a=new Blob([h],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let c=function(){return l.call(this)};var f=c;if(e==="image/bmp")return new Promise(d=>_x.toBlob(t,d)).then((function(d){try{return a=d,a.name=n,a.lastModified=r,c.call(this)}catch(h){return s(h)}}).bind(this),s);{let d=function(){return c.call(this)};var u=d;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return s(p)}}).bind(this),s);{let h;return h=t.toDataURL(e,i),ky(h,n,r).then((function(p){try{return a=p,d.call(this)}catch(m){return s(m)}}).bind(this),s)}}}function l(){return o(a)}})}function li(t){t.width=0,t.height=0}function na(){return new Promise(function(t,e){let n,r,i,o;return na.cachedResult!==void 0?t(na.cachedResult):ky("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,Ud(n).then(function(a){try{return r=a[1],Bd(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,li(r),Ud(i).then(function(f){try{return o=f[0],na.cachedResult=o.width===1&&o.height===2,t(na.cachedResult)}catch(u){return e(u)}},e)}catch(f){return e(f)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function xx(t){return new Promise((e,n)=>{const r=new wx;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const s=o.byteLength;let a=2;for(;a<s;){if(o.getUint16(a+2,!1)<=8)return e(-1);const l=o.getUint16(a,!1);if(a+=2,l==65505){if(o.getUint32(a+=2,!1)!=1165519206)return e(-1);const f=o.getUint16(a+=6,!1)==18761;a+=o.getUint32(a+4,f);const u=o.getUint16(a,f);a+=2;for(let c=0;c<u;c++)if(o.getUint16(a+12*c,f)==274)return e(o.getUint16(a+12*c+8,f))}else{if((65280&l)!=65280)break;a+=o.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Ix(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let o,s=t;return isFinite(i)&&(n>i||r>i)&&([s,o]=ah(n,r),n>r?(s.width=i,s.height=r/n*i):(s.width=n/r*i,s.height=i),o.drawImage(t,0,0,s.width,s.height),li(t)),s}function Sx(t,e){const{width:n}=t,{height:r}=t,[i,o]=ah(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(t,0,0,n,r),li(t),i}function cb(t,e,n=0){return new Promise(function(r,i){let o,s,a,l,f,u,c,d,h,p,m,y,v,_,b,g,w,k,S,E;function x(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=A,e.onProgress(Math.min(o,100))}function I(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(A,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,a=1024*e.maxSizeMB*1024,x(),Ud(t,e).then((function(A){try{return[,l]=A,x(),f=Ix(l,e),x(),new Promise(function(T,R){var M;if(!(M=e.exifOrientation))return xx(t).then((function(O){try{return M=O,C.call(this)}catch(P){return R(P)}}).bind(this),R);function C(){return T(M)}return C.call(this)}).then((function(T){try{return u=T,x(),na().then((function(R){try{return c=R?f:Sx(f,u),x(),d=e.initialQuality||1,h=e.fileType||t.type,Bd(c,h,t.name,t.lastModified,d).then((function(M){try{{let X=function(){if(s--&&(b>a||b>v)){let U,$;return U=E?.95*S.width:S.width,$=E?.95*S.height:S.height,[w,k]=ah(U,$),k.drawImage(S,0,0,U,$),d*=h==="image/png"?.85:.95,Bd(w,h,t.name,t.lastModified,d).then(function(F){try{return g=F,li(S),S=w,b=g.size,I(Math.min(99,Math.floor((_-b)/(_-a)*100))),X}catch(D){return i(D)}},i)}return[1]},H=function(){return li(S),li(w),li(f),li(c),li(l),I(100),r(g)};var O=X,P=H;if(p=M,x(),m=p.size>a,y=p.size>t.size,!m&&!y)return I(100),r(p);var C;return v=t.size,_=p.size,b=_,S=c,E=!e.alwaysKeepResolution&&m,(C=(function(U){for(;U;){if(U.then)return void U.then(C,i);try{if(U.pop){if(U.length)return U.pop()?H.call(this):U;U=X}else U=U.call(this)}catch($){return i($)}}}).bind(this))(X)}}catch(X){return i(X)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(R){return i(R)}}).bind(this),i)}catch(T){return i(T)}}).bind(this),i)})}const dW=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Wp;function fW(t,e){return new Promise((n,r)=>{Wp||(Wp=function(s){const a=[];return a.push(s),URL.createObjectURL(new Blob(a))}(dW));const i=new Worker(Wp);i.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)i.terminate();else if(s.data.progress===void 0){if(s.data.error)return r(new Error(s.data.error)),void i.terminate();n(s.data.file),i.terminate()}else e.onProgress(s.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function jn(t,e){return new Promise(function(n,r){let i,o,s,a,l,f;if(i={...e},s=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=h=>{s=h,typeof a=="function"&&a(s)},!(t instanceof Blob||t instanceof cW))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||f)return cb(t,i).then((function(h){try{return o=h,d.call(this)}catch(p){return r(p)}}).bind(this),r);var u=(function(){try{return d.call(this)}catch(h){return r(h)}}).bind(this),c=function(h){try{return cb(t,i).then(function(p){try{return o=p,u()}catch(m){return r(m)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",fW(t,i).then(function(h){try{return o=h,u()}catch{return c()}},c)}catch{c()}function d(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(o=yx(t,o))}catch{}return n(o)}})}jn.getDataUrlFromFile=Ex,jn.getFilefromDataUrl=ky,jn.loadImage=Tx,jn.drawImageInCanvas=kx,jn.drawFileInCanvas=Ud,jn.canvasToFile=Bd,jn.getExifOrientation=xx,jn.handleMaxWidthOrHeight=Ix,jn.followExifOrientation=Sx,jn.cleanupCanvasMemory=li,jn.isAutoOrientationInBrowser=na,jn.approximateBelowMaximumCanvasSizeOfBrowser=Ax,jn.copyExifWithoutOrientation=yx,jn.getBrowserName=us,jn.version="2.0.2";const hW={key:0,class:"font-medium text-sm fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},pW={class:"bg-white rounded-lg p-4 max-w-sm w-full"},mW={class:"mt-1"},gW={class:"flex justify-end"},vW={class:"relative bg-white rounded-lg shadow border border-gray-200"},yW={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t"},_W=N("h3",{class:"text-lg font-semibold text-gray-900"},"Yeni Blog Yazs",-1),bW={class:"grid gap-4 mb-4 grid-cols-2"},wW={class:"col-span-2"},EW=N("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900"},"Balk",-1),TW={class:"col-span-2"},AW=N("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900"}," Aklama ",-1),kW={class:"col-span-2"},xW=N("label",{for:"tags",class:"block mb-2 text-sm font-medium text-gray-900"}," Etiketler ",-1),IW={class:"flex flex-wrap items-center border border-gray p-2 rounded-lg"},SW=["onClick"],RW=N("svg",{class:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20"},[N("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.707a1 1 0 00-1.414-1.414L10 8.586 7.707 6.293a1 1 0 10-1.414 1.414L8.586 10l-2.293 2.293a1 1 0 001.414 1.414L10 11.414l2.293 2.293a1 1 0 001.414-1.414L11.414 10l2.293-2.293z","clip-rule":"evenodd"})],-1),OW=[RW],PW=["onKeydown"],CW={class:"mt-2 text-gray-600"},DW={class:"col-span-2 sm:col-span-1"},NW=N("label",{for:"file-input",class:"block mb-2 text-sm font-medium text-gray-900"},"Fotoraf Se",-1),MW={class:"col-span-2 sm:col-span-1"},LW=N("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900"},"Kategori",-1),$W=N("option",{value:"Hukuk"},"Hukuk",-1),VW=N("option",{value:"Haberler"},"Haberler",-1),FW=N("option",{value:"Son Dakika"},"Son Dakika",-1),UW=N("option",{value:"Blog Yazs"},"Blog Yazs",-1),BW=[$W,VW,FW,UW],jW={class:"col-span-2"},qW=N("label",{for:"content",class:"block mb-2 text-sm font-medium text-gray-900"},"Yaz erii",-1),HW={class:"bg-gray-100"},zW=["disabled"],KW=10,WW={__name:"AddBlog",emits:["goBlogManagement","addBlog"],setup(t,{emit:e}){const n=e,r=he(!1),i=he(!1),o=he(["Hukuk","Haber","Ceza Hukuku","TCK"]),s=he(""),a=he(""),l=he(""),f=he(""),u=he("Blog Yazs"),c=he(null),d=he(null),h=he(null),p=()=>{s.value.trim()&&!o.value.includes(s.value.trim())&&(o.value.push(s.value.trim()),s.value="")},m=b=>{o.value.splice(b,1)},y=me(()=>KW-o.value.length),v=async b=>{const g=b.target.files[0];if(g&&g.type==="image/jpeg")try{const k=await jn(g,{maxSizeMB:1,maxWidthOrHeight:1400,useWebWorker:!0,fileType:"image/webp"});d.value=k,h.value=g.name.replace(/\.[^/.]+$/,"")+".webp"}catch(w){console.error("Error compressing the image:",w)}else h.value=null,console.error("Please select a JPEG file.")},_=async()=>{if(r.value=!0,i.value=!0,!d.value){console.error("Please select an image file.");return}const b=tW(),g=eW(b,`images/${h.value}`);try{console.log("Uploading file..."),await JK(g,d.value);const w=await ZK(g);console.log("File uploaded:",w);const k={author:"admin",created_date:new Date,updated_date:new Date,title:a.value,tags:o.value,description:l.value,slug:qj(a.value),image:w,content:f.value,category:u.value};console.log("Adding blog post:",k),n("addBlog",k),a.value="",f.value="",l.value="",u.value="Blog Yazs",d.value=null,h.value=null}catch(w){console.error("Error uploading file or saving blog post:",w)}finally{r.value=!1}};return Tt(()=>{console.log("new date test",new Date)}),(b,g)=>(re(),ce("div",null,[i.value?(re(),ce("div",hW,[N("div",pW,[N("div",mW,[r.value?(re(),je(pu,{key:0,text:"Blog Yazs Ykleniyor..."})):ye("",!0),hn(" "+Ie(r.value?"":"Blog yazs yklendi."),1)]),N("div",gW,[r.value?ye("",!0):(re(),ce("button",{key:0,onClick:g[0]||(g[0]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-2"}," Geri Dn "))])])])):ye("",!0),N("div",vW,[N("div",yW,[_W,N("button",{onClick:g[1]||(g[1]=w=>n("goBlogManagement")),class:"bg-green-600 text-white px-4 py-1 font-medium rounded mb-4"}," Geri Dn ")]),N("form",{onSubmit:Or(_,["prevent"]),class:"p-4 md:p-5"},[N("div",bW,[N("div",wW,[EW,wt(N("input",{"onUpdate:modelValue":g[2]||(g[2]=w=>a.value=w),type:"text",name:"title",id:"title",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs baln girin",required:""},null,512),[[yi,a.value]])]),N("div",TW,[AW,wt(N("textarea",{"onUpdate:modelValue":g[3]||(g[3]=w=>l.value=w),name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Blog yazs aklamasn girin",required:"",rows:"3"},null,512),[[yi,l.value]])]),N("div",kW,[xW,N("div",IW,[(re(!0),ce(Pe,null,Xe(o.value,(w,k)=>(re(),ce("span",{key:k,class:"flex items-center bg-gray-100 text-sm border border-gray-300 hover:bg-gray-300 text-gray-900 px-3 py-1 rounded-full mr-2 mb-2"},[hn(Ie(w)+" ",1),N("button",{onClick:S=>m(k),class:"ml-2 focus:outline-none"},OW,8,SW)]))),128)),wt(N("input",{"onUpdate:modelValue":g[4]||(g[4]=w=>s.value=w),name:"tags",onKeydown:Tw(Or(p,["prevent"]),["enter"]),placeholder:"Yazdktan sonra Enter tuuna basarak etiketi ekleyin.",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"},null,40,PW),[[yi,s.value]])]),N("p",CW,Ie(y.value)+" etiket daha ekleyebilirsiniz. ",1)]),N("div",DW,[NW,N("input",{type:"file",id:"file_input",ref_key:"fileInput",ref:c,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50",accept:"image/jpeg",onChange:v,required:""},null,544)]),N("div",MW,[LW,wt(N("select",{"onUpdate:modelValue":g[5]||(g[5]=w=>u.value=w),id:"category",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5"},BW,512),[[Oo,u.value]])]),N("div",jW,[qW,N("div",HW,[qe(le(ex),{content:f.value,"onUpdate:content":g[6]||(g[6]=w=>f.value=w),contentType:"html",toolbar:"essential",theme:"snow",class:"h-[30rem]",placeholder:"Yaz ierii girin...",required:""},null,8,["content"])])])]),N("button",{type:"submit",disabled:r.value,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-600"}," Blog Yazs Ekle ",8,zW)],32)])]))}},YW={key:0,class:"flex items-center justify-center min-h-screen"},GW={__name:"Blogs",setup(t){const e=he(!1),n=he(!1),r=hu(Fr,"blogs"),i=he([]);function o(p){c(p)}function s(p){d(p)}function a(p){h(p)}function l(p){return p?p.seconds?new Date(p.seconds*1e3).toLocaleDateString("tr-TR"):typeof p=="string"?p:new Date(p).toLocaleDateString("tr-TR"):""}async function f(){let p=[];const m=await Od(r);for(const y of m.docs){let v=y.data();v.id=y.id;const _=hu(Fr,"blogs",y.id,"comments"),b=[];(await Od(_)).docs.forEach(w=>{b.push(w.data())}),v.comments=b,p.push(v)}return p=p.map(y=>({...y,created_date:l(y.created_date),updated_date:l(y.updated_date)})),p}async function u(){try{const p=localStorage.getItem("cachedBlogs"),m=localStorage.getItem("cachedTimeBlogs"),y=30*60*1e3;if(p&&m&&new Date-new Date(parseInt(m))<y)return JSON.parse(p);{const v=await f();return localStorage.setItem("cachedBlogs",JSON.stringify(v)),localStorage.setItem("cachedTimeBlogs",new Date().getTime().toString()),v}}catch(p){return console.error("Error getting blogs with comments:",p),[]}}async function c(p){console.log("Received new blog data:",p);try{const m=await ZL(r,p),y={...p,id:m.id,created_date:l(p.created_date),updated_date:l(p.updated_date)};i.value=[y,...i.value],localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error adding document:",m)}}async function d(p){if(p)try{await JL(xr(Fr,"blogs",p)),i.value=i.value.filter(m=>m.id!==p),localStorage.setItem("cachedBlogs",JSON.stringify(i.value)),console.log(`Blog with ID ${p} deleted successfully.`)}catch(m){console.error("Error deleting blog:",m)}}async function h(p){console.log("Received updated blog data:",p);try{await ea(xr(Fr,"blogs",p.id),p);const m={...p,created_date:l(p.created_date),updated_date:l(p.updated_date)};i.value=i.value.map(y=>y.id===p.id?m:y),localStorage.setItem("cachedBlogs",JSON.stringify(i.value))}catch(m){console.error("Error updating document:",m)}}return Tt(async()=>{let p=await u();p.sort(jj),i.value=p,e.value=!0}),(p,m)=>(re(),ce("div",null,[qe(Kr,{name:"fade"},{default:ze(()=>[e.value&&!n.value?(re(),je(Hz,{key:0,onGoAddBlog:m[0]||(m[0]=y=>n.value=!0),onDeleteBlog:s,onUpdateBlog:a,blogsData:i.value,blogRef:le(r)},null,8,["blogsData","blogRef"])):ye("",!0)]),_:1}),e.value?ye("",!0):(re(),ce("div",YW,[qe(pu,{text:"Blog Yazs Ykleniyor..."})])),qe(Kr,{name:"fade"},{default:ze(()=>[n.value?(re(),je(WW,{key:0,onGoBlogManagement:m[1]||(m[1]=y=>n.value=!1),onAddBlog:o})):ye("",!0)]),_:1})]))}},QW=ei(GW,[["__scopeId","data-v-ae4ad521"]]),XW={__name:"Lawyers",setup(t){return(e,n)=>(re(),ce("h1",null,"Avukatlar"))}},JW={key:0},ZW={key:1},db={__name:"Settings",setup(t){const e=$o(),n=me(()=>e.getters.userRole);return me(()=>e.getters.user?e.getters.user.uid:null),(r,i)=>(re(),ce("div",null,[n.value==="attorney"?(re(),ce("div",JW," avukat ayarlar ")):(re(),ce("div",ZW,"admin ayarlar deitirildi feat-12 test 4 eyll "))]))}},eY={},tY={class:"bg-gray-800"},nY=xg('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">zgnm, bu sayfa mecvut deil.</p><div class="flex justify-center"><a href="/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),rY=[nY];function iY(t,e,n,r,i,o){return re(),ce("section",tY,rY)}const oY=ei(eY,[["render",iY]]),sY={},aY={class:"bg-gray-800"},lY=xg('<div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href="#" class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2" src="https://flowbite.s3.amazonaws.com/blocks/marketing-ui/logo.svg" alt="logo"> Tiryaki Hukuk Admin Panel </a><div class="w-full bg-gray-700 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-4xl font-bold text-center text-white">404 - Page Not Found</h1><p class="text-center text-gray-300">zgnm, bu sayfay grmek iin yetkiniz yok.</p><div class="flex justify-center"><a href="/main/home" class="inline-block w-full px-5 py-2.5 text-sm font-medium text-center text-white bg-gray-600 rounded-lg focus:ring-4"> Ana Sayfa </a></div></div></div></div>',1),uY=[lY];function cY(t,e,n,r,i,o){return re(),ce("section",aY,uY)}const dY=ei(sY,[["render",cY]]),fY=N("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50"},null,-1),hY={class:"fixed inset-0 flex items-center justify-center z-50 w-full h-[calc(100%-1rem)] max-h-full"},pY={class:"relative p-4 w-[30rem] max-h-full"},mY={class:"relative bg-white rounded-lg shadow"},gY={class:"flex items-center justify-between p-4 border-b rounded-t"},vY=N("h3",{class:"text-lg font-semibold text-gray-900"}," Uygun Olmayan Tarih ve Saat Araln Se ",-1),yY=N("svg",{class:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14","aria-hidden":"true"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),_Y=N("span",{class:"sr-only"},"Close modal",-1),bY=[yY,_Y],wY={class:"grid gap-4 mb-4 grid-cols-2"},EY={class:"col-span-2"},TY=N("label",{for:"date",class:"block mb-2 text-sm font-medium text-gray-900"},"Tarih",-1),AY={class:"col-span-1"},kY=N("label",{for:"start-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Balang",-1),xY=["value"],IY={class:"col-span-1"},SY=N("label",{for:"end-time",class:"block mb-2 ml-1 text-sm font-medium text-gray-900"},"Biti",-1),RY=["value"],OY={class:"col-span-2"},PY={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4 mt-4"},CY={class:"flex justify-between items-center mb-3"},DY=N("span",{class:"text-gray-900 text-base font-medium"},"Tekrarla",-1),NY={class:"inline-flex items-center cursor-pointer"},MY=N("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),LY=N("div",{class:"flex items-center"},[N("p",{class:"text-sm text-gray-500 font-normal"}," Eer seiliyse, bu tarih ve saat aral haftalk olarak tekrarlanacaktr. ")],-1),$Y=N("div",{class:"col-span-2"},[N("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ")],-1),VY={__name:"WorkingHoursExceptionModal",emits:["close","save-exception"],setup(t,{emit:e}){const n=he(new Date),r=he("12:00"),i=he("13:00"),o=he(!1),s=e,a=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],l=()=>{const u={date:n.value?Hr(new Date(n.value),"yyyy-MM-dd"):"",startTime:r.value,endTime:i.value,repeat:o.value};s("save-exception",u),s("close")};return(f,u)=>(re(),ce(Pe,null,[fY,N("div",hY,[N("div",pY,[N("div",mY,[N("div",gY,[vY,N("button",{onClick:u[0]||(u[0]=c=>f.$emit("close")),type:"button",class:"text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 flex justify-center items-center"},bY)]),N("form",{onSubmit:Or(l,["prevent"]),class:"p-4"},[N("div",wY,[N("div",EY,[TY,qe(le(qu),{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=c=>n.value=c),name:"date",class:"form-input","enable-time-picker":!1,required:""},null,8,["modelValue"])]),N("div",AY,[kY,wt(N("select",{"onUpdate:modelValue":u[2]||(u[2]=c=>r.value=c),required:"",id:"start-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(re(),ce(Pe,null,Xe(a,c=>N("option",{key:c,value:c},Ie(c),9,xY)),64))],512),[[Oo,r.value]])]),N("div",IY,[SY,wt(N("select",{"onUpdate:modelValue":u[3]||(u[3]=c=>i.value=c),required:"",id:"end-time",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(re(),ce(Pe,null,Xe(a,c=>N("option",{key:c,value:c},Ie(c),9,RY)),64))],512),[[Oo,i.value]])])]),N("div",OY,[N("div",PY,[N("div",CY,[DY,N("label",NY,[wt(N("input",{"onUpdate:modelValue":u[4]||(u[4]=c=>o.value=c),type:"checkbox",class:"sr-only peer"},null,512),[[sa,o.value]]),MY])]),LY])]),$Y],32)])])])],64))}},xy=t=>(Gd("data-v-2eae121c"),t=t(),Qd(),t),FY={key:0,class:"mb-4 mt-4"},UY={class:"flex justify-between items-center"},BY={class:"text-sm font-medium text-gray-900 dark:text-white"},jY={class:"text-sm text-gray-600 dark:text-gray-300"},qY={class:"text-sm text-gray-600 dark:text-gray-300"},HY={key:0,class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 rounded-lg focus:outline-none"},zY=xy(()=>N("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[N("path",{d:"M6 4H21C21.5523 4 22 4.44772 22 5V12H20V6H6V9L1 5L6 1V4ZM18 20H3C2.44772 20 2 19.5523 2 19V12H4V18H18V15L23 19L18 23V20Z"})],-1)),KY=[zY],WY=["onClick"],YY=xy(()=>N("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[N("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1)),GY=[YY],QY=xy(()=>N("svg",{class:"w-4 h-4 me-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1)),XY={__name:"WorkingHoursExceptioner",props:{exceptions:Array},emits:["add-exception","remove-exception"],setup(t,{emit:e}){const n=he(!1),r=e,i=s=>{r("add-exception",s)},o=s=>{r("remove-exception",s)};return(s,a)=>(re(),ce(Pe,null,[t.exceptions.length?(re(),ce("div",FY,[(re(!0),ce(Pe,null,Xe(t.exceptions,(l,f)=>(re(),ce("div",{key:f,class:"p-4 mb-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"},[N("div",UY,[N("div",null,[N("p",BY," Tarih: "+Ie(l.date),1),N("p",jY," Balang: "+Ie(l.startTime),1),N("p",qY," Biti: "+Ie(l.endTime),1)]),N("div",null,[l.repeat?(re(),ce("button",HY,KY)):ye("",!0),N("button",{onClick:u=>o(f),class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 rounded-lg focus:outline-none"},GY,8,WY)])])]))),128))])):ye("",!0),N("button",{onClick:a[0]||(a[0]=l=>n.value=!0),type:"button",class:"inline-flex items-center justify-center w-full py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},[QY,hn(" Ekle ")]),n.value?(re(),je(VY,{key:1,onClose:a[1]||(a[1]=l=>n.value=!1),onSaveException:i})):ye("",!0)],64))}},JY=ei(XY,[["__scopeId","data-v-2eae121c"]]),ZY={class:"max-w-xl mx-auto bg-white"},eG={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-6"},tG={class:"flex justify-between items-center mb-3"},nG=N("span",{class:"text-gray-900 text-base font-medium"},"alma Saatleri",-1),rG={class:"inline-flex items-center cursor-pointer"},iG=N("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),oG=N("span",{class:"sr-only"},"alma Saatleri",-1),sG=N("div",{class:"flex items-center"},[N("p",{class:"text-sm text-gray-500 font-normal"}," Tm haftalk alma gnleri iin i alma saatlerini etkinletir veya devre d brak ")],-1),aG={class:"flex items-center justify-between"},lG={class:"flex items-center"},uG={class:"inline-flex items-center cursor-pointer"},cG=["onUpdate:modelValue","id"],dG=N("div",{class:"relative w-11 h-5 bg-gray-200 rounded-full ring-[0.12rem] peer peer-focus:ring-blue-300 dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-1 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-[1.12rem] after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),fG=N("span",{class:"sr-only"},"alma Saatleri",-1),hG=["for"],pG=["onClick"],mG={xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},gG=["d"],vG={key:0,class:"mt-4"},yG=["onUpdate:modelValue"],_G=["value"],bG=N("span",null,"-",-1),wG=["onUpdate:modelValue"],EG=["value"],TG={key:0,class:"flex items-center"},AG=["onClick"],kG=N("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),xG=[kG],IG=["disabled","onClick"],SG=N("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[N("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),RG=[SG],OG=["onClick"],PG=N("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[N("path",{"fill-rule":"evenodd",d:"M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z","clip-rule":"evenodd"})],-1),CG=[PG],DG=N("button",{type:"submit",class:"text-white w-full bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"}," Kaydet ",-1),NG={__name:"WorkingHoursScheduler",props:{schedule:Object},emits:["save-schedule"],setup(t,{emit:e}){const n=t,r=e,i=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],o=Jr(Array(5).fill(!0));n.schedule.days.forEach((c,d)=>{rn(()=>c.enabled,h=>{h||(o[d]=!0)})});const s=c=>{o[c]=!o[c]},a=c=>{n.schedule.days[c].intervals.push({start:"09:00",end:"17:00"})},l=(c,d)=>{n.schedule.days[c].intervals.splice(d,1)};function f(c){const[d,h]=c.split(":").map(Number);return d*60+h}const u=()=>{const c={isWorkingHoursEnabled:n.schedule.isWorkingHoursEnabled,days:n.schedule.days.map(d=>({name:d.name,enabled:d.enabled,intervals:d.intervals.map(h=>{const p=f(h.start),y=(f(h.end)-p)/60;return{start:h.start,end:h.end,length:y}})}))};r("save-schedule",c)};return(c,d)=>(re(),ce("div",ZY,[N("form",{onSubmit:Or(u,["prevent"])},[N("div",eG,[N("div",tG,[nG,N("label",rG,[wt(N("input",{"onUpdate:modelValue":d[0]||(d[0]=h=>n.schedule.isWorkingHoursEnabled=h),type:"checkbox",class:"sr-only peer"},null,512),[[sa,n.schedule.isWorkingHoursEnabled]]),iG,oG])]),sG]),(re(!0),ce(Pe,null,Xe(t.schedule.days,(h,p)=>(re(),ce("div",{key:p,class:We(["border rounded-lg p-4 mb-4",{"border-gray-300":h.enabled,"opacity-50":!h.enabled}])},[N("div",aG,[N("div",lG,[N("label",uG,[wt(N("input",{"onUpdate:modelValue":m=>h.enabled=m,type:"checkbox",id:`toggle-${h.name}`,class:"sr-only peer"},null,8,cG),[[sa,h.enabled]]),dG,fG]),N("label",{for:`toggle-${h.name}`,class:"ml-2 p-1.5 text-sm font-medium text-gray-900"},Ie(h.name),9,hG)]),h.enabled?(re(),ce("div",{key:0,onClick:m=>s(p),class:"text-gray-500 p-1.5 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},[(re(),ce("svg",mG,[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:o[p]?"M19 9l-7 7-7-7":"M19 15l-7-7-7 7"},null,8,gG)]))],8,pG)):ye("",!0)]),o[p]?ye("",!0):(re(),ce("div",vG,[(re(!0),ce(Pe,null,Xe(h.intervals,(m,y)=>(re(),ce("div",{key:y,class:"flex items-center mb-2"},[wt(N("select",{"onUpdate:modelValue":v=>m.start=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 mr-2"},[(re(),ce(Pe,null,Xe(i,v=>N("option",{key:v,value:v},Ie(v),9,_G)),64))],8,yG),[[Oo,m.start]]),bG,wt(N("select",{"onUpdate:modelValue":v=>m.end=v,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 ml-2"},[(re(),ce(Pe,null,Xe(i,v=>N("option",{key:v,value:v},Ie(v),9,EG)),64))],8,wG),[[Oo,m.end]]),y===h.intervals.length-1?(re(),ce("div",TG,[N("button",{onClick:v=>a(p),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},xG,8,AG),N("button",{disabled:h.intervals.length===1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},RG,8,IG)])):(re(),ce("button",{key:1,onClick:v=>l(p,y),type:"button",class:"inline-flex items-center ml-2 mr-10 p-1.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100"},CG,8,OG))]))),128))]))],2))),128)),DG],32)]))}},MG={class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},LG={class:"bg-white rounded-lg p-6 shadow-lg w-[32rem]"},$G={class:"flex items-center justify-between"},VG=N("div",{class:"flex items-center"},[N("svg",{class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),N("h3",{class:"text-lg font-semibold text-gray-900 ml-2"},"Baaryla Kaydedildi")],-1),FG={class:"pl-4"},UG=N("svg",{class:"w-3 h-3","aria-hidden":"true",fill:"none",viewBox:"0 0 14 14"},[N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),BG=N("span",{class:"sr-only"},"Close modal",-1),jG=[UG,BG],qG={class:"mt-4 text-gray-700"},fb={__name:"SuccessModal",props:{contentText:String},emits:["close"],setup(t,{emit:e}){return(n,r)=>(re(),ce("div",MG,[N("div",LG,[N("div",$G,[VG,N("div",FG,[N("button",{type:"button",onClick:r[0]||(r[0]=i=>n.$emit("close")),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center"},jG)])]),N("p",qG,Ie(t.contentText),1),N("button",{onClick:r[1]||(r[1]=i=>n.$emit("close")),class:"mt-6 bg-green-500 text-white px-4 py-2 rounded-lg w-full"}," OK ")])]))}},HG={key:0},zG={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},KG={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},WG=N("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[N("span",{class:"mb-2"},"Periyodik alma Saatlerini Se")],-1),YG={class:"bg-white rounded-lg border border-gray-200 p-6 shadow-lg"},GG=N("h3",{class:"text-lg font-semibold pb-4 text-gray-900 border-b mb-4 border-gray-300 rounded-t"},[N("span",{class:"mb-2"},"stisnai alma Saatleri")],-1),QG={key:1},XG={__name:"AppointmentSettings",setup(t){const e=$o(),n=he(!1),r=he(!1),i=me(()=>e.getters.userRole),o=me(()=>e.getters.user?e.getters.user.uid:null);he([]);const s=hu(Fr,"attorneys"),a=he([]),l=he([{duration:"",price:"",type:""}]),f=he({isWorkingHoursEnabled:!0,days:[{name:"Pazartesi",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Sal",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"aramba",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Perembe",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]},{name:"Cuma",enabled:!0,intervals:[{start:"08:00",end:"12:00"},{start:"13:30",end:"17:00"}]}]}),u=g=>{a.value.push(g),p(g),console.log("Saved Exception:",a.value)},c=g=>{a.value.splice(g,1),m(g)},d=g=>{f.value=g,y(g),console.log("Saved Schedule:",f.value),n.value=!0},h=g=>{l.value=g,v(),console.log("Saved Appointment Settings:",l.value),r.value=!0};async function p(g){try{const w=xr(s,o.value);await ea(w,{exceptions:t6(g)}),console.log("Exception added successfully")}catch(w){console.error("Error adding exception:",w)}}async function m(g){try{const w=xr(s,o.value),k=[...a.value];k.splice(g,1),await ea(w,{exceptions:k}),a.value=k,console.log("Exception removed successfully")}catch(w){console.error("Error removing exception:",w)}}async function y(g){try{const w=xr(s,o.value);await ea(w,{schedule:g}),console.log("Schedule updated successfully")}catch(w){console.error("Error updating schedule:",w)}}async function v(){try{const g=xr(s,o.value);await ea(g,{appointment_settings:l.value}),console.log("Appointment settings updated successfully")}catch(g){console.error("Error updating appointment settings:",g)}}async function _(){try{const g=await b(o.value);g.schedule&&(f.value=g.schedule),g.exceptions&&(a.value=g.exceptions),g.appointment_settings&&(l.value=g.appointment_settings),console.log("Schedule and exceptions fetched successfully")}catch(g){console.error("Error fetching schedule and exceptions:",g)}}async function b(g){const w=xr(s,g),k=await Rd(w);if(k.exists())return{id:k.id,...k.data()};throw new Error("Attorney not found")}return Tt(()=>{_()}),(g,w)=>i.value==="attorney"?(re(),ce("div",HG,[n.value?(re(),je(fb,{key:0,contentText:"Haftalk alma saatleri deiiklii baaryla kaydedildi. Bu randevu saatleri her hafta iin tekrarlanarak uygulanacaktr.",onClose:w[0]||(w[0]=k=>n.value=!1)})):ye("",!0),r.value?(re(),je(fb,{key:1,contentText:"Randevu seenek ayarlarnz baaryla kaydedildi.",onClose:w[1]||(w[1]=k=>r.value=!1)})):ye("",!0),N("div",zG,[N("div",KG,[WG,qe(NG,{schedule:f.value,onSaveSchedule:d},null,8,["schedule"])]),N("div",YG,[GG,qe(JY,{exceptions:a.value,onAddException:u,onRemoveException:c},null,8,["exceptions"])])]),qe(Pk,{appointmentSettings:l.value,onSaveAppointmentSettings:h},null,8,["appointmentSettings"])])):(re(),ce("div",QG,"admin"))}},JG=[{path:"/",name:"LoginPage",component:g6},{path:"/unauthorized",name:"Unauthorized",component:dY},{path:"/:pathMatch(.*)*",name:"NotFound",component:oY},{path:"/",component:e$,meta:{requiresAuth:!0},children:[{path:"home",name:"Home",component:g1,meta:{requiresAuth:!0}},{path:"home/:uid",name:"HomeWithUID",component:g1,meta:{requiresAuth:!0}},{path:"online-meetings",name:"OnlineMeetings",component:eb,meta:{requiresAuth:!0,role:"admin"}},{path:"online-meetings/:uid",name:"OnlineMeetingsWithUID",component:eb,meta:{requiresAuth:!0}},{path:"blogs",name:"Blogs",component:QW,meta:{requiresAuth:!0,role:"admin"}},{path:"lawyers",name:"Lawyers",component:XW,meta:{requiresAuth:!0,role:"admin"}},{path:"settings",name:"Settings",component:db,meta:{requiresAuth:!0}},{path:"settings/:uid",name:"SettingsWithUID",component:db,meta:{requiresAuth:!0}},{path:"appointment-settings/:uid",name:"AppointmentSettingsWithUID",component:XG,meta:{requiresAuth:!0}}]}],Rx=mO({history:HR(),routes:JG,linkActiveClass:"bg-gray-950 text-white"});Rx.beforeEach(async(t,e,n)=>{if(await Hc.dispatch("initializeAuth"),t.meta.requiresAuth&&!Hc.getters.isAuthenticated)n("/");else if(t.meta.requiresAuth){const r=Hc.getters.userRole;t.meta.role&&t.meta.role!==r?n(r==="attorney"?"/home":"/unauthorized"):n()}else n()});const ZG={};function eQ(t,e){const n=wg("router-view");return re(),je(n)}const tQ=ei(ZG,[["render",eQ]]);rR(tQ).use(Rx).use(Hc).component("VueDatePicker",qu).mount("#app");
